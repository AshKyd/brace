(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var ace = require('brace');
require('brace/mode/coffee');
require('brace/theme/vibrant_ink');

var editor = ace.edit('coffee-editor');
editor.setTheme('ace/theme/vibrant_ink');
editor.getSession().setMode('ace/mode/coffee');
editor.setValue([
    '# Coffee'
  , 'square = (x) -> x * x'
  , ''
  , '# below line has an error which is annotated'
  , 'square = x -> x * '
  ].join('\n')
);
editor.clearSelection();

},{"brace":5,"brace/mode/coffee":6,"brace/theme/vibrant_ink":14}],2:[function(require,module,exports){
var ace = require('brace');
require('brace/mode/javascript');
require('brace/theme/monokai');

var editor = ace.edit('javascript-editor');
editor.getSession().setMode('ace/mode/javascript');
editor.setTheme('ace/theme/monokai');
editor.setValue([
    '// JavaScript'
  , 'var a = 3;'
  , ''
  , '// below line has an error which is annotated'
  , 'var b ='
  ].join('\n')
);
editor.clearSelection();

},{"brace":5,"brace/mode/javascript":7,"brace/theme/monokai":11}],3:[function(require,module,exports){
var ace = require('brace');
require('brace/mode/json');
require('brace/theme/solarized_light');

var editor = ace.edit('json-editor');
editor.getSession().setMode('ace/mode/json');
editor.setTheme('ace/theme/solarized_light');
editor.setValue([
    '{'
  , ' "language": "JSON",'
  , ' "foo": "bar",'
  , ' "trailing": "comma",'
  , '}'
  ].join('\n')
);
editor.clearSelection();

},{"brace":5,"brace/mode/json":8,"brace/theme/solarized_light":13}],4:[function(require,module,exports){
var ace = require('brace');
require('brace/mode/lua');
require('brace/theme/solarized_dark');

var editor = ace.edit('lua-editor');
editor.setTheme('ace/theme/solarized_dark');
editor.getSession().setMode('ace/mode/lua');
editor.setValue([
    '--- Lua'
  , 'for i = 5, 11, 0.5 do'
  , '    print(i)'
  , 'end'
  , '--- error below should be marked'
  , 'for i ='
  ].join('\n')
);
editor.clearSelection();

},{"brace":5,"brace/mode/lua":9,"brace/theme/solarized_dark":12}],5:[function(require,module,exports){
/* ***** BEGIN LICENSE BLOCK *****
 * Distributed under the BSD license:
 *
 * Copyright (c) 2010, Ajax.org B.V.
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *     * Redistributions of source code must retain the above copyright
 *       notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above copyright
 *       notice, this list of conditions and the following disclaimer in the
 *       documentation and/or other materials provided with the distribution.
 *     * Neither the name of Ajax.org B.V. nor the
 *       names of its contributors may be used to endorse or promote products
 *       derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY
 * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * ***** END LICENSE BLOCK ***** */

(function() {

var ACE_NAMESPACE = "ace";

var global = (function() {
    return this;
})();


if (!ACE_NAMESPACE && typeof acequirejs !== "undefined")
    return;


var _define = function(module, deps, payload) {
    if (typeof module !== 'string') {
        if (_define.original)
            _define.original.apply(window, arguments);
        else {
            console.error('dropping module because define wasn\'t a string.');
            console.trace();
        }
        return;
    }

    if (arguments.length == 2)
        payload = deps;

    if (!_define.modules) {
        _define.modules = {};
        _define.payloads = {};
    }
    
    _define.payloads[module] = payload;
    _define.modules[module] = null;
};
var _acequire = function(parentId, module, callback) {
    if (Object.prototype.toString.call(module) === "[object Array]") {
        var params = [];
        for (var i = 0, l = module.length; i < l; ++i) {
            var dep = lookup(parentId, module[i]);
            if (!dep && _acequire.original)
                return _acequire.original.apply(window, arguments);
            params.push(dep);
        }
        if (callback) {
            callback.apply(null, params);
        }
    }
    else if (typeof module === 'string') {
        var payload = lookup(parentId, module);
        if (!payload && _acequire.original)
            return _acequire.original.apply(window, arguments);

        if (callback) {
            callback();
        }

        return payload;
    }
    else {
        if (_acequire.original)
            return _acequire.original.apply(window, arguments);
    }
};

var normalizeModule = function(parentId, moduleName) {
    if (moduleName.indexOf("!") !== -1) {
        var chunks = moduleName.split("!");
        return normalizeModule(parentId, chunks[0]) + "!" + normalizeModule(parentId, chunks[1]);
    }
    if (moduleName.charAt(0) == ".") {
        var base = parentId.split("/").slice(0, -1).join("/");
        moduleName = base + "/" + moduleName;

        while(moduleName.indexOf(".") !== -1 && previous != moduleName) {
            var previous = moduleName;
            moduleName = moduleName.replace(/\/\.\//, "/").replace(/[^\/]+\/\.\.\//, "");
        }
    }

    return moduleName;
};
var lookup = function(parentId, moduleName) {

    moduleName = normalizeModule(parentId, moduleName);

    var module = _define.modules[moduleName];
    if (!module) {
        module = _define.payloads[moduleName];
        if (typeof module === 'function') {
            var exports = {};
            var mod = {
                id: moduleName,
                uri: '',
                exports: exports,
                packaged: true
            };

            var req = function(module, callback) {
                return _acequire(moduleName, module, callback);
            };

            var returnValue = module(req, exports, mod);
            exports = returnValue || mod.exports;
            _define.modules[moduleName] = exports;
            delete _define.payloads[moduleName];
        }
        module = _define.modules[moduleName] = exports || module;
    }
    return module;
};

function exportAce(ns) {
    var acequire = function(module, callback) {
        return _acequire("", module, callback);
    };    

    var root = global;
    if (ns) {
        if (!global[ns])
            global[ns] = {};
        root = global[ns];
    }

    if (!root.define || !root.define.packaged) {
        _define.original = root.define;
        root.define = _define;
        root.define.packaged = true;
    }

    if (!root.acequire || !root.acequire.packaged) {
        _acequire.original = root.acequire;
        root.acequire = acequire;
        root.acequire.packaged = true;
    }
}

exportAce(ACE_NAMESPACE);

})();

ace.define('ace/ace', ["require", 'exports', 'module' , 'ace/lib/fixoldbrowsers', 'ace/lib/dom', 'ace/lib/event', 'ace/editor', 'ace/edit_session', 'ace/undomanager', 'ace/virtual_renderer', 'ace/multi_select', 'ace/worker/worker_client', 'ace/keyboard/hash_handler', 'ace/placeholder', 'ace/mode/folding/fold_mode', 'ace/theme/textmate', 'ace/config'], function(acequire, exports, module) {


acequire("./lib/fixoldbrowsers");

var dom = acequire("./lib/dom");
var event = acequire("./lib/event");

var Editor = acequire("./editor").Editor;
var EditSession = acequire("./edit_session").EditSession;
var UndoManager = acequire("./undomanager").UndoManager;
var Renderer = acequire("./virtual_renderer").VirtualRenderer;
var MultiSelect = acequire("./multi_select").MultiSelect;
acequire("./worker/worker_client");
acequire("./keyboard/hash_handler");
acequire("./placeholder");
acequire("./mode/folding/fold_mode");
acequire("./theme/textmate");

exports.config = acequire("./config");
exports.acequire = acequire;
exports.edit = function(el) {
    if (typeof(el) == "string") {
        var _id = el;
        var el = document.getElementById(_id);
        if (!el)
            throw "ace.edit can't find div #" + _id;
    }

    if (el.env && el.env.editor instanceof Editor)
        return el.env.editor;

    var doc = exports.createEditSession(dom.getInnerText(el));
    el.innerHTML = '';

    var editor = new Editor(new Renderer(el));
    new MultiSelect(editor);
    editor.setSession(doc);

    var env = {
        document: doc,
        editor: editor,
        onResize: editor.resize.bind(editor, null)
    };
    event.addListener(window, "resize", env.onResize);
    editor.on("destroy", function() {
        event.removeListener(window, "resize", env.onResize);
    });
    el.env = editor.env = env;
    return editor;
};
exports.createEditSession = function(text, mode) {
    var doc = new EditSession(text, mode);
    doc.setUndoManager(new UndoManager());
    return doc;
}
exports.EditSession = EditSession;
exports.UndoManager = UndoManager;
});

ace.define('ace/lib/fixoldbrowsers', ["require", 'exports', 'module' , 'ace/lib/regexp', 'ace/lib/es5-shim'], function(acequire, exports, module) {


acequire("./regexp");
acequire("./es5-shim");

});
 
ace.define('ace/lib/regexp', ["require", 'exports', 'module' ], function(acequire, exports, module) {

    var real = {
            exec: RegExp.prototype.exec,
            test: RegExp.prototype.test,
            match: String.prototype.match,
            replace: String.prototype.replace,
            split: String.prototype.split
        },
        compliantExecNpcg = real.exec.call(/()??/, "")[1] === undefined, // check `exec` handling of nonparticipating capturing groups
        compliantLastIndexIncrement = function () {
            var x = /^/g;
            real.test.call(x, "");
            return !x.lastIndex;
        }();

    if (compliantLastIndexIncrement && compliantExecNpcg)
        return;
    RegExp.prototype.exec = function (str) {
        var match = real.exec.apply(this, arguments),
            name, r2;
        if ( typeof(str) == 'string' && match) {
            if (!compliantExecNpcg && match.length > 1 && indexOf(match, "") > -1) {
                r2 = RegExp(this.source, real.replace.call(getNativeFlags(this), "g", ""));
                real.replace.call(str.slice(match.index), r2, function () {
                    for (var i = 1; i < arguments.length - 2; i++) {
                        if (arguments[i] === undefined)
                            match[i] = undefined;
                    }
                });
            }
            if (this._xregexp && this._xregexp.captureNames) {
                for (var i = 1; i < match.length; i++) {
                    name = this._xregexp.captureNames[i - 1];
                    if (name)
                       match[name] = match[i];
                }
            }
            if (!compliantLastIndexIncrement && this.global && !match[0].length && (this.lastIndex > match.index))
                this.lastIndex--;
        }
        return match;
    };
    if (!compliantLastIndexIncrement) {
        RegExp.prototype.test = function (str) {
            var match = real.exec.call(this, str);
            if (match && this.global && !match[0].length && (this.lastIndex > match.index))
                this.lastIndex--;
            return !!match;
        };
    }

    function getNativeFlags (regex) {
        return (regex.global     ? "g" : "") +
               (regex.ignoreCase ? "i" : "") +
               (regex.multiline  ? "m" : "") +
               (regex.extended   ? "x" : "") + // Proposed for ES4; included in AS3
               (regex.sticky     ? "y" : "");
    }

    function indexOf (array, item, from) {
        if (Array.prototype.indexOf) // Use the native array method if available
            return array.indexOf(item, from);
        for (var i = from || 0; i < array.length; i++) {
            if (array[i] === item)
                return i;
        }
        return -1;
    }

});

ace.define('ace/lib/es5-shim', ["require", 'exports', 'module' ], function(acequire, exports, module) {

function Empty() {}

if (!Function.prototype.bind) {
    Function.prototype.bind = function bind(that) { // .length is 1
        var target = this;
        if (typeof target != "function") {
            throw new TypeError("Function.prototype.bind called on incompatible " + target);
        }
        var args = slice.call(arguments, 1); // for normal call
        var bound = function () {

            if (this instanceof bound) {

                var result = target.apply(
                    this,
                    args.concat(slice.call(arguments))
                );
                if (Object(result) === result) {
                    return result;
                }
                return this;

            } else {
                return target.apply(
                    that,
                    args.concat(slice.call(arguments))
                );

            }

        };
        if(target.prototype) {
            Empty.prototype = target.prototype;
            bound.prototype = new Empty();
            Empty.prototype = null;
        }
        return bound;
    };
}
var call = Function.prototype.call;
var prototypeOfArray = Array.prototype;
var prototypeOfObject = Object.prototype;
var slice = prototypeOfArray.slice;
var _toString = call.bind(prototypeOfObject.toString);
var owns = call.bind(prototypeOfObject.hasOwnProperty);
var defineGetter;
var defineSetter;
var lookupGetter;
var lookupSetter;
var supportsAccessors;
if ((supportsAccessors = owns(prototypeOfObject, "__defineGetter__"))) {
    defineGetter = call.bind(prototypeOfObject.__defineGetter__);
    defineSetter = call.bind(prototypeOfObject.__defineSetter__);
    lookupGetter = call.bind(prototypeOfObject.__lookupGetter__);
    lookupSetter = call.bind(prototypeOfObject.__lookupSetter__);
}
if ([1,2].splice(0).length != 2) {
    if(function() { // test IE < 9 to splice bug - see issue #138
        function makeArray(l) {
            var a = new Array(l+2);
            a[0] = a[1] = 0;
            return a;
        }
        var array = [], lengthBefore;
        
        array.splice.apply(array, makeArray(20));
        array.splice.apply(array, makeArray(26));

        lengthBefore = array.length; //46
        array.splice(5, 0, "XXX"); // add one element

        lengthBefore + 1 == array.length

        if (lengthBefore + 1 == array.length) {
            return true;// has right splice implementation without bugs
        }
    }()) {//IE 6/7
        var array_splice = Array.prototype.splice;
        Array.prototype.splice = function(start, deleteCount) {
            if (!arguments.length) {
                return [];
            } else {
                return array_splice.apply(this, [
                    start === void 0 ? 0 : start,
                    deleteCount === void 0 ? (this.length - start) : deleteCount
                ].concat(slice.call(arguments, 2)))
            }
        };
    } else {//IE8
        Array.prototype.splice = function(pos, removeCount){
            var length = this.length;
            if (pos > 0) {
                if (pos > length)
                    pos = length;
            } else if (pos == void 0) {
                pos = 0;
            } else if (pos < 0) {
                pos = Math.max(length + pos, 0);
            }

            if (!(pos+removeCount < length))
                removeCount = length - pos;

            var removed = this.slice(pos, pos+removeCount);
            var insert = slice.call(arguments, 2);
            var add = insert.length;            
            if (pos === length) {
                if (add) {
                    this.push.apply(this, insert);
                }
            } else {
                var remove = Math.min(removeCount, length - pos);
                var tailOldPos = pos + remove;
                var tailNewPos = tailOldPos + add - remove;
                var tailCount = length - tailOldPos;
                var lengthAfterRemove = length - remove;

                if (tailNewPos < tailOldPos) { // case A
                    for (var i = 0; i < tailCount; ++i) {
                        this[tailNewPos+i] = this[tailOldPos+i];
                    }
                } else if (tailNewPos > tailOldPos) { // case B
                    for (i = tailCount; i--; ) {
                        this[tailNewPos+i] = this[tailOldPos+i];
                    }
                } // else, add == remove (nothing to do)

                if (add && pos === lengthAfterRemove) {
                    this.length = lengthAfterRemove; // truncate array
                    this.push.apply(this, insert);
                } else {
                    this.length = lengthAfterRemove + add; // reserves space
                    for (i = 0; i < add; ++i) {
                        this[pos+i] = insert[i];
                    }
                }
            }
            return removed;
        };
    }
}
if (!Array.isArray) {
    Array.isArray = function isArray(obj) {
        return _toString(obj) == "[object Array]";
    };
}
var boxedString = Object("a"),
    splitString = boxedString[0] != "a" || !(0 in boxedString);

if (!Array.prototype.forEach) {
    Array.prototype.forEach = function forEach(fun /*, thisp*/) {
        var object = toObject(this),
            self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                object,
            thisp = arguments[1],
            i = -1,
            length = self.length >>> 0;
        if (_toString(fun) != "[object Function]") {
            throw new TypeError(); // TODO message
        }

        while (++i < length) {
            if (i in self) {
                fun.call(thisp, self[i], i, object);
            }
        }
    };
}
if (!Array.prototype.map) {
    Array.prototype.map = function map(fun /*, thisp*/) {
        var object = toObject(this),
            self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                object,
            length = self.length >>> 0,
            result = Array(length),
            thisp = arguments[1];
        if (_toString(fun) != "[object Function]") {
            throw new TypeError(fun + " is not a function");
        }

        for (var i = 0; i < length; i++) {
            if (i in self)
                result[i] = fun.call(thisp, self[i], i, object);
        }
        return result;
    };
}
if (!Array.prototype.filter) {
    Array.prototype.filter = function filter(fun /*, thisp */) {
        var object = toObject(this),
            self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                    object,
            length = self.length >>> 0,
            result = [],
            value,
            thisp = arguments[1];
        if (_toString(fun) != "[object Function]") {
            throw new TypeError(fun + " is not a function");
        }

        for (var i = 0; i < length; i++) {
            if (i in self) {
                value = self[i];
                if (fun.call(thisp, value, i, object)) {
                    result.push(value);
                }
            }
        }
        return result;
    };
}
if (!Array.prototype.every) {
    Array.prototype.every = function every(fun /*, thisp */) {
        var object = toObject(this),
            self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                object,
            length = self.length >>> 0,
            thisp = arguments[1];
        if (_toString(fun) != "[object Function]") {
            throw new TypeError(fun + " is not a function");
        }

        for (var i = 0; i < length; i++) {
            if (i in self && !fun.call(thisp, self[i], i, object)) {
                return false;
            }
        }
        return true;
    };
}
if (!Array.prototype.some) {
    Array.prototype.some = function some(fun /*, thisp */) {
        var object = toObject(this),
            self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                object,
            length = self.length >>> 0,
            thisp = arguments[1];
        if (_toString(fun) != "[object Function]") {
            throw new TypeError(fun + " is not a function");
        }

        for (var i = 0; i < length; i++) {
            if (i in self && fun.call(thisp, self[i], i, object)) {
                return true;
            }
        }
        return false;
    };
}
if (!Array.prototype.reduce) {
    Array.prototype.reduce = function reduce(fun /*, initial*/) {
        var object = toObject(this),
            self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                object,
            length = self.length >>> 0;
        if (_toString(fun) != "[object Function]") {
            throw new TypeError(fun + " is not a function");
        }
        if (!length && arguments.length == 1) {
            throw new TypeError("reduce of empty array with no initial value");
        }

        var i = 0;
        var result;
        if (arguments.length >= 2) {
            result = arguments[1];
        } else {
            do {
                if (i in self) {
                    result = self[i++];
                    break;
                }
                if (++i >= length) {
                    throw new TypeError("reduce of empty array with no initial value");
                }
            } while (true);
        }

        for (; i < length; i++) {
            if (i in self) {
                result = fun.call(void 0, result, self[i], i, object);
            }
        }

        return result;
    };
}
if (!Array.prototype.reduceRight) {
    Array.prototype.reduceRight = function reduceRight(fun /*, initial*/) {
        var object = toObject(this),
            self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                object,
            length = self.length >>> 0;
        if (_toString(fun) != "[object Function]") {
            throw new TypeError(fun + " is not a function");
        }
        if (!length && arguments.length == 1) {
            throw new TypeError("reduceRight of empty array with no initial value");
        }

        var result, i = length - 1;
        if (arguments.length >= 2) {
            result = arguments[1];
        } else {
            do {
                if (i in self) {
                    result = self[i--];
                    break;
                }
                if (--i < 0) {
                    throw new TypeError("reduceRight of empty array with no initial value");
                }
            } while (true);
        }

        do {
            if (i in this) {
                result = fun.call(void 0, result, self[i], i, object);
            }
        } while (i--);

        return result;
    };
}
if (!Array.prototype.indexOf || ([0, 1].indexOf(1, 2) != -1)) {
    Array.prototype.indexOf = function indexOf(sought /*, fromIndex */ ) {
        var self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                toObject(this),
            length = self.length >>> 0;

        if (!length) {
            return -1;
        }

        var i = 0;
        if (arguments.length > 1) {
            i = toInteger(arguments[1]);
        }
        i = i >= 0 ? i : Math.max(0, length + i);
        for (; i < length; i++) {
            if (i in self && self[i] === sought) {
                return i;
            }
        }
        return -1;
    };
}
if (!Array.prototype.lastIndexOf || ([0, 1].lastIndexOf(0, -3) != -1)) {
    Array.prototype.lastIndexOf = function lastIndexOf(sought /*, fromIndex */) {
        var self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                toObject(this),
            length = self.length >>> 0;

        if (!length) {
            return -1;
        }
        var i = length - 1;
        if (arguments.length > 1) {
            i = Math.min(i, toInteger(arguments[1]));
        }
        i = i >= 0 ? i : length - Math.abs(i);
        for (; i >= 0; i--) {
            if (i in self && sought === self[i]) {
                return i;
            }
        }
        return -1;
    };
}
if (!Object.getPrototypeOf) {
    Object.getPrototypeOf = function getPrototypeOf(object) {
        return object.__proto__ || (
            object.constructor ?
            object.constructor.prototype :
            prototypeOfObject
        );
    };
}
if (!Object.getOwnPropertyDescriptor) {
    var ERR_NON_OBJECT = "Object.getOwnPropertyDescriptor called on a " +
                         "non-object: ";
    Object.getOwnPropertyDescriptor = function getOwnPropertyDescriptor(object, property) {
        if ((typeof object != "object" && typeof object != "function") || object === null)
            throw new TypeError(ERR_NON_OBJECT + object);
        if (!owns(object, property))
            return;

        var descriptor, getter, setter;
        descriptor =  { enumerable: true, configurable: true };
        if (supportsAccessors) {
            var prototype = object.__proto__;
            object.__proto__ = prototypeOfObject;

            var getter = lookupGetter(object, property);
            var setter = lookupSetter(object, property);
            object.__proto__ = prototype;

            if (getter || setter) {
                if (getter) descriptor.get = getter;
                if (setter) descriptor.set = setter;
                return descriptor;
            }
        }
        descriptor.value = object[property];
        return descriptor;
    };
}
if (!Object.getOwnPropertyNames) {
    Object.getOwnPropertyNames = function getOwnPropertyNames(object) {
        return Object.keys(object);
    };
}
if (!Object.create) {
    var createEmpty;
    if (Object.prototype.__proto__ === null) {
        createEmpty = function () {
            return { "__proto__": null };
        };
    } else {
        createEmpty = function () {
            var empty = {};
            for (var i in empty)
                empty[i] = null;
            empty.constructor =
            empty.hasOwnProperty =
            empty.propertyIsEnumerable =
            empty.isPrototypeOf =
            empty.toLocaleString =
            empty.toString =
            empty.valueOf =
            empty.__proto__ = null;
            return empty;
        }
    }

    Object.create = function create(prototype, properties) {
        var object;
        if (prototype === null) {
            object = createEmpty();
        } else {
            if (typeof prototype != "object")
                throw new TypeError("typeof prototype["+(typeof prototype)+"] != 'object'");
            var Type = function () {};
            Type.prototype = prototype;
            object = new Type();
            object.__proto__ = prototype;
        }
        if (properties !== void 0)
            Object.defineProperties(object, properties);
        return object;
    };
}

function doesDefinePropertyWork(object) {
    try {
        Object.defineProperty(object, "sentinel", {});
        return "sentinel" in object;
    } catch (exception) {
    }
}
if (Object.defineProperty) {
    var definePropertyWorksOnObject = doesDefinePropertyWork({});
    var definePropertyWorksOnDom = typeof document == "undefined" ||
        doesDefinePropertyWork(document.createElement("div"));
    if (!definePropertyWorksOnObject || !definePropertyWorksOnDom) {
        var definePropertyFallback = Object.defineProperty;
    }
}

if (!Object.defineProperty || definePropertyFallback) {
    var ERR_NON_OBJECT_DESCRIPTOR = "Property description must be an object: ";
    var ERR_NON_OBJECT_TARGET = "Object.defineProperty called on non-object: "
    var ERR_ACCESSORS_NOT_SUPPORTED = "getters & setters can not be defined " +
                                      "on this javascript engine";

    Object.defineProperty = function defineProperty(object, property, descriptor) {
        if ((typeof object != "object" && typeof object != "function") || object === null)
            throw new TypeError(ERR_NON_OBJECT_TARGET + object);
        if ((typeof descriptor != "object" && typeof descriptor != "function") || descriptor === null)
            throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);
        if (definePropertyFallback) {
            try {
                return definePropertyFallback.call(Object, object, property, descriptor);
            } catch (exception) {
            }
        }
        if (owns(descriptor, "value")) {

            if (supportsAccessors && (lookupGetter(object, property) ||
                                      lookupSetter(object, property)))
            {
                var prototype = object.__proto__;
                object.__proto__ = prototypeOfObject;
                delete object[property];
                object[property] = descriptor.value;
                object.__proto__ = prototype;
            } else {
                object[property] = descriptor.value;
            }
        } else {
            if (!supportsAccessors)
                throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);
            if (owns(descriptor, "get"))
                defineGetter(object, property, descriptor.get);
            if (owns(descriptor, "set"))
                defineSetter(object, property, descriptor.set);
        }

        return object;
    };
}
if (!Object.defineProperties) {
    Object.defineProperties = function defineProperties(object, properties) {
        for (var property in properties) {
            if (owns(properties, property))
                Object.defineProperty(object, property, properties[property]);
        }
        return object;
    };
}
if (!Object.seal) {
    Object.seal = function seal(object) {
        return object;
    };
}
if (!Object.freeze) {
    Object.freeze = function freeze(object) {
        return object;
    };
}
try {
    Object.freeze(function () {});
} catch (exception) {
    Object.freeze = (function freeze(freezeObject) {
        return function freeze(object) {
            if (typeof object == "function") {
                return object;
            } else {
                return freezeObject(object);
            }
        };
    })(Object.freeze);
}
if (!Object.preventExtensions) {
    Object.preventExtensions = function preventExtensions(object) {
        return object;
    };
}
if (!Object.isSealed) {
    Object.isSealed = function isSealed(object) {
        return false;
    };
}
if (!Object.isFrozen) {
    Object.isFrozen = function isFrozen(object) {
        return false;
    };
}
if (!Object.isExtensible) {
    Object.isExtensible = function isExtensible(object) {
        if (Object(object) === object) {
            throw new TypeError(); // TODO message
        }
        var name = '';
        while (owns(object, name)) {
            name += '?';
        }
        object[name] = true;
        var returnValue = owns(object, name);
        delete object[name];
        return returnValue;
    };
}
if (!Object.keys) {
    var hasDontEnumBug = true,
        dontEnums = [
            "toString",
            "toLocaleString",
            "valueOf",
            "hasOwnProperty",
            "isPrototypeOf",
            "propertyIsEnumerable",
            "constructor"
        ],
        dontEnumsLength = dontEnums.length;

    for (var key in {"toString": null}) {
        hasDontEnumBug = false;
    }

    Object.keys = function keys(object) {

        if (
            (typeof object != "object" && typeof object != "function") ||
            object === null
        ) {
            throw new TypeError("Object.keys called on a non-object");
        }

        var keys = [];
        for (var name in object) {
            if (owns(object, name)) {
                keys.push(name);
            }
        }

        if (hasDontEnumBug) {
            for (var i = 0, ii = dontEnumsLength; i < ii; i++) {
                var dontEnum = dontEnums[i];
                if (owns(object, dontEnum)) {
                    keys.push(dontEnum);
                }
            }
        }
        return keys;
    };

}
if (!Date.now) {
    Date.now = function now() {
        return new Date().getTime();
    };
}
var ws = "\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003" +
    "\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028" +
    "\u2029\uFEFF";
if (!String.prototype.trim || ws.trim()) {
    ws = "[" + ws + "]";
    var trimBeginRegexp = new RegExp("^" + ws + ws + "*"),
        trimEndRegexp = new RegExp(ws + ws + "*$");
    String.prototype.trim = function trim() {
        return String(this).replace(trimBeginRegexp, "").replace(trimEndRegexp, "");
    };
}

function toInteger(n) {
    n = +n;
    if (n !== n) { // isNaN
        n = 0;
    } else if (n !== 0 && n !== (1/0) && n !== -(1/0)) {
        n = (n > 0 || -1) * Math.floor(Math.abs(n));
    }
    return n;
}

function isPrimitive(input) {
    var type = typeof input;
    return (
        input === null ||
        type === "undefined" ||
        type === "boolean" ||
        type === "number" ||
        type === "string"
    );
}

function toPrimitive(input) {
    var val, valueOf, toString;
    if (isPrimitive(input)) {
        return input;
    }
    valueOf = input.valueOf;
    if (typeof valueOf === "function") {
        val = valueOf.call(input);
        if (isPrimitive(val)) {
            return val;
        }
    }
    toString = input.toString;
    if (typeof toString === "function") {
        val = toString.call(input);
        if (isPrimitive(val)) {
            return val;
        }
    }
    throw new TypeError();
}
var toObject = function (o) {
    if (o == null) { // this matches both null and undefined
        throw new TypeError("can't convert "+o+" to object");
    }
    return Object(o);
};

});

ace.define('ace/lib/dom', ["require", 'exports', 'module' ], function(acequire, exports, module) {


if (typeof document == "undefined")
    return;

var XHTML_NS = "http://www.w3.org/1999/xhtml";

exports.getDocumentHead = function(doc) {
    if (!doc)
        doc = document;
    return doc.head || doc.getElementsByTagName("head")[0] || doc.documentElement;
}

exports.createElement = function(tag, ns) {
    return document.createElementNS ?
           document.createElementNS(ns || XHTML_NS, tag) :
           document.createElement(tag);
};

exports.hasCssClass = function(el, name) {
    var classes = el.className.split(/\s+/g);
    return classes.indexOf(name) !== -1;
};
exports.addCssClass = function(el, name) {
    if (!exports.hasCssClass(el, name)) {
        el.className += " " + name;
    }
};
exports.removeCssClass = function(el, name) {
    var classes = el.className.split(/\s+/g);
    while (true) {
        var index = classes.indexOf(name);
        if (index == -1) {
            break;
        }
        classes.splice(index, 1);
    }
    el.className = classes.join(" ");
};

exports.toggleCssClass = function(el, name) {
    var classes = el.className.split(/\s+/g), add = true;
    while (true) {
        var index = classes.indexOf(name);
        if (index == -1) {
            break;
        }
        add = false;
        classes.splice(index, 1);
    }
    if(add)
        classes.push(name);

    el.className = classes.join(" ");
    return add;
};
exports.setCssClass = function(node, className, include) {
    if (include) {
        exports.addCssClass(node, className);
    } else {
        exports.removeCssClass(node, className);
    }
};

exports.hasCssString = function(id, doc) {
    var index = 0, sheets;
    doc = doc || document;

    if (doc.createStyleSheet && (sheets = doc.styleSheets)) {
        while (index < sheets.length)
            if (sheets[index++].owningElement.id === id) return true;
    } else if ((sheets = doc.getElementsByTagName("style"))) {
        while (index < sheets.length)
            if (sheets[index++].id === id) return true;
    }

    return false;
};

exports.importCssString = function importCssString(cssText, id, doc) {
    doc = doc || document;
    if (id && exports.hasCssString(id, doc))
        return null;
    
    var style;
    
    if (doc.createStyleSheet) {
        style = doc.createStyleSheet();
        style.cssText = cssText;
        if (id)
            style.owningElement.id = id;
    } else {
        style = doc.createElementNS
            ? doc.createElementNS(XHTML_NS, "style")
            : doc.createElement("style");

        style.appendChild(doc.createTextNode(cssText));
        if (id)
            style.id = id;

        exports.getDocumentHead(doc).appendChild(style);
    }
};

exports.importCssStylsheet = function(uri, doc) {
    if (doc.createStyleSheet) {
        doc.createStyleSheet(uri);
    } else {
        var link = exports.createElement('link');
        link.rel = 'stylesheet';
        link.href = uri;

        exports.getDocumentHead(doc).appendChild(link);
    }
};

exports.getInnerWidth = function(element) {
    return (
        parseInt(exports.computedStyle(element, "paddingLeft"), 10) +
        parseInt(exports.computedStyle(element, "paddingRight"), 10) + 
        element.clientWidth
    );
};

exports.getInnerHeight = function(element) {
    return (
        parseInt(exports.computedStyle(element, "paddingTop"), 10) +
        parseInt(exports.computedStyle(element, "paddingBottom"), 10) +
        element.clientHeight
    );
};

if (window.pageYOffset !== undefined) {
    exports.getPageScrollTop = function() {
        return window.pageYOffset;
    };

    exports.getPageScrollLeft = function() {
        return window.pageXOffset;
    };
}
else {
    exports.getPageScrollTop = function() {
        return document.body.scrollTop;
    };

    exports.getPageScrollLeft = function() {
        return document.body.scrollLeft;
    };
}

if (window.getComputedStyle)
    exports.computedStyle = function(element, style) {
        if (style)
            return (window.getComputedStyle(element, "") || {})[style] || "";
        return window.getComputedStyle(element, "") || {};
    };
else
    exports.computedStyle = function(element, style) {
        if (style)
            return element.currentStyle[style];
        return element.currentStyle;
    };

exports.scrollbarWidth = function(document) {
    var inner = exports.createElement("ace_inner");
    inner.style.width = "100%";
    inner.style.minWidth = "0px";
    inner.style.height = "200px";
    inner.style.display = "block";

    var outer = exports.createElement("ace_outer");
    var style = outer.style;

    style.position = "absolute";
    style.left = "-10000px";
    style.overflow = "hidden";
    style.width = "200px";
    style.minWidth = "0px";
    style.height = "150px";
    style.display = "block";

    outer.appendChild(inner);

    var body = document.documentElement;
    body.appendChild(outer);

    var noScrollbar = inner.offsetWidth;

    style.overflow = "scroll";
    var withScrollbar = inner.offsetWidth;

    if (noScrollbar == withScrollbar) {
        withScrollbar = outer.clientWidth;
    }

    body.removeChild(outer);

    return noScrollbar-withScrollbar;
};
exports.setInnerHtml = function(el, innerHtml) {
    var element = el.cloneNode(false);//document.createElement("div");
    element.innerHTML = innerHtml;
    el.parentNode.replaceChild(element, el);
    return element;
};

if ("textContent" in document.documentElement) {
    exports.setInnerText = function(el, innerText) {
        el.textContent = innerText;
    };

    exports.getInnerText = function(el) {
        return el.textContent;
    };
}
else {
    exports.setInnerText = function(el, innerText) {
        el.innerText = innerText;
    };

    exports.getInnerText = function(el) {
        return el.innerText;
    };
}

exports.getParentWindow = function(document) {
    return document.defaultView || document.parentWindow;
};

});

ace.define('ace/lib/event', ["require", 'exports', 'module' , 'ace/lib/keys', 'ace/lib/useragent', 'ace/lib/dom'], function(acequire, exports, module) {


var keys = acequire("./keys");
var useragent = acequire("./useragent");
var dom = acequire("./dom");

exports.addListener = function(elem, type, callback) {
    if (elem.addEventListener) {
        return elem.addEventListener(type, callback, false);
    }
    if (elem.attachEvent) {
        var wrapper = function() {
            callback(window.event);
        };
        callback._wrapper = wrapper;
        elem.attachEvent("on" + type, wrapper);
    }
};

exports.removeListener = function(elem, type, callback) {
    if (elem.removeEventListener) {
        return elem.removeEventListener(type, callback, false);
    }
    if (elem.detachEvent) {
        elem.detachEvent("on" + type, callback._wrapper || callback);
    }
};
exports.stopEvent = function(e) {
    exports.stopPropagation(e);
    exports.preventDefault(e);
    return false;
};

exports.stopPropagation = function(e) {
    if (e.stopPropagation)
        e.stopPropagation();
    else
        e.cancelBubble = true;
};

exports.preventDefault = function(e) {
    if (e.preventDefault)
        e.preventDefault();
    else
        e.returnValue = false;
};
exports.getButton = function(e) {
    if (e.type == "dblclick")
        return 0;
    if (e.type == "contextmenu" || (e.ctrlKey && useragent.isMac))
        return 2;
    if (e.preventDefault) {
        return e.button;
    }
    else {
        return {1:0, 2:2, 4:1}[e.button];
    }
};

if (document.documentElement.setCapture) {
    exports.capture = function(el, eventHandler, releaseCaptureHandler) {
        var called = false;
        function onReleaseCapture(e) {
            eventHandler(e);

            if (!called) {
                called = true;
                releaseCaptureHandler(e);
            }

            exports.removeListener(el, "mousemove", eventHandler);
            exports.removeListener(el, "mouseup", onReleaseCapture);
            exports.removeListener(el, "losecapture", onReleaseCapture);

            el.releaseCapture();
        }

        exports.addListener(el, "mousemove", eventHandler);
        exports.addListener(el, "mouseup", onReleaseCapture);
        exports.addListener(el, "losecapture", onReleaseCapture);
        el.setCapture();
    };
}
else {
    exports.capture = function(el, eventHandler, releaseCaptureHandler) {
        function onMouseUp(e) {
            eventHandler && eventHandler(e);
            releaseCaptureHandler && releaseCaptureHandler(e);

            document.removeEventListener("mousemove", eventHandler, true);
            document.removeEventListener("mouseup", onMouseUp, true);

            e.stopPropagation();
        }

        document.addEventListener("mousemove", eventHandler, true);
        document.addEventListener("mouseup", onMouseUp, true);
    };
}

exports.addMouseWheelListener = function(el, callback) {
    var factor = 8;
    var listener = function(e) {
        if (e.wheelDelta !== undefined) {
            if (e.wheelDeltaX !== undefined) {
                e.wheelX = -e.wheelDeltaX / factor;
                e.wheelY = -e.wheelDeltaY / factor;
            } else {
                e.wheelX = 0;
                e.wheelY = -e.wheelDelta / factor;
            }
        }
        else {
            if (e.axis && e.axis == e.HORIZONTAL_AXIS) {
                e.wheelX = (e.detail || 0) * 5;
                e.wheelY = 0;
            } else {
                e.wheelX = 0;
                e.wheelY = (e.detail || 0) * 5;
            }
        }
        callback(e);
    };
    exports.addListener(el, "DOMMouseScroll", listener);
    exports.addListener(el, "mousewheel", listener);
};

exports.addMultiMouseDownListener = function(el, timeouts, eventHandler, callbackName) {
    var clicks = 0;
    var startX, startY, timer;
    var eventNames = {
        2: "dblclick",
        3: "tripleclick",
        4: "quadclick"
    };

    exports.addListener(el, "mousedown", function(e) {
        if (exports.getButton(e) != 0) {
            clicks = 0;
        } else {
            var isNewClick = Math.abs(e.clientX - startX) > 5 || Math.abs(e.clientY - startY) > 5;

            if (!timer || isNewClick)
                clicks = 0;

            clicks += 1;

            if (timer)
                clearTimeout(timer)
            timer = setTimeout(function() {timer = null}, timeouts[clicks - 1] || 600);
        }
        if (clicks == 1) {
            startX = e.clientX;
            startY = e.clientY;
        }

        eventHandler[callbackName]("mousedown", e);

        if (clicks > 4)
            clicks = 0;
        else if (clicks > 1)
            return eventHandler[callbackName](eventNames[clicks], e);
    });

    if (useragent.isOldIE) {
        exports.addListener(el, "dblclick", function(e) {
            clicks = 2;
            if (timer)
                clearTimeout(timer);
            timer = setTimeout(function() {timer = null}, timeouts[clicks - 1] || 600);
            eventHandler[callbackName]("mousedown", e);
            eventHandler[callbackName](eventNames[clicks], e);
        });
    }
};

function normalizeCommandKeys(callback, e, keyCode) {
    var hashId = 0;
    if ((useragent.isOpera && !("KeyboardEvent" in window)) && useragent.isMac) {
        hashId = 0 | (e.metaKey ? 1 : 0) | (e.altKey ? 2 : 0)
            | (e.shiftKey ? 4 : 0) | (e.ctrlKey ? 8 : 0);
    } else {
        hashId = 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0)
            | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0);
    }

    if (keyCode in keys.MODIFIER_KEYS) {
        switch (keys.MODIFIER_KEYS[keyCode]) {
            case "Alt":
                hashId = 2;
                break;
            case "Shift":
                hashId = 4;
                break;
            case "Ctrl":
                hashId = 1;
                break;
            default:
                hashId = 8;
                break;
        }
        keyCode = 0;
    }

    if (!useragent.isMac && pressedKeys[91] || pressedKeys[92])
        hashId |= 8;

    if (hashId & 8 && (keyCode == 91 || keyCode == 93)) {
        keyCode = 0;
    }
    if (!hashId && !(keyCode in keys.FUNCTION_KEYS) && !(keyCode in keys.PRINTABLE_KEYS)) {
        return false;
    }
    return callback(e, hashId, keyCode);
}

var pressedKeys = Object.create(null);
exports.addCommandKeyListener = function(el, callback) {
    var addListener = exports.addListener;
    if (useragent.isOldGecko || (useragent.isOpera && !("KeyboardEvent" in window))) {
        var lastKeyDownKeyCode = null;
        addListener(el, "keydown", function(e) {
            lastKeyDownKeyCode = e.keyCode;
        });
        addListener(el, "keypress", function(e) {
            return normalizeCommandKeys(callback, e, lastKeyDownKeyCode);
        });
    } else {
        var lastDefaultPrevented = null;

        addListener(el, "keydown", function(e) {
            pressedKeys[e.keyCode] = true;
            var result = normalizeCommandKeys(callback, e, e.keyCode);
            lastDefaultPrevented = e.defaultPrevented;
            return result;
        });

        addListener(el, "keypress", function(e) {
            if (lastDefaultPrevented && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey)) {
                exports.stopEvent(e);
                lastDefaultPrevented = null;
            }
        });

        addListener(el, "keyup", function(e) {
            pressedKeys[e.keyCode] = null;
        });

        addListener(el, "focus", function(e) {
            pressedKeys = Object.create(null);
        });
    }
};

if (window.postMessage && !useragent.isOldIE) {
    var postMessageId = 1;
    exports.nextTick = function(callback, win) {
        win = win || window;
        var messageName = "zero-timeout-message-" + postMessageId;
        exports.addListener(win, "message", function listener(e) {
            if (e.data == messageName) {
                exports.stopPropagation(e);
                exports.removeListener(win, "message", listener);
                callback();
            }
        });
        win.postMessage(messageName, "*");
    };
}


exports.nextFrame = window.requestAnimationFrame ||
    window.mozRequestAnimationFrame ||
    window.webkitRequestAnimationFrame ||
    window.msRequestAnimationFrame ||
    window.oRequestAnimationFrame;

if (exports.nextFrame)
    exports.nextFrame = exports.nextFrame.bind(window);
else
    exports.nextFrame = function(callback) {
        setTimeout(callback, 17);
    };
});

ace.define('ace/lib/keys', ["require", 'exports', 'module' , 'ace/lib/oop'], function(acequire, exports, module) {


var oop = acequire("./oop");
var Keys = (function() {
    var ret = {
        MODIFIER_KEYS: {
            16: 'Shift', 17: 'Ctrl', 18: 'Alt', 224: 'Meta'
        },

        KEY_MODS: {
            "ctrl": 1, "alt": 2, "option" : 2,
            "shift": 4, "meta": 8, "command": 8, "cmd": 8
        },

        FUNCTION_KEYS : {
            8  : "Backspace",
            9  : "Tab",
            13 : "Return",
            19 : "Pause",
            27 : "Esc",
            32 : "Space",
            33 : "PageUp",
            34 : "PageDown",
            35 : "End",
            36 : "Home",
            37 : "Left",
            38 : "Up",
            39 : "Right",
            40 : "Down",
            44 : "Print",
            45 : "Insert",
            46 : "Delete",
            96 : "Numpad0",
            97 : "Numpad1",
            98 : "Numpad2",
            99 : "Numpad3",
            100: "Numpad4",
            101: "Numpad5",
            102: "Numpad6",
            103: "Numpad7",
            104: "Numpad8",
            105: "Numpad9",
            112: "F1",
            113: "F2",
            114: "F3",
            115: "F4",
            116: "F5",
            117: "F6",
            118: "F7",
            119: "F8",
            120: "F9",
            121: "F10",
            122: "F11",
            123: "F12",
            144: "Numlock",
            145: "Scrolllock"
        },

        PRINTABLE_KEYS: {
           32: ' ',  48: '0',  49: '1',  50: '2',  51: '3',  52: '4', 53:  '5',
           54: '6',  55: '7',  56: '8',  57: '9',  59: ';',  61: '=', 65:  'a',
           66: 'b',  67: 'c',  68: 'd',  69: 'e',  70: 'f',  71: 'g', 72:  'h',
           73: 'i',  74: 'j',  75: 'k',  76: 'l',  77: 'm',  78: 'n', 79:  'o',
           80: 'p',  81: 'q',  82: 'r',  83: 's',  84: 't',  85: 'u', 86:  'v',
           87: 'w',  88: 'x',  89: 'y',  90: 'z', 107: '+', 109: '-', 110: '.',
          188: ',', 190: '.', 191: '/', 192: '`', 219: '[', 220: '\\',
          221: ']', 222: '\''
        }
    };
    for (var i in ret.FUNCTION_KEYS) {
        var name = ret.FUNCTION_KEYS[i].toLowerCase();
        ret[name] = parseInt(i, 10);
    }
    oop.mixin(ret, ret.MODIFIER_KEYS);
    oop.mixin(ret, ret.PRINTABLE_KEYS);
    oop.mixin(ret, ret.FUNCTION_KEYS);
    ret.enter = ret["return"];
    ret.escape = ret.esc;
    ret.del = ret["delete"];
    ret[173] = '-';

    return ret;
})();
oop.mixin(exports, Keys);

exports.keyCodeToString = function(keyCode) {
    return (Keys[keyCode] || String.fromCharCode(keyCode)).toLowerCase();
}

});

ace.define('ace/lib/oop', ["require", 'exports', 'module' ], function(acequire, exports, module) {


exports.inherits = (function() {
    var tempCtor = function() {};
    return function(ctor, superCtor) {
        tempCtor.prototype = superCtor.prototype;
        ctor.super_ = superCtor.prototype;
        ctor.prototype = new tempCtor();
        ctor.prototype.constructor = ctor;
    };
}());

exports.mixin = function(obj, mixin) {
    for (var key in mixin) {
        obj[key] = mixin[key];
    }
    return obj;
};

exports.implement = function(proto, mixin) {
    exports.mixin(proto, mixin);
};

});

ace.define('ace/lib/useragent', ["require", 'exports', 'module' ], function(acequire, exports, module) {
exports.OS = {
    LINUX: "LINUX",
    MAC: "MAC",
    WINDOWS: "WINDOWS"
};
exports.getOS = function() {
    if (exports.isMac) {
        return exports.OS.MAC;
    } else if (exports.isLinux) {
        return exports.OS.LINUX;
    } else {
        return exports.OS.WINDOWS;
    }
};
if (typeof navigator != "object")
    return;

var os = (navigator.platform.match(/mac|win|linux/i) || ["other"])[0].toLowerCase();
var ua = navigator.userAgent;
exports.isWin = (os == "win");
exports.isMac = (os == "mac");
exports.isLinux = (os == "linux");
exports.isIE = 
    (navigator.appName == "Microsoft Internet Explorer" || navigator.appName.indexOf("MSAppHost") >= 0)
    && parseFloat(navigator.userAgent.match(/MSIE ([0-9]+[\.0-9]+)/)[1]);
    
exports.isOldIE = exports.isIE && exports.isIE < 9;
exports.isGecko = exports.isMozilla = window.controllers && window.navigator.product === "Gecko";
exports.isOldGecko = exports.isGecko && parseInt((navigator.userAgent.match(/rv\:(\d+)/)||[])[1], 10) < 4;
exports.isOpera = window.opera && Object.prototype.toString.call(window.opera) == "[object Opera]";
exports.isWebKit = parseFloat(ua.split("WebKit/")[1]) || undefined;

exports.isChrome = parseFloat(ua.split(" Chrome/")[1]) || undefined;

exports.isAIR = ua.indexOf("AdobeAIR") >= 0;

exports.isIPad = ua.indexOf("iPad") >= 0;

exports.isTouchPad = ua.indexOf("TouchPad") >= 0;

});

ace.define('ace/editor', ["require", 'exports', 'module' , 'ace/lib/fixoldbrowsers', 'ace/lib/oop', 'ace/lib/dom', 'ace/lib/lang', 'ace/lib/useragent', 'ace/keyboard/textinput', 'ace/mouse/mouse_handler', 'ace/mouse/fold_handler', 'ace/keyboard/keybinding', 'ace/edit_session', 'ace/search', 'ace/range', 'ace/lib/event_emitter', 'ace/commands/command_manager', 'ace/commands/default_commands', 'ace/config'], function(acequire, exports, module) {


acequire("./lib/fixoldbrowsers");

var oop = acequire("./lib/oop");
var dom = acequire("./lib/dom");
var lang = acequire("./lib/lang");
var useragent = acequire("./lib/useragent");
var TextInput = acequire("./keyboard/textinput").TextInput;
var MouseHandler = acequire("./mouse/mouse_handler").MouseHandler;
var FoldHandler = acequire("./mouse/fold_handler").FoldHandler;
var KeyBinding = acequire("./keyboard/keybinding").KeyBinding;
var EditSession = acequire("./edit_session").EditSession;
var Search = acequire("./search").Search;
var Range = acequire("./range").Range;
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;
var CommandManager = acequire("./commands/command_manager").CommandManager;
var defaultCommands = acequire("./commands/default_commands").commands;
var config = acequire("./config");
var Editor = function(renderer, session) {
    var container = renderer.getContainerElement();
    this.container = container;
    this.renderer = renderer;

    this.commands = new CommandManager(useragent.isMac ? "mac" : "win", defaultCommands);
    this.textInput  = new TextInput(renderer.getTextAreaContainer(), this);
    this.renderer.textarea = this.textInput.getElement();
    this.keyBinding = new KeyBinding(this);
    this.$mouseHandler = new MouseHandler(this);
    new FoldHandler(this);

    this.$blockScrolling = 0;
    this.$search = new Search().set({
        wrap: true
    });

    this.setSession(session || new EditSession(""));
    config.resetOptions(this);
    config._emit("editor", this);
};

(function(){

    oop.implement(this, EventEmitter);
    this.setKeyboardHandler = function(keyboardHandler) {
        if (!keyboardHandler) {
            this.keyBinding.setKeyboardHandler(null);
        } else if (typeof keyboardHandler == "string") {
            this.$keybindingId = keyboardHandler;
            var _self = this;
            config.loadModule(["keybinding", keyboardHandler], function(module) {
                if (_self.$keybindingId == keyboardHandler)
                    _self.keyBinding.setKeyboardHandler(module && module.handler);
            });
        } else {
            delete this.$keybindingId;
            this.keyBinding.setKeyboardHandler(keyboardHandler);
        }
    };
    this.getKeyboardHandler = function() {
        return this.keyBinding.getKeyboardHandler();
    };
    this.setSession = function(session) {
        if (this.session == session)
            return;

        if (this.session) {
            var oldSession = this.session;
            this.session.removeEventListener("change", this.$onDocumentChange);
            this.session.removeEventListener("changeMode", this.$onChangeMode);
            this.session.removeEventListener("tokenizerUpdate", this.$onTokenizerUpdate);
            this.session.removeEventListener("changeTabSize", this.$onChangeTabSize);
            this.session.removeEventListener("changeWrapLimit", this.$onChangeWrapLimit);
            this.session.removeEventListener("changeWrapMode", this.$onChangeWrapMode);
            this.session.removeEventListener("onChangeFold", this.$onChangeFold);
            this.session.removeEventListener("changeFrontMarker", this.$onChangeFrontMarker);
            this.session.removeEventListener("changeBackMarker", this.$onChangeBackMarker);
            this.session.removeEventListener("changeBreakpoint", this.$onChangeBreakpoint);
            this.session.removeEventListener("changeAnnotation", this.$onChangeAnnotation);
            this.session.removeEventListener("changeOverwrite", this.$onCursorChange);
            this.session.removeEventListener("changeScrollTop", this.$onScrollTopChange);
            this.session.removeEventListener("changeScrollLeft", this.$onScrollLeftChange);

            var selection = this.session.getSelection();
            selection.removeEventListener("changeCursor", this.$onCursorChange);
            selection.removeEventListener("changeSelection", this.$onSelectionChange);
        }

        this.session = session;

        this.$onDocumentChange = this.onDocumentChange.bind(this);
        session.addEventListener("change", this.$onDocumentChange);
        this.renderer.setSession(session);

        this.$onChangeMode = this.onChangeMode.bind(this);
        session.addEventListener("changeMode", this.$onChangeMode);

        this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);
        session.addEventListener("tokenizerUpdate", this.$onTokenizerUpdate);

        this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer);
        session.addEventListener("changeTabSize", this.$onChangeTabSize);

        this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);
        session.addEventListener("changeWrapLimit", this.$onChangeWrapLimit);

        this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);
        session.addEventListener("changeWrapMode", this.$onChangeWrapMode);

        this.$onChangeFold = this.onChangeFold.bind(this);
        session.addEventListener("changeFold", this.$onChangeFold);

        this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);
        this.session.addEventListener("changeFrontMarker", this.$onChangeFrontMarker);

        this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);
        this.session.addEventListener("changeBackMarker", this.$onChangeBackMarker);

        this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);
        this.session.addEventListener("changeBreakpoint", this.$onChangeBreakpoint);

        this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);
        this.session.addEventListener("changeAnnotation", this.$onChangeAnnotation);

        this.$onCursorChange = this.onCursorChange.bind(this);
        this.session.addEventListener("changeOverwrite", this.$onCursorChange);

        this.$onScrollTopChange = this.onScrollTopChange.bind(this);
        this.session.addEventListener("changeScrollTop", this.$onScrollTopChange);

        this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);
        this.session.addEventListener("changeScrollLeft", this.$onScrollLeftChange);

        this.selection = session.getSelection();
        this.selection.addEventListener("changeCursor", this.$onCursorChange);

        this.$onSelectionChange = this.onSelectionChange.bind(this);
        this.selection.addEventListener("changeSelection", this.$onSelectionChange);

        this.onChangeMode();

        this.$blockScrolling += 1;
        this.onCursorChange();
        this.$blockScrolling -= 1;

        this.onScrollTopChange();
        this.onScrollLeftChange();
        this.onSelectionChange();
        this.onChangeFrontMarker();
        this.onChangeBackMarker();
        this.onChangeBreakpoint();
        this.onChangeAnnotation();
        this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();
        this.renderer.updateFull();

        this._emit("changeSession", {
            session: session,
            oldSession: oldSession
        });
    };
    this.getSession = function() {
        return this.session;
    };
    this.setValue = function(val, cursorPos) {
        this.session.doc.setValue(val);

        if (!cursorPos)
            this.selectAll();
        else if (cursorPos == 1)
            this.navigateFileEnd();
        else if (cursorPos == -1)
            this.navigateFileStart();

        return val;
    };
    this.getValue = function() {
        return this.session.getValue();
    };
    this.getSelection = function() {
        return this.selection;
    };
    this.resize = function(force) {
        this.renderer.onResize(force);
    };
    this.setTheme = function(theme) {
        this.renderer.setTheme(theme);
    };
    this.getTheme = function() {
        return this.renderer.getTheme();
    };
    this.setStyle = function(style) {
        this.renderer.setStyle(style);
    };
    this.unsetStyle = function(style) {
        this.renderer.unsetStyle(style);
    };
    this.getFontSize = function () {
        return this.getOption("fontSize") ||
           dom.computedStyle(this.container, "fontSize");
    };
    this.setFontSize = function(size) {
        this.setOption("fontSize", size);
    };

    this.$highlightBrackets = function() {
        if (this.session.$bracketHighlight) {
            this.session.removeMarker(this.session.$bracketHighlight);
            this.session.$bracketHighlight = null;
        }

        if (this.$highlightPending) {
            return;
        }
        var self = this;
        this.$highlightPending = true;
        setTimeout(function() {
            self.$highlightPending = false;

            var pos = self.session.findMatchingBracket(self.getCursorPosition());
            if (pos) {
                var range = new Range(pos.row, pos.column, pos.row, pos.column+1);
            } else if (self.session.$mode.getMatching) {
                var range = self.session.$mode.getMatching(self.session);
            }
            if (range)
                self.session.$bracketHighlight = self.session.addMarker(range, "ace_bracket", "text");
        }, 50);
    };
    this.focus = function() {
        var _self = this;
        setTimeout(function() {
            _self.textInput.focus();
        });
        this.textInput.focus();
    };
    this.isFocused = function() {
        return this.textInput.isFocused();
    };
    this.blur = function() {
        this.textInput.blur();
    };
    this.onFocus = function() {
        if (this.$isFocused)
            return;
        this.$isFocused = true;
        this.renderer.showCursor();
        this.renderer.visualizeFocus();
        this._emit("focus");
    };
    this.onBlur = function() {
        if (!this.$isFocused)
            return;
        this.$isFocused = false;
        this.renderer.hideCursor();
        this.renderer.visualizeBlur();
        this._emit("blur");
    };

    this.$cursorChange = function() {
        this.renderer.updateCursor();
    };
    this.onDocumentChange = function(e) {
        var delta = e.data;
        var range = delta.range;
        var lastRow;

        if (range.start.row == range.end.row && delta.action != "insertLines" && delta.action != "removeLines")
            lastRow = range.end.row;
        else
            lastRow = Infinity;
        this.renderer.updateLines(range.start.row, lastRow);

        this._emit("change", e);
        this.$cursorChange();
    };

    this.onTokenizerUpdate = function(e) {
        var rows = e.data;
        this.renderer.updateLines(rows.first, rows.last);
    };


    this.onScrollTopChange = function() {
        this.renderer.scrollToY(this.session.getScrollTop());
    };

    this.onScrollLeftChange = function() {
        this.renderer.scrollToX(this.session.getScrollLeft());
    };
    this.onCursorChange = function() {
        this.$cursorChange();

        if (!this.$blockScrolling) {
            this.renderer.scrollCursorIntoView();
        }

        this.$highlightBrackets();
        this.$updateHighlightActiveLine();
        this._emit("changeSelection");
    };

    this.$updateHighlightActiveLine = function() {
        var session = this.getSession();

        var highlight;
        if (this.$highlightActiveLine) {
            if ((this.$selectionStyle != "line" || !this.selection.isMultiLine()))
                highlight = this.getCursorPosition();
        }

        if (session.$highlightLineMarker && !highlight) {
            session.removeMarker(session.$highlightLineMarker.id);
            session.$highlightLineMarker = null;
        } else if (!session.$highlightLineMarker && highlight) {
            var range = new Range(highlight.row, highlight.column, highlight.row, Infinity);
            range.id = session.addMarker(range, "ace_active-line", "screenLine");
            session.$highlightLineMarker = range;
        } else if (highlight) {
            session.$highlightLineMarker.start.row = highlight.row;
            session.$highlightLineMarker.end.row = highlight.row;
            session.$highlightLineMarker.start.column = highlight.column;
            session._emit("changeBackMarker");
        }
    };

    this.onSelectionChange = function(e) {
        var session = this.session;

        if (session.$selectionMarker) {
            session.removeMarker(session.$selectionMarker);
        }
        session.$selectionMarker = null;

        if (!this.selection.isEmpty()) {
            var range = this.selection.getRange();
            var style = this.getSelectionStyle();
            session.$selectionMarker = session.addMarker(range, "ace_selection", style);
        } else {
            this.$updateHighlightActiveLine();
        }

        var re = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp()
        this.session.highlight(re);

        this._emit("changeSelection");
    };

    this.$getSelectionHighLightRegexp = function() {
        var session = this.session;

        var selection = this.getSelectionRange();
        if (selection.isEmpty() || selection.isMultiLine())
            return;

        var startOuter = selection.start.column - 1;
        var endOuter = selection.end.column + 1;
        var line = session.getLine(selection.start.row);
        var lineCols = line.length;
        var needle = line.substring(Math.max(startOuter, 0),
                                    Math.min(endOuter, lineCols));
        if ((startOuter >= 0 && /^[\w\d]/.test(needle)) ||
            (endOuter <= lineCols && /[\w\d]$/.test(needle)))
            return;

        needle = line.substring(selection.start.column, selection.end.column);
        if (!/^[\w\d]+$/.test(needle))
            return;

        var re = this.$search.$assembleRegExp({
            wholeWord: true,
            caseSensitive: true,
            needle: needle
        });

        return re;
    };


    this.onChangeFrontMarker = function() {
        this.renderer.updateFrontMarkers();
    };

    this.onChangeBackMarker = function() {
        this.renderer.updateBackMarkers();
    };


    this.onChangeBreakpoint = function() {
        this.renderer.updateBreakpoints();
    };

    this.onChangeAnnotation = function() {
        this.renderer.setAnnotations(this.session.getAnnotations());
    };


    this.onChangeMode = function(e) {
        this.renderer.updateText();
        this._emit("changeMode", e);
    };


    this.onChangeWrapLimit = function() {
        this.renderer.updateFull();
    };

    this.onChangeWrapMode = function() {
        this.renderer.onResize(true);
    };


    this.onChangeFold = function() {
        this.$updateHighlightActiveLine();
        this.renderer.updateFull();
    };

    this.getCopyText = function() {
        var text = "";
        if (!this.selection.isEmpty())
            text = this.session.getTextRange(this.getSelectionRange());

        this._emit("copy", text);
        return text;
    };
    this.onCopy = function() {
        this.commands.exec("copy", this);
    };
    this.onCut = function() {
        this.commands.exec("cut", this);
    };
    this.onPaste = function(text) {
        if (this.$readOnly)
            return;
        this._emit("paste", text);
        this.insert(text);
    };


    this.execCommand = function(command, args) {
        this.commands.exec(command, this, args);
    };
    this.insert = function(text) {
        var session = this.session;
        var mode = session.getMode();
        var cursor = this.getCursorPosition();

        if (this.getBehavioursEnabled()) {
            var transform = mode.transformAction(session.getState(cursor.row), 'insertion', this, session, text);
            if (transform)
                text = transform.text;
        }

        text = text.replace("\t", this.session.getTabString());
        if (!this.selection.isEmpty()) {
            cursor = this.session.remove(this.getSelectionRange());
            this.clearSelection();
        }
        else if (this.session.getOverwrite()) {
            var range = new Range.fromPoints(cursor, cursor);
            range.end.column += text.length;
            this.session.remove(range);
        }

        this.clearSelection();

        var start = cursor.column;
        var lineState = session.getState(cursor.row);
        var line = session.getLine(cursor.row);
        var shouldOutdent = mode.checkOutdent(lineState, line, text);
        var end = session.insert(cursor, text);

        if (transform && transform.selection) {
            if (transform.selection.length == 2) { // Transform relative to the current column
                this.selection.setSelectionRange(
                    new Range(cursor.row, start + transform.selection[0],
                              cursor.row, start + transform.selection[1]));
            } else { // Transform relative to the current row.
                this.selection.setSelectionRange(
                    new Range(cursor.row + transform.selection[0],
                              transform.selection[1],
                              cursor.row + transform.selection[2],
                              transform.selection[3]));
            }
        }
        if (session.getDocument().isNewLine(text)) {
            var lineIndent = mode.getNextLineIndent(lineState, line.slice(0, cursor.column), session.getTabString());

            this.moveCursorTo(cursor.row+1, 0);

            var size = session.getTabSize();
            var minIndent = Number.MAX_VALUE;

            for (var row = cursor.row + 1; row <= end.row; ++row) {
                var indent = 0;

                line = session.getLine(row);
                for (var i = 0; i < line.length; ++i)
                    if (line.charAt(i) == '\t')
                        indent += size;
                    else if (line.charAt(i) == ' ')
                        indent += 1;
                    else
                        break;
                if (/[^\s]/.test(line))
                    minIndent = Math.min(indent, minIndent);
            }

            for (var row = cursor.row + 1; row <= end.row; ++row) {
                var outdent = minIndent;

                line = session.getLine(row);
                for (var i = 0; i < line.length && outdent > 0; ++i)
                    if (line.charAt(i) == '\t')
                        outdent -= size;
                    else if (line.charAt(i) == ' ')
                        outdent -= 1;
                session.remove(new Range(row, 0, row, i));
            }
            session.indentRows(cursor.row + 1, end.row, lineIndent);
        }
        if (shouldOutdent)
            mode.autoOutdent(lineState, session, cursor.row);
    };

    this.onTextInput = function(text) {
        this.keyBinding.onTextInput(text);
    };

    this.onCommandKey = function(e, hashId, keyCode) {
        this.keyBinding.onCommandKey(e, hashId, keyCode);
    };
    this.setOverwrite = function(overwrite) {
        this.session.setOverwrite(overwrite);
    };
    this.getOverwrite = function() {
        return this.session.getOverwrite();
    };
    this.toggleOverwrite = function() {
        this.session.toggleOverwrite();
    };
    this.setScrollSpeed = function(speed) {
        this.setOption("scrollSpeed", speed);
    };
    this.getScrollSpeed = function() {
        return this.getOption("scrollSpeed");
    };
    this.setDragDelay = function(dragDelay) {
        this.setOption("dragDelay", dragDelay);
    };
    this.getDragDelay = function() {
        return this.getOption("dragDelay");
    };
    this.setSelectionStyle = function(val) {
        this.setOption("selectionStyle", val);
    };
    this.getSelectionStyle = function() {
        return this.getOption("selectionStyle");
    };
    this.setHighlightActiveLine = function(shouldHighlight) {
        this.setOption("highlightActiveLine", shouldHighlight);
    };
    this.getHighlightActiveLine = function() {
        return this.getOption("highlightActiveLine");
    };
    this.setHighlightGutterLine = function(shouldHighlight) {
        this.setOption("highlightGutterLine", shouldHighlight);
    };

    this.getHighlightGutterLine = function() {
        return this.getOption("highlightGutterLine");
    };
    this.setHighlightSelectedWord = function(shouldHighlight) {
        this.setOption("highlightSelectedWord", shouldHighlight);
    };
    this.getHighlightSelectedWord = function() {
        return this.$highlightSelectedWord;
    };

    this.setAnimatedScroll = function(shouldAnimate){
        this.renderer.setAnimatedScroll(shouldAnimate);
    };

    this.getAnimatedScroll = function(){
        return this.renderer.getAnimatedScroll();
    };
    this.setShowInvisibles = function(showInvisibles) {
        this.renderer.setShowInvisibles(showInvisibles);
    };
    this.getShowInvisibles = function() {
        return this.renderer.getShowInvisibles();
    };

    this.setDisplayIndentGuides = function(display) {
        this.renderer.setDisplayIndentGuides(display);
    };

    this.getDisplayIndentGuides = function() {
        return this.renderer.getDisplayIndentGuides();
    };
    this.setShowPrintMargin = function(showPrintMargin) {
        this.renderer.setShowPrintMargin(showPrintMargin);
    };
    this.getShowPrintMargin = function() {
        return this.renderer.getShowPrintMargin();
    };
    this.setPrintMarginColumn = function(showPrintMargin) {
        this.renderer.setPrintMarginColumn(showPrintMargin);
    };
    this.getPrintMarginColumn = function() {
        return this.renderer.getPrintMarginColumn();
    };
    this.setReadOnly = function(readOnly) {
        this.setOption("readOnly", readOnly);
    };
    this.getReadOnly = function() {
        return this.getOption("readOnly");
    };
    this.setBehavioursEnabled = function (enabled) {
        this.setOption("behavioursEnabled", enabled);
    };
    this.getBehavioursEnabled = function () {
        return this.getOption("behavioursEnabled");
    };
    this.setWrapBehavioursEnabled = function (enabled) {
        this.setOption("wrapBehavioursEnabled", enabled);
    };
    this.getWrapBehavioursEnabled = function () {
        return this.getOption("wrapBehavioursEnabled");
    };
    this.setShowFoldWidgets = function(show) {
        this.setOption("showFoldWidgets", show);

    };
    this.getShowFoldWidgets = function() {
        return this.getOption("showFoldWidgets");
    };

    this.setFadeFoldWidgets = function(fade) {
        this.setOption("fadeFoldWidgets", fade);
    };

    this.getFadeFoldWidgets = function() {
        return this.getOption("fadeFoldWidgets");
    };
    this.remove = function(dir) {
        if (this.selection.isEmpty()){
            if (dir == "left")
                this.selection.selectLeft();
            else
                this.selection.selectRight();
        }

        var range = this.getSelectionRange();
        if (this.getBehavioursEnabled()) {
            var session = this.session;
            var state = session.getState(range.start.row);
            var new_range = session.getMode().transformAction(state, 'deletion', this, session, range);
            if (new_range)
                range = new_range;
        }

        this.session.remove(range);
        this.clearSelection();
    };
    this.removeWordRight = function() {
        if (this.selection.isEmpty())
            this.selection.selectWordRight();

        this.session.remove(this.getSelectionRange());
        this.clearSelection();
    };
    this.removeWordLeft = function() {
        if (this.selection.isEmpty())
            this.selection.selectWordLeft();

        this.session.remove(this.getSelectionRange());
        this.clearSelection();
    };
    this.removeToLineStart = function() {
        if (this.selection.isEmpty())
            this.selection.selectLineStart();

        this.session.remove(this.getSelectionRange());
        this.clearSelection();
    };
    this.removeToLineEnd = function() {
        if (this.selection.isEmpty())
            this.selection.selectLineEnd();

        var range = this.getSelectionRange();
        if (range.start.column == range.end.column && range.start.row == range.end.row) {
            range.end.column = 0;
            range.end.row++;
        }

        this.session.remove(range);
        this.clearSelection();
    };
    this.splitLine = function() {
        if (!this.selection.isEmpty()) {
            this.session.remove(this.getSelectionRange());
            this.clearSelection();
        }

        var cursor = this.getCursorPosition();
        this.insert("\n");
        this.moveCursorToPosition(cursor);
    };
    this.transposeLetters = function() {
        if (!this.selection.isEmpty()) {
            return;
        }

        var cursor = this.getCursorPosition();
        var column = cursor.column;
        if (column === 0)
            return;

        var line = this.session.getLine(cursor.row);
        var swap, range;
        if (column < line.length) {
            swap = line.charAt(column) + line.charAt(column-1);
            range = new Range(cursor.row, column-1, cursor.row, column+1);
        }
        else {
            swap = line.charAt(column-1) + line.charAt(column-2);
            range = new Range(cursor.row, column-2, cursor.row, column);
        }
        this.session.replace(range, swap);
    };
    this.toLowerCase = function() {
        var originalRange = this.getSelectionRange();
        if (this.selection.isEmpty()) {
            this.selection.selectWord();
        }

        var range = this.getSelectionRange();
        var text = this.session.getTextRange(range);
        this.session.replace(range, text.toLowerCase());
        this.selection.setSelectionRange(originalRange);
    };
    this.toUpperCase = function() {
        var originalRange = this.getSelectionRange();
        if (this.selection.isEmpty()) {
            this.selection.selectWord();
        }

        var range = this.getSelectionRange();
        var text = this.session.getTextRange(range);
        this.session.replace(range, text.toUpperCase());
        this.selection.setSelectionRange(originalRange);
    };
    this.indent = function() {
        var session = this.session;
        var range = this.getSelectionRange();

        if (range.start.row < range.end.row || range.start.column < range.end.column) {
            var rows = this.$getSelectedRows();
            session.indentRows(rows.first, rows.last, "\t");
        } else {
            var indentString;

            if (this.session.getUseSoftTabs()) {
                var size        = session.getTabSize(),
                    position    = this.getCursorPosition(),
                    column      = session.documentToScreenColumn(position.row, position.column),
                    count       = (size - column % size);

                indentString = lang.stringRepeat(" ", count);
            } else
                indentString = "\t";
            return this.insert(indentString);
        }
    };
    this.blockIndent = function() {
        var rows = this.$getSelectedRows();
        this.session.indentRows(rows.first, rows.last, "\t");
    };
    this.blockOutdent = function() {
        var selection = this.session.getSelection();
        this.session.outdentRows(selection.getRange());
    };
    this.sortLines = function() {
        var rows = this.$getSelectedRows();
        var session = this.session;

        var lines = [];
        for (i = rows.first; i <= rows.last; i++)
            lines.push(session.getLine(i));

        lines.sort(function(a, b) {
            if (a.toLowerCase() < b.toLowerCase()) return -1;
            if (a.toLowerCase() > b.toLowerCase()) return 1;
            return 0;
        });

        var deleteRange = new Range(0, 0, 0, 0);
        for (var i = rows.first; i <= rows.last; i++) {
            var line = session.getLine(i);
            deleteRange.start.row = i;
            deleteRange.end.row = i;
            deleteRange.end.column = line.length;
            session.replace(deleteRange, lines[i-rows.first]);
        }
    };
    this.toggleCommentLines = function() {
        var state = this.session.getState(this.getCursorPosition().row);
        var rows = this.$getSelectedRows();
        this.session.getMode().toggleCommentLines(state, this.session, rows.first, rows.last);
    };

    this.toggleBlockComment = function() {
        var cursor = this.getCursorPosition();
        var state = this.session.getState(cursor.row);
        var range = this.getSelectionRange();
        this.session.getMode().toggleBlockComment(state, this.session, range, cursor);
    };
    this.getNumberAt = function( row, column ) {
        var _numberRx = /[\-]?[0-9]+(?:\.[0-9]+)?/g
        _numberRx.lastIndex = 0

        var s = this.session.getLine(row)
        while (_numberRx.lastIndex < column) {
            var m = _numberRx.exec(s)
            if(m.index <= column && m.index+m[0].length >= column){
                var number = {
                    value: m[0],
                    start: m.index,
                    end: m.index+m[0].length
                }
                return number;
            }
        }
        return null;
    };
    this.modifyNumber = function(amount) {
        var row = this.selection.getCursor().row;
        var column = this.selection.getCursor().column;
        var charRange = new Range(row, column-1, row, column);

        var c = this.session.getTextRange(charRange);
        if (!isNaN(parseFloat(c)) && isFinite(c)) {
            var nr = this.getNumberAt(row, column);
            if (nr) {
                var fp = nr.value.indexOf(".") >= 0 ? nr.start + nr.value.indexOf(".") + 1 : nr.end;
                var decimals = nr.start + nr.value.length - fp;

                var t = parseFloat(nr.value);
                t *= Math.pow(10, decimals);


                if(fp !== nr.end && column < fp){
                    amount *= Math.pow(10, nr.end - column - 1);
                } else {
                    amount *= Math.pow(10, nr.end - column);
                }

                t += amount;
                t /= Math.pow(10, decimals);
                var nnr = t.toFixed(decimals);
                var replaceRange = new Range(row, nr.start, row, nr.end);
                this.session.replace(replaceRange, nnr);
                this.moveCursorTo(row, Math.max(nr.start +1, column + nnr.length - nr.value.length));

            }
        }
    };
    this.removeLines = function() {
        var rows = this.$getSelectedRows();
        var range;
        if (rows.first === 0 || rows.last+1 < this.session.getLength())
            range = new Range(rows.first, 0, rows.last+1, 0);
        else
            range = new Range(
                rows.first-1, this.session.getLine(rows.first-1).length,
                rows.last, this.session.getLine(rows.last).length
            );
        this.session.remove(range);
        this.clearSelection();
    };

    this.duplicateSelection = function() {
        var sel = this.selection;
        var doc = this.session;
        var range = sel.getRange();
        var reverse = sel.isBackwards();
        if (range.isEmpty()) {
            var row = range.start.row;
            doc.duplicateLines(row, row);
        } else {
            var point = reverse ? range.start : range.end;
            var endPoint = doc.insert(point, doc.getTextRange(range), false);
            range.start = point;
            range.end = endPoint;

            sel.setSelectionRange(range, reverse)
        }
    };
    this.moveLinesDown = function() {
        this.$moveLines(function(firstRow, lastRow) {
            return this.session.moveLinesDown(firstRow, lastRow);
        });
    };
    this.moveLinesUp = function() {
        this.$moveLines(function(firstRow, lastRow) {
            return this.session.moveLinesUp(firstRow, lastRow);
        });
    };
    this.moveText = function(range, toPosition) {
        return this.session.moveText(range, toPosition);
    };
    this.copyLinesUp = function() {
        this.$moveLines(function(firstRow, lastRow) {
            this.session.duplicateLines(firstRow, lastRow);
            return 0;
        });
    };
    this.copyLinesDown = function() {
        this.$moveLines(function(firstRow, lastRow) {
            return this.session.duplicateLines(firstRow, lastRow);
        });
    };
    this.$moveLines = function(mover) {
        var selection = this.selection;
        if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {
            var range = selection.toOrientedRange();
            var rows = this.$getSelectedRows(range);
            var linesMoved = mover.call(this, rows.first, rows.last);
            range.moveBy(linesMoved, 0);
            selection.fromOrientedRange(range);
        } else {
            var ranges = selection.rangeList.ranges;
            selection.rangeList.detach(this.session);

            for (var i = ranges.length; i--; ) {
                var rangeIndex = i;
                var rows = ranges[i].collapseRows();
                var last = rows.end.row;
                var first = rows.start.row;
                while (i--) {
                    var rows = ranges[i].collapseRows();
                    if (first - rows.end.row <= 1)
                        first = rows.end.row;
                    else
                        break;
                }
                i++;

                var linesMoved = mover.call(this, first, last);
                while (rangeIndex >= i) {
                    ranges[rangeIndex].moveBy(linesMoved, 0);
                    rangeIndex--;
                }
            }
            selection.fromOrientedRange(selection.ranges[0]);
            selection.rangeList.attach(this.session);
        }
    };
    this.$getSelectedRows = function() {
        var range = this.getSelectionRange().collapseRows();

        return {
            first: range.start.row,
            last: range.end.row
        };
    };

    this.onCompositionStart = function(text) {
        this.renderer.showComposition(this.getCursorPosition());
    };

    this.onCompositionUpdate = function(text) {
        this.renderer.setCompositionText(text);
    };

    this.onCompositionEnd = function() {
        this.renderer.hideComposition();
    };
    this.getFirstVisibleRow = function() {
        return this.renderer.getFirstVisibleRow();
    };
    this.getLastVisibleRow = function() {
        return this.renderer.getLastVisibleRow();
    };
    this.isRowVisible = function(row) {
        return (row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow());
    };
    this.isRowFullyVisible = function(row) {
        return (row >= this.renderer.getFirstFullyVisibleRow() && row <= this.renderer.getLastFullyVisibleRow());
    };
    this.$getVisibleRowCount = function() {
        return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;
    };

    this.$moveByPage = function(dir, select) {
        var renderer = this.renderer;
        var config = this.renderer.layerConfig;
        var rows = dir * Math.floor(config.height / config.lineHeight);

        this.$blockScrolling++;
        if (select == true) {
            this.selection.$moveSelection(function(){
                this.moveCursorBy(rows, 0);
            });
        } else if (select == false) {
            this.selection.moveCursorBy(rows, 0);
            this.selection.clearSelection();
        }
        this.$blockScrolling--;

        var scrollTop = renderer.scrollTop;

        renderer.scrollBy(0, rows * config.lineHeight);
        if (select != null)
            renderer.scrollCursorIntoView(null, 0.5);

        renderer.animateScrolling(scrollTop);
    };
    this.selectPageDown = function() {
        this.$moveByPage(1, true);
    };
    this.selectPageUp = function() {
        this.$moveByPage(-1, true);
    };
    this.gotoPageDown = function() {
       this.$moveByPage(1, false);
    };
    this.gotoPageUp = function() {
        this.$moveByPage(-1, false);
    };
    this.scrollPageDown = function() {
        this.$moveByPage(1);
    };
    this.scrollPageUp = function() {
        this.$moveByPage(-1);
    };
    this.scrollToRow = function(row) {
        this.renderer.scrollToRow(row);
    };
    this.scrollToLine = function(line, center, animate, callback) {
        this.renderer.scrollToLine(line, center, animate, callback);
    };
    this.centerSelection = function() {
        var range = this.getSelectionRange();
        var pos = {
            row: Math.floor(range.start.row + (range.end.row - range.start.row) / 2),
            column: Math.floor(range.start.column + (range.end.column - range.start.column) / 2)
        }
        this.renderer.alignCursor(pos, 0.5);
    };
    this.getCursorPosition = function() {
        return this.selection.getCursor();
    };
    this.getCursorPositionScreen = function() {
        return this.session.documentToScreenPosition(this.getCursorPosition());
    };
    this.getSelectionRange = function() {
        return this.selection.getRange();
    };
    this.selectAll = function() {
        this.$blockScrolling += 1;
        this.selection.selectAll();
        this.$blockScrolling -= 1;
    };
    this.clearSelection = function() {
        this.selection.clearSelection();
    };
    this.moveCursorTo = function(row, column) {
        this.selection.moveCursorTo(row, column);
    };
    this.moveCursorToPosition = function(pos) {
        this.selection.moveCursorToPosition(pos);
    };
    this.jumpToMatching = function(select) {
        var cursor = this.getCursorPosition();

        var range = this.session.getBracketRange(cursor);
        if (!range) {
            range = this.find({
                needle: /[{}()\[\]]/g,
                preventScroll:true,
                start: {row: cursor.row, column: cursor.column - 1}
            });
            if (!range)
                return;
            var pos = range.start;
            if (pos.row == cursor.row && Math.abs(pos.column - cursor.column) < 2)
                range = this.session.getBracketRange(pos);
        }

        pos = range && range.cursor || pos;
        if (pos) {
            if (select) {
                if (range && range.isEqual(this.getSelectionRange()))
                    this.clearSelection();
                else
                    this.selection.selectTo(pos.row, pos.column);
            } else {
                this.clearSelection();
                this.moveCursorTo(pos.row, pos.column);
            }
        }
    };
    this.gotoLine = function(lineNumber, column, animate) {
        this.selection.clearSelection();
        this.session.unfold({row: lineNumber - 1, column: column || 0});

        this.$blockScrolling += 1;
        this.exitMultiSelectMode && this.exitMultiSelectMode();
        this.moveCursorTo(lineNumber - 1, column || 0);
        this.$blockScrolling -= 1;

        if (!this.isRowFullyVisible(lineNumber - 1))
            this.scrollToLine(lineNumber - 1, true, animate);
    };
    this.navigateTo = function(row, column) {
        this.clearSelection();
        this.moveCursorTo(row, column);
    };
    this.navigateUp = function(times) {
        if (this.selection.isMultiLine() && !this.selection.isBackwards()) {
            var selectionStart = this.selection.anchor.getPosition();
            return this.moveCursorToPosition(selectionStart);
        }
        this.selection.clearSelection();
        times = times || 1;
        this.selection.moveCursorBy(-times, 0);
    };
    this.navigateDown = function(times) {
        if (this.selection.isMultiLine() && this.selection.isBackwards()) {
            var selectionEnd = this.selection.anchor.getPosition();
            return this.moveCursorToPosition(selectionEnd);
        }
        this.selection.clearSelection();
        times = times || 1;
        this.selection.moveCursorBy(times, 0);
    };
    this.navigateLeft = function(times) {
        if (!this.selection.isEmpty()) {
            var selectionStart = this.getSelectionRange().start;
            this.moveCursorToPosition(selectionStart);
        }
        else {
            times = times || 1;
            while (times--) {
                this.selection.moveCursorLeft();
            }
        }
        this.clearSelection();
    };
    this.navigateRight = function(times) {
        if (!this.selection.isEmpty()) {
            var selectionEnd = this.getSelectionRange().end;
            this.moveCursorToPosition(selectionEnd);
        }
        else {
            times = times || 1;
            while (times--) {
                this.selection.moveCursorRight();
            }
        }
        this.clearSelection();
    };
    this.navigateLineStart = function() {
        this.selection.moveCursorLineStart();
        this.clearSelection();
    };
    this.navigateLineEnd = function() {
        this.selection.moveCursorLineEnd();
        this.clearSelection();
    };
    this.navigateFileEnd = function() {
        var scrollTop = this.renderer.scrollTop;
        this.selection.moveCursorFileEnd();
        this.clearSelection();
        this.renderer.animateScrolling(scrollTop);
    };
    this.navigateFileStart = function() {
        var scrollTop = this.renderer.scrollTop;
        this.selection.moveCursorFileStart();
        this.clearSelection();
        this.renderer.animateScrolling(scrollTop);
    };
    this.navigateWordRight = function() {
        this.selection.moveCursorWordRight();
        this.clearSelection();
    };
    this.navigateWordLeft = function() {
        this.selection.moveCursorWordLeft();
        this.clearSelection();
    };
    this.replace = function(replacement, options) {
        if (options)
            this.$search.set(options);

        var range = this.$search.find(this.session);
        var replaced = 0;
        if (!range)
            return replaced;

        if (this.$tryReplace(range, replacement)) {
            replaced = 1;
        }
        if (range !== null) {
            this.selection.setSelectionRange(range);
            this.renderer.scrollSelectionIntoView(range.start, range.end);
        }

        return replaced;
    };
    this.replaceAll = function(replacement, options) {
        if (options) {
            this.$search.set(options);
        }

        var ranges = this.$search.findAll(this.session);
        var replaced = 0;
        if (!ranges.length)
            return replaced;

        this.$blockScrolling += 1;

        var selection = this.getSelectionRange();
        this.clearSelection();
        this.selection.moveCursorTo(0, 0);

        for (var i = ranges.length - 1; i >= 0; --i) {
            if(this.$tryReplace(ranges[i], replacement)) {
                replaced++;
            }
        }

        this.selection.setSelectionRange(selection);
        this.$blockScrolling -= 1;

        return replaced;
    };

    this.$tryReplace = function(range, replacement) {
        var input = this.session.getTextRange(range);
        replacement = this.$search.replace(input, replacement);
        if (replacement !== null) {
            range.end = this.session.replace(range, replacement);
            return range;
        } else {
            return null;
        }
    };
    this.getLastSearchOptions = function() {
        return this.$search.getOptions();
    };
    this.find = function(needle, options, animate) {
        if (!options)
            options = {};

        if (typeof needle == "string" || needle instanceof RegExp)
            options.needle = needle;
        else if (typeof needle == "object")
            oop.mixin(options, needle);

        var range = this.selection.getRange();
        if (options.needle == null) {
            needle = this.session.getTextRange(range)
                || this.$search.$options.needle;
            if (!needle) {
                range = this.session.getWordRange(range.start.row, range.start.column);
                needle = this.session.getTextRange(range);
            }
            this.$search.set({needle: needle});
        }

        this.$search.set(options);
        if (!options.start)
            this.$search.set({start: range});

        var newRange = this.$search.find(this.session);
        if (options.preventScroll)
            return newRange;
        if (newRange) {
            this.revealRange(newRange, animate);
            return newRange;
        }
        if (options.backwards)
            range.start = range.end;
        else
            range.end = range.start;
        this.selection.setRange(range);
    };
    this.findNext = function(options, animate) {
        this.find({skipCurrent: true, backwards: false}, options, animate);
    };
    this.findPrevious = function(options, animate) {
        this.find(options, {skipCurrent: true, backwards: true}, animate);
    };

    this.revealRange = function(range, animate) {
        this.$blockScrolling += 1;
        this.session.unfold(range);
        this.selection.setSelectionRange(range);
        this.$blockScrolling -= 1;

        var scrollTop = this.renderer.scrollTop;
        this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);
        if (animate != false)
            this.renderer.animateScrolling(scrollTop);
    };
    this.undo = function() {
        this.$blockScrolling++;
        this.session.getUndoManager().undo();
        this.$blockScrolling--;
        this.renderer.scrollCursorIntoView(null, 0.5);
    };
    this.redo = function() {
        this.$blockScrolling++;
        this.session.getUndoManager().redo();
        this.$blockScrolling--;
        this.renderer.scrollCursorIntoView(null, 0.5);
    };
    this.destroy = function() {
        this.renderer.destroy();
        this._emit("destroy", this);
    };
    this.setAutoScrollEditorIntoView = function(enable) {
        if (enable === false)
            return;
        var rect;
        var self = this;
        var shouldScroll = false;
        if (!this.$scrollAnchor)
            this.$scrollAnchor = document.createElement("div");
        var scrollAnchor = this.$scrollAnchor;
        scrollAnchor.style.cssText = "position:absolute";
        this.container.insertBefore(scrollAnchor, this.container.firstChild);
        var onChangeSelection = this.on("changeSelection", function() {
            shouldScroll = true;
        });
        var onBeforeRender = this.renderer.on("beforeRender", function() {
            if (shouldScroll)
                rect = self.renderer.container.getBoundingClientRect();
        });
        var onAfterRender = this.renderer.on("afterRender", function() {
            if (shouldScroll && rect && self.isFocused()) {
                var renderer = self.renderer;
                var pos = renderer.$cursorLayer.$pixelPos;
                var config = renderer.layerConfig;
                var top = pos.top - config.offset;
                if (pos.top >= 0 && top + rect.top < 0) {
                    shouldScroll = true;
                } else if (pos.top < config.height &&
                    pos.top + rect.top + config.lineHeight > window.innerHeight) {
                    shouldScroll = false;
                } else {
                    shouldScroll = null;
                }
                if (shouldScroll != null) {
                    scrollAnchor.style.top = top + "px";
                    scrollAnchor.style.left = pos.left + "px";
                    scrollAnchor.style.height = config.lineHeight + "px";
                    scrollAnchor.scrollIntoView(shouldScroll);
                }
                shouldScroll = rect = null;
            }
        });
        this.setAutoScrollEditorIntoView = function(enable) {
            if (enable === true)
                return;
            delete this.setAutoScrollEditorIntoView;
            this.removeEventListener("changeSelection", onChangeSelection);
            this.renderer.removeEventListener("afterRender", onAfterRender);
            this.renderer.removeEventListener("beforeRender", onBeforeRender);
        };
    };


    this.$resetCursorStyle = function() {
        var style = this.$cursorStyle || "ace";
        var cursorLayer = this.renderer.$cursorLayer;
        if (!cursorLayer)
            return;
        cursorLayer.setSmoothBlinking(style == "smooth");
        cursorLayer.isBlinking = !this.$readOnly && style != "wide";
    };

}).call(Editor.prototype);



config.defineOptions(Editor.prototype, "editor", {
    selectionStyle: {
        set: function(style) {
            this.onSelectionChange();
            this._emit("changeSelectionStyle", {data: style});
        },
        initialValue: "line"
    },
    highlightActiveLine: {
        set: function() {this.$updateHighlightActiveLine();},
        initialValue: true
    },
    highlightSelectedWord: {
        set: function(shouldHighlight) {this.$onSelectionChange();},
        initialValue: true
    },
    readOnly: {
        set: function(readOnly) { this.$resetCursorStyle(); },
        initialValue: false
    },
    cursorStyle: {
        set: function(val) { this.$resetCursorStyle(); },
        values: ["ace", "slim", "smooth", "wide"],
        initialValue: "ace"
    },
    behavioursEnabled: {initialValue: true},
    wrapBehavioursEnabled: {initialValue: true},

    hScrollBarAlwaysVisible: "renderer",
    highlightGutterLine: "renderer",
    animatedScroll: "renderer",
    showInvisibles: "renderer",
    showPrintMargin: "renderer",
    printMarginColumn: "renderer",
    printMargin: "renderer",
    fadeFoldWidgets: "renderer",
    showFoldWidgets: "renderer",
    showGutter: "renderer",
    displayIndentGuides: "renderer",
    fontSize: "renderer",
    fontFamily: "renderer",

    scrollSpeed: "$mouseHandler",
    dragDelay: "$mouseHandler",
    focusTimout: "$mouseHandler",

    firstLineNumber: "session",
    overwrite: "session",
    newLineMode: "session",
    useWorker: "session",
    useSoftTabs: "session",
    tabSize: "session",
    wrap: "session",
    foldStyle: "session"
});

exports.Editor = Editor;
});

ace.define('ace/lib/lang', ["require", 'exports', 'module' ], function(acequire, exports, module) {


exports.stringReverse = function(string) {
    return string.split("").reverse().join("");
};

exports.stringRepeat = function (string, count) {
    var result = '';
    while (count > 0) {
        if (count & 1)
            result += string;

        if (count >>= 1)
            string += string;
    }
    return result;
};

var trimBeginRegexp = /^\s\s*/;
var trimEndRegexp = /\s\s*$/;

exports.stringTrimLeft = function (string) {
    return string.replace(trimBeginRegexp, '');
};

exports.stringTrimRight = function (string) {
    return string.replace(trimEndRegexp, '');
};

exports.copyObject = function(obj) {
    var copy = {};
    for (var key in obj) {
        copy[key] = obj[key];
    }
    return copy;
};

exports.copyArray = function(array){
    var copy = [];
    for (var i=0, l=array.length; i<l; i++) {
        if (array[i] && typeof array[i] == "object")
            copy[i] = this.copyObject( array[i] );
        else 
            copy[i] = array[i];
    }
    return copy;
};

exports.deepCopy = function (obj) {
    if (typeof obj != "object") {
        return obj;
    }
    
    var copy = obj.constructor();
    for (var key in obj) {
        if (typeof obj[key] == "object") {
            copy[key] = this.deepCopy(obj[key]);
        } else {
            copy[key] = obj[key];
        }
    }
    return copy;
};

exports.arrayToMap = function(arr) {
    var map = {};
    for (var i=0; i<arr.length; i++) {
        map[arr[i]] = 1;
    }
    return map;

};

exports.createMap = function(props) {
    var map = Object.create(null);
    for (var i in props) {
        map[i] = props[i];
    }
    return map;
};
exports.arrayRemove = function(array, value) {
  for (var i = 0; i <= array.length; i++) {
    if (value === array[i]) {
      array.splice(i, 1);
    }
  }
};

exports.escapeRegExp = function(str) {
    return str.replace(/([.*+?^${}()|[\]\/\\])/g, '\\$1');
};

exports.escapeHTML = function(str) {
    return str.replace(/&/g, "&#38;").replace(/"/g, "&#34;").replace(/'/g, "&#39;").replace(/</g, "&#60;");
};

exports.getMatchOffsets = function(string, regExp) {
    var matches = [];

    string.replace(regExp, function(str) {
        matches.push({
            offset: arguments[arguments.length-2],
            length: str.length
        });
    });

    return matches;
};
exports.deferredCall = function(fcn) {

    var timer = null;
    var callback = function() {
        timer = null;
        fcn();
    };

    var deferred = function(timeout) {
        deferred.cancel();
        timer = setTimeout(callback, timeout || 0);
        return deferred;
    };

    deferred.schedule = deferred;

    deferred.call = function() {
        this.cancel();
        fcn();
        return deferred;
    };

    deferred.cancel = function() {
        clearTimeout(timer);
        timer = null;
        return deferred;
    };

    return deferred;
};


exports.delayedCall = function(fcn, defaultTimeout) {
    var timer = null;
    var callback = function() {
        timer = null;
        fcn();
    };

    var _self = function(timeout) {
        timer && clearTimeout(timer);
        timer = setTimeout(callback, timeout || defaultTimeout);
    };

    _self.delay = _self;
    _self.schedule = function(timeout) {
        if (timer == null)
            timer = setTimeout(callback, timeout || 0);
    };

    _self.call = function() {
        this.cancel();
        fcn();
    };

    _self.cancel = function() {
        timer && clearTimeout(timer);
        timer = null;
    };

    _self.isPending = function() {
        return timer;
    };

    return _self;
};
});

ace.define('ace/keyboard/textinput', ["require", 'exports', 'module' , 'ace/lib/event', 'ace/lib/useragent', 'ace/lib/dom', 'ace/lib/lang'], function(acequire, exports, module) {


var event = acequire("../lib/event");
var useragent = acequire("../lib/useragent");
var dom = acequire("../lib/dom");
var lang = acequire("../lib/lang");
var BROKEN_SETDATA = useragent.isChrome < 18;

var TextInput = function(parentNode, host) {
    var text = dom.createElement("textarea");
    text.className = "ace_text-input";
    if (useragent.isTouchPad)
        text.setAttribute("x-palm-disable-auto-cap", true);

    text.wrap = "off";
    text.autocorrect = "off";
    text.autocapitalize = "off";
    text.spellcheck = false;

    text.style.bottom = "2000em";
    parentNode.insertBefore(text, parentNode.firstChild);

    var PLACEHOLDER = "\x01\x01";

    var cut = false;
    var copied = false;
    var pasted = false;
    var inComposition = false;
    var tempStyle = '';
    var isSelectionEmpty = true;
    try { var isFocused = document.activeElement === text; } catch(e) {}
    
    event.addListener(text, "blur", function() {
        host.onBlur();
        isFocused = false;
    });
    event.addListener(text, "focus", function() {
        isFocused = true;
        host.onFocus();
        resetSelection();
    });
    this.focus = function() { text.focus(); };
    this.blur = function() { text.blur(); };
    this.isFocused = function() {
        return isFocused;
    };
    var syncSelection = lang.delayedCall(function() {
        isFocused && resetSelection(isSelectionEmpty);
    });
    var syncValue = lang.delayedCall(function() {
         if (!inComposition) {
            text.value = PLACEHOLDER;
            isFocused && resetSelection();
         }
    });

    function resetSelection(isEmpty) {
        if (inComposition)
            return;
        if (inputHandler) {
            selectionStart = 0;
            selectionEnd = isEmpty ? 0 : text.value.length - 1;
        } else {
            var selectionStart = isEmpty ? 2 : 1;
            var selectionEnd = 2;
        }
        try {
            text.setSelectionRange(selectionStart, selectionEnd);
        } catch(e){}
    }

    function resetValue() {
        if (inComposition)
            return;
        text.value = PLACEHOLDER;
        if (useragent.isWebKit)
            syncValue.schedule();
    }

    useragent.isWebKit || host.addEventListener('changeSelection', function() {
        if (host.selection.isEmpty() != isSelectionEmpty) {
            isSelectionEmpty = !isSelectionEmpty;
            syncSelection.schedule();
        }
    });

    resetValue();
    if (isFocused)
        host.onFocus();


    var isAllSelected = function(text) {
        return text.selectionStart === 0 && text.selectionEnd === text.value.length;
    };
    if (!text.setSelectionRange && text.createTextRange) {
        text.setSelectionRange = function(selectionStart, selectionEnd) {
            var range = this.createTextRange();
            range.collapse(true);
            range.moveStart('character', selectionStart);
            range.moveEnd('character', selectionEnd);
            range.select();
        };
        isAllSelected = function(text) {
            try {
                var range = text.ownerDocument.selection.createRange();
            }catch(e) {}
            if (!range || range.parentElement() != text) return false;
                return range.text == text.value;
        }
    }
    if (useragent.isOldIE) {
        var inPropertyChange = false;
        var onPropertyChange = function(e){
            if (inPropertyChange)
                return;
            var data = text.value;
            if (inComposition || !data || data == PLACEHOLDER)
                return;
            if (e && data == PLACEHOLDER[0])
                return syncProperty.schedule();

            sendText(data);
            inPropertyChange = true;
            resetValue();
            inPropertyChange = false;
        };
        var syncProperty = lang.delayedCall(onPropertyChange);
        event.addListener(text, "propertychange", onPropertyChange);

        var keytable = { 13:1, 27:1 };
        event.addListener(text, "keyup", function (e) {
            if (inComposition && (!text.value || keytable[e.keyCode]))
                setTimeout(onCompositionEnd, 0);
            if ((text.value.charCodeAt(0)||0) < 129) {
                return;
            }
            inComposition ? onCompositionUpdate() : onCompositionStart();
        });
    }

    var onSelect = function(e) {
        if (cut) {
            cut = false;
        } else if (copied) {
            copied = false;
        } else if (isAllSelected(text)) {
            host.selectAll();
            resetSelection();
        } else if (inputHandler) {
            resetSelection(host.selection.isEmpty());
        }
    };

    var inputHandler = null;
    this.setInputHandler = function(cb) {inputHandler = cb};
    this.getInputHandler = function() {return inputHandler};
    var afterContextMenu = false;
    
    var sendText = function(data) {
        if (inputHandler) {
            data = inputHandler(data);
            inputHandler = null;
        }
        if (pasted) {
            resetSelection();
            if (data)
                host.onPaste(data);
            pasted = false;
        } else if (data == PLACEHOLDER[0]) {
            if (afterContextMenu)
                host.execCommand("del", {source: "ace"});
        } else {
            if (data.substring(0, 2) == PLACEHOLDER)
                data = data.substr(2);
            else if (data[0] == PLACEHOLDER[0])
                data = data.substr(1);
            else if (data[data.length - 1] == PLACEHOLDER[0])
                data = data.slice(0, -1);
            if (data[data.length - 1] == PLACEHOLDER[0])
                data = data.slice(0, -1);
            
            if (data)
                host.onTextInput(data);
        }
        if (afterContextMenu)
            afterContextMenu = false;
    };
    var onInput = function(e) {
        if (inComposition)
            return;
        var data = text.value;
        sendText(data);
        resetValue();
    };

    var onCut = function(e) {
        var data = host.getCopyText();
        if (!data) {
            event.preventDefault(e);
            return;
        }

        var clipboardData = e.clipboardData || window.clipboardData;

        if (clipboardData && !BROKEN_SETDATA) {
            var supported = clipboardData.setData("Text", data);
            if (supported) {
                host.onCut();
                event.preventDefault(e);
            }
        }

        if (!supported) {
            cut = true;
            text.value = data;
            text.select();
            setTimeout(function(){
                cut = false;
                resetValue();
                resetSelection();
                host.onCut();
            });
        }
    };

    var onCopy = function(e) {
        var data = host.getCopyText();
        if (!data) {
            event.preventDefault(e);
            return;
        }

        var clipboardData = e.clipboardData || window.clipboardData;
        if (clipboardData && !BROKEN_SETDATA) {
            var supported = clipboardData.setData("Text", data);
            if (supported) {
                host.onCopy();
                event.preventDefault(e);
            }
        }
        if (!supported) {
            copied = true;
            text.value = data;
            text.select();
            setTimeout(function(){
                copied = false;
                resetValue();
                resetSelection();
                host.onCopy();
            });
        }
    };

    var onPaste = function(e) {
        var clipboardData = e.clipboardData || window.clipboardData;

        if (clipboardData) {
            var data = clipboardData.getData("Text");
            if (data)
                host.onPaste(data);
            if (useragent.isIE)
                setTimeout(resetSelection);
            event.preventDefault(e);
        }
        else {
            text.value = "";
            pasted = true;
        }
    };

    event.addCommandKeyListener(text, host.onCommandKey.bind(host));

    event.addListener(text, "select", onSelect);

    event.addListener(text, "input", onInput);

    event.addListener(text, "cut", onCut);
    event.addListener(text, "copy", onCopy);
    event.addListener(text, "paste", onPaste);
    if (!('oncut' in text) || !('oncopy' in text) || !('onpaste' in text)){
        event.addListener(parentNode, "keydown", function(e) {
            if ((useragent.isMac && !e.metaKey) || !e.ctrlKey)
            return;

            switch (e.keyCode) {
                case 67:
                    onCopy(e);
                    break;
                case 86:
                    onPaste(e);
                    break;
                case 88:
                    onCut(e);
                    break;
            }
        });
    }
    var onCompositionStart = function(e) {
        if (inComposition) return;
        inComposition = {};
        host.onCompositionStart();
        setTimeout(onCompositionUpdate, 0);
        host.on("mousedown", onCompositionEnd);
        if (!host.selection.isEmpty()) {
            host.insert("");
            host.session.markUndoGroup();
            host.selection.clearSelection();
        }
        host.session.markUndoGroup();
    };

    var onCompositionUpdate = function() {
        if (!inComposition) return;
        host.onCompositionUpdate(text.value);
        if (inComposition.lastValue)
            host.undo();
        inComposition.lastValue = text.value.replace(/\x01/g, "")
        if (inComposition.lastValue) {
            var r = host.selection.getRange();
            host.insert(inComposition.lastValue);
            host.session.markUndoGroup();
            inComposition.range = host.selection.getRange();
            host.selection.setRange(r);
            host.selection.clearSelection();
        }
    };

    var onCompositionEnd = function(e) {
        var c = inComposition;
        inComposition = false;
        var timer = setTimeout(function() {
            var str = text.value.replace(/\x01/g, "");
            if (inComposition)
                return
            else if (str == c.lastValue)
                resetValue();
            else if (!c.lastValue && str) {
                resetValue();
                sendText(str);
            }
        });
        inputHandler = function compositionInputHandler(str) {
            clearTimeout(timer);
            str = str.replace(/\x01/g, "");
            if (str == c.lastValue)
                return "";
            if (c.lastValue)
                host.undo();
            return str;
        }        
        host.onCompositionEnd();
        host.removeListener("mousedown", onCompositionEnd);
        if (e.type == "compositionend" && c.range) {
            host.selection.setRange(c.range);
        }
    };
    
    

    var syncComposition = lang.delayedCall(onCompositionUpdate, 50);

    event.addListener(text, "compositionstart", onCompositionStart);
    event.addListener(text, useragent.isGecko ? "text" : "keyup", function(){syncComposition.schedule()});
    event.addListener(text, "compositionend", onCompositionEnd);

    this.getElement = function() {
        return text;
    };

    this.setReadOnly = function(readOnly) {
       text.readOnly = readOnly;
    };

    this.onContextMenu = function(e) {
        afterContextMenu = true;
        if (!tempStyle)
            tempStyle = text.style.cssText;

        text.style.cssText = "z-index:100000;" + (useragent.isIE ? "opacity:0.1;" : "");

        resetSelection(host.selection.isEmpty());
        host._emit("nativecontextmenu", {target: host});
        var rect = host.container.getBoundingClientRect();
        var style = dom.computedStyle(host.container);
        var top = rect.top + (parseInt(style.borderTopWidth) || 0);
        var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);
        var maxTop = rect.bottom - top - text.clientHeight;
        var move = function(e) {
            text.style.left = e.clientX - left - 2 + "px";
            text.style.top = Math.min(e.clientY - top - 2, maxTop) + "px";
        }; 
        move(e);

        if (e.type != "mousedown")
            return;

        if (host.renderer.$keepTextAreaAtCursor)
            host.renderer.$keepTextAreaAtCursor = null;
        if (useragent.isWin)
            event.capture(host.container, move, onContextMenuClose);
    };

    this.onContextMenuClose = onContextMenuClose;
    function onContextMenuClose() {
        setTimeout(function () {
            if (tempStyle) {
                text.style.cssText = tempStyle;
                tempStyle = '';
            }
            if (host.renderer.$keepTextAreaAtCursor == null) {
                host.renderer.$keepTextAreaAtCursor = true;
                host.renderer.$moveTextAreaToCursor();
            }
        }, 0);
    }
    if (!useragent.isGecko) {
        event.addListener(text, "contextmenu", function(e) {
            host.textInput.onContextMenu(e);
            onContextMenuClose();
        });
    }
};

exports.TextInput = TextInput;
});

ace.define('ace/mouse/mouse_handler', ["require", 'exports', 'module' , 'ace/lib/event', 'ace/lib/useragent', 'ace/mouse/default_handlers', 'ace/mouse/default_gutter_handler', 'ace/mouse/mouse_event', 'ace/mouse/dragdrop', 'ace/config'], function(acequire, exports, module) {


var event = acequire("../lib/event");
var useragent = acequire("../lib/useragent");
var DefaultHandlers = acequire("./default_handlers").DefaultHandlers;
var DefaultGutterHandler = acequire("./default_gutter_handler").GutterHandler;
var MouseEvent = acequire("./mouse_event").MouseEvent;
var DragdropHandler = acequire("./dragdrop").DragdropHandler;
var config = acequire("../config");

var MouseHandler = function(editor) {
    this.editor = editor;

    new DefaultHandlers(this);
    new DefaultGutterHandler(this);
    new DragdropHandler(this);

    event.addListener(editor.container, "mousedown", function(e) {
        editor.focus();
        return event.preventDefault(e);
    });

    var mouseTarget = editor.renderer.getMouseEventTarget();
    event.addListener(mouseTarget, "click", this.onMouseEvent.bind(this, "click"));
    event.addListener(mouseTarget, "mousemove", this.onMouseMove.bind(this, "mousemove"));
    event.addMultiMouseDownListener(mouseTarget, [300, 300, 250], this, "onMouseEvent");
    event.addMouseWheelListener(editor.container, this.onMouseWheel.bind(this, "mousewheel"));

    var gutterEl = editor.renderer.$gutter;
    event.addListener(gutterEl, "mousedown", this.onMouseEvent.bind(this, "guttermousedown"));
    event.addListener(gutterEl, "click", this.onMouseEvent.bind(this, "gutterclick"));
    event.addListener(gutterEl, "dblclick", this.onMouseEvent.bind(this, "gutterdblclick"));
    event.addListener(gutterEl, "mousemove", this.onMouseEvent.bind(this, "guttermousemove"));
};

(function() {
    this.onMouseEvent = function(name, e) {
        this.editor._emit(name, new MouseEvent(e, this.editor));
    };

    this.onMouseMove = function(name, e) {
        var listeners = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;
        if (!listeners || !listeners.length)
            return;

        this.editor._emit(name, new MouseEvent(e, this.editor));
    };

    this.onMouseWheel = function(name, e) {
        var mouseEvent = new MouseEvent(e, this.editor);
        mouseEvent.speed = this.$scrollSpeed * 2;
        mouseEvent.wheelX = e.wheelX;
        mouseEvent.wheelY = e.wheelY;

        this.editor._emit(name, mouseEvent);
    };

    this.setState = function(state) {
        this.state = state;
    };

    this.captureMouse = function(ev, state) {
        if (state)
            this.setState(state);

        this.x = ev.x;
        this.y = ev.y;
        
        this.isMousePressed = true;
        var renderer = this.editor.renderer;
        if (renderer.$keepTextAreaAtCursor)
            renderer.$keepTextAreaAtCursor = null;

        var self = this;
        var onMouseMove = function(e) {
            self.x = e.clientX;
            self.y = e.clientY;
        };

        var onCaptureEnd = function(e) {
            clearInterval(timerId);
            onCaptureInterval();
            self[self.state + "End"] && self[self.state + "End"](e);
            self.$clickSelection = null;
            if (renderer.$keepTextAreaAtCursor == null) {
                renderer.$keepTextAreaAtCursor = true;
                renderer.$moveTextAreaToCursor();
            }
            self.isMousePressed = false;
            self.onMouseEvent("mouseup", e)
        };

        var onCaptureInterval = function() {
            self[self.state] && self[self.state]();
        };
        
        if (useragent.isOldIE && ev.domEvent.type == "dblclick") {
            return setTimeout(function() {onCaptureEnd(ev.domEvent);});
        }

        event.capture(this.editor.container, onMouseMove, onCaptureEnd);
        var timerId = setInterval(onCaptureInterval, 20);
    };
}).call(MouseHandler.prototype);

config.defineOptions(MouseHandler.prototype, "mouseHandler", {
    scrollSpeed: {initialValue: 2},
    dragDelay: {initialValue: 150},
    focusTimout: {initialValue: 0}
});


exports.MouseHandler = MouseHandler;
});

ace.define('ace/mouse/default_handlers', ["require", 'exports', 'module' , 'ace/lib/dom', 'ace/lib/useragent'], function(acequire, exports, module) {


var dom = acequire("../lib/dom");
var useragent = acequire("../lib/useragent");

var DRAG_OFFSET = 0; // pixels

function DefaultHandlers(mouseHandler) {
    mouseHandler.$clickSelection = null;

    var editor = mouseHandler.editor;
    editor.setDefaultHandler("mousedown", this.onMouseDown.bind(mouseHandler));
    editor.setDefaultHandler("dblclick", this.onDoubleClick.bind(mouseHandler));
    editor.setDefaultHandler("tripleclick", this.onTripleClick.bind(mouseHandler));
    editor.setDefaultHandler("quadclick", this.onQuadClick.bind(mouseHandler));
    editor.setDefaultHandler("mousewheel", this.onMouseWheel.bind(mouseHandler));

    var exports = ["select", "startSelect", "drag", "dragEnd", "dragWait",
        "dragWaitEnd", "startDrag", "focusWait"];

    exports.forEach(function(x) {
        mouseHandler[x] = this[x];
    }, this);

    mouseHandler.selectByLines = this.extendSelectionBy.bind(mouseHandler, "getLineRange");
    mouseHandler.selectByWords = this.extendSelectionBy.bind(mouseHandler, "getWordRange");
}

(function() {

    this.onMouseDown = function(ev) {
        var inSelection = ev.inSelection();
        var pos = ev.getDocumentPosition();
        this.mousedownEvent = ev;
        var editor = this.editor;

        var button = ev.getButton();
        if (button !== 0) {
            var selectionRange = editor.getSelectionRange();
            var selectionEmpty = selectionRange.isEmpty();

            if (selectionEmpty) {
                editor.moveCursorToPosition(pos);
                editor.selection.clearSelection();
            }
            editor.textInput.onContextMenu(ev.domEvent);
            return; // stopping event here breaks contextmenu on ff mac
        }
        if (inSelection && !editor.isFocused()) {
            editor.focus();
            if (this.$focusTimout && !this.$clickSelection && !editor.inMultiSelectMode) {
                this.setState("focusWait");
                this.captureMouse(ev);
                return ev.preventDefault();
            }
        }

        if (!inSelection || this.$clickSelection || ev.getShiftKey() || editor.inMultiSelectMode) {
            this.startSelect(pos);
        } else if (inSelection) {
            this.mousedownEvent.time = (new Date()).getTime();
            this.setState("dragWait");
        }

        this.captureMouse(ev);
        return ev.preventDefault();
    };

    this.startSelect = function(pos) {
        pos = pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);
        if (this.mousedownEvent.getShiftKey()) {
            this.editor.selection.selectToPosition(pos);
        }
        else if (!this.$clickSelection) {
            this.editor.moveCursorToPosition(pos);
            this.editor.selection.clearSelection();
        }
        this.setState("select");
    };

    this.select = function() {
        var anchor, editor = this.editor;
        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);

        if (this.$clickSelection) {
            var cmp = this.$clickSelection.comparePoint(cursor);

            if (cmp == -1) {
                anchor = this.$clickSelection.end;
            } else if (cmp == 1) {
                anchor = this.$clickSelection.start;
            } else {
                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);
                cursor = orientedRange.cursor;
                anchor = orientedRange.anchor;
            }
            editor.selection.setSelectionAnchor(anchor.row, anchor.column);
        }
        editor.selection.selectToPosition(cursor);

        editor.renderer.scrollCursorIntoView();
    };

    this.extendSelectionBy = function(unitName) {
        var anchor, editor = this.editor;
        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);
        var range = editor.selection[unitName](cursor.row, cursor.column);

        if (this.$clickSelection) {
            var cmpStart = this.$clickSelection.comparePoint(range.start);
            var cmpEnd = this.$clickSelection.comparePoint(range.end);

            if (cmpStart == -1 && cmpEnd <= 0) {
                anchor = this.$clickSelection.end;
                if (range.end.row != cursor.row || range.end.column != cursor.column)
                    cursor = range.start;
            } else if (cmpEnd == 1 && cmpStart >= 0) {
                anchor = this.$clickSelection.start;
                if (range.start.row != cursor.row || range.start.column != cursor.column)
                    cursor = range.end;
            } else if (cmpStart == -1 && cmpEnd == 1) {
                cursor = range.end;
                anchor = range.start;
            } else {
                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);
                cursor = orientedRange.cursor;
                anchor = orientedRange.anchor;
            }
            editor.selection.setSelectionAnchor(anchor.row, anchor.column);
        }
        editor.selection.selectToPosition(cursor);

        editor.renderer.scrollCursorIntoView();
    };

    this.startDrag = function() {
        var editor = this.editor;
        this.setState("drag");
        this.dragRange = editor.getSelectionRange();
        var style = editor.getSelectionStyle();
        this.dragSelectionMarker = editor.session.addMarker(this.dragRange, "ace_selection", style);
        editor.clearSelection();
        dom.addCssClass(editor.container, "ace_dragging");
        if (!this.$dragKeybinding) {
            this.$dragKeybinding = {
                handleKeyboard: function(data, hashId, keyString, keyCode) {
                    if (keyString == "esc")
                        return {command: this.command};
                },
                command: {
                    exec: function(editor) {
                        var self = editor.$mouseHandler;
                        self.dragCursor = null;
                        self.dragEnd();
                        self.startSelect();
                    }
                }
            }
        }

        editor.keyBinding.addKeyboardHandler(this.$dragKeybinding);
    };

    this.focusWait = function() {
        var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
        var time = (new Date()).getTime();

        if (distance > DRAG_OFFSET || time - this.mousedownEvent.time > this.$focusTimout)
            this.startSelect(this.mousedownEvent.getDocumentPosition());
    };

    this.dragWait = function(e) {
        var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
        var time = (new Date()).getTime();
        var editor = this.editor;

        if (distance > DRAG_OFFSET) {
            this.startSelect(this.mousedownEvent.getDocumentPosition());
        } else if (time - this.mousedownEvent.time > editor.$mouseHandler.$dragDelay) {
            this.startDrag();
        }
    };

    this.dragWaitEnd = function(e) {
        this.mousedownEvent.domEvent = e;
        this.startSelect();
    };

    this.drag = function() {
        var editor = this.editor;
        this.dragCursor = editor.renderer.screenToTextCoordinates(this.x, this.y);
        editor.moveCursorToPosition(this.dragCursor);
        editor.renderer.scrollCursorIntoView();
    };

    this.dragEnd = function(e) {
        var editor = this.editor;
        var dragCursor = this.dragCursor;
        var dragRange = this.dragRange;
        dom.removeCssClass(editor.container, "ace_dragging");
        editor.session.removeMarker(this.dragSelectionMarker);
        editor.keyBinding.removeKeyboardHandler(this.$dragKeybinding);

        if (!dragCursor)
            return;

        editor.clearSelection();
        if (e && (e.ctrlKey || e.altKey)) {
            var session = editor.session;
            var newRange = dragRange;
            newRange.end = session.insert(dragCursor, session.getTextRange(dragRange));
            newRange.start = dragCursor;
        } else if (dragRange.contains(dragCursor.row, dragCursor.column)) {
            return;
        } else {
            var newRange = editor.moveText(dragRange, dragCursor);
        }

        if (!newRange)
            return;

        editor.selection.setSelectionRange(newRange);
    };

    this.onDoubleClick = function(ev) {
        var pos = ev.getDocumentPosition();
        var editor = this.editor;
        var session = editor.session;

        var range = session.getBracketRange(pos);
        if (range) {
            if (range.isEmpty()) {
                range.start.column--;
                range.end.column++;
            }
            this.$clickSelection = range;
            this.setState("select");
            return;
        }

        this.$clickSelection = editor.selection.getWordRange(pos.row, pos.column);
        this.setState("selectByWords");
    };

    this.onTripleClick = function(ev) {
        var pos = ev.getDocumentPosition();
        var editor = this.editor;

        this.setState("selectByLines");
        this.$clickSelection = editor.selection.getLineRange(pos.row);
    };

    this.onQuadClick = function(ev) {
        var editor = this.editor;

        editor.selectAll();
        this.$clickSelection = editor.getSelectionRange();
        this.setState("null");
    };

    this.onMouseWheel = function(ev) {
        if (ev.getShiftKey() || ev.getAccelKey())
            return;
        var t = ev.domEvent.timeStamp;
        var dt = t - (this.$lastScrollTime||0);
        
        var editor = this.editor;
        var isScrolable = editor.renderer.isScrollableBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);
        if (isScrolable || dt < 200) {
            this.$lastScrollTime = t;
            editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);
            return ev.stop();
        }
    };

}).call(DefaultHandlers.prototype);

exports.DefaultHandlers = DefaultHandlers;

function calcDistance(ax, ay, bx, by) {
    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));
}

function calcRangeOrientation(range, cursor) {
    if (range.start.row == range.end.row)
        var cmp = 2 * cursor.column - range.start.column - range.end.column;
    else if (range.start.row == range.end.row - 1 && !range.start.column && !range.end.column)
        var cmp = cursor.column - 4;
    else
        var cmp = 2 * cursor.row - range.start.row - range.end.row;

    if (cmp < 0)
        return {cursor: range.start, anchor: range.end};
    else
        return {cursor: range.end, anchor: range.start};
}

});

ace.define('ace/mouse/default_gutter_handler', ["require", 'exports', 'module' , 'ace/lib/dom', 'ace/lib/event'], function(acequire, exports, module) {

var dom = acequire("../lib/dom");
var event = acequire("../lib/event");

function GutterHandler(mouseHandler) {
    var editor = mouseHandler.editor;
    var gutter = editor.renderer.$gutterLayer;

    mouseHandler.editor.setDefaultHandler("guttermousedown", function(e) {
        if (!editor.isFocused())
            return;
        var gutterRegion = gutter.getRegion(e);

        if (gutterRegion == "foldWidgets")
            return;

        var row = e.getDocumentPosition().row;
        var selection = editor.session.selection;

        if (e.getShiftKey())
            selection.selectTo(row, 0);
        else {
            if (e.domEvent.detail == 2) {
                editor.selectAll();
                return e.preventDefault();
            }
            mouseHandler.$clickSelection = editor.selection.getLineRange(row);
        }
        mouseHandler.captureMouse(e, "selectByLines");
        return e.preventDefault();
    });


    var tooltipTimeout, mouseEvent, tooltip, tooltipAnnotation;
    function createTooltip() {
        tooltip = dom.createElement("div");
        tooltip.className = "ace_gutter-tooltip";
        tooltip.style.display = "none";
        editor.container.appendChild(tooltip);
    }

    function showTooltip() {
        if (!tooltip) {
            createTooltip();
        }
        var row = mouseEvent.getDocumentPosition().row;
        var annotation = gutter.$annotations[row];
        if (!annotation)
            return hideTooltip();

        var maxRow = editor.session.getLength();
        if (row == maxRow) {
            var screenRow = editor.renderer.pixelToScreenCoordinates(0, mouseEvent.y).row;
            var pos = mouseEvent.$pos;
            if (screenRow > editor.session.documentToScreenRow(pos.row, pos.column))
                return hideTooltip();
        }

        if (tooltipAnnotation == annotation)
            return;
        tooltipAnnotation = annotation.text.join("<br/>");

        tooltip.style.display = "block";
        tooltip.innerHTML = tooltipAnnotation;
        editor.on("mousewheel", hideTooltip);

        moveTooltip(mouseEvent);
    }

    function hideTooltip() {
        if (tooltipTimeout)
            tooltipTimeout = clearTimeout(tooltipTimeout);
        if (tooltipAnnotation) {
            tooltip.style.display = "none";
            tooltipAnnotation = null;
            editor.removeEventListener("mousewheel", hideTooltip);
        }
    }

    function moveTooltip(e) {
        var rect = editor.renderer.$gutter.getBoundingClientRect();
        tooltip.style.left = e.x + 15 + "px";
        if (e.y + 3 * editor.renderer.lineHeight + 15 < rect.bottom) {
            tooltip.style.bottom =  "";
            tooltip.style.top =  e.y + 15 + "px";
        } else {
            tooltip.style.top =  "";
            tooltip.style.bottom = rect.bottom - e.y + 5 + "px";
        }
    }

    mouseHandler.editor.setDefaultHandler("guttermousemove", function(e) {
        var target = e.domEvent.target || e.domEvent.srcElement;
        if (dom.hasCssClass(target, "ace_fold-widget"))
            return hideTooltip();

        if (tooltipAnnotation)
            moveTooltip(e);

        mouseEvent = e;
        if (tooltipTimeout)
            return;
        tooltipTimeout = setTimeout(function() {
            tooltipTimeout = null;
            if (mouseEvent && !mouseHandler.isMousePressed)
                showTooltip();
            else
                hideTooltip();
        }, 50);
    });

    event.addListener(editor.renderer.$gutter, "mouseout", function(e) {
        mouseEvent = null;
        if (!tooltipAnnotation || tooltipTimeout)
            return;

        tooltipTimeout = setTimeout(function() {
            tooltipTimeout = null;
            hideTooltip();
        }, 50);
    });

}

exports.GutterHandler = GutterHandler;

});

ace.define('ace/mouse/mouse_event', ["require", 'exports', 'module' , 'ace/lib/event', 'ace/lib/useragent'], function(acequire, exports, module) {


var event = acequire("../lib/event");
var useragent = acequire("../lib/useragent");
var MouseEvent = exports.MouseEvent = function(domEvent, editor) {
    this.domEvent = domEvent;
    this.editor = editor;
    
    this.x = this.clientX = domEvent.clientX;
    this.y = this.clientY = domEvent.clientY;

    this.$pos = null;
    this.$inSelection = null;
    
    this.propagationStopped = false;
    this.defaultPrevented = false;
};

(function() {  
    
    this.stopPropagation = function() {
        event.stopPropagation(this.domEvent);
        this.propagationStopped = true;
    };
    
    this.preventDefault = function() {
        event.preventDefault(this.domEvent);
        this.defaultPrevented = true;
    };
    
    this.stop = function() {
        this.stopPropagation();
        this.preventDefault();
    };
    this.getDocumentPosition = function() {
        if (this.$pos)
            return this.$pos;
        
        this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY);
        return this.$pos;
    };
    this.inSelection = function() {
        if (this.$inSelection !== null)
            return this.$inSelection;
            
        var editor = this.editor;
        
        if (editor.getReadOnly()) {
            this.$inSelection = false;
        }
        else {
            var selectionRange = editor.getSelectionRange();
            if (selectionRange.isEmpty())
                this.$inSelection = false;
            else {
                var pos = this.getDocumentPosition();
                this.$inSelection = selectionRange.contains(pos.row, pos.column);
            }
        }
        return this.$inSelection;
    };
    this.getButton = function() {
        return event.getButton(this.domEvent);
    };
    this.getShiftKey = function() {
        return this.domEvent.shiftKey;
    };
    
    this.getAccelKey = useragent.isMac
        ? function() { return this.domEvent.metaKey; }
        : function() { return this.domEvent.ctrlKey; };
    
}).call(MouseEvent.prototype);

});

ace.define('ace/mouse/dragdrop', ["require", 'exports', 'module' , 'ace/lib/event'], function(acequire, exports, module) {


var event = acequire("../lib/event");

var DragdropHandler = function(mouseHandler) {
    var editor = mouseHandler.editor;
    var dragSelectionMarker, x, y;
    var timerId, range;
    var dragCursor, counter = 0;

    var mouseTarget = editor.container;
    event.addListener(mouseTarget, "dragenter", function(e) {
        if (editor.getReadOnly())
            return;
        var types = e.dataTransfer.types;
        if (types && Array.prototype.indexOf.call(types, "text/plain") === -1)
            return;
        if (!dragSelectionMarker)
            addDragMarker();
        counter++;
        return event.preventDefault(e);
    });

    event.addListener(mouseTarget, "dragover", function(e) {
        if (editor.getReadOnly())
            return;
        var types = e.dataTransfer.types;
        if (types && Array.prototype.indexOf.call(types, "text/plain") === -1)
            return;
        if (onMouseMoveTimer !== null)
            onMouseMoveTimer = null;
        x = e.clientX;
        y = e.clientY;
        return event.preventDefault(e);
    });

    var onDragInterval =  function() {
        dragCursor = editor.renderer.screenToTextCoordinates(x, y);
        editor.moveCursorToPosition(dragCursor);
        editor.renderer.scrollCursorIntoView();
    };

    event.addListener(mouseTarget, "dragleave", function(e) {
        counter--;
        if (counter <= 0 && dragSelectionMarker) {
            clearDragMarker();
            return event.preventDefault(e);
        }
    });

    event.addListener(mouseTarget, "drop", function(e) {
        if (!dragSelectionMarker)
            return;
        range.end = editor.session.insert(dragCursor, e.dataTransfer.getData('Text'));
        range.start = dragCursor;
        clearDragMarker();
        editor.focus();
        return event.preventDefault(e);
    });

    function addDragMarker() {
        range = editor.selection.toOrientedRange();
        dragSelectionMarker = editor.session.addMarker(range, "ace_selection", editor.getSelectionStyle());
        editor.clearSelection();
        clearInterval(timerId);
        timerId = setInterval(onDragInterval, 20);
        counter = 0;
        event.addListener(document, "mousemove", onMouseMove);
    }
    function clearDragMarker() {
        clearInterval(timerId);
        editor.session.removeMarker(dragSelectionMarker);
        dragSelectionMarker = null;
        editor.selection.fromOrientedRange(range);
        counter = 0;
        event.removeListener(document, "mousemove", onMouseMove);
    }
    var onMouseMoveTimer = null;
    function onMouseMove() {
        if (onMouseMoveTimer == null) {
            onMouseMoveTimer = setTimeout(function() {
                if (onMouseMoveTimer != null && dragSelectionMarker)
                    clearDragMarker();
            }, 20);
        }
    }
};

exports.DragdropHandler = DragdropHandler;
});

ace.define('ace/config', ["require", 'exports', 'module' , 'ace/lib/lang', 'ace/lib/oop', 'ace/lib/net', 'ace/lib/event_emitter'], function(acequire, exports, module) {
"no use strict";

var lang = acequire("./lib/lang");
var oop = acequire("./lib/oop");
var net = acequire("./lib/net");
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;

var global = (function() {
    return this;
})();

var options = {
    packaged: false,
    workerPath: null,
    modePath: null,
    themePath: null,
    basePath: "",
    suffix: ".js",
    $moduleUrls: {}
};

exports.get = function(key) {
    if (!options.hasOwnProperty(key))
        throw new Error("Unknown config key: " + key);

    return options[key];
};

exports.set = function(key, value) {
    if (!options.hasOwnProperty(key))
        throw new Error("Unknown config key: " + key);

    options[key] = value;
};

exports.all = function() {
    return lang.copyObject(options);
};
oop.implement(exports, EventEmitter);

exports.moduleUrl = function(name, component) {
    if (options.$moduleUrls[name])
        return options.$moduleUrls[name];

    var parts = name.split("/");
    component = component || parts[parts.length - 2] || "";
    var base = parts[parts.length - 1].replace(component, "").replace(/(^[\-_])|([\-_]$)/, "");

    if (!base && parts.length > 1)
        base = parts[parts.length - 2];
    var path = options[component + "Path"];
    if (path == null)
        path = options.basePath;
    if (path && path.slice(-1) != "/")
        path += "/";
    return path + component + "-" + base + this.get("suffix");
};

exports.setModuleUrl = function(name, subst) {
    return options.$moduleUrls[name] = subst;
};

exports.$loading = {};
exports.loadModule = function(moduleName, onLoad) {
    var module, moduleType;
    if (Array.isArray(moduleName)) {
        moduleType = moduleName[0];
        moduleName = moduleName[1];
    }

    try {
        module = acequire(moduleName);
    } catch (e) {};
    if (module && !exports.$loading[moduleName])
        return onLoad && onLoad(module);

    if (!exports.$loading[moduleName])
        exports.$loading[moduleName] = [];

    exports.$loading[moduleName].push(onLoad);

    if (exports.$loading[moduleName].length > 1)
        return;

    var afterLoad = function() {
        acequire([moduleName], function(module) {
            exports._emit("load.module", {name: moduleName, module: module});
            var listeners = exports.$loading[moduleName];
            exports.$loading[moduleName] = null;
            listeners.forEach(function(onLoad) {
                onLoad && onLoad(module);
            });
        });
    };

    if (!exports.get("packaged"))
        return afterLoad();
    net.loadScript(exports.moduleUrl(moduleName, moduleType), afterLoad);
};
exports.init = function() {
    options.packaged = acequire.packaged || module.packaged || (global.define && define.packaged);

    if (!global.document)
        return "";

    var scriptOptions = {};
    var scriptUrl = "";

    var scripts = document.getElementsByTagName("script");
    for (var i=0; i<scripts.length; i++) {
        var script = scripts[i];

        var src = script.src || script.getAttribute("src");
        if (!src)
            continue;

        var attributes = script.attributes;
        for (var j=0, l=attributes.length; j < l; j++) {
            var attr = attributes[j];
            if (attr.name.indexOf("data-ace-") === 0) {
                scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/, ""))] = attr.value;
            }
        }

        var m = src.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);
        if (m)
            scriptUrl = m[1];
    }

    if (scriptUrl) {
        scriptOptions.base = scriptOptions.base || scriptUrl;
        scriptOptions.packaged = true;
    }

    scriptOptions.basePath = scriptOptions.base;
    scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;
    scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;
    scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;
    delete scriptOptions.base;

    for (var key in scriptOptions)
        if (typeof scriptOptions[key] !== "undefined")
            exports.set(key, scriptOptions[key]);
};

function deHyphenate(str) {
    return str.replace(/-(.)/g, function(m, m1) { return m1.toUpperCase(); });
}

var optionsProvider = {
    setOptions: function(optList) {
        Object.keys(optList).forEach(function(key) {
            this.setOption(key, optList[key]);
        }, this);
    },
    getOptions: function(optionNames) {
        var result = {};
        if (!optionNames) {
            optionNames = Object.keys(this.$options);
        } else if (!Array.isArray(optionNames)) {
            result = optionNames;
            optionNames = Object.keys(result);
        }
        optionNames.forEach(function(key) {
            result[key] = this.getOption(key);
        }, this);
        return result;
    },
    setOption: function(name, value) {
        if (this["$" + name] === value)
            return;
        var opt = this.$options[name];
        if (!opt)
            return undefined;
        if (opt.forwardTo)
            return this[opt.forwardTo] && this[opt.forwardTo].setOption(name, value);

        if (!opt.handlesSet)
            this["$" + name] = value;
        if (opt && opt.set)
            opt.set.call(this, value);
    },
    getOption: function(name) {
        var opt = this.$options[name];
        if (!opt)
            return undefined;
        if (opt.forwardTo)
            return this[opt.forwardTo] && this[opt.forwardTo].getOption(name);
        return opt && opt.get ? opt.get.call(this) : this["$" + name];
    }
};

var defaultOptions = {};
exports.defineOptions = function(obj, path, options) {
    if (!obj.$options)
        defaultOptions[path] = obj.$options = {};

    Object.keys(options).forEach(function(key) {
        var opt = options[key];
        if (typeof opt == "string")
            opt = {forwardTo: opt};

        opt.name || (opt.name = key);
        obj.$options[opt.name] = opt;
        if ("initialValue" in opt)
            obj["$" + opt.name] = opt.initialValue;
    });
    oop.implement(obj, optionsProvider);

    return this;
};

exports.resetOptions = function(obj) {
    Object.keys(obj.$options).forEach(function(key) {
        var opt = obj.$options[key];
        if ("value" in opt)
            obj.setOption(key, opt.value);
    });
};

exports.setDefaultValue = function(path, name, value) {
    var opts = defaultOptions[path] || (defaultOptions[path] = {});
    if (opts[name]) {
        if (opts.forwardTo)
            exports.setDefaultValue(opts.forwardTo, name, value)
        else
            opts[name].value = value;
    }
};

exports.setDefaultValues = function(path, optionHash) {
    Object.keys(optionHash).forEach(function(key) {
        exports.setDefaultValue(path, key, optionHash[key]);
    });
};

});
ace.define('ace/lib/net', ["require", 'exports', 'module' , 'ace/lib/dom'], function(acequire, exports, module) {

var dom = acequire("./dom");

exports.get = function (url, callback) {
    var xhr = new XMLHttpRequest();
    xhr.open('GET', url, true);
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
            callback(xhr.responseText);
        }
    };
    xhr.send(null);
};

exports.loadScript = function(path, callback) {
    var head = dom.getDocumentHead();
    var s = document.createElement('script');

    s.src = path;
    head.appendChild(s);

    s.onload = s.onreadystatechange = function(_, isAbort) {
        if (isAbort || !s.readyState || s.readyState == "loaded" || s.readyState == "complete") {
            s = s.onload = s.onreadystatechange = null;
            if (!isAbort)
                callback();
        }
    };
};

});

ace.define('ace/lib/event_emitter', ["require", 'exports', 'module' ], function(acequire, exports, module) {


var EventEmitter = {};
var stopPropagation = function() { this.propagationStopped = true; };
var preventDefault = function() { this.defaultPrevented = true; };

EventEmitter._emit =
EventEmitter._dispatchEvent = function(eventName, e) {
    this._eventRegistry || (this._eventRegistry = {});
    this._defaultHandlers || (this._defaultHandlers = {});

    var listeners = this._eventRegistry[eventName] || [];
    var defaultHandler = this._defaultHandlers[eventName];
    if (!listeners.length && !defaultHandler)
        return;

    if (typeof e != "object" || !e)
        e = {};

    if (!e.type)
        e.type = eventName;
    if (!e.stopPropagation)
        e.stopPropagation = stopPropagation;
    if (!e.preventDefault)
        e.preventDefault = preventDefault;

    for (var i=0; i<listeners.length; i++) {
        listeners[i](e, this);
        if (e.propagationStopped)
            break;
    }
    
    if (defaultHandler && !e.defaultPrevented)
        return defaultHandler(e, this);
};


EventEmitter._signal = function(eventName, e) {
    var listeners = (this._eventRegistry || {})[eventName];
    if (!listeners)
        return;

    for (var i=0; i<listeners.length; i++)
        listeners[i](e, this);
};

EventEmitter.once = function(eventName, callback) {
    var _self = this;
    callback && this.addEventListener(eventName, function newCallback() {
        _self.removeEventListener(eventName, newCallback);
        callback.apply(null, arguments);
    });
};


EventEmitter.setDefaultHandler = function(eventName, callback) {
    var handlers = this._defaultHandlers
    if (!handlers)
        handlers = this._defaultHandlers = {_disabled_: {}};
    
    if (handlers[eventName]) {
        var old = handlers[eventName];
        var disabled = handlers._disabled_[eventName];
        if (!disabled)
            handlers._disabled_[eventName] = disabled = [];
        disabled.push(old);
        var i = disabled.indexOf(callback);
        if (i != -1) 
            disabled.splice(i, 1);
    }
    handlers[eventName] = callback;
};
EventEmitter.removeDefaultHandler = function(eventName, callback) {
    var handlers = this._defaultHandlers
    if (!handlers)
        return;
    var disabled = handlers._disabled_[eventName];
    
    if (handlers[eventName] == callback) {
        var old = handlers[eventName];
        if (disabled)
            this.setDefaultHandler(eventName, disabled.pop());
    } else if (disabled) {
        var i = disabled.indexOf(callback);
        if (i != -1)
            disabled.splice(i, 1);
    }
};

EventEmitter.on =
EventEmitter.addEventListener = function(eventName, callback, capturing) {
    this._eventRegistry = this._eventRegistry || {};

    var listeners = this._eventRegistry[eventName];
    if (!listeners)
        listeners = this._eventRegistry[eventName] = [];

    if (listeners.indexOf(callback) == -1)
        listeners[capturing ? "unshift" : "push"](callback);
    return callback;
};

EventEmitter.off =
EventEmitter.removeListener =
EventEmitter.removeEventListener = function(eventName, callback) {
    this._eventRegistry = this._eventRegistry || {};

    var listeners = this._eventRegistry[eventName];
    if (!listeners)
        return;

    var index = listeners.indexOf(callback);
    if (index !== -1)
        listeners.splice(index, 1);
};

EventEmitter.removeAllListeners = function(eventName) {
    if (this._eventRegistry) this._eventRegistry[eventName] = [];
};

exports.EventEmitter = EventEmitter;

});

ace.define('ace/mouse/fold_handler', ["require", 'exports', 'module' ], function(acequire, exports, module) {


function FoldHandler(editor) {

    editor.on("click", function(e) {
        var position = e.getDocumentPosition();
        var session = editor.session;
        var fold = session.getFoldAt(position.row, position.column, 1);
        if (fold) {
            if (e.getAccelKey())
                session.removeFold(fold);
            else
                session.expandFold(fold);

            e.stop();
        }
    });

    editor.on("gutterclick", function(e) {
        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);

        if (gutterRegion == "foldWidgets") {
            var row = e.getDocumentPosition().row;
            var session = editor.session;
            if (session.foldWidgets && session.foldWidgets[row])
                editor.session.onFoldWidgetClick(row, e);
            if (!editor.isFocused())
                editor.focus();
            e.stop();
        }
    });

    editor.on("gutterdblclick", function(e) {
        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);

        if (gutterRegion == "foldWidgets") {
            var row = e.getDocumentPosition().row;
            var session = editor.session;
            var data = session.getParentFoldRangeData(row, true);
            var range = data.range || data.firstRange;

            if (range) {
                var row = range.start.row;
                var fold = session.getFoldAt(row, session.getLine(row).length, 1);

                if (fold) {
                    session.removeFold(fold);
                } else {
                    session.addFold("...", range);
                    editor.renderer.scrollCursorIntoView({row: range.start.row, column: 0});
                }
            }
            e.stop();
        }
    });
}

exports.FoldHandler = FoldHandler;

});

ace.define('ace/keyboard/keybinding', ["require", 'exports', 'module' , 'ace/lib/keys', 'ace/lib/event'], function(acequire, exports, module) {


var keyUtil  = acequire("../lib/keys");
var event = acequire("../lib/event");

var KeyBinding = function(editor) {
    this.$editor = editor;
    this.$data = { };
    this.$handlers = [];
    this.setDefaultHandler(editor.commands);
};

(function() {
    this.setDefaultHandler = function(kb) {
        this.removeKeyboardHandler(this.$defaultHandler);
        this.$defaultHandler = kb;
        this.addKeyboardHandler(kb, 0);
        this.$data = {editor: this.$editor};
    };

    this.setKeyboardHandler = function(kb) {
        var h = this.$handlers;
        if (h[h.length - 1] == kb)
            return;

        while (h[h.length - 1] && h[h.length - 1] != this.$defaultHandler)
            this.removeKeyboardHandler(h[h.length - 1]);

        this.addKeyboardHandler(kb, 1);
    };

    this.addKeyboardHandler = function(kb, pos) {
        if (!kb)
            return;
        var i = this.$handlers.indexOf(kb);
        if (i != -1)
            this.$handlers.splice(i, 1);

        if (pos == undefined)
            this.$handlers.push(kb);
        else
            this.$handlers.splice(pos, 0, kb);

        if (i == -1 && kb.attach)
            kb.attach(this.$editor);
    };

    this.removeKeyboardHandler = function(kb) {
        var i = this.$handlers.indexOf(kb);
        if (i == -1)
            return false;
        this.$handlers.splice(i, 1);
        kb.detach && kb.detach(this.$editor);
        return true;
    };

    this.getKeyboardHandler = function() {
        return this.$handlers[this.$handlers.length - 1];
    };

    this.$callKeyboardHandlers = function (hashId, keyString, keyCode, e) {
        var toExecute;
        var success = false;
        var commands = this.$editor.commands;

        for (var i = this.$handlers.length; i--;) {
            toExecute = this.$handlers[i].handleKeyboard(
                this.$data, hashId, keyString, keyCode, e
            );
            if (!toExecute || !toExecute.command)
                continue;
            if (toExecute.command == "null") {
                success = true;
            } else {
                success = commands.exec(toExecute.command, this.$editor, toExecute.args, e);                
            }
            if (success && e && hashId != -1 && toExecute.passEvent != true)
                event.stopEvent(e);
            if (success)
                break;
        }
        return success;
    };

    this.onCommandKey = function(e, hashId, keyCode) {
        var keyString = keyUtil.keyCodeToString(keyCode);
        this.$callKeyboardHandlers(hashId, keyString, keyCode, e);
    };

    this.onTextInput = function(text) {
        var success = this.$callKeyboardHandlers(-1, text);
        if (!success)
            this.$editor.commands.exec("insertstring", this.$editor, text);
    };

}).call(KeyBinding.prototype);

exports.KeyBinding = KeyBinding;
});

ace.define('ace/edit_session', ["require", 'exports', 'module' , 'ace/lib/oop', 'ace/lib/lang', 'ace/config', 'ace/lib/event_emitter', 'ace/selection', 'ace/mode/text', 'ace/range', 'ace/document', 'ace/background_tokenizer', 'ace/search_highlight', 'ace/edit_session/folding', 'ace/edit_session/bracket_match'], function(acequire, exports, module) {


var oop = acequire("./lib/oop");
var lang = acequire("./lib/lang");
var config = acequire("./config");
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;
var Selection = acequire("./selection").Selection;
var TextMode = acequire("./mode/text").Mode;
var Range = acequire("./range").Range;
var Document = acequire("./document").Document;
var BackgroundTokenizer = acequire("./background_tokenizer").BackgroundTokenizer;
var SearchHighlight = acequire("./search_highlight").SearchHighlight;

var EditSession = function(text, mode) {
    this.$breakpoints = [];
    this.$decorations = [];
    this.$frontMarkers = {};
    this.$backMarkers = {};
    this.$markerId = 1;
    this.$undoSelect = true;

    this.$foldData = [];
    this.$foldData.toString = function() {
        return this.join("\n");
    }
    this.on("changeFold", this.onChangeFold.bind(this));
    this.$onChange = this.onChange.bind(this);

    if (typeof text != "object" || !text.getLine)
        text = new Document(text);

    this.setDocument(text);
    this.selection = new Selection(this);

    config.resetOptions(this);
    this.setMode(mode);
    config._emit("session", this);
};


(function() {

    oop.implement(this, EventEmitter);
    this.setDocument = function(doc) {
        if (this.doc)
            this.doc.removeListener("change", this.$onChange);

        this.doc = doc;
        doc.on("change", this.$onChange);

        if (this.bgTokenizer)
            this.bgTokenizer.setDocument(this.getDocument());

        this.resetCaches();
    };
    this.getDocument = function() {
        return this.doc;
    };
    this.$resetRowCache = function(docRow) {
        if (!docRow) {
            this.$docRowCache = [];
            this.$screenRowCache = [];
            return;
        }
        var l = this.$docRowCache.length;
        var i = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;
        if (l > i) {
            this.$docRowCache.splice(i, l);
            this.$screenRowCache.splice(i, l);
        }
    };

    this.$getRowCacheIndex = function(cacheArray, val) {
        var low = 0;
        var hi = cacheArray.length - 1;

        while (low <= hi) {
            var mid = (low + hi) >> 1;
            var c = cacheArray[mid];

            if (val > c)
                low = mid + 1;
            else if (val < c)
                hi = mid - 1;
            else
                return mid;
        }

        return low -1;
    };

    this.resetCaches = function() {
        this.$modified = true;
        this.$wrapData = [];
        this.$rowLengthCache = [];
        this.$resetRowCache(0);
        if (this.bgTokenizer)
            this.bgTokenizer.start(0);
    };

    this.onChangeFold = function(e) {
        var fold = e.data;
        this.$resetRowCache(fold.start.row);
    };

    this.onChange = function(e) {
        var delta = e.data;
        this.$modified = true;

        this.$resetRowCache(delta.range.start.row);

        var removedFolds = this.$updateInternalDataOnChange(e);
        if (!this.$fromUndo && this.$undoManager && !delta.ignore) {
            this.$deltasDoc.push(delta);
            if (removedFolds && removedFolds.length != 0) {
                this.$deltasFold.push({
                    action: "removeFolds",
                    folds:  removedFolds
                });
            }

            this.$informUndoManager.schedule();
        }

        this.bgTokenizer.$updateOnChange(delta);
        this._emit("change", e);
    };
    this.setValue = function(text) {
        this.doc.setValue(text);
        this.selection.moveCursorTo(0, 0);
        this.selection.clearSelection();

        this.$resetRowCache(0);
        this.$deltas = [];
        this.$deltasDoc = [];
        this.$deltasFold = [];
        this.getUndoManager().reset();
    };
    this.getValue =
    this.toString = function() {
        return this.doc.getValue();
    };
    this.getSelection = function() {
        return this.selection;
    };
    this.getState = function(row) {
        return this.bgTokenizer.getState(row);
    };
    this.getTokens = function(row) {
        return this.bgTokenizer.getTokens(row);
    };
    this.getTokenAt = function(row, column) {
        var tokens = this.bgTokenizer.getTokens(row);
        var token, c = 0;
        if (column == null) {
            i = tokens.length - 1;
            c = this.getLine(row).length;
        } else {
            for (var i = 0; i < tokens.length; i++) {
                c += tokens[i].value.length;
                if (c >= column)
                    break;
            }
        }
        token = tokens[i];
        if (!token)
            return null;
        token.index = i;
        token.start = c - token.value.length;
        return token;
    };
    this.setUndoManager = function(undoManager) {
        this.$undoManager = undoManager;
        this.$deltas = [];
        this.$deltasDoc = [];
        this.$deltasFold = [];

        if (this.$informUndoManager)
            this.$informUndoManager.cancel();

        if (undoManager) {
            var self = this;

            this.$syncInformUndoManager = function() {
                self.$informUndoManager.cancel();

                if (self.$deltasFold.length) {
                    self.$deltas.push({
                        group: "fold",
                        deltas: self.$deltasFold
                    });
                    self.$deltasFold = [];
                }

                if (self.$deltasDoc.length) {
                    self.$deltas.push({
                        group: "doc",
                        deltas: self.$deltasDoc
                    });
                    self.$deltasDoc = [];
                }

                if (self.$deltas.length > 0) {
                    undoManager.execute({
                        action: "aceupdate",
                        args: [self.$deltas, self]
                    });
                }

                self.$deltas = [];
            }
            this.$informUndoManager = lang.delayedCall(this.$syncInformUndoManager);
        }
    };
    this.markUndoGroup = function() {
        if (this.$syncInformUndoManager)
            this.$syncInformUndoManager();
    };
    
    this.$defaultUndoManager = {
        undo: function() {},
        redo: function() {},
        reset: function() {}
    };
    this.getUndoManager = function() {
        return this.$undoManager || this.$defaultUndoManager;
    };
    this.getTabString = function() {
        if (this.getUseSoftTabs()) {
            return lang.stringRepeat(" ", this.getTabSize());
        } else {
            return "\t";
        }
    };
    this.setUseSoftTabs = function(val) {
        this.setOption("useSoftTabs", val);
    };
    this.getUseSoftTabs = function() {
         return this.$useSoftTabs;
    };
    this.setTabSize = function(tabSize) {
        this.setOption("tabSize", tabSize)
    };
    this.getTabSize = function() {
        return this.$tabSize;
    };
    this.isTabStop = function(position) {
        return this.$useSoftTabs && (position.column % this.$tabSize == 0);
    };

    this.$overwrite = false;
    this.setOverwrite = function(overwrite) {
        this.setOption("overwrite", overwrite)
    };
    this.getOverwrite = function() {
        return this.$overwrite;
    };
    this.toggleOverwrite = function() {
        this.setOverwrite(!this.$overwrite);
    };
    this.addGutterDecoration = function(row, className) {
        if (!this.$decorations[row])
            this.$decorations[row] = "";
        this.$decorations[row] += " " + className;
        this._emit("changeBreakpoint", {});
    };
    this.removeGutterDecoration = function(row, className) {
        this.$decorations[row] = (this.$decorations[row] || "").replace(" " + className, "");
        this._emit("changeBreakpoint", {});
    };
    this.getBreakpoints = function() {
        return this.$breakpoints;
    };
    this.setBreakpoints = function(rows) {
        this.$breakpoints = [];
        for (var i=0; i<rows.length; i++) {
            this.$breakpoints[rows[i]] = "ace_breakpoint";
        }
        this._emit("changeBreakpoint", {});
    };
    this.clearBreakpoints = function() {
        this.$breakpoints = [];
        this._emit("changeBreakpoint", {});
    };
    this.setBreakpoint = function(row, className) {
        if (className === undefined)
            className = "ace_breakpoint";
        if (className)
            this.$breakpoints[row] = className;
        else
            delete this.$breakpoints[row];
        this._emit("changeBreakpoint", {});
    };
    this.clearBreakpoint = function(row) {
        delete this.$breakpoints[row];
        this._emit("changeBreakpoint", {});
    };
    this.addMarker = function(range, clazz, type, inFront) {
        var id = this.$markerId++;

        var marker = {
            range : range,
            type : type || "line",
            renderer: typeof type == "function" ? type : null,
            clazz : clazz,
            inFront: !!inFront,
            id: id
        }

        if (inFront) {
            this.$frontMarkers[id] = marker;
            this._emit("changeFrontMarker")
        } else {
            this.$backMarkers[id] = marker;
            this._emit("changeBackMarker")
        }

        return id;
    };
    this.addDynamicMarker = function(marker, inFront) {
        if (!marker.update)
            return;
        var id = this.$markerId++;
        marker.id = id;
        marker.inFront = !!inFront;

        if (inFront) {
            this.$frontMarkers[id] = marker;
            this._emit("changeFrontMarker")
        } else {
            this.$backMarkers[id] = marker;
            this._emit("changeBackMarker")
        }

        return marker;
    };
    this.removeMarker = function(markerId) {
        var marker = this.$frontMarkers[markerId] || this.$backMarkers[markerId];
        if (!marker)
            return;

        var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;
        if (marker) {
            delete (markers[markerId]);
            this._emit(marker.inFront ? "changeFrontMarker" : "changeBackMarker");
        }
    };
    this.getMarkers = function(inFront) {
        return inFront ? this.$frontMarkers : this.$backMarkers;
    };

    this.highlight = function(re) {
        if (!this.$searchHighlight) {
            var highlight = new SearchHighlight(null, "ace_selected-word", "text");
            this.$searchHighlight = this.addDynamicMarker(highlight);
        }
        this.$searchHighlight.setRegexp(re);
    }
    this.highlightLines = function(startRow, endRow, clazz, inFront) {
        if (typeof endRow != "number") {
            clazz = endRow;
            endRow = startRow;
        }
        if (!clazz)
            clazz = "ace_step";

        var range = new Range(startRow, 0, endRow, Infinity);
        range.id = this.addMarker(range, clazz, "fullLine", inFront);
        return range;
    };
    this.setAnnotations = function(annotations) {
        this.$annotations = annotations;
        this._emit("changeAnnotation", {});
    };
    this.getAnnotations = function() {
        return this.$annotations || [];
    };
    this.clearAnnotations = function() {
        this.setAnnotations([]);
    };
    this.$detectNewLine = function(text) {
        var match = text.match(/^.*?(\r?\n)/m);
        if (match) {
            this.$autoNewLine = match[1];
        } else {
            this.$autoNewLine = "\n";
        }
    };
    this.getWordRange = function(row, column) {
        var line = this.getLine(row);

        var inToken = false;
        if (column > 0)
            inToken = !!line.charAt(column - 1).match(this.tokenRe);

        if (!inToken)
            inToken = !!line.charAt(column).match(this.tokenRe);

        if (inToken)
            var re = this.tokenRe;
        else if (/^\s+$/.test(line.slice(column-1, column+1)))
            var re = /\s/;
        else
            var re = this.nonTokenRe;

        var start = column;
        if (start > 0) {
            do {
                start--;
            }
            while (start >= 0 && line.charAt(start).match(re));
            start++;
        }

        var end = column;
        while (end < line.length && line.charAt(end).match(re)) {
            end++;
        }

        return new Range(row, start, row, end);
    };
    this.getAWordRange = function(row, column) {
        var wordRange = this.getWordRange(row, column);
        var line = this.getLine(wordRange.end.row);

        while (line.charAt(wordRange.end.column).match(/[ \t]/)) {
            wordRange.end.column += 1;
        }
        return wordRange;
    };
    this.setNewLineMode = function(newLineMode) {
        this.doc.setNewLineMode(newLineMode);
    };
    this.getNewLineMode = function() {
        return this.doc.getNewLineMode();
    };
    this.setUseWorker = function(useWorker) { this.setOption("useWorker", useWorker); };
    this.getUseWorker = function() { return this.$useWorker; };
    this.onReloadTokenizer = function(e) {
        var rows = e.data;
        this.bgTokenizer.start(rows.first);
        this._emit("tokenizerUpdate", e);
    };

    this.$modes = {};
    this.$mode = null;
    this.$modeId = null;
    this.setMode = function(mode) {
        if (mode && typeof mode === "object") {
            if (mode.getTokenizer)
                return this.$onChangeMode(mode);
            var options = mode;
            var path = options.path;
        } else {
            path = mode || "ace/mode/text";
        }
        if (!this.$modes["ace/mode/text"])
            this.$modes["ace/mode/text"] = new TextMode();

        if (this.$modes[path] && !options)
            return this.$onChangeMode(this.$modes[path]);
        this.$modeId = path;
        config.loadModule(["mode", path], function(m) {
            if (this.$modeId !== path)
                return;
            if (this.$modes[path] && !options)
                return this.$onChangeMode(this.$modes[path]);
            if (m && m.Mode) {
                m = new m.Mode(options);
                if (!options) {
                    this.$modes[path] = m;
                    m.$id = path;
                }
                this.$onChangeMode(m)
            }
        }.bind(this));
        if (!this.$mode)
            this.$onChangeMode(this.$modes["ace/mode/text"], true);
    };

    this.$onChangeMode = function(mode, $isPlaceholder) {
        if (this.$mode === mode) return;
        this.$mode = mode;

        this.$stopWorker();

        if (this.$useWorker)
            this.$startWorker();

        var tokenizer = mode.getTokenizer();

        if(tokenizer.addEventListener !== undefined) {
            var onReloadTokenizer = this.onReloadTokenizer.bind(this);
            tokenizer.addEventListener("update", onReloadTokenizer);
        }

        if (!this.bgTokenizer) {
            this.bgTokenizer = new BackgroundTokenizer(tokenizer);
            var _self = this;
            this.bgTokenizer.addEventListener("update", function(e) {
                _self._emit("tokenizerUpdate", e);
            });
        } else {
            this.bgTokenizer.setTokenizer(tokenizer);
        }

        this.bgTokenizer.setDocument(this.getDocument());

        this.tokenRe = mode.tokenRe;
        this.nonTokenRe = mode.nonTokenRe;


        if (!$isPlaceholder) {
            this.$modeId = mode.$id;
            this.$setFolding(mode.foldingRules);
            this._emit("changeMode");
            this.bgTokenizer.start(0);
        }
    };


    this.$stopWorker = function() {
        if (this.$worker)
            this.$worker.terminate();

        this.$worker = null;
    };

    this.$startWorker = function() {
        if (typeof Worker !== "undefined" && !acequire.noWorker) {
            try {
                this.$worker = this.$mode.createWorker(this);
            } catch (e) {
                console.log("Could not load worker");
                console.log(e);
                this.$worker = null;
            }
        }
        else
            this.$worker = null;
    };
    this.getMode = function() {
        return this.$mode;
    };

    this.$scrollTop = 0;
    this.setScrollTop = function(scrollTop) {
        scrollTop = Math.round(Math.max(0, scrollTop));
        if (this.$scrollTop === scrollTop || isNaN(scrollTop))
            return;

        this.$scrollTop = scrollTop;
        this._signal("changeScrollTop", scrollTop);
    };
    this.getScrollTop = function() {
        return this.$scrollTop;
    };

    this.$scrollLeft = 0;
    this.setScrollLeft = function(scrollLeft) {
        scrollLeft = Math.round(Math.max(0, scrollLeft));
        if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft))
            return;

        this.$scrollLeft = scrollLeft;
        this._signal("changeScrollLeft", scrollLeft);
    };
    this.getScrollLeft = function() {
        return this.$scrollLeft;
    };
    this.getScreenWidth = function() {
        this.$computeWidth();
        return this.screenWidth;
    };

    this.$computeWidth = function(force) {
        if (this.$modified || force) {
            this.$modified = false;

            if (this.$useWrapMode)
                return this.screenWidth = this.$wrapLimit;

            var lines = this.doc.getAllLines();
            var cache = this.$rowLengthCache;
            var longestScreenLine = 0;
            var foldIndex = 0;
            var foldLine = this.$foldData[foldIndex];
            var foldStart = foldLine ? foldLine.start.row : Infinity;
            var len = lines.length;

            for (var i = 0; i < len; i++) {
                if (i > foldStart) {
                    i = foldLine.end.row + 1;
                    if (i >= len)
                        break;
                    foldLine = this.$foldData[foldIndex++];
                    foldStart = foldLine ? foldLine.start.row : Infinity;
                }

                if (cache[i] == null)
                    cache[i] = this.$getStringScreenWidth(lines[i])[0];

                if (cache[i] > longestScreenLine)
                    longestScreenLine = cache[i];
            }
            this.screenWidth = longestScreenLine;
        }
    };
    this.getLine = function(row) {
        return this.doc.getLine(row);
    };
    this.getLines = function(firstRow, lastRow) {
        return this.doc.getLines(firstRow, lastRow);
    };
    this.getLength = function() {
        return this.doc.getLength();
    };
    this.getTextRange = function(range) {
        return this.doc.getTextRange(range || this.selection.getRange());
    };
    this.insert = function(position, text) {
        return this.doc.insert(position, text);
    };
    this.remove = function(range) {
        return this.doc.remove(range);
    };
    this.undoChanges = function(deltas, dontSelect) {
        if (!deltas.length)
            return;

        this.$fromUndo = true;
        var lastUndoRange = null;
        for (var i = deltas.length - 1; i != -1; i--) {
            var delta = deltas[i];
            if (delta.group == "doc") {
                this.doc.revertDeltas(delta.deltas);
                lastUndoRange =
                    this.$getUndoSelection(delta.deltas, true, lastUndoRange);
            } else {
                delta.deltas.forEach(function(foldDelta) {
                    this.addFolds(foldDelta.folds);
                }, this);
            }
        }
        this.$fromUndo = false;
        lastUndoRange &&
            this.$undoSelect &&
            !dontSelect &&
            this.selection.setSelectionRange(lastUndoRange);
        return lastUndoRange;
    };
    this.redoChanges = function(deltas, dontSelect) {
        if (!deltas.length)
            return;

        this.$fromUndo = true;
        var lastUndoRange = null;
        for (var i = 0; i < deltas.length; i++) {
            var delta = deltas[i];
            if (delta.group == "doc") {
                this.doc.applyDeltas(delta.deltas);
                lastUndoRange =
                    this.$getUndoSelection(delta.deltas, false, lastUndoRange);
            }
        }
        this.$fromUndo = false;
        lastUndoRange &&
            this.$undoSelect &&
            !dontSelect &&
            this.selection.setSelectionRange(lastUndoRange);
        return lastUndoRange;
    };
    this.setUndoSelect = function(enable) {
        this.$undoSelect = enable;
    };

    this.$getUndoSelection = function(deltas, isUndo, lastUndoRange) {
        function isInsert(delta) {
            var insert =
                delta.action === "insertText" || delta.action === "insertLines";
            return isUndo ? !insert : insert;
        }

        var delta = deltas[0];
        var range, point;
        var lastDeltaIsInsert = false;
        if (isInsert(delta)) {
            range = delta.range.clone();
            lastDeltaIsInsert = true;
        } else {
            range = Range.fromPoints(delta.range.start, delta.range.start);
            lastDeltaIsInsert = false;
        }

        for (var i = 1; i < deltas.length; i++) {
            delta = deltas[i];
            if (isInsert(delta)) {
                point = delta.range.start;
                if (range.compare(point.row, point.column) == -1) {
                    range.setStart(delta.range.start);
                }
                point = delta.range.end;
                if (range.compare(point.row, point.column) == 1) {
                    range.setEnd(delta.range.end);
                }
                lastDeltaIsInsert = true;
            } else {
                point = delta.range.start;
                if (range.compare(point.row, point.column) == -1) {
                    range =
                        Range.fromPoints(delta.range.start, delta.range.start);
                }
                lastDeltaIsInsert = false;
            }
        }
        if (lastUndoRange != null) {
            var cmp = lastUndoRange.compareRange(range);
            if (cmp == 1) {
                range.setStart(lastUndoRange.start);
            } else if (cmp == -1) {
                range.setEnd(lastUndoRange.end);
            }
        }

        return range;
    };
    this.replace = function(range, text) {
        return this.doc.replace(range, text);
    };
    this.moveText = function(fromRange, toPosition, copy) {
        var text = this.getTextRange(fromRange);
        var folds = this.getFoldsInRange(fromRange);

        var toRange = Range.fromPoints(toPosition, toPosition);
        if (!copy) {
            this.remove(fromRange);
            var rowDiff = fromRange.start.row - fromRange.end.row;
            var collDiff = rowDiff ? -fromRange.end.column : fromRange.start.column - fromRange.end.column;
            if (collDiff) {
                if (toRange.start.row == fromRange.end.row && toRange.start.column > fromRange.end.column)
                    toRange.start.column += collDiff;
                if (toRange.end.row == fromRange.end.row && toRange.end.column > fromRange.end.column)
                    toRange.end.column += collDiff;
            }
            if (rowDiff && toRange.start.row >= fromRange.end.row) {
                toRange.start.row += rowDiff;
                toRange.end.row += rowDiff;
            }
        }

        this.insert(toRange.start, text);
        if (folds.length) {
            var oldStart = fromRange.start;
            var newStart = toRange.start;
            var rowDiff = newStart.row - oldStart.row;
            var collDiff = newStart.column - oldStart.column;
            this.addFolds(folds.map(function(x) {
                x = x.clone();
                if (x.start.row == oldStart.row)
                    x.start.column += collDiff;
                if (x.end.row == oldStart.row)
                    x.end.column += collDiff;
                x.start.row += rowDiff;
                x.end.row += rowDiff;
                return x;
            }));
        }

        return toRange;
    };
    this.indentRows = function(startRow, endRow, indentString) {
        indentString = indentString.replace(/\t/g, this.getTabString());
        for (var row=startRow; row<=endRow; row++)
            this.insert({row: row, column:0}, indentString);
    };
    this.outdentRows = function (range) {
        var rowRange = range.collapseRows();
        var deleteRange = new Range(0, 0, 0, 0);
        var size = this.getTabSize();

        for (var i = rowRange.start.row; i <= rowRange.end.row; ++i) {
            var line = this.getLine(i);

            deleteRange.start.row = i;
            deleteRange.end.row = i;
            for (var j = 0; j < size; ++j)
                if (line.charAt(j) != ' ')
                    break;
            if (j < size && line.charAt(j) == '\t') {
                deleteRange.start.column = j;
                deleteRange.end.column = j + 1;
            } else {
                deleteRange.start.column = 0;
                deleteRange.end.column = j;
            }
            this.remove(deleteRange);
        }
    };

    this.$moveLines = function(firstRow, lastRow, dir) {
        firstRow = this.getRowFoldStart(firstRow);
        lastRow = this.getRowFoldEnd(lastRow);
        if (dir < 0) {
            var row = this.getRowFoldStart(firstRow + dir);
            if (row < 0) return 0;
            var diff = row-firstRow;
        } else if (dir > 0) {
            var row = this.getRowFoldEnd(lastRow + dir);
            if (row > this.doc.getLength()-1) return 0;
            var diff = row-lastRow;
        } else {
            firstRow = this.$clipRowToDocument(firstRow);
            lastRow = this.$clipRowToDocument(lastRow);
            var diff = lastRow - firstRow + 1;
        }

        var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);
        var folds = this.getFoldsInRange(range).map(function(x){
            x = x.clone();
            x.start.row += diff;
            x.end.row += diff;
            return x;
        });

        var lines = dir == 0
            ? this.doc.getLines(firstRow, lastRow)
            : this.doc.removeLines(firstRow, lastRow);
        this.doc.insertLines(firstRow+diff, lines);
        folds.length && this.addFolds(folds);
        return diff;
    };
    this.moveLinesUp = function(firstRow, lastRow) {
        return this.$moveLines(firstRow, lastRow, -1);
    };
    this.moveLinesDown = function(firstRow, lastRow) {
        return this.$moveLines(firstRow, lastRow, 1);
    };
    this.duplicateLines = function(firstRow, lastRow) {
        return this.$moveLines(firstRow, lastRow, 0);
    };


    this.$clipRowToDocument = function(row) {
        return Math.max(0, Math.min(row, this.doc.getLength()-1));
    };

    this.$clipColumnToRow = function(row, column) {
        if (column < 0)
            return 0;
        return Math.min(this.doc.getLine(row).length, column);
    };


    this.$clipPositionToDocument = function(row, column) {
        column = Math.max(0, column);

        if (row < 0) {
            row = 0;
            column = 0;
        } else {
            var len = this.doc.getLength();
            if (row >= len) {
                row = len - 1;
                column = this.doc.getLine(len-1).length;
            } else {
                column = Math.min(this.doc.getLine(row).length, column);
            }
        }

        return {
            row: row,
            column: column
        };
    };

    this.$clipRangeToDocument = function(range) {
        if (range.start.row < 0) {
            range.start.row = 0;
            range.start.column = 0;
        } else {
            range.start.column = this.$clipColumnToRow(
                range.start.row,
                range.start.column
            );
        }

        var len = this.doc.getLength() - 1;
        if (range.end.row > len) {
            range.end.row = len;
            range.end.column = this.doc.getLine(len).length;
        } else {
            range.end.column = this.$clipColumnToRow(
                range.end.row,
                range.end.column
            );
        }
        return range;
    };
    this.$wrapLimit = 80;
    this.$useWrapMode = false;
    this.$wrapLimitRange = {
        min : null,
        max : null
    };
    this.setUseWrapMode = function(useWrapMode) {
        if (useWrapMode != this.$useWrapMode) {
            this.$useWrapMode = useWrapMode;
            this.$modified = true;
            this.$resetRowCache(0);
            if (useWrapMode) {
                var len = this.getLength();
                this.$wrapData = [];
                for (var i = 0; i < len; i++) {
                    this.$wrapData.push([]);
                }
                this.$updateWrapData(0, len - 1);
            }

            this._emit("changeWrapMode");
        }
    };
    this.getUseWrapMode = function() {
        return this.$useWrapMode;
    };
    this.setWrapLimitRange = function(min, max) {
        if (this.$wrapLimitRange.min !== min || this.$wrapLimitRange.max !== max) {
            this.$wrapLimitRange.min = min;
            this.$wrapLimitRange.max = max;
            this.$modified = true;
            this._emit("changeWrapMode");
        }
    };
    this.adjustWrapLimit = function(desiredLimit, $printMargin) {
        var limits = this.$wrapLimitRange
        if (limits.max < 0)
            limits = {min: $printMargin, max: $printMargin};
        var wrapLimit = this.$constrainWrapLimit(desiredLimit, limits.min, limits.max);
        if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {
            this.$wrapLimit = wrapLimit;
            this.$modified = true;
            if (this.$useWrapMode) {
                this.$updateWrapData(0, this.getLength() - 1);
                this.$resetRowCache(0);
                this._emit("changeWrapLimit");
            }
            return true;
        }
        return false;
    };

    this.$constrainWrapLimit = function(wrapLimit, min, max) {
        if (min)
            wrapLimit = Math.max(min, wrapLimit);

        if (max)
            wrapLimit = Math.min(max, wrapLimit);

        return wrapLimit;
    };
    this.getWrapLimit = function() {
        return this.$wrapLimit;
    };
    this.setWrapLimit = function (limit) {
        this.setWrapLimitRange(limit, limit);
    };
    this.getWrapLimitRange = function() {
        return {
            min : this.$wrapLimitRange.min,
            max : this.$wrapLimitRange.max
        };
    };

    this.$updateInternalDataOnChange = function(e) {
        var useWrapMode = this.$useWrapMode;
        var len;
        var action = e.data.action;
        var firstRow = e.data.range.start.row;
        var lastRow = e.data.range.end.row;
        var start = e.data.range.start;
        var end = e.data.range.end;
        var removedFolds = null;

        if (action.indexOf("Lines") != -1) {
            if (action == "insertLines") {
                lastRow = firstRow + (e.data.lines.length);
            } else {
                lastRow = firstRow;
            }
            len = e.data.lines ? e.data.lines.length : lastRow - firstRow;
        } else {
            len = lastRow - firstRow;
        }

        this.$updating = true;
        if (len != 0) {
            if (action.indexOf("remove") != -1) {
                this[useWrapMode ? "$wrapData" : "$rowLengthCache"].splice(firstRow, len);

                var foldLines = this.$foldData;
                removedFolds = this.getFoldsInRange(e.data.range);
                this.removeFolds(removedFolds);

                var foldLine = this.getFoldLine(end.row);
                var idx = 0;
                if (foldLine) {
                    foldLine.addRemoveChars(end.row, end.column, start.column - end.column);
                    foldLine.shiftRow(-len);

                    var foldLineBefore = this.getFoldLine(firstRow);
                    if (foldLineBefore && foldLineBefore !== foldLine) {
                        foldLineBefore.merge(foldLine);
                        foldLine = foldLineBefore;
                    }
                    idx = foldLines.indexOf(foldLine) + 1;
                }

                for (idx; idx < foldLines.length; idx++) {
                    var foldLine = foldLines[idx];
                    if (foldLine.start.row >= end.row) {
                        foldLine.shiftRow(-len);
                    }
                }

                lastRow = firstRow;
            } else {
                var args;
                if (useWrapMode) {
                    args = [firstRow, 0];
                    for (var i = 0; i < len; i++) args.push([]);
                    this.$wrapData.splice.apply(this.$wrapData, args);
                } else {
                    args = Array(len);
                    args.unshift(firstRow, 0);
                    this.$rowLengthCache.splice.apply(this.$rowLengthCache, args);
                }
                var foldLines = this.$foldData;
                var foldLine = this.getFoldLine(firstRow);
                var idx = 0;
                if (foldLine) {
                    var cmp = foldLine.range.compareInside(start.row, start.column)
                    if (cmp == 0) {
                        foldLine = foldLine.split(start.row, start.column);
                        foldLine.shiftRow(len);
                        foldLine.addRemoveChars(
                            lastRow, 0, end.column - start.column);
                    } else
                    if (cmp == -1) {
                        foldLine.addRemoveChars(firstRow, 0, end.column - start.column);
                        foldLine.shiftRow(len);
                    }
                    idx = foldLines.indexOf(foldLine) + 1;
                }

                for (idx; idx < foldLines.length; idx++) {
                    var foldLine = foldLines[idx];
                    if (foldLine.start.row >= firstRow) {
                        foldLine.shiftRow(len);
                    }
                }
            }
        } else {
            len = Math.abs(e.data.range.start.column - e.data.range.end.column);
            if (action.indexOf("remove") != -1) {
                removedFolds = this.getFoldsInRange(e.data.range);
                this.removeFolds(removedFolds);

                len = -len;
            }
            var foldLine = this.getFoldLine(firstRow);
            if (foldLine) {
                foldLine.addRemoveChars(firstRow, start.column, len);
            }
        }

        if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {
            console.error("doc.getLength() and $wrapData.length have to be the same!");
        }
        this.$updating = false;

        if (useWrapMode)
            this.$updateWrapData(firstRow, lastRow);
        else
            this.$updateRowLengthCache(firstRow, lastRow);

        return removedFolds;
    };

    this.$updateRowLengthCache = function(firstRow, lastRow, b) {
        this.$rowLengthCache[firstRow] = null;
        this.$rowLengthCache[lastRow] = null;
    };

    this.$updateWrapData = function(firstRow, lastRow) {
        var lines = this.doc.getAllLines();
        var tabSize = this.getTabSize();
        var wrapData = this.$wrapData;
        var wrapLimit = this.$wrapLimit;
        var tokens;
        var foldLine;

        var row = firstRow;
        lastRow = Math.min(lastRow, lines.length - 1);
        while (row <= lastRow) {
            foldLine = this.getFoldLine(row, foldLine);
            if (!foldLine) {
                tokens = this.$getDisplayTokens(lang.stringTrimRight(lines[row]));
                wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);
                row ++;
            } else {
                tokens = [];
                foldLine.walk(function(placeholder, row, column, lastColumn) {
                        var walkTokens;
                        if (placeholder != null) {
                            walkTokens = this.$getDisplayTokens(
                                            placeholder, tokens.length);
                            walkTokens[0] = PLACEHOLDER_START;
                            for (var i = 1; i < walkTokens.length; i++) {
                                walkTokens[i] = PLACEHOLDER_BODY;
                            }
                        } else {
                            walkTokens = this.$getDisplayTokens(
                                lines[row].substring(lastColumn, column),
                                tokens.length);
                        }
                        tokens = tokens.concat(walkTokens);
                    }.bind(this),
                    foldLine.end.row,
                    lines[foldLine.end.row].length + 1
                );
                while (tokens.length != 0 && tokens[tokens.length - 1] >= SPACE)
                    tokens.pop();

                wrapData[foldLine.start.row]
                    = this.$computeWrapSplits(tokens, wrapLimit, tabSize);
                row = foldLine.end.row + 1;
            }
        }
    };
    var CHAR = 1,
        CHAR_EXT = 2,
        PLACEHOLDER_START = 3,
        PLACEHOLDER_BODY =  4,
        PUNCTUATION = 9,
        SPACE = 10,
        TAB = 11,
        TAB_SPACE = 12;


    this.$computeWrapSplits = function(tokens, wrapLimit) {
        if (tokens.length == 0) {
            return [];
        }

        var splits = [];
        var displayLength = tokens.length;
        var lastSplit = 0, lastDocSplit = 0;

        function addSplit(screenPos) {
            var displayed = tokens.slice(lastSplit, screenPos);
            var len = displayed.length;
            displayed.join("").
                replace(/12/g, function() {
                    len -= 1;
                }).
                replace(/2/g, function() {
                    len -= 1;
                });

            lastDocSplit += len;
            splits.push(lastDocSplit);
            lastSplit = screenPos;
        }

        while (displayLength - lastSplit > wrapLimit) {
            var split = lastSplit + wrapLimit;
            if (tokens[split] >= SPACE) {
                while (tokens[split] >= SPACE) {
                    split ++;
                }
                addSplit(split);
                continue;
            }
            if (tokens[split] == PLACEHOLDER_START
                || tokens[split] == PLACEHOLDER_BODY)
            {
                for (split; split != lastSplit - 1; split--) {
                    if (tokens[split] == PLACEHOLDER_START) {
                        break;
                    }
                }
                if (split > lastSplit) {
                    addSplit(split);
                    continue;
                }
                split = lastSplit + wrapLimit;
                for (split; split < tokens.length; split++) {
                    if (tokens[split] != PLACEHOLDER_BODY)
                    {
                        break;
                    }
                }
                if (split == tokens.length) {
                    break;  // Breaks the while-loop.
                }
                addSplit(split);
                continue;
            }
            var minSplit = Math.max(split - 10, lastSplit - 1);
            while (split > minSplit && tokens[split] < PLACEHOLDER_START) {
                split --;
            }
            while (split > minSplit && tokens[split] == PUNCTUATION) {
                split --;
            }
            if (split > minSplit) {
                addSplit(++split);
                continue;
            }
            split = lastSplit + wrapLimit;
            addSplit(split);
        }
        return splits;
    };
    this.$getDisplayTokens = function(str, offset) {
        var arr = [];
        var tabSize;
        offset = offset || 0;

        for (var i = 0; i < str.length; i++) {
            var c = str.charCodeAt(i);
            if (c == 9) {
                tabSize = this.getScreenTabSize(arr.length + offset);
                arr.push(TAB);
                for (var n = 1; n < tabSize; n++) {
                    arr.push(TAB_SPACE);
                }
            }
            else if (c == 32) {
                arr.push(SPACE);
            } else if((c > 39 && c < 48) || (c > 57 && c < 64)) {
                arr.push(PUNCTUATION);
            }
            else if (c >= 0x1100 && isFullWidth(c)) {
                arr.push(CHAR, CHAR_EXT);
            } else {
                arr.push(CHAR);
            }
        }
        return arr;
    };
    this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {
        if (maxScreenColumn == 0)
            return [0, 0];
        if (maxScreenColumn == null)
            maxScreenColumn = Infinity;
        screenColumn = screenColumn || 0;

        var c, column;
        for (column = 0; column < str.length; column++) {
            c = str.charCodeAt(column);
            if (c == 9) {
                screenColumn += this.getScreenTabSize(screenColumn);
            }
            else if (c >= 0x1100 && isFullWidth(c)) {
                screenColumn += 2;
            } else {
                screenColumn += 1;
            }
            if (screenColumn > maxScreenColumn) {
                break;
            }
        }

        return [screenColumn, column];
    };
    this.getRowLength = function(row) {
        if (!this.$useWrapMode || !this.$wrapData[row]) {
            return 1;
        } else {
            return this.$wrapData[row].length + 1;
        }
    };
    this.getScreenLastRowColumn = function(screenRow) {
        var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);
        return this.documentToScreenColumn(pos.row, pos.column);
    };
    this.getDocumentLastRowColumn = function(docRow, docColumn) {
        var screenRow = this.documentToScreenRow(docRow, docColumn);
        return this.getScreenLastRowColumn(screenRow);
    };
    this.getDocumentLastRowColumnPosition = function(docRow, docColumn) {
        var screenRow = this.documentToScreenRow(docRow, docColumn);
        return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);
    };
    this.getRowSplitData = function(row) {
        if (!this.$useWrapMode) {
            return undefined;
        } else {
            return this.$wrapData[row];
        }
    };
    this.getScreenTabSize = function(screenColumn) {
        return this.$tabSize - screenColumn % this.$tabSize;
    };


    this.screenToDocumentRow = function(screenRow, screenColumn) {
        return this.screenToDocumentPosition(screenRow, screenColumn).row;
    };


    this.screenToDocumentColumn = function(screenRow, screenColumn) {
        return this.screenToDocumentPosition(screenRow, screenColumn).column;
    };
    this.screenToDocumentPosition = function(screenRow, screenColumn) {
        if (screenRow < 0)
            return {row: 0, column: 0};

        var line;
        var docRow = 0;
        var docColumn = 0;
        var column;
        var row = 0;
        var rowLength = 0;

        var rowCache = this.$screenRowCache;
        var i = this.$getRowCacheIndex(rowCache, screenRow);
        var l = rowCache.length;
        if (l && i >= 0) {
            var row = rowCache[i];
            var docRow = this.$docRowCache[i];
            var doCache = screenRow > rowCache[l - 1];
        } else {
            var doCache = !l;
        }

        var maxRow = this.getLength() - 1;
        var foldLine = this.getNextFoldLine(docRow);
        var foldStart = foldLine ? foldLine.start.row : Infinity;

        while (row <= screenRow) {
            rowLength = this.getRowLength(docRow);
            if (row + rowLength - 1 >= screenRow || docRow >= maxRow) {
                break;
            } else {
                row += rowLength;
                docRow++;
                if (docRow > foldStart) {
                    docRow = foldLine.end.row+1;
                    foldLine = this.getNextFoldLine(docRow, foldLine);
                    foldStart = foldLine ? foldLine.start.row : Infinity;
                }
            }

            if (doCache) {
                this.$docRowCache.push(docRow);
                this.$screenRowCache.push(row);
            }
        }

        if (foldLine && foldLine.start.row <= docRow) {
            line = this.getFoldDisplayLine(foldLine);
            docRow = foldLine.start.row;
        } else if (row + rowLength <= screenRow || docRow > maxRow) {
            return {
                row: maxRow,
                column: this.getLine(maxRow).length
            }
        } else {
            line = this.getLine(docRow);
            foldLine = null;
        }

        if (this.$useWrapMode) {
            var splits = this.$wrapData[docRow];
            if (splits) {
                column = splits[screenRow - row];
                if(screenRow > row && splits.length) {
                    docColumn = splits[screenRow - row - 1] || splits[splits.length - 1];
                    line = line.substring(docColumn);
                }
            }
        }

        docColumn += this.$getStringScreenWidth(line, screenColumn)[1];
        if (this.$useWrapMode && docColumn >= column)
            docColumn = column - 1;

        if (foldLine)
            return foldLine.idxToPosition(docColumn);

        return {row: docRow, column: docColumn};
    };
    this.documentToScreenPosition = function(docRow, docColumn) {
        if (typeof docColumn === "undefined")
            var pos = this.$clipPositionToDocument(docRow.row, docRow.column);
        else
            pos = this.$clipPositionToDocument(docRow, docColumn);

        docRow = pos.row;
        docColumn = pos.column;

        var screenRow = 0;
        var foldStartRow = null;
        var fold = null;
        fold = this.getFoldAt(docRow, docColumn, 1);
        if (fold) {
            docRow = fold.start.row;
            docColumn = fold.start.column;
        }

        var rowEnd, row = 0;


        var rowCache = this.$docRowCache;
        var i = this.$getRowCacheIndex(rowCache, docRow);
        var l = rowCache.length;
        if (l && i >= 0) {
            var row = rowCache[i];
            var screenRow = this.$screenRowCache[i];
            var doCache = docRow > rowCache[l - 1];
        } else {
            var doCache = !l;
        }

        var foldLine = this.getNextFoldLine(row);
        var foldStart = foldLine ?foldLine.start.row :Infinity;

        while (row < docRow) {
            if (row >= foldStart) {
                rowEnd = foldLine.end.row + 1;
                if (rowEnd > docRow)
                    break;
                foldLine = this.getNextFoldLine(rowEnd, foldLine);
                foldStart = foldLine ?foldLine.start.row :Infinity;
            }
            else {
                rowEnd = row + 1;
            }

            screenRow += this.getRowLength(row);
            row = rowEnd;

            if (doCache) {
                this.$docRowCache.push(row);
                this.$screenRowCache.push(screenRow);
            }
        }
        var textLine = "";
        if (foldLine && row >= foldStart) {
            textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);
            foldStartRow = foldLine.start.row;
        } else {
            textLine = this.getLine(docRow).substring(0, docColumn);
            foldStartRow = docRow;
        }
        if (this.$useWrapMode) {
            var wrapRow = this.$wrapData[foldStartRow];
            var screenRowOffset = 0;
            while (textLine.length >= wrapRow[screenRowOffset]) {
                screenRow ++;
                screenRowOffset++;
            }
            textLine = textLine.substring(
                wrapRow[screenRowOffset - 1] || 0, textLine.length
            );
        }

        return {
            row: screenRow,
            column: this.$getStringScreenWidth(textLine)[0]
        };
    };
    this.documentToScreenColumn = function(row, docColumn) {
        return this.documentToScreenPosition(row, docColumn).column;
    };
    this.documentToScreenRow = function(docRow, docColumn) {
        return this.documentToScreenPosition(docRow, docColumn).row;
    };
    this.getScreenLength = function() {
        var screenRows = 0;
        var fold = null;
        if (!this.$useWrapMode) {
            screenRows = this.getLength();
            var foldData = this.$foldData;
            for (var i = 0; i < foldData.length; i++) {
                fold = foldData[i];
                screenRows -= fold.end.row - fold.start.row;
            }
        } else {
            var lastRow = this.$wrapData.length;
            var row = 0, i = 0;
            var fold = this.$foldData[i++];
            var foldStart = fold ? fold.start.row :Infinity;

            while (row < lastRow) {
                screenRows += this.$wrapData[row].length + 1;
                row ++;
                if (row > foldStart) {
                    row = fold.end.row+1;
                    fold = this.$foldData[i++];
                    foldStart = fold ?fold.start.row :Infinity;
                }
            }
        }

        return screenRows;
    };
    function isFullWidth(c) {
        if (c < 0x1100)
            return false;
        return c >= 0x1100 && c <= 0x115F ||
               c >= 0x11A3 && c <= 0x11A7 ||
               c >= 0x11FA && c <= 0x11FF ||
               c >= 0x2329 && c <= 0x232A ||
               c >= 0x2E80 && c <= 0x2E99 ||
               c >= 0x2E9B && c <= 0x2EF3 ||
               c >= 0x2F00 && c <= 0x2FD5 ||
               c >= 0x2FF0 && c <= 0x2FFB ||
               c >= 0x3000 && c <= 0x303E ||
               c >= 0x3041 && c <= 0x3096 ||
               c >= 0x3099 && c <= 0x30FF ||
               c >= 0x3105 && c <= 0x312D ||
               c >= 0x3131 && c <= 0x318E ||
               c >= 0x3190 && c <= 0x31BA ||
               c >= 0x31C0 && c <= 0x31E3 ||
               c >= 0x31F0 && c <= 0x321E ||
               c >= 0x3220 && c <= 0x3247 ||
               c >= 0x3250 && c <= 0x32FE ||
               c >= 0x3300 && c <= 0x4DBF ||
               c >= 0x4E00 && c <= 0xA48C ||
               c >= 0xA490 && c <= 0xA4C6 ||
               c >= 0xA960 && c <= 0xA97C ||
               c >= 0xAC00 && c <= 0xD7A3 ||
               c >= 0xD7B0 && c <= 0xD7C6 ||
               c >= 0xD7CB && c <= 0xD7FB ||
               c >= 0xF900 && c <= 0xFAFF ||
               c >= 0xFE10 && c <= 0xFE19 ||
               c >= 0xFE30 && c <= 0xFE52 ||
               c >= 0xFE54 && c <= 0xFE66 ||
               c >= 0xFE68 && c <= 0xFE6B ||
               c >= 0xFF01 && c <= 0xFF60 ||
               c >= 0xFFE0 && c <= 0xFFE6;
    };

}).call(EditSession.prototype);

acequire("./edit_session/folding").Folding.call(EditSession.prototype);
acequire("./edit_session/bracket_match").BracketMatch.call(EditSession.prototype);


config.defineOptions(EditSession.prototype, "session", {
    wrap: {
        set: function(value) {
            if (!value || value == "off")
                value = false;
            else if (value == "free")
                value = true;
            else if (value == "printMargin")
                value = -1;
            else if (typeof value == "string")
                value = parseInt(value, 10) || false;

            if (this.$wrap == value)
                return;
            if (!value) {
                this.setUseWrapMode(false);
            } else {
                var col = typeof value == "number" ? value : null;
                this.setWrapLimitRange(col, col);
                this.setUseWrapMode(true);
            }
            this.$wrap = value;
        },
        get: function() {
            return this.getUseWrapMode() ? this.getWrapLimitRange().min || "free" : "off";
        },
        handlesSet: true
    },
    firstLineNumber: {
        set: function() {this._emit("changeBreakpoint");},
        initialValue: 1
    },
    useWorker: {
        set: function(useWorker) {
            this.$useWorker = useWorker;

            this.$stopWorker();
            if (useWorker)
                this.$startWorker();
        },
        initialValue: true
    },
    useSoftTabs: {initialValue: true},
    tabSize: {
        set: function(tabSize) {
            if (isNaN(tabSize) || this.$tabSize === tabSize) return;

            this.$modified = true;
            this.$rowLengthCache = [];
            this.$tabSize = tabSize;
            this._emit("changeTabSize");
        },
        initialValue: 4,
        handlesSet: true
    },
    overwrite: {
        set: function(val) {this._emit("changeOverwrite");},
        initialValue: false
    },
    newLineMode: {
        set: function(val) {this.doc.setNewLineMode(val)},
        get: function() {return this.doc.getNewLineMode()},
        handlesSet: true
    }
});

exports.EditSession = EditSession;
});

ace.define('ace/selection', ["require", 'exports', 'module' , 'ace/lib/oop', 'ace/lib/lang', 'ace/lib/event_emitter', 'ace/range'], function(acequire, exports, module) {


var oop = acequire("./lib/oop");
var lang = acequire("./lib/lang");
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;
var Range = acequire("./range").Range;
var Selection = function(session) {
    this.session = session;
    this.doc = session.getDocument();

    this.clearSelection();
    this.lead = this.selectionLead = this.doc.createAnchor(0, 0);
    this.anchor = this.selectionAnchor = this.doc.createAnchor(0, 0);

    var self = this;
    this.lead.on("change", function(e) {
        self._emit("changeCursor");
        if (!self.$isEmpty)
            self._emit("changeSelection");
        if (!self.$keepDesiredColumnOnChange && e.old.column != e.value.column)
            self.$desiredColumn = null;
    });

    this.selectionAnchor.on("change", function() {
        if (!self.$isEmpty)
            self._emit("changeSelection");
    });
};

(function() {

    oop.implement(this, EventEmitter);
    this.isEmpty = function() {
        return (this.$isEmpty || (
            this.anchor.row == this.lead.row &&
            this.anchor.column == this.lead.column
        ));
    };
    this.isMultiLine = function() {
        if (this.isEmpty()) {
            return false;
        }

        return this.getRange().isMultiLine();
    };
    this.getCursor = function() {
        return this.lead.getPosition();
    };
    this.setSelectionAnchor = function(row, column) {
        this.anchor.setPosition(row, column);

        if (this.$isEmpty) {
            this.$isEmpty = false;
            this._emit("changeSelection");
        }
    };
    this.getSelectionAnchor = function() {
        if (this.$isEmpty)
            return this.getSelectionLead()
        else
            return this.anchor.getPosition();
    };
    this.getSelectionLead = function() {
        return this.lead.getPosition();
    };
    this.shiftSelection = function(columns) {
        if (this.$isEmpty) {
            this.moveCursorTo(this.lead.row, this.lead.column + columns);
            return;
        };

        var anchor = this.getSelectionAnchor();
        var lead = this.getSelectionLead();

        var isBackwards = this.isBackwards();

        if (!isBackwards || anchor.column !== 0)
            this.setSelectionAnchor(anchor.row, anchor.column + columns);

        if (isBackwards || lead.column !== 0) {
            this.$moveSelection(function() {
                this.moveCursorTo(lead.row, lead.column + columns);
            });
        }
    };
    this.isBackwards = function() {
        var anchor = this.anchor;
        var lead = this.lead;
        return (anchor.row > lead.row || (anchor.row == lead.row && anchor.column > lead.column));
    };
    this.getRange = function() {
        var anchor = this.anchor;
        var lead = this.lead;

        if (this.isEmpty())
            return Range.fromPoints(lead, lead);

        if (this.isBackwards()) {
            return Range.fromPoints(lead, anchor);
        }
        else {
            return Range.fromPoints(anchor, lead);
        }
    };
    this.clearSelection = function() {
        if (!this.$isEmpty) {
            this.$isEmpty = true;
            this._emit("changeSelection");
        }
    };
    this.selectAll = function() {
        var lastRow = this.doc.getLength() - 1;
        this.setSelectionAnchor(0, 0);
        this.moveCursorTo(lastRow, this.doc.getLine(lastRow).length);
    };
    this.setRange =
    this.setSelectionRange = function(range, reverse) {
        if (reverse) {
            this.setSelectionAnchor(range.end.row, range.end.column);
            this.selectTo(range.start.row, range.start.column);
        } else {
            this.setSelectionAnchor(range.start.row, range.start.column);
            this.selectTo(range.end.row, range.end.column);
        }
        this.$desiredColumn = null;
    };

    this.$moveSelection = function(mover) {
        var lead = this.lead;
        if (this.$isEmpty)
            this.setSelectionAnchor(lead.row, lead.column);

        mover.call(this);
    };
    this.selectTo = function(row, column) {
        this.$moveSelection(function() {
            this.moveCursorTo(row, column);
        });
    };
    this.selectToPosition = function(pos) {
        this.$moveSelection(function() {
            this.moveCursorToPosition(pos);
        });
    };
    this.selectUp = function() {
        this.$moveSelection(this.moveCursorUp);
    };
    this.selectDown = function() {
        this.$moveSelection(this.moveCursorDown);
    };
    this.selectRight = function() {
        this.$moveSelection(this.moveCursorRight);
    };
    this.selectLeft = function() {
        this.$moveSelection(this.moveCursorLeft);
    };
    this.selectLineStart = function() {
        this.$moveSelection(this.moveCursorLineStart);
    };
    this.selectLineEnd = function() {
        this.$moveSelection(this.moveCursorLineEnd);
    };
    this.selectFileEnd = function() {
        this.$moveSelection(this.moveCursorFileEnd);
    };
    this.selectFileStart = function() {
        this.$moveSelection(this.moveCursorFileStart);
    };
    this.selectWordRight = function() {
        this.$moveSelection(this.moveCursorWordRight);
    };
    this.selectWordLeft = function() {
        this.$moveSelection(this.moveCursorWordLeft);
    };
    this.getWordRange = function(row, column) {
        if (typeof column == "undefined") {
            var cursor = row || this.lead;
            row = cursor.row;
            column = cursor.column;
        }
        return this.session.getWordRange(row, column);
    };
    this.selectWord = function() {
        this.setSelectionRange(this.getWordRange());
    };
    this.selectAWord = function() {
        var cursor = this.getCursor();
        var range = this.session.getAWordRange(cursor.row, cursor.column);
        this.setSelectionRange(range);
    };

    this.getLineRange = function(row, excludeLastChar) {
        var rowStart = typeof row == "number" ? row : this.lead.row;
        var rowEnd;

        var foldLine = this.session.getFoldLine(rowStart);
        if (foldLine) {
            rowStart = foldLine.start.row;
            rowEnd = foldLine.end.row;
        } else {
            rowEnd = rowStart;
        }
        if (excludeLastChar)
            return new Range(rowStart, 0, rowEnd, this.session.getLine(rowEnd).length);
        else
            return new Range(rowStart, 0, rowEnd + 1, 0);
    };
    this.selectLine = function() {
        this.setSelectionRange(this.getLineRange());
    };
    this.moveCursorUp = function() {
        this.moveCursorBy(-1, 0);
    };
    this.moveCursorDown = function() {
        this.moveCursorBy(1, 0);
    };
    this.moveCursorLeft = function() {
        var cursor = this.lead.getPosition(),
            fold;

        if (fold = this.session.getFoldAt(cursor.row, cursor.column, -1)) {
            this.moveCursorTo(fold.start.row, fold.start.column);
        } else if (cursor.column == 0) {
            if (cursor.row > 0) {
                this.moveCursorTo(cursor.row - 1, this.doc.getLine(cursor.row - 1).length);
            }
        }
        else {
            var tabSize = this.session.getTabSize();
            if (this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(cursor.column-tabSize, cursor.column).split(" ").length-1 == tabSize)
                this.moveCursorBy(0, -tabSize);
            else
                this.moveCursorBy(0, -1);
        }
    };
    this.moveCursorRight = function() {
        var cursor = this.lead.getPosition(),
            fold;
        if (fold = this.session.getFoldAt(cursor.row, cursor.column, 1)) {
            this.moveCursorTo(fold.end.row, fold.end.column);
        }
        else if (this.lead.column == this.doc.getLine(this.lead.row).length) {
            if (this.lead.row < this.doc.getLength() - 1) {
                this.moveCursorTo(this.lead.row + 1, 0);
            }
        }
        else {
            var tabSize = this.session.getTabSize();
            var cursor = this.lead;
            if (this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(cursor.column, cursor.column+tabSize).split(" ").length-1 == tabSize)
                this.moveCursorBy(0, tabSize);
            else
                this.moveCursorBy(0, 1);
        }
    };
    this.moveCursorLineStart = function() {
        var row = this.lead.row;
        var column = this.lead.column;
        var screenRow = this.session.documentToScreenRow(row, column);
        var firstColumnPosition = this.session.screenToDocumentPosition(screenRow, 0);
        var beforeCursor = this.session.getDisplayLine(
            row, null, firstColumnPosition.row,
            firstColumnPosition.column
        );

        var leadingSpace = beforeCursor.match(/^\s*/);
        if (leadingSpace[0].length != column && !this.session.$useEmacsStyleLineStart)
            firstColumnPosition.column += leadingSpace[0].length;
        this.moveCursorToPosition(firstColumnPosition);
    };
    this.moveCursorLineEnd = function() {
        var lead = this.lead;
        var lineEnd = this.session.getDocumentLastRowColumnPosition(lead.row, lead.column);
        if (this.lead.column == lineEnd.column) {
            var line = this.session.getLine(lineEnd.row);
            if (lineEnd.column == line.length) {
                var textEnd = line.search(/\s+$/);
                if (textEnd > 0)
                    lineEnd.column = textEnd;
            }
        }

        this.moveCursorTo(lineEnd.row, lineEnd.column);
    };
    this.moveCursorFileEnd = function() {
        var row = this.doc.getLength() - 1;
        var column = this.doc.getLine(row).length;
        this.moveCursorTo(row, column);
    };
    this.moveCursorFileStart = function() {
        this.moveCursorTo(0, 0);
    };
    this.moveCursorLongWordRight = function() {
        var row = this.lead.row;
        var column = this.lead.column;
        var line = this.doc.getLine(row);
        var rightOfCursor = line.substring(column);

        var match;
        this.session.nonTokenRe.lastIndex = 0;
        this.session.tokenRe.lastIndex = 0;
        var fold = this.session.getFoldAt(row, column, 1);
        if (fold) {
            this.moveCursorTo(fold.end.row, fold.end.column);
            return;
        }
        if (match = this.session.nonTokenRe.exec(rightOfCursor)) {
            column += this.session.nonTokenRe.lastIndex;
            this.session.nonTokenRe.lastIndex = 0;
            rightOfCursor = line.substring(column);
        }
        if (column >= line.length) {
            this.moveCursorTo(row, line.length);
            this.moveCursorRight();
            if (row < this.doc.getLength() - 1)
                this.moveCursorWordRight();
            return;
        }
        if (match = this.session.tokenRe.exec(rightOfCursor)) {
            column += this.session.tokenRe.lastIndex;
            this.session.tokenRe.lastIndex = 0;
        }

        this.moveCursorTo(row, column);
    };
    this.moveCursorLongWordLeft = function() {
        var row = this.lead.row;
        var column = this.lead.column;
        var fold;
        if (fold = this.session.getFoldAt(row, column, -1)) {
            this.moveCursorTo(fold.start.row, fold.start.column);
            return;
        }

        var str = this.session.getFoldStringAt(row, column, -1);
        if (str == null) {
            str = this.doc.getLine(row).substring(0, column)
        }

        var leftOfCursor = lang.stringReverse(str);
        var match;
        this.session.nonTokenRe.lastIndex = 0;
        this.session.tokenRe.lastIndex = 0;
        if (match = this.session.nonTokenRe.exec(leftOfCursor)) {
            column -= this.session.nonTokenRe.lastIndex;
            leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);
            this.session.nonTokenRe.lastIndex = 0;
        }
        if (column <= 0) {
            this.moveCursorTo(row, 0);
            this.moveCursorLeft();
            if (row > 0)
                this.moveCursorWordLeft();
            return;
        }
        if (match = this.session.tokenRe.exec(leftOfCursor)) {
            column -= this.session.tokenRe.lastIndex;
            this.session.tokenRe.lastIndex = 0;
        }

        this.moveCursorTo(row, column);
    };

    this.$shortWordEndIndex = function(rightOfCursor) {
        var match, index = 0, ch;
        var whitespaceRe = /\s/;
        var tokenRe = this.session.tokenRe;

        tokenRe.lastIndex = 0;
        if (match = this.session.tokenRe.exec(rightOfCursor)) {
            index = this.session.tokenRe.lastIndex;
        } else {
            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))
                index ++;

            if (index <= 1) {
                tokenRe.lastIndex = 0;
                 while ((ch = rightOfCursor[index]) && !tokenRe.test(ch)) {
                    tokenRe.lastIndex = 0;
                    index ++;
                    if (whitespaceRe.test(ch)) {
                        if (index > 2) {
                            index--
                            break;
                        } else {
                            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))
                                index ++;
                            if (index > 2)
                                break
                        }
                    }
                }
            }
        }
        tokenRe.lastIndex = 0;

        return index;
    };

    this.moveCursorShortWordRight = function() {
        var row = this.lead.row;
        var column = this.lead.column;
        var line = this.doc.getLine(row);
        var rightOfCursor = line.substring(column);

        var fold = this.session.getFoldAt(row, column, 1);
        if (fold)
            return this.moveCursorTo(fold.end.row, fold.end.column);

        if (column == line.length) {
            var l = this.doc.getLength();
            do {    
                row++;
                rightOfCursor = this.doc.getLine(row)
            } while (row < l && /^\s*$/.test(rightOfCursor))
            
            if (!/^\s+/.test(rightOfCursor))
                rightOfCursor = ""
            column = 0;
        }

        var index = this.$shortWordEndIndex(rightOfCursor);

        this.moveCursorTo(row, column + index);
    };

    this.moveCursorShortWordLeft = function() {
        var row = this.lead.row;
        var column = this.lead.column;

        var fold;
        if (fold = this.session.getFoldAt(row, column, -1))
            return this.moveCursorTo(fold.start.row, fold.start.column);

        var line = this.session.getLine(row).substring(0, column);
        if (column == 0) {
            do {    
                row--;
                line = this.doc.getLine(row);
            } while (row > 0 && /^\s*$/.test(line))
            
            column = line.length;
            if (!/\s+$/.test(line))
                line = ""
        }

        var leftOfCursor = lang.stringReverse(line);
        var index = this.$shortWordEndIndex(leftOfCursor);

        return this.moveCursorTo(row, column - index);
    };

    this.moveCursorWordRight = function() {
        if (this.session.$selectLongWords)
            this.moveCursorLongWordRight();
        else
            this.moveCursorShortWordRight();
    };

    this.moveCursorWordLeft = function() {
        if (this.session.$selectLongWords)
            this.moveCursorLongWordLeft();
        else
            this.moveCursorShortWordLeft();
    };
    this.moveCursorBy = function(rows, chars) {
        var screenPos = this.session.documentToScreenPosition(
            this.lead.row,
            this.lead.column
        );

        if (chars === 0) {
            if (this.$desiredColumn)
                screenPos.column = this.$desiredColumn;
            else
                this.$desiredColumn = screenPos.column;
        }

        var docPos = this.session.screenToDocumentPosition(screenPos.row + rows, screenPos.column);
        this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);
    };
    this.moveCursorToPosition = function(position) {
        this.moveCursorTo(position.row, position.column);
    };
    this.moveCursorTo = function(row, column, keepDesiredColumn) {
        var fold = this.session.getFoldAt(row, column, 1);
        if (fold) {
            row = fold.start.row;
            column = fold.start.column;
        }

        this.$keepDesiredColumnOnChange = true;
        this.lead.setPosition(row, column);
        this.$keepDesiredColumnOnChange = false;

        if (!keepDesiredColumn)
            this.$desiredColumn = null;
    };
    this.moveCursorToScreen = function(row, column, keepDesiredColumn) {
        var pos = this.session.screenToDocumentPosition(row, column);
        this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);
    };
    this.detach = function() {
        this.lead.detach();
        this.anchor.detach();
        this.session = this.doc = null;
    }

    this.fromOrientedRange = function(range) {
        this.setSelectionRange(range, range.cursor == range.start);
        this.$desiredColumn = range.desiredColumn || this.$desiredColumn;
    }

    this.toOrientedRange = function(range) {
        var r = this.getRange();
        if (range) {
            range.start.column = r.start.column;
            range.start.row = r.start.row;
            range.end.column = r.end.column;
            range.end.row = r.end.row;
        } else {
            range = r;
        }

        range.cursor = this.isBackwards() ? range.start : range.end;
        range.desiredColumn = this.$desiredColumn;
        return range;
    }

}).call(Selection.prototype);

exports.Selection = Selection;
});

ace.define('ace/range', ["require", 'exports', 'module' ], function(acequire, exports, module) {

var comparePoints = function(p1, p2) {
    return p1.row - p2.row || p1.column - p2.column;
};
var Range = function(startRow, startColumn, endRow, endColumn) {
    this.start = {
        row: startRow,
        column: startColumn
    };

    this.end = {
        row: endRow,
        column: endColumn
    };
};

(function() {
    this.isEqual = function(range) {
        return this.start.row === range.start.row &&
            this.end.row === range.end.row &&
            this.start.column === range.start.column &&
            this.end.column === range.end.column;
    };
    this.toString = function() {
        return ("Range: [" + this.start.row + "/" + this.start.column +
            "] -> [" + this.end.row + "/" + this.end.column + "]");
    };

    this.contains = function(row, column) {
        return this.compare(row, column) == 0;
    };
    this.compareRange = function(range) {
        var cmp,
            end = range.end,
            start = range.start;

        cmp = this.compare(end.row, end.column);
        if (cmp == 1) {
            cmp = this.compare(start.row, start.column);
            if (cmp == 1) {
                return 2;
            } else if (cmp == 0) {
                return 1;
            } else {
                return 0;
            }
        } else if (cmp == -1) {
            return -2;
        } else {
            cmp = this.compare(start.row, start.column);
            if (cmp == -1) {
                return -1;
            } else if (cmp == 1) {
                return 42;
            } else {
                return 0;
            }
        }
    };
    this.comparePoint = function(p) {
        return this.compare(p.row, p.column);
    };
    this.containsRange = function(range) {
        return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;
    };
    this.intersects = function(range) {
        var cmp = this.compareRange(range);
        return (cmp == -1 || cmp == 0 || cmp == 1);
    };
    this.isEnd = function(row, column) {
        return this.end.row == row && this.end.column == column;
    };
    this.isStart = function(row, column) {
        return this.start.row == row && this.start.column == column;
    };
    this.setStart = function(row, column) {
        if (typeof row == "object") {
            this.start.column = row.column;
            this.start.row = row.row;
        } else {
            this.start.row = row;
            this.start.column = column;
        }
    };
    this.setEnd = function(row, column) {
        if (typeof row == "object") {
            this.end.column = row.column;
            this.end.row = row.row;
        } else {
            this.end.row = row;
            this.end.column = column;
        }
    };
    this.inside = function(row, column) {
        if (this.compare(row, column) == 0) {
            if (this.isEnd(row, column) || this.isStart(row, column)) {
                return false;
            } else {
                return true;
            }
        }
        return false;
    };
    this.insideStart = function(row, column) {
        if (this.compare(row, column) == 0) {
            if (this.isEnd(row, column)) {
                return false;
            } else {
                return true;
            }
        }
        return false;
    };
    this.insideEnd = function(row, column) {
        if (this.compare(row, column) == 0) {
            if (this.isStart(row, column)) {
                return false;
            } else {
                return true;
            }
        }
        return false;
    };
    this.compare = function(row, column) {
        if (!this.isMultiLine()) {
            if (row === this.start.row) {
                return column < this.start.column ? -1 : (column > this.end.column ? 1 : 0);
            };
        }

        if (row < this.start.row)
            return -1;

        if (row > this.end.row)
            return 1;

        if (this.start.row === row)
            return column >= this.start.column ? 0 : -1;

        if (this.end.row === row)
            return column <= this.end.column ? 0 : 1;

        return 0;
    };
    this.compareStart = function(row, column) {
        if (this.start.row == row && this.start.column == column) {
            return -1;
        } else {
            return this.compare(row, column);
        }
    };
    this.compareEnd = function(row, column) {
        if (this.end.row == row && this.end.column == column) {
            return 1;
        } else {
            return this.compare(row, column);
        }
    };
    this.compareInside = function(row, column) {
        if (this.end.row == row && this.end.column == column) {
            return 1;
        } else if (this.start.row == row && this.start.column == column) {
            return -1;
        } else {
            return this.compare(row, column);
        }
    };
    this.clipRows = function(firstRow, lastRow) {
        if (this.end.row > lastRow)
            var end = {row: lastRow + 1, column: 0};
        else if (this.end.row < firstRow)
            var end = {row: firstRow, column: 0};

        if (this.start.row > lastRow)
            var start = {row: lastRow + 1, column: 0};
        else if (this.start.row < firstRow)
            var start = {row: firstRow, column: 0};

        return Range.fromPoints(start || this.start, end || this.end);
    };
    this.extend = function(row, column) {
        var cmp = this.compare(row, column);

        if (cmp == 0)
            return this;
        else if (cmp == -1)
            var start = {row: row, column: column};
        else
            var end = {row: row, column: column};

        return Range.fromPoints(start || this.start, end || this.end);
    };

    this.isEmpty = function() {
        return (this.start.row === this.end.row && this.start.column === this.end.column);
    };
    this.isMultiLine = function() {
        return (this.start.row !== this.end.row);
    };
    this.clone = function() {
        return Range.fromPoints(this.start, this.end);
    };
    this.collapseRows = function() {
        if (this.end.column == 0)
            return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row-1), 0)
        else
            return new Range(this.start.row, 0, this.end.row, 0)
    };
    this.toScreenRange = function(session) {
        var screenPosStart = session.documentToScreenPosition(this.start);
        var screenPosEnd = session.documentToScreenPosition(this.end);

        return new Range(
            screenPosStart.row, screenPosStart.column,
            screenPosEnd.row, screenPosEnd.column
        );
    };
    this.moveBy = function(row, column) {
        this.start.row += row;
        this.start.column += column;
        this.end.row += row;
        this.end.column += column;
    };

}).call(Range.prototype);
Range.fromPoints = function(start, end) {
    return new Range(start.row, start.column, end.row, end.column);
};
Range.comparePoints = comparePoints;

Range.comparePoints = function(p1, p2) {
    return p1.row - p2.row || p1.column - p2.column;
};


exports.Range = Range;
});

ace.define('ace/mode/text', ["require", 'exports', 'module' , 'ace/tokenizer', 'ace/mode/text_highlight_rules', 'ace/mode/behaviour', 'ace/unicode', 'ace/lib/lang', 'ace/token_iterator', 'ace/range'], function(acequire, exports, module) {


var Tokenizer = acequire("../tokenizer").Tokenizer;
var TextHighlightRules = acequire("./text_highlight_rules").TextHighlightRules;
var Behaviour = acequire("./behaviour").Behaviour;
var unicode = acequire("../unicode");
var lang = acequire("../lib/lang");
var TokenIterator = acequire("../token_iterator").TokenIterator;
var Range = acequire("../range").Range;

var Mode = function() {
    this.$tokenizer = new Tokenizer(new TextHighlightRules().getRules());
    this.$behaviour = new Behaviour();
};

(function() {

    this.tokenRe = new RegExp("^["
        + unicode.packages.L
        + unicode.packages.Mn + unicode.packages.Mc
        + unicode.packages.Nd
        + unicode.packages.Pc + "\\$_]+", "g"
    );

    this.nonTokenRe = new RegExp("^(?:[^"
        + unicode.packages.L
        + unicode.packages.Mn + unicode.packages.Mc
        + unicode.packages.Nd
        + unicode.packages.Pc + "\\$_]|\s])+", "g"
    );

    this.getTokenizer = function() {
        return this.$tokenizer;
    };

    this.lineCommentStart = "";
    this.blockComment = "";

    this.toggleCommentLines = function(state, session, startRow, endRow) {
        var doc = session.doc;

        var ignoreBlankLines = true;
        var shouldRemove = true;
        var minIndent = Infinity;
        var tabSize = session.getTabSize();
        var insertAtTabStop = false;

        if (!this.lineCommentStart) {
            if (!this.blockComment)
                return false;
            var lineCommentStart = this.blockComment.start;
            var lineCommentEnd = this.blockComment.end;
            var regexpStart = new RegExp("^(\\s*)(?:" + lang.escapeRegExp(lineCommentStart) + ")");
            var regexpEnd = new RegExp("(?:" + lang.escapeRegExp(lineCommentEnd) + ")\\s*$");

            var comment = function(line, i) {
                if (testRemove(line, i))
                    return;
                if (!ignoreBlankLines || /\S/.test(line)) {
                    doc.insertInLine({row: i, column: line.length}, lineCommentEnd);
                    doc.insertInLine({row: i, column: minIndent}, lineCommentStart);
                }
            };

            var uncomment = function(line, i) {
                var m;
                if (m = line.match(regexpEnd))
                    doc.removeInLine(i, line.length - m[0].length, line.length);
                if (m = line.match(regexpStart))
                    doc.removeInLine(i, m[1].length, m[0].length);
            };

            var testRemove = function(line, row) {
                if (regexpStart.test(line))
                    return true;
                var tokens = session.getTokens(row);
                for (var i = 0; i < tokens.length; i++) {
                    if (tokens[i].type === 'comment')
                        return true;
                }
            };
        } else {
            if (Array.isArray(this.lineCommentStart)) {
                var regexpStart = this.lineCommentStart.map(lang.escapeRegExp).join("|");
                var lineCommentStart = this.lineCommentStart[0];
            } else {
                var regexpStart = lang.escapeRegExp(this.lineCommentStart);
                var lineCommentStart = this.lineCommentStart;
            }
            regexpStart = new RegExp("^(\\s*)(?:" + regexpStart + ") ?");
            
            insertAtTabStop = session.getUseSoftTabs();

            var uncomment = function(line, i) {
                var m = line.match(regexpStart);
                if (!m) return;
                var start = m[1].length, end = m[0].length;
                if (!shouldInsertSpace(line, start, end) && m[0][end - 1] == " ")
                    end--;
                doc.removeInLine(i, start, end);
            };
            var commentWithSpace = lineCommentStart + " ";
            var comment = function(line, i) {
                if (!ignoreBlankLines || /\S/.test(line)) {
                    if (shouldInsertSpace(line, minIndent, minIndent))
                        doc.insertInLine({row: i, column: minIndent}, commentWithSpace);
                    else
                        doc.insertInLine({row: i, column: minIndent}, lineCommentStart);
                }
            };
            var testRemove = function(line, i) {
                return regexpStart.test(line);
            };
            
            var shouldInsertSpace = function(line, before, after) {
                var spaces = 0;
                while (before-- && line.charAt(before) == " ")
                    spaces++;
                if (spaces % tabSize != 0)
                    return false;
                var spaces = 0;
                while (line.charAt(after++) == " ")
                    spaces++;
                if (tabSize > 2)
                    return spaces % tabSize != tabSize - 1;
                else
                    return spaces % tabSize == 0;
                return true;
            };
        }

        function iter(fun) {
            for (var i = startRow; i <= endRow; i++)
                fun(doc.getLine(i), i);
        }


        var minEmptyLength = Infinity;
        iter(function(line, i) {
            var indent = line.search(/\S/);
            if (indent !== -1) {
                if (indent < minIndent)
                    minIndent = indent;
                if (shouldRemove && !testRemove(line, i))
                    shouldRemove = false;
            } else if (minEmptyLength > line.length) {
                minEmptyLength = line.length;
            }
        });

        if (minIndent == Infinity) {
            minIndent = minEmptyLength;
            ignoreBlankLines = false;
            shouldRemove = false;
        }

        if (insertAtTabStop && minIndent % tabSize != 0)
            minIndent = Math.floor(minIndent / tabSize) * tabSize;

        iter(shouldRemove ? uncomment : comment);
    };

    this.toggleBlockComment = function(state, session, range, cursor) {
        var comment = this.blockComment;
        if (!comment)
            return;
        if (!comment.start && comment[0])
            comment = comment[0];

        var iterator = new TokenIterator(session, cursor.row, cursor.column);
        var token = iterator.getCurrentToken();

        var sel = session.selection;
        var initialRange = session.selection.toOrientedRange();
        var startRow, colDiff;

        if (token && /comment/.test(token.type)) {
            var startRange, endRange;
            while (token && /comment/.test(token.type)) {
                var i = token.value.indexOf(comment.start);
                if (i != -1) {
                    var row = iterator.getCurrentTokenRow();
                    var column = iterator.getCurrentTokenColumn() + i;
                    startRange = new Range(row, column, row, column + comment.start.length);
                    break
                }
                token = iterator.stepBackward();
            };

            var iterator = new TokenIterator(session, cursor.row, cursor.column);
            var token = iterator.getCurrentToken();
            while (token && /comment/.test(token.type)) {
                var i = token.value.indexOf(comment.end);
                if (i != -1) {
                    var row = iterator.getCurrentTokenRow();
                    var column = iterator.getCurrentTokenColumn() + i;
                    endRange = new Range(row, column, row, column + comment.end.length);
                    break;
                }
                token = iterator.stepForward();
            }
            if (endRange)
                session.remove(endRange);
            if (startRange) {
                session.remove(startRange);
                startRow = startRange.start.row;
                colDiff = -comment.start.length
            }
        } else {
            colDiff = comment.start.length
            startRow = range.start.row;
            session.insert(range.end, comment.end);
            session.insert(range.start, comment.start);
        }
        if (initialRange.start.row == startRow)
            initialRange.start.column += colDiff;
        if (initialRange.end.row == startRow)
            initialRange.end.column += colDiff;
        session.selection.fromOrientedRange(initialRange);
    };

    this.getNextLineIndent = function(state, line, tab) {
        return this.$getIndent(line);
    };

    this.checkOutdent = function(state, line, input) {
        return false;
    };

    this.autoOutdent = function(state, doc, row) {
    };

    this.$getIndent = function(line) {
        return line.match(/^\s*/)[0];
    };

    this.createWorker = function(session) {
        return null;
    };

    this.createModeDelegates = function (mapping) {
        if (!this.$embeds) {
            return;
        }
        this.$modes = {};
        for (var i = 0; i < this.$embeds.length; i++) {
            if (mapping[this.$embeds[i]]) {
                this.$modes[this.$embeds[i]] = new mapping[this.$embeds[i]]();
            }
        }

        var delegations = ['toggleCommentLines', 'getNextLineIndent', 'checkOutdent', 'autoOutdent', 'transformAction'];

        for (var i = 0; i < delegations.length; i++) {
            (function(scope) {
              var functionName = delegations[i];
              var defaultHandler = scope[functionName];
              scope[delegations[i]] = function() {
                  return this.$delegator(functionName, arguments, defaultHandler);
              }
            } (this));
        }
    };

    this.$delegator = function(method, args, defaultHandler) {
        var state = args[0];
        if (typeof state != "string")
            state = state[0];
        for (var i = 0; i < this.$embeds.length; i++) {
            if (!this.$modes[this.$embeds[i]]) continue;

            var split = state.split(this.$embeds[i]);
            if (!split[0] && split[1]) {
                args[0] = split[1];
                var mode = this.$modes[this.$embeds[i]];
                return mode[method].apply(mode, args);
            }
        }
        var ret = defaultHandler.apply(this, args);
        return defaultHandler ? ret : undefined;
    };

    this.transformAction = function(state, action, editor, session, param) {
        if (this.$behaviour) {
            var behaviours = this.$behaviour.getBehaviours();
            for (var key in behaviours) {
                if (behaviours[key][action]) {
                    var ret = behaviours[key][action].apply(this, arguments);
                    if (ret) {
                        return ret;
                    }
                }
            }
        }
    };

}).call(Mode.prototype);

exports.Mode = Mode;
});

ace.define('ace/tokenizer', ["require", 'exports', 'module' ], function(acequire, exports, module) {
var MAX_TOKEN_COUNT = 1000;
var Tokenizer = function(rules) {
    this.states = rules;

    this.regExps = {};
    this.matchMappings = {};
    for (var key in this.states) {
        var state = this.states[key];
        var ruleRegExps = [];
        var matchTotal = 0;
        var mapping = this.matchMappings[key] = {defaultToken: "text"};
        var flag = "g";

        var splitterRurles = [];
        for (var i = 0; i < state.length; i++) {
            var rule = state[i];
            if (rule.defaultToken)
                mapping.defaultToken = rule.defaultToken;
            if (rule.caseInsensitive)
                flag = "gi";
            if (rule.regex == null)
                continue;

            if (rule.regex instanceof RegExp)
                rule.regex = rule.regex.toString().slice(1, -1);
            var adjustedregex = rule.regex;
            var matchcount = new RegExp("(?:(" + adjustedregex + ")|(.))").exec("a").length - 2;
            if (Array.isArray(rule.token)) {
                if (rule.token.length == 1 || matchcount == 1) {
                    rule.token = rule.token[0];
                } else if (matchcount - 1 != rule.token.length) {
                    throw new Error("number of classes and regexp groups in '" + 
                        rule.token + "'\n'" + rule.regex +  "' doesn't match\n"
                        + (matchcount - 1) + "!=" + rule.token.length);
                } else {
                    rule.tokenArray = rule.token;
                    rule.token = null;
                    rule.onMatch = this.$arrayTokens;
                }
            } else if (typeof rule.token == "function" && !rule.onMatch) {
                if (matchcount > 1)
                    rule.onMatch = this.$applyToken;
                else
                    rule.onMatch = rule.token;
            }

            if (matchcount > 1) {
                if (/\\\d/.test(rule.regex)) {
                    adjustedregex = rule.regex.replace(/\\([0-9]+)/g, function (match, digit) {
                        return "\\" + (parseInt(digit, 10) + matchTotal + 1);
                    });
                } else {
                    matchcount = 1;
                    adjustedregex = this.removeCapturingGroups(rule.regex);
                }
                if (!rule.splitRegex && typeof rule.token != "string")
                    splitterRurles.push(rule); // flag will be known only at the very end
            }

            mapping[matchTotal] = i;
            matchTotal += matchcount;

            ruleRegExps.push(adjustedregex);
            if (!rule.onMatch)
                rule.onMatch = null;
            rule.__proto__ = null;
        }
        
        splitterRurles.forEach(function(rule) {
            rule.splitRegex = this.createSplitterRegexp(rule.regex, flag);
        }, this);

        this.regExps[key] = new RegExp("(" + ruleRegExps.join(")|(") + ")|($)", flag);
    }
};

(function() {
    this.$applyToken = function(str) {
        var values = this.splitRegex.exec(str).slice(1);
        var types = this.token.apply(this, values);
        if (typeof types === "string")
            return [{type: types, value: str}];

        var tokens = [];
        for (var i = 0, l = types.length; i < l; i++) {
            if (values[i])
                tokens[tokens.length] = {
                    type: types[i],
                    value: values[i]
                };
        }
        return tokens;
    },

    this.$arrayTokens = function(str) {
        if (!str)
            return [];
        var values = this.splitRegex.exec(str);
        if (!values)
            return "text";
        var tokens = [];
        var types = this.tokenArray;
        for (var i = 0, l = types.length; i < l; i++) {
            if (values[i + 1])
                tokens[tokens.length] = {
                    type: types[i],
                    value: values[i + 1]
                };
        }
        return tokens;
    };

    this.removeCapturingGroups = function(src) {
        var r = src.replace(
            /\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,
            function(x, y) {return y ? "(?:" : x;}
        );
        return r;
    };

    this.createSplitterRegexp = function(src, flag) {
        if (src.indexOf("(?=") != -1) {
            var stack = 0;
            var inChClass = false;
            var lastCapture = {};
            src.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g, function(
                m, esc, parenOpen, parenClose, square, index
            ) {
                if (inChClass) {
                    inChClass = square != "]";
                } else if (square) {
                    inChClass = true;
                } else if (parenClose) {
                    if (stack == lastCapture.stack) {
                        lastCapture.end = index+1;
                        lastCapture.stack = -1;
                    }
                    stack--;
                } else if (parenOpen) {
                    stack++;
                    if (parenOpen.length != 1) {
                        lastCapture.stack = stack
                        lastCapture.start = index;
                    }
                }
                return m;
            });

            if (lastCapture.end != null && /^\)*$/.test(src.substr(lastCapture.end)))
                src = src.substring(0, lastCapture.start) + src.substr(lastCapture.end);
        }
        return new RegExp(src, (flag||"").replace("g", ""));
    };
    this.getLineTokens = function(line, startState) {
        if (startState && typeof startState != "string") {
            var stack = startState.slice(0);
            startState = stack[0];
        } else
            var stack = [];

        var currentState = startState || "start";
        var state = this.states[currentState];
        var mapping = this.matchMappings[currentState];
        var re = this.regExps[currentState];
        re.lastIndex = 0;

        var match, tokens = [];
        var lastIndex = 0;

        var token = {type: null, value: ""};

        while (match = re.exec(line)) {
            var type = mapping.defaultToken;
            var rule = null;
            var value = match[0];
            var index = re.lastIndex;

            if (index - value.length > lastIndex) {
                var skipped = line.substring(lastIndex, index - value.length);
                if (token.type == type) {
                    token.value += skipped;
                } else {
                    if (token.type)
                        tokens.push(token);
                    token = {type: type, value: skipped};
                }
            }

            for (var i = 0; i < match.length-2; i++) {
                if (match[i + 1] === undefined)
                    continue;

                rule = state[mapping[i]];

                if (rule.onMatch)
                    type = rule.onMatch(value, currentState, stack);
                else
                    type = rule.token;

                if (rule.next) {
                    if (typeof rule.next == "string")
                        currentState = rule.next;
                    else
                        currentState = rule.next(currentState, stack);

                    state = this.states[currentState];
                    if (!state) {
                        window.console && console.error && console.error(currentState, "doesn't exist");
                        currentState = "start";
                        state = this.states[currentState];
                    }
                    mapping = this.matchMappings[currentState];
                    lastIndex = index;
                    re = this.regExps[currentState];
                    re.lastIndex = index;
                }
                break;
            }

            if (value) {
                if (typeof type == "string") {
                    if ((!rule || rule.merge !== false) && token.type === type) {
                        token.value += value;
                    } else {
                        if (token.type)
                            tokens.push(token);
                        token = {type: type, value: value};
                    }
                } else if (type) {
                    if (token.type)
                        tokens.push(token);
                    token = {type: null, value: ""};
                    for (var i = 0; i < type.length; i++)
                        tokens.push(type[i]);
                }
            }

            if (lastIndex == line.length)
                break;

            lastIndex = index;

            if (tokens.length > MAX_TOKEN_COUNT) {
                while (lastIndex < line.length) {
                    if (token.type)
                        tokens.push(token);
                    token = {
                        value: line.substring(lastIndex, lastIndex += 2000),
                        type: "overflow"
                    }    
                }
                currentState = "start";
                stack = [];
                break;
            }
        }

        if (token.type)
            tokens.push(token);

        return {
            tokens : tokens,
            state : stack.length ? stack : currentState
        };
    };

}).call(Tokenizer.prototype);

exports.Tokenizer = Tokenizer;
});

ace.define('ace/mode/text_highlight_rules', ["require", 'exports', 'module' , 'ace/lib/lang'], function(acequire, exports, module) {


var lang = acequire("../lib/lang");

var TextHighlightRules = function() {

    this.$rules = {
        "start" : [{
            token : "empty_line",
            regex : '^$'
        }, {
            defaultToken : "text"
        }]
    };
};

(function() {

    this.addRules = function(rules, prefix) {
        for (var key in rules) {
            var state = rules[key];
            for (var i = 0; i < state.length; i++) {
                var rule = state[i];
                if (rule.next) {
                    if (typeof rule.next != "string")
                        rule.nextState = prefix + rule.nextState;
                    else
                        rule.next = prefix + rule.next;

                }
            }
            this.$rules[prefix + key] = state;
        }
    };

    this.getRules = function() {
        return this.$rules;
    };

    this.embedRules = function (HighlightRules, prefix, escapeRules, states, append) {
        var embedRules = new HighlightRules().getRules();
        if (states) {
            for (var i = 0; i < states.length; i++)
                states[i] = prefix + states[i];
        } else {
            states = [];
            for (var key in embedRules)
                states.push(prefix + key);
        }

        this.addRules(embedRules, prefix);

        if (escapeRules) {
            var addRules = Array.prototype[append ? "push" : "unshift"];
            for (var i = 0; i < states.length; i++)
                addRules.apply(this.$rules[states[i]], lang.deepCopy(escapeRules));
        }

        if (!this.$embeds)
            this.$embeds = [];
        this.$embeds.push(prefix);
    }

    this.getEmbeds = function() {
        return this.$embeds;
    };

    var pushState = function(currentState, stack) {
        if (currentState != "start")
            stack.unshift(this.nextState, currentState);
        return this.nextState;
    };
    var popState = function(currentState, stack) {
        if (stack[0] !== currentState)
            return "start";
        stack.shift();
        return stack.shift();
    };

    this.normalizeRules = function() {
        var id = 0;
        var rules = this.$rules;
        function processState(key) {
            var state = rules[key];
            state.processed = true;
            for (var i = 0; i < state.length; i++) {
                var rule = state[i];
                if (!rule.regex && rule.start) {
                    rule.regex = rule.start;
                    if (!rule.next)
                        rule.next = [];
                    rule.next.push({
                        defaultToken: rule.token
                    }, {
                        token: rule.token + ".end",
                        regex: rule.end || rule.start,
                        next: "pop"
                    });
                    rule.token = rule.token + ".start";
                    rule.push = true;
                }
                var next = rule.next || rule.push;
                if (next && Array.isArray(next)) {
                    var stateName = rule.stateName;
                    if (!stateName)  {
                        stateName = rule.token;
                        if (typeof stateName != "string")
                            stateName = stateName[0] || "";
                        if (rules[stateName])
                            stateName += id++;
                    }
                    rules[stateName] = next;
                    rule.next = stateName;
                    processState(stateName);
                } else if (next == "pop") {
                    rule.next = popState;
                }

                if (rule.push) {
                    rule.nextState = rule.next || rule.push;
                    rule.next = pushState;
                    delete rule.push;
                }

                if (rule.rules) {
                    for (var r in rule.rules) {
                        if (rules[r]) {
                            if (rules[r].push)
                                rules[r].push.apply(rules[r], rule.rules[r]);
                        } else {
                            rules[r] = rule.rules[r];
                        }
                    }
                }
                if (rule.include || typeof rule == "string") {
                    var includeName = rule.include || rule;
                    var toInsert = rules[includeName];
                } else if (Array.isArray(rule))
                    toInsert = rule;

                if (toInsert) {
                    var args = [i, 1].concat(toInsert);
                    if (rule.noEscape)
                        args = args.filter(function(x) {return !x.next;});
                    state.splice.apply(state, args);
                    i--;
                    toInsert = null
                }
                
                if (rule.keywordMap) {
                    rule.token = this.createKeywordMapper(
                        rule.keywordMap, rule.defaultToken || "text", rule.caseInsensitive
                    );
                    delete rule.defaultToken;
                }
            }
        };
        Object.keys(rules).forEach(processState, this);
    };

    this.createKeywordMapper = function(map, defaultToken, ignoreCase, splitChar) {
        var keywords = Object.create(null);
        Object.keys(map).forEach(function(className) {
            var a = map[className];
            if (ignoreCase)
                a = a.toLowerCase();
            var list = a.split(splitChar || "|");
            for (var i = list.length; i--; )
                keywords[list[i]] = className;
        });
        map = null;
        return ignoreCase
            ? function(value) {return keywords[value.toLowerCase()] || defaultToken }
            : function(value) {return keywords[value] || defaultToken };
    }

    this.getKeywords = function() {
        return this.$keywords;
    };

}).call(TextHighlightRules.prototype);

exports.TextHighlightRules = TextHighlightRules;
});

ace.define('ace/mode/behaviour', ["require", 'exports', 'module' ], function(acequire, exports, module) {


var Behaviour = function() {
   this.$behaviours = {};
};

(function () {

    this.add = function (name, action, callback) {
        switch (undefined) {
          case this.$behaviours:
              this.$behaviours = {};
          case this.$behaviours[name]:
              this.$behaviours[name] = {};
        }
        this.$behaviours[name][action] = callback;
    }
    
    this.addBehaviours = function (behaviours) {
        for (var key in behaviours) {
            for (var action in behaviours[key]) {
                this.add(key, action, behaviours[key][action]);
            }
        }
    }
    
    this.remove = function (name) {
        if (this.$behaviours && this.$behaviours[name]) {
            delete this.$behaviours[name];
        }
    }
    
    this.inherit = function (mode, filter) {
        if (typeof mode === "function") {
            var behaviours = new mode().getBehaviours(filter);
        } else {
            var behaviours = mode.getBehaviours(filter);
        }
        this.addBehaviours(behaviours);
    }
    
    this.getBehaviours = function (filter) {
        if (!filter) {
            return this.$behaviours;
        } else {
            var ret = {}
            for (var i = 0; i < filter.length; i++) {
                if (this.$behaviours[filter[i]]) {
                    ret[filter[i]] = this.$behaviours[filter[i]];
                }
            }
            return ret;
        }
    }

}).call(Behaviour.prototype);

exports.Behaviour = Behaviour;
});
ace.define('ace/unicode', ["require", 'exports', 'module' ], function(acequire, exports, module) {
exports.packages = {};

addUnicodePackage({
    L:  "0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
    Ll: "0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",
    Lu: "0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",
    Lt: "01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",
    Lm: "02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",
    Lo: "01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
    M:  "0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",
    Mn: "0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",
    Mc: "0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",
    Me: "0488048906DE20DD-20E020E2-20E4A670-A672",
    N:  "0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",
    Nd: "0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",
    Nl: "16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",
    No: "00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",
    P:  "0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",
    Pd: "002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",
    Ps: "0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",
    Pe: "0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",
    Pi: "00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",
    Pf: "00BB2019201D203A2E032E052E0A2E0D2E1D2E21",
    Pc: "005F203F20402054FE33FE34FE4D-FE4FFF3F",
    Po: "0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",
    S:  "0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",
    Sm: "002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",
    Sc: "002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",
    Sk: "005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",
    So: "00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",
    Z:  "002000A01680180E2000-200A20282029202F205F3000",
    Zs: "002000A01680180E2000-200A202F205F3000",
    Zl: "2028",
    Zp: "2029",
    C:  "0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",
    Cc: "0000-001F007F-009F",
    Cf: "00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",
    Co: "E000-F8FF",
    Cs: "D800-DFFF",
    Cn: "03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"
});

function addUnicodePackage (pack) {
    var codePoint = /\w{4}/g;
    for (var name in pack)
        exports.packages[name] = pack[name].replace(codePoint, "\\u$&");
};

});

ace.define('ace/token_iterator', ["require", 'exports', 'module' ], function(acequire, exports, module) {
var TokenIterator = function(session, initialRow, initialColumn) {
    this.$session = session;
    this.$row = initialRow;
    this.$rowTokens = session.getTokens(initialRow);

    var token = session.getTokenAt(initialRow, initialColumn);
    this.$tokenIndex = token ? token.index : -1;
};

(function() { 
    this.stepBackward = function() {
        this.$tokenIndex -= 1;
        
        while (this.$tokenIndex < 0) {
            this.$row -= 1;
            if (this.$row < 0) {
                this.$row = 0;
                return null;
            }
                
            this.$rowTokens = this.$session.getTokens(this.$row);
            this.$tokenIndex = this.$rowTokens.length - 1;
        }
            
        return this.$rowTokens[this.$tokenIndex];
    };   
    this.stepForward = function() {
        this.$tokenIndex += 1;
        var rowCount;
        while (this.$tokenIndex >= this.$rowTokens.length) {
            this.$row += 1;
            if (!rowCount)
                rowCount = this.$session.getLength();
            if (this.$row >= rowCount) {
                this.$row = rowCount - 1;
                return null;
            }

            this.$rowTokens = this.$session.getTokens(this.$row);
            this.$tokenIndex = 0;
        }
            
        return this.$rowTokens[this.$tokenIndex];
    };      
    this.getCurrentToken = function () {
        return this.$rowTokens[this.$tokenIndex];
    };      
    this.getCurrentTokenRow = function () {
        return this.$row;
    };     
    this.getCurrentTokenColumn = function() {
        var rowTokens = this.$rowTokens;
        var tokenIndex = this.$tokenIndex;
        var column = rowTokens[tokenIndex].start;
        if (column !== undefined)
            return column;
            
        column = 0;
        while (tokenIndex > 0) {
            tokenIndex -= 1;
            column += rowTokens[tokenIndex].value.length;
        }
        
        return column;  
    };
            
}).call(TokenIterator.prototype);

exports.TokenIterator = TokenIterator;
});

ace.define('ace/document', ["require", 'exports', 'module' , 'ace/lib/oop', 'ace/lib/event_emitter', 'ace/range', 'ace/anchor'], function(acequire, exports, module) {


var oop = acequire("./lib/oop");
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;
var Range = acequire("./range").Range;
var Anchor = acequire("./anchor").Anchor;

var Document = function(text) {
    this.$lines = [];
    if (text.length == 0) {
        this.$lines = [""];
    } else if (Array.isArray(text)) {
        this._insertLines(0, text);
    } else {
        this.insert({row: 0, column:0}, text);
    }
};

(function() {

    oop.implement(this, EventEmitter);
    this.setValue = function(text) {
        var len = this.getLength();
        this.remove(new Range(0, 0, len, this.getLine(len-1).length));
        this.insert({row: 0, column:0}, text);
    };
    this.getValue = function() {
        return this.getAllLines().join(this.getNewLineCharacter());
    };
    this.createAnchor = function(row, column) {
        return new Anchor(this, row, column);
    };
    if ("aaa".split(/a/).length == 0)
        this.$split = function(text) {
            return text.replace(/\r\n|\r/g, "\n").split("\n");
        }
    else
        this.$split = function(text) {
            return text.split(/\r\n|\r|\n/);
        };


    this.$detectNewLine = function(text) {
        var match = text.match(/^.*?(\r\n|\r|\n)/m);
        this.$autoNewLine = match ? match[1] : "\n";
    };
    this.getNewLineCharacter = function() {
        switch (this.$newLineMode) {
          case "windows":
            return "\r\n";
          case "unix":
            return "\n";
          default:
            return this.$autoNewLine;
        }
    };

    this.$autoNewLine = "\n";
    this.$newLineMode = "auto";
    this.setNewLineMode = function(newLineMode) {
        if (this.$newLineMode === newLineMode)
            return;

        this.$newLineMode = newLineMode;
    };
    this.getNewLineMode = function() {
        return this.$newLineMode;
    };
    this.isNewLine = function(text) {
        return (text == "\r\n" || text == "\r" || text == "\n");
    };
    this.getLine = function(row) {
        return this.$lines[row] || "";
    };
    this.getLines = function(firstRow, lastRow) {
        return this.$lines.slice(firstRow, lastRow + 1);
    };
    this.getAllLines = function() {
        return this.getLines(0, this.getLength());
    };
    this.getLength = function() {
        return this.$lines.length;
    };
    this.getTextRange = function(range) {
        if (range.start.row == range.end.row) {
            return this.$lines[range.start.row]
                .substring(range.start.column, range.end.column);
        }
        var lines = this.getLines(range.start.row, range.end.row);
        lines[0] = (lines[0] || "").substring(range.start.column);
        var l = lines.length - 1;
        if (range.end.row - range.start.row == l)
            lines[l] = lines[l].substring(0, range.end.column);
        return lines.join(this.getNewLineCharacter());
    };

    this.$clipPosition = function(position) {
        var length = this.getLength();
        if (position.row >= length) {
            position.row = Math.max(0, length - 1);
            position.column = this.getLine(length-1).length;
        } else if (position.row < 0)
            position.row = 0;
        return position;
    };
    this.insert = function(position, text) {
        if (!text || text.length === 0)
            return position;

        position = this.$clipPosition(position);
        if (this.getLength() <= 1)
            this.$detectNewLine(text);

        var lines = this.$split(text);
        var firstLine = lines.splice(0, 1)[0];
        var lastLine = lines.length == 0 ? null : lines.splice(lines.length - 1, 1)[0];

        position = this.insertInLine(position, firstLine);
        if (lastLine !== null) {
            position = this.insertNewLine(position); // terminate first line
            position = this._insertLines(position.row, lines);
            position = this.insertInLine(position, lastLine || "");
        }
        return position;
    };
    this.insertLines = function(row, lines) {
        if (row >= this.getLength())
            return this.insert({row: row, column: 0}, "\n" + lines.join("\n"));
        return this._insertLines(Math.max(row, 0), lines);
    };
    this._insertLines = function(row, lines) {
        if (lines.length == 0)
            return {row: row, column: 0};
        if (lines.length > 0xFFFF) {
            var end = this._insertLines(row, lines.slice(0xFFFF));
            lines = lines.slice(0, 0xFFFF);
        }

        var args = [row, 0];
        args.push.apply(args, lines);
        this.$lines.splice.apply(this.$lines, args);

        var range = new Range(row, 0, row + lines.length, 0);
        var delta = {
            action: "insertLines",
            range: range,
            lines: lines
        };
        this._emit("change", { data: delta });
        return end || range.end;
    };
    this.insertNewLine = function(position) {
        position = this.$clipPosition(position);
        var line = this.$lines[position.row] || "";

        this.$lines[position.row] = line.substring(0, position.column);
        this.$lines.splice(position.row + 1, 0, line.substring(position.column, line.length));

        var end = {
            row : position.row + 1,
            column : 0
        };

        var delta = {
            action: "insertText",
            range: Range.fromPoints(position, end),
            text: this.getNewLineCharacter()
        };
        this._emit("change", { data: delta });

        return end;
    };
    this.insertInLine = function(position, text) {
        if (text.length == 0)
            return position;

        var line = this.$lines[position.row] || "";

        this.$lines[position.row] = line.substring(0, position.column) + text
                + line.substring(position.column);

        var end = {
            row : position.row,
            column : position.column + text.length
        };

        var delta = {
            action: "insertText",
            range: Range.fromPoints(position, end),
            text: text
        };
        this._emit("change", { data: delta });

        return end;
    };
    this.remove = function(range) {
        range.start = this.$clipPosition(range.start);
        range.end = this.$clipPosition(range.end);

        if (range.isEmpty())
            return range.start;

        var firstRow = range.start.row;
        var lastRow = range.end.row;

        if (range.isMultiLine()) {
            var firstFullRow = range.start.column == 0 ? firstRow : firstRow + 1;
            var lastFullRow = lastRow - 1;

            if (range.end.column > 0)
                this.removeInLine(lastRow, 0, range.end.column);

            if (lastFullRow >= firstFullRow)
                this._removeLines(firstFullRow, lastFullRow);

            if (firstFullRow != firstRow) {
                this.removeInLine(firstRow, range.start.column, this.getLine(firstRow).length);
                this.removeNewLine(range.start.row);
            }
        }
        else {
            this.removeInLine(firstRow, range.start.column, range.end.column);
        }
        return range.start;
    };
    this.removeInLine = function(row, startColumn, endColumn) {
        if (startColumn == endColumn)
            return;

        var range = new Range(row, startColumn, row, endColumn);
        var line = this.getLine(row);
        var removed = line.substring(startColumn, endColumn);
        var newLine = line.substring(0, startColumn) + line.substring(endColumn, line.length);
        this.$lines.splice(row, 1, newLine);

        var delta = {
            action: "removeText",
            range: range,
            text: removed
        };
        this._emit("change", { data: delta });
        return range.start;
    };
    this.removeLines = function(firstRow, lastRow) {
        if (firstRow < 0 || lastRow >= this.getLength())
            return this.remove(new Range(firstRow, 0, lastRow + 1, 0));
        return this._removeLines(firstRow, lastRow);
    };

    this._removeLines = function(firstRow, lastRow) {
        var range = new Range(firstRow, 0, lastRow + 1, 0);
        var removed = this.$lines.splice(firstRow, lastRow - firstRow + 1);

        var delta = {
            action: "removeLines",
            range: range,
            nl: this.getNewLineCharacter(),
            lines: removed
        };
        this._emit("change", { data: delta });
        return removed;
    };
    this.removeNewLine = function(row) {
        var firstLine = this.getLine(row);
        var secondLine = this.getLine(row+1);

        var range = new Range(row, firstLine.length, row+1, 0);
        var line = firstLine + secondLine;

        this.$lines.splice(row, 2, line);

        var delta = {
            action: "removeText",
            range: range,
            text: this.getNewLineCharacter()
        };
        this._emit("change", { data: delta });
    };
    this.replace = function(range, text) {
        if (text.length == 0 && range.isEmpty())
            return range.start;
        if (text == this.getTextRange(range))
            return range.end;

        this.remove(range);
        if (text) {
            var end = this.insert(range.start, text);
        }
        else {
            end = range.start;
        }

        return end;
    };
    this.applyDeltas = function(deltas) {
        for (var i=0; i<deltas.length; i++) {
            var delta = deltas[i];
            var range = Range.fromPoints(delta.range.start, delta.range.end);

            if (delta.action == "insertLines")
                this.insertLines(range.start.row, delta.lines);
            else if (delta.action == "insertText")
                this.insert(range.start, delta.text);
            else if (delta.action == "removeLines")
                this._removeLines(range.start.row, range.end.row - 1);
            else if (delta.action == "removeText")
                this.remove(range);
        }
    };
    this.revertDeltas = function(deltas) {
        for (var i=deltas.length-1; i>=0; i--) {
            var delta = deltas[i];

            var range = Range.fromPoints(delta.range.start, delta.range.end);

            if (delta.action == "insertLines")
                this._removeLines(range.start.row, range.end.row - 1);
            else if (delta.action == "insertText")
                this.remove(range);
            else if (delta.action == "removeLines")
                this._insertLines(range.start.row, delta.lines);
            else if (delta.action == "removeText")
                this.insert(range.start, delta.text);
        }
    };
    this.indexToPosition = function(index, startRow) {
        var lines = this.$lines || this.getAllLines();
        var newlineLength = this.getNewLineCharacter().length;
        for (var i = startRow || 0, l = lines.length; i < l; i++) {
            index -= lines[i].length + newlineLength;
            if (index < 0)
                return {row: i, column: index + lines[i].length + newlineLength};
        }
        return {row: l-1, column: lines[l-1].length};
    };
    this.positionToIndex = function(pos, startRow) {
        var lines = this.$lines || this.getAllLines();
        var newlineLength = this.getNewLineCharacter().length;
        var index = 0;
        var row = Math.min(pos.row, lines.length);
        for (var i = startRow || 0; i < row; ++i)
            index += lines[i].length + newlineLength;

        return index + pos.column;
    };

}).call(Document.prototype);

exports.Document = Document;
});

ace.define('ace/anchor', ["require", 'exports', 'module' , 'ace/lib/oop', 'ace/lib/event_emitter'], function(acequire, exports, module) {


var oop = acequire("./lib/oop");
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;

var Anchor = exports.Anchor = function(doc, row, column) {
    this.document = doc;

    if (typeof column == "undefined")
        this.setPosition(row.row, row.column);
    else
        this.setPosition(row, column);

    this.$onChange = this.onChange.bind(this);
    doc.on("change", this.$onChange);
};

(function() {

    oop.implement(this, EventEmitter);

    this.getPosition = function() {
        return this.$clipPositionToDocument(this.row, this.column);
    };

    this.getDocument = function() {
        return this.document;
    };

    this.onChange = function(e) {
        var delta = e.data;
        var range = delta.range;

        if (range.start.row == range.end.row && range.start.row != this.row)
            return;

        if (range.start.row > this.row)
            return;

        if (range.start.row == this.row && range.start.column > this.column)
            return;

        var row = this.row;
        var column = this.column;
        var start = range.start;
        var end = range.end;

        if (delta.action === "insertText") {
            if (start.row === row && start.column <= column) {
                if (start.row === end.row) {
                    column += end.column - start.column;
                } else {
                    column -= start.column;
                    row += end.row - start.row;
                }
            } else if (start.row !== end.row && start.row < row) {
                row += end.row - start.row;
            }
        } else if (delta.action === "insertLines") {
            if (start.row <= row) {
                row += end.row - start.row;
            }
        } else if (delta.action === "removeText") {
            if (start.row === row && start.column < column) {
                if (end.column >= column)
                    column = start.column;
                else
                    column = Math.max(0, column - (end.column - start.column));

            } else if (start.row !== end.row && start.row < row) {
                if (end.row === row)
                    column = Math.max(0, column - end.column) + start.column;
                row -= (end.row - start.row);
            } else if (end.row === row) {
                row -= end.row - start.row;
                column = Math.max(0, column - end.column) + start.column;
            }
        } else if (delta.action == "removeLines") {
            if (start.row <= row) {
                if (end.row <= row)
                    row -= end.row - start.row;
                else {
                    row = start.row;
                    column = 0;
                }
            }
        }

        this.setPosition(row, column, true);
    };

    this.setPosition = function(row, column, noClip) {
        var pos;
        if (noClip) {
            pos = {
                row: row,
                column: column
            };
        } else {
            pos = this.$clipPositionToDocument(row, column);
        }

        if (this.row == pos.row && this.column == pos.column)
            return;

        var old = {
            row: this.row,
            column: this.column
        };

        this.row = pos.row;
        this.column = pos.column;
        this._emit("change", {
            old: old,
            value: pos
        });
    };

    this.detach = function() {
        this.document.removeEventListener("change", this.$onChange);
    };
    this.$clipPositionToDocument = function(row, column) {
        var pos = {};

        if (row >= this.document.getLength()) {
            pos.row = Math.max(0, this.document.getLength() - 1);
            pos.column = this.document.getLine(pos.row).length;
        }
        else if (row < 0) {
            pos.row = 0;
            pos.column = 0;
        }
        else {
            pos.row = row;
            pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));
        }

        if (column < 0)
            pos.column = 0;

        return pos;
    };

}).call(Anchor.prototype);

});

ace.define('ace/background_tokenizer', ["require", 'exports', 'module' , 'ace/lib/oop', 'ace/lib/event_emitter'], function(acequire, exports, module) {


var oop = acequire("./lib/oop");
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;

var BackgroundTokenizer = function(tokenizer, editor) {
    this.running = false;
    this.lines = [];
    this.states = [];
    this.currentLine = 0;
    this.tokenizer = tokenizer;

    var self = this;

    this.$worker = function() {
        if (!self.running) { return; }

        var workerStart = new Date();
        var startLine = self.currentLine;
        var doc = self.doc;

        var processedLines = 0;

        var len = doc.getLength();
        while (self.currentLine < len) {
            self.$tokenizeRow(self.currentLine);
            while (self.lines[self.currentLine])
                self.currentLine++;
            processedLines ++;
            if ((processedLines % 5 == 0) && (new Date() - workerStart) > 20) {
                self.fireUpdateEvent(startLine, self.currentLine-1);
                self.running = setTimeout(self.$worker, 20);
                return;
            }
        }

        self.running = false;

        self.fireUpdateEvent(startLine, len - 1);
    };
};

(function(){

    oop.implement(this, EventEmitter);
    this.setTokenizer = function(tokenizer) {
        this.tokenizer = tokenizer;
        this.lines = [];
        this.states = [];

        this.start(0);
    };
    this.setDocument = function(doc) {
        this.doc = doc;
        this.lines = [];
        this.states = [];

        this.stop();
    };
    this.fireUpdateEvent = function(firstRow, lastRow) {
        var data = {
            first: firstRow,
            last: lastRow
        };
        this._emit("update", {data: data});
    };
    this.start = function(startRow) {
        this.currentLine = Math.min(startRow || 0, this.currentLine, this.doc.getLength());
        this.lines.splice(this.currentLine, this.lines.length);
        this.states.splice(this.currentLine, this.states.length);

        this.stop();
        this.running = setTimeout(this.$worker, 700);
    };

    this.$updateOnChange = function(delta) {
        var range = delta.range;
        var startRow = range.start.row;
        var len = range.end.row - startRow;

        if (len === 0) {
            this.lines[startRow] = null;
        } else if (delta.action == "removeText" || delta.action == "removeLines") {
            this.lines.splice(startRow, len + 1, null);
            this.states.splice(startRow, len + 1, null);
        } else {
            var args = Array(len + 1);
            args.unshift(startRow, 1);
            this.lines.splice.apply(this.lines, args);
            this.states.splice.apply(this.states, args);
        }

        this.currentLine = Math.min(startRow, this.currentLine, this.doc.getLength());

        this.stop();
        this.running = setTimeout(this.$worker, 700);
    };
    this.stop = function() {
        if (this.running)
            clearTimeout(this.running);
        this.running = false;
    };
    this.getTokens = function(row) {
        return this.lines[row] || this.$tokenizeRow(row);
    };
    this.getState = function(row) {
        if (this.currentLine == row)
            this.$tokenizeRow(row);
        return this.states[row] || "start";
    };

    this.$tokenizeRow = function(row) {
        var line = this.doc.getLine(row);
        var state = this.states[row - 1];

        var data = this.tokenizer.getLineTokens(line, state, row);

        if (this.states[row] + "" !== data.state + "") {
            this.states[row] = data.state;
            this.lines[row + 1] = null;
            if (this.currentLine > row + 1)
                this.currentLine = row + 1;
        } else if (this.currentLine == row) {
            this.currentLine = row + 1;
        }

        return this.lines[row] = data.tokens;
    };

}).call(BackgroundTokenizer.prototype);

exports.BackgroundTokenizer = BackgroundTokenizer;
});

ace.define('ace/search_highlight', ["require", 'exports', 'module' , 'ace/lib/lang', 'ace/lib/oop', 'ace/range'], function(acequire, exports, module) {


var lang = acequire("./lib/lang");
var oop = acequire("./lib/oop");
var Range = acequire("./range").Range;

var SearchHighlight = function(regExp, clazz, type) {
    this.setRegexp(regExp);
    this.clazz = clazz;
    this.type = type || "text";
};

(function() {
    this.MAX_RANGES = 500;
    
    this.setRegexp = function(regExp) {
        if (this.regExp+"" == regExp+"")
            return;
        this.regExp = regExp;
        this.cache = [];
    };

    this.update = function(html, markerLayer, session, config) {
        if (!this.regExp)
            return;
        var start = config.firstRow, end = config.lastRow;

        for (var i = start; i <= end; i++) {
            var ranges = this.cache[i];
            if (ranges == null) {
                ranges = lang.getMatchOffsets(session.getLine(i), this.regExp);
                if (ranges.length > this.MAX_RANGES)
                    ranges = ranges.slice(0, this.MAX_RANGES);
                ranges = ranges.map(function(match) {
                    return new Range(i, match.offset, i, match.offset + match.length);
                });
                this.cache[i] = ranges.length ? ranges : "";
            }

            for (var j = ranges.length; j --; ) {
                markerLayer.drawSingleLineMarker(
                    html, ranges[j].toScreenRange(session), this.clazz, config);
            }
        }
    };

}).call(SearchHighlight.prototype);

exports.SearchHighlight = SearchHighlight;
});

ace.define('ace/edit_session/folding', ["require", 'exports', 'module' , 'ace/range', 'ace/edit_session/fold_line', 'ace/edit_session/fold', 'ace/token_iterator'], function(acequire, exports, module) {


var Range = acequire("../range").Range;
var FoldLine = acequire("./fold_line").FoldLine;
var Fold = acequire("./fold").Fold;
var TokenIterator = acequire("../token_iterator").TokenIterator;

function Folding() {
    this.getFoldAt = function(row, column, side) {
        var foldLine = this.getFoldLine(row);
        if (!foldLine)
            return null;

        var folds = foldLine.folds;
        for (var i = 0; i < folds.length; i++) {
            var fold = folds[i];
            if (fold.range.contains(row, column)) {
                if (side == 1 && fold.range.isEnd(row, column)) {
                    continue;
                } else if (side == -1 && fold.range.isStart(row, column)) {
                    continue;
                }
                return fold;
            }
        }
    };
    this.getFoldsInRange = function(range) {
        var start = range.start;
        var end = range.end;
        var foldLines = this.$foldData;
        var foundFolds = [];

        start.column += 1;
        end.column -= 1;

        for (var i = 0; i < foldLines.length; i++) {
            var cmp = foldLines[i].range.compareRange(range);
            if (cmp == 2) {
                continue;
            }
            else if (cmp == -2) {
                break;
            }

            var folds = foldLines[i].folds;
            for (var j = 0; j < folds.length; j++) {
                var fold = folds[j];
                cmp = fold.range.compareRange(range);
                if (cmp == -2) {
                    break;
                } else if (cmp == 2) {
                    continue;
                } else
                if (cmp == 42) {
                    break;
                }
                foundFolds.push(fold);
            }
        }
        start.column -= 1;
        end.column += 1;

        return foundFolds;
    };
    this.getAllFolds = function() {
        var folds = [];
        var foldLines = this.$foldData;
        
        function addFold(fold) {
            folds.push(fold);
        }
        
        for (var i = 0; i < foldLines.length; i++)
            for (var j = 0; j < foldLines[i].folds.length; j++)
                addFold(foldLines[i].folds[j]);

        return folds;
    };
    this.getFoldStringAt = function(row, column, trim, foldLine) {
        foldLine = foldLine || this.getFoldLine(row);
        if (!foldLine)
            return null;

        var lastFold = {
            end: { column: 0 }
        };
        var str, fold;
        for (var i = 0; i < foldLine.folds.length; i++) {
            fold = foldLine.folds[i];
            var cmp = fold.range.compareEnd(row, column);
            if (cmp == -1) {
                str = this
                    .getLine(fold.start.row)
                    .substring(lastFold.end.column, fold.start.column);
                break;
            }
            else if (cmp === 0) {
                return null;
            }
            lastFold = fold;
        }
        if (!str)
            str = this.getLine(fold.start.row).substring(lastFold.end.column);

        if (trim == -1)
            return str.substring(0, column - lastFold.end.column);
        else if (trim == 1)
            return str.substring(column - lastFold.end.column);
        else
            return str;
    };

    this.getFoldLine = function(docRow, startFoldLine) {
        var foldData = this.$foldData;
        var i = 0;
        if (startFoldLine)
            i = foldData.indexOf(startFoldLine);
        if (i == -1)
            i = 0;
        for (i; i < foldData.length; i++) {
            var foldLine = foldData[i];
            if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {
                return foldLine;
            } else if (foldLine.end.row > docRow) {
                return null;
            }
        }
        return null;
    };
    this.getNextFoldLine = function(docRow, startFoldLine) {
        var foldData = this.$foldData;
        var i = 0;
        if (startFoldLine)
            i = foldData.indexOf(startFoldLine);
        if (i == -1)
            i = 0;
        for (i; i < foldData.length; i++) {
            var foldLine = foldData[i];
            if (foldLine.end.row >= docRow) {
                return foldLine;
            }
        }
        return null;
    };

    this.getFoldedRowCount = function(first, last) {
        var foldData = this.$foldData, rowCount = last-first+1;
        for (var i = 0; i < foldData.length; i++) {
            var foldLine = foldData[i],
                end = foldLine.end.row,
                start = foldLine.start.row;
            if (end >= last) {
                if(start < last) {
                    if(start >= first)
                        rowCount -= last-start;
                    else
                        rowCount = 0;//in one fold
                }
                break;
            } else if(end >= first){
                if (start >= first) //fold inside range
                    rowCount -=  end-start;
                else
                    rowCount -=  end-first+1;
            }
        }
        return rowCount;
    };

    this.$addFoldLine = function(foldLine) {
        this.$foldData.push(foldLine);
        this.$foldData.sort(function(a, b) {
            return a.start.row - b.start.row;
        });
        return foldLine;
    };
    this.addFold = function(placeholder, range) {
        var foldData = this.$foldData;
        var added = false;
        var fold;
        
        if (placeholder instanceof Fold)
            fold = placeholder;
        else {
            fold = new Fold(range, placeholder);
            fold.collapseChildren = range.collapseChildren;
        }
        this.$clipRangeToDocument(fold.range);

        var startRow = fold.start.row;
        var startColumn = fold.start.column;
        var endRow = fold.end.row;
        var endColumn = fold.end.column;
        if (startRow == endRow && endColumn - startColumn < 2)
            throw "The range has to be at least 2 characters width";

        var startFold = this.getFoldAt(startRow, startColumn, 1);
        var endFold = this.getFoldAt(endRow, endColumn, -1);
        if (startFold && endFold == startFold)
            return startFold.addSubFold(fold);

        if (
            (startFold && !startFold.range.isStart(startRow, startColumn))
            || (endFold && !endFold.range.isEnd(endRow, endColumn))
        ) {
            throw "A fold can't intersect already existing fold" + fold.range + startFold.range;
        }
        var folds = this.getFoldsInRange(fold.range);
        if (folds.length > 0) {
            this.removeFolds(folds);
            folds.forEach(function(subFold) {
                fold.addSubFold(subFold);
            });
        }

        for (var i = 0; i < foldData.length; i++) {
            var foldLine = foldData[i];
            if (endRow == foldLine.start.row) {
                foldLine.addFold(fold);
                added = true;
                break;
            } else if (startRow == foldLine.end.row) {
                foldLine.addFold(fold);
                added = true;
                if (!fold.sameRow) {
                    var foldLineNext = foldData[i + 1];
                    if (foldLineNext && foldLineNext.start.row == endRow) {
                        foldLine.merge(foldLineNext);
                        break;
                    }
                }
                break;
            } else if (endRow <= foldLine.start.row) {
                break;
            }
        }

        if (!added)
            foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));

        if (this.$useWrapMode)
            this.$updateWrapData(foldLine.start.row, foldLine.start.row);
        else
            this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);
        this.$modified = true;
        this._emit("changeFold", { data: fold, action: "add" });

        return fold;
    };

    this.addFolds = function(folds) {
        folds.forEach(function(fold) {
            this.addFold(fold);
        }, this);
    };

    this.removeFold = function(fold) {
        var foldLine = fold.foldLine;
        var startRow = foldLine.start.row;
        var endRow = foldLine.end.row;

        var foldLines = this.$foldData;
        var folds = foldLine.folds;
        if (folds.length == 1) {
            foldLines.splice(foldLines.indexOf(foldLine), 1);
        } else
        if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {
            folds.pop();
            foldLine.end.row = folds[folds.length - 1].end.row;
            foldLine.end.column = folds[folds.length - 1].end.column;
        } else
        if (foldLine.range.isStart(fold.start.row, fold.start.column)) {
            folds.shift();
            foldLine.start.row = folds[0].start.row;
            foldLine.start.column = folds[0].start.column;
        } else
        if (fold.sameRow) {
            folds.splice(folds.indexOf(fold), 1);
        } else
        {
            var newFoldLine = foldLine.split(fold.start.row, fold.start.column);
            folds = newFoldLine.folds;
            folds.shift();
            newFoldLine.start.row = folds[0].start.row;
            newFoldLine.start.column = folds[0].start.column;
        }

        if (!this.$updating) {
            if (this.$useWrapMode)
                this.$updateWrapData(startRow, endRow);
            else
                this.$updateRowLengthCache(startRow, endRow);
        }
        this.$modified = true;
        this._emit("changeFold", { data: fold, action: "remove" });
    };

    this.removeFolds = function(folds) {
        var cloneFolds = [];
        for (var i = 0; i < folds.length; i++) {
            cloneFolds.push(folds[i]);
        }

        cloneFolds.forEach(function(fold) {
            this.removeFold(fold);
        }, this);
        this.$modified = true;
    };

    this.expandFold = function(fold) {
        this.removeFold(fold);        
        fold.subFolds.forEach(function(subFold) {
            fold.restoreRange(subFold);
            this.addFold(subFold);
        }, this);
        if (fold.collapseChildren > 0) {
            this.foldAll(fold.start.row+1, fold.end.row, fold.collapseChildren-1);
        }
        fold.subFolds = [];
    };

    this.expandFolds = function(folds) {
        folds.forEach(function(fold) {
            this.expandFold(fold);
        }, this);
    };

    this.unfold = function(location, expandInner) {
        var range, folds;
        if (location == null) {
            range = new Range(0, 0, this.getLength(), 0);
            expandInner = true;
        } else if (typeof location == "number")
            range = new Range(location, 0, location, this.getLine(location).length);
        else if ("row" in location)
            range = Range.fromPoints(location, location);
        else
            range = location;

        folds = this.getFoldsInRange(range);
        if (expandInner) {
            this.removeFolds(folds);
        } else {
            while (folds.length) {
                this.expandFolds(folds);
                folds = this.getFoldsInRange(range);
            }
        }
    };
    this.isRowFolded = function(docRow, startFoldRow) {
        return !!this.getFoldLine(docRow, startFoldRow);
    };

    this.getRowFoldEnd = function(docRow, startFoldRow) {
        var foldLine = this.getFoldLine(docRow, startFoldRow);
        return foldLine ? foldLine.end.row : docRow;
    };

    this.getRowFoldStart = function(docRow, startFoldRow) {
        var foldLine = this.getFoldLine(docRow, startFoldRow);
        return foldLine ? foldLine.start.row : docRow;
    };

    this.getFoldDisplayLine = function(foldLine, endRow, endColumn, startRow, startColumn) {
        if (startRow == null) {
            startRow = foldLine.start.row;
            startColumn = 0;
        }

        if (endRow == null) {
            endRow = foldLine.end.row;
            endColumn = this.getLine(endRow).length;
        }
        var doc = this.doc;
        var textLine = "";

        foldLine.walk(function(placeholder, row, column, lastColumn) {
            if (row < startRow)
                return;
            if (row == startRow) {
                if (column < startColumn)
                    return;
                lastColumn = Math.max(startColumn, lastColumn);
            }

            if (placeholder != null) {
                textLine += placeholder;
            } else {
                textLine += doc.getLine(row).substring(lastColumn, column);
            }
        }, endRow, endColumn);
        return textLine;
    };

    this.getDisplayLine = function(row, endColumn, startRow, startColumn) {
        var foldLine = this.getFoldLine(row);

        if (!foldLine) {
            var line;
            line = this.doc.getLine(row);
            return line.substring(startColumn || 0, endColumn || line.length);
        } else {
            return this.getFoldDisplayLine(
                foldLine, row, endColumn, startRow, startColumn);
        }
    };

    this.$cloneFoldData = function() {
        var fd = [];
        fd = this.$foldData.map(function(foldLine) {
            var folds = foldLine.folds.map(function(fold) {
                return fold.clone();
            });
            return new FoldLine(fd, folds);
        });

        return fd;
    };

    this.toggleFold = function(tryToUnfold) {
        var selection = this.selection;
        var range = selection.getRange();
        var fold;
        var bracketPos;

        if (range.isEmpty()) {
            var cursor = range.start;
            fold = this.getFoldAt(cursor.row, cursor.column);

            if (fold) {
                this.expandFold(fold);
                return;
            } else if (bracketPos = this.findMatchingBracket(cursor)) {
                if (range.comparePoint(bracketPos) == 1) {
                    range.end = bracketPos;
                } else {
                    range.start = bracketPos;
                    range.start.column++;
                    range.end.column--;
                }
            } else if (bracketPos = this.findMatchingBracket({row: cursor.row, column: cursor.column + 1})) {
                if (range.comparePoint(bracketPos) == 1)
                    range.end = bracketPos;
                else
                    range.start = bracketPos;

                range.start.column++;
            } else {
                range = this.getCommentFoldRange(cursor.row, cursor.column) || range;
            }
        } else {
            var folds = this.getFoldsInRange(range);
            if (tryToUnfold && folds.length) {
                this.expandFolds(folds);
                return;
            } else if (folds.length == 1 ) {
                fold = folds[0];
            }
        }

        if (!fold)
            fold = this.getFoldAt(range.start.row, range.start.column);

        if (fold && fold.range.toString() == range.toString()) {
            this.expandFold(fold);
            return;
        }

        var placeholder = "...";
        if (!range.isMultiLine()) {
            placeholder = this.getTextRange(range);
            if(placeholder.length < 4)
                return;
            placeholder = placeholder.trim().substring(0, 2) + "..";
        }

        this.addFold(placeholder, range);
    };

    this.getCommentFoldRange = function(row, column, dir) {
        var iterator = new TokenIterator(this, row, column);
        var token = iterator.getCurrentToken();
        if (token && /^comment|string/.test(token.type)) {
            var range = new Range();
            var re = new RegExp(token.type.replace(/\..*/, "\\."));
            if (dir != 1) {
                do {
                    token = iterator.stepBackward();
                } while(token && re.test(token.type));
                iterator.stepForward();
            }
            
            range.start.row = iterator.getCurrentTokenRow();
            range.start.column = iterator.getCurrentTokenColumn() + 2;

            iterator = new TokenIterator(this, row, column);
            
            if (dir != -1) {
                do {
                    token = iterator.stepForward();
                } while(token && re.test(token.type));
                token = iterator.stepBackward();
            } else
                token = iterator.getCurrentToken();

            range.end.row = iterator.getCurrentTokenRow();
            range.end.column = iterator.getCurrentTokenColumn() + token.value.length - 2;
            return range;
        }
    };

    this.foldAll = function(startRow, endRow, depth) {
        if (depth == undefined)
            depth = 100000; // JSON.stringify doesn't hanle Infinity
        var foldWidgets = this.foldWidgets;
        endRow = endRow || this.getLength();
        for (var row = startRow || 0; row < endRow; row++) {
            if (foldWidgets[row] == null)
                foldWidgets[row] = this.getFoldWidget(row);
            if (foldWidgets[row] != "start")
                continue;

            var range = this.getFoldWidgetRange(row);
            if (range && range.end.row <= endRow) try {
                var fold = this.addFold("...", range);
                fold.collapseChildren = depth;
            } catch(e) {}
            row = range.end.row;
        }
    };
    this.$foldStyles = {
        "manual": 1,
        "markbegin": 1,
        "markbeginend": 1
    };
    this.$foldStyle = "markbegin";
    this.setFoldStyle = function(style) {
        if (!this.$foldStyles[style])
            throw new Error("invalid fold style: " + style + "[" + Object.keys(this.$foldStyles).join(", ") + "]");
        
        if (this.$foldStyle == style)
            return;

        this.$foldStyle = style;
        
        if (style == "manual")
            this.unfold();
        var mode = this.$foldMode;
        this.$setFolding(null);
        this.$setFolding(mode);
    };

    this.$setFolding = function(foldMode) {
        if (this.$foldMode == foldMode)
            return;
            
        this.$foldMode = foldMode;
        
        this.removeListener('change', this.$updateFoldWidgets);
        this._emit("changeAnnotation");
        
        if (!foldMode || this.$foldStyle == "manual") {
            this.foldWidgets = null;
            return;
        }
        
        this.foldWidgets = [];
        this.getFoldWidget = foldMode.getFoldWidget.bind(foldMode, this, this.$foldStyle);
        this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(foldMode, this, this.$foldStyle);
        
        this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);
        this.on('change', this.$updateFoldWidgets);
        
    };

    this.getParentFoldRangeData = function (row, ignoreCurrent) {
        var fw = this.foldWidgets;
        if (!fw || (ignoreCurrent && fw[row]))
            return {};

        var i = row - 1, firstRange;
        while (i >= 0) {
            var c = fw[i];
            if (c == null)
                c = fw[i] = this.getFoldWidget(i);

            if (c == "start") {
                var range = this.getFoldWidgetRange(i);
                if (!firstRange)
                    firstRange = range;
                if (range && range.end.row >= row)
                    break;
            }
            i--;
        }

        return {
            range: i !== -1 && range,
            firstRange: firstRange
        };
    }

    this.onFoldWidgetClick = function(row, e) {
        var type = this.getFoldWidget(row);
        var line = this.getLine(row);
        e = e.domEvent;
        var children = e.shiftKey;
        var all = e.ctrlKey || e.metaKey;
        var siblings = e.altKey;

        var dir = type === "end" ? -1 : 1;
        var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);

        if (fold) {
            if (children || all)
                this.removeFold(fold);
            else
                this.expandFold(fold);
            return;
        }

        var range = this.getFoldWidgetRange(row);
        if (range && !range.isMultiLine()) {
            fold = this.getFoldAt(range.start.row, range.start.column, 1);
            if (fold && range.isEqual(fold.range)) {
                this.removeFold(fold);
                return;
            }
        }
        
        if (siblings) {
            var data = this.getParentFoldRangeData(row);
            if (data.range) {
                var startRow = data.range.start.row + 1;
                var endRow = data.range.end.row;
            }
            this.foldAll(startRow, endRow, all ? 10000 : 0);
        } else if (children) {
            var endRow = range ? range.end.row : this.getLength();
            this.foldAll(row + 1, range.end.row, all ? 10000 : 0);
        } else if (range) {
            if (all) 
                range.collapseChildren = 10000;
            this.addFold("...", range);
        }
        
        if (!range)
            (e.target || e.srcElement).className += " ace_invalid"
    };

    this.updateFoldWidgets = function(e) {
        var delta = e.data;
        var range = delta.range;
        var firstRow = range.start.row;
        var len = range.end.row - firstRow;

        if (len === 0) {
            this.foldWidgets[firstRow] = null;
        } else if (delta.action == "removeText" || delta.action == "removeLines") {
            this.foldWidgets.splice(firstRow, len + 1, null);
        } else {
            var args = Array(len + 1);
            args.unshift(firstRow, 1);
            this.foldWidgets.splice.apply(this.foldWidgets, args);
        }
    };

}

exports.Folding = Folding;

});

ace.define('ace/edit_session/fold_line', ["require", 'exports', 'module' , 'ace/range'], function(acequire, exports, module) {


var Range = acequire("../range").Range;
function FoldLine(foldData, folds) {
    this.foldData = foldData;
    if (Array.isArray(folds)) {
        this.folds = folds;
    } else {
        folds = this.folds = [ folds ];
    }

    var last = folds[folds.length - 1]
    this.range = new Range(folds[0].start.row, folds[0].start.column,
                           last.end.row, last.end.column);
    this.start = this.range.start;
    this.end   = this.range.end;

    this.folds.forEach(function(fold) {
        fold.setFoldLine(this);
    }, this);
}

(function() {
    this.shiftRow = function(shift) {
        this.start.row += shift;
        this.end.row += shift;
        this.folds.forEach(function(fold) {
            fold.start.row += shift;
            fold.end.row += shift;
        });
    }

    this.addFold = function(fold) {
        if (fold.sameRow) {
            if (fold.start.row < this.startRow || fold.endRow > this.endRow) {
                throw "Can't add a fold to this FoldLine as it has no connection";
            }
            this.folds.push(fold);
            this.folds.sort(function(a, b) {
                return -a.range.compareEnd(b.start.row, b.start.column);
            });
            if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {
                this.end.row = fold.end.row;
                this.end.column =  fold.end.column;
            } else if (this.range.compareStart(fold.end.row, fold.end.column) < 0) {
                this.start.row = fold.start.row;
                this.start.column = fold.start.column;
            }
        } else if (fold.start.row == this.end.row) {
            this.folds.push(fold);
            this.end.row = fold.end.row;
            this.end.column = fold.end.column;
        } else if (fold.end.row == this.start.row) {
            this.folds.unshift(fold);
            this.start.row = fold.start.row;
            this.start.column = fold.start.column;
        } else {
            throw "Trying to add fold to FoldRow that doesn't have a matching row";
        }
        fold.foldLine = this;
    }

    this.containsRow = function(row) {
        return row >= this.start.row && row <= this.end.row;
    }

    this.walk = function(callback, endRow, endColumn) {
        var lastEnd = 0,
            folds = this.folds,
            fold,
            comp, stop, isNewRow = true;

        if (endRow == null) {
            endRow = this.end.row;
            endColumn = this.end.column;
        }

        for (var i = 0; i < folds.length; i++) {
            fold = folds[i];

            comp = fold.range.compareStart(endRow, endColumn);
            if (comp == -1) {
                callback(null, endRow, endColumn, lastEnd, isNewRow);
                return;
            }

            stop = callback(null, fold.start.row, fold.start.column, lastEnd, isNewRow);
            stop = !stop && callback(fold.placeholder, fold.start.row, fold.start.column, lastEnd);
            if (stop || comp == 0) {
                return;
            }
            isNewRow = !fold.sameRow;
            lastEnd = fold.end.column;
        }
        callback(null, endRow, endColumn, lastEnd, isNewRow);
    }

    this.getNextFoldTo = function(row, column) {
        var fold, cmp;
        for (var i = 0; i < this.folds.length; i++) {
            fold = this.folds[i];
            cmp = fold.range.compareEnd(row, column);
            if (cmp == -1) {
                return {
                    fold: fold,
                    kind: "after"
                };
            } else if (cmp == 0) {
                return {
                    fold: fold,
                    kind: "inside"
                }
            }
        }
        return null;
    }

    this.addRemoveChars = function(row, column, len) {
        var ret = this.getNextFoldTo(row, column),
            fold, folds;
        if (ret) {
            fold = ret.fold;
            if (ret.kind == "inside"
                && fold.start.column != column
                && fold.start.row != row)
            {
                window.console && window.console.log(row, column, fold);
            } else if (fold.start.row == row) {
                folds = this.folds;
                var i = folds.indexOf(fold);
                if (i == 0) {
                    this.start.column += len;
                }
                for (i; i < folds.length; i++) {
                    fold = folds[i];
                    fold.start.column += len;
                    if (!fold.sameRow) {
                        return;
                    }
                    fold.end.column += len;
                }
                this.end.column += len;
            }
        }
    }

    this.split = function(row, column) {
        var fold = this.getNextFoldTo(row, column).fold;
        var folds = this.folds;
        var foldData = this.foldData;

        if (!fold)
            return null;

        var i = folds.indexOf(fold);
        var foldBefore = folds[i - 1];
        this.end.row = foldBefore.end.row;
        this.end.column = foldBefore.end.column;
        folds = folds.splice(i, folds.length - i);

        var newFoldLine = new FoldLine(foldData, folds);
        foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);
        return newFoldLine;
    }

    this.merge = function(foldLineNext) {
        var folds = foldLineNext.folds;
        for (var i = 0; i < folds.length; i++) {
            this.addFold(folds[i]);
        }
        var foldData = this.foldData;
        foldData.splice(foldData.indexOf(foldLineNext), 1);
    }

    this.toString = function() {
        var ret = [this.range.toString() + ": [" ];

        this.folds.forEach(function(fold) {
            ret.push("  " + fold.toString());
        });
        ret.push("]")
        return ret.join("\n");
    }

    this.idxToPosition = function(idx) {
        var lastFoldEndColumn = 0;
        var fold;

        for (var i = 0; i < this.folds.length; i++) {
            var fold = this.folds[i];

            idx -= fold.start.column - lastFoldEndColumn;
            if (idx < 0) {
                return {
                    row: fold.start.row,
                    column: fold.start.column + idx
                };
            }

            idx -= fold.placeholder.length;
            if (idx < 0) {
                return fold.start;
            }

            lastFoldEndColumn = fold.end.column;
        }

        return {
            row: this.end.row,
            column: this.end.column + idx
        };
    }
}).call(FoldLine.prototype);

exports.FoldLine = FoldLine;
});

ace.define('ace/edit_session/fold', ["require", 'exports', 'module' , 'ace/range', 'ace/range_list', 'ace/lib/oop'], function(acequire, exports, module) {


var Range = acequire("../range").Range;
var RangeList = acequire("../range_list").RangeList;
var oop = acequire("../lib/oop")
var Fold = exports.Fold = function(range, placeholder) {
    this.foldLine = null;
    this.placeholder = placeholder;
    this.range = range;
    this.start = range.start;
    this.end = range.end;

    this.sameRow = range.start.row == range.end.row;
    this.subFolds = this.ranges = [];
};

oop.inherits(Fold, RangeList);

(function() {

    this.toString = function() {
        return '"' + this.placeholder + '" ' + this.range.toString();
    };

    this.setFoldLine = function(foldLine) {
        this.foldLine = foldLine;
        this.subFolds.forEach(function(fold) {
            fold.setFoldLine(foldLine);
        });
    };

    this.clone = function() {
        var range = this.range.clone();
        var fold = new Fold(range, this.placeholder);
        this.subFolds.forEach(function(subFold) {
            fold.subFolds.push(subFold.clone());
        });
        fold.collapseChildren = this.collapseChildren;
        return fold;
    };

    this.addSubFold = function(fold) {
        if (this.range.isEqual(fold))
            return;

        if (!this.range.containsRange(fold))
            throw "A fold can't intersect already existing fold" + fold.range + this.range;
        consumeRange(fold, this.start);

        var row = fold.start.row, column = fold.start.column;
        for (var i = 0, cmp = -1; i < this.subFolds.length; i++) {
            cmp = this.subFolds[i].range.compare(row, column);
            if (cmp != 1)
                break;
        }
        var afterStart = this.subFolds[i];

        if (cmp == 0)
            return afterStart.addSubFold(fold);
        var row = fold.range.end.row, column = fold.range.end.column;
        for (var j = i, cmp = -1; j < this.subFolds.length; j++) {
            cmp = this.subFolds[j].range.compare(row, column);
            if (cmp != 1)
                break;
        }
        var afterEnd = this.subFolds[j];

        if (cmp == 0)
            throw "A fold can't intersect already existing fold" + fold.range + this.range;

        var consumedFolds = this.subFolds.splice(i, j - i, fold);
        fold.setFoldLine(this.foldLine);

        return fold;
    };
    
    this.restoreRange = function(range) {
        return restoreRange(range, this.start);
    };

}).call(Fold.prototype);

function consumePoint(point, anchor) {
    point.row -= anchor.row;
    if (point.row == 0)
        point.column -= anchor.column;
}
function consumeRange(range, anchor) {
    consumePoint(range.start, anchor);
    consumePoint(range.end, anchor);
}
function restorePoint(point, anchor) {
    if (point.row == 0)
        point.column += anchor.column;
    point.row += anchor.row;
}
function restoreRange(range, anchor) {
    restorePoint(range.start, anchor);
    restorePoint(range.end, anchor);
}

});

ace.define('ace/range_list', ["require", 'exports', 'module' , 'ace/range'], function(acequire, exports, module) {

var Range = acequire("./range").Range;
var comparePoints = Range.comparePoints;

var RangeList = function() {
    this.ranges = [];
};

(function() {
    this.comparePoints = comparePoints;

    this.pointIndex = function(pos, excludeEdges, startIndex) {
        var list = this.ranges;

        for (var i = startIndex || 0; i < list.length; i++) {
            var range = list[i];
            var cmpEnd = comparePoints(pos, range.end);
            if (cmpEnd > 0)
                continue;
            var cmpStart = comparePoints(pos, range.start);
            if (cmpEnd === 0)
                return excludeEdges && cmpStart !== 0 ? -i-2 : i;
            if (cmpStart > 0 || (cmpStart === 0 && !excludeEdges))
                return i;

            return -i-1;
        }
        return -i - 1;
    };

    this.add = function(range) {
        var excludeEdges = !range.isEmpty();
        var startIndex = this.pointIndex(range.start, excludeEdges);
        if (startIndex < 0)
            startIndex = -startIndex - 1;

        var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);

        if (endIndex < 0)
            endIndex = -endIndex - 1;
        else
            endIndex++;
        return this.ranges.splice(startIndex, endIndex - startIndex, range);
    };

    this.addList = function(list) {
        var removed = [];
        for (var i = list.length; i--; ) {
            removed.push.call(removed, this.add(list[i]));
        }
        return removed;
    };

    this.substractPoint = function(pos) {
        var i = this.pointIndex(pos);

        if (i >= 0)
            return this.ranges.splice(i, 1);
    };
    this.merge = function() {
        var removed = [];
        var list = this.ranges;
        
        list = list.sort(function(a, b) {
            return comparePoints(a.start, b.start);
        });
        
        var next = list[0], range;
        for (var i = 1; i < list.length; i++) {
            range = next;
            next = list[i];
            var cmp = comparePoints(range.end, next.start);
            if (cmp < 0)
                continue;

            if (cmp == 0 && !range.isEmpty() && !next.isEmpty())
                continue;

            if (comparePoints(range.end, next.end) < 0) {
                range.end.row = next.end.row;
                range.end.column = next.end.column;
            }

            list.splice(i, 1);
            removed.push(next);
            next = range;
            i--;
        }
        
        this.ranges = list;

        return removed;
    };

    this.contains = function(row, column) {
        return this.pointIndex({row: row, column: column}) >= 0;
    };

    this.containsPoint = function(pos) {
        return this.pointIndex(pos) >= 0;
    };

    this.rangeAtPoint = function(pos) {
        var i = this.pointIndex(pos);
        if (i >= 0)
            return this.ranges[i];
    };


    this.clipRows = function(startRow, endRow) {
        var list = this.ranges;
        if (list[0].start.row > endRow || list[list.length - 1].start.row < startRow)
            return [];

        var startIndex = this.pointIndex({row: startRow, column: 0});
        if (startIndex < 0)
            startIndex = -startIndex - 1;
        var endIndex = this.pointIndex({row: endRow, column: 0}, startIndex);
        if (endIndex < 0)
            endIndex = -endIndex - 1;

        var clipped = [];
        for (var i = startIndex; i < endIndex; i++) {
            clipped.push(list[i]);
        }
        return clipped;
    };

    this.removeAll = function() {
        return this.ranges.splice(0, this.ranges.length);
    };

    this.attach = function(session) {
        if (this.session)
            this.detach();

        this.session = session;
        this.onChange = this.$onChange.bind(this);

        this.session.on('change', this.onChange);
    };

    this.detach = function() {
        if (!this.session)
            return;
        this.session.removeListener('change', this.onChange);
        this.session = null;
    };

    this.$onChange = function(e) {
        var changeRange = e.data.range;
        if (e.data.action[0] == "i"){
            var start = changeRange.start;
            var end = changeRange.end;
        } else {
            var end = changeRange.start;
            var start = changeRange.end;
        }
        var startRow = start.row;
        var endRow = end.row;
        var lineDif = endRow - startRow;

        var colDiff = -start.column + end.column;
        var ranges = this.ranges;

        for (var i = 0, n = ranges.length; i < n; i++) {
            var r = ranges[i];
            if (r.end.row < startRow)
                continue;
            if (r.start.row > startRow)
                break;

            if (r.start.row == startRow && r.start.column >= start.column ) {
                
                r.start.column += colDiff;
                r.start.row += lineDif;
            }
            if (r.end.row == startRow && r.end.column >= start.column) {
                if (r.end.column == start.column && colDiff > 0 && i < n - 1) {                
                    if (r.end.column > r.start.column && r.end.column == ranges[i+1].start.column)
                        r.end.column -= colDiff;
                }
                r.end.column += colDiff;
                r.end.row += lineDif;
            }
        }

        if (lineDif != 0 && i < n) {
            for (; i < n; i++) {
                var r = ranges[i];
                r.start.row += lineDif;
                r.end.row += lineDif;
            }
        }
    };

}).call(RangeList.prototype);

exports.RangeList = RangeList;
});

ace.define('ace/edit_session/bracket_match', ["require", 'exports', 'module' , 'ace/token_iterator', 'ace/range'], function(acequire, exports, module) {


var TokenIterator = acequire("../token_iterator").TokenIterator;
var Range = acequire("../range").Range;


function BracketMatch() {

    this.findMatchingBracket = function(position, chr) {
        if (position.column == 0) return null;

        var charBeforeCursor = chr || this.getLine(position.row).charAt(position.column-1);
        if (charBeforeCursor == "") return null;

        var match = charBeforeCursor.match(/([\(\[\{])|([\)\]\}])/);
        if (!match)
            return null;

        if (match[1])
            return this.$findClosingBracket(match[1], position);
        else
            return this.$findOpeningBracket(match[2], position);
    };
    
    this.getBracketRange = function(pos) {
        var line = this.getLine(pos.row);
        var before = true, range;

        var chr = line.charAt(pos.column-1);
        var match = chr && chr.match(/([\(\[\{])|([\)\]\}])/);
        if (!match) {
            chr = line.charAt(pos.column);
            pos = {row: pos.row, column: pos.column + 1};
            match = chr && chr.match(/([\(\[\{])|([\)\]\}])/);
            before = false;
        }
        if (!match)
            return null;

        if (match[1]) {
            var bracketPos = this.$findClosingBracket(match[1], pos);
            if (!bracketPos)
                return null;
            range = Range.fromPoints(pos, bracketPos);
            if (!before) {
                range.end.column++;
                range.start.column--;
            }
            range.cursor = range.end;
        } else {
            var bracketPos = this.$findOpeningBracket(match[2], pos);
            if (!bracketPos)
                return null;
            range = Range.fromPoints(bracketPos, pos);
            if (!before) {
                range.start.column++;
                range.end.column--;
            }
            range.cursor = range.start;
        }
        
        return range;
    };

    this.$brackets = {
        ")": "(",
        "(": ")",
        "]": "[",
        "[": "]",
        "{": "}",
        "}": "{"
    };

    this.$findOpeningBracket = function(bracket, position, typeRe) {
        var openBracket = this.$brackets[bracket];
        var depth = 1;

        var iterator = new TokenIterator(this, position.row, position.column);
        var token = iterator.getCurrentToken();
        if (!token)
            token = iterator.stepForward();
        if (!token)
            return;
        
         if (!typeRe){
            typeRe = new RegExp(
                "(\\.?" +
                token.type.replace(".", "\\.").replace("rparen", ".paren")
                + ")+"
            );
        }
        var valueIndex = position.column - iterator.getCurrentTokenColumn() - 2;
        var value = token.value;
        
        while (true) {
        
            while (valueIndex >= 0) {
                var chr = value.charAt(valueIndex);
                if (chr == openBracket) {
                    depth -= 1;
                    if (depth == 0) {
                        return {row: iterator.getCurrentTokenRow(),
                            column: valueIndex + iterator.getCurrentTokenColumn()};
                    }
                }
                else if (chr == bracket) {
                    depth += 1;
                }
                valueIndex -= 1;
            }
            do {
                token = iterator.stepBackward();
            } while (token && !typeRe.test(token.type));

            if (token == null)
                break;
                
            value = token.value;
            valueIndex = value.length - 1;
        }
        
        return null;
    };

    this.$findClosingBracket = function(bracket, position, typeRe) {
        var closingBracket = this.$brackets[bracket];
        var depth = 1;

        var iterator = new TokenIterator(this, position.row, position.column);
        var token = iterator.getCurrentToken();
        if (!token)
            token = iterator.stepForward();
        if (!token)
            return;

        if (!typeRe){
            typeRe = new RegExp(
                "(\\.?" +
                token.type.replace(".", "\\.").replace("lparen", ".paren")
                + ")+"
            );
        }
        var valueIndex = position.column - iterator.getCurrentTokenColumn();

        while (true) {

            var value = token.value;
            var valueLength = value.length;
            while (valueIndex < valueLength) {
                var chr = value.charAt(valueIndex);
                if (chr == closingBracket) {
                    depth -= 1;
                    if (depth == 0) {
                        return {row: iterator.getCurrentTokenRow(),
                            column: valueIndex + iterator.getCurrentTokenColumn()};
                    }
                }
                else if (chr == bracket) {
                    depth += 1;
                }
                valueIndex += 1;
            }
            do {
                token = iterator.stepForward();
            } while (token && !typeRe.test(token.type));

            if (token == null)
                break;

            valueIndex = 0;
        }
        
        return null;
    };
}
exports.BracketMatch = BracketMatch;

});

ace.define('ace/search', ["require", 'exports', 'module' , 'ace/lib/lang', 'ace/lib/oop', 'ace/range'], function(acequire, exports, module) {


var lang = acequire("./lib/lang");
var oop = acequire("./lib/oop");
var Range = acequire("./range").Range;

var Search = function() {
    this.$options = {};
};

(function() {
    this.set = function(options) {
        oop.mixin(this.$options, options);
        return this;
    };
    this.getOptions = function() {
        return lang.copyObject(this.$options);
    };
    this.setOptions = function(options) {
        this.$options = options;
    };
    this.find = function(session) {
        var iterator = this.$matchIterator(session, this.$options);

        if (!iterator)
            return false;

        var firstRange = null;
        iterator.forEach(function(range, row, offset) {
            if (!range.start) {
                var column = range.offset + (offset || 0);
                firstRange = new Range(row, column, row, column+range.length);
            } else
                firstRange = range;
            return true;
        });

        return firstRange;
    };
    this.findAll = function(session) {
        var options = this.$options;
        if (!options.needle)
            return [];
        this.$assembleRegExp(options);

        var range = options.range;
        var lines = range
            ? session.getLines(range.start.row, range.end.row)
            : session.doc.getAllLines();

        var ranges = [];
        var re = options.re;
        if (options.$isMultiLine) {
            var len = re.length;
            var maxRow = lines.length - len;
            for (var row = re.offset || 0; row <= maxRow; row++) {
                for (var j = 0; j < len; j++)
                    if (lines[row + j].search(re[j]) == -1)
                        break;
                
                var startLine = lines[row];
                var line = lines[row + len - 1];
                var startIndex = startLine.match(re[0])[0].length;
                var endIndex = line.match(re[len - 1])[0].length;

                ranges.push(new Range(
                    row, startLine.length - startIndex,
                    row + len - 1, endIndex
                ));
            }
        } else {
            for (var i = 0; i < lines.length; i++) {
                var matches = lang.getMatchOffsets(lines[i], re);
                for (var j = 0; j < matches.length; j++) {
                    var match = matches[j];
                    ranges.push(new Range(i, match.offset, i, match.offset + match.length));
                }
            }
        }

        if (range) {
            var startColumn = range.start.column;
            var endColumn = range.start.column;
            var i = 0, j = ranges.length - 1;
            while (i < j && ranges[i].start.column < startColumn && ranges[i].start.row == range.start.row)
                i++;

            while (i < j && ranges[j].end.column > endColumn && ranges[j].end.row == range.end.row)
                j--;
            
            ranges = ranges.slice(i, j + 1);
            for (i = 0, j = ranges.length; i < j; i++) {
                ranges[i].start.row += range.start.row;
                ranges[i].end.row += range.start.row;
            }
        }

        return ranges;
    };
    this.replace = function(input, replacement) {
        var options = this.$options;

        var re = this.$assembleRegExp(options);
        if (options.$isMultiLine)
            return replacement;

        if (!re)
            return;

        var match = re.exec(input);
        if (!match || match[0].length != input.length)
            return null;
        
        replacement = input.replace(re, replacement);
        if (options.preserveCase) {
            replacement = replacement.split("");
            for (var i = Math.min(input.length, input.length); i--; ) {
                var ch = input[i];
                if (ch && ch.toLowerCase() != ch)
                    replacement[i] = replacement[i].toUpperCase();
                else
                    replacement[i] = replacement[i].toLowerCase();
            }
            replacement = replacement.join("");
        }
        
        return replacement;
    };

    this.$matchIterator = function(session, options) {
        var re = this.$assembleRegExp(options);
        if (!re)
            return false;

        var self = this, callback, backwards = options.backwards;

        if (options.$isMultiLine) {
            var len = re.length;
            var matchIterator = function(line, row, offset) {
                var startIndex = line.search(re[0]);
                if (startIndex == -1)
                    return;
                for (var i = 1; i < len; i++) {
                    line = session.getLine(row + i);
                    if (line.search(re[i]) == -1)
                        return;
                }

                var endIndex = line.match(re[len - 1])[0].length;

                var range = new Range(row, startIndex, row + len - 1, endIndex);
                if (re.offset == 1) {
                    range.start.row--;
                    range.start.column = Number.MAX_VALUE;
                } else if (offset)
                    range.start.column += offset;

                if (callback(range))
                    return true;
            };
        } else if (backwards) {
            var matchIterator = function(line, row, startIndex) {
                var matches = lang.getMatchOffsets(line, re);
                for (var i = matches.length-1; i >= 0; i--)
                    if (callback(matches[i], row, startIndex))
                        return true;
            };
        } else {
            var matchIterator = function(line, row, startIndex) {
                var matches = lang.getMatchOffsets(line, re);
                for (var i = 0; i < matches.length; i++)
                    if (callback(matches[i], row, startIndex))
                        return true;
            };
        }

        return {
            forEach: function(_callback) {
                callback = _callback;
                self.$lineIterator(session, options).forEach(matchIterator);
            }
        };
    };

    this.$assembleRegExp = function(options, $disableFakeMultiline) {
        if (options.needle instanceof RegExp)
            return options.re = options.needle;

        var needle = options.needle;

        if (!options.needle)
            return options.re = false;

        if (!options.regExp)
            needle = lang.escapeRegExp(needle);

        if (options.wholeWord)
            needle = "\\b" + needle + "\\b";

        var modifier = options.caseSensitive ? "g" : "gi";

        options.$isMultiLine = !$disableFakeMultiline && /[\n\r]/.test(needle);
        if (options.$isMultiLine)
            return options.re = this.$assembleMultilineRegExp(needle, modifier);

        try {
            var re = new RegExp(needle, modifier);
        } catch(e) {
            re = false;
        }
        return options.re = re;
    };

    this.$assembleMultilineRegExp = function(needle, modifier) {
        var parts = needle.replace(/\r\n|\r|\n/g, "$\n^").split("\n");
        var re = [];
        for (var i = 0; i < parts.length; i++) try {
            re.push(new RegExp(parts[i], modifier));
        } catch(e) {
            return false;
        }
        if (parts[0] == "") {
            re.shift();
            re.offset = 1;
        } else {
            re.offset = 0;
        }
        return re;
    };

    this.$lineIterator = function(session, options) {
        var backwards = options.backwards == true;
        var skipCurrent = options.skipCurrent != false;

        var range = options.range;
        var start = options.start;
        if (!start)
            start = range ? range[backwards ? "end" : "start"] : session.selection.getRange();
         
        if (start.start)
            start = start[skipCurrent != backwards ? "end" : "start"];

        var firstRow = range ? range.start.row : 0;
        var lastRow = range ? range.end.row : session.getLength() - 1;

        var forEach = backwards ? function(callback) {
                var row = start.row;

                var line = session.getLine(row).substring(0, start.column);
                if (callback(line, row))
                    return;

                for (row--; row >= firstRow; row--)
                    if (callback(session.getLine(row), row))
                        return;

                if (options.wrap == false)
                    return;

                for (row = lastRow, firstRow = start.row; row >= firstRow; row--)
                    if (callback(session.getLine(row), row))
                        return;
            } : function(callback) {
                var row = start.row;

                var line = session.getLine(row).substr(start.column);
                if (callback(line, row, start.column))
                    return;

                for (row = row+1; row <= lastRow; row++)
                    if (callback(session.getLine(row), row))
                        return;

                if (options.wrap == false)
                    return;

                for (row = firstRow, lastRow = start.row; row <= lastRow; row++)
                    if (callback(session.getLine(row), row))
                        return;
            };
        
        return {forEach: forEach};
    };

}).call(Search.prototype);

exports.Search = Search;
});
ace.define('ace/commands/command_manager', ["require", 'exports', 'module' , 'ace/lib/oop', 'ace/keyboard/hash_handler', 'ace/lib/event_emitter'], function(acequire, exports, module) {


var oop = acequire("../lib/oop");
var HashHandler = acequire("../keyboard/hash_handler").HashHandler;
var EventEmitter = acequire("../lib/event_emitter").EventEmitter;

var CommandManager = function(platform, commands) {
    this.platform = platform;
    this.commands = this.byName = {};
    this.commmandKeyBinding = {};

    this.addCommands(commands);

    this.setDefaultHandler("exec", function(e) {
        return e.command.exec(e.editor, e.args || {});
    });
};

oop.inherits(CommandManager, HashHandler);

(function() {

    oop.implement(this, EventEmitter);

    this.exec = function(command, editor, args) {
        if (typeof command === 'string')
            command = this.commands[command];

        if (!command)
            return false;

        if (editor && editor.$readOnly && !command.readOnly)
            return false;

        var e = {editor: editor, command: command, args: args};
        var retvalue = this._emit("exec", e);
        this._signal("afterExec", e);

        return retvalue === false ? false : true;
    };

    this.toggleRecording = function(editor) {
        if (this.$inReplay)
            return;

        editor && editor._emit("changeStatus");
        if (this.recording) {
            this.macro.pop();
            this.removeEventListener("exec", this.$addCommandToMacro);

            if (!this.macro.length)
                this.macro = this.oldMacro;

            return this.recording = false;
        }
        if (!this.$addCommandToMacro) {
            this.$addCommandToMacro = function(e) {
                this.macro.push([e.command, e.args]);
            }.bind(this);
        }

        this.oldMacro = this.macro;
        this.macro = [];
        this.on("exec", this.$addCommandToMacro);
        return this.recording = true;
    };

    this.replay = function(editor) {
        if (this.$inReplay || !this.macro)
            return;

        if (this.recording)
            return this.toggleRecording(editor);

        try {
            this.$inReplay = true;
            this.macro.forEach(function(x) {
                if (typeof x == "string")
                    this.exec(x, editor);
                else
                    this.exec(x[0], editor, x[1]);
            }, this);
        } finally {
            this.$inReplay = false;
        }
    };

    this.trimMacro = function(m) {
        return m.map(function(x){
            if (typeof x[0] != "string")
                x[0] = x[0].name;
            if (!x[1])
                x = x[0];
            return x;
        });
    };

}).call(CommandManager.prototype);

exports.CommandManager = CommandManager;

});

ace.define('ace/keyboard/hash_handler', ["require", 'exports', 'module' , 'ace/lib/keys', 'ace/lib/useragent'], function(acequire, exports, module) {


var keyUtil = acequire("../lib/keys");
var useragent = acequire("../lib/useragent");

function HashHandler(config, platform) {
    this.platform = platform || (useragent.isMac ? "mac" : "win");
    this.commands = {};
    this.commmandKeyBinding = {};

    this.addCommands(config);
};

(function() {

    this.addCommand = function(command) {
        if (this.commands[command.name])
            this.removeCommand(command);

        this.commands[command.name] = command;

        if (command.bindKey)
            this._buildKeyHash(command);
    };

    this.removeCommand = function(command) {
        var name = (typeof command === 'string' ? command : command.name);
        command = this.commands[name];
        delete this.commands[name];
        var ckb = this.commmandKeyBinding;
        for (var hashId in ckb) {
            for (var key in ckb[hashId]) {
                if (ckb[hashId][key] == command)
                    delete ckb[hashId][key];
            }
        }
    };

    this.bindKey = function(key, command) {
        if(!key)
            return;
        if (typeof command == "function") {
            this.addCommand({exec: command, bindKey: key, name: command.name || key});
            return;
        }

        var ckb = this.commmandKeyBinding;
        key.split("|").forEach(function(keyPart) {
            var binding = this.parseKeys(keyPart, command);
            var hashId = binding.hashId;
            (ckb[hashId] || (ckb[hashId] = {}))[binding.key] = command;
        }, this);
    };

    this.addCommands = function(commands) {
        commands && Object.keys(commands).forEach(function(name) {
            var command = commands[name];
            if (typeof command === "string")
                return this.bindKey(command, name);

            if (typeof command === "function")
                command = { exec: command };

            if (!command.name)
                command.name = name;

            this.addCommand(command);
        }, this);
    };

    this.removeCommands = function(commands) {
        Object.keys(commands).forEach(function(name) {
            this.removeCommand(commands[name]);
        }, this);
    };

    this.bindKeys = function(keyList) {
        Object.keys(keyList).forEach(function(key) {
            this.bindKey(key, keyList[key]);
        }, this);
    };

    this._buildKeyHash = function(command) {
        var binding = command.bindKey;
        if (!binding)
            return;

        var key = typeof binding == "string" ? binding: binding[this.platform];
        this.bindKey(key, command);
    };
    this.parseKeys = function(keys) {
        if (keys.indexOf(" ") != -1)
            keys = keys.split(/\s+/).pop();

        var parts = keys.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(x){return x});
        var key = parts.pop();

        var keyCode = keyUtil[key];
        if (keyUtil.FUNCTION_KEYS[keyCode])
            key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();
        else if (!parts.length)
            return {key: key, hashId: -1};
        else if (parts.length == 1 && parts[0] == "shift")
            return {key: key.toUpperCase(), hashId: -1};

        var hashId = 0;
        for (var i = parts.length; i--;) {
            var modifier = keyUtil.KEY_MODS[parts[i]];
            if (modifier == null) {
                if (typeof console != "undefined")
                console.error("invalid modifier " + parts[i] + " in " + keys);
                return false;
            }
            hashId |= modifier;
        }
        return {key: key, hashId: hashId};
    };

    this.findKeyCommand = function findKeyCommand(hashId, keyString) {
        var ckbr = this.commmandKeyBinding;
        return ckbr[hashId] && ckbr[hashId][keyString];
    };

    this.handleKeyboard = function(data, hashId, keyString, keyCode) {
        return {
            command: this.findKeyCommand(hashId, keyString)
        };
    };

}).call(HashHandler.prototype)

exports.HashHandler = HashHandler;
});

ace.define('ace/commands/default_commands', ["require", 'exports', 'module' , 'ace/lib/lang', 'ace/config'], function(acequire, exports, module) {


var lang = acequire("../lib/lang");
var config = acequire("../config");

function bindKey(win, mac) {
    return {
        win: win,
        mac: mac
    };
}

exports.commands = [{
    name: "showSettingsMenu",
    bindKey: bindKey("Ctrl-,", "Command-,"),
    exec: function(editor) {
        config.loadModule("ace/ext/settings_menu", function(module) {
            module.init(editor);
            editor.showSettingsMenu();
        });
    },
    readOnly: true
}, {
    name: "selectall",
    bindKey: bindKey("Ctrl-A", "Command-A"),
    exec: function(editor) { editor.selectAll(); },
    readOnly: true
}, {
    name: "centerselection",
    bindKey: bindKey(null, "Ctrl-L"),
    exec: function(editor) { editor.centerSelection(); },
    readOnly: true
}, {
    name: "gotoline",
    bindKey: bindKey("Ctrl-L", "Command-L"),
    exec: function(editor) {
        var line = parseInt(prompt("Enter line number:"), 10);
        if (!isNaN(line)) {
            editor.gotoLine(line);
        }
    },
    readOnly: true
}, {
    name: "fold",
    bindKey: bindKey("Alt-L|Ctrl-F1", "Command-Alt-L|Command-F1"),
    exec: function(editor) { editor.session.toggleFold(false); },
    readOnly: true
}, {
    name: "unfold",
    bindKey: bindKey("Alt-Shift-L|Ctrl-Shift-F1", "Command-Alt-Shift-L|Command-Shift-F1"),
    exec: function(editor) { editor.session.toggleFold(true); },
    readOnly: true
}, {
    name: "foldall",
    bindKey: bindKey("Alt-0", "Command-Option-0"),
    exec: function(editor) { editor.session.foldAll(); },
    readOnly: true
}, {
    name: "unfoldall",
    bindKey: bindKey("Alt-Shift-0", "Command-Option-Shift-0"),
    exec: function(editor) { editor.session.unfold(); },
    readOnly: true
}, {
    name: "findnext",
    bindKey: bindKey("Ctrl-K", "Command-G"),
    exec: function(editor) { editor.findNext(); },
    readOnly: true
}, {
    name: "findprevious",
    bindKey: bindKey("Ctrl-Shift-K", "Command-Shift-G"),
    exec: function(editor) { editor.findPrevious(); },
    readOnly: true
}, {
    name: "find",
    bindKey: bindKey("Ctrl-F", "Command-F"),
    exec: function(editor) {
        config.loadModule("ace/ext/searchbox", function(e) {e.Search(editor)});
    },
    readOnly: true
}, {
    name: "overwrite",
    bindKey: "Insert",
    exec: function(editor) { editor.toggleOverwrite(); },
    readOnly: true
}, {
    name: "selecttostart",
    bindKey: bindKey("Ctrl-Shift-Home", "Command-Shift-Up"),
    exec: function(editor) { editor.getSelection().selectFileStart(); },
    multiSelectAction: "forEach",
    readOnly: true
}, {
    name: "gotostart",
    bindKey: bindKey("Ctrl-Home", "Command-Home|Command-Up"),
    exec: function(editor) { editor.navigateFileStart(); },
    multiSelectAction: "forEach",
    readOnly: true
}, {
    name: "selectup",
    bindKey: bindKey("Shift-Up", "Shift-Up"),
    exec: function(editor) { editor.getSelection().selectUp(); },
    multiSelectAction: "forEach",
    readOnly: true
}, {
    name: "golineup",
    bindKey: bindKey("Up", "Up|Ctrl-P"),
    exec: function(editor, args) { editor.navigateUp(args.times); },
    multiSelectAction: "forEach",
    readOnly: true
}, {
    name: "selecttoend",
    bindKey: bindKey("Ctrl-Shift-End", "Command-Shift-Down"),
    exec: function(editor) { editor.getSelection().selectFileEnd(); },
    multiSelectAction: "forEach",
    readOnly: true
}, {
    name: "gotoend",
    bindKey: bindKey("Ctrl-End", "Command-End|Command-Down"),
    exec: function(editor) { editor.navigateFileEnd(); },
    multiSelectAction: "forEach",
    readOnly: true
}, {
    name: "selectdown",
    bindKey: bindKey("Shift-Down", "Shift-Down"),
    exec: function(editor) { editor.getSelection().selectDown(); },
    multiSelectAction: "forEach",
    readOnly: true
}, {
    name: "golinedown",
    bindKey: bindKey("Down", "Down|Ctrl-N"),
    exec: function(editor, args) { editor.navigateDown(args.times); },
    multiSelectAction: "forEach",
    readOnly: true
}, {
    name: "selectwordleft",
    bindKey: bindKey("Ctrl-Shift-Left", "Option-Shift-Left"),
    exec: function(editor) { editor.getSelection().selectWordLeft(); },
    multiSelectAction: "forEach",
    readOnly: true
}, {
    name: "gotowordleft",
    bindKey: bindKey("Ctrl-Left", "Option-Left"),
    exec: function(editor) { editor.navigateWordLeft(); },
    multiSelectAction: "forEach",
    readOnly: true
}, {
    name: "selecttolinestart",
    bindKey: bindKey("Alt-Shift-Left", "Command-Shift-Left"),
    exec: function(editor) { editor.getSelection().selectLineStart(); },
    multiSelectAction: "forEach",
    readOnly: true
}, {
    name: "gotolinestart",
    bindKey: bindKey("Alt-Left|Home", "Command-Left|Home|Ctrl-A"),
    exec: function(editor) { editor.navigateLineStart(); },
    multiSelectAction: "forEach",
    readOnly: true
}, {
    name: "selectleft",
    bindKey: bindKey("Shift-Left", "Shift-Left"),
    exec: function(editor) { editor.getSelection().selectLeft(); },
    multiSelectAction: "forEach",
    readOnly: true
}, {
    name: "gotoleft",
    bindKey: bindKey("Left", "Left|Ctrl-B"),
    exec: function(editor, args) { editor.navigateLeft(args.times); },
    multiSelectAction: "forEach",
    readOnly: true
}, {
    name: "selectwordright",
    bindKey: bindKey("Ctrl-Shift-Right", "Option-Shift-Right"),
    exec: function(editor) { editor.getSelection().selectWordRight(); },
    multiSelectAction: "forEach",
    readOnly: true
}, {
    name: "gotowordright",
    bindKey: bindKey("Ctrl-Right", "Option-Right"),
    exec: function(editor) { editor.navigateWordRight(); },
    multiSelectAction: "forEach",
    readOnly: true
}, {
    name: "selecttolineend",
    bindKey: bindKey("Alt-Shift-Right", "Command-Shift-Right"),
    exec: function(editor) { editor.getSelection().selectLineEnd(); },
    multiSelectAction: "forEach",
    readOnly: true
}, {
    name: "gotolineend",
    bindKey: bindKey("Alt-Right|End", "Command-Right|End|Ctrl-E"),
    exec: function(editor) { editor.navigateLineEnd(); },
    multiSelectAction: "forEach",
    readOnly: true
}, {
    name: "selectright",
    bindKey: bindKey("Shift-Right", "Shift-Right"),
    exec: function(editor) { editor.getSelection().selectRight(); },
    multiSelectAction: "forEach",
    readOnly: true
}, {
    name: "gotoright",
    bindKey: bindKey("Right", "Right|Ctrl-F"),
    exec: function(editor, args) { editor.navigateRight(args.times); },
    multiSelectAction: "forEach",
    readOnly: true
}, {
    name: "selectpagedown",
    bindKey: "Shift-PageDown",
    exec: function(editor) { editor.selectPageDown(); },
    readOnly: true
}, {
    name: "pagedown",
    bindKey: bindKey(null, "Option-PageDown"),
    exec: function(editor) { editor.scrollPageDown(); },
    readOnly: true
}, {
    name: "gotopagedown",
    bindKey: bindKey("PageDown", "PageDown|Ctrl-V"),
    exec: function(editor) { editor.gotoPageDown(); },
    readOnly: true
}, {
    name: "selectpageup",
    bindKey: "Shift-PageUp",
    exec: function(editor) { editor.selectPageUp(); },
    readOnly: true
}, {
    name: "pageup",
    bindKey: bindKey(null, "Option-PageUp"),
    exec: function(editor) { editor.scrollPageUp(); },
    readOnly: true
}, {
    name: "gotopageup",
    bindKey: "PageUp",
    exec: function(editor) { editor.gotoPageUp(); },
    readOnly: true
}, {
    name: "scrollup",
    bindKey: bindKey("Ctrl-Up", null),
    exec: function(e) { e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight); },
    readOnly: true
}, {
    name: "scrolldown",
    bindKey: bindKey("Ctrl-Down", null),
    exec: function(e) { e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight); },
    readOnly: true
}, {
    name: "selectlinestart",
    bindKey: "Shift-Home",
    exec: function(editor) { editor.getSelection().selectLineStart(); },
    multiSelectAction: "forEach",
    readOnly: true
}, {
    name: "selectlineend",
    bindKey: "Shift-End",
    exec: function(editor) { editor.getSelection().selectLineEnd(); },
    multiSelectAction: "forEach",
    readOnly: true
}, {
    name: "togglerecording",
    bindKey: bindKey("Ctrl-Alt-E", "Command-Option-E"),
    exec: function(editor) { editor.commands.toggleRecording(editor); },
    readOnly: true
}, {
    name: "replaymacro",
    bindKey: bindKey("Ctrl-Shift-E", "Command-Shift-E"),
    exec: function(editor) { editor.commands.replay(editor); },
    readOnly: true
}, {
    name: "jumptomatching",
    bindKey: bindKey("Ctrl-P", "Ctrl-Shift-P"),
    exec: function(editor) { editor.jumpToMatching(); },
    multiSelectAction: "forEach",
    readOnly: true
}, {
    name: "selecttomatching",
    bindKey: bindKey("Ctrl-Shift-P", null),
    exec: function(editor) { editor.jumpToMatching(true); },
    multiSelectAction: "forEach",
    readOnly: true
}, 
{
    name: "cut",
    exec: function(editor) {
        var range = editor.getSelectionRange();
        editor._emit("cut", range);

        if (!editor.selection.isEmpty()) {
            editor.session.remove(range);
            editor.clearSelection();
        }
    },
    multiSelectAction: "forEach"
}, {
    name: "removeline",
    bindKey: bindKey("Ctrl-D", "Command-D"),
    exec: function(editor) { editor.removeLines(); },
    multiSelectAction: "forEachLine"
}, {
    name: "duplicateSelection",
    bindKey: bindKey("Ctrl-Shift-D", "Command-Shift-D"),
    exec: function(editor) { editor.duplicateSelection(); },
    multiSelectAction: "forEach"
}, {
    name: "sortlines",
    bindKey: bindKey("Ctrl-Alt-S", "Command-Alt-S"),
    exec: function(editor) { editor.sortLines(); },
    multiSelectAction: "forEachLine"
}, {
    name: "togglecomment",
    bindKey: bindKey("Ctrl-/", "Command-/"),
    exec: function(editor) { editor.toggleCommentLines(); },
    multiSelectAction: "forEachLine"
}, {
    name: "toggleBlockComment",
    bindKey: bindKey("Ctrl-Shift-/", "Command-Shift-/"),
    exec: function(editor) { editor.toggleBlockComment(); },
    multiSelectAction: "forEach"
}, {
    name: "modifyNumberUp",
    bindKey: bindKey("Ctrl-Shift-Up", "Alt-Shift-Up"),
    exec: function(editor) { editor.modifyNumber(1); },
    multiSelectAction: "forEach"
}, {
    name: "modifyNumberDown",
    bindKey: bindKey("Ctrl-Shift-Down", "Alt-Shift-Down"),
    exec: function(editor) { editor.modifyNumber(-1); },
    multiSelectAction: "forEach"
}, {
    name: "replace",
    bindKey: bindKey("Ctrl-H", "Command-Option-F"),
    exec: function(editor) {
        config.loadModule("ace/ext/searchbox", function(e) {e.Search(editor, true)});
    }
}, {
    name: "undo",
    bindKey: bindKey("Ctrl-Z", "Command-Z"),
    exec: function(editor) { editor.undo(); }
}, {
    name: "redo",
    bindKey: bindKey("Ctrl-Shift-Z|Ctrl-Y", "Command-Shift-Z|Command-Y"),
    exec: function(editor) { editor.redo(); }
}, {
    name: "copylinesup",
    bindKey: bindKey("Alt-Shift-Up", "Command-Option-Up"),
    exec: function(editor) { editor.copyLinesUp(); }
}, {
    name: "movelinesup",
    bindKey: bindKey("Alt-Up", "Option-Up"),
    exec: function(editor) { editor.moveLinesUp(); }
}, {
    name: "copylinesdown",
    bindKey: bindKey("Alt-Shift-Down", "Command-Option-Down"),
    exec: function(editor) { editor.copyLinesDown(); }
}, {
    name: "movelinesdown",
    bindKey: bindKey("Alt-Down", "Option-Down"),
    exec: function(editor) { editor.moveLinesDown(); }
}, {
    name: "del",
    bindKey: bindKey("Delete", "Delete|Ctrl-D"),
    exec: function(editor) { editor.remove("right"); },
    multiSelectAction: "forEach"
}, {
    name: "backspace",
    bindKey: bindKey(
        "Command-Backspace|Option-Backspace|Shift-Backspace|Backspace",
        "Ctrl-Backspace|Command-Backspace|Shift-Backspace|Backspace|Ctrl-H"
    ),
    exec: function(editor) { editor.remove("left"); },
    multiSelectAction: "forEach"
}, {
    name: "removetolinestart",
    bindKey: bindKey("Alt-Backspace", "Command-Backspace"),
    exec: function(editor) { editor.removeToLineStart(); },
    multiSelectAction: "forEach"
}, {
    name: "removetolineend",
    bindKey: bindKey("Alt-Delete", "Ctrl-K"),
    exec: function(editor) { editor.removeToLineEnd(); },
    multiSelectAction: "forEach"
}, {
    name: "removewordleft",
    bindKey: bindKey("Ctrl-Backspace", "Alt-Backspace|Ctrl-Alt-Backspace"),
    exec: function(editor) { editor.removeWordLeft(); },
    multiSelectAction: "forEach"
}, {
    name: "removewordright",
    bindKey: bindKey("Ctrl-Delete", "Alt-Delete"),
    exec: function(editor) { editor.removeWordRight(); },
    multiSelectAction: "forEach"
}, {
    name: "outdent",
    bindKey: bindKey("Shift-Tab", "Shift-Tab"),
    exec: function(editor) { editor.blockOutdent(); },
    multiSelectAction: "forEach"
}, {
    name: "indent",
    bindKey: bindKey("Tab", "Tab"),
    exec: function(editor) { editor.indent(); },
    multiSelectAction: "forEach"
},{
    name: "blockoutdent",
    bindKey: bindKey("Ctrl-[", "Ctrl-["),
    exec: function(editor) { editor.blockOutdent(); },
    multiSelectAction: "forEachLine"
},{
    name: "blockindent",
    bindKey: bindKey("Ctrl-]", "Ctrl-]"),
    exec: function(editor) { editor.blockIndent(); },
    multiSelectAction: "forEachLine"
}, {
    name: "insertstring",
    exec: function(editor, str) { editor.insert(str); },
    multiSelectAction: "forEach"
}, {
    name: "inserttext",
    exec: function(editor, args) {
        editor.insert(lang.stringRepeat(args.text  || "", args.times || 1));
    },
    multiSelectAction: "forEach"
}, {
    name: "splitline",
    bindKey: bindKey(null, "Ctrl-O"),
    exec: function(editor) { editor.splitLine(); },
    multiSelectAction: "forEach"
}, {
    name: "transposeletters",
    bindKey: bindKey("Ctrl-T", "Ctrl-T"),
    exec: function(editor) { editor.transposeLetters(); },
    multiSelectAction: function(editor) {editor.transposeSelections(1); }
}, {
    name: "touppercase",
    bindKey: bindKey("Ctrl-U", "Ctrl-U"),
    exec: function(editor) { editor.toUpperCase(); },
    multiSelectAction: "forEach"
}, {
    name: "tolowercase",
    bindKey: bindKey("Ctrl-Shift-U", "Ctrl-Shift-U"),
    exec: function(editor) { editor.toLowerCase(); },
    multiSelectAction: "forEach"
}];

});

ace.define('ace/undomanager', ["require", 'exports', 'module' ], function(acequire, exports, module) {
var UndoManager = function() {
    this.reset();
};

(function() {
    this.execute = function(options) {
        var deltas = options.args[0];
        this.$doc  = options.args[1];
        this.$undoStack.push(deltas);
        this.$redoStack = [];

        if (this.dirtyCounter < 0) {
            this.dirtyCounter = NaN;
        }
        this.dirtyCounter++;
    };
    this.undo = function(dontSelect) {
        var deltas = this.$undoStack.pop();
        var undoSelectionRange = null;
        if (deltas) {
            undoSelectionRange =
                this.$doc.undoChanges(deltas, dontSelect);
            this.$redoStack.push(deltas);
            this.dirtyCounter--;
        }

        return undoSelectionRange;
    };
    this.redo = function(dontSelect) {
        var deltas = this.$redoStack.pop();
        var redoSelectionRange = null;
        if (deltas) {
            redoSelectionRange =
                this.$doc.redoChanges(deltas, dontSelect);
            this.$undoStack.push(deltas);
            this.dirtyCounter++;
        }

        return redoSelectionRange;
    };
    this.reset = function() {
        this.$undoStack = [];
        this.$redoStack = [];
        this.dirtyCounter = 0;
    };
    this.hasUndo = function() {
        return this.$undoStack.length > 0;
    };
    this.hasRedo = function() {
        return this.$redoStack.length > 0;
    };
    this.markClean = function() {
        this.dirtyCounter = 0;
    };
    this.isClean = function() {
        return this.dirtyCounter === 0;
    };

}).call(UndoManager.prototype);

exports.UndoManager = UndoManager;
});

ace.define('ace/virtual_renderer', ["require", 'exports', 'module' , 'ace/lib/oop', 'ace/lib/dom', 'ace/lib/event', 'ace/lib/useragent', 'ace/config', 'ace/layer/gutter', 'ace/layer/marker', 'ace/layer/text', 'ace/layer/cursor', 'ace/scrollbar', 'ace/renderloop', 'ace/lib/event_emitter'], function(acequire, exports, module) {


var oop = acequire("./lib/oop");
var dom = acequire("./lib/dom");
var event = acequire("./lib/event");
var useragent = acequire("./lib/useragent");
var config = acequire("./config");
var GutterLayer = acequire("./layer/gutter").Gutter;
var MarkerLayer = acequire("./layer/marker").Marker;
var TextLayer = acequire("./layer/text").Text;
var CursorLayer = acequire("./layer/cursor").Cursor;
var ScrollBar = acequire("./scrollbar").ScrollBar;
var RenderLoop = acequire("./renderloop").RenderLoop;
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;
var editorCss = ".ace_editor {\
position: relative;\
overflow: hidden;\
font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;\
font-size: 12px;\
line-height: normal;\
color: black;\
}\
.ace_scroller {\
position: absolute;\
overflow: hidden;\
top: 0;\
bottom: 0;\
background-color: inherit;\
}\
.ace_content {\
position: absolute;\
-moz-box-sizing: border-box;\
-webkit-box-sizing: border-box;\
box-sizing: border-box;\
cursor: text;\
}\
.ace_gutter {\
position: absolute;\
overflow : hidden;\
width: auto;\
top: 0;\
bottom: 0;\
left: 0;\
cursor: default;\
z-index: 4;\
}\
.ace_gutter-active-line {\
position: absolute;\
left: 0;\
right: 0;\
}\
.ace_scroller.ace_scroll-left {\
box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\
}\
.ace_gutter-cell {\
padding-left: 19px;\
padding-right: 6px;\
background-repeat: no-repeat;\
}\
.ace_gutter-cell.ace_error {\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUM2OEZDQTQ4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUM2OEZDQTU4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQzY4RkNBMjhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQzY4RkNBMzhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkgXxbAAAAJbSURBVHjapFNNaBNBFH4zs5vdZLP5sQmNpT82QY209heh1ioWisaDRcSKF0WKJ0GQnrzrxasHsR6EnlrwD0TagxJabaVEpFYxLWlLSS822tr87m66ccfd2GKyVhA6MMybgfe97/vmPUQphd0sZjto9XIn9OOsvlu2nkqRzVU+6vvlzPf8W6bk8dxQ0NPbxAALgCgg2JkaQuhzQau/El0zbmUA7U0Es8v2CiYmKQJHGO1QICCLoqilMhkmurDAyapKgqItezi/USRdJqEYY4D5jCy03ht2yMkkvL91jTTX10qzyyu2hruPRN7jgbH+EOsXcMLgYiThEgAMhABW85oqy1DXdRIdvP1AHJ2acQXvDIrVHcdQNrEKNYSVMSZGMjEzIIAwDXIo+6G/FxcGnzkC3T2oMhLjre49sBB+RRcHLqdafK6sYdE/GGBwU1VpFNj0aN8pJbe+BkZyevUrvLl6Xmm0W9IuTc0DxrDNAJd5oEvI/KRsNC3bQyNjPO9yQ1YHcfj2QvfQc/5TUhJTBc2iM0U7AWDQtc1nJHvD/cfO2s7jaGkiTEfa/Ep8coLu7zmNmh8+dc5lZDuUeFAGUNA/OY6JVaypQ0vjr7XYjUvJM37vt+j1vuTK5DgVfVUoTjVe+y3/LxMxY2GgU+CSLy4cpfsYorRXuXIOi0Vt40h67uZFTdIo6nLaZcwUJWAzwNS0tBnqqKzQDnjdG/iPyZxo46HaKUpbvYkj8qYRTZsBhge+JHhZyh0x9b95JqjVJkT084kZIPwu/mPWqPgfQ5jXh2+92Ay7HedfAgwA6KDWafb4w3cAAAAASUVORK5CYII=\");\
background-repeat: no-repeat;\
background-position: 2px center;\
}\
.ace_gutter-cell.ace_warning {\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUM2OEZDQTg4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUM2OEZDQTk4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQzY4RkNBNjhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQzY4RkNBNzhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pgd7PfIAAAGmSURBVHjaYvr//z8DJZiJgUIANoCRkREb9gLiSVAaQx4OQM7AAkwd7XU2/v++/rOttdYGEB9dASEvOMydGKfH8Gv/p4XTkvRBfLxeQAP+1cUhXopyvzhP7P/IoSj7g7Mw09cNKO6J1QQ0L4gICPIv/veg/8W+JdFvQNLHVsW9/nmn9zk7B+cCkDwhL7gt6knSZnx9/LuCEOcvkIAMP+cvto9nfqyZmmUAksfnBUtbM60gX/3/kgyv3/xSFOL5DZT+L8vP+Yfh5cvfPvp/xUHyQHXGyAYwgpwBjZYFT3Y1OEl/OfCH4ffv3wzc4iwMvNIsDJ+f/mH4+vIPAxsb631WW0Yln6ZpQLXdMK/DXGDflh+sIv37EivD5x//Gb7+YWT4y86sl7BCCkSD+Z++/1dkvsFRl+HnD1Rvje4F8whjMXmGj58YGf5zsDMwcnAwfPvKcml62DsQDeaDxN+/Y0qwlpEHqrdB94IRNIDUgfgfKJChGK4OikEW3gTiXUB950ASLFAF54AC94A0G9QAfOnmF9DCDzABFqS08IHYDIScdijOjQABBgC+/9awBH96jwAAAABJRU5ErkJggg==\");\
background-position: 2px center;\
}\
.ace_gutter-cell.ace_info {\
background-image: url(\"data:image/gif;base64,R0lGODlhEAAQAMQAAAAAAEFBQVJSUl5eXmRkZGtra39/f4WFhYmJiZGRkaampry8vMPDw8zMzNXV1dzc3OTk5Orq6vDw8P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkAABQALAAAAAAQABAAAAUuICWOZGmeaBml5XGwFCQSBGyXRSAwtqQIiRuiwIM5BoYVbEFIyGCQoeJGrVptIQA7\");\
background-position: 2px center;\
}\
.ace_dark .ace_gutter-cell.ace_info {\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGRTk5MTVGREIxNDkxMUUxOTc5Q0FFREQyMTNGMjBFQyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGRTk5MTVGRUIxNDkxMUUxOTc5Q0FFREQyMTNGMjBFQyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZFOTkxNUZCQjE0OTExRTE5NzlDQUVERDIxM0YyMEVDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkZFOTkxNUZDQjE0OTExRTE5NzlDQUVERDIxM0YyMEVDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+SIDkjAAAAJ1JREFUeNpi/P//PwMlgImBQkB7A6qrq/+DMC55FkIGKCoq4pVnpFkgTp069f/+/fv/r1u37r+tre1/kg0A+ptn9uzZYLaRkRHpLvjw4cNXWVlZhufPnzOcO3eOdAO0tbVPAjHDmzdvGA4fPsxIsgGSkpJmv379Ynj37h2DjIyMCMkG3LhxQ/T27dsMampqDHZ2dq/pH41DxwCAAAMAFdc68dUsFZgAAAAASUVORK5CYII=\");\
}\
.ace_scrollbar {\
position: absolute;\
overflow-x: hidden;\
overflow-y: scroll;\
right: 0;\
top: 0;\
bottom: 0;\
}\
.ace_scrollbar-inner {\
position: absolute;\
width: 1px;\
left: 0;\
}\
.ace_print-margin {\
position: absolute;\
height: 100%;\
}\
.ace_text-input {\
position: absolute;\
z-index: 0;\
width: 0.5em;\
height: 1em;\
opacity: 0;\
background: transparent;\
-moz-appearance: none;\
appearance: none;\
border: none;\
resize: none;\
outline: none;\
overflow: hidden;\
font: inherit;\
padding: 0 1px;\
margin: 0 -1px;\
}\
.ace_text-input.ace_composition {\
background: #f8f8f8;\
color: #111;\
z-index: 1000;\
opacity: 1;\
}\
.ace_layer {\
z-index: 1;\
position: absolute;\
overflow: hidden;\
white-space: nowrap;\
height: 100%;\
width: 100%;\
-moz-box-sizing: border-box;\
-webkit-box-sizing: border-box;\
box-sizing: border-box;\
/* setting pointer-events: auto; on node under the mouse, which changes\
during scroll, will break mouse wheel scrolling in Safari */\
pointer-events: none;\
}\
.ace_gutter-layer {\
position: relative;\
width: auto;\
text-align: right;\
pointer-events: auto;\
}\
.ace_text-layer {\
font: inherit !important;\
}\
.ace_cjk {\
display: inline-block;\
text-align: center;\
}\
.ace_cursor-layer {\
z-index: 4;\
}\
.ace_cursor {\
z-index: 4;\
position: absolute;\
-moz-box-sizing: border-box;\
-webkit-box-sizing: border-box;\
box-sizing: border-box;\
}\
.ace_hidden-cursors .ace_cursor {\
opacity: 0.2;\
}\
.ace_smooth-blinking .ace_cursor {\
-moz-transition: opacity 0.18s;\
-webkit-transition: opacity 0.18s;\
-o-transition: opacity 0.18s;\
-ms-transition: opacity 0.18s;\
transition: opacity 0.18s;\
}\
.ace_cursor[style*=\"opacity: 0\"]{\
-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";\
}\
.ace_editor.ace_multiselect .ace_cursor {\
border-left-width: 1px;\
}\
.ace_line {\
white-space: nowrap;\
}\
.ace_marker-layer .ace_step {\
position: absolute;\
z-index: 3;\
}\
.ace_marker-layer .ace_selection {\
position: absolute;\
z-index: 5;\
}\
.ace_marker-layer .ace_bracket {\
position: absolute;\
z-index: 6;\
}\
.ace_marker-layer .ace_active-line {\
position: absolute;\
z-index: 2;\
}\
.ace_marker-layer .ace_selected-word {\
position: absolute;\
z-index: 4;\
-moz-box-sizing: border-box;\
-webkit-box-sizing: border-box;\
box-sizing: border-box;\
}\
.ace_line .ace_fold {\
-moz-box-sizing: border-box;\
-webkit-box-sizing: border-box;\
box-sizing: border-box;\
display: inline-block;\
height: 11px;\
margin-top: -2px;\
vertical-align: middle;\
background-image:\
url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%11%00%00%00%09%08%06%00%00%00%D4%E8%C7%0C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%00%B5IDAT(%15%A5%91%3D%0E%02!%10%85ac%E1%05%D6%CE%D6%C6%CE%D2%E8%ED%CD%DE%C0%C6%D6N.%E0V%F8%3D%9Ca%891XH%C2%BE%D9y%3F%90!%E6%9C%C3%BFk%E5%011%C6-%F5%C8N%04%DF%BD%FF%89%DFt%83DN%60%3E%F3%AB%A0%DE%1A%5Dg%BE%10Q%97%1B%40%9C%A8o%10%8F%5E%828%B4%1B%60%87%F6%02%26%85%1Ch%1E%C1%2B%5Bk%FF%86%EE%B7j%09%9A%DA%9B%ACe%A3%F9%EC%DA!9%B4%D5%A6%81%86%86%98%CC%3C%5B%40%FA%81%B3%E9%CB%23%94%C16Azo%05%D4%E1%C1%95a%3B%8A'%A0%E8%CC%17%22%85%1D%BA%00%A2%FA%DC%0A%94%D1%D1%8D%8B%3A%84%17B%C7%60%1A%25Z%FC%8D%00%00%00%00IEND%AEB%60%82\"),\
url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%007%08%06%00%00%00%C4%DD%80C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%00%3AIDAT8%11c%FC%FF%FF%7F%18%03%1A%60%01%F2%3F%A0%891%80%04%FF%11-%F8%17%9BJ%E2%05%B1ZD%81v%26t%E7%80%F8%A3%82h%A12%1A%20%A3%01%02%0F%01%BA%25%06%00%19%C0%0D%AEF%D5%3ES%00%00%00%00IEND%AEB%60%82\");\
background-repeat: no-repeat, repeat-x;\
background-position: center center, top left;\
color: transparent;\
border: 1px solid black;\
-moz-border-radius: 2px;\
-webkit-border-radius: 2px;\
border-radius: 2px;\
cursor: pointer;\
pointer-events: auto;\
}\
.ace_dark .ace_fold {\
}\
.ace_fold:hover{\
background-image:\
url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%11%00%00%00%09%08%06%00%00%00%D4%E8%C7%0C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%00%B5IDAT(%15%A5%91%3D%0E%02!%10%85ac%E1%05%D6%CE%D6%C6%CE%D2%E8%ED%CD%DE%C0%C6%D6N.%E0V%F8%3D%9Ca%891XH%C2%BE%D9y%3F%90!%E6%9C%C3%BFk%E5%011%C6-%F5%C8N%04%DF%BD%FF%89%DFt%83DN%60%3E%F3%AB%A0%DE%1A%5Dg%BE%10Q%97%1B%40%9C%A8o%10%8F%5E%828%B4%1B%60%87%F6%02%26%85%1Ch%1E%C1%2B%5Bk%FF%86%EE%B7j%09%9A%DA%9B%ACe%A3%F9%EC%DA!9%B4%D5%A6%81%86%86%98%CC%3C%5B%40%FA%81%B3%E9%CB%23%94%C16Azo%05%D4%E1%C1%95a%3B%8A'%A0%E8%CC%17%22%85%1D%BA%00%A2%FA%DC%0A%94%D1%D1%8D%8B%3A%84%17B%C7%60%1A%25Z%FC%8D%00%00%00%00IEND%AEB%60%82\"),\
url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%007%08%06%00%00%00%C4%DD%80C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%003IDAT8%11c%FC%FF%FF%7F%3E%03%1A%60%01%F2%3F%A3%891%80%04%FFQ%26%F8w%C0%B43%A1%DB%0C%E2%8F%0A%A2%85%CAh%80%8C%06%08%3C%04%E8%96%18%00%A3S%0D%CD%CF%D8%C1%9D%00%00%00%00IEND%AEB%60%82\");\
background-repeat: no-repeat, repeat-x;\
background-position: center center, top left;\
}\
.ace_editor.ace_dragging .ace_content {\
cursor: move;\
}\
.ace_gutter-tooltip {\
background-color: #FFF;\
background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));\
background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\
border: 1px solid gray;\
border-radius: 1px;\
box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\
color: black;\
display: inline-block;\
max-width: 500px;\
padding: 4px;\
position: fixed;\
z-index: 300;\
-moz-box-sizing: border-box;\
-webkit-box-sizing: border-box;\
box-sizing: border-box;\
cursor: default;\
white-space: pre-line;\
word-wrap: break-word;\
line-height: normal;\
font-style: normal;\
font-weight: normal;\
letter-spacing: normal;\
}\
.ace_folding-enabled > .ace_gutter-cell {\
padding-right: 13px;\
}\
.ace_fold-widget {\
-moz-box-sizing: border-box;\
-webkit-box-sizing: border-box;\
box-sizing: border-box;\
margin: 0 -12px 0 1px;\
display: none;\
width: 11px;\
vertical-align: top;\
background-image: url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%00%05%08%06%00%00%00%8Do%26%E5%00%00%004IDATx%DAe%8A%B1%0D%000%0C%C2%F2%2CK%96%BC%D0%8F9%81%88H%E9%D0%0E%96%C0%10%92%3E%02%80%5E%82%E4%A9*-%EEsw%C8%CC%11%EE%96w%D8%DC%E9*Eh%0C%151(%00%00%00%00IEND%AEB%60%82\");\
background-repeat: no-repeat;\
background-position: center;\
border-radius: 3px;\
border: 1px solid transparent;\
cursor: pointer;\
}\
.ace_folding-enabled .ace_fold-widget {\
display: inline-block;   \
}\
.ace_fold-widget.ace_end {\
background-image: url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%00%05%08%06%00%00%00%8Do%26%E5%00%00%004IDATx%DAm%C7%C1%09%000%08C%D1%8C%ECE%C8E(%8E%EC%02)%1EZJ%F1%C1'%04%07I%E1%E5%EE%CAL%F5%A2%99%99%22%E2%D6%1FU%B5%FE0%D9x%A7%26Wz5%0E%D5%00%00%00%00IEND%AEB%60%82\");\
}\
.ace_fold-widget.ace_closed {\
background-image: url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%03%00%00%00%06%08%06%00%00%00%06%E5%24%0C%00%00%009IDATx%DA5%CA%C1%09%000%08%03%C0%AC*(%3E%04%C1%0D%BA%B1%23%A4Uh%E0%20%81%C0%CC%F8%82%81%AA%A2%AArGfr%88%08%11%11%1C%DD%7D%E0%EE%5B%F6%F6%CB%B8%05Q%2F%E9tai%D9%00%00%00%00IEND%AEB%60%82\");\
}\
.ace_fold-widget:hover {\
border: 1px solid rgba(0, 0, 0, 0.3);\
background-color: rgba(255, 255, 255, 0.2);\
-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\
-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\
box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\
}\
.ace_fold-widget:active {\
border: 1px solid rgba(0, 0, 0, 0.4);\
background-color: rgba(0, 0, 0, 0.05);\
-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\
-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\
box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\
}\
/**\
* Dark version for fold widgets\
*/\
.ace_dark .ace_fold-widget {\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\");\
}\
.ace_dark .ace_fold-widget.ace_end {\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\");\
}\
.ace_dark .ace_fold-widget.ace_closed {\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\");\
}\
.ace_dark .ace_fold-widget:hover {\
box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\
background-color: rgba(255, 255, 255, 0.1);\
}\
.ace_dark .ace_fold-widget:active {\
-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\
-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\
box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\
}\
.ace_fold-widget.ace_invalid {\
background-color: #FFB4B4;\
border-color: #DE5555;\
}\
.ace_fade-fold-widgets .ace_fold-widget {\
-moz-transition: opacity 0.4s ease 0.05s;\
-webkit-transition: opacity 0.4s ease 0.05s;\
-o-transition: opacity 0.4s ease 0.05s;\
-ms-transition: opacity 0.4s ease 0.05s;\
transition: opacity 0.4s ease 0.05s;\
opacity: 0;\
}\
.ace_fade-fold-widgets:hover .ace_fold-widget {\
-moz-transition: opacity 0.05s ease 0.05s;\
-webkit-transition: opacity 0.05s ease 0.05s;\
-o-transition: opacity 0.05s ease 0.05s;\
-ms-transition: opacity 0.05s ease 0.05s;\
transition: opacity 0.05s ease 0.05s;\
opacity:1;\
}\
.ace_underline {\
text-decoration: underline;\
}\
.ace_bold {\
font-weight: bold;\
}\
.ace_nobold .ace_bold {\
font-weight: normal;\
}\
.ace_italic {\
font-style: italic;\
}\
";

dom.importCssString(editorCss, "ace_editor");

var VirtualRenderer = function(container, theme) {
    var _self = this;

    this.container = container || dom.createElement("div");
    this.$keepTextAreaAtCursor = !useragent.isIE;

    dom.addCssClass(this.container, "ace_editor");

    this.setTheme(theme);

    this.$gutter = dom.createElement("div");
    this.$gutter.className = "ace_gutter";
    this.container.appendChild(this.$gutter);

    this.scroller = dom.createElement("div");
    this.scroller.className = "ace_scroller";
    this.container.appendChild(this.scroller);

    this.content = dom.createElement("div");
    this.content.className = "ace_content";
    this.scroller.appendChild(this.content);

    this.$gutterLayer = new GutterLayer(this.$gutter);
    this.$gutterLayer.on("changeGutterWidth", this.onGutterResize.bind(this));

    this.$markerBack = new MarkerLayer(this.content);

    var textLayer = this.$textLayer = new TextLayer(this.content);
    this.canvas = textLayer.element;

    this.$markerFront = new MarkerLayer(this.content);

    this.$cursorLayer = new CursorLayer(this.content);
    this.$horizScroll = false;

    this.scrollBar = new ScrollBar(this.container);
    this.scrollBar.addEventListener("scroll", function(e) {
        if (!_self.$scrollAnimation)
            _self.session.setScrollTop(e.data);
    });

    this.scrollTop = 0;
    this.scrollLeft = 0;

    event.addListener(this.scroller, "scroll", function() {
        var scrollLeft = _self.scroller.scrollLeft;
        _self.scrollLeft = scrollLeft;
        _self.session.setScrollLeft(scrollLeft);
    });

    this.cursorPos = {
        row : 0,
        column : 0
    };

    this.$textLayer.addEventListener("changeCharacterSize", function() {
        _self.updateCharacterSize();
        _self.onResize(true);
    });

    this.$size = {
        width: 0,
        height: 0,
        scrollerHeight: 0,
        scrollerWidth: 0
    };

    this.layerConfig = {
        width : 1,
        padding : 0,
        firstRow : 0,
        firstRowScreen: 0,
        lastRow : 0,
        lineHeight : 1,
        characterWidth : 1,
        minHeight : 1,
        maxHeight : 1,
        offset : 0,
        height : 1
    };

    this.$loop = new RenderLoop(
        this.$renderChanges.bind(this),
        this.container.ownerDocument.defaultView
    );
    this.$loop.schedule(this.CHANGE_FULL);

    this.updateCharacterSize();
    this.setPadding(4);
    config.resetOptions(this);
    config._emit("renderer", this);
};

(function() {

    this.CHANGE_CURSOR = 1;
    this.CHANGE_MARKER = 2;
    this.CHANGE_GUTTER = 4;
    this.CHANGE_SCROLL = 8;
    this.CHANGE_LINES = 16;
    this.CHANGE_TEXT = 32;
    this.CHANGE_SIZE = 64;
    this.CHANGE_MARKER_BACK = 128;
    this.CHANGE_MARKER_FRONT = 256;
    this.CHANGE_FULL = 512;
    this.CHANGE_H_SCROLL = 1024;

    oop.implement(this, EventEmitter);

    this.updateCharacterSize = function() {
        if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {
            this.$allowBoldFonts = this.$textLayer.allowBoldFonts;
            this.setStyle("ace_nobold", !this.$allowBoldFonts);
        }

        this.characterWidth = this.$textLayer.getCharacterWidth();
        this.lineHeight = this.$textLayer.getLineHeight();
        this.$updatePrintMargin();
    };
    this.setSession = function(session) {
        this.session = session;

        this.scroller.className = "ace_scroller";

        this.$cursorLayer.setSession(session);
        this.$markerBack.setSession(session);
        this.$markerFront.setSession(session);
        this.$gutterLayer.setSession(session);
        this.$textLayer.setSession(session);
        this.$loop.schedule(this.CHANGE_FULL);

    };
    this.updateLines = function(firstRow, lastRow) {
        if (lastRow === undefined)
            lastRow = Infinity;

        if (!this.$changedLines) {
            this.$changedLines = {
                firstRow: firstRow,
                lastRow: lastRow
            };
        }
        else {
            if (this.$changedLines.firstRow > firstRow)
                this.$changedLines.firstRow = firstRow;

            if (this.$changedLines.lastRow < lastRow)
                this.$changedLines.lastRow = lastRow;
        }

        if (this.$changedLines.firstRow > this.layerConfig.lastRow ||
            this.$changedLines.lastRow < this.layerConfig.firstRow)
            return;
        this.$loop.schedule(this.CHANGE_LINES);
    };

    this.onChangeTabSize = function() {
        this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);
        this.$textLayer.onChangeTabSize();
    };
    this.updateText = function() {
        this.$loop.schedule(this.CHANGE_TEXT);
    };
    this.updateFull = function(force) {
        if (force)
            this.$renderChanges(this.CHANGE_FULL, true);
        else
            this.$loop.schedule(this.CHANGE_FULL);
    };
    this.updateFontSize = function() {
        this.$textLayer.checkForSizeChanges();
    };
    this.onResize = function(force, gutterWidth, width, height) {
        var changes = 0;
        var size = this.$size;

        if (this.resizing > 2)
            return;
        else if (this.resizing > 1)
            this.resizing++;
        else
            this.resizing = force ? 1 : 0;
        if (!height)
            height = dom.getInnerHeight(this.container);

        if (height && (force || size.height != height)) {
            size.height = height;
            changes = this.CHANGE_SIZE;

            size.scrollerHeight = this.scroller.clientHeight;
            if (force || !size.scrollerHeight) {
                size.scrollerHeight = size.height;
                if (this.$horizScroll)
                    size.scrollerHeight -= this.scrollBar.getWidth();
            }
            this.scrollBar.setHeight(size.scrollerHeight);

            if (this.session) {
                this.session.setScrollTop(this.getScrollTop());
                changes = changes | this.CHANGE_FULL;
            }
        }

        if (!width)
            width = dom.getInnerWidth(this.container);

        if (width && (force || this.resizing > 1 || size.width != width)) {
            changes = this.CHANGE_SIZE;
            size.width = width;

            var gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;
            this.scroller.style.left = gutterWidth + "px";
            size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBar.getWidth());
            this.scroller.style.right = this.scrollBar.getWidth() + "px";

            if (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || force)
                changes = changes | this.CHANGE_FULL;
        }

        if (!this.$size.scrollerHeight)
            return;

        if (force)
            this.$renderChanges(changes, true);
        else
            this.$loop.schedule(changes);

        if (force)
            this.$gutterLayer.$padding = null;

        if (force)
            delete this.resizing;
    };

    this.onGutterResize = function() {
        var width = this.$size.width;
        var gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;
        this.scroller.style.left = gutterWidth + "px";
        this.$size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBar.getWidth());

        if (this.session.getUseWrapMode() && this.adjustWrapLimit())
            this.$loop.schedule(this.CHANGE_FULL);
        else
            this.$loop.schedule(this.CHANGE_MARKER);
    };
    this.adjustWrapLimit = function() {
        var availableWidth = this.$size.scrollerWidth - this.$padding * 2;
        var limit = Math.floor(availableWidth / this.characterWidth);
        return this.session.adjustWrapLimit(limit, this.$showPrintMargin && this.$printMarginColumn);
    };
    this.setAnimatedScroll = function(shouldAnimate){
        this.setOption("animatedScroll", shouldAnimate);
    };
    this.getAnimatedScroll = function() {
        return this.$animatedScroll;
    };
    this.setShowInvisibles = function(showInvisibles) {
        this.setOption("showInvisibles", showInvisibles);
    };
    this.getShowInvisibles = function() {
        return this.getOption("showInvisibles");
    };
    this.getDisplayIndentGuides = function() {
        return this.getOption("displayIndentGuides");
    };

    this.setDisplayIndentGuides = function(display) {
        this.setOption("displayIndentGuides", display);
    };
    this.setShowPrintMargin = function(showPrintMargin) {
        this.setOption("showPrintMargin", showPrintMargin);
    };
    this.getShowPrintMargin = function() {
        return this.getOption("showPrintMargin");
    };
    this.setPrintMarginColumn = function(showPrintMargin) {
        this.setOption("printMarginColumn", showPrintMargin);
    };
    this.getPrintMarginColumn = function() {
        return this.getOption("printMarginColumn");
    };
    this.getShowGutter = function(){
        return this.getOption("showGutter");
    };
    this.setShowGutter = function(show){
        return this.setOption("showGutter", show);
    };

    this.getFadeFoldWidgets = function(){
        return this.getOption("fadeFoldWidgets")
    };

    this.setFadeFoldWidgets = function(show) {
        this.setOption("fadeFoldWidgets", show);
    };

    this.setHighlightGutterLine = function(shouldHighlight) {
        this.setOption("highlightGutterLine", shouldHighlight);
    };

    this.getHighlightGutterLine = function() {
        return this.getOption("highlightGutterLine");
    };

    this.$updateGutterLineHighlight = function() {
        var pos = this.$cursorLayer.$pixelPos;
        var height = this.layerConfig.lineHeight;
        if (this.session.getUseWrapMode()) {
            var cursor = this.session.selection.getCursor();
            cursor.column = 0;
            pos = this.$cursorLayer.getPixelPosition(cursor, true);
            height *= this.session.getRowLength(cursor.row);
        }
        this.$gutterLineHighlight.style.top = pos.top - this.layerConfig.offset + "px";
        this.$gutterLineHighlight.style.height = height + "px";
    };

    this.$updatePrintMargin = function() {
        if (!this.$showPrintMargin && !this.$printMarginEl)
            return;

        if (!this.$printMarginEl) {
            var containerEl = dom.createElement("div");
            containerEl.className = "ace_layer ace_print-margin-layer";
            this.$printMarginEl = dom.createElement("div");
            this.$printMarginEl.className = "ace_print-margin";
            containerEl.appendChild(this.$printMarginEl);
            this.content.insertBefore(containerEl, this.content.firstChild);
        }

        var style = this.$printMarginEl.style;
        style.left = ((this.characterWidth * this.$printMarginColumn) + this.$padding) + "px";
        style.visibility = this.$showPrintMargin ? "visible" : "hidden";
        
        if (this.session && this.session.$wrap == -1)
            this.adjustWrapLimit();
    };
    this.getContainerElement = function() {
        return this.container;
    };
    this.getMouseEventTarget = function() {
        return this.content;
    };
    this.getTextAreaContainer = function() {
        return this.container;
    };
    this.$moveTextAreaToCursor = function() {
        if (!this.$keepTextAreaAtCursor)
            return;
        var config = this.layerConfig;
        var posTop = this.$cursorLayer.$pixelPos.top;
        var posLeft = this.$cursorLayer.$pixelPos.left;
        posTop -= config.offset;

        var h = this.lineHeight;
        if (posTop < 0 || posTop > config.height - h)
            return;

        var w = this.characterWidth;
        if (this.$composition) {
            var val = this.textarea.value.replace(/^\x01+/, "");
            w *= (this.session.$getStringScreenWidth(val)[0]+2);
            h += 2;
            posTop -= 1;
        }
        posLeft -= this.scrollLeft;
        if (posLeft > this.$size.scrollerWidth - w)
            posLeft = this.$size.scrollerWidth - w;

        posLeft -= this.scrollBar.width;

        this.textarea.style.height = h + "px";
        this.textarea.style.width = w + "px";
        this.textarea.style.right = Math.max(0, this.$size.scrollerWidth - posLeft - w) + "px";
        this.textarea.style.bottom = Math.max(0, this.$size.height - posTop - h) + "px";
    };
    this.getFirstVisibleRow = function() {
        return this.layerConfig.firstRow;
    };
    this.getFirstFullyVisibleRow = function() {
        return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);
    };
    this.getLastFullyVisibleRow = function() {
        var flint = Math.floor((this.layerConfig.height + this.layerConfig.offset) / this.layerConfig.lineHeight);
        return this.layerConfig.firstRow - 1 + flint;
    };
    this.getLastVisibleRow = function() {
        return this.layerConfig.lastRow;
    };

    this.$padding = null;
    this.setPadding = function(padding) {
        this.$padding = padding;
        this.$textLayer.setPadding(padding);
        this.$cursorLayer.setPadding(padding);
        this.$markerFront.setPadding(padding);
        this.$markerBack.setPadding(padding);
        this.$loop.schedule(this.CHANGE_FULL);
        this.$updatePrintMargin();
    };
    this.getHScrollBarAlwaysVisible = function() {
        return this.$hScrollBarAlwaysVisible;
    };
    this.setHScrollBarAlwaysVisible = function(alwaysVisible) {
        this.setOption("hScrollBarAlwaysVisible", alwaysVisible);
    };

    this.$updateScrollBar = function() {
        this.scrollBar.setInnerHeight(this.layerConfig.maxHeight);
        this.scrollBar.setScrollTop(this.scrollTop);
    };

    this.$renderChanges = function(changes, force) {
        if (!force && (!changes || !this.session || !this.container.offsetWidth))
            return;

        this._signal("beforeRender");
        if (changes & this.CHANGE_FULL ||
            changes & this.CHANGE_SIZE ||
            changes & this.CHANGE_TEXT ||
            changes & this.CHANGE_LINES ||
            changes & this.CHANGE_SCROLL
        )
            this.$computeLayerConfig();
        if (changes & this.CHANGE_H_SCROLL) {
            this.scroller.scrollLeft = this.scrollLeft;
            var scrollLeft = this.scroller.scrollLeft;
            this.scrollLeft = scrollLeft;
            this.session.setScrollLeft(scrollLeft);

            this.scroller.className = this.scrollLeft == 0 ? "ace_scroller" : "ace_scroller ace_scroll-left";
        }
        if (changes & this.CHANGE_FULL) {
            this.$textLayer.checkForSizeChanges();
            this.$updateScrollBar();
            this.$textLayer.update(this.layerConfig);
            if (this.$showGutter)
                this.$gutterLayer.update(this.layerConfig);
            this.$markerBack.update(this.layerConfig);
            this.$markerFront.update(this.layerConfig);
            this.$cursorLayer.update(this.layerConfig);
            this.$moveTextAreaToCursor();
            this.$highlightGutterLine && this.$updateGutterLineHighlight();
            this._signal("afterRender");
            return;
        }
        if (changes & this.CHANGE_SCROLL) {
            if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES)
                this.$textLayer.update(this.layerConfig);
            else
                this.$textLayer.scrollLines(this.layerConfig);

            if (this.$showGutter)
                this.$gutterLayer.update(this.layerConfig);
            this.$markerBack.update(this.layerConfig);
            this.$markerFront.update(this.layerConfig);
            this.$cursorLayer.update(this.layerConfig);
            this.$highlightGutterLine && this.$updateGutterLineHighlight();
            this.$moveTextAreaToCursor();
            this.$updateScrollBar();
            this._signal("afterRender");
            return;
        }

        if (changes & this.CHANGE_TEXT) {
            this.$textLayer.update(this.layerConfig);
            if (this.$showGutter)
                this.$gutterLayer.update(this.layerConfig);
        }
        else if (changes & this.CHANGE_LINES) {
            if (this.$updateLines() || (changes & this.CHANGE_GUTTER) && this.$showGutter)
                this.$gutterLayer.update(this.layerConfig);
        }
        else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {
            if (this.$showGutter)
                this.$gutterLayer.update(this.layerConfig);
        }

        if (changes & this.CHANGE_CURSOR) {
            this.$cursorLayer.update(this.layerConfig);
            this.$moveTextAreaToCursor();
            this.$highlightGutterLine && this.$updateGutterLineHighlight();
        }

        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {
            this.$markerFront.update(this.layerConfig);
        }

        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {
            this.$markerBack.update(this.layerConfig);
        }

        if (changes & this.CHANGE_SIZE)
            this.$updateScrollBar();

        this._signal("afterRender");
    };

    this.$computeLayerConfig = function() {
        if (!this.$size.scrollerHeight)
            return this.onResize(true);

        var session = this.session;

        var offset = this.scrollTop % this.lineHeight;
        var minHeight = this.$size.scrollerHeight + this.lineHeight;

        var longestLine = this.$getLongestLine();

        var horizScroll = this.$hScrollBarAlwaysVisible || this.$size.scrollerWidth - longestLine < 0;
        var horizScrollChanged = this.$horizScroll !== horizScroll;
        this.$horizScroll = horizScroll;
        if (horizScrollChanged) {
            this.scroller.style.overflowX = horizScroll ? "scroll" : "hidden";
            if (!horizScroll)
                this.session.setScrollLeft(0);
        }
        var maxHeight = this.session.getScreenLength() * this.lineHeight;
        this.session.setScrollTop(Math.max(0, Math.min(this.scrollTop, maxHeight - this.$size.scrollerHeight)));

        var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;
        var firstRow = Math.max(0, Math.round((this.scrollTop - offset) / this.lineHeight));
        var lastRow = firstRow + lineCount;
        var firstRowScreen, firstRowHeight;
        var lineHeight = this.lineHeight;
        firstRow = session.screenToDocumentRow(firstRow, 0);
        var foldLine = session.getFoldLine(firstRow);
        if (foldLine) {
            firstRow = foldLine.start.row;
        }

        firstRowScreen = session.documentToScreenRow(firstRow, 0);
        firstRowHeight = session.getRowLength(firstRow) * lineHeight;

        lastRow = Math.min(session.screenToDocumentRow(lastRow, 0), session.getLength() - 1);
        minHeight = this.$size.scrollerHeight + session.getRowLength(lastRow) * lineHeight +
                                                firstRowHeight;

        offset = this.scrollTop - firstRowScreen * lineHeight;

        this.layerConfig = {
            width : longestLine,
            padding : this.$padding,
            firstRow : firstRow,
            firstRowScreen: firstRowScreen,
            lastRow : lastRow,
            lineHeight : lineHeight,
            characterWidth : this.characterWidth,
            minHeight : minHeight,
            maxHeight : maxHeight,
            offset : offset,
            height : this.$size.scrollerHeight
        };

        this.$gutterLayer.element.style.marginTop = (-offset) + "px";
        this.content.style.marginTop = (-offset) + "px";
        this.content.style.width = longestLine + 2 * this.$padding + "px";
        this.content.style.height = minHeight + "px";
        if (horizScrollChanged)
            this.onResize(true);
    };

    this.$updateLines = function() {
        var firstRow = this.$changedLines.firstRow;
        var lastRow = this.$changedLines.lastRow;
        this.$changedLines = null;

        var layerConfig = this.layerConfig;

        if (firstRow > layerConfig.lastRow + 1) { return; }
        if (lastRow < layerConfig.firstRow) { return; }
        if (lastRow === Infinity) {
            if (this.$showGutter)
                this.$gutterLayer.update(layerConfig);
            this.$textLayer.update(layerConfig);
            return;
        }
        this.$textLayer.updateLines(layerConfig, firstRow, lastRow);
        return true;
    };

    this.$getLongestLine = function() {
        var charCount = this.session.getScreenWidth();
        if (this.$textLayer.showInvisibles)
            charCount += 1;

        return Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(charCount * this.characterWidth));
    };
    this.updateFrontMarkers = function() {
        this.$markerFront.setMarkers(this.session.getMarkers(true));
        this.$loop.schedule(this.CHANGE_MARKER_FRONT);
    };
    this.updateBackMarkers = function() {
        this.$markerBack.setMarkers(this.session.getMarkers());
        this.$loop.schedule(this.CHANGE_MARKER_BACK);
    };
    this.addGutterDecoration = function(row, className){
        this.$gutterLayer.addGutterDecoration(row, className);
    };
    this.removeGutterDecoration = function(row, className){
        this.$gutterLayer.removeGutterDecoration(row, className);
    };
    this.updateBreakpoints = function(rows) {
        this.$loop.schedule(this.CHANGE_GUTTER);
    };
    this.setAnnotations = function(annotations) {
        this.$gutterLayer.setAnnotations(annotations);
        this.$loop.schedule(this.CHANGE_GUTTER);
    };
    this.updateCursor = function() {
        this.$loop.schedule(this.CHANGE_CURSOR);
    };
    this.hideCursor = function() {
        this.$cursorLayer.hideCursor();
    };
    this.showCursor = function() {
        this.$cursorLayer.showCursor();
    };

    this.scrollSelectionIntoView = function(anchor, lead, offset) {
        this.scrollCursorIntoView(anchor, offset);
        this.scrollCursorIntoView(lead, offset);
    };
    this.scrollCursorIntoView = function(cursor, offset) {
        if (this.$size.scrollerHeight === 0)
            return;

        var pos = this.$cursorLayer.getPixelPosition(cursor);

        var left = pos.left;
        var top = pos.top;

        if (this.scrollTop > top) {
            if (offset)
                top -= offset * this.$size.scrollerHeight;
            this.session.setScrollTop(top);
        } else if (this.scrollTop + this.$size.scrollerHeight < top + this.lineHeight) {
            if (offset)
                top += offset * this.$size.scrollerHeight;
            this.session.setScrollTop(top + this.lineHeight - this.$size.scrollerHeight);
        }

        var scrollLeft = this.scrollLeft;

        if (scrollLeft > left) {
            if (left < this.$padding + 2 * this.layerConfig.characterWidth)
                left = 0;
            this.session.setScrollLeft(left);
        } else if (scrollLeft + this.$size.scrollerWidth < left + this.characterWidth) {
            this.session.setScrollLeft(Math.round(left + this.characterWidth - this.$size.scrollerWidth));
        }
    };
    this.getScrollTop = function() {
        return this.session.getScrollTop();
    };
    this.getScrollLeft = function() {
        return this.session.getScrollLeft();
    };
    this.getScrollTopRow = function() {
        return this.scrollTop / this.lineHeight;
    };
    this.getScrollBottomRow = function() {
        return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);
    };
    this.scrollToRow = function(row) {
        this.session.setScrollTop(row * this.lineHeight);
    };

    this.alignCursor = function(cursor, alignment) {
        if (typeof cursor == "number")
            cursor = {row: cursor, column: 0};

        var pos = this.$cursorLayer.getPixelPosition(cursor);
        var h = this.$size.scrollerHeight - this.lineHeight;
        var offset = pos.top - h * (alignment || 0);

        this.session.setScrollTop(offset);
        return offset;
    };

    this.STEPS = 8;
    this.$calcSteps = function(fromValue, toValue){
        var i = 0;
        var l = this.STEPS;
        var steps = [];

        var func  = function(t, x_min, dx) {
            return dx * (Math.pow(t - 1, 3) + 1) + x_min;
        };

        for (i = 0; i < l; ++i)
            steps.push(func(i / this.STEPS, fromValue, toValue - fromValue));

        return steps;
    };
    this.scrollToLine = function(line, center, animate, callback) {
        var pos = this.$cursorLayer.getPixelPosition({row: line, column: 0});
        var offset = pos.top;
        if (center)
            offset -= this.$size.scrollerHeight / 2;

        var initialScroll = this.scrollTop;
        this.session.setScrollTop(offset);
        if (animate !== false)
            this.animateScrolling(initialScroll, callback);
    };

    this.animateScrolling = function(fromValue, callback) {
        var toValue = this.scrollTop;
        if (this.$animatedScroll) {
            var _self = this;
            var steps = _self.$calcSteps(fromValue, toValue);
            this.$scrollAnimation = {from: fromValue, to: toValue};

            clearInterval(this.$timer);

            _self.session.setScrollTop(steps.shift());
            this.$timer = setInterval(function() {
                if (steps.length) {
                    _self.session.setScrollTop(steps.shift());
                    _self.session.$scrollTop = toValue;
                } else if (toValue != null) {
                    _self.session.$scrollTop = -1;
                    _self.session.setScrollTop(toValue);
                    toValue = null;
                } else {
                    _self.$timer = clearInterval(_self.$timer);
                    _self.$scrollAnimation = null;
                    callback && callback();
                }
            }, 10);
        }
    };
    this.scrollToY = function(scrollTop) {
        if (this.scrollTop !== scrollTop) {
            this.$loop.schedule(this.CHANGE_SCROLL);
            this.scrollTop = scrollTop;
        }
    };
    this.scrollToX = function(scrollLeft) {
        if (scrollLeft < 0)
            scrollLeft = 0;

        if (this.scrollLeft !== scrollLeft)
            this.scrollLeft = scrollLeft;
        this.$loop.schedule(this.CHANGE_H_SCROLL);
    };
    this.scrollBy = function(deltaX, deltaY) {
        deltaY && this.session.setScrollTop(this.session.getScrollTop() + deltaY);
        deltaX && this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);
    };
    this.isScrollableBy = function(deltaX, deltaY) {
        if (deltaY < 0 && this.session.getScrollTop() >= 1)
           return true;
        if (deltaY > 0 && this.session.getScrollTop() + this.$size.scrollerHeight - this.layerConfig.maxHeight < -1)
           return true;
    };

    this.pixelToScreenCoordinates = function(x, y) {
        var canvasPos = this.scroller.getBoundingClientRect();

        var offset = (x + this.scrollLeft - canvasPos.left - this.$padding) / this.characterWidth;
        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);
        var col = Math.round(offset);

        return {row: row, column: col, side: offset - col > 0 ? 1 : -1};
    };

    this.screenToTextCoordinates = function(x, y) {
        var canvasPos = this.scroller.getBoundingClientRect();

        var col = Math.round(
            (x + this.scrollLeft - canvasPos.left - this.$padding) / this.characterWidth
        );
        var row = Math.floor(
            (y + this.scrollTop - canvasPos.top) / this.lineHeight
        );

        return this.session.screenToDocumentPosition(row, Math.max(col, 0));
    };
    this.textToScreenCoordinates = function(row, column) {
        var canvasPos = this.scroller.getBoundingClientRect();
        var pos = this.session.documentToScreenPosition(row, column);

        var x = this.$padding + Math.round(pos.column * this.characterWidth);
        var y = pos.row * this.lineHeight;

        return {
            pageX: canvasPos.left + x - this.scrollLeft,
            pageY: canvasPos.top + y - this.scrollTop
        };
    };
    this.visualizeFocus = function() {
        dom.addCssClass(this.container, "ace_focus");
    };
    this.visualizeBlur = function() {
        dom.removeCssClass(this.container, "ace_focus");
    };
    this.showComposition = function(position) {
        if (!this.$composition)
            this.$composition = {
                keepTextAreaAtCursor: this.$keepTextAreaAtCursor,
                cssText: this.textarea.style.cssText
            };

        this.$keepTextAreaAtCursor = true;
        dom.addCssClass(this.textarea, "ace_composition");
        this.textarea.style.cssText = "";
        this.$moveTextAreaToCursor();
    };
    this.setCompositionText = function(text) {
        this.$moveTextAreaToCursor();
    };
    this.hideComposition = function() {
        if (!this.$composition)
            return;

        dom.removeCssClass(this.textarea, "ace_composition");
        this.$keepTextAreaAtCursor = this.$composition.keepTextAreaAtCursor;
        this.textarea.style.cssText = this.$composition.cssText;
        this.$composition = null;
    };
    this.setTheme = function(theme) {
        var _self = this;
        this.$themeValue = theme;
        _self._dispatchEvent('themeChange',{theme:theme});

        if (!theme || typeof theme == "string") {
            var moduleName = theme || "ace/theme/textmate";
            config.loadModule(["theme", moduleName], afterLoad);
        } else {
            afterLoad(theme);
        }

        function afterLoad(module) {
            if (_self.$themeValue != theme)
                return;
            if (!module.cssClass)
                return;
            dom.importCssString(
                module.cssText,
                module.cssClass,
                _self.container.ownerDocument
            );

            if (_self.theme)
                dom.removeCssClass(_self.container, _self.theme.cssClass);
            _self.$theme = module.cssClass;

            _self.theme = module;
            dom.addCssClass(_self.container, module.cssClass);
            dom.setCssClass(_self.container, "ace_dark", module.isDark);

            var padding = module.padding || 4;
            if (_self.$padding && padding != _self.$padding)
                _self.setPadding(padding);
            if (_self.$size) {
                _self.$size.width = 0;
                _self.onResize();
            }

            _self._dispatchEvent('themeLoaded',{theme:module});
        }
    };
    this.getTheme = function() {
        return this.$themeValue;
    };
    this.setStyle = function setStyle(style, include) {
        dom.setCssClass(this.container, style, include != false);
    };
    this.unsetStyle = function unsetStyle(style) {
        dom.removeCssClass(this.container, style);
    };
    this.destroy = function() {
        this.$textLayer.destroy();
        this.$cursorLayer.destroy();
    };

}).call(VirtualRenderer.prototype);


config.defineOptions(VirtualRenderer.prototype, "renderer", {
    animatedScroll: {initialValue: false},
    showInvisibles: {
        set: function(value) {
            if (this.$textLayer.setShowInvisibles(value))
                this.$loop.schedule(this.CHANGE_TEXT);
        },
        initialValue: false
    },
    showPrintMargin: {
        set: function() { this.$updatePrintMargin(); },
        initialValue: true
    },
    printMarginColumn: {
        set: function() { this.$updatePrintMargin(); },
        initialValue: 80
    },
    printMargin: {
        set: function(val) {
            if (typeof val == "number")
                this.$printMarginColumn = val;
            this.$showPrintMargin = !!val;
            this.$updatePrintMargin();
        },
        get: function() {
            return this.$showPrintMargin && this.$printMarginColumn; 
        }
    },
    showGutter: {
        set: function(show){
            this.$gutter.style.display = show ? "block" : "none";
            this.onGutterResize();
        },
        initialValue: true
    },
    fadeFoldWidgets: {
        set: function(show) {
            dom.setCssClass(this.$gutter, "ace_fade-fold-widgets", show);
        },
        initialValue: false
    },
    showFoldWidgets: {
        set: function(show) {this.$gutterLayer.setShowFoldWidgets(show)},
        initialValue: true
    },
    displayIndentGuides: {
        set: function(show) {
            if (this.$textLayer.setDisplayIndentGuides(show))
                this.$loop.schedule(this.CHANGE_TEXT);
        },
        initialValue: true
    },
    highlightGutterLine: {
        set: function(shouldHighlight) {
            if (!this.$gutterLineHighlight) {
                this.$gutterLineHighlight = dom.createElement("div");
                this.$gutterLineHighlight.className = "ace_gutter-active-line";
                this.$gutter.appendChild(this.$gutterLineHighlight);
                return;
            }

            this.$gutterLineHighlight.style.display = shouldHighlight ? "" : "none";
            if (this.$cursorLayer.$pixelPos)
                this.$updateGutterLineHighlight();
        },
        initialValue: false,
        value: true
    },
    hScrollBarAlwaysVisible: {
        set: function(alwaysVisible) {
            this.$hScrollBarAlwaysVisible = alwaysVisible;
            if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll)
                this.$loop.schedule(this.CHANGE_SCROLL);
        },
        initialValue: false
    },
    fontSize:  {
        set: function(size) {
            if (typeof size == "number")
                size = size + "px";
            this.container.style.fontSize = size;
            this.updateFontSize();
        },
        initialValue: 12
    },
    fontFamily: {
        set: function(name) {
            this.container.style.fontFamily = name;
            this.updateFontSize();
        }
    }
});

exports.VirtualRenderer = VirtualRenderer;
});

ace.define('ace/layer/gutter', ["require", 'exports', 'module' , 'ace/lib/dom', 'ace/lib/oop', 'ace/lib/lang', 'ace/lib/event_emitter'], function(acequire, exports, module) {


var dom = acequire("../lib/dom");
var oop = acequire("../lib/oop");
var lang = acequire("../lib/lang");
var EventEmitter = acequire("../lib/event_emitter").EventEmitter;

var Gutter = function(parentEl) {
    this.element = dom.createElement("div");
    this.element.className = "ace_layer ace_gutter-layer";
    parentEl.appendChild(this.element);
    this.setShowFoldWidgets(this.$showFoldWidgets);
    
    this.gutterWidth = 0;

    this.$annotations = [];
    this.$updateAnnotations = this.$updateAnnotations.bind(this);
};

(function() {

    oop.implement(this, EventEmitter);

    this.setSession = function(session) {
        if (this.session)
            this.session.removeEventListener("change", this.$updateAnnotations);
        this.session = session;
        session.on("change", this.$updateAnnotations);
    };

    this.addGutterDecoration = function(row, className){
        if (window.console)
            console.warn && console.warn("deprecated use session.addGutterDecoration");
        this.session.addGutterDecoration(row, className);
    };

    this.removeGutterDecoration = function(row, className){
        if (window.console)
            console.warn && console.warn("deprecated use session.removeGutterDecoration");
        this.session.removeGutterDecoration(row, className);
    };

    this.setAnnotations = function(annotations) {
        this.$annotations = []
        var rowInfo, row;
        for (var i = 0; i < annotations.length; i++) {
            var annotation = annotations[i];
            var row = annotation.row;
            var rowInfo = this.$annotations[row];
            if (!rowInfo)
                rowInfo = this.$annotations[row] = {text: []};
           
            var annoText = annotation.text;
            annoText = annoText ? lang.escapeHTML(annoText) : annotation.html || "";

            if (rowInfo.text.indexOf(annoText) === -1)
                rowInfo.text.push(annoText);

            var type = annotation.type;
            if (type == "error")
                rowInfo.className = " ace_error";
            else if (type == "warning" && rowInfo.className != " ace_error")
                rowInfo.className = " ace_warning";
            else if (type == "info" && (!rowInfo.className))
                rowInfo.className = " ace_info";
        }
    };

    this.$updateAnnotations = function (e) {
        if (!this.$annotations.length)
            return;
        var delta = e.data;
        var range = delta.range;
        var firstRow = range.start.row;
        var len = range.end.row - firstRow;
        if (len === 0) {
        } else if (delta.action == "removeText" || delta.action == "removeLines") {
            this.$annotations.splice(firstRow, len + 1, null);
        } else {
            var args = Array(len + 1);
            args.unshift(firstRow, 1);
            this.$annotations.splice.apply(this.$annotations, args);
        }
    };

    this.update = function(config) {
        var emptyAnno = {className: ""};
        var html = [];
        var i = config.firstRow;
        var lastRow = config.lastRow;
        var fold = this.session.getNextFoldLine(i);
        var foldStart = fold ? fold.start.row : Infinity;
        var foldWidgets = this.$showFoldWidgets && this.session.foldWidgets;
        var breakpoints = this.session.$breakpoints;
        var decorations = this.session.$decorations;
        var firstLineNumber = this.session.$firstLineNumber;
        var lastLineNumber = 0;

        while (true) {
            if(i > foldStart) {
                i = fold.end.row + 1;
                fold = this.session.getNextFoldLine(i, fold);
                foldStart = fold ?fold.start.row :Infinity;
            }
            if(i > lastRow)
                break;

            var annotation = this.$annotations[i] || emptyAnno;
            html.push(
                "<div class='ace_gutter-cell ",
                breakpoints[i] || "", decorations[i] || "", annotation.className,
                "' style='height:", this.session.getRowLength(i) * config.lineHeight, "px;'>", 
                lastLineNumber = i + firstLineNumber
            );

            if (foldWidgets) {
                var c = foldWidgets[i];
                if (c == null)
                    c = foldWidgets[i] = this.session.getFoldWidget(i);
                if (c)
                    html.push(
                        "<span class='ace_fold-widget ace_", c,
                        c == "start" && i == foldStart && i < fold.end.row ? " ace_closed" : " ace_open",
                        "' style='height:", config.lineHeight, "px",
                        "'></span>"
                    );
            }

            html.push("</div>");

            i++;
        }

        this.element = dom.setInnerHtml(this.element, html.join(""));
        this.element.style.height = config.minHeight + "px";
        
        if (this.session.$useWrapMode)
            lastLineNumber = this.session.getLength();
        
        var gutterWidth = ("" + lastLineNumber).length * config.characterWidth;
        var padding = this.$padding || this.$computePadding();
        gutterWidth += padding.left + padding.right;
        if (gutterWidth !== this.gutterWidth) {
            this.gutterWidth = gutterWidth;
            this.element.style.width = Math.ceil(this.gutterWidth) + "px";
            this._emit("changeGutterWidth", gutterWidth);
        }
    };

    this.$showFoldWidgets = true;
    this.setShowFoldWidgets = function(show) {
        if (show)
            dom.addCssClass(this.element, "ace_folding-enabled");
        else
            dom.removeCssClass(this.element, "ace_folding-enabled");

        this.$showFoldWidgets = show;
        this.$padding = null;
    };
    
    this.getShowFoldWidgets = function() {
        return this.$showFoldWidgets;
    };

    this.$computePadding = function() {
        if (!this.element.firstChild)
            return {left: 0, right: 0};
        var style = dom.computedStyle(this.element.firstChild);
        this.$padding = {}
        this.$padding.left = parseInt(style.paddingLeft) + 1;
        this.$padding.right = parseInt(style.paddingRight);  
        return this.$padding;
    };

    this.getRegion = function(point) {
        var padding = this.$padding || this.$computePadding();
        var rect = this.element.getBoundingClientRect();
        if (point.x < padding.left + rect.left)
            return "markers";
        if (this.$showFoldWidgets && point.x > rect.right - padding.right)
            return "foldWidgets";
    };

}).call(Gutter.prototype);

exports.Gutter = Gutter;

});

ace.define('ace/layer/marker', ["require", 'exports', 'module' , 'ace/range', 'ace/lib/dom'], function(acequire, exports, module) {


var Range = acequire("../range").Range;
var dom = acequire("../lib/dom");

var Marker = function(parentEl) {
    this.element = dom.createElement("div");
    this.element.className = "ace_layer ace_marker-layer";
    parentEl.appendChild(this.element);
};

(function() {

    this.$padding = 0;

    this.setPadding = function(padding) {
        this.$padding = padding;
    };
    this.setSession = function(session) {
        this.session = session;
    };
    
    this.setMarkers = function(markers) {
        this.markers = markers;
    };

    this.update = function(config) {
        var config = config || this.config;
        if (!config)
            return;

        this.config = config;


        var html = [];
        for (var key in this.markers) {
            var marker = this.markers[key];

            if (!marker.range) {
                marker.update(html, this, this.session, config);
                continue;
            }

            var range = marker.range.clipRows(config.firstRow, config.lastRow);
            if (range.isEmpty()) continue;

            range = range.toScreenRange(this.session);
            if (marker.renderer) {
                var top = this.$getTop(range.start.row, config);
                var left = this.$padding + range.start.column * config.characterWidth;
                marker.renderer(html, range, left, top, config);
            } else if (marker.type == "fullLine") {
                this.drawFullLineMarker(html, range, marker.clazz, config);
            } else if (marker.type == "screenLine") {
                this.drawScreenLineMarker(html, range, marker.clazz, config);
            } else if (range.isMultiLine()) {
                if (marker.type == "text")
                    this.drawTextMarker(html, range, marker.clazz, config);
                else
                    this.drawMultiLineMarker(html, range, marker.clazz, config);
            } else {
                this.drawSingleLineMarker(html, range, marker.clazz + " ace_start", config);
            }
        }
        this.element = dom.setInnerHtml(this.element, html.join(""));
    };

    this.$getTop = function(row, layerConfig) {
        return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;
    };
    this.drawTextMarker = function(stringBuilder, range, clazz, layerConfig, extraStyle) {
        var row = range.start.row;

        var lineRange = new Range(
            row, range.start.column,
            row, this.session.getScreenLastRowColumn(row)
        );
        this.drawSingleLineMarker(stringBuilder, lineRange, clazz + " ace_start", layerConfig, 1, extraStyle);
        row = range.end.row;
        lineRange = new Range(row, 0, row, range.end.column);
        this.drawSingleLineMarker(stringBuilder, lineRange, clazz, layerConfig, 0, extraStyle);

        for (row = range.start.row + 1; row < range.end.row; row++) {
            lineRange.start.row = row;
            lineRange.end.row = row;
            lineRange.end.column = this.session.getScreenLastRowColumn(row);
            this.drawSingleLineMarker(stringBuilder, lineRange, clazz, layerConfig, 1, extraStyle);
        }
    };
    this.drawMultiLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {
        var padding = this.$padding;
        var height = config.lineHeight;
        var top = this.$getTop(range.start.row, config);
        var left = padding + range.start.column * config.characterWidth;
        extraStyle = extraStyle || "";

        stringBuilder.push(
            "<div class='", clazz, " ace_start' style='",
            "height:", height, "px;",
            "right:0;",
            "top:", top, "px;",
            "left:", left, "px;", extraStyle, "'></div>"
        );
        top = this.$getTop(range.end.row, config);
        var width = range.end.column * config.characterWidth;

        stringBuilder.push(
            "<div class='", clazz, "' style='",
            "height:", height, "px;",
            "width:", width, "px;",
            "top:", top, "px;",
            "left:", padding, "px;", extraStyle, "'></div>"
        );
        height = (range.end.row - range.start.row - 1) * config.lineHeight;
        if (height < 0)
            return;
        top = this.$getTop(range.start.row + 1, config);

        stringBuilder.push(
            "<div class='", clazz, "' style='",
            "height:", height, "px;",
            "right:0;",
            "top:", top, "px;",
            "left:", padding, "px;", extraStyle, "'></div>"
        );
    };
    this.drawSingleLineMarker = function(stringBuilder, range, clazz, config, extraLength, extraStyle) {
        var height = config.lineHeight;
        var width = (range.end.column + (extraLength || 0) - range.start.column) * config.characterWidth;

        var top = this.$getTop(range.start.row, config);
        var left = this.$padding + range.start.column * config.characterWidth;

        stringBuilder.push(
            "<div class='", clazz, "' style='",
            "height:", height, "px;",
            "width:", width, "px;",
            "top:", top, "px;",
            "left:", left, "px;", extraStyle || "", "'></div>"
        );
    };

    this.drawFullLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {
        var top = this.$getTop(range.start.row, config);
        var height = config.lineHeight;
        if (range.start.row != range.end.row)
            height += this.$getTop(range.end.row, config) - top;

        stringBuilder.push(
            "<div class='", clazz, "' style='",
            "height:", height, "px;",
            "top:", top, "px;",
            "left:0;right:0;", extraStyle || "", "'></div>"
        );
    };
    
    this.drawScreenLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {
        var top = this.$getTop(range.start.row, config);
        var height = config.lineHeight;

        stringBuilder.push(
            "<div class='", clazz, "' style='",
            "height:", height, "px;",
            "top:", top, "px;",
            "left:0;right:0;", extraStyle || "", "'></div>"
        );
    };

}).call(Marker.prototype);

exports.Marker = Marker;

});

ace.define('ace/layer/text', ["require", 'exports', 'module' , 'ace/lib/oop', 'ace/lib/dom', 'ace/lib/lang', 'ace/lib/useragent', 'ace/lib/event_emitter'], function(acequire, exports, module) {


var oop = acequire("../lib/oop");
var dom = acequire("../lib/dom");
var lang = acequire("../lib/lang");
var useragent = acequire("../lib/useragent");
var EventEmitter = acequire("../lib/event_emitter").EventEmitter;

var Text = function(parentEl) {
    this.element = dom.createElement("div");
    this.element.className = "ace_layer ace_text-layer";
    parentEl.appendChild(this.element);

    this.$characterSize = {width: 0, height: 0};
    this.checkForSizeChanges();
    this.$pollSizeChanges();
};

(function() {

    oop.implement(this, EventEmitter);

    this.EOF_CHAR = "\xB6"; //"&para;";
    this.EOL_CHAR = "\xAC"; //"&not;";
    this.TAB_CHAR = "\u2192"; //"&rarr;" "\u21E5";
    this.SPACE_CHAR = "\xB7"; //"&middot;";
    this.$padding = 0;

    this.setPadding = function(padding) {
        this.$padding = padding;
        this.element.style.padding = "0 " + padding + "px";
    };

    this.getLineHeight = function() {
        return this.$characterSize.height || 1;
    };

    this.getCharacterWidth = function() {
        return this.$characterSize.width || 1;
    };

    this.checkForSizeChanges = function() {
        var size = this.$measureSizes();
        if (size && (this.$characterSize.width !== size.width || this.$characterSize.height !== size.height)) {
            this.$measureNode.style.fontWeight = "bold";
            var boldSize = this.$measureSizes();
            this.$measureNode.style.fontWeight = "";
            this.$characterSize = size;
            this.allowBoldFonts = boldSize && boldSize.width === size.width && boldSize.height === size.height;
            this._emit("changeCharacterSize", {data: size});
        }
    };

    this.$pollSizeChanges = function() {
        var self = this;
        this.$pollSizeChangesTimer = setInterval(function() {
            self.checkForSizeChanges();
        }, 500);
    };

    this.$fontStyles = {
        fontFamily : 1,
        fontSize : 1,
        fontWeight : 1,
        fontStyle : 1,
        lineHeight : 1
    };

    this.$measureSizes = useragent.isIE || useragent.isOldGecko ? function() {
        var n = 1000;
        if (!this.$measureNode) {
            var measureNode = this.$measureNode = dom.createElement("div");
            var style = measureNode.style;

            style.width = style.height = "auto";
            style.left = style.top = (-n * 40)  + "px";

            style.visibility = "hidden";
            style.position = "fixed";
            style.overflow = "visible";
            style.whiteSpace = "nowrap";
            measureNode.innerHTML = lang.stringRepeat("Xy", n);

            if (this.element.ownerDocument.body) {
                this.element.ownerDocument.body.appendChild(measureNode);
            } else {
                var container = this.element.parentNode;
                while (!dom.hasCssClass(container, "ace_editor"))
                    container = container.parentNode;
                container.appendChild(measureNode);
            }
        }
        if (!this.element.offsetWidth)
            return null;

        var style = this.$measureNode.style;
        var computedStyle = dom.computedStyle(this.element);
        for (var prop in this.$fontStyles)
            style[prop] = computedStyle[prop];

        var size = {
            height: this.$measureNode.offsetHeight,
            width: this.$measureNode.offsetWidth / (n * 2)
        };
        if (size.width == 0 || size.height == 0)
            return null;

        return size;
    }
    : function() {
        if (!this.$measureNode) {
            var measureNode = this.$measureNode = dom.createElement("div");
            var style = measureNode.style;

            style.width = style.height = "auto";
            style.left = style.top = -100 + "px";

            style.visibility = "hidden";
            style.position = "fixed";
            style.overflow = "visible";
            style.whiteSpace = "nowrap";

            measureNode.innerHTML = "X";

            var container = this.element.parentNode;
            while (container && !dom.hasCssClass(container, "ace_editor"))
                container = container.parentNode;

            if (!container)
                return this.$measureNode = null;

            container.appendChild(measureNode);
        }

        var rect = this.$measureNode.getBoundingClientRect();

        var size = {
            height: rect.height,
            width: rect.width
        };
        if (size.width == 0 || size.height == 0)
            return null;

        return size;
    };

    this.setSession = function(session) {
        this.session = session;
        this.$computeTabString();
    };

    this.showInvisibles = false;
    this.setShowInvisibles = function(showInvisibles) {
        if (this.showInvisibles == showInvisibles)
            return false;

        this.showInvisibles = showInvisibles;
        this.$computeTabString();
        return true;
    };

    this.displayIndentGuides = true;
    this.setDisplayIndentGuides = function(display) {
        if (this.displayIndentGuides == display)
            return false;

        this.displayIndentGuides = display;
        this.$computeTabString();
        return true;
    };

    this.$tabStrings = [];
    this.onChangeTabSize =
    this.$computeTabString = function() {
        var tabSize = this.session.getTabSize();
        this.tabSize = tabSize;
        var tabStr = this.$tabStrings = [0];
        for (var i = 1; i < tabSize + 1; i++) {
            if (this.showInvisibles) {
                tabStr.push("<span class='ace_invisible'>"
                    + this.TAB_CHAR
                    + lang.stringRepeat("\xa0", i - 1)
                    + "</span>");
            } else {
                tabStr.push(lang.stringRepeat("\xa0", i));
            }
        }
        if (this.displayIndentGuides) {
            this.$indentGuideRe =  /\s\S| \t|\t |\s$/;
            var className = "ace_indent-guide";
            if (this.showInvisibles) {
                className += " ace_invisible";
                var spaceContent = lang.stringRepeat(this.SPACE_CHAR, this.tabSize);
                var tabContent = this.TAB_CHAR + lang.stringRepeat("\xa0", this.tabSize - 1);
            } else{
                var spaceContent = lang.stringRepeat("\xa0", this.tabSize);
                var tabContent = spaceContent;
            }

            this.$tabStrings[" "] = "<span class='" + className + "'>" + spaceContent + "</span>";
            this.$tabStrings["\t"] = "<span class='" + className + "'>" + tabContent + "</span>";
        }
    };

    this.updateLines = function(config, firstRow, lastRow) {
        if (this.config.lastRow != config.lastRow ||
            this.config.firstRow != config.firstRow) {
            this.scrollLines(config);
        }
        this.config = config;

        var first = Math.max(firstRow, config.firstRow);
        var last = Math.min(lastRow, config.lastRow);

        var lineElements = this.element.childNodes;
        var lineElementsIdx = 0;

        for (var row = config.firstRow; row < first; row++) {
            var foldLine = this.session.getFoldLine(row);
            if (foldLine) {
                if (foldLine.containsRow(first)) {
                    first = foldLine.start.row;
                    break;
                } else {
                    row = foldLine.end.row;
                }
            }
            lineElementsIdx ++;
        }

        var row = first;
        var foldLine = this.session.getNextFoldLine(row);
        var foldStart = foldLine ? foldLine.start.row : Infinity;

        while (true) {
            if (row > foldStart) {
                row = foldLine.end.row+1;
                foldLine = this.session.getNextFoldLine(row, foldLine);
                foldStart = foldLine ? foldLine.start.row :Infinity;
            }
            if (row > last)
                break;

            var lineElement = lineElements[lineElementsIdx++];
            if (lineElement) {
                var html = [];
                this.$renderLine(
                    html, row, !this.$useLineGroups(), row == foldStart ? foldLine : false
                );
                dom.setInnerHtml(lineElement, html.join(""));
            }
            row++;
        }
    };

    this.scrollLines = function(config) {
        var oldConfig = this.config;
        this.config = config;

        if (!oldConfig || oldConfig.lastRow < config.firstRow)
            return this.update(config);

        if (config.lastRow < oldConfig.firstRow)
            return this.update(config);

        var el = this.element;
        if (oldConfig.firstRow < config.firstRow)
            for (var row=this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row>0; row--)
                el.removeChild(el.firstChild);

        if (oldConfig.lastRow > config.lastRow)
            for (var row=this.session.getFoldedRowCount(config.lastRow + 1, oldConfig.lastRow); row>0; row--)
                el.removeChild(el.lastChild);

        if (config.firstRow < oldConfig.firstRow) {
            var fragment = this.$renderLinesFragment(config, config.firstRow, oldConfig.firstRow - 1);
            if (el.firstChild)
                el.insertBefore(fragment, el.firstChild);
            else
                el.appendChild(fragment);
        }

        if (config.lastRow > oldConfig.lastRow) {
            var fragment = this.$renderLinesFragment(config, oldConfig.lastRow + 1, config.lastRow);
            el.appendChild(fragment);
        }
    };

    this.$renderLinesFragment = function(config, firstRow, lastRow) {
        var fragment = this.element.ownerDocument.createDocumentFragment();
        var row = firstRow;
        var foldLine = this.session.getNextFoldLine(row);
        var foldStart = foldLine ? foldLine.start.row : Infinity;

        while (true) {
            if (row > foldStart) {
                row = foldLine.end.row+1;
                foldLine = this.session.getNextFoldLine(row, foldLine);
                foldStart = foldLine ? foldLine.start.row : Infinity;
            }
            if (row > lastRow)
                break;

            var container = dom.createElement("div");

            var html = [];
            this.$renderLine(html, row, false, row == foldStart ? foldLine : false);
            container.innerHTML = html.join("");
            if (this.$useLineGroups()) {
                container.className = 'ace_line_group';
                fragment.appendChild(container);
            } else {
                var lines = container.childNodes
                while(lines.length)
                    fragment.appendChild(lines[0]);
            }

            row++;
        }
        return fragment;
    };

    this.update = function(config) {
        this.config = config;

        var html = [];
        var firstRow = config.firstRow, lastRow = config.lastRow;

        var row = firstRow;
        var foldLine = this.session.getNextFoldLine(row);
        var foldStart = foldLine ? foldLine.start.row : Infinity;

        while (true) {
            if (row > foldStart) {
                row = foldLine.end.row+1;
                foldLine = this.session.getNextFoldLine(row, foldLine);
                foldStart = foldLine ? foldLine.start.row :Infinity;
            }
            if (row > lastRow)
                break;

            if (this.$useLineGroups())
                html.push("<div class='ace_line_group'>")

            this.$renderLine(html, row, false, row == foldStart ? foldLine : false);

            if (this.$useLineGroups())
                html.push("</div>"); // end the line group

            row++;
        }
        this.element = dom.setInnerHtml(this.element, html.join(""));
    };

    this.$textToken = {
        "text": true,
        "rparen": true,
        "lparen": true
    };

    this.$renderToken = function(stringBuilder, screenColumn, token, value) {
        var self = this;
        var replaceReg = /\t|&|<|( +)|([\x00-\x1f\x80-\xa0\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g;
        var replaceFunc = function(c, a, b, tabIdx, idx4) {
            if (a) {
                return self.showInvisibles ?
                    "<span class='ace_invisible'>" + lang.stringRepeat(self.SPACE_CHAR, c.length) + "</span>" :
                    lang.stringRepeat("\xa0", c.length);
            } else if (c == "&") {
                return "&#38;";
            } else if (c == "<") {
                return "&#60;";
            } else if (c == "\t") {
                var tabSize = self.session.getScreenTabSize(screenColumn + tabIdx);
                screenColumn += tabSize - 1;
                return self.$tabStrings[tabSize];
            } else if (c == "\u3000") {
                var classToUse = self.showInvisibles ? "ace_cjk ace_invisible" : "ace_cjk";
                var space = self.showInvisibles ? self.SPACE_CHAR : "";
                screenColumn += 1;
                return "<span class='" + classToUse + "' style='width:" +
                    (self.config.characterWidth * 2) +
                    "px'>" + space + "</span>";
            } else if (b) {
                return "<span class='ace_invisible ace_invalid'>" + self.SPACE_CHAR + "</span>";
            } else {
                screenColumn += 1;
                return "<span class='ace_cjk' style='width:" +
                    (self.config.characterWidth * 2) +
                    "px'>" + c + "</span>";
            }
        };

        var output = value.replace(replaceReg, replaceFunc);

        if (!this.$textToken[token.type]) {
            var classes = "ace_" + token.type.replace(/\./g, " ace_");
            var style = "";
            if (token.type == "fold")
                style = " style='width:" + (token.value.length * this.config.characterWidth) + "px;' ";
            stringBuilder.push("<span class='", classes, "'", style, ">", output, "</span>");
        }
        else {
            stringBuilder.push(output);
        }
        return screenColumn + value.length;
    };

    this.renderIndentGuide = function(stringBuilder, value) {
        var cols = value.search(this.$indentGuideRe);
        if (cols <= 0)
            return value;
        if (value[0] == " ") {
            cols -= cols % this.tabSize;
            stringBuilder.push(lang.stringRepeat(this.$tabStrings[" "], cols/this.tabSize));
            return value.substr(cols);
        } else if (value[0] == "\t") {
            stringBuilder.push(lang.stringRepeat(this.$tabStrings["\t"], cols));
            return value.substr(cols);
        }
        return value;
    };

    this.$renderWrappedLine = function(stringBuilder, tokens, splits, onlyContents) {
        var chars = 0;
        var split = 0;
        var splitChars = splits[0];
        var screenColumn = 0;

        for (var i = 0; i < tokens.length; i++) {
            var token = tokens[i];
            var value = token.value;
            if (i == 0 && this.displayIndentGuides) {
                chars = value.length;
                value = this.renderIndentGuide(stringBuilder, value);
                if (!value)
                    continue;
                chars -= value.length;
            }

            if (chars + value.length < splitChars) {
                screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);
                chars += value.length;
            } else {
                while (chars + value.length >= splitChars) {
                    screenColumn = this.$renderToken(
                        stringBuilder, screenColumn,
                        token, value.substring(0, splitChars - chars)
                    );
                    value = value.substring(splitChars - chars);
                    chars = splitChars;

                    if (!onlyContents) {
                        stringBuilder.push("</div>",
                            "<div class='ace_line' style='height:",
                            this.config.lineHeight, "px'>"
                        );
                    }

                    split ++;
                    screenColumn = 0;
                    splitChars = splits[split] || Number.MAX_VALUE;
                }
                if (value.length != 0) {
                    chars += value.length;
                    screenColumn = this.$renderToken(
                        stringBuilder, screenColumn, token, value
                    );
                }
            }
        }
    };

    this.$renderSimpleLine = function(stringBuilder, tokens) {
        var screenColumn = 0;
        var token = tokens[0];
        var value = token.value;
        if (this.displayIndentGuides)
            value = this.renderIndentGuide(stringBuilder, value);
        if (value)
            screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);
        for (var i = 1; i < tokens.length; i++) {
            token = tokens[i];
            value = token.value;
            screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);
        }
    };
    this.$renderLine = function(stringBuilder, row, onlyContents, foldLine) {
        if (!foldLine && foldLine != false)
            foldLine = this.session.getFoldLine(row);

        if (foldLine)
            var tokens = this.$getFoldLineTokens(row, foldLine);
        else
            var tokens = this.session.getTokens(row);


        if (!onlyContents) {
            stringBuilder.push(
                "<div class='ace_line' style='height:", this.config.lineHeight, "px'>"
            );
        }

        if (tokens.length) {
            var splits = this.session.getRowSplitData(row);
            if (splits && splits.length)
                this.$renderWrappedLine(stringBuilder, tokens, splits, onlyContents);
            else
                this.$renderSimpleLine(stringBuilder, tokens);
        }

        if (this.showInvisibles) {
            if (foldLine)
                row = foldLine.end.row

            stringBuilder.push(
                "<span class='ace_invisible'>",
                row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR,
                "</span>"
            );
        }
        if (!onlyContents)
            stringBuilder.push("</div>");
    };

    this.$getFoldLineTokens = function(row, foldLine) {
        var session = this.session;
        var renderTokens = [];

        function addTokens(tokens, from, to) {
            var idx = 0, col = 0;
            while ((col + tokens[idx].value.length) < from) {
                col += tokens[idx].value.length;
                idx++;

                if (idx == tokens.length)
                    return;
            }
            if (col != from) {
                var value = tokens[idx].value.substring(from - col);
                if (value.length > (to - from))
                    value = value.substring(0, to - from);

                renderTokens.push({
                    type: tokens[idx].type,
                    value: value
                });

                col = from + value.length;
                idx += 1;
            }

            while (col < to && idx < tokens.length) {
                var value = tokens[idx].value;
                if (value.length + col > to) {
                    renderTokens.push({
                        type: tokens[idx].type,
                        value: value.substring(0, to - col)
                    });
                } else
                    renderTokens.push(tokens[idx]);
                col += value.length;
                idx += 1;
            }
        }

        var tokens = session.getTokens(row);
        foldLine.walk(function(placeholder, row, column, lastColumn, isNewRow) {
            if (placeholder != null) {
                renderTokens.push({
                    type: "fold",
                    value: placeholder
                });
            } else {
                if (isNewRow)
                    tokens = session.getTokens(row);

                if (tokens.length)
                    addTokens(tokens, lastColumn, column);
            }
        }, foldLine.end.row, this.session.getLine(foldLine.end.row).length);

        return renderTokens;
    };

    this.$useLineGroups = function() {
        return this.session.getUseWrapMode();
    };

    this.destroy = function() {
        clearInterval(this.$pollSizeChangesTimer);
        if (this.$measureNode)
            this.$measureNode.parentNode.removeChild(this.$measureNode);
        delete this.$measureNode;
    };

}).call(Text.prototype);

exports.Text = Text;

});

ace.define('ace/layer/cursor', ["require", 'exports', 'module' , 'ace/lib/dom'], function(acequire, exports, module) {


var dom = acequire("../lib/dom");

var Cursor = function(parentEl) {
    this.element = dom.createElement("div");
    this.element.className = "ace_layer ace_cursor-layer";
    parentEl.appendChild(this.element);

    this.isVisible = false;
    this.isBlinking = true;
    this.blinkInterval = 1000;
    this.smoothBlinking = false;

    this.cursors = [];
    this.cursor = this.addCursor();
    dom.addCssClass(this.element, "ace_hidden-cursors");
};

(function() {

    this.$padding = 0;
    this.setPadding = function(padding) {
        this.$padding = padding;
    };

    this.setSession = function(session) {
        this.session = session;
    };

    this.setBlinking = function(blinking) {
        if (blinking != this.isBlinking){
            this.isBlinking = blinking;
            this.restartTimer();
        }
    };

    this.setBlinkInterval = function(blinkInterval) {
        if (blinkInterval != this.blinkInterval){
            this.blinkInterval = blinkInterval;
            this.restartTimer();
        }
    };

    this.setSmoothBlinking = function(smoothBlinking) {
        if (smoothBlinking != this.smoothBlinking) {
            this.smoothBlinking = smoothBlinking;
            if (smoothBlinking)
                dom.addCssClass(this.element, "ace_smooth-blinking");
            else
                dom.removeCssClass(this.element, "ace_smooth-blinking");
            this.restartTimer();
        }
    };

    this.addCursor = function() {
        var el = dom.createElement("div");
        el.className = "ace_cursor";
        this.element.appendChild(el);
        this.cursors.push(el);
        return el;
    };

    this.removeCursor = function() {
        if (this.cursors.length > 1) {
            var el = this.cursors.pop();
            el.parentNode.removeChild(el);
            return el;
        }
    };

    this.hideCursor = function() {
        this.isVisible = false;
        dom.addCssClass(this.element, "ace_hidden-cursors");
        this.restartTimer();
    };

    this.showCursor = function() {
        this.isVisible = true;
        dom.removeCssClass(this.element, "ace_hidden-cursors");
        this.restartTimer();
    };

    this.restartTimer = function() {
        clearInterval(this.intervalId);
        clearTimeout(this.timeoutId);
        if (this.smoothBlinking)
            dom.removeCssClass(this.element, "ace_smooth-blinking");
        for (var i = this.cursors.length; i--; )
            this.cursors[i].style.opacity = "";

        if (!this.isBlinking || !this.blinkInterval || !this.isVisible)
            return;

        if (this.smoothBlinking)
            setTimeout(function(){
                dom.addCssClass(this.element, "ace_smooth-blinking");
            }.bind(this));

        var blink = function(){
            this.timeoutId = setTimeout(function() {
                for (var i = this.cursors.length; i--; ) {
                    this.cursors[i].style.opacity = 0;
                }
            }.bind(this), 0.6 * this.blinkInterval);
        }.bind(this);

        this.intervalId = setInterval(function() {
            for (var i = this.cursors.length; i--; ) {
                this.cursors[i].style.opacity = "";
            }
            blink();
        }.bind(this), this.blinkInterval);

        blink();
    };

    this.getPixelPosition = function(position, onScreen) {
        if (!this.config || !this.session)
            return {left : 0, top : 0};

        if (!position)
            position = this.session.selection.getCursor();
        var pos = this.session.documentToScreenPosition(position);
        var cursorLeft = this.$padding + pos.column * this.config.characterWidth;
        var cursorTop = (pos.row - (onScreen ? this.config.firstRowScreen : 0)) *
            this.config.lineHeight;

        return {left : cursorLeft, top : cursorTop};
    };

    this.update = function(config) {
        this.config = config;

        var selections = this.session.$selectionMarkers;
        var i = 0, cursorIndex = 0;

        if (selections === undefined || selections.length === 0){
            selections = [{cursor: null}];
        }

        for (var i = 0, n = selections.length; i < n; i++) {
            var pixelPos = this.getPixelPosition(selections[i].cursor, true);
            if ((pixelPos.top > config.height + config.offset ||
                 pixelPos.top < -config.offset) && i > 1) {
                continue;
            }

            var style = (this.cursors[cursorIndex++] || this.addCursor()).style;

            style.left = pixelPos.left + "px";
            style.top = pixelPos.top + "px";
            style.width = config.characterWidth + "px";
            style.height = config.lineHeight + "px";
        }
        while (this.cursors.length > cursorIndex)
            this.removeCursor();

        var overwrite = this.session.getOverwrite();
        this.$setOverwrite(overwrite);
        this.$pixelPos = pixelPos;
        this.restartTimer();
    };

    this.$setOverwrite = function(overwrite) {
        if (overwrite != this.overwrite) {
            this.overwrite = overwrite;
            if (overwrite)
                dom.addCssClass(this.element, "ace_overwrite-cursors");
            else
                dom.removeCssClass(this.element, "ace_overwrite-cursors");
        }
    };

    this.destroy = function() {
        clearInterval(this.intervalId);
        clearTimeout(this.timeoutId);
    };

}).call(Cursor.prototype);

exports.Cursor = Cursor;

});

ace.define('ace/scrollbar', ["require", 'exports', 'module' , 'ace/lib/oop', 'ace/lib/dom', 'ace/lib/event', 'ace/lib/event_emitter'], function(acequire, exports, module) {


var oop = acequire("./lib/oop");
var dom = acequire("./lib/dom");
var event = acequire("./lib/event");
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;
var ScrollBar = function(parent) {
    this.element = dom.createElement("div");
    this.element.className = "ace_scrollbar";

    this.inner = dom.createElement("div");
    this.inner.className = "ace_scrollbar-inner";
    this.element.appendChild(this.inner);

    parent.appendChild(this.element);
    this.width = dom.scrollbarWidth(parent.ownerDocument);
    this.element.style.width = (this.width || 15) + 5 + "px";

    event.addListener(this.element, "scroll", this.onScroll.bind(this));
};

(function() {
    oop.implement(this, EventEmitter);
    this.onScroll = function() {
        if (!this.skipEvent) {
            this.scrollTop = this.element.scrollTop;
            this._emit("scroll", {data: this.scrollTop});
        }
        this.skipEvent = false;
    };
    this.getWidth = function() {
        return this.width;
    };
    this.setHeight = function(height) {
        this.element.style.height = height + "px";
    };
    this.setInnerHeight = function(height) {
        this.inner.style.height = height + "px";
    };
    this.setScrollTop = function(scrollTop) {
        if (this.scrollTop != scrollTop) {
            this.skipEvent = true;
            this.scrollTop = this.element.scrollTop = scrollTop;
        }
    };

}).call(ScrollBar.prototype);

exports.ScrollBar = ScrollBar;
});

ace.define('ace/renderloop', ["require", 'exports', 'module' , 'ace/lib/event'], function(acequire, exports, module) {


var event = acequire("./lib/event");


var RenderLoop = function(onRender, win) {
    this.onRender = onRender;
    this.pending = false;
    this.changes = 0;
    this.window = win || window;
};

(function() {


    this.schedule = function(change) {
        this.changes = this.changes | change;
        if (!this.pending) {
            this.pending = true;
            var _self = this;
            event.nextFrame(function() {
                _self.pending = false;
                var changes;
                while (changes = _self.changes) {
                    _self.changes = 0;
                    _self.onRender(changes);
                }
            }, this.window);
        }
    };

}).call(RenderLoop.prototype);

exports.RenderLoop = RenderLoop;
});

ace.define('ace/multi_select', ["require", 'exports', 'module' , 'ace/range_list', 'ace/range', 'ace/selection', 'ace/mouse/multi_select_handler', 'ace/lib/event', 'ace/lib/lang', 'ace/commands/multi_select_commands', 'ace/search', 'ace/edit_session', 'ace/editor'], function(acequire, exports, module) {

var RangeList = acequire("./range_list").RangeList;
var Range = acequire("./range").Range;
var Selection = acequire("./selection").Selection;
var onMouseDown = acequire("./mouse/multi_select_handler").onMouseDown;
var event = acequire("./lib/event");
var lang = acequire("./lib/lang");
var commands = acequire("./commands/multi_select_commands");
exports.commands = commands.defaultCommands.concat(commands.multiSelectCommands);
var Search = acequire("./search").Search;
var search = new Search();

function find(session, needle, dir) {
    search.$options.wrap = true;
    search.$options.needle = needle;
    search.$options.backwards = dir == -1;
    return search.find(session);
}
var EditSession = acequire("./edit_session").EditSession;
(function() {
    this.getSelectionMarkers = function() {
        return this.$selectionMarkers;
    };
}).call(EditSession.prototype);
(function() {
    this.ranges = null;
    this.rangeList = null;
    this.addRange = function(range, $blockChangeEvents) {
        if (!range)
            return;

        if (!this.inMultiSelectMode && this.rangeCount == 0) {
            var oldRange = this.toOrientedRange();
            this.rangeList.add(oldRange);
            this.rangeList.add(range);
            if (this.rangeList.ranges.length != 2) {
                this.rangeList.removeAll();
                return $blockChangeEvents || this.fromOrientedRange(range);
            }
            this.rangeList.removeAll();
            this.rangeList.add(oldRange);
            this.$onAddRange(oldRange);
        }

        if (!range.cursor)
            range.cursor = range.end;

        var removed = this.rangeList.add(range);

        this.$onAddRange(range);

        if (removed.length)
            this.$onRemoveRange(removed);

        if (this.rangeCount > 1 && !this.inMultiSelectMode) {
            this._emit("multiSelect");
            this.inMultiSelectMode = true;
            this.session.$undoSelect = false;
            this.rangeList.attach(this.session);
        }

        return $blockChangeEvents || this.fromOrientedRange(range);
    };

    this.toSingleRange = function(range) {
        range = range || this.ranges[0];
        var removed = this.rangeList.removeAll();
        if (removed.length)
            this.$onRemoveRange(removed);

        range && this.fromOrientedRange(range);
    };
    this.substractPoint = function(pos) {
        var removed = this.rangeList.substractPoint(pos);
        if (removed) {
            this.$onRemoveRange(removed);
            return removed[0];
        }
    };
    this.mergeOverlappingRanges = function() {
        var removed = this.rangeList.merge();
        if (removed.length)
            this.$onRemoveRange(removed);
        else if(this.ranges[0])
            this.fromOrientedRange(this.ranges[0]);
    };

    this.$onAddRange = function(range) {
        this.rangeCount = this.rangeList.ranges.length;
        this.ranges.unshift(range);
        this._emit("addRange", {range: range});
    };

    this.$onRemoveRange = function(removed) {
        this.rangeCount = this.rangeList.ranges.length;
        if (this.rangeCount == 1 && this.inMultiSelectMode) {
            var lastRange = this.rangeList.ranges.pop();
            removed.push(lastRange);
            this.rangeCount = 0;
        }

        for (var i = removed.length; i--; ) {
            var index = this.ranges.indexOf(removed[i]);
            this.ranges.splice(index, 1);
        }

        this._emit("removeRange", {ranges: removed});

        if (this.rangeCount == 0 && this.inMultiSelectMode) {
            this.inMultiSelectMode = false;
            this._emit("singleSelect");
            this.session.$undoSelect = true;
            this.rangeList.detach(this.session);
        }

        lastRange = lastRange || this.ranges[0];
        if (lastRange && !lastRange.isEqual(this.getRange()))
            this.fromOrientedRange(lastRange);
    };
    this.$initRangeList = function() {
        if (this.rangeList)
            return;

        this.rangeList = new RangeList();
        this.ranges = [];
        this.rangeCount = 0;
    };
    this.getAllRanges = function() {
        return this.rangeList.ranges.concat();
    };

    this.splitIntoLines = function () {
        if (this.rangeCount > 1) {
            var ranges = this.rangeList.ranges;
            var lastRange = ranges[ranges.length - 1];
            var range = Range.fromPoints(ranges[0].start, lastRange.end);

            this.toSingleRange();
            this.setSelectionRange(range, lastRange.cursor == lastRange.start);
        } else {
            var range = this.getRange();
            var isBackwards = this.isBackwards();
            var startRow = range.start.row;
            var endRow = range.end.row;
            if (startRow == endRow) {
                if (isBackwards)
                    var start = range.end, end = range.start;
                else
                    var start = range.start, end = range.end;
                
                this.addRange(Range.fromPoints(end, end));
                this.addRange(Range.fromPoints(start, start));
                return;
            }

            var rectSel = [];
            var r = this.getLineRange(startRow, true);
            r.start.column = range.start.column;
            rectSel.push(r);

            for (var i = startRow + 1; i < endRow; i++)
                rectSel.push(this.getLineRange(i, true));

            r = this.getLineRange(endRow, true);
            r.end.column = range.end.column;
            rectSel.push(r);

            rectSel.forEach(this.addRange, this);
        }
    };
    this.toggleBlockSelection = function () {
        if (this.rangeCount > 1) {
            var ranges = this.rangeList.ranges;
            var lastRange = ranges[ranges.length - 1];
            var range = Range.fromPoints(ranges[0].start, lastRange.end);

            this.toSingleRange();
            this.setSelectionRange(range, lastRange.cursor == lastRange.start);
        } else {
            var cursor = this.session.documentToScreenPosition(this.selectionLead);
            var anchor = this.session.documentToScreenPosition(this.selectionAnchor);

            var rectSel = this.rectangularRangeBlock(cursor, anchor);
            rectSel.forEach(this.addRange, this);
        }
    };
    this.rectangularRangeBlock = function(screenCursor, screenAnchor, includeEmptyLines) {
        var rectSel = [];

        var xBackwards = screenCursor.column < screenAnchor.column;
        if (xBackwards) {
            var startColumn = screenCursor.column;
            var endColumn = screenAnchor.column;
        } else {
            var startColumn = screenAnchor.column;
            var endColumn = screenCursor.column;
        }

        var yBackwards = screenCursor.row < screenAnchor.row;
        if (yBackwards) {
            var startRow = screenCursor.row;
            var endRow = screenAnchor.row;
        } else {
            var startRow = screenAnchor.row;
            var endRow = screenCursor.row;
        }

        if (startColumn < 0)
            startColumn = 0;
        if (startRow < 0)
            startRow = 0;

        if (startRow == endRow)
            includeEmptyLines = true;

        for (var row = startRow; row <= endRow; row++) {
            var range = Range.fromPoints(
                this.session.screenToDocumentPosition(row, startColumn),
                this.session.screenToDocumentPosition(row, endColumn)
            );
            if (range.isEmpty()) {
                if (docEnd && isSamePoint(range.end, docEnd))
                    break;
                var docEnd = range.end;
            }
            range.cursor = xBackwards ? range.start : range.end;
            rectSel.push(range);
        }

        if (yBackwards)
            rectSel.reverse();

        if (!includeEmptyLines) {
            var end = rectSel.length - 1;
            while (rectSel[end].isEmpty() && end > 0)
                end--;
            if (end > 0) {
                var start = 0;
                while (rectSel[start].isEmpty())
                    start++;
            }
            for (var i = end; i >= start; i--) {
                if (rectSel[i].isEmpty())
                    rectSel.splice(i, 1);
            }
        }

        return rectSel;
    };
}).call(Selection.prototype);
var Editor = acequire("./editor").Editor;
(function() {
    this.updateSelectionMarkers = function() {
        this.renderer.updateCursor();
        this.renderer.updateBackMarkers();
    };
    this.addSelectionMarker = function(orientedRange) {
        if (!orientedRange.cursor)
            orientedRange.cursor = orientedRange.end;

        var style = this.getSelectionStyle();
        orientedRange.marker = this.session.addMarker(orientedRange, "ace_selection", style);

        this.session.$selectionMarkers.push(orientedRange);
        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;
        return orientedRange;
    };
    this.removeSelectionMarker = function(range) {
        if (!range.marker)
            return;
        this.session.removeMarker(range.marker);
        var index = this.session.$selectionMarkers.indexOf(range);
        if (index != -1)
            this.session.$selectionMarkers.splice(index, 1);
        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;
    };

    this.removeSelectionMarkers = function(ranges) {
        var markerList = this.session.$selectionMarkers;
        for (var i = ranges.length; i--; ) {
            var range = ranges[i];
            if (!range.marker)
                continue;
            this.session.removeMarker(range.marker);
            var index = markerList.indexOf(range);
            if (index != -1)
                markerList.splice(index, 1);
        }
        this.session.selectionMarkerCount = markerList.length;
    };

    this.$onAddRange = function(e) {
        this.addSelectionMarker(e.range);
        this.renderer.updateCursor();
        this.renderer.updateBackMarkers();
    };

    this.$onRemoveRange = function(e) {
        this.removeSelectionMarkers(e.ranges);
        this.renderer.updateCursor();
        this.renderer.updateBackMarkers();
    };

    this.$onMultiSelect = function(e) {
        if (this.inMultiSelectMode)
            return;
        this.inMultiSelectMode = true;

        this.setStyle("ace_multiselect");
        this.keyBinding.addKeyboardHandler(commands.keyboardHandler);
        this.commands.setDefaultHandler("exec", this.$onMultiSelectExec);

        this.renderer.updateCursor();
        this.renderer.updateBackMarkers();
    };

    this.$onSingleSelect = function(e) {
        if (this.session.multiSelect.inVirtualMode)
            return;
        this.inMultiSelectMode = false;

        this.unsetStyle("ace_multiselect");
        this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);

        this.commands.removeDefaultHandler("exec", this.$onMultiSelectExec);
        this.renderer.updateCursor();
        this.renderer.updateBackMarkers();
    };

    this.$onMultiSelectExec = function(e) {
        var command = e.command;
        var editor = e.editor;
        if (!editor.multiSelect)
            return;
        if (!command.multiSelectAction) {
            var result = command.exec(editor, e.args || {});
            editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());
            editor.multiSelect.mergeOverlappingRanges();
        } else if (command.multiSelectAction == "forEach") {
            result = editor.forEachSelection(command, e.args);
        } else if (command.multiSelectAction == "forEachLine") {
            result = editor.forEachSelection(command, e.args, true);
        } else if (command.multiSelectAction == "single") {
            editor.exitMultiSelectMode();
            result = command.exec(editor, e.args || {});
        } else {
            result = command.multiSelectAction(editor, e.args || {});
        }
        return result;
    }; 
    this.forEachSelection = function(cmd, args, $byLines) {
        if (this.inVirtualSelectionMode)
            return;

        var session = this.session;
        var selection = this.selection;
        var rangeList = selection.rangeList;
        var result;
        
        var reg = selection._eventRegistry;
        selection._eventRegistry = {};

        var tmpSel = new Selection(session);
        this.inVirtualSelectionMode = true;
        for (var i = rangeList.ranges.length; i--;) {
            if ($byLines) {
                while (i > 0 && rangeList.ranges[i].start.row == rangeList.ranges[i - 1].end.row)
                    i--;
            }
            tmpSel.fromOrientedRange(rangeList.ranges[i]);
            this.selection = session.selection = tmpSel;
            var cmdResult = cmd.exec(this, args || {});
            if (!result == undefined)
                result = cmdResult;
            tmpSel.toOrientedRange(rangeList.ranges[i]);
        }
        tmpSel.detach();

        this.selection = session.selection = selection;
        this.inVirtualSelectionMode = false;
        selection._eventRegistry = reg;
        selection.mergeOverlappingRanges();
        
        var anim = this.renderer.$scrollAnimation;
        this.onCursorChange();
        this.onSelectionChange();
        if (anim && anim.from == anim.to)
            this.renderer.animateScrolling(anim.from);
        
        return result;
    };
    this.exitMultiSelectMode = function() {
        if (!this.inMultiSelectMode || this.inVirtualSelectionMode)
            return;
        this.multiSelect.toSingleRange();
    };

    this.getCopyText = function() {
        var text = "";
        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
            var ranges = this.multiSelect.rangeList.ranges;
            var buf = [];
            for (var i = 0; i < ranges.length; i++) {
                buf.push(this.session.getTextRange(ranges[i]));
            }
            var nl = this.session.getDocument().getNewLineCharacter();
            text = buf.join(nl);
            if (text.length == (buf.length - 1) * nl.length)
                text = "";
        } else if (!this.selection.isEmpty()) {
            text = this.session.getTextRange(this.getSelectionRange());
        }
        this._signal("copy", text);
        return text;
    };
    this.onPaste = function(text) {
        if (this.$readOnly)
            return;

        this._signal("paste", text);
        if (!this.inMultiSelectMode || this.inVirtualSelectionMode)
            return this.insert(text);

        var lines = text.split(/\r\n|\r|\n/);
        var ranges = this.selection.rangeList.ranges;

        if (lines.length > ranges.length || lines.length < 2 || !lines[1])
            return this.commands.exec("insertstring", this, text);

        for (var i = ranges.length; i--;) {
            var range = ranges[i];
            if (!range.isEmpty())
                this.session.remove(range);

            this.session.insert(range.start, lines[i]);
        }
    };
    this.findAll = function(needle, options, additive) {
        options = options || {};
        options.needle = needle || options.needle;
        this.$search.set(options);

        var ranges = this.$search.findAll(this.session);
        if (!ranges.length)
            return 0;

        this.$blockScrolling += 1;
        var selection = this.multiSelect;

        if (!additive)
            selection.toSingleRange(ranges[0]);

        for (var i = ranges.length; i--; )
            selection.addRange(ranges[i], true);

        this.$blockScrolling -= 1;

        return ranges.length;
    };
    this.selectMoreLines = function(dir, skip) {
        var range = this.selection.toOrientedRange();
        var isBackwards = range.cursor == range.end;

        var screenLead = this.session.documentToScreenPosition(range.cursor);
        if (this.selection.$desiredColumn)
            screenLead.column = this.selection.$desiredColumn;

        var lead = this.session.screenToDocumentPosition(screenLead.row + dir, screenLead.column);

        if (!range.isEmpty()) {
            var screenAnchor = this.session.documentToScreenPosition(isBackwards ? range.end : range.start);
            var anchor = this.session.screenToDocumentPosition(screenAnchor.row + dir, screenAnchor.column);
        } else {
            var anchor = lead;
        }

        if (isBackwards) {
            var newRange = Range.fromPoints(lead, anchor);
            newRange.cursor = newRange.start;
        } else {
            var newRange = Range.fromPoints(anchor, lead);
            newRange.cursor = newRange.end;
        }

        newRange.desiredColumn = screenLead.column;
        if (!this.selection.inMultiSelectMode) {
            this.selection.addRange(range);
        } else {
            if (skip)
                var toRemove = range.cursor;
        }

        this.selection.addRange(newRange);
        if (toRemove)
            this.selection.substractPoint(toRemove);
    };
    this.transposeSelections = function(dir) {
        var session = this.session;
        var sel = session.multiSelect;
        var all = sel.ranges;

        for (var i = all.length; i--; ) {
            var range = all[i];
            if (range.isEmpty()) {
                var tmp = session.getWordRange(range.start.row, range.start.column);
                range.start.row = tmp.start.row;
                range.start.column = tmp.start.column;
                range.end.row = tmp.end.row;
                range.end.column = tmp.end.column;
            }
        }
        sel.mergeOverlappingRanges();

        var words = [];
        for (var i = all.length; i--; ) {
            var range = all[i];
            words.unshift(session.getTextRange(range));
        }

        if (dir < 0)
            words.unshift(words.pop());
        else
            words.push(words.shift());

        for (var i = all.length; i--; ) {
            var range = all[i];
            var tmp = range.clone();
            session.replace(range, words[i]);
            range.start.row = tmp.start.row;
            range.start.column = tmp.start.column;
        }
    };
    this.selectMore = function(dir, skip) {
        var session = this.session;
        var sel = session.multiSelect;

        var range = sel.toOrientedRange();
        if (range.isEmpty()) {
            var range = session.getWordRange(range.start.row, range.start.column);
            range.cursor = range.end;
            this.multiSelect.addRange(range);
        }
        var needle = session.getTextRange(range);

        var newRange = find(session, needle, dir);
        if (newRange) {
            newRange.cursor = dir == -1 ? newRange.start : newRange.end;
            this.multiSelect.addRange(newRange);
        }
        if (skip)
            this.multiSelect.substractPoint(range.cursor);
    };
    this.alignCursors = function() {
        var session = this.session;
        var sel = session.multiSelect;
        var ranges = sel.ranges;

        if (!ranges.length) {
            var range = this.selection.getRange();
            var fr = range.start.row, lr = range.end.row;
            var lines = this.session.doc.removeLines(fr, lr);
            lines = this.$reAlignText(lines);
            this.session.doc.insertLines(fr, lines);
            range.start.column = 0;
            range.end.column = lines[lines.length - 1].length;
            this.selection.setRange(range);
        } else {
            var row = -1;
            var sameRowRanges = ranges.filter(function(r) {
                if (r.cursor.row == row)
                    return true;
                row = r.cursor.row;
            });
            sel.$onRemoveRange(sameRowRanges);

            var maxCol = 0;
            var minSpace = Infinity;
            var spaceOffsets = ranges.map(function(r) {
                var p = r.cursor;
                var line = session.getLine(p.row);
                var spaceOffset = line.substr(p.column).search(/\S/g);
                if (spaceOffset == -1)
                    spaceOffset = 0;

                if (p.column > maxCol)
                    maxCol = p.column;
                if (spaceOffset < minSpace)
                    minSpace = spaceOffset;
                return spaceOffset;
            });
            ranges.forEach(function(r, i) {
                var p = r.cursor;
                var l = maxCol - p.column;
                var d = spaceOffsets[i] - minSpace;
                if (l > d)
                    session.insert(p, lang.stringRepeat(" ", l - d));
                else
                    session.remove(new Range(p.row, p.column, p.row, p.column - l + d));

                r.start.column = r.end.column = maxCol;
                r.start.row = r.end.row = p.row;
                r.cursor = r.end;
            });
            sel.fromOrientedRange(ranges[0]);
            this.renderer.updateCursor();
            this.renderer.updateBackMarkers();
        }
    };

    this.$reAlignText = function(lines) {
        var isLeftAligned = true, isRightAligned = true;
        var startW, textW, endW;

        return lines.map(function(line) {
            var m = line.match(/(\s*)(.*?)(\s*)([=:].*)/);
            if (!m)
                return [line];

            if (startW == null) {
                startW = m[1].length;
                textW = m[2].length;
                endW = m[3].length;
                return m;
            }

            if (startW + textW + endW != m[1].length + m[2].length + m[3].length)
                isRightAligned = false;
            if (startW != m[1].length)
                isLeftAligned = false;

            if (startW > m[1].length)
                startW = m[1].length;
            if (textW < m[2].length)
                textW = m[2].length;
            if (endW > m[3].length)
                endW = m[3].length;

            return m;
        }).map(isLeftAligned ? isRightAligned ? alignRight : alignLeft : unAlign);

        function spaces(n) {
            return lang.stringRepeat(" ", n);
        }

        function alignLeft(m) {
            return !m[2] ? m[0] : spaces(startW) + m[2]
                + spaces(textW - m[2].length + endW)
                + m[4].replace(/^([=:])\s+/, "$1 ")
        }
        function alignRight(m) {
            return !m[2] ? m[0] : spaces(startW + textW - m[2].length) + m[2]
                + spaces(endW, " ")
                + m[4].replace(/^([=:])\s+/, "$1 ")
        }
        function unAlign(m) {
            return !m[2] ? m[0] : spaces(startW) + m[2]
                + spaces(endW)
                + m[4].replace(/^([=:])\s+/, "$1 ")
        }
    }
}).call(Editor.prototype);


function isSamePoint(p1, p2) {
    return p1.row == p2.row && p1.column == p2.column;
}
exports.onSessionChange = function(e) {
    var session = e.session;
    if (!session.multiSelect) {
        session.$selectionMarkers = [];
        session.selection.$initRangeList();
        session.multiSelect = session.selection;
    }
    this.multiSelect = session.multiSelect;

    var oldSession = e.oldSession;
    if (oldSession) {
        oldSession.multiSelect.removeEventListener("addRange", this.$onAddRange);
        oldSession.multiSelect.removeEventListener("removeRange", this.$onRemoveRange);
        oldSession.multiSelect.removeEventListener("multiSelect", this.$onMultiSelect);
        oldSession.multiSelect.removeEventListener("singleSelect", this.$onSingleSelect);
    }

    session.multiSelect.on("addRange", this.$onAddRange);
    session.multiSelect.on("removeRange", this.$onRemoveRange);
    session.multiSelect.on("multiSelect", this.$onMultiSelect);
    session.multiSelect.on("singleSelect", this.$onSingleSelect);

    if (this.inMultiSelectMode != session.selection.inMultiSelectMode) {
        if (session.selection.inMultiSelectMode)
            this.$onMultiSelect();
        else
            this.$onSingleSelect();
    }
};
function MultiSelect(editor) {
    editor.$onAddRange = editor.$onAddRange.bind(editor);
    editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);
    editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);
    editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);

    exports.onSessionChange.call(editor, editor);
    editor.on("changeSession", exports.onSessionChange.bind(editor));

    editor.on("mousedown", onMouseDown);
    editor.commands.addCommands(commands.defaultCommands);

    addAltCursorListeners(editor);
}

function addAltCursorListeners(editor){
    var el = editor.textInput.getElement();
    var altCursor = false;
    var contentEl = editor.renderer.content;
    event.addListener(el, "keydown", function(e) {
        if (e.keyCode == 18 && !(e.ctrlKey || e.shiftKey || e.metaKey)) {
            if (!altCursor) {
                contentEl.style.cursor = "crosshair";
                altCursor = true;
            }
        } else if (altCursor) {
            contentEl.style.cursor = "";
        }
    });

    event.addListener(el, "keyup", reset);
    event.addListener(el, "blur", reset);
    function reset() {
        if (altCursor) {
            contentEl.style.cursor = "";
            altCursor = false;
        }
    }
}

exports.MultiSelect = MultiSelect;

});

ace.define('ace/mouse/multi_select_handler', ["require", 'exports', 'module' , 'ace/lib/event'], function(acequire, exports, module) {

var event = acequire("../lib/event");
function isSamePoint(p1, p2) {
    return p1.row == p2.row && p1.column == p2.column;
}

function onMouseDown(e) {
    var ev = e.domEvent;
    var alt = ev.altKey;
    var shift = ev.shiftKey;
    var ctrl = e.getAccelKey();
    var button = e.getButton();

    if (e.editor.inMultiSelectMode && button == 2) {
        e.editor.textInput.onContextMenu(e.domEvent);
        return;
    }
    
    if (!ctrl && !alt) {
        if (button == 0 && e.editor.inMultiSelectMode)
            e.editor.exitMultiSelectMode();
        return;
    }

    var editor = e.editor;
    var selection = editor.selection;
    var isMultiSelect = editor.inMultiSelectMode;
    var pos = e.getDocumentPosition();
    var cursor = selection.getCursor();
    var inSelection = e.inSelection() || (selection.isEmpty() && isSamePoint(pos, cursor));


    var mouseX = e.x, mouseY = e.y;
    var onMouseSelection = function(e) {
        mouseX = e.clientX;
        mouseY = e.clientY;
    };

    var blockSelect = function() {
        var newCursor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);
        var cursor = session.screenToDocumentPosition(newCursor.row, newCursor.column);

        if (isSamePoint(screenCursor, newCursor)
            && isSamePoint(cursor, selection.selectionLead))
            return;
        screenCursor = newCursor;

        editor.selection.moveCursorToPosition(cursor);
        editor.selection.clearSelection();
        editor.renderer.scrollCursorIntoView();

        editor.removeSelectionMarkers(rectSel);
        rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);
        rectSel.forEach(editor.addSelectionMarker, editor);
        editor.updateSelectionMarkers();
    };
    
    var session = editor.session;
    var screenAnchor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);
    var screenCursor = screenAnchor;

    

    if (ctrl && !shift && !alt && button == 0) {
        if (!isMultiSelect && inSelection)
            return; // dragging

        if (!isMultiSelect) {
            var range = selection.toOrientedRange();
            editor.addSelectionMarker(range);
        }

        var oldRange = selection.rangeList.rangeAtPoint(pos);

        editor.once("mouseup", function() {
            var tmpSel = selection.toOrientedRange();

            if (oldRange && tmpSel.isEmpty() && isSamePoint(oldRange.cursor, tmpSel.cursor))
                selection.substractPoint(tmpSel.cursor);
            else {
                if (range) {
                    editor.removeSelectionMarker(range);
                    selection.addRange(range);
                }
                selection.addRange(tmpSel);
            }
        });

    } else if (alt && button == 0) {
        e.stop();

        if (isMultiSelect && !ctrl)
            selection.toSingleRange();
        else if (!isMultiSelect && ctrl)
            selection.addRange();

        var rectSel = [];
        if (shift) {
            screenAnchor = session.documentToScreenPosition(selection.lead);
            blockSelect();
        } else {
            selection.moveCursorToPosition(pos);
            selection.clearSelection();
        }


        var onMouseSelectionEnd = function(e) {
            clearInterval(timerId);
            editor.removeSelectionMarkers(rectSel);
            for (var i = 0; i < rectSel.length; i++)
                selection.addRange(rectSel[i]);
        };

        var onSelectionInterval = blockSelect;

        event.capture(editor.container, onMouseSelection, onMouseSelectionEnd);
        var timerId = setInterval(function() {onSelectionInterval();}, 20);

        return e.preventDefault();
    }
}


exports.onMouseDown = onMouseDown;

});

ace.define('ace/commands/multi_select_commands', ["require", 'exports', 'module' , 'ace/keyboard/hash_handler'], function(acequire, exports, module) {
exports.defaultCommands = [{
    name: "addCursorAbove",
    exec: function(editor) { editor.selectMoreLines(-1); },
    bindKey: {win: "Ctrl-Alt-Up", mac: "Ctrl-Alt-Up"},
    readonly: true
}, {
    name: "addCursorBelow",
    exec: function(editor) { editor.selectMoreLines(1); },
    bindKey: {win: "Ctrl-Alt-Down", mac: "Ctrl-Alt-Down"},
    readonly: true
}, {
    name: "addCursorAboveSkipCurrent",
    exec: function(editor) { editor.selectMoreLines(-1, true); },
    bindKey: {win: "Ctrl-Alt-Shift-Up", mac: "Ctrl-Alt-Shift-Up"},
    readonly: true
}, {
    name: "addCursorBelowSkipCurrent",
    exec: function(editor) { editor.selectMoreLines(1, true); },
    bindKey: {win: "Ctrl-Alt-Shift-Down", mac: "Ctrl-Alt-Shift-Down"},
    readonly: true
}, {
    name: "selectMoreBefore",
    exec: function(editor) { editor.selectMore(-1); },
    bindKey: {win: "Ctrl-Alt-Left", mac: "Ctrl-Alt-Left"},
    readonly: true
}, {
    name: "selectMoreAfter",
    exec: function(editor) { editor.selectMore(1); },
    bindKey: {win: "Ctrl-Alt-Right", mac: "Ctrl-Alt-Right"},
    readonly: true
}, {
    name: "selectNextBefore",
    exec: function(editor) { editor.selectMore(-1, true); },
    bindKey: {win: "Ctrl-Alt-Shift-Left", mac: "Ctrl-Alt-Shift-Left"},
    readonly: true
}, {
    name: "selectNextAfter",
    exec: function(editor) { editor.selectMore(1, true); },
    bindKey: {win: "Ctrl-Alt-Shift-Right", mac: "Ctrl-Alt-Shift-Right"},
    readonly: true
}, {
    name: "splitIntoLines",
    exec: function(editor) { editor.multiSelect.splitIntoLines(); },
    bindKey: {win: "Ctrl-Alt-L", mac: "Ctrl-Alt-L"},
    readonly: true
}, {
    name: "alignCursors",
    exec: function(editor) { editor.alignCursors(); },
    bindKey: {win: "Ctrl-Alt-A", mac: "Ctrl-Alt-A"}
}];
exports.multiSelectCommands = [{
    name: "singleSelection",
    bindKey: "esc",
    exec: function(editor) { editor.exitMultiSelectMode(); },
    readonly: true,
    isAvailable: function(editor) {return editor && editor.inMultiSelectMode}
}];

var HashHandler = acequire("../keyboard/hash_handler").HashHandler;
exports.keyboardHandler = new HashHandler(exports.multiSelectCommands);

});

ace.define('ace/worker/worker_client', ["require", 'exports', 'module' , 'ace/lib/oop', 'ace/lib/event_emitter', 'ace/config'], function(acequire, exports, module) {


var oop = acequire("../lib/oop");
var EventEmitter = acequire("../lib/event_emitter").EventEmitter;
var config = acequire("../config");

var WorkerClient = function(topLevelNamespaces, mod, classname) {
    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);
    this.changeListener = this.changeListener.bind(this);
    this.onMessage = this.onMessage.bind(this);
    this.onError = this.onError.bind(this);
    if (acequire.nameToUrl && !acequire.toUrl)
        acequire.toUrl = acequire.nameToUrl;

    var workerUrl;
    if (config.get("packaged") || !acequire.toUrl) {
        workerUrl = config.moduleUrl(mod.id, "worker");
    } else {
        var normalizePath = this.$normalizePath;
        workerUrl = normalizePath(acequire.toUrl("ace/worker/worker.js", null, "_"));

        var tlns = {};
        topLevelNamespaces.forEach(function(ns) {
            tlns[ns] = normalizePath(acequire.toUrl(ns, null, "_").replace(/(\.js)?(\?.*)?$/, ""));
        });
    }

        var workerSrc = mod.src;
    var Blob = require('w3c-blob');
    var blob = new Blob([ workerSrc ], { type: 'application/javascript' });
    var blobUrl = (window.URL || window.webkitURL).createObjectURL(blob);

    this.$worker = new Worker(blobUrl);

    this.$worker.postMessage({
        init : true,
        tlns: tlns,
        module: mod.id,
        classname: classname
    });

    this.callbackId = 1;
    this.callbacks = {};

    this.$worker.onerror = this.onError;
    this.$worker.onmessage = this.onMessage;
};

(function(){

    oop.implement(this, EventEmitter);

    this.onError = function(e) {
        window.console && console.log && console.log(e);
        throw e;
    };

    this.onMessage = function(e) {
        var msg = e.data;
        switch(msg.type) {
            case "log":
                window.console && console.log && console.log.apply(console, msg.data);
                break;

            case "event":
                this._emit(msg.name, {data: msg.data});
                break;

            case "call":
                var callback = this.callbacks[msg.id];
                if (callback) {
                    callback(msg.data);
                    delete this.callbacks[msg.id];
                }
                break;
        }
    };

    this.$normalizePath = function(path) {
        if (!location.host) // needed for file:// protocol
            return path;
        path = path.replace(/^[a-z]+:\/\/[^\/]+/, ""); // Remove domain name and rebuild it
        path = location.protocol + "//" + location.host
            + (path.charAt(0) == "/" ? "" : location.pathname.replace(/\/[^\/]*$/, ""))
            + "/" + path.replace(/^[\/]+/, "");
        return path;
    };

    this.terminate = function() {
        this._emit("terminate", {});
        this.$worker.terminate();
        this.$worker = null;
        this.$doc.removeEventListener("change", this.changeListener);
        this.$doc = null;
    };

    this.send = function(cmd, args) {
        this.$worker.postMessage({command: cmd, args: args});
    };

    this.call = function(cmd, args, callback) {
        if (callback) {
            var id = this.callbackId++;
            this.callbacks[id] = callback;
            args.push(id);
        }
        this.send(cmd, args);
    };

    this.emit = function(event, data) {
        try {
            this.$worker.postMessage({event: event, data: {data: data.data}});
        }
        catch(ex) {}
    };

    this.attachToDocument = function(doc) {
        if(this.$doc)
            this.terminate();

        this.$doc = doc;
        this.call("setValue", [doc.getValue()]);
        doc.on("change", this.changeListener);
    };

    this.changeListener = function(e) {
        if (!this.deltaQueue) {
            this.deltaQueue = [e.data];
            setTimeout(this.$sendDeltaQueue, 1);
        } else
            this.deltaQueue.push(e.data);
    };

    this.$sendDeltaQueue = function() {
        var q = this.deltaQueue;
        if (!q) return;
        this.deltaQueue = null;
        if (q.length > 20 && q.length > this.$doc.getLength() >> 1) {
            this.call("setValue", [this.$doc.getValue()]);
        } else
            this.emit("change", {data: q});
    }

}).call(WorkerClient.prototype);


var UIWorkerClient = function(topLevelNamespaces, mod, classname) {
    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);
    this.changeListener = this.changeListener.bind(this);
    this.callbackId = 1;
    this.callbacks = {};
    this.messageBuffer = [];

    var main = null;
    var sender = Object.create(EventEmitter);
    var _self = this;

    this.$worker = {};
    this.$worker.terminate = function() {};
    this.$worker.postMessage = function(e) {
        _self.messageBuffer.push(e);
        main && setTimeout(processNext);
    };

    var processNext = function() {
        var msg = _self.messageBuffer.shift();
        if (msg.command)
            main[msg.command].apply(main, msg.args);
        else if (msg.event)
            sender._emit(msg.event, msg.data);
    };

    sender.postMessage = function(msg) {
        _self.onMessage({data: msg});
    };
    sender.callback = function(data, callbackId) {
        this.postMessage({type: "call", id: callbackId, data: data});
    };
    sender.emit = function(name, data) {
        this.postMessage({type: "event", name: name, data: data});
    };

    config.loadModule(["worker", mod], function(Main) {
        main = new Main[classname](sender);
        while (_self.messageBuffer.length)
            processNext();
    });
};

UIWorkerClient.prototype = WorkerClient.prototype;

exports.UIWorkerClient = UIWorkerClient;
exports.WorkerClient = WorkerClient;

});
ace.define('ace/placeholder', ["require", 'exports', 'module' , 'ace/range', 'ace/lib/event_emitter', 'ace/lib/oop'], function(acequire, exports, module) {


var Range = acequire("./range").Range;
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;
var oop = acequire("./lib/oop");

var PlaceHolder = function(session, length, pos, others, mainClass, othersClass) {
    var _self = this;
    this.length = length;
    this.session = session;
    this.doc = session.getDocument();
    this.mainClass = mainClass;
    this.othersClass = othersClass;
    this.$onUpdate = this.onUpdate.bind(this);
    this.doc.on("change", this.$onUpdate);
    this.$others = others;
    
    this.$onCursorChange = function() {
        setTimeout(function() {
            _self.onCursorChange();
        });
    };
    
    this.$pos = pos;
    var undoStack = session.getUndoManager().$undoStack || session.getUndoManager().$undostack || {length: -1};
    this.$undoStackDepth =  undoStack.length;
    this.setup();

    session.selection.on("changeCursor", this.$onCursorChange);
};

(function() {

    oop.implement(this, EventEmitter);
    this.setup = function() {
        var _self = this;
        var doc = this.doc;
        var session = this.session;
        var pos = this.$pos;

        this.pos = doc.createAnchor(pos.row, pos.column);
        this.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + this.length), this.mainClass, null, false);
        this.pos.on("change", function(event) {
            session.removeMarker(_self.markerId);
            _self.markerId = session.addMarker(new Range(event.value.row, event.value.column, event.value.row, event.value.column+_self.length), _self.mainClass, null, false);
        });
        this.others = [];
        this.$others.forEach(function(other) {
            var anchor = doc.createAnchor(other.row, other.column);
            _self.others.push(anchor);
        });
        session.setUndoSelect(false);
    };
    this.showOtherMarkers = function() {
        if(this.othersActive) return;
        var session = this.session;
        var _self = this;
        this.othersActive = true;
        this.others.forEach(function(anchor) {
            anchor.markerId = session.addMarker(new Range(anchor.row, anchor.column, anchor.row, anchor.column+_self.length), _self.othersClass, null, false);
            anchor.on("change", function(event) {
                session.removeMarker(anchor.markerId);
                anchor.markerId = session.addMarker(new Range(event.value.row, event.value.column, event.value.row, event.value.column+_self.length), _self.othersClass, null, false);
            });
        });
    };
    this.hideOtherMarkers = function() {
        if(!this.othersActive) return;
        this.othersActive = false;
        for (var i = 0; i < this.others.length; i++) {
            this.session.removeMarker(this.others[i].markerId);
        }
    };
    this.onUpdate = function(event) {
        var delta = event.data;
        var range = delta.range;
        if(range.start.row !== range.end.row) return;
        if(range.start.row !== this.pos.row) return;
        if (this.$updating) return;
        this.$updating = true;
        var lengthDiff = delta.action === "insertText" ? range.end.column - range.start.column : range.start.column - range.end.column;
        
        if(range.start.column >= this.pos.column && range.start.column <= this.pos.column + this.length + 1) {
            var distanceFromStart = range.start.column - this.pos.column;
            this.length += lengthDiff;
            if(!this.session.$fromUndo) {
                if(delta.action === "insertText") {
                    for (var i = this.others.length - 1; i >= 0; i--) {
                        var otherPos = this.others[i];
                        var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};
                        if(otherPos.row === range.start.row && range.start.column < otherPos.column)
                            newPos.column += lengthDiff;
                        this.doc.insert(newPos, delta.text);
                    }
                } else if(delta.action === "removeText") {
                    for (var i = this.others.length - 1; i >= 0; i--) {
                        var otherPos = this.others[i];
                        var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};
                        if(otherPos.row === range.start.row && range.start.column < otherPos.column)
                            newPos.column += lengthDiff;
                        this.doc.remove(new Range(newPos.row, newPos.column, newPos.row, newPos.column - lengthDiff));
                    }
                }
                if(range.start.column === this.pos.column && delta.action === "insertText") {
                    setTimeout(function() {
                        this.pos.setPosition(this.pos.row, this.pos.column - lengthDiff);
                        for (var i = 0; i < this.others.length; i++) {
                            var other = this.others[i];
                            var newPos = {row: other.row, column: other.column - lengthDiff};
                            if(other.row === range.start.row && range.start.column < other.column)
                                newPos.column += lengthDiff;
                            other.setPosition(newPos.row, newPos.column);
                        }
                    }.bind(this), 0);
                }
                else if(range.start.column === this.pos.column && delta.action === "removeText") {
                    setTimeout(function() {
                        for (var i = 0; i < this.others.length; i++) {
                            var other = this.others[i];
                            if(other.row === range.start.row && range.start.column < other.column) {
                                other.setPosition(other.row, other.column - lengthDiff);
                            }
                        }
                    }.bind(this), 0);
                }
            }
            this.pos._emit("change", {value: this.pos});
            for (var i = 0; i < this.others.length; i++) {
                this.others[i]._emit("change", {value: this.others[i]});
            }
        }
        this.$updating = false;
    };

    this.onCursorChange = function(event) {
        if (this.$updating) return;
        var pos = this.session.selection.getCursor();
        if(pos.row === this.pos.row && pos.column >= this.pos.column && pos.column <= this.pos.column + this.length) {
            this.showOtherMarkers();
            this._emit("cursorEnter", event);
        } else {
            this.hideOtherMarkers();
            this._emit("cursorLeave", event);
        }
    };    
    this.detach = function() {
        this.session.removeMarker(this.markerId);
        this.hideOtherMarkers();
        this.doc.removeEventListener("change", this.$onUpdate);
        this.session.selection.removeEventListener("changeCursor", this.$onCursorChange);
        this.pos.detach();
        for (var i = 0; i < this.others.length; i++) {
            this.others[i].detach();
        }
        this.session.setUndoSelect(true);
    };
    this.cancel = function() {
        if(this.$undoStackDepth === -1)
            throw Error("Canceling placeholders only supported with undo manager attached to session.");
        var undoManager = this.session.getUndoManager();
        var undosRequired = (undoManager.$undoStack || undoManager.$undostack).length - this.$undoStackDepth;
        for (var i = 0; i < undosRequired; i++) {
            undoManager.undo(true);
        }
    };
}).call(PlaceHolder.prototype);


exports.PlaceHolder = PlaceHolder;
});

ace.define('ace/mode/folding/fold_mode', ["require", 'exports', 'module' , 'ace/range'], function(acequire, exports, module) {


var Range = acequire("../../range").Range;

var FoldMode = exports.FoldMode = function() {};

(function() {

    this.foldingStartMarker = null;
    this.foldingStopMarker = null;
    this.getFoldWidget = function(session, foldStyle, row) {
        var line = session.getLine(row);
        if (this.foldingStartMarker.test(line))
            return "start";
        if (foldStyle == "markbeginend"
                && this.foldingStopMarker
                && this.foldingStopMarker.test(line))
            return "end";
        return "";
    };

    this.getFoldWidgetRange = function(session, foldStyle, row) {
        return null;
    };

    this.indentationBlock = function(session, row, column) {
        var re = /\S/;
        var line = session.getLine(row);
        var startLevel = line.search(re);
        if (startLevel == -1)
            return;

        var startColumn = column || line.length;
        var maxRow = session.getLength();
        var startRow = row;
        var endRow = row;

        while (++row < maxRow) {
            var level = session.getLine(row).search(re);

            if (level == -1)
                continue;

            if (level <= startLevel)
                break;

            endRow = row;
        }

        if (endRow > startRow) {
            var endColumn = session.getLine(endRow).length;
            return new Range(startRow, startColumn, endRow, endColumn);
        }
    };

    this.openingBracketBlock = function(session, bracket, row, column, typeRe) {
        var start = {row: row, column: column + 1};
        var end = session.$findClosingBracket(bracket, start, typeRe);
        if (!end)
            return;

        var fw = session.foldWidgets[end.row];
        if (fw == null)
            fw = this.getFoldWidget(session, end.row);

        if (fw == "start" && end.row > start.row) {
            end.row --;
            end.column = session.getLine(end.row).length;
        }
        return Range.fromPoints(start, end);
    };

    this.closingBracketBlock = function(session, bracket, row, column, typeRe) {
        var end = {row: row, column: column};
        var start = session.$findOpeningBracket(bracket, end);

        if (!start)
            return;

        start.column++;
        end.column--;

        return  Range.fromPoints(start, end);
    };
}).call(FoldMode.prototype);

});

ace.define('ace/theme/textmate', ["require", 'exports', 'module' , 'ace/lib/dom'], function(acequire, exports, module) {


exports.isDark = false;
exports.cssClass = "ace-tm";
exports.cssText = ".ace-tm .ace_gutter {\
background: #f0f0f0;\
color: #333;\
}\
.ace-tm .ace_print-margin {\
width: 1px;\
background: #e8e8e8;\
}\
.ace-tm .ace_fold {\
background-color: #6B72E6;\
}\
.ace-tm {\
background-color: #FFFFFF;\
}\
.ace-tm .ace_cursor {\
border-left: 2px solid black;\
}\
.ace-tm .ace_overwrite-cursors .ace_cursor {\
border-left: 0px;\
border-bottom: 1px solid black;\
}\
.ace-tm .ace_invisible {\
color: rgb(191, 191, 191);\
}\
.ace-tm .ace_storage,\
.ace-tm .ace_keyword {\
color: blue;\
}\
.ace-tm .ace_constant {\
color: rgb(197, 6, 11);\
}\
.ace-tm .ace_constant.ace_buildin {\
color: rgb(88, 72, 246);\
}\
.ace-tm .ace_constant.ace_language {\
color: rgb(88, 92, 246);\
}\
.ace-tm .ace_constant.ace_library {\
color: rgb(6, 150, 14);\
}\
.ace-tm .ace_invalid {\
background-color: rgba(255, 0, 0, 0.1);\
color: red;\
}\
.ace-tm .ace_support.ace_function {\
color: rgb(60, 76, 114);\
}\
.ace-tm .ace_support.ace_constant {\
color: rgb(6, 150, 14);\
}\
.ace-tm .ace_support.ace_type,\
.ace-tm .ace_support.ace_class {\
color: rgb(109, 121, 222);\
}\
.ace-tm .ace_keyword.ace_operator {\
color: rgb(104, 118, 135);\
}\
.ace-tm .ace_string {\
color: rgb(3, 106, 7);\
}\
.ace-tm .ace_comment {\
color: rgb(76, 136, 107);\
}\
.ace-tm .ace_comment.ace_doc {\
color: rgb(0, 102, 255);\
}\
.ace-tm .ace_comment.ace_doc.ace_tag {\
color: rgb(128, 159, 191);\
}\
.ace-tm .ace_constant.ace_numeric {\
color: rgb(0, 0, 205);\
}\
.ace-tm .ace_variable {\
color: rgb(49, 132, 149);\
}\
.ace-tm .ace_xml-pe {\
color: rgb(104, 104, 91);\
}\
.ace-tm .ace_entity.ace_name.ace_function {\
color: #0000A2;\
}\
.ace-tm .ace_markup.ace_heading {\
color: rgb(12, 7, 255);\
}\
.ace-tm .ace_markup.ace_list {\
color:rgb(185, 6, 144);\
}\
.ace-tm .ace_meta.ace_tag {\
color:rgb(0, 22, 142);\
}\
.ace-tm .ace_string.ace_regex {\
color: rgb(255, 0, 0)\
}\
.ace-tm .ace_marker-layer .ace_selection {\
background: rgb(181, 213, 255);\
}\
.ace-tm.ace_multiselect .ace_selection.ace_start {\
box-shadow: 0 0 3px 0px white;\
border-radius: 2px;\
}\
.ace-tm .ace_marker-layer .ace_step {\
background: rgb(252, 255, 0);\
}\
.ace-tm .ace_marker-layer .ace_stack {\
background: rgb(164, 229, 101);\
}\
.ace-tm .ace_marker-layer .ace_bracket {\
margin: -1px 0 0 -1px;\
border: 1px solid rgb(192, 192, 192);\
}\
.ace-tm .ace_marker-layer .ace_active-line {\
background: rgba(0, 0, 0, 0.07);\
}\
.ace-tm .ace_gutter-active-line {\
background-color : #dcdcdc;\
}\
.ace-tm .ace_marker-layer .ace_selected-word {\
background: rgb(250, 250, 255);\
border: 1px solid rgb(200, 200, 250);\
}\
.ace-tm .ace_indent-guide {\
background: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\") right repeat-y;\
}\
";

var dom = acequire("../lib/dom");
dom.importCssString(exports.cssText, exports.cssClass);
});
;
            (function() {
                ace.acequire(["ace/ace"], function(a) {
                    a && a.config.init();
                    if (!window.ace)
                        window.ace = {};
                    for (var key in a) if (a.hasOwnProperty(key))
                        ace[key] = a[key];
                });
            })();
        
module.exports = window.ace.acequire("ace/ace");
},{"w3c-blob":10}],6:[function(require,module,exports){
/* ***** BEGIN LICENSE BLOCK *****
 * Distributed under the BSD license:
 *
 * Copyright (c) 2010, Ajax.org B.V.
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *     * Redistributions of source code must retain the above copyright
 *       notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above copyright
 *       notice, this list of conditions and the following disclaimer in the
 *       documentation and/or other materials provided with the distribution.
 *     * Neither the name of Ajax.org B.V. nor the
 *       names of its contributors may be used to endorse or promote products
 *       derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY
 * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * ***** END LICENSE BLOCK ***** */

ace.define('ace/mode/coffee', ["require", 'exports', 'module' , 'ace/tokenizer', 'ace/mode/coffee_highlight_rules', 'ace/mode/matching_brace_outdent', 'ace/mode/folding/coffee', 'ace/range', 'ace/mode/text', 'ace/worker/worker_client', 'ace/lib/oop'], function(acequire, exports, module) {


var Tokenizer = acequire("../tokenizer").Tokenizer;
var Rules = acequire("./coffee_highlight_rules").CoffeeHighlightRules;
var Outdent = acequire("./matching_brace_outdent").MatchingBraceOutdent;
var FoldMode = acequire("./folding/coffee").FoldMode;
var Range = acequire("../range").Range;
var TextMode = acequire("./text").Mode;
var WorkerClient = acequire("../worker/worker_client").WorkerClient;
var oop = acequire("../lib/oop");

function Mode() {
    this.$tokenizer = new Tokenizer(new Rules().getRules());
    this.$outdent = new Outdent();
    this.foldingRules = new FoldMode();
}

oop.inherits(Mode, TextMode);

(function() {
    
    var indenter = /(?:[({[=:]|[-=]>|\b(?:else|switch|try|catch(?:\s*[$A-Za-z_\x7f-\uffff][$\w\x7f-\uffff]*)?|finally))\s*$/;
    var commentLine = /^(\s*)#/;
    var hereComment = /^\s*###(?!#)/;
    var indentation = /^\s*/;
    
    this.getNextLineIndent = function(state, line, tab) {
        var indent = this.$getIndent(line);
        var tokens = this.$tokenizer.getLineTokens(line, state).tokens;
    
        if (!(tokens.length && tokens[tokens.length - 1].type === 'comment') &&
            state === 'start' && indenter.test(line))
            indent += tab;
        return indent;
    };
    
    this.toggleCommentLines = function(state, doc, startRow, endRow){
        console.log("toggle");
        var range = new Range(0, 0, 0, 0);
        for (var i = startRow; i <= endRow; ++i) {
            var line = doc.getLine(i);
            if (hereComment.test(line))
                continue;
                
            if (commentLine.test(line))
                line = line.replace(commentLine, '$1');
            else
                line = line.replace(indentation, '$&#');
    
            range.end.row = range.start.row = i;
            range.end.column = line.length + 1;
            doc.replace(range, line);
        }
    };
    
    this.checkOutdent = function(state, line, input) {
        return this.$outdent.checkOutdent(line, input);
    };
    
    this.autoOutdent = function(state, doc, row) {
        this.$outdent.autoOutdent(doc, row);
    };
    
    this.createWorker = function(session) {
        var worker = new WorkerClient(["ace"], require("../worker/coffee"), "Worker");
        worker.attachToDocument(session.getDocument());
        
        worker.on("error", function(e) {
            session.setAnnotations([e.data]);
        });
        
        worker.on("ok", function(e) {
            session.clearAnnotations();
        });
        
        return worker;
    };

}).call(Mode.prototype);

exports.Mode = Mode;

});

ace.define('ace/mode/coffee_highlight_rules', ["require", 'exports', 'module' , 'ace/lib/oop', 'ace/mode/text_highlight_rules'], function(acequire, exports, module) {


    var oop = acequire("../lib/oop");
    var TextHighlightRules = acequire("./text_highlight_rules").TextHighlightRules;

    oop.inherits(CoffeeHighlightRules, TextHighlightRules);

    function CoffeeHighlightRules() {
        var identifier = "[$A-Za-z_\\x7f-\\uffff][$\\w\\x7f-\\uffff]*";

        var keywords = (
            "this|throw|then|try|typeof|super|switch|return|break|by|continue|" +
            "catch|class|in|instanceof|is|isnt|if|else|extends|for|forown|" +
            "finally|function|while|when|new|no|not|delete|debugger|do|loop|of|off|" +
            "or|on|unless|until|and|yes"
        );

        var langConstant = (
            "true|false|null|undefined|NaN|Infinity"
        );

        var illegal = (
            "case|const|default|function|var|void|with|enum|export|implements|" +
            "interface|let|package|private|protected|public|static|yield|" +
            "__hasProp|slice|bind|indexOf"
        );

        var supportClass = (
            "Array|Boolean|Date|Function|Number|Object|RegExp|ReferenceError|String|" +
            "Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|" +
            "SyntaxError|TypeError|URIError|"  +
            "ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|" +
            "Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray"
        );

        var supportFunction = (
            "Math|JSON|isNaN|isFinite|parseInt|parseFloat|encodeURI|" +
            "encodeURIComponent|decodeURI|decodeURIComponent|String|"
        );

        var variableLanguage = (
            "window|arguments|prototype|document"
        );

        var keywordMapper = this.createKeywordMapper({
            "keyword": keywords,
            "constant.language": langConstant,
            "invalid.illegal": illegal,
            "language.support.class": supportClass,
            "language.support.function": supportFunction,
            "variable.language": variableLanguage
        }, "identifier");

        var functionRule = {
            token: ["paren.lparen", "variable.parameter", "paren.rparen", "text", "storage.type"],
            regex: /(?:(\()((?:"[^")]*?"|'[^')]*?'|\/[^\/)]*?\/|[^()\"'\/])*?)(\))(\s*))?([\-=]>)/.source
        };

        var stringEscape = /\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)/;

        this.$rules = {
            start : [
                {
                    token : "constant.numeric",
                    regex : "(?:0x[\\da-fA-F]+|(?:\\d+(?:\\.\\d+)?|\\.\\d+)(?:[eE][+-]?\\d+)?)"
                }, {
                    stateName: "qdoc",
                    token : "string", regex : "'''", next : [
                        {token : "string", regex : "'''", next : "start"},
                        {token : "constant.language.escape", regex : stringEscape},
                        {defaultToken: "string"}
                    ]
                }, {
                    stateName: "qqdoc",
                    token : "string",
                    regex : '"""',
                    next : [
                        {token : "string", regex : '"""', next : "start"},
                        {token : "paren.string", regex : '#{', push : "start"},
                        {token : "constant.language.escape", regex : stringEscape},
                        {defaultToken: "string"}
                    ]
                }, {
                    stateName: "qstring",
                    token : "string", regex : "'", next : [
                        {token : "string", regex : "'", next : "start"},
                        {token : "constant.language.escape", regex : stringEscape},
                        {defaultToken: "string"}
                    ]
                }, {
                    stateName: "qqstring",
                    token : "string.start", regex : '"', next : [
                        {token : "string.end", regex : '"', next : "start"},
                        {token : "paren.string", regex : '#{', push : "start"},
                        {token : "constant.language.escape", regex : stringEscape},
                        {defaultToken: "string"}
                    ]
                }, {
                    stateName: "js",
                    token : "string", regex : "`", next : [
                        {token : "string", regex : "`", next : "start"},
                        {token : "constant.language.escape", regex : stringEscape},
                        {defaultToken: "string"}
                    ]
                }, {
                    regex: "[{}]", onMatch: function(val, state, stack) {
                        this.next = "";
                        if (val == "{" && stack.length) {
                            stack.unshift("start", state);
                            return "paren";
                        }
                        if (val == "}" && stack.length) {
                            stack.shift();
                            this.next = stack.shift();
                            if (this.next.indexOf("string") != -1)
                                return "paren.string";
                        }
                        return "paren";
                    }
                }, {
                    token : "string.regex",
                    regex : "///",
                    next : "heregex"
                }, {
                    token : "string.regex",
                    regex : /(?:\/(?![\s=])[^[\/\n\\]*(?:(?:\\[\s\S]|\[[^\]\n\\]*(?:\\[\s\S][^\]\n\\]*)*])[^[\/\n\\]*)*\/)(?:[imgy]{0,4})(?!\w)/
                }, {
                    token : "comment",
                    regex : "###(?!#)",
                    next : "comment"
                }, {
                    token : "comment",
                    regex : "#.*"
                }, {
                    token : ["punctuation.operator", "text", "identifier"],
                    regex : "(\\.)(\\s*)(" + illegal + ")"
                }, {
                    token : "punctuation.operator",
                    regex : "\\."
                }, {
                    token : ["keyword", "text", "language.support.class",
                     "text", "keyword", "text", "language.support.class"],
                    regex : "(class)(\\s+)(" + identifier + ")(?:(\\s+)(extends)(\\s+)(" + identifier + "))?"
                }, {
                    token : ["entity.name.function", "text", "keyword.operator", "text"].concat(functionRule.token),
                    regex : "(" + identifier + ")(\\s*)([=:])(\\s*)" + functionRule.regex
                }, 
                functionRule, 
                {
                    token : "variable",
                    regex : "@(?:" + identifier + ")?"
                }, {
                    token: keywordMapper,
                    regex : identifier
                }, {
                    token : "punctuation.operator",
                    regex : "\\,|\\."
                }, {
                    token : "storage.type",
                    regex : "[\\-=]>"
                }, {
                    token : "keyword.operator",
                    regex : "(?:[-+*/%<>&|^!?=]=|>>>=?|\\-\\-|\\+\\+|::|&&=|\\|\\|=|<<=|>>=|\\?\\.|\\.{2,3}|[!*+-=><])"
                }, {
                    token : "paren.lparen",
                    regex : "[({[]"
                }, {
                    token : "paren.rparen",
                    regex : "[\\]})]"
                }, {
                    token : "text",
                    regex : "\\s+"
                }],


            heregex : [{
                token : "string.regex",
                regex : '.*?///[imgy]{0,4}',
                next : "start"
            }, {
                token : "comment.regex",
                regex : "\\s+(?:#.*)?"
            }, {
                token : "string.regex",
                regex : "\\S+"
            }],

            comment : [{
                token : "comment",
                regex : '###',
                next : "start"
            }, {
                defaultToken : "comment"
            }]
        };
        this.normalizeRules();
    }

    exports.CoffeeHighlightRules = CoffeeHighlightRules;
});

ace.define('ace/mode/matching_brace_outdent', ["require", 'exports', 'module' , 'ace/range'], function(acequire, exports, module) {


var Range = acequire("../range").Range;

var MatchingBraceOutdent = function() {};

(function() {

    this.checkOutdent = function(line, input) {
        if (! /^\s+$/.test(line))
            return false;

        return /^\s*\}/.test(input);
    };

    this.autoOutdent = function(doc, row) {
        var line = doc.getLine(row);
        var match = line.match(/^(\s*\})/);

        if (!match) return 0;

        var column = match[1].length;
        var openBracePos = doc.findMatchingBracket({row: row, column: column});

        if (!openBracePos || openBracePos.row == row) return 0;

        var indent = this.$getIndent(doc.getLine(openBracePos.row));
        doc.replace(new Range(row, 0, row, column-1), indent);
    };

    this.$getIndent = function(line) {
        return line.match(/^\s*/)[0];
    };

}).call(MatchingBraceOutdent.prototype);

exports.MatchingBraceOutdent = MatchingBraceOutdent;
});

ace.define('ace/mode/folding/coffee', ["require", 'exports', 'module' , 'ace/lib/oop', 'ace/mode/folding/fold_mode', 'ace/range'], function(acequire, exports, module) {


var oop = acequire("../../lib/oop");
var BaseFoldMode = acequire("./fold_mode").FoldMode;
var Range = acequire("../../range").Range;

var FoldMode = exports.FoldMode = function() {};
oop.inherits(FoldMode, BaseFoldMode);

(function() {

    this.getFoldWidgetRange = function(session, foldStyle, row) {
        var range = this.indentationBlock(session, row);
        if (range)
            return range;

        var re = /\S/;
        var line = session.getLine(row);
        var startLevel = line.search(re);
        if (startLevel == -1 || line[startLevel] != "#")
            return;

        var startColumn = line.length;
        var maxRow = session.getLength();
        var startRow = row;
        var endRow = row;

        while (++row < maxRow) {
            line = session.getLine(row);
            var level = line.search(re);

            if (level == -1)
                continue;

            if (line[level] != "#")
                break;

            endRow = row;
        }

        if (endRow > startRow) {
            var endColumn = session.getLine(endRow).length;
            return new Range(startRow, startColumn, endRow, endColumn);
        }
    };
    this.getFoldWidget = function(session, foldStyle, row) {
        var line = session.getLine(row);
        var indent = line.search(/\S/);
        var next = session.getLine(row + 1);
        var prev = session.getLine(row - 1);
        var prevIndent = prev.search(/\S/);
        var nextIndent = next.search(/\S/);

        if (indent == -1) {
            session.foldWidgets[row - 1] = prevIndent!= -1 && prevIndent < nextIndent ? "start" : "";
            return "";
        }
        if (prevIndent == -1) {
            if (indent == nextIndent && line[indent] == "#" && next[indent] == "#") {
                session.foldWidgets[row - 1] = "";
                session.foldWidgets[row + 1] = "";
                return "start";
            }
        } else if (prevIndent == indent && line[indent] == "#" && prev[indent] == "#") {
            if (session.getLine(row - 2).search(/\S/) == -1) {
                session.foldWidgets[row - 1] = "start";
                session.foldWidgets[row + 1] = "";
                return "";
            }
        }

        if (prevIndent!= -1 && prevIndent < indent)
            session.foldWidgets[row - 1] = "start";
        else
            session.foldWidgets[row - 1] = "";

        if (indent < nextIndent)
            return "start";
        else
            return "";
    };

}).call(FoldMode.prototype);

});

},{"../worker/coffee":15}],7:[function(require,module,exports){
/* ***** BEGIN LICENSE BLOCK *****
 * Distributed under the BSD license:
 *
 * Copyright (c) 2010, Ajax.org B.V.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *     * Redistributions of source code must retain the above copyright
 *       notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above copyright
 *       notice, this list of conditions and the following disclaimer in the
 *       documentation and/or other materials provided with the distribution.
 *     * Neither the name of Ajax.org B.V. nor the
 *       names of its contributors may be used to endorse or promote products
 *       derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY
 * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * ***** END LICENSE BLOCK ***** */

ace.define('ace/mode/javascript', ["require", 'exports', 'module' , 'ace/lib/oop', 'ace/mode/text', 'ace/tokenizer', 'ace/mode/javascript_highlight_rules', 'ace/mode/matching_brace_outdent', 'ace/range', 'ace/worker/worker_client', 'ace/mode/behaviour/cstyle', 'ace/mode/folding/cstyle'], function(acequire, exports, module) {


var oop = acequire("../lib/oop");
var TextMode = acequire("./text").Mode;
var Tokenizer = acequire("../tokenizer").Tokenizer;
var JavaScriptHighlightRules = acequire("./javascript_highlight_rules").JavaScriptHighlightRules;
var MatchingBraceOutdent = acequire("./matching_brace_outdent").MatchingBraceOutdent;
var Range = acequire("../range").Range;
var WorkerClient = acequire("../worker/worker_client").WorkerClient;
var CstyleBehaviour = acequire("./behaviour/cstyle").CstyleBehaviour;
var CStyleFoldMode = acequire("./folding/cstyle").FoldMode;

var Mode = function() {
    this.$tokenizer = new Tokenizer(new JavaScriptHighlightRules().getRules());
    this.$outdent = new MatchingBraceOutdent();
    this.$behaviour = new CstyleBehaviour();
    this.foldingRules = new CStyleFoldMode();
};
oop.inherits(Mode, TextMode);

(function() {

    this.lineCommentStart = "//";
    this.blockComment = {start: "/*", end: "*/"};

    this.getNextLineIndent = function(state, line, tab) {
        var indent = this.$getIndent(line);

        var tokenizedLine = this.$tokenizer.getLineTokens(line, state);
        var tokens = tokenizedLine.tokens;
        var endState = tokenizedLine.state;

        if (tokens.length && tokens[tokens.length-1].type == "comment") {
            return indent;
        }

        if (state == "start" || state == "no_regex") {
            var match = line.match(/^.*(?:\bcase\b.*\:|[\{\(\[])\s*$/);
            if (match) {
                indent += tab;
            }
        } else if (state == "doc-start") {
            if (endState == "start" || endState == "no_regex") {
                return "";
            }
            var match = line.match(/^\s*(\/?)\*/);
            if (match) {
                if (match[1]) {
                    indent += " ";
                }
                indent += "* ";
            }
        }

        return indent;
    };

    this.checkOutdent = function(state, line, input) {
        return this.$outdent.checkOutdent(line, input);
    };

    this.autoOutdent = function(state, doc, row) {
        this.$outdent.autoOutdent(doc, row);
    };

    this.createWorker = function(session) {
        var worker = new WorkerClient(["ace"], require("../worker/javascript"), "JavaScriptWorker");
        worker.attachToDocument(session.getDocument());

        worker.on("jslint", function(results) {
            session.setAnnotations(results.data);
        });

        worker.on("terminate", function() {
            session.clearAnnotations();
        });

        return worker;
    };

}).call(Mode.prototype);

exports.Mode = Mode;
});

ace.define('ace/mode/javascript_highlight_rules', ["require", 'exports', 'module' , 'ace/lib/oop', 'ace/mode/doc_comment_highlight_rules', 'ace/mode/text_highlight_rules'], function(acequire, exports, module) {


var oop = acequire("../lib/oop");
var DocCommentHighlightRules = acequire("./doc_comment_highlight_rules").DocCommentHighlightRules;
var TextHighlightRules = acequire("./text_highlight_rules").TextHighlightRules;

var JavaScriptHighlightRules = function() {
    var keywordMapper = this.createKeywordMapper({
        "variable.language":
            "Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|"  + // Constructors
            "Namespace|QName|XML|XMLList|"                                             + // E4X
            "ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|"   +
            "Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|"                    +
            "Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|"   + // Errors
            "SyntaxError|TypeError|URIError|"                                          +
            "decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|" + // Non-constructor functions
            "isNaN|parseFloat|parseInt|"                                               +
            "JSON|Math|"                                                               + // Other
            "this|arguments|prototype|window|document"                                 , // Pseudo
        "keyword":
            "const|yield|import|get|set|" +
            "break|case|catch|continue|default|delete|do|else|finally|for|function|" +
            "if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|" +
            "__parent__|__count__|escape|unescape|with|__proto__|" +
            "class|enum|extends|super|export|implements|private|public|interface|package|protected|static",
        "storage.type":
            "const|let|var|function",
        "constant.language":
            "null|Infinity|NaN|undefined",
        "support.function":
            "alert",
        "constant.language.boolean": "true|false"
    }, "identifier");
    var kwBeforeRe = "case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void";
    var identifierRe = "[a-zA-Z\\$_\u00a1-\uffff][a-zA-Z\\d\\$_\u00a1-\uffff]*\\b";

    var escapedRe = "\\\\(?:x[0-9a-fA-F]{2}|" + // hex
        "u[0-9a-fA-F]{4}|" + // unicode
        "[0-2][0-7]{0,2}|" + // oct
        "3[0-6][0-7]?|" + // oct
        "37[0-7]?|" + // oct
        "[4-7][0-7]?|" + //oct
        ".)";

    this.$rules = {
        "no_regex" : [
            {
                token : "comment",
                regex : /\/\/.*$/
            },
            DocCommentHighlightRules.getStartRule("doc-start"),
            {
                token : "comment", // multi line comment
                regex : /\/\*/,
                next : "comment"
            }, {
                token : "string",
                regex : "'(?=.)",
                next  : "qstring"
            }, {
                token : "string",
                regex : '"(?=.)',
                next  : "qqstring"
            }, {
                token : "constant.numeric", // hex
                regex : /0[xX][0-9a-fA-F]+\b/
            }, {
                token : "constant.numeric", // float
                regex : /[+-]?\d+(?:(?:\.\d*)?(?:[eE][+-]?\d+)?)?\b/
            }, {
                token : [
                    "storage.type", "punctuation.operator", "support.function",
                    "punctuation.operator", "entity.name.function", "text","keyword.operator"
                ],
                regex : "(" + identifierRe + ")(\\.)(prototype)(\\.)(" + identifierRe +")(\\s*)(=)",
                next: "function_arguments"
            }, {
                token : [
                    "storage.type", "punctuation.operator", "entity.name.function", "text",
                    "keyword.operator", "text", "storage.type", "text", "paren.lparen"
                ],
                regex : "(" + identifierRe + ")(\\.)(" + identifierRe +")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : [
                    "entity.name.function", "text", "keyword.operator", "text", "storage.type",
                    "text", "paren.lparen"
                ],
                regex : "(" + identifierRe +")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : [
                    "storage.type", "punctuation.operator", "entity.name.function", "text",
                    "keyword.operator", "text",
                    "storage.type", "text", "entity.name.function", "text", "paren.lparen"
                ],
                regex : "(" + identifierRe + ")(\\.)(" + identifierRe +")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : [
                    "storage.type", "text", "entity.name.function", "text", "paren.lparen"
                ],
                regex : "(function)(\\s+)(" + identifierRe + ")(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : [
                    "entity.name.function", "text", "punctuation.operator",
                    "text", "storage.type", "text", "paren.lparen"
                ],
                regex : "(" + identifierRe + ")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : [
                    "text", "text", "storage.type", "text", "paren.lparen"
                ],
                regex : "(:)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : "keyword",
                regex : "(?:" + kwBeforeRe + ")\\b",
                next : "start"
            }, {
                token : ["punctuation.operator", "support.function"],
                regex : /(\.)(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:opzzzz|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/
            }, {
                token : ["punctuation.operator", "support.function.dom"],
                regex : /(\.)(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/
            }, {
                token : ["punctuation.operator", "support.constant"],
                regex : /(\.)(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/
            }, {
                token : ["storage.type", "punctuation.operator", "support.function.firebug"],
                regex : /(console)(\.)(warn|info|log|error|time|timeEnd|assert)\b/
            }, {
                token : keywordMapper,
                regex : identifierRe
            }, {
                token : "keyword.operator",
                regex : /--|\+\+|[!$%&*+\-~]|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\|\||\?\:|\*=|%=|\+=|\-=|&=|\^=/,
                next  : "start"
            }, {
                token : "punctuation.operator",
                regex : /\?|\:|\,|\;|\./,
                next  : "start"
            }, {
                token : "paren.lparen",
                regex : /[\[({]/,
                next  : "start"
            }, {
                token : "paren.rparen",
                regex : /[\])}]/
            }, {
                token : "keyword.operator",
                regex : /\/=?/,
                next  : "start"
            }, {
                token: "comment",
                regex: /^#!.*$/
            }
        ],
        "start": [
            DocCommentHighlightRules.getStartRule("doc-start"),
            {
                token : "comment", // multi line comment
                regex : "\\/\\*",
                next : "comment_regex_allowed"
            }, {
                token : "comment",
                regex : "\\/\\/.*$",
                next : "start"
            }, {
                token: "string.regexp",
                regex: "\\/",
                next: "regex"
            }, {
                token : "text",
                regex : "\\s+|^$",
                next : "start"
            }, {
                token: "empty",
                regex: "",
                next: "no_regex"
            }
        ],
        "regex": [
            {
                token: "regexp.keyword.operator",
                regex: "\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"
            }, {
                token: "string.regexp",
                regex: "/\\w*",
                next: "no_regex"
            }, {
                token : "invalid",
                regex: /\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/
            }, {
                token : "constant.language.escape",
                regex: /\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?]/
            }, {
                token : "constant.language.delimiter",
                regex: /\|/
            }, {
                token: "constant.language.escape",
                regex: /\[\^?/,
                next: "regex_character_class"
            }, {
                token: "empty",
                regex: "$",
                next: "no_regex"
            }, {
                defaultToken: "string.regexp"
            }
        ],
        "regex_character_class": [
            {
                token: "regexp.keyword.operator",
                regex: "\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"
            }, {
                token: "constant.language.escape",
                regex: "]",
                next: "regex"
            }, {
                token: "constant.language.escape",
                regex: "-"
            }, {
                token: "empty",
                regex: "$",
                next: "no_regex"
            }, {
                defaultToken: "string.regexp.charachterclass"
            }
        ],
        "function_arguments": [
            {
                token: "variable.parameter",
                regex: identifierRe
            }, {
                token: "punctuation.operator",
                regex: "[, ]+"
            }, {
                token: "punctuation.operator",
                regex: "$"
            }, {
                token: "empty",
                regex: "",
                next: "no_regex"
            }
        ],
        "comment_regex_allowed" : [
            {token : "comment", regex : "\\*\\/", next : "start"},
            {defaultToken : "comment"}
        ],
        "comment" : [
            {token : "comment", regex : "\\*\\/", next : "no_regex"},
            {defaultToken : "comment"}
        ],
        "qqstring" : [
            {
                token : "constant.language.escape",
                regex : escapedRe
            }, {
                token : "string",
                regex : "\\\\$",
                next  : "qqstring"
            }, {
                token : "string",
                regex : '"|$',
                next  : "no_regex"
            }, {
                defaultToken: "string"
            }
        ],
        "qstring" : [
            {
                token : "constant.language.escape",
                regex : escapedRe
            }, {
                token : "string",
                regex : "\\\\$",
                next  : "qstring"
            }, {
                token : "string",
                regex : "'|$",
                next  : "no_regex"
            }, {
                defaultToken: "string"
            }
        ]
    };

    this.embedRules(DocCommentHighlightRules, "doc-",
        [ DocCommentHighlightRules.getEndRule("no_regex") ]);
};

oop.inherits(JavaScriptHighlightRules, TextHighlightRules);

exports.JavaScriptHighlightRules = JavaScriptHighlightRules;
});

ace.define('ace/mode/doc_comment_highlight_rules', ["require", 'exports', 'module' , 'ace/lib/oop', 'ace/mode/text_highlight_rules'], function(acequire, exports, module) {


var oop = acequire("../lib/oop");
var TextHighlightRules = acequire("./text_highlight_rules").TextHighlightRules;

var DocCommentHighlightRules = function() {

    this.$rules = {
        "start" : [ {
            token : "comment.doc.tag",
            regex : "@[\\w\\d_]+" // TODO: fix email addresses
        }, {
            token : "comment.doc.tag",
            regex : "\\bTODO\\b"
        }, {
            defaultToken : "comment.doc"
        }]
    };
};

oop.inherits(DocCommentHighlightRules, TextHighlightRules);

DocCommentHighlightRules.getStartRule = function(start) {
    return {
        token : "comment.doc", // doc comment
        regex : "\\/\\*(?=\\*)",
        next  : start
    };
};

DocCommentHighlightRules.getEndRule = function (start) {
    return {
        token : "comment.doc", // closing comment
        regex : "\\*\\/",
        next  : start
    };
};


exports.DocCommentHighlightRules = DocCommentHighlightRules;

});

ace.define('ace/mode/matching_brace_outdent', ["require", 'exports', 'module' , 'ace/range'], function(acequire, exports, module) {


var Range = acequire("../range").Range;

var MatchingBraceOutdent = function() {};

(function() {

    this.checkOutdent = function(line, input) {
        if (! /^\s+$/.test(line))
            return false;

        return /^\s*\}/.test(input);
    };

    this.autoOutdent = function(doc, row) {
        var line = doc.getLine(row);
        var match = line.match(/^(\s*\})/);

        if (!match) return 0;

        var column = match[1].length;
        var openBracePos = doc.findMatchingBracket({row: row, column: column});

        if (!openBracePos || openBracePos.row == row) return 0;

        var indent = this.$getIndent(doc.getLine(openBracePos.row));
        doc.replace(new Range(row, 0, row, column-1), indent);
    };

    this.$getIndent = function(line) {
        return line.match(/^\s*/)[0];
    };

}).call(MatchingBraceOutdent.prototype);

exports.MatchingBraceOutdent = MatchingBraceOutdent;
});

ace.define('ace/mode/behaviour/cstyle', ["require", 'exports', 'module' , 'ace/lib/oop', 'ace/mode/behaviour', 'ace/token_iterator', 'ace/lib/lang'], function(acequire, exports, module) {


var oop = acequire("../../lib/oop");
var Behaviour = acequire("../behaviour").Behaviour;
var TokenIterator = acequire("../../token_iterator").TokenIterator;
var lang = acequire("../../lib/lang");

var SAFE_INSERT_IN_TOKENS =
    ["text", "paren.rparen", "punctuation.operator"];
var SAFE_INSERT_BEFORE_TOKENS =
    ["text", "paren.rparen", "punctuation.operator", "comment"];


var autoInsertedBrackets = 0;
var autoInsertedRow = -1;
var autoInsertedLineEnd = "";
var maybeInsertedBrackets = 0;
var maybeInsertedRow = -1;
var maybeInsertedLineStart = "";
var maybeInsertedLineEnd = "";

var CstyleBehaviour = function () {
    
    CstyleBehaviour.isSaneInsertion = function(editor, session) {
        var cursor = editor.getCursorPosition();
        var iterator = new TokenIterator(session, cursor.row, cursor.column);
        if (!this.$matchTokenType(iterator.getCurrentToken() || "text", SAFE_INSERT_IN_TOKENS)) {
            var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);
            if (!this.$matchTokenType(iterator2.getCurrentToken() || "text", SAFE_INSERT_IN_TOKENS))
                return false;
        }
        iterator.stepForward();
        return iterator.getCurrentTokenRow() !== cursor.row ||
            this.$matchTokenType(iterator.getCurrentToken() || "text", SAFE_INSERT_BEFORE_TOKENS);
    };
    
    CstyleBehaviour.$matchTokenType = function(token, types) {
        return types.indexOf(token.type || token) > -1;
    };
    
    CstyleBehaviour.recordAutoInsert = function(editor, session, bracket) {
        var cursor = editor.getCursorPosition();
        var line = session.doc.getLine(cursor.row);
        if (!this.isAutoInsertedClosing(cursor, line, autoInsertedLineEnd[0]))
            autoInsertedBrackets = 0;
        autoInsertedRow = cursor.row;
        autoInsertedLineEnd = bracket + line.substr(cursor.column);
        autoInsertedBrackets++;
    };
    
    CstyleBehaviour.recordMaybeInsert = function(editor, session, bracket) {
        var cursor = editor.getCursorPosition();
        var line = session.doc.getLine(cursor.row);
        if (!this.isMaybeInsertedClosing(cursor, line))
            maybeInsertedBrackets = 0;
        maybeInsertedRow = cursor.row;
        maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;
        maybeInsertedLineEnd = line.substr(cursor.column);
        maybeInsertedBrackets++;
    };
    
    CstyleBehaviour.isAutoInsertedClosing = function(cursor, line, bracket) {
        return autoInsertedBrackets > 0 &&
            cursor.row === autoInsertedRow &&
            bracket === autoInsertedLineEnd[0] &&
            line.substr(cursor.column) === autoInsertedLineEnd;
    };
    
    CstyleBehaviour.isMaybeInsertedClosing = function(cursor, line) {
        return maybeInsertedBrackets > 0 &&
            cursor.row === maybeInsertedRow &&
            line.substr(cursor.column) === maybeInsertedLineEnd &&
            line.substr(0, cursor.column) == maybeInsertedLineStart;
    };
    
    CstyleBehaviour.popAutoInsertedClosing = function() {
        autoInsertedLineEnd = autoInsertedLineEnd.substr(1);
        autoInsertedBrackets--;
    };
    
    CstyleBehaviour.clearMaybeInsertedClosing = function() {
        maybeInsertedBrackets = 0;
        maybeInsertedRow = -1;
    };

    this.add("braces", "insertion", function (state, action, editor, session, text) {
        var cursor = editor.getCursorPosition();
        var line = session.doc.getLine(cursor.row);
        if (text == '{') {
            var selection = editor.getSelectionRange();
            var selected = session.doc.getTextRange(selection);
            if (selected !== "" && selected !== "{" && editor.getWrapBehavioursEnabled()) {
                return {
                    text: '{' + selected + '}',
                    selection: false
                };
            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
                if (/[\]\}\)]/.test(line[cursor.column])) {
                    CstyleBehaviour.recordAutoInsert(editor, session, "}");
                    return {
                        text: '{}',
                        selection: [1, 1]
                    };
                } else {
                    CstyleBehaviour.recordMaybeInsert(editor, session, "{");
                    return {
                        text: '{',
                        selection: [1, 1]
                    };
                }
            }
        } else if (text == '}') {
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            if (rightChar == '}') {
                var matching = session.$findOpeningBracket('}', {column: cursor.column + 1, row: cursor.row});
                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
                    CstyleBehaviour.popAutoInsertedClosing();
                    return {
                        text: '',
                        selection: [1, 1]
                    };
                }
            }
        } else if (text == "\n" || text == "\r\n") {
            var closing = "";
            if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {
                closing = lang.stringRepeat("}", maybeInsertedBrackets);
                CstyleBehaviour.clearMaybeInsertedClosing();
            }
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            if (rightChar == '}' || closing !== "") {
                var openBracePos = session.findMatchingBracket({row: cursor.row, column: cursor.column}, '}');
                if (!openBracePos)
                     return null;

                var indent = this.getNextLineIndent(state, line.substring(0, cursor.column), session.getTabString());
                var next_indent = this.$getIndent(line);

                return {
                    text: '\n' + indent + '\n' + next_indent + closing,
                    selection: [1, indent.length, 1, indent.length]
                };
            }
        }
    });

    this.add("braces", "deletion", function (state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && selected == '{') {
            var line = session.doc.getLine(range.start.row);
            var rightChar = line.substring(range.end.column, range.end.column + 1);
            if (rightChar == '}') {
                range.end.column++;
                return range;
            } else {
                maybeInsertedBrackets--;
            }
        }
    });

    this.add("parens", "insertion", function (state, action, editor, session, text) {
        if (text == '(') {
            var selection = editor.getSelectionRange();
            var selected = session.doc.getTextRange(selection);
            if (selected !== "" && editor.getWrapBehavioursEnabled()) {
                return {
                    text: '(' + selected + ')',
                    selection: false
                };
            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
                CstyleBehaviour.recordAutoInsert(editor, session, ")");
                return {
                    text: '()',
                    selection: [1, 1]
                };
            }
        } else if (text == ')') {
            var cursor = editor.getCursorPosition();
            var line = session.doc.getLine(cursor.row);
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            if (rightChar == ')') {
                var matching = session.$findOpeningBracket(')', {column: cursor.column + 1, row: cursor.row});
                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
                    CstyleBehaviour.popAutoInsertedClosing();
                    return {
                        text: '',
                        selection: [1, 1]
                    };
                }
            }
        }
    });

    this.add("parens", "deletion", function (state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && selected == '(') {
            var line = session.doc.getLine(range.start.row);
            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
            if (rightChar == ')') {
                range.end.column++;
                return range;
            }
        }
    });

    this.add("brackets", "insertion", function (state, action, editor, session, text) {
        if (text == '[') {
            var selection = editor.getSelectionRange();
            var selected = session.doc.getTextRange(selection);
            if (selected !== "" && editor.getWrapBehavioursEnabled()) {
                return {
                    text: '[' + selected + ']',
                    selection: false
                };
            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
                CstyleBehaviour.recordAutoInsert(editor, session, "]");
                return {
                    text: '[]',
                    selection: [1, 1]
                };
            }
        } else if (text == ']') {
            var cursor = editor.getCursorPosition();
            var line = session.doc.getLine(cursor.row);
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            if (rightChar == ']') {
                var matching = session.$findOpeningBracket(']', {column: cursor.column + 1, row: cursor.row});
                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
                    CstyleBehaviour.popAutoInsertedClosing();
                    return {
                        text: '',
                        selection: [1, 1]
                    };
                }
            }
        }
    });

    this.add("brackets", "deletion", function (state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && selected == '[') {
            var line = session.doc.getLine(range.start.row);
            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
            if (rightChar == ']') {
                range.end.column++;
                return range;
            }
        }
    });

    this.add("string_dquotes", "insertion", function (state, action, editor, session, text) {
        if (text == '"' || text == "'") {
            var quote = text;
            var selection = editor.getSelectionRange();
            var selected = session.doc.getTextRange(selection);
            if (selected !== "" && selected !== "'" && selected != '"' && editor.getWrapBehavioursEnabled()) {
                return {
                    text: quote + selected + quote,
                    selection: false
                };
            } else {
                var cursor = editor.getCursorPosition();
                var line = session.doc.getLine(cursor.row);
                var leftChar = line.substring(cursor.column-1, cursor.column);
                if (leftChar == '\\') {
                    return null;
                }
                var tokens = session.getTokens(selection.start.row);
                var col = 0, token;
                var quotepos = -1; // Track whether we're inside an open quote.

                for (var x = 0; x < tokens.length; x++) {
                    token = tokens[x];
                    if (token.type == "string") {
                      quotepos = -1;
                    } else if (quotepos < 0) {
                      quotepos = token.value.indexOf(quote);
                    }
                    if ((token.value.length + col) > selection.start.column) {
                        break;
                    }
                    col += tokens[x].value.length;
                }
                if (!token || (quotepos < 0 && token.type !== "comment" && (token.type !== "string" || ((selection.start.column !== token.value.length+col-1) && token.value.lastIndexOf(quote) === token.value.length-1)))) {
                    if (!CstyleBehaviour.isSaneInsertion(editor, session))
                        return;
                    return {
                        text: quote + quote,
                        selection: [1,1]
                    };
                } else if (token && token.type === "string") {
                    var rightChar = line.substring(cursor.column, cursor.column + 1);
                    if (rightChar == quote) {
                        return {
                            text: '',
                            selection: [1, 1]
                        };
                    }
                }
            }
        }
    });

    this.add("string_dquotes", "deletion", function (state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && (selected == '"' || selected == "'")) {
            var line = session.doc.getLine(range.start.row);
            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
            if (rightChar == selected) {
                range.end.column++;
                return range;
            }
        }
    });

};

oop.inherits(CstyleBehaviour, Behaviour);

exports.CstyleBehaviour = CstyleBehaviour;
});

ace.define('ace/mode/folding/cstyle', ["require", 'exports', 'module' , 'ace/lib/oop', 'ace/range', 'ace/mode/folding/fold_mode'], function(acequire, exports, module) {


var oop = acequire("../../lib/oop");
var Range = acequire("../../range").Range;
var BaseFoldMode = acequire("./fold_mode").FoldMode;

var FoldMode = exports.FoldMode = function(commentRegex) {
    if (commentRegex) {
        this.foldingStartMarker = new RegExp(
            this.foldingStartMarker.source.replace(/\|[^|]*?$/, "|" + commentRegex.start)
        );
        this.foldingStopMarker = new RegExp(
            this.foldingStopMarker.source.replace(/\|[^|]*?$/, "|" + commentRegex.end)
        );
    }
};
oop.inherits(FoldMode, BaseFoldMode);

(function() {

    this.foldingStartMarker = /(\{|\[)[^\}\]]*$|^\s*(\/\*)/;
    this.foldingStopMarker = /^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/;

    this.getFoldWidgetRange = function(session, foldStyle, row) {
        var line = session.getLine(row);
        var match = line.match(this.foldingStartMarker);
        if (match) {
            var i = match.index;

            if (match[1])
                return this.openingBracketBlock(session, match[1], row, i);

            return session.getCommentFoldRange(row, i + match[0].length, 1);
        }

        if (foldStyle !== "markbeginend")
            return;

        var match = line.match(this.foldingStopMarker);
        if (match) {
            var i = match.index + match[0].length;

            if (match[1])
                return this.closingBracketBlock(session, match[1], row, i);

            return session.getCommentFoldRange(row, i, -1);
        }
    };

}).call(FoldMode.prototype);

});

},{"../worker/javascript":16}],8:[function(require,module,exports){
/* ***** BEGIN LICENSE BLOCK *****
 * Distributed under the BSD license:
 *
 * Copyright (c) 2010, Ajax.org B.V.
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *     * Redistributions of source code must retain the above copyright
 *       notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above copyright
 *       notice, this list of conditions and the following disclaimer in the
 *       documentation and/or other materials provided with the distribution.
 *     * Neither the name of Ajax.org B.V. nor the
 *       names of its contributors may be used to endorse or promote products
 *       derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY
 * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * ***** END LICENSE BLOCK ***** */

ace.define('ace/mode/json', ["require", 'exports', 'module' , 'ace/lib/oop', 'ace/mode/text', 'ace/tokenizer', 'ace/mode/json_highlight_rules', 'ace/mode/matching_brace_outdent', 'ace/mode/behaviour/cstyle', 'ace/mode/folding/cstyle', 'ace/worker/worker_client'], function(acequire, exports, module) {


var oop = acequire("../lib/oop");
var TextMode = acequire("./text").Mode;
var Tokenizer = acequire("../tokenizer").Tokenizer;
var HighlightRules = acequire("./json_highlight_rules").JsonHighlightRules;
var MatchingBraceOutdent = acequire("./matching_brace_outdent").MatchingBraceOutdent;
var CstyleBehaviour = acequire("./behaviour/cstyle").CstyleBehaviour;
var CStyleFoldMode = acequire("./folding/cstyle").FoldMode;
var WorkerClient = acequire("../worker/worker_client").WorkerClient;

var Mode = function() {
    this.$tokenizer = new Tokenizer(new HighlightRules().getRules());
    this.$outdent = new MatchingBraceOutdent();
    this.$behaviour = new CstyleBehaviour();
    this.foldingRules = new CStyleFoldMode();
};
oop.inherits(Mode, TextMode);

(function() {

    this.getNextLineIndent = function(state, line, tab) {
        var indent = this.$getIndent(line);

        if (state == "start") {
            var match = line.match(/^.*[\{\(\[]\s*$/);
            if (match) {
                indent += tab;
            }
        }

        return indent;
    };

    this.checkOutdent = function(state, line, input) {
        return this.$outdent.checkOutdent(line, input);
    };

    this.autoOutdent = function(state, doc, row) {
        this.$outdent.autoOutdent(doc, row);
    };

    this.createWorker = function(session) {
        var worker = new WorkerClient(["ace"], require("../worker/json"), "JsonWorker");
        worker.attachToDocument(session.getDocument());

        worker.on("error", function(e) {
            session.setAnnotations([e.data]);
        });

        worker.on("ok", function() {
            session.clearAnnotations();
        });

        return worker;
    };


}).call(Mode.prototype);

exports.Mode = Mode;
});

ace.define('ace/mode/json_highlight_rules', ["require", 'exports', 'module' , 'ace/lib/oop', 'ace/mode/text_highlight_rules'], function(acequire, exports, module) {


var oop = acequire("../lib/oop");
var TextHighlightRules = acequire("./text_highlight_rules").TextHighlightRules;

var JsonHighlightRules = function() {
    this.$rules = {
        "start" : [
            {
                token : "variable", // single line
                regex : '["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'
            }, {
                token : "string", // single line
                regex : '"',
                next  : "string"
            }, {
                token : "constant.numeric", // hex
                regex : "0[xX][0-9a-fA-F]+\\b"
            }, {
                token : "constant.numeric", // float
                regex : "[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"
            }, {
                token : "constant.language.boolean",
                regex : "(?:true|false)\\b"
            }, {
                token : "invalid.illegal", // single quoted strings are not allowed
                regex : "['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"
            }, {
                token : "invalid.illegal", // comments are not allowed
                regex : "\\/\\/.*$"
            }, {
                token : "paren.lparen",
                regex : "[[({]"
            }, {
                token : "paren.rparen",
                regex : "[\\])}]"
            }, {
                token : "text",
                regex : "\\s+"
            }
        ],
        "string" : [
            {
                token : "constant.language.escape",
                regex : /\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/
            }, {
                token : "string",
                regex : '[^"\\\\]+'
            }, {
                token : "string",
                regex : '"',
                next  : "start"
            }, {
                token : "string",
                regex : "",
                next  : "start"
            }
        ]
    };
    
};

oop.inherits(JsonHighlightRules, TextHighlightRules);

exports.JsonHighlightRules = JsonHighlightRules;
});

ace.define('ace/mode/matching_brace_outdent', ["require", 'exports', 'module' , 'ace/range'], function(acequire, exports, module) {


var Range = acequire("../range").Range;

var MatchingBraceOutdent = function() {};

(function() {

    this.checkOutdent = function(line, input) {
        if (! /^\s+$/.test(line))
            return false;

        return /^\s*\}/.test(input);
    };

    this.autoOutdent = function(doc, row) {
        var line = doc.getLine(row);
        var match = line.match(/^(\s*\})/);

        if (!match) return 0;

        var column = match[1].length;
        var openBracePos = doc.findMatchingBracket({row: row, column: column});

        if (!openBracePos || openBracePos.row == row) return 0;

        var indent = this.$getIndent(doc.getLine(openBracePos.row));
        doc.replace(new Range(row, 0, row, column-1), indent);
    };

    this.$getIndent = function(line) {
        return line.match(/^\s*/)[0];
    };

}).call(MatchingBraceOutdent.prototype);

exports.MatchingBraceOutdent = MatchingBraceOutdent;
});

ace.define('ace/mode/behaviour/cstyle', ["require", 'exports', 'module' , 'ace/lib/oop', 'ace/mode/behaviour', 'ace/token_iterator', 'ace/lib/lang'], function(acequire, exports, module) {


var oop = acequire("../../lib/oop");
var Behaviour = acequire("../behaviour").Behaviour;
var TokenIterator = acequire("../../token_iterator").TokenIterator;
var lang = acequire("../../lib/lang");

var SAFE_INSERT_IN_TOKENS =
    ["text", "paren.rparen", "punctuation.operator"];
var SAFE_INSERT_BEFORE_TOKENS =
    ["text", "paren.rparen", "punctuation.operator", "comment"];


var autoInsertedBrackets = 0;
var autoInsertedRow = -1;
var autoInsertedLineEnd = "";
var maybeInsertedBrackets = 0;
var maybeInsertedRow = -1;
var maybeInsertedLineStart = "";
var maybeInsertedLineEnd = "";

var CstyleBehaviour = function () {
    
    CstyleBehaviour.isSaneInsertion = function(editor, session) {
        var cursor = editor.getCursorPosition();
        var iterator = new TokenIterator(session, cursor.row, cursor.column);
        if (!this.$matchTokenType(iterator.getCurrentToken() || "text", SAFE_INSERT_IN_TOKENS)) {
            var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);
            if (!this.$matchTokenType(iterator2.getCurrentToken() || "text", SAFE_INSERT_IN_TOKENS))
                return false;
        }
        iterator.stepForward();
        return iterator.getCurrentTokenRow() !== cursor.row ||
            this.$matchTokenType(iterator.getCurrentToken() || "text", SAFE_INSERT_BEFORE_TOKENS);
    };
    
    CstyleBehaviour.$matchTokenType = function(token, types) {
        return types.indexOf(token.type || token) > -1;
    };
    
    CstyleBehaviour.recordAutoInsert = function(editor, session, bracket) {
        var cursor = editor.getCursorPosition();
        var line = session.doc.getLine(cursor.row);
        if (!this.isAutoInsertedClosing(cursor, line, autoInsertedLineEnd[0]))
            autoInsertedBrackets = 0;
        autoInsertedRow = cursor.row;
        autoInsertedLineEnd = bracket + line.substr(cursor.column);
        autoInsertedBrackets++;
    };
    
    CstyleBehaviour.recordMaybeInsert = function(editor, session, bracket) {
        var cursor = editor.getCursorPosition();
        var line = session.doc.getLine(cursor.row);
        if (!this.isMaybeInsertedClosing(cursor, line))
            maybeInsertedBrackets = 0;
        maybeInsertedRow = cursor.row;
        maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;
        maybeInsertedLineEnd = line.substr(cursor.column);
        maybeInsertedBrackets++;
    };
    
    CstyleBehaviour.isAutoInsertedClosing = function(cursor, line, bracket) {
        return autoInsertedBrackets > 0 &&
            cursor.row === autoInsertedRow &&
            bracket === autoInsertedLineEnd[0] &&
            line.substr(cursor.column) === autoInsertedLineEnd;
    };
    
    CstyleBehaviour.isMaybeInsertedClosing = function(cursor, line) {
        return maybeInsertedBrackets > 0 &&
            cursor.row === maybeInsertedRow &&
            line.substr(cursor.column) === maybeInsertedLineEnd &&
            line.substr(0, cursor.column) == maybeInsertedLineStart;
    };
    
    CstyleBehaviour.popAutoInsertedClosing = function() {
        autoInsertedLineEnd = autoInsertedLineEnd.substr(1);
        autoInsertedBrackets--;
    };
    
    CstyleBehaviour.clearMaybeInsertedClosing = function() {
        maybeInsertedBrackets = 0;
        maybeInsertedRow = -1;
    };

    this.add("braces", "insertion", function (state, action, editor, session, text) {
        var cursor = editor.getCursorPosition();
        var line = session.doc.getLine(cursor.row);
        if (text == '{') {
            var selection = editor.getSelectionRange();
            var selected = session.doc.getTextRange(selection);
            if (selected !== "" && selected !== "{" && editor.getWrapBehavioursEnabled()) {
                return {
                    text: '{' + selected + '}',
                    selection: false
                };
            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
                if (/[\]\}\)]/.test(line[cursor.column])) {
                    CstyleBehaviour.recordAutoInsert(editor, session, "}");
                    return {
                        text: '{}',
                        selection: [1, 1]
                    };
                } else {
                    CstyleBehaviour.recordMaybeInsert(editor, session, "{");
                    return {
                        text: '{',
                        selection: [1, 1]
                    };
                }
            }
        } else if (text == '}') {
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            if (rightChar == '}') {
                var matching = session.$findOpeningBracket('}', {column: cursor.column + 1, row: cursor.row});
                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
                    CstyleBehaviour.popAutoInsertedClosing();
                    return {
                        text: '',
                        selection: [1, 1]
                    };
                }
            }
        } else if (text == "\n" || text == "\r\n") {
            var closing = "";
            if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {
                closing = lang.stringRepeat("}", maybeInsertedBrackets);
                CstyleBehaviour.clearMaybeInsertedClosing();
            }
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            if (rightChar == '}' || closing !== "") {
                var openBracePos = session.findMatchingBracket({row: cursor.row, column: cursor.column}, '}');
                if (!openBracePos)
                     return null;

                var indent = this.getNextLineIndent(state, line.substring(0, cursor.column), session.getTabString());
                var next_indent = this.$getIndent(line);

                return {
                    text: '\n' + indent + '\n' + next_indent + closing,
                    selection: [1, indent.length, 1, indent.length]
                };
            }
        }
    });

    this.add("braces", "deletion", function (state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && selected == '{') {
            var line = session.doc.getLine(range.start.row);
            var rightChar = line.substring(range.end.column, range.end.column + 1);
            if (rightChar == '}') {
                range.end.column++;
                return range;
            } else {
                maybeInsertedBrackets--;
            }
        }
    });

    this.add("parens", "insertion", function (state, action, editor, session, text) {
        if (text == '(') {
            var selection = editor.getSelectionRange();
            var selected = session.doc.getTextRange(selection);
            if (selected !== "" && editor.getWrapBehavioursEnabled()) {
                return {
                    text: '(' + selected + ')',
                    selection: false
                };
            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
                CstyleBehaviour.recordAutoInsert(editor, session, ")");
                return {
                    text: '()',
                    selection: [1, 1]
                };
            }
        } else if (text == ')') {
            var cursor = editor.getCursorPosition();
            var line = session.doc.getLine(cursor.row);
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            if (rightChar == ')') {
                var matching = session.$findOpeningBracket(')', {column: cursor.column + 1, row: cursor.row});
                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
                    CstyleBehaviour.popAutoInsertedClosing();
                    return {
                        text: '',
                        selection: [1, 1]
                    };
                }
            }
        }
    });

    this.add("parens", "deletion", function (state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && selected == '(') {
            var line = session.doc.getLine(range.start.row);
            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
            if (rightChar == ')') {
                range.end.column++;
                return range;
            }
        }
    });

    this.add("brackets", "insertion", function (state, action, editor, session, text) {
        if (text == '[') {
            var selection = editor.getSelectionRange();
            var selected = session.doc.getTextRange(selection);
            if (selected !== "" && editor.getWrapBehavioursEnabled()) {
                return {
                    text: '[' + selected + ']',
                    selection: false
                };
            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
                CstyleBehaviour.recordAutoInsert(editor, session, "]");
                return {
                    text: '[]',
                    selection: [1, 1]
                };
            }
        } else if (text == ']') {
            var cursor = editor.getCursorPosition();
            var line = session.doc.getLine(cursor.row);
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            if (rightChar == ']') {
                var matching = session.$findOpeningBracket(']', {column: cursor.column + 1, row: cursor.row});
                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
                    CstyleBehaviour.popAutoInsertedClosing();
                    return {
                        text: '',
                        selection: [1, 1]
                    };
                }
            }
        }
    });

    this.add("brackets", "deletion", function (state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && selected == '[') {
            var line = session.doc.getLine(range.start.row);
            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
            if (rightChar == ']') {
                range.end.column++;
                return range;
            }
        }
    });

    this.add("string_dquotes", "insertion", function (state, action, editor, session, text) {
        if (text == '"' || text == "'") {
            var quote = text;
            var selection = editor.getSelectionRange();
            var selected = session.doc.getTextRange(selection);
            if (selected !== "" && selected !== "'" && selected != '"' && editor.getWrapBehavioursEnabled()) {
                return {
                    text: quote + selected + quote,
                    selection: false
                };
            } else {
                var cursor = editor.getCursorPosition();
                var line = session.doc.getLine(cursor.row);
                var leftChar = line.substring(cursor.column-1, cursor.column);
                if (leftChar == '\\') {
                    return null;
                }
                var tokens = session.getTokens(selection.start.row);
                var col = 0, token;
                var quotepos = -1; // Track whether we're inside an open quote.

                for (var x = 0; x < tokens.length; x++) {
                    token = tokens[x];
                    if (token.type == "string") {
                      quotepos = -1;
                    } else if (quotepos < 0) {
                      quotepos = token.value.indexOf(quote);
                    }
                    if ((token.value.length + col) > selection.start.column) {
                        break;
                    }
                    col += tokens[x].value.length;
                }
                if (!token || (quotepos < 0 && token.type !== "comment" && (token.type !== "string" || ((selection.start.column !== token.value.length+col-1) && token.value.lastIndexOf(quote) === token.value.length-1)))) {
                    if (!CstyleBehaviour.isSaneInsertion(editor, session))
                        return;
                    return {
                        text: quote + quote,
                        selection: [1,1]
                    };
                } else if (token && token.type === "string") {
                    var rightChar = line.substring(cursor.column, cursor.column + 1);
                    if (rightChar == quote) {
                        return {
                            text: '',
                            selection: [1, 1]
                        };
                    }
                }
            }
        }
    });

    this.add("string_dquotes", "deletion", function (state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && (selected == '"' || selected == "'")) {
            var line = session.doc.getLine(range.start.row);
            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
            if (rightChar == selected) {
                range.end.column++;
                return range;
            }
        }
    });

};

oop.inherits(CstyleBehaviour, Behaviour);

exports.CstyleBehaviour = CstyleBehaviour;
});

ace.define('ace/mode/folding/cstyle', ["require", 'exports', 'module' , 'ace/lib/oop', 'ace/range', 'ace/mode/folding/fold_mode'], function(acequire, exports, module) {


var oop = acequire("../../lib/oop");
var Range = acequire("../../range").Range;
var BaseFoldMode = acequire("./fold_mode").FoldMode;

var FoldMode = exports.FoldMode = function(commentRegex) {
    if (commentRegex) {
        this.foldingStartMarker = new RegExp(
            this.foldingStartMarker.source.replace(/\|[^|]*?$/, "|" + commentRegex.start)
        );
        this.foldingStopMarker = new RegExp(
            this.foldingStopMarker.source.replace(/\|[^|]*?$/, "|" + commentRegex.end)
        );
    }
};
oop.inherits(FoldMode, BaseFoldMode);

(function() {

    this.foldingStartMarker = /(\{|\[)[^\}\]]*$|^\s*(\/\*)/;
    this.foldingStopMarker = /^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/;

    this.getFoldWidgetRange = function(session, foldStyle, row) {
        var line = session.getLine(row);
        var match = line.match(this.foldingStartMarker);
        if (match) {
            var i = match.index;

            if (match[1])
                return this.openingBracketBlock(session, match[1], row, i);

            return session.getCommentFoldRange(row, i + match[0].length, 1);
        }

        if (foldStyle !== "markbeginend")
            return;

        var match = line.match(this.foldingStopMarker);
        if (match) {
            var i = match.index + match[0].length;

            if (match[1])
                return this.closingBracketBlock(session, match[1], row, i);

            return session.getCommentFoldRange(row, i, -1);
        }
    };

}).call(FoldMode.prototype);

});

},{"../worker/json":17}],9:[function(require,module,exports){
/* ***** BEGIN LICENSE BLOCK *****
 * Distributed under the BSD license:
 *
 * Copyright (c) 2010, Ajax.org B.V.
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *     * Redistributions of source code must retain the above copyright
 *       notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above copyright
 *       notice, this list of conditions and the following disclaimer in the
 *       documentation and/or other materials provided with the distribution.
 *     * Neither the name of Ajax.org B.V. nor the
 *       names of its contributors may be used to endorse or promote products
 *       derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY
 * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * ***** END LICENSE BLOCK ***** */

ace.define('ace/mode/lua', ["require", 'exports', 'module' , 'ace/lib/oop', 'ace/mode/text', 'ace/tokenizer', 'ace/mode/lua_highlight_rules', 'ace/mode/folding/lua', 'ace/range', 'ace/worker/worker_client'], function(acequire, exports, module) {


var oop = acequire("../lib/oop");
var TextMode = acequire("./text").Mode;
var Tokenizer = acequire("../tokenizer").Tokenizer;
var LuaHighlightRules = acequire("./lua_highlight_rules").LuaHighlightRules;
var LuaFoldMode = acequire("./folding/lua").FoldMode;
var Range = acequire("../range").Range;
var WorkerClient = acequire("../worker/worker_client").WorkerClient;

var Mode = function() {
    this.$tokenizer = new Tokenizer(new LuaHighlightRules().getRules());
    this.foldingRules = new LuaFoldMode();
};
oop.inherits(Mode, TextMode);

(function() {
   
    this.lineCommentStart = "--";
    this.blockComment = {start: "--[", end: "]--"};
    
    var indentKeywords = {
        "function": 1,
        "then": 1,
        "do": 1,
        "else": 1,
        "elseif": 1,
        "repeat": 1,
        "end": -1,
        "until": -1
    };
    var outdentKeywords = [
        "else",
        "elseif",
        "end",
        "until"
    ];

    function getNetIndentLevel(tokens) {
        var level = 0;
        for (var i = 0; i < tokens.length; i++) {
            var token = tokens[i];
            if (token.type == "keyword") {
                if (token.value in indentKeywords) {
                    level += indentKeywords[token.value];
                }
            } else if (token.type == "paren.lparen") {
                level ++;
            } else if (token.type == "paren.rparen") {
                level --;
            }
        }
        if (level < 0) {
            return -1;
        } else if (level > 0) {
            return 1;
        } else {
            return 0;
        }
    }

    this.getNextLineIndent = function(state, line, tab) {
        var indent = this.$getIndent(line);
        var level = 0;

        var tokenizedLine = this.$tokenizer.getLineTokens(line, state);
        var tokens = tokenizedLine.tokens;

        if (state == "start") {
            level = getNetIndentLevel(tokens);
        }
        if (level > 0) {
            return indent + tab;
        } else if (level < 0 && indent.substr(indent.length - tab.length) == tab) {
            if (!this.checkOutdent(state, line, "\n")) {
                return indent.substr(0, indent.length - tab.length);
            }
        }
        return indent;
    };

    this.checkOutdent = function(state, line, input) {
        if (input != "\n" && input != "\r" && input != "\r\n")
            return false;

        if (line.match(/^\s*[\)\}\]]$/))
            return true;

        var tokens = this.$tokenizer.getLineTokens(line.trim(), state).tokens;

        if (!tokens || !tokens.length)
            return false;

        return (tokens[0].type == "keyword" && outdentKeywords.indexOf(tokens[0].value) != -1);
    };

    this.autoOutdent = function(state, session, row) {
        var prevLine = session.getLine(row - 1);
        var prevIndent = this.$getIndent(prevLine).length;
        var prevTokens = this.$tokenizer.getLineTokens(prevLine, "start").tokens;
        var tabLength = session.getTabString().length;
        var expectedIndent = prevIndent + tabLength * getNetIndentLevel(prevTokens);
        var curIndent = this.$getIndent(session.getLine(row)).length;
        if (curIndent < expectedIndent) {
            return;
        }
        session.outdentRows(new Range(row, 0, row + 2, 0));
    };

    this.createWorker = function(session) {
        var worker = new WorkerClient(["ace"], require("../worker/lua"), "Worker");
        worker.attachToDocument(session.getDocument());
        
        worker.on("error", function(e) {
            session.setAnnotations([e.data]);
        });
        
        worker.on("ok", function(e) {
            session.clearAnnotations();
        });
        
        return worker;
    };

}).call(Mode.prototype);

exports.Mode = Mode;
});

ace.define('ace/mode/lua_highlight_rules', ["require", 'exports', 'module' , 'ace/lib/oop', 'ace/mode/text_highlight_rules'], function(acequire, exports, module) {


var oop = acequire("../lib/oop");
var TextHighlightRules = acequire("./text_highlight_rules").TextHighlightRules;

var LuaHighlightRules = function() {

    var keywords = (
        "break|do|else|elseif|end|for|function|if|in|local|repeat|"+
         "return|then|until|while|or|and|not"
    );

    var builtinConstants = ("true|false|nil|_G|_VERSION");

    var functions = (
        "string|xpcall|package|tostring|print|os|unpack|acequire|"+
        "getfenv|setmetatable|next|assert|tonumber|io|rawequal|"+
        "collectgarbage|getmetatable|module|rawset|math|debug|"+
        "pcall|table|newproxy|type|coroutine|_G|select|gcinfo|"+
        "pairs|rawget|loadstring|ipairs|_VERSION|dofile|setfenv|"+
        "load|error|loadfile|"+

        "sub|upper|len|gfind|rep|find|match|char|dump|gmatch|"+
        "reverse|byte|format|gsub|lower|preload|loadlib|loaded|"+
        "loaders|cpath|config|path|seeall|exit|setlocale|date|"+
        "getenv|difftime|remove|time|clock|tmpname|rename|execute|"+
        "lines|write|close|flush|open|output|type|read|stderr|"+
        "stdin|input|stdout|popen|tmpfile|log|max|acos|huge|"+
        "ldexp|pi|cos|tanh|pow|deg|tan|cosh|sinh|random|randomseed|"+
        "frexp|ceil|floor|rad|abs|sqrt|modf|asin|min|mod|fmod|log10|"+
        "atan2|exp|sin|atan|getupvalue|debug|sethook|getmetatable|"+
        "gethook|setmetatable|setlocal|traceback|setfenv|getinfo|"+
        "setupvalue|getlocal|getregistry|getfenv|setn|insert|getn|"+
        "foreachi|maxn|foreach|concat|sort|remove|resume|yield|"+
        "status|wrap|create|running|"+
        "__add|__sub|__mod|__unm|__concat|__lt|__index|__call|__gc|__metatable|"+
         "__mul|__div|__pow|__len|__eq|__le|__newindex|__tostring|__mode|__tonumber"
    );

    var stdLibaries = ("string|package|os|io|math|debug|table|coroutine");

    var futureReserved = "";

    var deprecatedIn5152 = ("setn|foreach|foreachi|gcinfo|log10|maxn");

    var keywordMapper = this.createKeywordMapper({
        "keyword": keywords,
        "support.function": functions,
        "invalid.deprecated": deprecatedIn5152,
        "constant.library": stdLibaries,
        "constant.language": builtinConstants,
        "invalid.illegal": futureReserved,
        "variable.language": "this"
    }, "identifier");

    var decimalInteger = "(?:(?:[1-9]\\d*)|(?:0))";
    var hexInteger = "(?:0[xX][\\dA-Fa-f]+)";
    var integer = "(?:" + decimalInteger + "|" + hexInteger + ")";

    var fraction = "(?:\\.\\d+)";
    var intPart = "(?:\\d+)";
    var pointFloat = "(?:(?:" + intPart + "?" + fraction + ")|(?:" + intPart + "\\.))";
    var floatNumber = "(?:" + pointFloat + ")";

    this.$rules = {
        "start" : [{
            stateName: "bracketedComment",
            onMatch : function(value, currentState, stack){
                stack.unshift(this.next, value.length, currentState);
                return "comment";
            },
            regex : /\-\-\[=*\[/,
            next  : [
                {
                    onMatch : function(value, currentState, stack) {
                        if (value.length == stack[1]) {
                            stack.shift();
                            stack.shift();
                            this.next = stack.shift();
                        } else {
                            this.next = "";
                        }
                        return "comment";
                    },
                    regex : /(?:[^\\]|\\.)*?\]=*\]/,
                    next  : "start"
                }, {
                    defaultToken : "comment"
                }
            ]
        },

        {
            token : "comment",
            regex : "\\-\\-.*$"
        },
        {
            stateName: "bracketedString",
            onMatch : function(value, currentState, stack){
                stack.unshift(this.next, value.length, currentState);
                return "comment";
            },
            regex : /\[=*\[/,
            next  : [
                {
                    onMatch : function(value, currentState, stack) {
                        if (value.length == stack[1]) {
                            stack.shift();
                            stack.shift();
                            this.next = stack.shift();
                        } else {
                            this.next = "";
                        }
                        return "comment";
                    },
                    
                    regex : /(?:[^\\]|\\.)*?\]=*\]/,
                    next  : "start"
                }, {
                    defaultToken : "comment"
                }
            ]
        },
        {
            token : "string",           // " string
            regex : '"(?:[^\\\\]|\\\\.)*?"'
        }, {
            token : "string",           // ' string
            regex : "'(?:[^\\\\]|\\\\.)*?'"
        }, {
            token : "constant.numeric", // float
            regex : floatNumber
        }, {
            token : "constant.numeric", // integer
            regex : integer + "\\b"
        }, {
            token : keywordMapper,
            regex : "[a-zA-Z_$][a-zA-Z0-9_$]*\\b"
        }, {
            token : "keyword.operator",
            regex : "\\+|\\-|\\*|\\/|%|\\#|\\^|~|<|>|<=|=>|==|~=|=|\\:|\\.\\.\\.|\\.\\."
        }, {
            token : "paren.lparen",
            regex : "[\\[\\(\\{]"
        }, {
            token : "paren.rparen",
            regex : "[\\]\\)\\}]"
        }, {
            token : "text",
            regex : "\\s+|\\w+"
        } ]
    };
    
    this.normalizeRules();
}

oop.inherits(LuaHighlightRules, TextHighlightRules);

exports.LuaHighlightRules = LuaHighlightRules;
});

ace.define('ace/mode/folding/lua', ["require", 'exports', 'module' , 'ace/lib/oop', 'ace/mode/folding/fold_mode', 'ace/range', 'ace/token_iterator'], function(acequire, exports, module) {


var oop = acequire("../../lib/oop");
var BaseFoldMode = acequire("./fold_mode").FoldMode;
var Range = acequire("../../range").Range;
var TokenIterator = acequire("../../token_iterator").TokenIterator;


var FoldMode = exports.FoldMode = function() {};

oop.inherits(FoldMode, BaseFoldMode);

(function() {

    this.foldingStartMarker = /\b(function|then|do|repeat)\b|{\s*$|(\[=*\[)/;
    this.foldingStopMarker = /\bend\b|^\s*}|\]=*\]/;

    this.getFoldWidget = function(session, foldStyle, row) {
        var line = session.getLine(row);
        var isStart = this.foldingStartMarker.test(line);
        var isEnd = this.foldingStopMarker.test(line);

        if (isStart && !isEnd) {
            var match = line.match(this.foldingStartMarker);
            if (match[1] == "then" && /\belseif\b/.test(line))
                return;
            if (match[1]) {
                if (session.getTokenAt(row, match.index + 1).type === "keyword")
                    return "start";
            } else if (match[2]) {
                var type = session.bgTokenizer.getState(row) || "";
                if (type[0] == "bracketedComment" || type[0] == "bracketedString")
                    return "start";
            } else {
                return "start";
            }
        }
        if (foldStyle != "markbeginend" || !isEnd || isStart && isEnd)
            return "";

        var match = line.match(this.foldingStopMarker);
        if (match[0] === "end") {
            if (session.getTokenAt(row, match.index + 1).type === "keyword")
                return "end";
        } else if (match[0][0] === "]") {
            var type = session.bgTokenizer.getState(row - 1) || "";
            if (type[0] == "bracketedComment" || type[0] == "bracketedString")
                return "end";
        } else
            return "end";
    };

    this.getFoldWidgetRange = function(session, foldStyle, row) {
        var line = session.doc.getLine(row);
        var match = this.foldingStartMarker.exec(line);
        if (match) {
            if (match[1])
                return this.luaBlock(session, row, match.index + 1);

            if (match[2])
                return session.getCommentFoldRange(row, match.index + 1);

            return this.openingBracketBlock(session, "{", row, match.index);
        }

        var match = this.foldingStopMarker.exec(line);
        if (match) {
            if (match[0] === "end") {
                if (session.getTokenAt(row, match.index + 1).type === "keyword")
                    return this.luaBlock(session, row, match.index + 1);
            }

            if (match[0][0] === "]")
                return session.getCommentFoldRange(row, match.index + 1);

            return this.closingBracketBlock(session, "}", row, match.index + match[0].length);
        }
    };

    this.luaBlock = function(session, row, column) {
        var stream = new TokenIterator(session, row, column);
        var indentKeywords = {
            "function": 1,
            "do": 1,
            "then": 1,
            "elseif": -1,
            "end": -1,
            "repeat": 1,
            "until": -1
        };

        var token = stream.getCurrentToken();
        if (!token || token.type != "keyword")
            return;

        var val = token.value;
        var stack = [val];
        var dir = indentKeywords[val];

        if (!dir)
            return;

        var startColumn = dir === -1 ? stream.getCurrentTokenColumn() : session.getLine(row).length;
        var startRow = row;

        stream.step = dir === -1 ? stream.stepBackward : stream.stepForward;
        while(token = stream.step()) {
            if (token.type !== "keyword")
                continue;
            var level = dir * indentKeywords[token.value];

            if (level > 0) {
                stack.unshift(token.value);
            } else if (level <= 0) {
                stack.shift();
                if (!stack.length && token.value != "elseif")
                    break;
                if (level === 0)
                    stack.unshift(token.value);
            }
        }

        var row = stream.getCurrentTokenRow();
        if (dir === -1)
            return new Range(row, session.getLine(row).length, startRow, startColumn);
        else
            return new Range(startRow, startColumn, row, stream.getCurrentTokenColumn());
    };

}).call(FoldMode.prototype);

});

},{"../worker/lua":18}],10:[function(require,module,exports){
var global=typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {};module.exports = get_blob()

function get_blob() {
  if(global.Blob) {
    try {
      new Blob(['asdf'], {type: 'text/plain'})
      return Blob
    } catch(err) {}
  }

  var Builder = global.WebKitBlobBuilder ||
                global.MozBlobBuilder ||
                global.MSBlobBuilder

  return function(parts, bag) {
    var builder = new Builder
      , endings = bag.endings
      , type = bag.type

    if(endings) for(var i = 0, len = parts.length; i < len; ++i) {
      builder.append(parts[i], endings)
    } else for(var i = 0, len = parts.length; i < len; ++i) {
      builder.append(parts[i])
    }

    return type ? builder.getBlob(type) : builder.getBlob()
  }
}

},{}],11:[function(require,module,exports){
/* ***** BEGIN LICENSE BLOCK *****
 * Distributed under the BSD license:
 *
 * Copyright (c) 2010, Ajax.org B.V.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *     * Redistributions of source code must retain the above copyright
 *       notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above copyright
 *       notice, this list of conditions and the following disclaimer in the
 *       documentation and/or other materials provided with the distribution.
 *     * Neither the name of Ajax.org B.V. nor the
 *       names of its contributors may be used to endorse or promote products
 *       derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY
 * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * ***** END LICENSE BLOCK ***** */

ace.define('ace/theme/monokai', ["require", 'exports', 'module' , 'ace/lib/dom'], function(acequire, exports, module) {

exports.isDark = true;
exports.cssClass = "ace-monokai";
exports.cssText = ".ace-monokai .ace_gutter {\
background: #2F3129;\
color: #8F908A\
}\
.ace-monokai .ace_print-margin {\
width: 1px;\
background: #555651\
}\
.ace-monokai {\
background-color: #272822;\
color: #F8F8F2\
}\
.ace-monokai .ace_cursor {\
border-left: 2px solid #F8F8F0\
}\
.ace-monokai .ace_overwrite-cursors .ace_cursor {\
border-left: 0px;\
border-bottom: 1px solid #F8F8F0\
}\
.ace-monokai .ace_marker-layer .ace_selection {\
background: #49483E\
}\
.ace-monokai.ace_multiselect .ace_selection.ace_start {\
box-shadow: 0 0 3px 0px #272822;\
border-radius: 2px\
}\
.ace-monokai .ace_marker-layer .ace_step {\
background: rgb(102, 82, 0)\
}\
.ace-monokai .ace_marker-layer .ace_bracket {\
margin: -1px 0 0 -1px;\
border: 1px solid #49483E\
}\
.ace-monokai .ace_marker-layer .ace_active-line {\
background: #202020\
}\
.ace-monokai .ace_gutter-active-line {\
background-color: #272727\
}\
.ace-monokai .ace_marker-layer .ace_selected-word {\
border: 1px solid #49483E\
}\
.ace-monokai .ace_invisible {\
color: #52524d\
}\
.ace-monokai .ace_entity.ace_name.ace_tag,\
.ace-monokai .ace_keyword,\
.ace-monokai .ace_meta.ace_tag,\
.ace-monokai .ace_storage {\
color: #F92672\
}\
.ace-monokai .ace_constant.ace_character,\
.ace-monokai .ace_constant.ace_language,\
.ace-monokai .ace_constant.ace_numeric,\
.ace-monokai .ace_constant.ace_other {\
color: #AE81FF\
}\
.ace-monokai .ace_invalid {\
color: #F8F8F0;\
background-color: #F92672\
}\
.ace-monokai .ace_invalid.ace_deprecated {\
color: #F8F8F0;\
background-color: #AE81FF\
}\
.ace-monokai .ace_support.ace_constant,\
.ace-monokai .ace_support.ace_function {\
color: #66D9EF\
}\
.ace-monokai .ace_fold {\
background-color: #A6E22E;\
border-color: #F8F8F2\
}\
.ace-monokai .ace_storage.ace_type,\
.ace-monokai .ace_support.ace_class,\
.ace-monokai .ace_support.ace_type {\
font-style: italic;\
color: #66D9EF\
}\
.ace-monokai .ace_entity.ace_name.ace_function,\
.ace-monokai .ace_entity.ace_other,\
.ace-monokai .ace_entity.ace_other.ace_attribute-name,\
.ace-monokai .ace_variable {\
color: #A6E22E\
}\
.ace-monokai .ace_variable.ace_parameter {\
font-style: italic;\
color: #FD971F\
}\
.ace-monokai .ace_string {\
color: #E6DB74\
}\
.ace-monokai .ace_comment {\
color: #75715E\
}\
.ace-monokai .ace_markup.ace_underline {\
text-decoration: underline\
}\
.ace-monokai .ace_indent-guide {\
background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y;\
}";

var dom = acequire("../lib/dom");
dom.importCssString(exports.cssText, exports.cssClass);
});

},{}],12:[function(require,module,exports){
/* ***** BEGIN LICENSE BLOCK *****
 * Distributed under the BSD license:
 *
 * Copyright (c) 2010, Ajax.org B.V.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *     * Redistributions of source code must retain the above copyright
 *       notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above copyright
 *       notice, this list of conditions and the following disclaimer in the
 *       documentation and/or other materials provided with the distribution.
 *     * Neither the name of Ajax.org B.V. nor the
 *       names of its contributors may be used to endorse or promote products
 *       derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY
 * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * ***** END LICENSE BLOCK ***** */

ace.define('ace/theme/solarized_dark', ["require", 'exports', 'module' , 'ace/lib/dom'], function(acequire, exports, module) {

exports.isDark = true;
exports.cssClass = "ace-solarized-dark";
exports.cssText = ".ace-solarized-dark .ace_gutter {\
background: #01313f;\
color: #d0edf7\
}\
.ace-solarized-dark .ace_print-margin {\
width: 1px;\
background: #33555E\
}\
.ace-solarized-dark {\
background-color: #002B36;\
color: #93A1A1\
}\
.ace-solarized-dark .ace_entity.ace_other.ace_attribute-name,\
.ace-solarized-dark .ace_storage,\
.ace-solarized-dark .ace_text-layer {\
color: #93A1A1\
}\
.ace-solarized-dark .ace_cursor {\
border-left: 2px solid #D30102\
}\
.ace-solarized-dark .ace_overwrite-cursors .ace_cursor {\
border-left: 0px;\
border-bottom: 1px solid #D30102\
}\
.ace-solarized-dark .ace_marker-layer .ace_active-line,\
.ace-solarized-dark .ace_marker-layer .ace_selection {\
background: rgba(255, 255, 255, 0.1)\
}\
.ace-solarized-dark.ace_multiselect .ace_selection.ace_start {\
box-shadow: 0 0 3px 0px #002B36;\
border-radius: 2px\
}\
.ace-solarized-dark .ace_marker-layer .ace_step {\
background: rgb(102, 82, 0)\
}\
.ace-solarized-dark .ace_marker-layer .ace_bracket {\
margin: -1px 0 0 -1px;\
border: 1px solid rgba(147, 161, 161, 0.50)\
}\
.ace-solarized-dark .ace_gutter-active-line {\
background-color: #0d3440\
}\
.ace-solarized-dark .ace_marker-layer .ace_selected-word {\
border: 1px solid #073642\
}\
.ace-solarized-dark .ace_invisible {\
color: rgba(147, 161, 161, 0.50)\
}\
.ace-solarized-dark .ace_keyword,\
.ace-solarized-dark .ace_meta,\
.ace-solarized-dark .ace_support.ace_class,\
.ace-solarized-dark .ace_support.ace_type {\
color: #859900\
}\
.ace-solarized-dark .ace_constant.ace_character,\
.ace-solarized-dark .ace_constant.ace_other {\
color: #CB4B16\
}\
.ace-solarized-dark .ace_constant.ace_language {\
color: #B58900\
}\
.ace-solarized-dark .ace_constant.ace_numeric {\
color: #D33682\
}\
.ace-solarized-dark .ace_fold {\
background-color: #268BD2;\
border-color: #93A1A1\
}\
.ace-solarized-dark .ace_entity.ace_name.ace_function,\
.ace-solarized-dark .ace_entity.ace_name.ace_tag,\
.ace-solarized-dark .ace_support.ace_function,\
.ace-solarized-dark .ace_variable,\
.ace-solarized-dark .ace_variable.ace_language {\
color: #268BD2\
}\
.ace-solarized-dark .ace_string {\
color: #2AA198\
}\
.ace-solarized-dark .ace_string.ace_regexp {\
color: #D30102\
}\
.ace-solarized-dark .ace_comment {\
font-style: italic;\
color: #657B83\
}\
.ace-solarized-dark .ace_markup.ace_underline {\
text-decoration: underline\
}\
.ace-solarized-dark .ace_indent-guide {\
background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNg0Db1ZVCxc/sPAAd4AlUHlLenAAAAAElFTkSuQmCC) right repeat-y;\
}";

var dom = acequire("../lib/dom");
dom.importCssString(exports.cssText, exports.cssClass);
});

},{}],13:[function(require,module,exports){
/* ***** BEGIN LICENSE BLOCK *****
 * Distributed under the BSD license:
 *
 * Copyright (c) 2010, Ajax.org B.V.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *     * Redistributions of source code must retain the above copyright
 *       notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above copyright
 *       notice, this list of conditions and the following disclaimer in the
 *       documentation and/or other materials provided with the distribution.
 *     * Neither the name of Ajax.org B.V. nor the
 *       names of its contributors may be used to endorse or promote products
 *       derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY
 * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * ***** END LICENSE BLOCK ***** */

ace.define('ace/theme/solarized_light', ["require", 'exports', 'module' , 'ace/lib/dom'], function(acequire, exports, module) {

exports.isDark = false;
exports.cssClass = "ace-solarized-light";
exports.cssText = ".ace-solarized-light .ace_gutter {\
background: #fbf1d3;\
color: #333\
}\
.ace-solarized-light .ace_print-margin {\
width: 1px;\
background: #e8e8e8\
}\
.ace-solarized-light {\
background-color: #FDF6E3;\
color: #586E75\
}\
.ace-solarized-light .ace_cursor {\
border-left: 2px solid #000000\
}\
.ace-solarized-light .ace_overwrite-cursors .ace_cursor {\
border-left: 0px;\
border-bottom: 1px solid #000000\
}\
.ace-solarized-light .ace_marker-layer .ace_selection {\
background:  rgba(7, 54, 67, 0.09)\
}\
.ace-solarized-light.ace_multiselect .ace_selection.ace_start {\
box-shadow: 0 0 3px 0px #FDF6E3;\
border-radius: 2px\
}\
.ace-solarized-light .ace_marker-layer .ace_step {\
background: rgb(255, 255, 0)\
}\
.ace-solarized-light .ace_marker-layer .ace_bracket {\
margin: -1px 0 0 -1px;\
border: 1px solid rgba(147, 161, 161, 0.50)\
}\
.ace-solarized-light .ace_marker-layer .ace_active-line {\
background: #EEE8D5\
}\
.ace-solarized-light .ace_gutter-active-line {\
background-color : #EDE5C1\
}\
.ace-solarized-light .ace_marker-layer .ace_selected-word {\
border: 1px solid #073642\
}\
.ace-solarized-light .ace_invisible {\
color: rgba(147, 161, 161, 0.50)\
}\
.ace-solarized-light .ace_keyword,\
.ace-solarized-light .ace_meta,\
.ace-solarized-light .ace_support.ace_class,\
.ace-solarized-light .ace_support.ace_type {\
color: #859900\
}\
.ace-solarized-light .ace_constant.ace_character,\
.ace-solarized-light .ace_constant.ace_other {\
color: #CB4B16\
}\
.ace-solarized-light .ace_constant.ace_language {\
color: #B58900\
}\
.ace-solarized-light .ace_constant.ace_numeric {\
color: #D33682\
}\
.ace-solarized-light .ace_fold {\
background-color: #268BD2;\
border-color: #586E75\
}\
.ace-solarized-light .ace_entity.ace_name.ace_function,\
.ace-solarized-light .ace_entity.ace_name.ace_tag,\
.ace-solarized-light .ace_support.ace_function,\
.ace-solarized-light .ace_variable,\
.ace-solarized-light .ace_variable.ace_language {\
color: #268BD2\
}\
.ace-solarized-light .ace_storage {\
color: #073642\
}\
.ace-solarized-light .ace_string {\
color: #2AA198\
}\
.ace-solarized-light .ace_string.ace_regexp {\
color: #D30102\
}\
.ace-solarized-light .ace_comment,\
.ace-solarized-light .ace_entity.ace_other.ace_attribute-name {\
color: #93A1A1\
}\
.ace-solarized-light .ace_markup.ace_underline {\
text-decoration: underline\
}\
.ace-solarized-light .ace_indent-guide {\
background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHjy8NJ/AAjgA5fzQUmBAAAAAElFTkSuQmCC) right repeat-y;\
}";

var dom = acequire("../lib/dom");
dom.importCssString(exports.cssText, exports.cssClass);
});

},{}],14:[function(require,module,exports){
/* ***** BEGIN LICENSE BLOCK *****
 * Distributed under the BSD license:
 *
 * Copyright (c) 2010, Ajax.org B.V.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *     * Redistributions of source code must retain the above copyright
 *       notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above copyright
 *       notice, this list of conditions and the following disclaimer in the
 *       documentation and/or other materials provided with the distribution.
 *     * Neither the name of Ajax.org B.V. nor the
 *       names of its contributors may be used to endorse or promote products
 *       derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY
 * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * ***** END LICENSE BLOCK ***** */

ace.define('ace/theme/vibrant_ink', ["require", 'exports', 'module' , 'ace/lib/dom'], function(acequire, exports, module) {

exports.isDark = true;
exports.cssClass = "ace-vibrant-ink";
exports.cssText = ".ace-vibrant-ink .ace_gutter {\
background: #1a1a1a;\
color: #BEBEBE\
}\
.ace-vibrant-ink .ace_print-margin {\
width: 1px;\
background: #1a1a1a\
}\
.ace-vibrant-ink {\
background-color: #0F0F0F;\
color: #FFFFFF\
}\
.ace-vibrant-ink .ace_cursor {\
border-left: 2px solid #FFFFFF\
}\
.ace-vibrant-ink .ace_overwrite-cursors .ace_cursor {\
border-left: 0px;\
border-bottom: 1px solid #FFFFFF\
}\
.ace-vibrant-ink .ace_marker-layer .ace_selection {\
background: #6699CC\
}\
.ace-vibrant-ink.ace_multiselect .ace_selection.ace_start {\
box-shadow: 0 0 3px 0px #0F0F0F;\
border-radius: 2px\
}\
.ace-vibrant-ink .ace_marker-layer .ace_step {\
background: rgb(102, 82, 0)\
}\
.ace-vibrant-ink .ace_marker-layer .ace_bracket {\
margin: -1px 0 0 -1px;\
border: 1px solid #404040\
}\
.ace-vibrant-ink .ace_marker-layer .ace_active-line {\
background: #333333\
}\
.ace-vibrant-ink .ace_gutter-active-line {\
background-color: #333333\
}\
.ace-vibrant-ink .ace_marker-layer .ace_selected-word {\
border: 1px solid #6699CC\
}\
.ace-vibrant-ink .ace_invisible {\
color: #404040\
}\
.ace-vibrant-ink .ace_keyword,\
.ace-vibrant-ink .ace_meta {\
color: #FF6600\
}\
.ace-vibrant-ink .ace_constant,\
.ace-vibrant-ink .ace_constant.ace_character,\
.ace-vibrant-ink .ace_constant.ace_character.ace_escape,\
.ace-vibrant-ink .ace_constant.ace_other {\
color: #339999\
}\
.ace-vibrant-ink .ace_constant.ace_numeric {\
color: #99CC99\
}\
.ace-vibrant-ink .ace_invalid,\
.ace-vibrant-ink .ace_invalid.ace_deprecated {\
color: #CCFF33;\
background-color: #000000\
}\
.ace-vibrant-ink .ace_fold {\
background-color: #FFCC00;\
border-color: #FFFFFF\
}\
.ace-vibrant-ink .ace_entity.ace_name.ace_function,\
.ace-vibrant-ink .ace_support.ace_function,\
.ace-vibrant-ink .ace_variable {\
color: #FFCC00\
}\
.ace-vibrant-ink .ace_variable.ace_parameter {\
font-style: italic\
}\
.ace-vibrant-ink .ace_string {\
color: #66FF00\
}\
.ace-vibrant-ink .ace_string.ace_regexp {\
color: #44B4CC\
}\
.ace-vibrant-ink .ace_comment {\
color: #9933CC\
}\
.ace-vibrant-ink .ace_entity.ace_other.ace_attribute-name {\
font-style: italic;\
color: #99CC99\
}\
.ace-vibrant-ink .ace_indent-guide {\
background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYNDTc/oPAALPAZ7hxlbYAAAAAElFTkSuQmCC) right repeat-y;\
}";

var dom = acequire("../lib/dom");
dom.importCssString(exports.cssText, exports.cssClass);
});

},{}],15:[function(require,module,exports){
module.exports.id = 'ace/mode/coffee_worker';
module.exports.src = "\"no use strict\";(function(window){void 0!==window.window&&window.document||(window.console={log:function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:\"log\",data:msgs})},error:function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:\"log\",data:msgs})}},window.window=window,window.ace=window,window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf(\"!\")){var chunks=moduleName.split(\"!\");return normalizeModule(parentId,chunks[0])+\"!\"+normalizeModule(parentId,chunks[1])}if(\".\"==moduleName.charAt(0)){var base=parentId.split(\"/\").slice(0,-1).join(\"/\");for(moduleName=base+\"/\"+moduleName;-1!==moduleName.indexOf(\".\")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/\\/\\.\\//,\"/\").replace(/[^\\/]+\\/\\.\\.\\//,\"\")}}return moduleName},window.acequire=function(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error(\"worker.js acequire() accepts only (parentId, id) as arguments\");id=normalizeModule(parentId,id);var module=acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;var chunks=id.split(\"/\");chunks[0]=acequire.tlns[chunks[0]]||chunks[0];var path=chunks.join(\"/\")+\".js\";return acequire.id=id,importScripts(path),acequire(parentId,id)},acequire.modules={},acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,\"string\"!=typeof id&&(deps=id,id=acequire.id)):1==arguments.length&&(factory=id,id=acequire.id),0!==id.indexOf(\"text!\")){var req=function(deps,factory){return acequire(id,deps,factory)};acequire.modules[id]={factory:function(){var module={exports:{}},returnExports=factory(req,module.exports,module);return returnExports&&(module.exports=returnExports),module}}}},window.initBaseUrls=function initBaseUrls(topLevelNamespaces){acequire.tlns=topLevelNamespaces},window.initSender=function initSender(){var EventEmitter=acequire(\"ace/lib/event_emitter\").EventEmitter,oop=acequire(\"ace/lib/oop\"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:\"call\",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:\"event\",name:name,data:data})}}.call(Sender.prototype),new Sender},window.main=null,window.sender=null,window.onmessage=function(e){var msg=e.data;if(msg.command){if(!main[msg.command])throw Error(\"Unknown command:\"+msg.command);main[msg.command].apply(main,msg.args)}else if(msg.init){initBaseUrls(msg.tlns),acequire(\"ace/lib/es5-shim\"),sender=initSender();var clazz=acequire(msg.module)[msg.classname];main=new clazz(sender)}else msg.event&&sender&&sender._emit(msg.event,msg.data)})})(this),ace.define(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"],function(acequire,exports){var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){\"object\"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault);for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners)for(var i=0;listeners.length>i;i++)listeners[i](e,this)},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?\"unshift\":\"push\"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"],function(acequire,exports){exports.inherits=function(){var tempCtor=function(){};return function(ctor,superCtor){tempCtor.prototype=superCtor.prototype,ctor.super_=superCtor.prototype,ctor.prototype=new tempCtor,ctor.prototype.constructor=ctor}}(),exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define(\"ace/lib/es5-shim\",[\"require\",\"exports\",\"module\"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,\"sentinel\",{}),\"sentinel\"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if(\"function\"!=typeof target)throw new TypeError(\"Function.prototype.bind called on incompatible \"+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,\"__defineGetter__\"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,\"XXX\"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return\"[object Array]\"==_toString(obj)});var boxedString=Object(\"a\"),splitString=\"a\"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,thisp=arguments[1],i=-1,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,result=[],thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");if(!length&&1==arguments.length)throw new TypeError(\"reduce of empty array with no initial value\");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError(\"reduce of empty array with no initial value\")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");if(!length&&1==arguments.length)throw new TypeError(\"reduceRight of empty array with no initial value\");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError(\"reduceRight of empty array with no initial value\")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT=\"Object.getOwnPropertyDescriptor called on a non-object: \";Object.getOwnPropertyDescriptor=function(object,property){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if(\"object\"!=typeof prototype)throw new TypeError(\"typeof prototype[\"+typeof prototype+\"] != 'object'\");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom=\"undefined\"==typeof document||doesDefinePropertyWork(document.createElement(\"div\"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR=\"Property description must be an object: \",ERR_NON_OBJECT_TARGET=\"Object.defineProperty called on non-object: \",ERR_ACCESSORS_NOT_SUPPORTED=\"getters & setters can not be defined on this javascript engine\";Object.defineProperty=function(object,property,descriptor){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if(\"object\"!=typeof descriptor&&\"function\"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,\"value\"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,\"get\")&&defineGetter(object,property,descriptor.get),owns(descriptor,\"set\")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return\"function\"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name=\"\";owns(object,name);)name+=\"?\";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=[\"toString\",\"toLocaleString\",\"valueOf\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"constructor\"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(\"Object.keys called on a non-object\");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws=\"\t\\n\u000b\\f\\r   ᠎             　\\u2028\\u2029﻿\";if(!String.prototype.trim||ws.trim()){ws=\"[\"+ws+\"]\";var trimBeginRegexp=RegExp(\"^\"+ws+ws+\"*\"),trimEndRegexp=RegExp(ws+ws+\"*$\");String.prototype.trim=function(){return(this+\"\").replace(trimBeginRegexp,\"\").replace(trimEndRegexp,\"\")}}var toObject=function(o){if(null==o)throw new TypeError(\"can't convert \"+o+\" to object\");return Object(o)}}),ace.define(\"ace/mode/coffee_worker\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/worker/mirror\",\"ace/mode/coffee/coffee-script\"],function(acequire,exports){var oop=acequire(\"../lib/oop\"),Mirror=acequire(\"../worker/mirror\").Mirror,coffee=acequire(\"../mode/coffee/coffee-script\");window.addEventListener=function(){};var Worker=exports.Worker=function(sender){Mirror.call(this,sender),this.setTimeout(250)};oop.inherits(Worker,Mirror),function(){this.onUpdate=function(){var value=this.doc.getValue();try{coffee.parse(value).compile()}catch(e){var loc=e.location;return loc&&this.sender.emit(\"error\",{row:loc.first_line,column:loc.first_column,endRow:loc.last_line,endColumn:loc.last_column,text:e.message,type:\"error\"}),void 0}this.sender.emit(\"ok\")}}.call(Worker.prototype)}),ace.define(\"ace/worker/mirror\",[\"require\",\"exports\",\"module\",\"ace/document\",\"ace/lib/lang\"],function(acequire,exports){var Document=acequire(\"../document\").Document,lang=acequire(\"../lib/lang\"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(\"\"),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on(\"change\",function(e){doc.applyDeltas(e.data),deferredUpdate.schedule(_self.$timeout)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){}}).call(Mirror.prototype)}),ace.define(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"],function(acequire,exports){var oop=acequire(\"./lib/oop\"),EventEmitter=acequire(\"./lib/event_emitter\").EventEmitter,Range=acequire(\"./range\").Range,Anchor=acequire(\"./anchor\").Anchor,Document=function(text){this.$lines=[],0==text.length?this.$lines=[\"\"]:Array.isArray(text)?this._insertLines(0,text):this.insert({row:0,column:0},text)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength();this.remove(new Range(0,0,len,this.getLine(len-1).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==\"aaa\".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,\"\\n\").split(\"\\n\")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:\"\\n\"},this.getNewLineCharacter=function(){switch(this.$newLineMode){case\"windows\":return\"\\r\\n\";case\"unix\":return\"\\n\";default:return this.$autoNewLine}},this.$autoNewLine=\"\\n\",this.$newLineMode=\"auto\",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode)},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return\"\\r\\n\"==text||\"\\r\"==text||\"\\n\"==text},this.getLine=function(row){return this.$lines[row]||\"\"},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){if(range.start.row==range.end.row)return this.$lines[range.start.row].substring(range.start.column,range.end.column);var lines=this.getLines(range.start.row,range.end.row);lines[0]=(lines[0]||\"\").substring(range.start.column);var l=lines.length-1;return range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column)),lines.join(this.getNewLineCharacter())},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):0>position.row&&(position.row=0),position},this.insert=function(position,text){if(!text||0===text.length)return position;position=this.$clipPosition(position),1>=this.getLength()&&this.$detectNewLine(text);var lines=this.$split(text),firstLine=lines.splice(0,1)[0],lastLine=0==lines.length?null:lines.splice(lines.length-1,1)[0];return position=this.insertInLine(position,firstLine),null!==lastLine&&(position=this.insertNewLine(position),position=this._insertLines(position.row,lines),position=this.insertInLine(position,lastLine||\"\")),position},this.insertLines=function(row,lines){return row>=this.getLength()?this.insert({row:row,column:0},\"\\n\"+lines.join(\"\\n\")):this._insertLines(Math.max(row,0),lines)},this._insertLines=function(row,lines){if(0==lines.length)return{row:row,column:0};if(lines.length>65535){var end=this._insertLines(row,lines.slice(65535));lines=lines.slice(0,65535)}var args=[row,0];args.push.apply(args,lines),this.$lines.splice.apply(this.$lines,args);var range=new Range(row,0,row+lines.length,0),delta={action:\"insertLines\",range:range,lines:lines};return this._emit(\"change\",{data:delta}),end||range.end},this.insertNewLine=function(position){position=this.$clipPosition(position);var line=this.$lines[position.row]||\"\";this.$lines[position.row]=line.substring(0,position.column),this.$lines.splice(position.row+1,0,line.substring(position.column,line.length));var end={row:position.row+1,column:0},delta={action:\"insertText\",range:Range.fromPoints(position,end),text:this.getNewLineCharacter()};return this._emit(\"change\",{data:delta}),end},this.insertInLine=function(position,text){if(0==text.length)return position;var line=this.$lines[position.row]||\"\";this.$lines[position.row]=line.substring(0,position.column)+text+line.substring(position.column);var end={row:position.row,column:position.column+text.length},delta={action:\"insertText\",range:Range.fromPoints(position,end),text:text};return this._emit(\"change\",{data:delta}),end},this.remove=function(range){if(range.start=this.$clipPosition(range.start),range.end=this.$clipPosition(range.end),range.isEmpty())return range.start;var firstRow=range.start.row,lastRow=range.end.row;if(range.isMultiLine()){var firstFullRow=0==range.start.column?firstRow:firstRow+1,lastFullRow=lastRow-1;range.end.column>0&&this.removeInLine(lastRow,0,range.end.column),lastFullRow>=firstFullRow&&this._removeLines(firstFullRow,lastFullRow),firstFullRow!=firstRow&&(this.removeInLine(firstRow,range.start.column,this.getLine(firstRow).length),this.removeNewLine(range.start.row))}else this.removeInLine(firstRow,range.start.column,range.end.column);return range.start},this.removeInLine=function(row,startColumn,endColumn){if(startColumn!=endColumn){var range=new Range(row,startColumn,row,endColumn),line=this.getLine(row),removed=line.substring(startColumn,endColumn),newLine=line.substring(0,startColumn)+line.substring(endColumn,line.length);this.$lines.splice(row,1,newLine);var delta={action:\"removeText\",range:range,text:removed};return this._emit(\"change\",{data:delta}),range.start}},this.removeLines=function(firstRow,lastRow){return 0>firstRow||lastRow>=this.getLength()?this.remove(new Range(firstRow,0,lastRow+1,0)):this._removeLines(firstRow,lastRow)},this._removeLines=function(firstRow,lastRow){var range=new Range(firstRow,0,lastRow+1,0),removed=this.$lines.splice(firstRow,lastRow-firstRow+1),delta={action:\"removeLines\",range:range,nl:this.getNewLineCharacter(),lines:removed};return this._emit(\"change\",{data:delta}),removed},this.removeNewLine=function(row){var firstLine=this.getLine(row),secondLine=this.getLine(row+1),range=new Range(row,firstLine.length,row+1,0),line=firstLine+secondLine;this.$lines.splice(row,2,line);var delta={action:\"removeText\",range:range,text:this.getNewLineCharacter()};this._emit(\"change\",{data:delta})},this.replace=function(range,text){if(0==text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;if(this.remove(range),text)var end=this.insert(range.start,text);else end=range.start;return end},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++){var delta=deltas[i],range=Range.fromPoints(delta.range.start,delta.range.end);\"insertLines\"==delta.action?this.insertLines(range.start.row,delta.lines):\"insertText\"==delta.action?this.insert(range.start,delta.text):\"removeLines\"==delta.action?this._removeLines(range.start.row,range.end.row-1):\"removeText\"==delta.action&&this.remove(range)}},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--){var delta=deltas[i],range=Range.fromPoints(delta.range.start,delta.range.end);\"insertLines\"==delta.action?this._removeLines(range.start.row,range.end.row-1):\"insertText\"==delta.action?this.remove(range):\"removeLines\"==delta.action?this._insertLines(range.start.row,delta.lines):\"removeText\"==delta.action&&this.insert(range.start,delta.text)}},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define(\"ace/range\",[\"require\",\"exports\",\"module\"],function(acequire,exports){var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return\"Range: [\"+this.start.row+\"/\"+this.start.column+\"] -> [\"+this.end.row+\"/\"+this.end.column+\"]\"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){\"object\"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){\"object\"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)\n},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"],function(acequire,exports){var oop=acequire(\"./lib/oop\"),EventEmitter=acequire(\"./lib/event_emitter\").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.document=doc,column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column),this.$onChange=this.onChange.bind(this),doc.on(\"change\",this.$onChange)};(function(){oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.onChange=function(e){var delta=e.data,range=delta.range;if(!(range.start.row==range.end.row&&range.start.row!=this.row||range.start.row>this.row||range.start.row==this.row&&range.start.column>this.column)){var row=this.row,column=this.column,start=range.start,end=range.end;\"insertText\"===delta.action?start.row===row&&column>=start.column?start.row===end.row?column+=end.column-start.column:(column-=start.column,row+=end.row-start.row):start.row!==end.row&&row>start.row&&(row+=end.row-start.row):\"insertLines\"===delta.action?row>=start.row&&(row+=end.row-start.row):\"removeText\"===delta.action?start.row===row&&column>start.column?column=end.column>=column?start.column:Math.max(0,column-(end.column-start.column)):start.row!==end.row&&row>start.row?(end.row===row&&(column=Math.max(0,column-end.column)+start.column),row-=end.row-start.row):end.row===row&&(row-=end.row-start.row,column=Math.max(0,column-end.column)+start.column):\"removeLines\"==delta.action&&row>=start.row&&(row>=end.row?row-=end.row-start.row:(row=start.row,column=0)),this.setPosition(row,column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._emit(\"change\",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener(\"change\",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define(\"ace/lib/lang\",[\"require\",\"exports\",\"module\"],function(acequire,exports){exports.stringReverse=function(string){return string.split(\"\").reverse().join(\"\")},exports.stringRepeat=function(string,count){for(var result=\"\";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,\"\")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,\"\")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&\"object\"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function(obj){if(\"object\"!=typeof obj)return obj;var copy=obj.constructor();for(var key in obj)copy[key]=\"object\"==typeof obj[key]?this.deepCopy(obj[key]):obj[key];return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,\"\\\\$1\")},exports.escapeHTML=function(str){return str.replace(/&/g,\"&#38;\").replace(/\"/g,\"&#34;\").replace(/'/g,\"&#39;\").replace(/</g,\"&#60;\")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)};return _self.delay=_self,_self.schedule=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||0))},_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define(\"ace/mode/coffee/coffee-script\",[\"require\",\"exports\",\"module\",\"ace/mode/coffee/lexer\",\"ace/mode/coffee/parser\",\"ace/mode/coffee/nodes\"],function(acequire,exports){var Lexer=acequire(\"./lexer\").Lexer,parser=acequire(\"./parser\"),lexer=new Lexer;parser.lexer={lex:function(){var tag,token;return token=this.tokens[this.pos++],token?(tag=token[0],this.yytext=token[1],this.yylloc=token[2],this.yylineno=this.yylloc.first_line):tag=\"\",tag},setInput:function(tokens){return this.tokens=tokens,this.pos=0},upcomingInput:function(){return\"\"}},parser.yy=acequire(\"./nodes\"),exports.parse=function(code){return parser.parse(lexer.tokenize(code))}}),ace.define(\"ace/mode/coffee/lexer\",[\"require\",\"exports\",\"module\",\"ace/mode/coffee/rewriter\",\"ace/mode/coffee/helpers\"],function(acequire,exports){var BOM,BOOL,CALLABLE,CODE,COFFEE_ALIASES,COFFEE_ALIAS_MAP,COFFEE_KEYWORDS,COMMENT,COMPARE,COMPOUND_ASSIGN,HEREDOC,HEREDOC_ILLEGAL,HEREDOC_INDENT,HEREGEX,HEREGEX_OMIT,IDENTIFIER,INDEXABLE,INVERSES,JSTOKEN,JS_FORBIDDEN,JS_KEYWORDS,LINE_BREAK,LINE_CONTINUER,LOGIC,Lexer,MATH,MULTILINER,MULTI_DENT,NOT_REGEX,NOT_SPACED_REGEX,NUMBER,OPERATOR,REGEX,RELATION,RESERVED,Rewriter,SHIFT,SIMPLESTR,STRICT_PROSCRIBED,TRAILING_SPACES,UNARY,WHITESPACE,compact,count,invertLiterate,key,last,locationDataToString,starts,throwSyntaxError,_ref,_ref1,__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;l>i;i++)if(i in this&&this[i]===item)return i;return-1};_ref=acequire(\"./rewriter\"),Rewriter=_ref.Rewriter,INVERSES=_ref.INVERSES,_ref1=acequire(\"./helpers\"),count=_ref1.count,starts=_ref1.starts,compact=_ref1.compact,last=_ref1.last,invertLiterate=_ref1.invertLiterate,locationDataToString=_ref1.locationDataToString,throwSyntaxError=_ref1.throwSyntaxError,exports.Lexer=Lexer=function(){function Lexer(){}return Lexer.prototype.tokenize=function(code,opts){var consumed,i,tag,_ref2;for(null==opts&&(opts={}),this.literate=opts.literate,this.indent=0,this.indebt=0,this.outdebt=0,this.indents=[],this.ends=[],this.tokens=[],this.chunkLine=opts.line||0,this.chunkColumn=opts.column||0,code=this.clean(code),i=0;this.chunk=code.slice(i);)consumed=this.identifierToken()||this.commentToken()||this.whitespaceToken()||this.lineToken()||this.heredocToken()||this.stringToken()||this.numberToken()||this.regexToken()||this.jsToken()||this.literalToken(),_ref2=this.getLineAndColumnFromChunk(consumed),this.chunkLine=_ref2[0],this.chunkColumn=_ref2[1],i+=consumed;return this.closeIndentation(),(tag=this.ends.pop())&&this.error(\"missing \"+tag),opts.rewrite===!1?this.tokens:(new Rewriter).rewrite(this.tokens)},Lexer.prototype.clean=function(code){return code.charCodeAt(0)===BOM&&(code=code.slice(1)),code=code.replace(/\\r/g,\"\").replace(TRAILING_SPACES,\"\"),WHITESPACE.test(code)&&(code=\"\\n\"+code,this.chunkLine--),this.literate&&(code=invertLiterate(code)),code},Lexer.prototype.identifierToken=function(){var colon,colonOffset,forcedIdentifier,id,idLength,input,match,poppedToken,prev,tag,tagToken,_ref2,_ref3,_ref4;return(match=IDENTIFIER.exec(this.chunk))?(input=match[0],id=match[1],colon=match[2],idLength=id.length,poppedToken=void 0,\"own\"===id&&\"FOR\"===this.tag()?(this.token(\"OWN\",id),id.length):(forcedIdentifier=colon||(prev=last(this.tokens))&&(\".\"===(_ref2=prev[0])||\"?.\"===_ref2||\"::\"===_ref2||\"?::\"===_ref2||!prev.spaced&&\"@\"===prev[0]),tag=\"IDENTIFIER\",!forcedIdentifier&&(__indexOf.call(JS_KEYWORDS,id)>=0||__indexOf.call(COFFEE_KEYWORDS,id)>=0)&&(tag=id.toUpperCase(),\"WHEN\"===tag&&(_ref3=this.tag(),__indexOf.call(LINE_BREAK,_ref3)>=0)?tag=\"LEADING_WHEN\":\"FOR\"===tag?this.seenFor=!0:\"UNLESS\"===tag?tag=\"IF\":__indexOf.call(UNARY,tag)>=0?tag=\"UNARY\":__indexOf.call(RELATION,tag)>=0&&(\"INSTANCEOF\"!==tag&&this.seenFor?(tag=\"FOR\"+tag,this.seenFor=!1):(tag=\"RELATION\",\"!\"===this.value()&&(poppedToken=this.tokens.pop(),id=\"!\"+id)))),__indexOf.call(JS_FORBIDDEN,id)>=0&&(forcedIdentifier?(tag=\"IDENTIFIER\",id=new String(id),id.reserved=!0):__indexOf.call(RESERVED,id)>=0&&this.error('reserved word \"'+id+'\"')),forcedIdentifier||(__indexOf.call(COFFEE_ALIASES,id)>=0&&(id=COFFEE_ALIAS_MAP[id]),tag=function(){switch(id){case\"!\":return\"UNARY\";case\"==\":case\"!=\":return\"COMPARE\";case\"&&\":case\"||\":return\"LOGIC\";case\"true\":case\"false\":return\"BOOL\";case\"break\":case\"continue\":return\"STATEMENT\";default:return tag}}()),tagToken=this.token(tag,id,0,idLength),poppedToken&&(_ref4=[poppedToken[2].first_line,poppedToken[2].first_column],tagToken[2].first_line=_ref4[0],tagToken[2].first_column=_ref4[1]),colon&&(colonOffset=input.lastIndexOf(\":\"),this.token(\":\",\":\",colonOffset,colon.length)),input.length)):0},Lexer.prototype.numberToken=function(){var binaryLiteral,lexedLength,match,number,octalLiteral;return(match=NUMBER.exec(this.chunk))?(number=match[0],/^0[BOX]/.test(number)?this.error(\"radix prefix '\"+number+\"' must be lowercase\"):/E/.test(number)&&!/^0x/.test(number)?this.error(\"exponential notation '\"+number+\"' must be indicated with a lowercase 'e'\"):/^0\\d*[89]/.test(number)?this.error(\"decimal literal '\"+number+\"' must not be prefixed with '0'\"):/^0\\d+/.test(number)&&this.error(\"octal literal '\"+number+\"' must be prefixed with '0o'\"),lexedLength=number.length,(octalLiteral=/^0o([0-7]+)/.exec(number))&&(number=\"0x\"+parseInt(octalLiteral[1],8).toString(16)),(binaryLiteral=/^0b([01]+)/.exec(number))&&(number=\"0x\"+parseInt(binaryLiteral[1],2).toString(16)),this.token(\"NUMBER\",number,0,lexedLength),lexedLength):0},Lexer.prototype.stringToken=function(){var match,octalEsc,string;switch(this.chunk.charAt(0)){case\"'\":if(!(match=SIMPLESTR.exec(this.chunk)))return 0;string=match[0],this.token(\"STRING\",string.replace(MULTILINER,\"\\\\\\n\"),0,string.length);break;case'\"':if(!(string=this.balancedString(this.chunk,'\"')))return 0;string.indexOf(\"#{\",1)>0?this.interpolateString(string.slice(1,-1),{strOffset:1,lexedLength:string.length}):this.token(\"STRING\",this.escapeLines(string,0,string.length));break;default:return 0}return(octalEsc=/^(?:\\\\.|[^\\\\])*\\\\(?:0[0-7]|[1-7])/.test(string))&&this.error(\"octal escape sequences \"+string+\" are not allowed\"),string.length},Lexer.prototype.heredocToken=function(){var doc,heredoc,match,quote;return(match=HEREDOC.exec(this.chunk))?(heredoc=match[0],quote=heredoc.charAt(0),doc=this.sanitizeHeredoc(match[2],{quote:quote,indent:null}),'\"'===quote&&doc.indexOf(\"#{\")>=0?this.interpolateString(doc,{heredoc:!0,strOffset:3,lexedLength:heredoc.length}):this.token(\"STRING\",this.makeString(doc,quote,!0),0,heredoc.length),heredoc.length):0},Lexer.prototype.commentToken=function(){var comment,here,match;return(match=this.chunk.match(COMMENT))?(comment=match[0],here=match[1],here&&this.token(\"HERECOMMENT\",this.sanitizeHeredoc(here,{herecomment:!0,indent:Array(this.indent+1).join(\" \")}),0,comment.length),comment.length):0},Lexer.prototype.jsToken=function(){var match,script;return\"`\"===this.chunk.charAt(0)&&(match=JSTOKEN.exec(this.chunk))?(this.token(\"JS\",(script=match[0]).slice(1,-1),0,script.length),script.length):0},Lexer.prototype.regexToken=function(){var flags,length,match,prev,regex,_ref2,_ref3;return\"/\"!==this.chunk.charAt(0)?0:(match=HEREGEX.exec(this.chunk))?length=this.heregexToken(match):(prev=last(this.tokens),prev&&(_ref2=prev[0],__indexOf.call(prev.spaced?NOT_REGEX:NOT_SPACED_REGEX,_ref2)>=0)?0:(match=REGEX.exec(this.chunk))?(_ref3=match,match=_ref3[0],regex=_ref3[1],flags=_ref3[2],\"/*\"===regex.slice(0,2)&&this.error(\"regular expressions cannot begin with `*`\"),\"//\"===regex&&(regex=\"/(?:)/\"),this.token(\"REGEX\",\"\"+regex+flags,0,match.length),match.length):0)},Lexer.prototype.heregexToken=function(match){var body,flags,flagsOffset,heregex,plusToken,prev,re,tag,token,tokens,value,_i,_len,_ref2,_ref3,_ref4;if(heregex=match[0],body=match[1],flags=match[2],0>body.indexOf(\"#{\"))return re=body.replace(HEREGEX_OMIT,\"\").replace(/\\//g,\"\\\\/\"),re.match(/^\\*/)&&this.error(\"regular expressions cannot begin with `*`\"),this.token(\"REGEX\",\"/\"+(re||\"(?:)\")+\"/\"+flags,0,heregex.length),heregex.length;for(this.token(\"IDENTIFIER\",\"RegExp\",0,0),this.token(\"CALL_START\",\"(\",0,0),tokens=[],_ref2=this.interpolateString(body,{regex:!0}),_i=0,_len=_ref2.length;_len>_i;_i++){if(token=_ref2[_i],tag=token[0],value=token[1],\"TOKENS\"===tag)tokens.push.apply(tokens,value);else if(\"NEOSTRING\"===tag){if(!(value=value.replace(HEREGEX_OMIT,\"\")))continue;value=value.replace(/\\\\/g,\"\\\\\\\\\"),token[0]=\"STRING\",token[1]=this.makeString(value,'\"',!0),tokens.push(token)}else this.error(\"Unexpected \"+tag);prev=last(this.tokens),plusToken=[\"+\",\"+\"],plusToken[2]=prev[2],tokens.push(plusToken)}return tokens.pop(),\"STRING\"!==(null!=(_ref3=tokens[0])?_ref3[0]:void 0)&&(this.token(\"STRING\",'\"\"',0,0),this.token(\"+\",\"+\",0,0)),(_ref4=this.tokens).push.apply(_ref4,tokens),flags&&(flagsOffset=heregex.lastIndexOf(flags),this.token(\",\",\",\",flagsOffset,0),this.token(\"STRING\",'\"'+flags+'\"',flagsOffset,flags.length)),this.token(\")\",\")\",heregex.length-1,0),heregex.length},Lexer.prototype.lineToken=function(){var diff,indent,match,noNewlines,size;if(!(match=MULTI_DENT.exec(this.chunk)))return 0;if(indent=match[0],this.seenFor=!1,size=indent.length-1-indent.lastIndexOf(\"\\n\"),noNewlines=this.unfinished(),size-this.indebt===this.indent)return noNewlines?this.suppressNewlines():this.newlineToken(0),indent.length;if(size>this.indent){if(noNewlines)return this.indebt=size-this.indent,this.suppressNewlines(),indent.length;diff=size-this.indent+this.outdebt,this.token(\"INDENT\",diff,indent.length-size,size),this.indents.push(diff),this.ends.push(\"OUTDENT\"),this.outdebt=this.indebt=0}else this.indebt=0,this.outdentToken(this.indent-size,noNewlines,indent.length);return this.indent=size,indent.length},Lexer.prototype.outdentToken=function(moveOut,noNewlines,outdentLength){for(var dent,len;moveOut>0;)len=this.indents.length-1,void 0===this.indents[len]?moveOut=0:this.indents[len]===this.outdebt?(moveOut-=this.outdebt,this.outdebt=0):this.indents[len]<this.outdebt?(this.outdebt-=this.indents[len],moveOut-=this.indents[len]):(dent=this.indents.pop()+this.outdebt,moveOut-=dent,this.outdebt=0,this.pair(\"OUTDENT\"),this.token(\"OUTDENT\",dent,0,outdentLength));for(dent&&(this.outdebt-=moveOut);\";\"===this.value();)this.tokens.pop();return\"TERMINATOR\"===this.tag()||noNewlines||this.token(\"TERMINATOR\",\"\\n\",outdentLength,0),this},Lexer.prototype.whitespaceToken=function(){var match,nline,prev;return(match=WHITESPACE.exec(this.chunk))||(nline=\"\\n\"===this.chunk.charAt(0))?(prev=last(this.tokens),prev&&(prev[match?\"spaced\":\"newLine\"]=!0),match?match[0].length:0):0},Lexer.prototype.newlineToken=function(offset){for(;\";\"===this.value();)this.tokens.pop();return\"TERMINATOR\"!==this.tag()&&this.token(\"TERMINATOR\",\"\\n\",offset,0),this},Lexer.prototype.suppressNewlines=function(){return\"\\\\\"===this.value()&&this.tokens.pop(),this},Lexer.prototype.literalToken=function(){var match,prev,tag,value,_ref2,_ref3,_ref4,_ref5;if((match=OPERATOR.exec(this.chunk))?(value=match[0],CODE.test(value)&&this.tagParameters()):value=this.chunk.charAt(0),tag=value,prev=last(this.tokens),\"=\"===value&&prev&&(!prev[1].reserved&&(_ref2=prev[1],__indexOf.call(JS_FORBIDDEN,_ref2)>=0)&&this.error('reserved word \"'+this.value()+\"\\\" can't be assigned\"),\"||\"===(_ref3=prev[1])||\"&&\"===_ref3))return prev[0]=\"COMPOUND_ASSIGN\",prev[1]+=\"=\",value.length;if(\";\"===value)this.seenFor=!1,tag=\"TERMINATOR\";else if(__indexOf.call(MATH,value)>=0)tag=\"MATH\";else if(__indexOf.call(COMPARE,value)>=0)tag=\"COMPARE\";else if(__indexOf.call(COMPOUND_ASSIGN,value)>=0)tag=\"COMPOUND_ASSIGN\";else if(__indexOf.call(UNARY,value)>=0)tag=\"UNARY\";else if(__indexOf.call(SHIFT,value)>=0)tag=\"SHIFT\";else if(__indexOf.call(LOGIC,value)>=0||\"?\"===value&&(null!=prev?prev.spaced:void 0))tag=\"LOGIC\";else if(prev&&!prev.spaced)if(\"(\"===value&&(_ref4=prev[0],__indexOf.call(CALLABLE,_ref4)>=0))\"?\"===prev[0]&&(prev[0]=\"FUNC_EXIST\"),tag=\"CALL_START\";else if(\"[\"===value&&(_ref5=prev[0],__indexOf.call(INDEXABLE,_ref5)>=0))switch(tag=\"INDEX_START\",prev[0]){case\"?\":prev[0]=\"INDEX_SOAK\"}switch(value){case\"(\":case\"{\":case\"[\":this.ends.push(INVERSES[value]);break;case\")\":case\"}\":case\"]\":this.pair(value)}return this.token(tag,value),value.length},Lexer.prototype.sanitizeHeredoc=function(doc,options){var attempt,herecomment,indent,match,_ref2;if(indent=options.indent,herecomment=options.herecomment){if(HEREDOC_ILLEGAL.test(doc)&&this.error('block comment cannot contain \"*/\", starting'),0>doc.indexOf(\"\\n\"))return doc}else for(;match=HEREDOC_INDENT.exec(doc);)attempt=match[1],(null===indent||(_ref2=attempt.length)>0&&indent.length>_ref2)&&(indent=attempt);return indent&&(doc=doc.replace(RegExp(\"\\\\n\"+indent,\"g\"),\"\\n\")),herecomment||(doc=doc.replace(/^\\n/,\"\")),doc},Lexer.prototype.tagParameters=function(){var i,stack,tok,tokens;if(\")\"!==this.tag())return this;for(stack=[],tokens=this.tokens,i=tokens.length,tokens[--i][0]=\"PARAM_END\";tok=tokens[--i];)switch(tok[0]){case\")\":stack.push(tok);break;case\"(\":case\"CALL_START\":if(!stack.length)return\"(\"===tok[0]?(tok[0]=\"PARAM_START\",this):this;stack.pop()}return this},Lexer.prototype.closeIndentation=function(){return this.outdentToken(this.indent)},Lexer.prototype.balancedString=function(str,end){var continueCount,i,letter,match,prev,stack,_i,_ref2;for(continueCount=0,stack=[end],i=_i=1,_ref2=str.length;_ref2>=1?_ref2>_i:_i>_ref2;i=_ref2>=1?++_i:--_i)if(continueCount)--continueCount;else{switch(letter=str.charAt(i)){case\"\\\\\":++continueCount;continue;case end:if(stack.pop(),!stack.length)return str.slice(0,+i+1||9e9);end=stack[stack.length-1];continue}\"}\"!==end||'\"'!==letter&&\"'\"!==letter?\"}\"===end&&\"/\"===letter&&(match=HEREGEX.exec(str.slice(i))||REGEX.exec(str.slice(i)))?continueCount+=match[0].length-1:\"}\"===end&&\"{\"===letter?stack.push(end=\"}\"):'\"'===end&&\"#\"===prev&&\"{\"===letter&&stack.push(end=\"}\"):stack.push(end=letter),prev=letter}return this.error(\"missing \"+stack.pop()+\", starting\")},Lexer.prototype.interpolateString=function(str,options){var column,expr,heredoc,i,inner,interpolated,len,letter,lexedLength,line,locationToken,nested,offsetInChunk,pi,plusToken,popped,regex,rparen,strOffset,tag,token,tokens,value,_i,_len,_ref2,_ref3,_ref4;for(null==options&&(options={}),heredoc=options.heredoc,regex=options.regex,offsetInChunk=options.offsetInChunk,strOffset=options.strOffset,lexedLength=options.lexedLength,offsetInChunk=offsetInChunk||0,strOffset=strOffset||0,lexedLength=lexedLength||str.length,heredoc&&str.length>0&&\"\\n\"===str[0]&&(str=str.slice(1),strOffset++),tokens=[],pi=0,i=-1;letter=str.charAt(i+=1);)\"\\\\\"!==letter?\"#\"===letter&&\"{\"===str.charAt(i+1)&&(expr=this.balancedString(str.slice(i+1),\"}\"))&&(i>pi&&tokens.push(this.makeToken(\"NEOSTRING\",str.slice(pi,i),strOffset+pi)),inner=expr.slice(1,-1),inner.length&&(_ref2=this.getLineAndColumnFromChunk(strOffset+i+1),line=_ref2[0],column=_ref2[1],nested=(new Lexer).tokenize(inner,{line:line,column:column,rewrite:!1}),popped=nested.pop(),\"TERMINATOR\"===(null!=(_ref3=nested[0])?_ref3[0]:void 0)&&(popped=nested.shift()),(len=nested.length)&&(len>1&&(nested.unshift(this.makeToken(\"(\",\"(\",strOffset+i+1,0)),nested.push(this.makeToken(\")\",\")\",strOffset+i+1+inner.length,0))),tokens.push([\"TOKENS\",nested]))),i+=expr.length,pi=i+1):i+=1;if(i>pi&&str.length>pi&&tokens.push(this.makeToken(\"NEOSTRING\",str.slice(pi),strOffset+pi)),regex)return tokens;if(!tokens.length)return this.token(\"STRING\",'\"\"',offsetInChunk,lexedLength);for(\"NEOSTRING\"!==tokens[0][0]&&tokens.unshift(this.makeToken(\"NEOSTRING\",\"\",offsetInChunk)),(interpolated=tokens.length>1)&&this.token(\"(\",\"(\",offsetInChunk,0),i=_i=0,_len=tokens.length;_len>_i;i=++_i)token=tokens[i],tag=token[0],value=token[1],i&&(i&&(plusToken=this.token(\"+\",\"+\")),locationToken=\"TOKENS\"===tag?value[0]:token,plusToken[2]={first_line:locationToken[2].first_line,first_column:locationToken[2].first_column,last_line:locationToken[2].first_line,last_column:locationToken[2].first_column}),\"TOKENS\"===tag?(_ref4=this.tokens).push.apply(_ref4,value):\"NEOSTRING\"===tag?(token[0]=\"STRING\",token[1]=this.makeString(value,'\"',heredoc),this.tokens.push(token)):this.error(\"Unexpected \"+tag);return interpolated&&(rparen=this.makeToken(\")\",\")\",offsetInChunk+lexedLength,0),rparen.stringEnd=!0,this.tokens.push(rparen)),tokens},Lexer.prototype.pair=function(tag){var size,wanted;return tag!==(wanted=last(this.ends))?(\"OUTDENT\"!==wanted&&this.error(\"unmatched \"+tag),this.indent-=size=last(this.indents),this.outdentToken(size,!0),this.pair(tag)):this.ends.pop()},Lexer.prototype.getLineAndColumnFromChunk=function(offset){var column,lineCount,lines,string;return 0===offset?[this.chunkLine,this.chunkColumn]:(string=offset>=this.chunk.length?this.chunk:this.chunk.slice(0,+(offset-1)+1||9e9),lineCount=count(string,\"\\n\"),column=this.chunkColumn,lineCount>0?(lines=string.split(\"\\n\"),column=last(lines).length):column+=string.length,[this.chunkLine+lineCount,column])},Lexer.prototype.makeToken=function(tag,value,offsetInChunk,length){var lastCharacter,locationData,token,_ref2,_ref3;return null==offsetInChunk&&(offsetInChunk=0),null==length&&(length=value.length),locationData={},_ref2=this.getLineAndColumnFromChunk(offsetInChunk),locationData.first_line=_ref2[0],locationData.first_column=_ref2[1],lastCharacter=Math.max(0,length-1),_ref3=this.getLineAndColumnFromChunk(offsetInChunk+lastCharacter),locationData.last_line=_ref3[0],locationData.last_column=_ref3[1],token=[tag,value,locationData]},Lexer.prototype.token=function(tag,value,offsetInChunk,length){var token;return token=this.makeToken(tag,value,offsetInChunk,length),this.tokens.push(token),token},Lexer.prototype.tag=function(index,tag){var tok;return(tok=last(this.tokens,index))&&(tag?tok[0]=tag:tok[0])},Lexer.prototype.value=function(index,val){var tok;return(tok=last(this.tokens,index))&&(val?tok[1]=val:tok[1])},Lexer.prototype.unfinished=function(){var _ref2;return LINE_CONTINUER.test(this.chunk)||\"\\\\\"===(_ref2=this.tag())||\".\"===_ref2||\"?.\"===_ref2||\"?::\"===_ref2||\"UNARY\"===_ref2||\"MATH\"===_ref2||\"+\"===_ref2||\"-\"===_ref2||\"SHIFT\"===_ref2||\"RELATION\"===_ref2||\"COMPARE\"===_ref2||\"LOGIC\"===_ref2||\"THROW\"===_ref2||\"EXTENDS\"===_ref2},Lexer.prototype.escapeLines=function(str,heredoc){return str.replace(MULTILINER,heredoc?\"\\\\n\":\"\")},Lexer.prototype.makeString=function(body,quote,heredoc){return body?(body=body.replace(/\\\\([\\s\\S])/g,function(match,contents){return\"\\n\"===contents||contents===quote?contents:match}),body=body.replace(RegExp(\"\"+quote,\"g\"),\"\\\\$&\"),quote+this.escapeLines(body,heredoc)+quote):quote+quote},Lexer.prototype.error=function(message){return throwSyntaxError(message,{first_line:this.chunkLine,first_column:this.chunkColumn})},Lexer}(),JS_KEYWORDS=[\"true\",\"false\",\"null\",\"this\",\"new\",\"delete\",\"typeof\",\"in\",\"instanceof\",\"return\",\"throw\",\"break\",\"continue\",\"debugger\",\"if\",\"else\",\"switch\",\"for\",\"while\",\"do\",\"try\",\"catch\",\"finally\",\"class\",\"extends\",\"super\"],COFFEE_KEYWORDS=[\"undefined\",\"then\",\"unless\",\"until\",\"loop\",\"of\",\"by\",\"when\"],COFFEE_ALIAS_MAP={and:\"&&\",or:\"||\",is:\"==\",isnt:\"!=\",not:\"!\",yes:\"true\",no:\"false\",on:\"true\",off:\"false\"},COFFEE_ALIASES=function(){var _results;_results=[];for(key in COFFEE_ALIAS_MAP)_results.push(key);return _results}(),COFFEE_KEYWORDS=COFFEE_KEYWORDS.concat(COFFEE_ALIASES),RESERVED=[\"case\",\"default\",\"function\",\"var\",\"void\",\"with\",\"const\",\"let\",\"enum\",\"export\",\"import\",\"native\",\"__hasProp\",\"__extends\",\"__slice\",\"__bind\",\"__indexOf\",\"implements\",\"interface\",\"package\",\"private\",\"protected\",\"public\",\"static\",\"yield\"],STRICT_PROSCRIBED=[\"arguments\",\"eval\"],JS_FORBIDDEN=JS_KEYWORDS.concat(RESERVED).concat(STRICT_PROSCRIBED),exports.RESERVED=RESERVED.concat(JS_KEYWORDS).concat(COFFEE_KEYWORDS).concat(STRICT_PROSCRIBED),exports.STRICT_PROSCRIBED=STRICT_PROSCRIBED,BOM=65279,IDENTIFIER=/^([$A-Za-z_\\x7f-\\uffff][$\\w\\x7f-\\uffff]*)([^\\n\\S]*:(?!:))?/,NUMBER=/^0b[01]+|^0o[0-7]+|^0x[\\da-f]+|^\\d*\\.?\\d+(?:e[+-]?\\d+)?/i,HEREDOC=/^(\"\"\"|''')([\\s\\S]*?)(?:\\n[^\\n\\S]*)?\\1/,OPERATOR=/^(?:[-=]>|[-+*\\/%<>&|^!?=]=|>>>=?|([-+:])\\1|([&|<>])\\2=?|\\?(\\.|::)|\\.{2,3})/,WHITESPACE=/^[^\\n\\S]+/,COMMENT=/^###([^#][\\s\\S]*?)(?:###[^\\n\\S]*|(?:###)$)|^(?:\\s*#(?!##[^#]).*)+/,CODE=/^[-=]>/,MULTI_DENT=/^(?:\\n[^\\n\\S]*)+/,SIMPLESTR=/^'[^\\\\']*(?:\\\\.[^\\\\']*)*'/,JSTOKEN=/^`[^\\\\`]*(?:\\\\.[^\\\\`]*)*`/,REGEX=/^(\\/(?![\\s=])[^[\\/\\n\\\\]*(?:(?:\\\\[\\s\\S]|\\[[^\\]\\n\\\\]*(?:\\\\[\\s\\S][^\\]\\n\\\\]*)*])[^[\\/\\n\\\\]*)*\\/)([imgy]{0,4})(?!\\w)/,HEREGEX=/^\\/{3}([\\s\\S]+?)\\/{3}([imgy]{0,4})(?!\\w)/,HEREGEX_OMIT=/\\s+(?:#.*)?/g,MULTILINER=/\\n/g,HEREDOC_INDENT=/\\n+([^\\n\\S]*)/g,HEREDOC_ILLEGAL=/\\*\\//,LINE_CONTINUER=/^\\s*(?:,|\\??\\.(?![.\\d])|::)/,TRAILING_SPACES=/\\s+$/,COMPOUND_ASSIGN=[\"-=\",\"+=\",\"/=\",\"*=\",\"%=\",\"||=\",\"&&=\",\"?=\",\"<<=\",\">>=\",\">>>=\",\"&=\",\"^=\",\"|=\"],UNARY=[\"!\",\"~\",\"NEW\",\"TYPEOF\",\"DELETE\",\"DO\"],LOGIC=[\"&&\",\"||\",\"&\",\"|\",\"^\"],SHIFT=[\"<<\",\">>\",\">>>\"],COMPARE=[\"==\",\"!=\",\"<\",\">\",\"<=\",\">=\"],MATH=[\"*\",\"/\",\"%\"],RELATION=[\"IN\",\"OF\",\"INSTANCEOF\"],BOOL=[\"TRUE\",\"FALSE\"],NOT_REGEX=[\"NUMBER\",\"REGEX\",\"BOOL\",\"NULL\",\"UNDEFINED\",\"++\",\"--\",\"]\"],NOT_SPACED_REGEX=NOT_REGEX.concat(\")\",\"}\",\"THIS\",\"IDENTIFIER\",\"STRING\"),CALLABLE=[\"IDENTIFIER\",\"STRING\",\"REGEX\",\")\",\"]\",\"}\",\"?\",\"::\",\"@\",\"THIS\",\"SUPER\"],INDEXABLE=CALLABLE.concat(\"NUMBER\",\"BOOL\",\"NULL\",\"UNDEFINED\"),LINE_BREAK=[\"INDENT\",\"OUTDENT\",\"TERMINATOR\"]}),ace.define(\"ace/mode/coffee/rewriter\",[\"require\",\"exports\",\"module\"],function(acequire,exports){var BALANCED_PAIRS,EXPRESSION_CLOSE,EXPRESSION_END,EXPRESSION_START,IMPLICIT_BLOCK,IMPLICIT_CALL,IMPLICIT_END,IMPLICIT_FUNC,IMPLICIT_UNSPACED_CALL,INVERSES,LINEBREAKS,SINGLE_CLOSERS,SINGLE_LINERS,generate,left,rite,_i,_len,_ref,__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;l>i;i++)if(i in this&&this[i]===item)return i;return-1},__slice=[].slice;for(generate=function(tag,value){var tok;return tok=[tag,value],tok.generated=!0,tok},exports.Rewriter=function(){function Rewriter(){}return Rewriter.prototype.rewrite=function(tokens){return this.tokens=tokens,this.removeLeadingNewlines(),this.removeMidExpressionNewlines(),this.closeOpenCalls(),this.closeOpenIndexes(),this.addImplicitIndentation(),this.tagPostfixConditionals(),this.addImplicitBracesAndParens(),this.addLocationDataToGeneratedTokens(),this.tokens},Rewriter.prototype.scanTokens=function(block){var i,token,tokens;for(tokens=this.tokens,i=0;token=tokens[i];)i+=block.call(this,token,i,tokens);return!0},Rewriter.prototype.detectEnd=function(i,condition,action){var levels,token,tokens,_ref,_ref1;for(tokens=this.tokens,levels=0;token=tokens[i];){if(0===levels&&condition.call(this,token,i))return action.call(this,token,i);if(!token||0>levels)return action.call(this,token,i-1);_ref=token[0],__indexOf.call(EXPRESSION_START,_ref)>=0?levels+=1:(_ref1=token[0],__indexOf.call(EXPRESSION_END,_ref1)>=0&&(levels-=1)),i+=1}return i-1},Rewriter.prototype.removeLeadingNewlines=function(){var i,tag,_i,_len,_ref;for(_ref=this.tokens,i=_i=0,_len=_ref.length;_len>_i&&(tag=_ref[i][0],\"TERMINATOR\"===tag);i=++_i);return i?this.tokens.splice(0,i):void 0},Rewriter.prototype.removeMidExpressionNewlines=function(){return this.scanTokens(function(token,i,tokens){var _ref;return\"TERMINATOR\"===token[0]&&(_ref=this.tag(i+1),__indexOf.call(EXPRESSION_CLOSE,_ref)>=0)?(tokens.splice(i,1),0):1})},Rewriter.prototype.closeOpenCalls=function(){var action,condition;return condition=function(token,i){var _ref;return\")\"===(_ref=token[0])||\"CALL_END\"===_ref||\"OUTDENT\"===token[0]&&\")\"===this.tag(i-1)},action=function(token,i){return this.tokens[\"OUTDENT\"===token[0]?i-1:i][0]=\"CALL_END\"},this.scanTokens(function(token,i){return\"CALL_START\"===token[0]&&this.detectEnd(i+1,condition,action),1})},Rewriter.prototype.closeOpenIndexes=function(){var action,condition;return condition=function(token){var _ref;return\"]\"===(_ref=token[0])||\"INDEX_END\"===_ref},action=function(token){return token[0]=\"INDEX_END\"},this.scanTokens(function(token,i){return\"INDEX_START\"===token[0]&&this.detectEnd(i+1,condition,action),1})},Rewriter.prototype.matchTags=function(){var fuzz,i,j,pattern,_i,_ref,_ref1;for(i=arguments[0],pattern=arguments.length>=2?__slice.call(arguments,1):[],fuzz=0,j=_i=0,_ref=pattern.length;_ref>=0?_ref>_i:_i>_ref;j=_ref>=0?++_i:--_i){for(;\"HERECOMMENT\"===this.tag(i+j+fuzz);)fuzz+=2;if(null!=pattern[j]&&(\"string\"==typeof pattern[j]&&(pattern[j]=[pattern[j]]),_ref1=this.tag(i+j+fuzz),0>__indexOf.call(pattern[j],_ref1)))return!1}return!0},Rewriter.prototype.looksObjectish=function(j){return this.matchTags(j,\"@\",null,\":\")||this.matchTags(j,null,\":\")},Rewriter.prototype.findTagsBackwards=function(i,tags){var backStack,_ref,_ref1,_ref2,_ref3,_ref4,_ref5;for(backStack=[];i>=0&&(backStack.length||(_ref2=this.tag(i),0>__indexOf.call(tags,_ref2)&&(_ref3=this.tag(i),0>__indexOf.call(EXPRESSION_START,_ref3)||this.tokens[i].generated)&&(_ref4=this.tag(i),0>__indexOf.call(LINEBREAKS,_ref4))));)_ref=this.tag(i),__indexOf.call(EXPRESSION_END,_ref)>=0&&backStack.push(this.tag(i)),_ref1=this.tag(i),__indexOf.call(EXPRESSION_START,_ref1)>=0&&backStack.length&&backStack.pop(),i-=1;return _ref5=this.tag(i),__indexOf.call(tags,_ref5)>=0},Rewriter.prototype.addImplicitBracesAndParens=function(){var stack;return stack=[],this.scanTokens(function(token,i,tokens){var endImplicitCall,endImplicitObject,forward,inImplicit,inImplicitCall,inImplicitControl,inImplicitObject,nextTag,offset,prevTag,s,sameLine,stackIdx,stackTag,stackTop,startIdx,startImplicitCall,startImplicitObject,startsLine,tag,_ref,_ref1,_ref2,_ref3,_ref4,_ref5;if(tag=token[0],prevTag=(i>0?tokens[i-1]:[])[0],nextTag=(tokens.length-1>i?tokens[i+1]:[])[0],stackTop=function(){return stack[stack.length-1]},startIdx=i,forward=function(n){return i-startIdx+n},inImplicit=function(){var _ref,_ref1;return null!=(_ref=stackTop())?null!=(_ref1=_ref[2])?_ref1.ours:void 0:void 0},inImplicitCall=function(){var _ref;return inImplicit()&&\"(\"===(null!=(_ref=stackTop())?_ref[0]:void 0)},inImplicitObject=function(){var _ref;return inImplicit()&&\"{\"===(null!=(_ref=stackTop())?_ref[0]:void 0)},inImplicitControl=function(){var _ref;return inImplicit&&\"CONTROL\"===(null!=(_ref=stackTop())?_ref[0]:void 0)},startImplicitCall=function(j){var idx;return idx=null!=j?j:i,stack.push([\"(\",idx,{ours:!0}]),tokens.splice(idx,0,generate(\"CALL_START\",\"(\")),null==j?i+=1:void 0},endImplicitCall=function(){return stack.pop(),tokens.splice(i,0,generate(\"CALL_END\",\")\")),i+=1},startImplicitObject=function(j,startsLine){var idx;return null==startsLine&&(startsLine=!0),idx=null!=j?j:i,stack.push([\"{\",idx,{sameLine:!0,startsLine:startsLine,ours:!0}]),tokens.splice(idx,0,generate(\"{\",generate(new String(\"{\")))),null==j?i+=1:void 0},endImplicitObject=function(j){return j=null!=j?j:i,stack.pop(),tokens.splice(j,0,generate(\"}\",\"}\")),i+=1},inImplicitCall()&&(\"IF\"===tag||\"TRY\"===tag||\"FINALLY\"===tag||\"CATCH\"===tag||\"CLASS\"===tag||\"SWITCH\"===tag))return stack.push([\"CONTROL\",i,{ours:!0}]),forward(1);if(\"INDENT\"===tag&&inImplicit()){if(\"=>\"!==prevTag&&\"->\"!==prevTag&&\"[\"!==prevTag&&\"(\"!==prevTag&&\",\"!==prevTag&&\"{\"!==prevTag&&\"TRY\"!==prevTag&&\"ELSE\"!==prevTag&&\"=\"!==prevTag)for(;inImplicitCall();)endImplicitCall();\nreturn inImplicitControl()&&stack.pop(),stack.push([tag,i]),forward(1)}if(__indexOf.call(EXPRESSION_START,tag)>=0)return stack.push([tag,i]),forward(1);if(__indexOf.call(EXPRESSION_END,tag)>=0){for(;inImplicit();)inImplicitCall()?endImplicitCall():inImplicitObject()?endImplicitObject():stack.pop();stack.pop()}if((__indexOf.call(IMPLICIT_FUNC,tag)>=0&&token.spaced&&!token.stringEnd||\"?\"===tag&&i>0&&!tokens[i-1].spaced)&&(__indexOf.call(IMPLICIT_CALL,nextTag)>=0||__indexOf.call(IMPLICIT_UNSPACED_CALL,nextTag)>=0&&!(null!=(_ref=tokens[i+1])?_ref.spaced:void 0)&&!(null!=(_ref1=tokens[i+1])?_ref1.newLine:void 0)))return\"?\"===tag&&(tag=token[0]=\"FUNC_EXIST\"),startImplicitCall(i+1),forward(2);if(this.matchTags(i,IMPLICIT_FUNC,\"INDENT\",null,\":\")&&!this.findTagsBackwards(i,[\"CLASS\",\"EXTENDS\",\"IF\",\"CATCH\",\"SWITCH\",\"LEADING_WHEN\",\"FOR\",\"WHILE\",\"UNTIL\"]))return startImplicitCall(i+1),stack.push([\"INDENT\",i+2]),forward(3);if(\":\"===tag){for(s=\"@\"===this.tag(i-2)?i-2:i-1;\"HERECOMMENT\"===this.tag(s-2);)s-=2;return startsLine=0===s||(_ref2=this.tag(s-1),__indexOf.call(LINEBREAKS,_ref2)>=0)||tokens[s-1].newLine,stackTop()&&(_ref3=stackTop(),stackTag=_ref3[0],stackIdx=_ref3[1],(\"{\"===stackTag||\"INDENT\"===stackTag&&\"{\"===this.tag(stackIdx-1))&&(startsLine||\",\"===this.tag(s-1)||\"{\"===this.tag(s-1)))?forward(1):(startImplicitObject(s,!!startsLine),forward(2))}if(\"OUTDENT\"===prevTag&&inImplicitCall()&&(\".\"===tag||\"?.\"===tag||\"::\"===tag||\"?::\"===tag))return endImplicitCall(),forward(1);if(inImplicitObject()&&__indexOf.call(LINEBREAKS,tag)>=0&&(stackTop()[2].sameLine=!1),__indexOf.call(IMPLICIT_END,tag)>=0)for(;inImplicit();)if(_ref4=stackTop(),stackTag=_ref4[0],stackIdx=_ref4[1],_ref5=_ref4[2],sameLine=_ref5.sameLine,startsLine=_ref5.startsLine,inImplicitCall()&&\",\"!==prevTag)endImplicitCall();else if(inImplicitObject()&&sameLine&&!startsLine)endImplicitObject();else{if(!inImplicitObject()||\"TERMINATOR\"!==tag||\",\"===prevTag||startsLine&&this.looksObjectish(i+1))break;endImplicitObject()}if(\",\"===tag&&!this.looksObjectish(i+1)&&inImplicitObject()&&(\"TERMINATOR\"!==nextTag||!this.looksObjectish(i+2)))for(offset=\"OUTDENT\"===nextTag?1:0;inImplicitObject();)endImplicitObject(i+offset);return forward(1)})},Rewriter.prototype.addLocationDataToGeneratedTokens=function(){return this.scanTokens(function(token,i,tokens){var column,line,nextLocation,prevLocation,_ref,_ref1;return token[2]?1:token.generated||token.explicit?(\"{\"===token[0]&&(nextLocation=null!=(_ref=tokens[i+1])?_ref[2]:void 0)?(line=nextLocation.first_line,column=nextLocation.first_column):(prevLocation=null!=(_ref1=tokens[i-1])?_ref1[2]:void 0)?(line=prevLocation.last_line,column=prevLocation.last_column):line=column=0,token[2]={first_line:line,first_column:column,last_line:line,last_column:column},1):1})},Rewriter.prototype.addImplicitIndentation=function(){var action,condition,indent,outdent,starter;return starter=indent=outdent=null,condition=function(token){var _ref;return\";\"!==token[1]&&(_ref=token[0],__indexOf.call(SINGLE_CLOSERS,_ref)>=0)&&!(\"ELSE\"===token[0]&&\"IF\"!==starter&&\"THEN\"!==starter)},action=function(token,i){return this.tokens.splice(\",\"===this.tag(i-1)?i-1:i,0,outdent)},this.scanTokens(function(token,i,tokens){var j,tag,_i,_ref,_ref1;if(tag=token[0],\"TERMINATOR\"===tag&&\"THEN\"===this.tag(i+1))return tokens.splice(i,1),0;if(\"ELSE\"===tag&&\"OUTDENT\"!==this.tag(i-1))return tokens.splice.apply(tokens,[i,0].concat(__slice.call(this.indentation()))),2;if(\"CATCH\"===tag)for(j=_i=1;2>=_i;j=++_i)if(\"OUTDENT\"===(_ref=this.tag(i+j))||\"TERMINATOR\"===_ref||\"FINALLY\"===_ref)return tokens.splice.apply(tokens,[i+j,0].concat(__slice.call(this.indentation()))),2+j;return __indexOf.call(SINGLE_LINERS,tag)>=0&&\"INDENT\"!==this.tag(i+1)&&(\"ELSE\"!==tag||\"IF\"!==this.tag(i+1))?(starter=tag,_ref1=this.indentation(!0),indent=_ref1[0],outdent=_ref1[1],\"THEN\"===starter&&(indent.fromThen=!0),tokens.splice(i+1,0,indent),this.detectEnd(i+2,condition,action),\"THEN\"===tag&&tokens.splice(i,1),1):1})},Rewriter.prototype.tagPostfixConditionals=function(){var action,condition,original;return original=null,condition=function(token,i){var prevTag,tag;return tag=token[0],prevTag=this.tokens[i-1][0],\"TERMINATOR\"===tag||\"INDENT\"===tag&&0>__indexOf.call(SINGLE_LINERS,prevTag)},action=function(token){return\"INDENT\"!==token[0]||token.generated&&!token.fromThen?original[0]=\"POST_\"+original[0]:void 0},this.scanTokens(function(token,i){return\"IF\"!==token[0]?1:(original=token,this.detectEnd(i+1,condition,action),1)})},Rewriter.prototype.indentation=function(implicit){var indent,outdent;return null==implicit&&(implicit=!1),indent=[\"INDENT\",2],outdent=[\"OUTDENT\",2],implicit&&(indent.generated=outdent.generated=!0),implicit||(indent.explicit=outdent.explicit=!0),[indent,outdent]},Rewriter.prototype.generate=generate,Rewriter.prototype.tag=function(i){var _ref;return null!=(_ref=this.tokens[i])?_ref[0]:void 0},Rewriter}(),BALANCED_PAIRS=[[\"(\",\")\"],[\"[\",\"]\"],[\"{\",\"}\"],[\"INDENT\",\"OUTDENT\"],[\"CALL_START\",\"CALL_END\"],[\"PARAM_START\",\"PARAM_END\"],[\"INDEX_START\",\"INDEX_END\"]],exports.INVERSES=INVERSES={},EXPRESSION_START=[],EXPRESSION_END=[],_i=0,_len=BALANCED_PAIRS.length;_len>_i;_i++)_ref=BALANCED_PAIRS[_i],left=_ref[0],rite=_ref[1],EXPRESSION_START.push(INVERSES[rite]=left),EXPRESSION_END.push(INVERSES[left]=rite);EXPRESSION_CLOSE=[\"CATCH\",\"WHEN\",\"ELSE\",\"FINALLY\"].concat(EXPRESSION_END),IMPLICIT_FUNC=[\"IDENTIFIER\",\"SUPER\",\")\",\"CALL_END\",\"]\",\"INDEX_END\",\"@\",\"THIS\"],IMPLICIT_CALL=[\"IDENTIFIER\",\"NUMBER\",\"STRING\",\"JS\",\"REGEX\",\"NEW\",\"PARAM_START\",\"CLASS\",\"IF\",\"TRY\",\"SWITCH\",\"THIS\",\"BOOL\",\"NULL\",\"UNDEFINED\",\"UNARY\",\"SUPER\",\"THROW\",\"@\",\"->\",\"=>\",\"[\",\"(\",\"{\",\"--\",\"++\"],IMPLICIT_UNSPACED_CALL=[\"+\",\"-\"],IMPLICIT_BLOCK=[\"->\",\"=>\",\"{\",\"[\",\",\"],IMPLICIT_END=[\"POST_IF\",\"FOR\",\"WHILE\",\"UNTIL\",\"WHEN\",\"BY\",\"LOOP\",\"TERMINATOR\"],SINGLE_LINERS=[\"ELSE\",\"->\",\"=>\",\"TRY\",\"FINALLY\",\"THEN\"],SINGLE_CLOSERS=[\"TERMINATOR\",\"CATCH\",\"FINALLY\",\"ELSE\",\"OUTDENT\",\"LEADING_WHEN\"],LINEBREAKS=[\"TERMINATOR\",\"INDENT\",\"OUTDENT\"]}),ace.define(\"ace/mode/coffee/helpers\",[\"require\",\"exports\",\"module\"],function(acequire,exports){var buildLocationData,extend,flatten,last,repeat,_ref;exports.starts=function(string,literal,start){return literal===string.substr(start,literal.length)},exports.ends=function(string,literal,back){var len;return len=literal.length,literal===string.substr(string.length-len-(back||0),len)},exports.repeat=repeat=function(str,n){var res;for(res=\"\";n>0;)1&n&&(res+=str),n>>>=1,str+=str;return res},exports.compact=function(array){var item,_i,_len,_results;for(_results=[],_i=0,_len=array.length;_len>_i;_i++)item=array[_i],item&&_results.push(item);return _results},exports.count=function(string,substr){var num,pos;if(num=pos=0,!substr.length)return 1/0;for(;pos=1+string.indexOf(substr,pos);)num++;return num},exports.merge=function(options,overrides){return extend(extend({},options),overrides)},extend=exports.extend=function(object,properties){var key,val;for(key in properties)val=properties[key],object[key]=val;return object},exports.flatten=flatten=function(array){var element,flattened,_i,_len;for(flattened=[],_i=0,_len=array.length;_len>_i;_i++)element=array[_i],element instanceof Array?flattened=flattened.concat(flatten(element)):flattened.push(element);return flattened},exports.del=function(obj,key){var val;return val=obj[key],delete obj[key],val},exports.last=last=function(array,back){return array[array.length-(back||0)-1]},exports.some=null!=(_ref=Array.prototype.some)?_ref:function(fn){var e,_i,_len;for(_i=0,_len=this.length;_len>_i;_i++)if(e=this[_i],fn(e))return!0;return!1},exports.invertLiterate=function(code){var line,lines,maybe_code;return maybe_code=!0,lines=function(){var _i,_len,_ref1,_results;for(_ref1=code.split(\"\\n\"),_results=[],_i=0,_len=_ref1.length;_len>_i;_i++)line=_ref1[_i],maybe_code&&/^([ ]{4}|[ ]{0,3}\\t)/.test(line)?_results.push(line):(maybe_code=/^\\s*$/.test(line))?_results.push(line):_results.push(\"# \"+line);return _results}(),lines.join(\"\\n\")},buildLocationData=function(first,last){return last?{first_line:first.first_line,first_column:first.first_column,last_line:last.last_line,last_column:last.last_column}:first},exports.addLocationDataFn=function(first,last){return function(obj){return\"object\"==typeof obj&&obj.updateLocationDataIfMissing&&obj.updateLocationDataIfMissing(buildLocationData(first,last)),obj}},exports.locationDataToString=function(obj){var locationData;return\"2\"in obj&&\"first_line\"in obj[2]?locationData=obj[2]:\"first_line\"in obj&&(locationData=obj),locationData?\"\"+(locationData.first_line+1)+\":\"+(locationData.first_column+1)+\"-\"+(\"\"+(locationData.last_line+1)+\":\"+(locationData.last_column+1)):\"No location data\"},exports.baseFileName=function(file,stripExt,useWinPathSep){var parts,pathSep;return null==stripExt&&(stripExt=!1),null==useWinPathSep&&(useWinPathSep=!1),pathSep=useWinPathSep?/\\\\|\\//:/\\//,parts=file.split(pathSep),file=parts[parts.length-1],stripExt?(parts=file.split(\".\"),parts.pop(),\"coffee\"===parts[parts.length-1]&&parts.length>1&&parts.pop(),parts.join(\".\")):file},exports.isCoffee=function(file){return/\\.((lit)?coffee|coffee\\.md)$/.test(file)},exports.isLiterate=function(file){return/\\.(litcoffee|coffee\\.md)$/.test(file)},exports.throwSyntaxError=function(message,location){var error,_ref1,_ref2;throw null==(_ref1=location.last_line)&&(location.last_line=location.first_line),null==(_ref2=location.last_column)&&(location.last_column=location.first_column),error=new SyntaxError(message),error.location=location,error},exports.prettyErrorMessage=function(error,fileName,code,useColors){var codeLine,colorize,end,first_column,first_line,last_column,last_line,marker,message,start,_ref1;return error.location?(_ref1=error.location,first_line=_ref1.first_line,first_column=_ref1.first_column,last_line=_ref1.last_line,last_column=_ref1.last_column,codeLine=code.split(\"\\n\")[first_line],start=first_column,end=first_line===last_line?last_column+1:codeLine.length,marker=repeat(\" \",start)+repeat(\"^\",end-start),useColors&&(colorize=function(str){return\"\u001b[1;31m\"+str+\"\u001b[0m\"},codeLine=codeLine.slice(0,start)+colorize(codeLine.slice(start,end))+codeLine.slice(end),marker=colorize(marker)),message=\"\"+fileName+\":\"+(first_line+1)+\":\"+(first_column+1)+\": error: \"+error.message+\"\\n\"+codeLine+\"\\n\"+marker):error.stack||\"\"+error}}),ace.define(\"ace/mode/coffee/parser\",[\"require\",\"exports\",\"module\"],function(acequire,exports,module){function Parser(){this.yy={}}var parser={trace:function(){},yy:{},symbols_:{error:2,Root:3,Body:4,Block:5,TERMINATOR:6,Line:7,Expression:8,Statement:9,Return:10,Comment:11,STATEMENT:12,Value:13,Invocation:14,Code:15,Operation:16,Assign:17,If:18,Try:19,While:20,For:21,Switch:22,Class:23,Throw:24,INDENT:25,OUTDENT:26,Identifier:27,IDENTIFIER:28,AlphaNumeric:29,NUMBER:30,STRING:31,Literal:32,JS:33,REGEX:34,DEBUGGER:35,UNDEFINED:36,NULL:37,BOOL:38,Assignable:39,\"=\":40,AssignObj:41,ObjAssignable:42,\":\":43,ThisProperty:44,RETURN:45,HERECOMMENT:46,PARAM_START:47,ParamList:48,PARAM_END:49,FuncGlyph:50,\"->\":51,\"=>\":52,OptComma:53,\",\":54,Param:55,ParamVar:56,\"...\":57,Array:58,Object:59,Splat:60,SimpleAssignable:61,Accessor:62,Parenthetical:63,Range:64,This:65,\".\":66,\"?.\":67,\"::\":68,\"?::\":69,Index:70,INDEX_START:71,IndexValue:72,INDEX_END:73,INDEX_SOAK:74,Slice:75,\"{\":76,AssignList:77,\"}\":78,CLASS:79,EXTENDS:80,OptFuncExist:81,Arguments:82,SUPER:83,FUNC_EXIST:84,CALL_START:85,CALL_END:86,ArgList:87,THIS:88,\"@\":89,\"[\":90,\"]\":91,RangeDots:92,\"..\":93,Arg:94,SimpleArgs:95,TRY:96,Catch:97,FINALLY:98,CATCH:99,THROW:100,\"(\":101,\")\":102,WhileSource:103,WHILE:104,WHEN:105,UNTIL:106,Loop:107,LOOP:108,ForBody:109,FOR:110,ForStart:111,ForSource:112,ForVariables:113,OWN:114,ForValue:115,FORIN:116,FOROF:117,BY:118,SWITCH:119,Whens:120,ELSE:121,When:122,LEADING_WHEN:123,IfBlock:124,IF:125,POST_IF:126,UNARY:127,\"-\":128,\"+\":129,\"--\":130,\"++\":131,\"?\":132,MATH:133,SHIFT:134,COMPARE:135,LOGIC:136,RELATION:137,COMPOUND_ASSIGN:138,$accept:0,$end:1},terminals_:{2:\"error\",6:\"TERMINATOR\",12:\"STATEMENT\",25:\"INDENT\",26:\"OUTDENT\",28:\"IDENTIFIER\",30:\"NUMBER\",31:\"STRING\",33:\"JS\",34:\"REGEX\",35:\"DEBUGGER\",36:\"UNDEFINED\",37:\"NULL\",38:\"BOOL\",40:\"=\",43:\":\",45:\"RETURN\",46:\"HERECOMMENT\",47:\"PARAM_START\",49:\"PARAM_END\",51:\"->\",52:\"=>\",54:\",\",57:\"...\",66:\".\",67:\"?.\",68:\"::\",69:\"?::\",71:\"INDEX_START\",73:\"INDEX_END\",74:\"INDEX_SOAK\",76:\"{\",78:\"}\",79:\"CLASS\",80:\"EXTENDS\",83:\"SUPER\",84:\"FUNC_EXIST\",85:\"CALL_START\",86:\"CALL_END\",88:\"THIS\",89:\"@\",90:\"[\",91:\"]\",93:\"..\",96:\"TRY\",98:\"FINALLY\",99:\"CATCH\",100:\"THROW\",101:\"(\",102:\")\",104:\"WHILE\",105:\"WHEN\",106:\"UNTIL\",108:\"LOOP\",110:\"FOR\",114:\"OWN\",116:\"FORIN\",117:\"FOROF\",118:\"BY\",119:\"SWITCH\",121:\"ELSE\",123:\"LEADING_WHEN\",125:\"IF\",126:\"POST_IF\",127:\"UNARY\",128:\"-\",129:\"+\",130:\"--\",131:\"++\",132:\"?\",133:\"MATH\",134:\"SHIFT\",135:\"COMPARE\",136:\"LOGIC\",137:\"RELATION\",138:\"COMPOUND_ASSIGN\"},productions_:[0,[3,0],[3,1],[3,2],[4,1],[4,3],[4,2],[7,1],[7,1],[9,1],[9,1],[9,1],[8,1],[8,1],[8,1],[8,1],[8,1],[8,1],[8,1],[8,1],[8,1],[8,1],[8,1],[8,1],[5,2],[5,3],[27,1],[29,1],[29,1],[32,1],[32,1],[32,1],[32,1],[32,1],[32,1],[32,1],[17,3],[17,4],[17,5],[41,1],[41,3],[41,5],[41,1],[42,1],[42,1],[42,1],[10,2],[10,1],[11,1],[15,5],[15,2],[50,1],[50,1],[53,0],[53,1],[48,0],[48,1],[48,3],[48,4],[48,6],[55,1],[55,2],[55,3],[56,1],[56,1],[56,1],[56,1],[60,2],[61,1],[61,2],[61,2],[61,1],[39,1],[39,1],[39,1],[13,1],[13,1],[13,1],[13,1],[13,1],[62,2],[62,2],[62,2],[62,2],[62,1],[62,1],[70,3],[70,2],[72,1],[72,1],[59,4],[77,0],[77,1],[77,3],[77,4],[77,6],[23,1],[23,2],[23,3],[23,4],[23,2],[23,3],[23,4],[23,5],[14,3],[14,3],[14,1],[14,2],[81,0],[81,1],[82,2],[82,4],[65,1],[65,1],[44,2],[58,2],[58,4],[92,1],[92,1],[64,5],[75,3],[75,2],[75,2],[75,1],[87,1],[87,3],[87,4],[87,4],[87,6],[94,1],[94,1],[95,1],[95,3],[19,2],[19,3],[19,4],[19,5],[97,3],[97,3],[97,2],[24,2],[63,3],[63,5],[103,2],[103,4],[103,2],[103,4],[20,2],[20,2],[20,2],[20,1],[107,2],[107,2],[21,2],[21,2],[21,2],[109,2],[109,2],[111,2],[111,3],[115,1],[115,1],[115,1],[115,1],[113,1],[113,3],[112,2],[112,2],[112,4],[112,4],[112,4],[112,6],[112,6],[22,5],[22,7],[22,4],[22,6],[120,1],[120,2],[122,3],[122,4],[124,3],[124,5],[18,1],[18,3],[18,3],[18,3],[16,2],[16,2],[16,2],[16,2],[16,2],[16,2],[16,2],[16,2],[16,3],[16,3],[16,3],[16,3],[16,3],[16,3],[16,3],[16,3],[16,5],[16,4],[16,3]],performAction:function(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Block);case 2:return this.$=$$[$0];case 3:return this.$=$$[$0-1];case 4:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(yy.Block.wrap([$$[$0]]));break;case 5:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])($$[$0-2].push($$[$0]));break;case 6:this.$=$$[$0-1];break;case 7:this.$=$$[$0];break;case 8:this.$=$$[$0];break;case 9:this.$=$$[$0];break;case 10:this.$=$$[$0];break;case 11:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Literal($$[$0]));break;case 12:this.$=$$[$0];break;case 13:this.$=$$[$0];break;case 14:this.$=$$[$0];break;case 15:this.$=$$[$0];break;case 16:this.$=$$[$0];break;case 17:this.$=$$[$0];break;case 18:this.$=$$[$0];break;case 19:this.$=$$[$0];break;case 20:this.$=$$[$0];break;case 21:this.$=$$[$0];break;case 22:this.$=$$[$0];break;case 23:this.$=$$[$0];break;case 24:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.Block);break;case 25:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])($$[$0-1]);break;case 26:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Literal($$[$0]));break;case 27:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Literal($$[$0]));break;case 28:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Literal($$[$0]));break;case 29:this.$=$$[$0];break;case 30:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Literal($$[$0]));break;case 31:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Literal($$[$0]));break;case 32:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Literal($$[$0]));break;case 33:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Undefined);break;case 34:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Null);break;case 35:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Bool($$[$0]));break;case 36:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])(new yy.Assign($$[$0-2],$$[$0]));break;case 37:this.$=yy.addLocationDataFn(_$[$0-3],_$[$0])(new yy.Assign($$[$0-3],$$[$0]));break;case 38:this.$=yy.addLocationDataFn(_$[$0-4],_$[$0])(new yy.Assign($$[$0-4],$$[$0-1]));break;case 39:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Value($$[$0]));break;case 40:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])(new yy.Assign(yy.addLocationDataFn(_$[$0-2])(new yy.Value($$[$0-2])),$$[$0],\"object\"));break;case 41:this.$=yy.addLocationDataFn(_$[$0-4],_$[$0])(new yy.Assign(yy.addLocationDataFn(_$[$0-4])(new yy.Value($$[$0-4])),$$[$0-1],\"object\"));break;case 42:this.$=$$[$0];break;case 43:this.$=$$[$0];break;case 44:this.$=$$[$0];break;case 45:this.$=$$[$0];break;case 46:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.Return($$[$0]));break;case 47:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Return);break;case 48:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Comment($$[$0]));break;case 49:this.$=yy.addLocationDataFn(_$[$0-4],_$[$0])(new yy.Code($$[$0-3],$$[$0],$$[$0-1]));break;case 50:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.Code([],$$[$0],$$[$0-1]));break;case 51:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(\"func\");break;case 52:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(\"boundfunc\");break;case 53:this.$=$$[$0];break;case 54:this.$=$$[$0];break;case 55:this.$=yy.addLocationDataFn(_$[$0],_$[$0])([]);break;case 56:this.$=yy.addLocationDataFn(_$[$0],_$[$0])([$$[$0]]);break;case 57:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])($$[$0-2].concat($$[$0]));break;case 58:this.$=yy.addLocationDataFn(_$[$0-3],_$[$0])($$[$0-3].concat($$[$0]));break;case 59:this.$=yy.addLocationDataFn(_$[$0-5],_$[$0])($$[$0-5].concat($$[$0-2]));break;case 60:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Param($$[$0]));break;case 61:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.Param($$[$0-1],null,!0));break;case 62:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])(new yy.Param($$[$0-2],$$[$0]));break;case 63:this.$=$$[$0];break;case 64:this.$=$$[$0];break;case 65:this.$=$$[$0];break;case 66:this.$=$$[$0];break;case 67:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.Splat($$[$0-1]));break;case 68:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Value($$[$0]));break;case 69:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])($$[$0-1].add($$[$0]));break;case 70:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.Value($$[$0-1],[].concat($$[$0])));break;case 71:this.$=$$[$0];break;case 72:this.$=$$[$0];break;case 73:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Value($$[$0]));break;case 74:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Value($$[$0]));break;case 75:this.$=$$[$0];break;case 76:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Value($$[$0]));break;case 77:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Value($$[$0]));break;case 78:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Value($$[$0]));break;case 79:this.$=$$[$0];break;case 80:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.Access($$[$0]));break;case 81:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.Access($$[$0],\"soak\"));break;case 82:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])([yy.addLocationDataFn(_$[$0-1])(new yy.Access(new yy.Literal(\"prototype\"))),yy.addLocationDataFn(_$[$0])(new yy.Access($$[$0]))]);break;case 83:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])([yy.addLocationDataFn(_$[$0-1])(new yy.Access(new yy.Literal(\"prototype\"),\"soak\")),yy.addLocationDataFn(_$[$0])(new yy.Access($$[$0]))]);break;case 84:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Access(new yy.Literal(\"prototype\")));break;case 85:this.$=$$[$0];break;case 86:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])($$[$0-1]);break;case 87:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(yy.extend($$[$0],{soak:!0}));break;case 88:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Index($$[$0]));break;case 89:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Slice($$[$0]));break;case 90:this.$=yy.addLocationDataFn(_$[$0-3],_$[$0])(new yy.Obj($$[$0-2],$$[$0-3].generated));break;case 91:this.$=yy.addLocationDataFn(_$[$0],_$[$0])([]);break;case 92:this.$=yy.addLocationDataFn(_$[$0],_$[$0])([$$[$0]]);break;case 93:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])($$[$0-2].concat($$[$0]));break;case 94:this.$=yy.addLocationDataFn(_$[$0-3],_$[$0])($$[$0-3].concat($$[$0]));break;case 95:this.$=yy.addLocationDataFn(_$[$0-5],_$[$0])($$[$0-5].concat($$[$0-2]));break;case 96:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Class);break;case 97:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.Class(null,null,$$[$0]));break;case 98:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])(new yy.Class(null,$$[$0]));break;case 99:this.$=yy.addLocationDataFn(_$[$0-3],_$[$0])(new yy.Class(null,$$[$0-1],$$[$0]));break;case 100:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.Class($$[$0]));break;case 101:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])(new yy.Class($$[$0-1],null,$$[$0]));break;case 102:this.$=yy.addLocationDataFn(_$[$0-3],_$[$0])(new yy.Class($$[$0-2],$$[$0]));break;case 103:this.$=yy.addLocationDataFn(_$[$0-4],_$[$0])(new yy.Class($$[$0-3],$$[$0-1],$$[$0]));break;case 104:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])(new yy.Call($$[$0-2],$$[$0],$$[$0-1]));break;case 105:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])(new yy.Call($$[$0-2],$$[$0],$$[$0-1]));break;case 106:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Call(\"super\",[new yy.Splat(new yy.Literal(\"arguments\"))]));break;case 107:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.Call(\"super\",$$[$0]));break;case 108:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(!1);break;case 109:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(!0);break;case 110:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])([]);break;case 111:this.$=yy.addLocationDataFn(_$[$0-3],_$[$0])($$[$0-2]);break;case 112:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Value(new yy.Literal(\"this\")));break;case 113:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Value(new yy.Literal(\"this\")));break;case 114:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.Value(yy.addLocationDataFn(_$[$0-1])(new yy.Literal(\"this\")),[yy.addLocationDataFn(_$[$0])(new yy.Access($$[$0]))],\"this\"));break;case 115:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.Arr([]));break;case 116:this.$=yy.addLocationDataFn(_$[$0-3],_$[$0])(new yy.Arr($$[$0-2]));break;case 117:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(\"inclusive\");break;case 118:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(\"exclusive\");break;case 119:this.$=yy.addLocationDataFn(_$[$0-4],_$[$0])(new yy.Range($$[$0-3],$$[$0-1],$$[$0-2]));break;case 120:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])(new yy.Range($$[$0-2],$$[$0],$$[$0-1]));break;case 121:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.Range($$[$0-1],null,$$[$0]));break;case 122:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.Range(null,$$[$0],$$[$0-1]));break;case 123:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Range(null,null,$$[$0]));break;case 124:this.$=yy.addLocationDataFn(_$[$0],_$[$0])([$$[$0]]);break;case 125:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])($$[$0-2].concat($$[$0]));break;case 126:this.$=yy.addLocationDataFn(_$[$0-3],_$[$0])($$[$0-3].concat($$[$0]));break;case 127:this.$=yy.addLocationDataFn(_$[$0-3],_$[$0])($$[$0-2]);break;case 128:this.$=yy.addLocationDataFn(_$[$0-5],_$[$0])($$[$0-5].concat($$[$0-2]));break;case 129:this.$=$$[$0];break;case 130:this.$=$$[$0];break;case 131:this.$=$$[$0];break;case 132:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])([].concat($$[$0-2],$$[$0]));break;case 133:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.Try($$[$0]));break;case 134:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])(new yy.Try($$[$0-1],$$[$0][0],$$[$0][1]));break;case 135:this.$=yy.addLocationDataFn(_$[$0-3],_$[$0])(new yy.Try($$[$0-2],null,null,$$[$0]));break;case 136:this.$=yy.addLocationDataFn(_$[$0-4],_$[$0])(new yy.Try($$[$0-3],$$[$0-2][0],$$[$0-2][1],$$[$0]));break;case 137:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])([$$[$0-1],$$[$0]]);break;case 138:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])([yy.addLocationDataFn(_$[$0-1])(new yy.Value($$[$0-1])),$$[$0]]);break;case 139:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])([null,$$[$0]]);break;case 140:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.Throw($$[$0]));break;case 141:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])(new yy.Parens($$[$0-1]));break;case 142:this.$=yy.addLocationDataFn(_$[$0-4],_$[$0])(new yy.Parens($$[$0-2]));break;case 143:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.While($$[$0]));break;case 144:this.$=yy.addLocationDataFn(_$[$0-3],_$[$0])(new yy.While($$[$0-2],{guard:$$[$0]}));break;case 145:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.While($$[$0],{invert:!0}));break;case 146:this.$=yy.addLocationDataFn(_$[$0-3],_$[$0])(new yy.While($$[$0-2],{invert:!0,guard:$$[$0]}));break;case 147:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])($$[$0-1].addBody($$[$0]));break;case 148:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])($$[$0].addBody(yy.addLocationDataFn(_$[$0-1])(yy.Block.wrap([$$[$0-1]]))));break;case 149:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])($$[$0].addBody(yy.addLocationDataFn(_$[$0-1])(yy.Block.wrap([$$[$0-1]]))));break;case 150:this.$=yy.addLocationDataFn(_$[$0],_$[$0])($$[$0]);break;case 151:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.While(yy.addLocationDataFn(_$[$0-1])(new yy.Literal(\"true\"))).addBody($$[$0]));break;case 152:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.While(yy.addLocationDataFn(_$[$0-1])(new yy.Literal(\"true\"))).addBody(yy.addLocationDataFn(_$[$0])(yy.Block.wrap([$$[$0]]))));break;case 153:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.For($$[$0-1],$$[$0]));break;case 154:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.For($$[$0-1],$$[$0]));break;case 155:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.For($$[$0],$$[$0-1]));break;case 156:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])({source:yy.addLocationDataFn(_$[$0])(new yy.Value($$[$0]))});break;case 157:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(function(){return $$[$0].own=$$[$0-1].own,$$[$0].name=$$[$0-1][0],$$[$0].index=$$[$0-1][1],$$[$0]}());break;case 158:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])($$[$0]);break;case 159:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])(function(){return $$[$0].own=!0,$$[$0]}());break;case 160:this.$=$$[$0];break;case 161:this.$=$$[$0];break;case 162:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Value($$[$0]));break;case 163:this.$=yy.addLocationDataFn(_$[$0],_$[$0])(new yy.Value($$[$0]));break;case 164:this.$=yy.addLocationDataFn(_$[$0],_$[$0])([$$[$0]]);break;case 165:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])([$$[$0-2],$$[$0]]);break;case 166:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])({source:$$[$0]});break;case 167:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])({source:$$[$0],object:!0});break;case 168:this.$=yy.addLocationDataFn(_$[$0-3],_$[$0])({source:$$[$0-2],guard:$$[$0]});break;case 169:this.$=yy.addLocationDataFn(_$[$0-3],_$[$0])({source:$$[$0-2],guard:$$[$0],object:!0});break;case 170:this.$=yy.addLocationDataFn(_$[$0-3],_$[$0])({source:$$[$0-2],step:$$[$0]});break;case 171:this.$=yy.addLocationDataFn(_$[$0-5],_$[$0])({source:$$[$0-4],guard:$$[$0-2],step:$$[$0]});break;case 172:this.$=yy.addLocationDataFn(_$[$0-5],_$[$0])({source:$$[$0-4],step:$$[$0-2],guard:$$[$0]});break;case 173:this.$=yy.addLocationDataFn(_$[$0-4],_$[$0])(new yy.Switch($$[$0-3],$$[$0-1]));break;case 174:this.$=yy.addLocationDataFn(_$[$0-6],_$[$0])(new yy.Switch($$[$0-5],$$[$0-3],$$[$0-1]));break;case 175:this.$=yy.addLocationDataFn(_$[$0-3],_$[$0])(new yy.Switch(null,$$[$0-1]));break;case 176:this.$=yy.addLocationDataFn(_$[$0-5],_$[$0])(new yy.Switch(null,$$[$0-3],$$[$0-1]));break;case 177:this.$=$$[$0];break;case 178:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])($$[$0-1].concat($$[$0]));break;case 179:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])([[$$[$0-1],$$[$0]]]);break;case 180:this.$=yy.addLocationDataFn(_$[$0-3],_$[$0])([[$$[$0-2],$$[$0-1]]]);break;case 181:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])(new yy.If($$[$0-1],$$[$0],{type:$$[$0-2]}));break;case 182:this.$=yy.addLocationDataFn(_$[$0-4],_$[$0])($$[$0-4].addElse(new yy.If($$[$0-1],$$[$0],{type:$$[$0-2]})));break;case 183:this.$=$$[$0];break;case 184:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])($$[$0-2].addElse($$[$0]));break;case 185:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])(new yy.If($$[$0],yy.addLocationDataFn(_$[$0-2])(yy.Block.wrap([$$[$0-2]])),{type:$$[$0-1],statement:!0}));break;case 186:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])(new yy.If($$[$0],yy.addLocationDataFn(_$[$0-2])(yy.Block.wrap([$$[$0-2]])),{type:$$[$0-1],statement:!0}));break;case 187:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.Op($$[$0-1],$$[$0]));break;case 188:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.Op(\"-\",$$[$0]));break;case 189:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.Op(\"+\",$$[$0]));break;case 190:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.Op(\"--\",$$[$0]));break;case 191:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.Op(\"++\",$$[$0]));break;case 192:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.Op(\"--\",$$[$0-1],null,!0));break;case 193:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.Op(\"++\",$$[$0-1],null,!0));break;case 194:this.$=yy.addLocationDataFn(_$[$0-1],_$[$0])(new yy.Existence($$[$0-1]));break;case 195:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])(new yy.Op(\"+\",$$[$0-2],$$[$0]));break;case 196:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])(new yy.Op(\"-\",$$[$0-2],$$[$0]));break;case 197:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])(new yy.Op($$[$0-1],$$[$0-2],$$[$0]));break;case 198:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])(new yy.Op($$[$0-1],$$[$0-2],$$[$0]));break;case 199:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])(new yy.Op($$[$0-1],$$[$0-2],$$[$0]));break;case 200:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])(new yy.Op($$[$0-1],$$[$0-2],$$[$0]));break;case 201:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])(function(){return\"!\"===$$[$0-1].charAt(0)?new yy.Op($$[$0-1].slice(1),$$[$0-2],$$[$0]).invert():new yy.Op($$[$0-1],$$[$0-2],$$[$0])}());break;case 202:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])(new yy.Assign($$[$0-2],$$[$0],$$[$0-1]));break;case 203:this.$=yy.addLocationDataFn(_$[$0-4],_$[$0])(new yy.Assign($$[$0-4],$$[$0-1],$$[$0-3]));break;case 204:this.$=yy.addLocationDataFn(_$[$0-3],_$[$0])(new yy.Assign($$[$0-3],$$[$0],$$[$0-2]));break;case 205:this.$=yy.addLocationDataFn(_$[$0-2],_$[$0])(new yy.Extends($$[$0-2],$$[$0]))}},table:[{1:[2,1],3:1,4:2,5:3,7:4,8:6,9:7,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,5],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[3]},{1:[2,2],6:[1,74]},{6:[1,75]},{1:[2,4],6:[2,4],26:[2,4],102:[2,4]},{4:77,7:4,8:6,9:7,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,26:[1,76],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,7],6:[2,7],26:[2,7],102:[2,7],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,8],6:[2,8],26:[2,8],102:[2,8],103:90,104:[1,65],106:[1,66],109:91,110:[1,68],111:69,126:[1,89]},{1:[2,12],6:[2,12],25:[2,12],26:[2,12],49:[2,12],54:[2,12],57:[2,12],62:93,66:[1,95],67:[1,96],68:[1,97],69:[1,98],70:99,71:[1,100],73:[2,12],74:[1,101],78:[2,12],81:92,84:[1,94],85:[2,108],86:[2,12],91:[2,12],93:[2,12],102:[2,12],104:[2,12],105:[2,12],106:[2,12],110:[2,12],118:[2,12],126:[2,12],128:[2,12],129:[2,12],132:[2,12],133:[2,12],134:[2,12],135:[2,12],136:[2,12],137:[2,12]},{1:[2,13],6:[2,13],25:[2,13],26:[2,13],49:[2,13],54:[2,13],57:[2,13],62:103,66:[1,95],67:[1,96],68:[1,97],69:[1,98],70:99,71:[1,100],73:[2,13],74:[1,101],78:[2,13],81:102,84:[1,94],85:[2,108],86:[2,13],91:[2,13],93:[2,13],102:[2,13],104:[2,13],105:[2,13],106:[2,13],110:[2,13],118:[2,13],126:[2,13],128:[2,13],129:[2,13],132:[2,13],133:[2,13],134:[2,13],135:[2,13],136:[2,13],137:[2,13]},{1:[2,14],6:[2,14],25:[2,14],26:[2,14],49:[2,14],54:[2,14],57:[2,14],73:[2,14],78:[2,14],86:[2,14],91:[2,14],93:[2,14],102:[2,14],104:[2,14],105:[2,14],106:[2,14],110:[2,14],118:[2,14],126:[2,14],128:[2,14],129:[2,14],132:[2,14],133:[2,14],134:[2,14],135:[2,14],136:[2,14],137:[2,14]},{1:[2,15],6:[2,15],25:[2,15],26:[2,15],49:[2,15],54:[2,15],57:[2,15],73:[2,15],78:[2,15],86:[2,15],91:[2,15],93:[2,15],102:[2,15],104:[2,15],105:[2,15],106:[2,15],110:[2,15],118:[2,15],126:[2,15],128:[2,15],129:[2,15],132:[2,15],133:[2,15],134:[2,15],135:[2,15],136:[2,15],137:[2,15]},{1:[2,16],6:[2,16],25:[2,16],26:[2,16],49:[2,16],54:[2,16],57:[2,16],73:[2,16],78:[2,16],86:[2,16],91:[2,16],93:[2,16],102:[2,16],104:[2,16],105:[2,16],106:[2,16],110:[2,16],118:[2,16],126:[2,16],128:[2,16],129:[2,16],132:[2,16],133:[2,16],134:[2,16],135:[2,16],136:[2,16],137:[2,16]},{1:[2,17],6:[2,17],25:[2,17],26:[2,17],49:[2,17],54:[2,17],57:[2,17],73:[2,17],78:[2,17],86:[2,17],91:[2,17],93:[2,17],102:[2,17],104:[2,17],105:[2,17],106:[2,17],110:[2,17],118:[2,17],126:[2,17],128:[2,17],129:[2,17],132:[2,17],133:[2,17],134:[2,17],135:[2,17],136:[2,17],137:[2,17]},{1:[2,18],6:[2,18],25:[2,18],26:[2,18],49:[2,18],54:[2,18],57:[2,18],73:[2,18],78:[2,18],86:[2,18],91:[2,18],93:[2,18],102:[2,18],104:[2,18],105:[2,18],106:[2,18],110:[2,18],118:[2,18],126:[2,18],128:[2,18],129:[2,18],132:[2,18],133:[2,18],134:[2,18],135:[2,18],136:[2,18],137:[2,18]},{1:[2,19],6:[2,19],25:[2,19],26:[2,19],49:[2,19],54:[2,19],57:[2,19],73:[2,19],78:[2,19],86:[2,19],91:[2,19],93:[2,19],102:[2,19],104:[2,19],105:[2,19],106:[2,19],110:[2,19],118:[2,19],126:[2,19],128:[2,19],129:[2,19],132:[2,19],133:[2,19],134:[2,19],135:[2,19],136:[2,19],137:[2,19]},{1:[2,20],6:[2,20],25:[2,20],26:[2,20],49:[2,20],54:[2,20],57:[2,20],73:[2,20],78:[2,20],86:[2,20],91:[2,20],93:[2,20],102:[2,20],104:[2,20],105:[2,20],106:[2,20],110:[2,20],118:[2,20],126:[2,20],128:[2,20],129:[2,20],132:[2,20],133:[2,20],134:[2,20],135:[2,20],136:[2,20],137:[2,20]},{1:[2,21],6:[2,21],25:[2,21],26:[2,21],49:[2,21],54:[2,21],57:[2,21],73:[2,21],78:[2,21],86:[2,21],91:[2,21],93:[2,21],102:[2,21],104:[2,21],105:[2,21],106:[2,21],110:[2,21],118:[2,21],126:[2,21],128:[2,21],129:[2,21],132:[2,21],133:[2,21],134:[2,21],135:[2,21],136:[2,21],137:[2,21]},{1:[2,22],6:[2,22],25:[2,22],26:[2,22],49:[2,22],54:[2,22],57:[2,22],73:[2,22],78:[2,22],86:[2,22],91:[2,22],93:[2,22],102:[2,22],104:[2,22],105:[2,22],106:[2,22],110:[2,22],118:[2,22],126:[2,22],128:[2,22],129:[2,22],132:[2,22],133:[2,22],134:[2,22],135:[2,22],136:[2,22],137:[2,22]},{1:[2,23],6:[2,23],25:[2,23],26:[2,23],49:[2,23],54:[2,23],57:[2,23],73:[2,23],78:[2,23],86:[2,23],91:[2,23],93:[2,23],102:[2,23],104:[2,23],105:[2,23],106:[2,23],110:[2,23],118:[2,23],126:[2,23],128:[2,23],129:[2,23],132:[2,23],133:[2,23],134:[2,23],135:[2,23],136:[2,23],137:[2,23]},{1:[2,9],6:[2,9],26:[2,9],102:[2,9],104:[2,9],106:[2,9],110:[2,9],126:[2,9]},{1:[2,10],6:[2,10],26:[2,10],102:[2,10],104:[2,10],106:[2,10],110:[2,10],126:[2,10]},{1:[2,11],6:[2,11],26:[2,11],102:[2,11],104:[2,11],106:[2,11],110:[2,11],126:[2,11]},{1:[2,75],6:[2,75],25:[2,75],26:[2,75],40:[1,104],49:[2,75],54:[2,75],57:[2,75],66:[2,75],67:[2,75],68:[2,75],69:[2,75],71:[2,75],73:[2,75],74:[2,75],78:[2,75],84:[2,75],85:[2,75],86:[2,75],91:[2,75],93:[2,75],102:[2,75],104:[2,75],105:[2,75],106:[2,75],110:[2,75],118:[2,75],126:[2,75],128:[2,75],129:[2,75],132:[2,75],133:[2,75],134:[2,75],135:[2,75],136:[2,75],137:[2,75]},{1:[2,76],6:[2,76],25:[2,76],26:[2,76],49:[2,76],54:[2,76],57:[2,76],66:[2,76],67:[2,76],68:[2,76],69:[2,76],71:[2,76],73:[2,76],74:[2,76],78:[2,76],84:[2,76],85:[2,76],86:[2,76],91:[2,76],93:[2,76],102:[2,76],104:[2,76],105:[2,76],106:[2,76],110:[2,76],118:[2,76],126:[2,76],128:[2,76],129:[2,76],132:[2,76],133:[2,76],134:[2,76],135:[2,76],136:[2,76],137:[2,76]},{1:[2,77],6:[2,77],25:[2,77],26:[2,77],49:[2,77],54:[2,77],57:[2,77],66:[2,77],67:[2,77],68:[2,77],69:[2,77],71:[2,77],73:[2,77],74:[2,77],78:[2,77],84:[2,77],85:[2,77],86:[2,77],91:[2,77],93:[2,77],102:[2,77],104:[2,77],105:[2,77],106:[2,77],110:[2,77],118:[2,77],126:[2,77],128:[2,77],129:[2,77],132:[2,77],133:[2,77],134:[2,77],135:[2,77],136:[2,77],137:[2,77]},{1:[2,78],6:[2,78],25:[2,78],26:[2,78],49:[2,78],54:[2,78],57:[2,78],66:[2,78],67:[2,78],68:[2,78],69:[2,78],71:[2,78],73:[2,78],74:[2,78],78:[2,78],84:[2,78],85:[2,78],86:[2,78],91:[2,78],93:[2,78],102:[2,78],104:[2,78],105:[2,78],106:[2,78],110:[2,78],118:[2,78],126:[2,78],128:[2,78],129:[2,78],132:[2,78],133:[2,78],134:[2,78],135:[2,78],136:[2,78],137:[2,78]},{1:[2,79],6:[2,79],25:[2,79],26:[2,79],49:[2,79],54:[2,79],57:[2,79],66:[2,79],67:[2,79],68:[2,79],69:[2,79],71:[2,79],73:[2,79],74:[2,79],78:[2,79],84:[2,79],85:[2,79],86:[2,79],91:[2,79],93:[2,79],102:[2,79],104:[2,79],105:[2,79],106:[2,79],110:[2,79],118:[2,79],126:[2,79],128:[2,79],129:[2,79],132:[2,79],133:[2,79],134:[2,79],135:[2,79],136:[2,79],137:[2,79]},{1:[2,106],6:[2,106],25:[2,106],26:[2,106],49:[2,106],54:[2,106],57:[2,106],66:[2,106],67:[2,106],68:[2,106],69:[2,106],71:[2,106],73:[2,106],74:[2,106],78:[2,106],82:105,84:[2,106],85:[1,106],86:[2,106],91:[2,106],93:[2,106],102:[2,106],104:[2,106],105:[2,106],106:[2,106],110:[2,106],118:[2,106],126:[2,106],128:[2,106],129:[2,106],132:[2,106],133:[2,106],134:[2,106],135:[2,106],136:[2,106],137:[2,106]},{6:[2,55],25:[2,55],27:110,28:[1,73],44:111,48:107,49:[2,55],54:[2,55],55:108,56:109,58:112,59:113,76:[1,70],89:[1,114],90:[1,115]},{5:116,25:[1,5]},{8:117,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:119,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:120,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{13:122,14:123,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:124,44:63,58:47,59:48,61:121,63:25,64:26,65:27,76:[1,70],83:[1,28],88:[1,58],89:[1,59],90:[1,57],101:[1,56]},{13:122,14:123,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:124,44:63,58:47,59:48,61:125,63:25,64:26,65:27,76:[1,70],83:[1,28],88:[1,58],89:[1,59],90:[1,57],101:[1,56]},{1:[2,72],6:[2,72],25:[2,72],26:[2,72],40:[2,72],49:[2,72],54:[2,72],57:[2,72],66:[2,72],67:[2,72],68:[2,72],69:[2,72],71:[2,72],73:[2,72],74:[2,72],78:[2,72],80:[1,129],84:[2,72],85:[2,72],86:[2,72],91:[2,72],93:[2,72],102:[2,72],104:[2,72],105:[2,72],106:[2,72],110:[2,72],118:[2,72],126:[2,72],128:[2,72],129:[2,72],130:[1,126],131:[1,127],132:[2,72],133:[2,72],134:[2,72],135:[2,72],136:[2,72],137:[2,72],138:[1,128]},{1:[2,183],6:[2,183],25:[2,183],26:[2,183],49:[2,183],54:[2,183],57:[2,183],73:[2,183],78:[2,183],86:[2,183],91:[2,183],93:[2,183],102:[2,183],104:[2,183],105:[2,183],106:[2,183],110:[2,183],118:[2,183],121:[1,130],126:[2,183],128:[2,183],129:[2,183],132:[2,183],133:[2,183],134:[2,183],135:[2,183],136:[2,183],137:[2,183]},{5:131,25:[1,5]},{5:132,25:[1,5]},{1:[2,150],6:[2,150],25:[2,150],26:[2,150],49:[2,150],54:[2,150],57:[2,150],73:[2,150],78:[2,150],86:[2,150],91:[2,150],93:[2,150],102:[2,150],104:[2,150],105:[2,150],106:[2,150],110:[2,150],118:[2,150],126:[2,150],128:[2,150],129:[2,150],132:[2,150],133:[2,150],134:[2,150],135:[2,150],136:[2,150],137:[2,150]},{5:133,25:[1,5]},{8:134,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,135],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,96],5:136,6:[2,96],13:122,14:123,25:[1,5],26:[2,96],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:124,44:63,49:[2,96],54:[2,96],57:[2,96],58:47,59:48,61:138,63:25,64:26,65:27,73:[2,96],76:[1,70],78:[2,96],80:[1,137],83:[1,28],86:[2,96],88:[1,58],89:[1,59],90:[1,57],91:[2,96],93:[2,96],101:[1,56],102:[2,96],104:[2,96],105:[2,96],106:[2,96],110:[2,96],118:[2,96],126:[2,96],128:[2,96],129:[2,96],132:[2,96],133:[2,96],134:[2,96],135:[2,96],136:[2,96],137:[2,96]},{8:139,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,47],6:[2,47],8:140,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,26:[2,47],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],102:[2,47],103:39,104:[2,47],106:[2,47],107:40,108:[1,67],109:41,110:[2,47],111:69,119:[1,42],124:37,125:[1,64],126:[2,47],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,48],6:[2,48],25:[2,48],26:[2,48],54:[2,48],78:[2,48],102:[2,48],104:[2,48],106:[2,48],110:[2,48],126:[2,48]},{1:[2,73],6:[2,73],25:[2,73],26:[2,73],40:[2,73],49:[2,73],54:[2,73],57:[2,73],66:[2,73],67:[2,73],68:[2,73],69:[2,73],71:[2,73],73:[2,73],74:[2,73],78:[2,73],84:[2,73],85:[2,73],86:[2,73],91:[2,73],93:[2,73],102:[2,73],104:[2,73],105:[2,73],106:[2,73],110:[2,73],118:[2,73],126:[2,73],128:[2,73],129:[2,73],132:[2,73],133:[2,73],134:[2,73],135:[2,73],136:[2,73],137:[2,73]},{1:[2,74],6:[2,74],25:[2,74],26:[2,74],40:[2,74],49:[2,74],54:[2,74],57:[2,74],66:[2,74],67:[2,74],68:[2,74],69:[2,74],71:[2,74],73:[2,74],74:[2,74],78:[2,74],84:[2,74],85:[2,74],86:[2,74],91:[2,74],93:[2,74],102:[2,74],104:[2,74],105:[2,74],106:[2,74],110:[2,74],118:[2,74],126:[2,74],128:[2,74],129:[2,74],132:[2,74],133:[2,74],134:[2,74],135:[2,74],136:[2,74],137:[2,74]},{1:[2,29],6:[2,29],25:[2,29],26:[2,29],49:[2,29],54:[2,29],57:[2,29],66:[2,29],67:[2,29],68:[2,29],69:[2,29],71:[2,29],73:[2,29],74:[2,29],78:[2,29],84:[2,29],85:[2,29],86:[2,29],91:[2,29],93:[2,29],102:[2,29],104:[2,29],105:[2,29],106:[2,29],110:[2,29],118:[2,29],126:[2,29],128:[2,29],129:[2,29],132:[2,29],133:[2,29],134:[2,29],135:[2,29],136:[2,29],137:[2,29]},{1:[2,30],6:[2,30],25:[2,30],26:[2,30],49:[2,30],54:[2,30],57:[2,30],66:[2,30],67:[2,30],68:[2,30],69:[2,30],71:[2,30],73:[2,30],74:[2,30],78:[2,30],84:[2,30],85:[2,30],86:[2,30],91:[2,30],93:[2,30],102:[2,30],104:[2,30],105:[2,30],106:[2,30],110:[2,30],118:[2,30],126:[2,30],128:[2,30],129:[2,30],132:[2,30],133:[2,30],134:[2,30],135:[2,30],136:[2,30],137:[2,30]},{1:[2,31],6:[2,31],25:[2,31],26:[2,31],49:[2,31],54:[2,31],57:[2,31],66:[2,31],67:[2,31],68:[2,31],69:[2,31],71:[2,31],73:[2,31],74:[2,31],78:[2,31],84:[2,31],85:[2,31],86:[2,31],91:[2,31],93:[2,31],102:[2,31],104:[2,31],105:[2,31],106:[2,31],110:[2,31],118:[2,31],126:[2,31],128:[2,31],129:[2,31],132:[2,31],133:[2,31],134:[2,31],135:[2,31],136:[2,31],137:[2,31]},{1:[2,32],6:[2,32],25:[2,32],26:[2,32],49:[2,32],54:[2,32],57:[2,32],66:[2,32],67:[2,32],68:[2,32],69:[2,32],71:[2,32],73:[2,32],74:[2,32],78:[2,32],84:[2,32],85:[2,32],86:[2,32],91:[2,32],93:[2,32],102:[2,32],104:[2,32],105:[2,32],106:[2,32],110:[2,32],118:[2,32],126:[2,32],128:[2,32],129:[2,32],132:[2,32],133:[2,32],134:[2,32],135:[2,32],136:[2,32],137:[2,32]},{1:[2,33],6:[2,33],25:[2,33],26:[2,33],49:[2,33],54:[2,33],57:[2,33],66:[2,33],67:[2,33],68:[2,33],69:[2,33],71:[2,33],73:[2,33],74:[2,33],78:[2,33],84:[2,33],85:[2,33],86:[2,33],91:[2,33],93:[2,33],102:[2,33],104:[2,33],105:[2,33],106:[2,33],110:[2,33],118:[2,33],126:[2,33],128:[2,33],129:[2,33],132:[2,33],133:[2,33],134:[2,33],135:[2,33],136:[2,33],137:[2,33]},{1:[2,34],6:[2,34],25:[2,34],26:[2,34],49:[2,34],54:[2,34],57:[2,34],66:[2,34],67:[2,34],68:[2,34],69:[2,34],71:[2,34],73:[2,34],74:[2,34],78:[2,34],84:[2,34],85:[2,34],86:[2,34],91:[2,34],93:[2,34],102:[2,34],104:[2,34],105:[2,34],106:[2,34],110:[2,34],118:[2,34],126:[2,34],128:[2,34],129:[2,34],132:[2,34],133:[2,34],134:[2,34],135:[2,34],136:[2,34],137:[2,34]},{1:[2,35],6:[2,35],25:[2,35],26:[2,35],49:[2,35],54:[2,35],57:[2,35],66:[2,35],67:[2,35],68:[2,35],69:[2,35],71:[2,35],73:[2,35],74:[2,35],78:[2,35],84:[2,35],85:[2,35],86:[2,35],91:[2,35],93:[2,35],102:[2,35],104:[2,35],105:[2,35],106:[2,35],110:[2,35],118:[2,35],126:[2,35],128:[2,35],129:[2,35],132:[2,35],133:[2,35],134:[2,35],135:[2,35],136:[2,35],137:[2,35]},{4:141,7:4,8:6,9:7,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,142],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:143,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,147],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,60:148,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],87:145,88:[1,58],89:[1,59],90:[1,57],91:[1,144],94:146,96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,112],6:[2,112],25:[2,112],26:[2,112],49:[2,112],54:[2,112],57:[2,112],66:[2,112],67:[2,112],68:[2,112],69:[2,112],71:[2,112],73:[2,112],74:[2,112],78:[2,112],84:[2,112],85:[2,112],86:[2,112],91:[2,112],93:[2,112],102:[2,112],104:[2,112],105:[2,112],106:[2,112],110:[2,112],118:[2,112],126:[2,112],128:[2,112],129:[2,112],132:[2,112],133:[2,112],134:[2,112],135:[2,112],136:[2,112],137:[2,112]},{1:[2,113],6:[2,113],25:[2,113],26:[2,113],27:149,28:[1,73],49:[2,113],54:[2,113],57:[2,113],66:[2,113],67:[2,113],68:[2,113],69:[2,113],71:[2,113],73:[2,113],74:[2,113],78:[2,113],84:[2,113],85:[2,113],86:[2,113],91:[2,113],93:[2,113],102:[2,113],104:[2,113],105:[2,113],106:[2,113],110:[2,113],118:[2,113],126:[2,113],128:[2,113],129:[2,113],132:[2,113],133:[2,113],134:[2,113],135:[2,113],136:[2,113],137:[2,113]},{25:[2,51]},{25:[2,52]},{1:[2,68],6:[2,68],25:[2,68],26:[2,68],40:[2,68],49:[2,68],54:[2,68],57:[2,68],66:[2,68],67:[2,68],68:[2,68],69:[2,68],71:[2,68],73:[2,68],74:[2,68],78:[2,68],80:[2,68],84:[2,68],85:[2,68],86:[2,68],91:[2,68],93:[2,68],102:[2,68],104:[2,68],105:[2,68],106:[2,68],110:[2,68],118:[2,68],126:[2,68],128:[2,68],129:[2,68],130:[2,68],131:[2,68],132:[2,68],133:[2,68],134:[2,68],135:[2,68],136:[2,68],137:[2,68],138:[2,68]},{1:[2,71],6:[2,71],25:[2,71],26:[2,71],40:[2,71],49:[2,71],54:[2,71],57:[2,71],66:[2,71],67:[2,71],68:[2,71],69:[2,71],71:[2,71],73:[2,71],74:[2,71],78:[2,71],80:[2,71],84:[2,71],85:[2,71],86:[2,71],91:[2,71],93:[2,71],102:[2,71],104:[2,71],105:[2,71],106:[2,71],110:[2,71],118:[2,71],126:[2,71],128:[2,71],129:[2,71],130:[2,71],131:[2,71],132:[2,71],133:[2,71],134:[2,71],135:[2,71],136:[2,71],137:[2,71],138:[2,71]},{8:150,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:151,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:152,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{5:153,8:154,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,5],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{27:159,28:[1,73],44:160,58:161,59:162,64:155,76:[1,70],89:[1,114],90:[1,57],113:156,114:[1,157],115:158},{112:163,116:[1,164],117:[1,165]},{6:[2,91],11:169,25:[2,91],27:170,28:[1,73],29:171,30:[1,71],31:[1,72],41:167,42:168,44:172,46:[1,46],54:[2,91],77:166,78:[2,91],89:[1,114]},{1:[2,27],6:[2,27],25:[2,27],26:[2,27],43:[2,27],49:[2,27],54:[2,27],57:[2,27],66:[2,27],67:[2,27],68:[2,27],69:[2,27],71:[2,27],73:[2,27],74:[2,27],78:[2,27],84:[2,27],85:[2,27],86:[2,27],91:[2,27],93:[2,27],102:[2,27],104:[2,27],105:[2,27],106:[2,27],110:[2,27],118:[2,27],126:[2,27],128:[2,27],129:[2,27],132:[2,27],133:[2,27],134:[2,27],135:[2,27],136:[2,27],137:[2,27]},{1:[2,28],6:[2,28],25:[2,28],26:[2,28],43:[2,28],49:[2,28],54:[2,28],57:[2,28],66:[2,28],67:[2,28],68:[2,28],69:[2,28],71:[2,28],73:[2,28],74:[2,28],78:[2,28],84:[2,28],85:[2,28],86:[2,28],91:[2,28],93:[2,28],102:[2,28],104:[2,28],105:[2,28],106:[2,28],110:[2,28],118:[2,28],126:[2,28],128:[2,28],129:[2,28],132:[2,28],133:[2,28],134:[2,28],135:[2,28],136:[2,28],137:[2,28]},{1:[2,26],6:[2,26],25:[2,26],26:[2,26],40:[2,26],43:[2,26],49:[2,26],54:[2,26],57:[2,26],66:[2,26],67:[2,26],68:[2,26],69:[2,26],71:[2,26],73:[2,26],74:[2,26],78:[2,26],80:[2,26],84:[2,26],85:[2,26],86:[2,26],91:[2,26],93:[2,26],102:[2,26],104:[2,26],105:[2,26],106:[2,26],110:[2,26],116:[2,26],117:[2,26],118:[2,26],126:[2,26],128:[2,26],129:[2,26],130:[2,26],131:[2,26],132:[2,26],133:[2,26],134:[2,26],135:[2,26],136:[2,26],137:[2,26],138:[2,26]},{1:[2,6],6:[2,6],7:173,8:6,9:7,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,26:[2,6],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],102:[2,6],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,3]},{1:[2,24],6:[2,24],25:[2,24],26:[2,24],49:[2,24],54:[2,24],57:[2,24],73:[2,24],78:[2,24],86:[2,24],91:[2,24],93:[2,24],98:[2,24],99:[2,24],102:[2,24],104:[2,24],105:[2,24],106:[2,24],110:[2,24],118:[2,24],121:[2,24],123:[2,24],126:[2,24],128:[2,24],129:[2,24],132:[2,24],133:[2,24],134:[2,24],135:[2,24],136:[2,24],137:[2,24]},{6:[1,74],26:[1,174]},{1:[2,194],6:[2,194],25:[2,194],26:[2,194],49:[2,194],54:[2,194],57:[2,194],73:[2,194],78:[2,194],86:[2,194],91:[2,194],93:[2,194],102:[2,194],104:[2,194],105:[2,194],106:[2,194],110:[2,194],118:[2,194],126:[2,194],128:[2,194],129:[2,194],132:[2,194],133:[2,194],134:[2,194],135:[2,194],136:[2,194],137:[2,194]},{8:175,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:176,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:177,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:178,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:179,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:180,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:181,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:182,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,149],6:[2,149],25:[2,149],26:[2,149],49:[2,149],54:[2,149],57:[2,149],73:[2,149],78:[2,149],86:[2,149],91:[2,149],93:[2,149],102:[2,149],104:[2,149],105:[2,149],106:[2,149],110:[2,149],118:[2,149],126:[2,149],128:[2,149],129:[2,149],132:[2,149],133:[2,149],134:[2,149],135:[2,149],136:[2,149],137:[2,149]},{1:[2,154],6:[2,154],25:[2,154],26:[2,154],49:[2,154],54:[2,154],57:[2,154],73:[2,154],78:[2,154],86:[2,154],91:[2,154],93:[2,154],102:[2,154],104:[2,154],105:[2,154],106:[2,154],110:[2,154],118:[2,154],126:[2,154],128:[2,154],129:[2,154],132:[2,154],133:[2,154],134:[2,154],135:[2,154],136:[2,154],137:[2,154]},{8:183,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,148],6:[2,148],25:[2,148],26:[2,148],49:[2,148],54:[2,148],57:[2,148],73:[2,148],78:[2,148],86:[2,148],91:[2,148],93:[2,148],102:[2,148],104:[2,148],105:[2,148],106:[2,148],110:[2,148],118:[2,148],126:[2,148],128:[2,148],129:[2,148],132:[2,148],133:[2,148],134:[2,148],135:[2,148],136:[2,148],137:[2,148]},{1:[2,153],6:[2,153],25:[2,153],26:[2,153],49:[2,153],54:[2,153],57:[2,153],73:[2,153],78:[2,153],86:[2,153],91:[2,153],93:[2,153],102:[2,153],104:[2,153],105:[2,153],106:[2,153],110:[2,153],118:[2,153],126:[2,153],128:[2,153],129:[2,153],132:[2,153],133:[2,153],134:[2,153],135:[2,153],136:[2,153],137:[2,153]},{82:184,85:[1,106]},{1:[2,69],6:[2,69],25:[2,69],26:[2,69],40:[2,69],49:[2,69],54:[2,69],57:[2,69],66:[2,69],67:[2,69],68:[2,69],69:[2,69],71:[2,69],73:[2,69],74:[2,69],78:[2,69],80:[2,69],84:[2,69],85:[2,69],86:[2,69],91:[2,69],93:[2,69],102:[2,69],104:[2,69],105:[2,69],106:[2,69],110:[2,69],118:[2,69],126:[2,69],128:[2,69],129:[2,69],130:[2,69],131:[2,69],132:[2,69],133:[2,69],134:[2,69],135:[2,69],136:[2,69],137:[2,69],138:[2,69]},{85:[2,109]},{27:185,28:[1,73]},{27:186,28:[1,73]},{1:[2,84],6:[2,84],25:[2,84],26:[2,84],27:187,28:[1,73],40:[2,84],49:[2,84],54:[2,84],57:[2,84],66:[2,84],67:[2,84],68:[2,84],69:[2,84],71:[2,84],73:[2,84],74:[2,84],78:[2,84],80:[2,84],84:[2,84],85:[2,84],86:[2,84],91:[2,84],93:[2,84],102:[2,84],104:[2,84],105:[2,84],106:[2,84],110:[2,84],118:[2,84],126:[2,84],128:[2,84],129:[2,84],130:[2,84],131:[2,84],132:[2,84],133:[2,84],134:[2,84],135:[2,84],136:[2,84],137:[2,84],138:[2,84]},{27:188,28:[1,73]},{1:[2,85],6:[2,85],25:[2,85],26:[2,85],40:[2,85],49:[2,85],54:[2,85],57:[2,85],66:[2,85],67:[2,85],68:[2,85],69:[2,85],71:[2,85],73:[2,85],74:[2,85],78:[2,85],80:[2,85],84:[2,85],85:[2,85],86:[2,85],91:[2,85],93:[2,85],102:[2,85],104:[2,85],105:[2,85],106:[2,85],110:[2,85],118:[2,85],126:[2,85],128:[2,85],129:[2,85],130:[2,85],131:[2,85],132:[2,85],133:[2,85],134:[2,85],135:[2,85],136:[2,85],137:[2,85],138:[2,85]},{8:190,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],57:[1,194],58:47,59:48,61:36,63:25,64:26,65:27,72:189,75:191,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],92:192,93:[1,193],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{70:195,71:[1,100],74:[1,101]},{82:196,85:[1,106]},{1:[2,70],6:[2,70],25:[2,70],26:[2,70],40:[2,70],49:[2,70],54:[2,70],57:[2,70],66:[2,70],67:[2,70],68:[2,70],69:[2,70],71:[2,70],73:[2,70],74:[2,70],78:[2,70],80:[2,70],84:[2,70],85:[2,70],86:[2,70],91:[2,70],93:[2,70],102:[2,70],104:[2,70],105:[2,70],106:[2,70],110:[2,70],118:[2,70],126:[2,70],128:[2,70],129:[2,70],130:[2,70],131:[2,70],132:[2,70],133:[2,70],134:[2,70],135:[2,70],136:[2,70],137:[2,70],138:[2,70]},{6:[1,198],8:197,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,199],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,107],6:[2,107],25:[2,107],26:[2,107],49:[2,107],54:[2,107],57:[2,107],66:[2,107],67:[2,107],68:[2,107],69:[2,107],71:[2,107],73:[2,107],74:[2,107],78:[2,107],84:[2,107],85:[2,107],86:[2,107],91:[2,107],93:[2,107],102:[2,107],104:[2,107],105:[2,107],106:[2,107],110:[2,107],118:[2,107],126:[2,107],128:[2,107],129:[2,107],132:[2,107],133:[2,107],134:[2,107],135:[2,107],136:[2,107],137:[2,107]},{8:202,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,147],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,60:148,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],86:[1,200],87:201,88:[1,58],89:[1,59],90:[1,57],94:146,96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{6:[2,53],25:[2,53],49:[1,203],53:205,54:[1,204]},{6:[2,56],25:[2,56],26:[2,56],49:[2,56],54:[2,56]},{6:[2,60],25:[2,60],26:[2,60],40:[1,207],49:[2,60],54:[2,60],57:[1,206]},{6:[2,63],25:[2,63],26:[2,63],40:[2,63],49:[2,63],54:[2,63],57:[2,63]},{6:[2,64],25:[2,64],26:[2,64],40:[2,64],49:[2,64],54:[2,64],57:[2,64]},{6:[2,65],25:[2,65],26:[2,65],40:[2,65],49:[2,65],54:[2,65],57:[2,65]},{6:[2,66],25:[2,66],26:[2,66],40:[2,66],49:[2,66],54:[2,66],57:[2,66]},{27:149,28:[1,73]},{8:202,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,147],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,60:148,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],87:145,88:[1,58],89:[1,59],90:[1,57],91:[1,144],94:146,96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,50],6:[2,50],25:[2,50],26:[2,50],49:[2,50],54:[2,50],57:[2,50],73:[2,50],78:[2,50],86:[2,50],91:[2,50],93:[2,50],102:[2,50],104:[2,50],105:[2,50],106:[2,50],110:[2,50],118:[2,50],126:[2,50],128:[2,50],129:[2,50],132:[2,50],133:[2,50],134:[2,50],135:[2,50],136:[2,50],137:[2,50]},{1:[2,187],6:[2,187],25:[2,187],26:[2,187],49:[2,187],54:[2,187],57:[2,187],73:[2,187],78:[2,187],86:[2,187],91:[2,187],93:[2,187],102:[2,187],103:87,104:[2,187],105:[2,187],106:[2,187],109:88,110:[2,187],111:69,118:[2,187],126:[2,187],128:[2,187],129:[2,187],132:[1,78],133:[2,187],134:[2,187],135:[2,187],136:[2,187],137:[2,187]},{103:90,104:[1,65],106:[1,66],109:91,110:[1,68],111:69,126:[1,89]},{1:[2,188],6:[2,188],25:[2,188],26:[2,188],49:[2,188],54:[2,188],57:[2,188],73:[2,188],78:[2,188],86:[2,188],91:[2,188],93:[2,188],102:[2,188],103:87,104:[2,188],105:[2,188],106:[2,188],109:88,110:[2,188],111:69,118:[2,188],126:[2,188],128:[2,188],129:[2,188],132:[1,78],133:[2,188],134:[2,188],135:[2,188],136:[2,188],137:[2,188]},{1:[2,189],6:[2,189],25:[2,189],26:[2,189],49:[2,189],54:[2,189],57:[2,189],73:[2,189],78:[2,189],86:[2,189],91:[2,189],93:[2,189],102:[2,189],103:87,104:[2,189],105:[2,189],106:[2,189],109:88,110:[2,189],111:69,118:[2,189],126:[2,189],128:[2,189],129:[2,189],132:[1,78],133:[2,189],134:[2,189],135:[2,189],136:[2,189],137:[2,189]},{1:[2,190],6:[2,190],25:[2,190],26:[2,190],49:[2,190],54:[2,190],57:[2,190],66:[2,72],67:[2,72],68:[2,72],69:[2,72],71:[2,72],73:[2,190],74:[2,72],78:[2,190],84:[2,72],85:[2,72],86:[2,190],91:[2,190],93:[2,190],102:[2,190],104:[2,190],105:[2,190],106:[2,190],110:[2,190],118:[2,190],126:[2,190],128:[2,190],129:[2,190],132:[2,190],133:[2,190],134:[2,190],135:[2,190],136:[2,190],137:[2,190]},{62:93,66:[1,95],67:[1,96],68:[1,97],69:[1,98],70:99,71:[1,100],74:[1,101],81:92,84:[1,94],85:[2,108]},{62:103,66:[1,95],67:[1,96],68:[1,97],69:[1,98],70:99,71:[1,100],74:[1,101],81:102,84:[1,94],85:[2,108]},{66:[2,75],67:[2,75],68:[2,75],69:[2,75],71:[2,75],74:[2,75],84:[2,75],85:[2,75]},{1:[2,191],6:[2,191],25:[2,191],26:[2,191],49:[2,191],54:[2,191],57:[2,191],66:[2,72],67:[2,72],68:[2,72],69:[2,72],71:[2,72],73:[2,191],74:[2,72],78:[2,191],84:[2,72],85:[2,72],86:[2,191],91:[2,191],93:[2,191],102:[2,191],104:[2,191],105:[2,191],106:[2,191],110:[2,191],118:[2,191],126:[2,191],128:[2,191],129:[2,191],132:[2,191],133:[2,191],134:[2,191],135:[2,191],136:[2,191],137:[2,191]},{1:[2,192],6:[2,192],25:[2,192],26:[2,192],49:[2,192],54:[2,192],57:[2,192],73:[2,192],78:[2,192],86:[2,192],91:[2,192],93:[2,192],102:[2,192],104:[2,192],105:[2,192],106:[2,192],110:[2,192],118:[2,192],126:[2,192],128:[2,192],129:[2,192],132:[2,192],133:[2,192],134:[2,192],135:[2,192],136:[2,192],137:[2,192]},{1:[2,193],6:[2,193],25:[2,193],26:[2,193],49:[2,193],54:[2,193],57:[2,193],73:[2,193],78:[2,193],86:[2,193],91:[2,193],93:[2,193],102:[2,193],104:[2,193],105:[2,193],106:[2,193],110:[2,193],118:[2,193],126:[2,193],128:[2,193],129:[2,193],132:[2,193],133:[2,193],134:[2,193],135:[2,193],136:[2,193],137:[2,193]},{6:[1,210],8:208,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,209],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:211,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{5:212,25:[1,5],125:[1,213]},{1:[2,133],6:[2,133],25:[2,133],26:[2,133],49:[2,133],54:[2,133],57:[2,133],73:[2,133],78:[2,133],86:[2,133],91:[2,133],93:[2,133],97:214,98:[1,215],99:[1,216],102:[2,133],104:[2,133],105:[2,133],106:[2,133],110:[2,133],118:[2,133],126:[2,133],128:[2,133],129:[2,133],132:[2,133],133:[2,133],134:[2,133],135:[2,133],136:[2,133],137:[2,133]},{1:[2,147],6:[2,147],25:[2,147],26:[2,147],49:[2,147],54:[2,147],57:[2,147],73:[2,147],78:[2,147],86:[2,147],91:[2,147],93:[2,147],102:[2,147],104:[2,147],105:[2,147],106:[2,147],110:[2,147],118:[2,147],126:[2,147],128:[2,147],129:[2,147],132:[2,147],133:[2,147],134:[2,147],135:[2,147],136:[2,147],137:[2,147]},{1:[2,155],6:[2,155],25:[2,155],26:[2,155],49:[2,155],54:[2,155],57:[2,155],73:[2,155],78:[2,155],86:[2,155],91:[2,155],93:[2,155],102:[2,155],104:[2,155],105:[2,155],106:[2,155],110:[2,155],118:[2,155],126:[2,155],128:[2,155],129:[2,155],132:[2,155],133:[2,155],134:[2,155],135:[2,155],136:[2,155],137:[2,155]},{25:[1,217],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{120:218,122:219,123:[1,220]},{1:[2,97],6:[2,97],25:[2,97],26:[2,97],49:[2,97],54:[2,97],57:[2,97],73:[2,97],78:[2,97],86:[2,97],91:[2,97],93:[2,97],102:[2,97],104:[2,97],105:[2,97],106:[2,97],110:[2,97],118:[2,97],126:[2,97],128:[2,97],129:[2,97],132:[2,97],133:[2,97],134:[2,97],135:[2,97],136:[2,97],137:[2,97]},{8:221,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,100],5:222,6:[2,100],25:[1,5],26:[2,100],49:[2,100],54:[2,100],57:[2,100],66:[2,72],67:[2,72],68:[2,72],69:[2,72],71:[2,72],73:[2,100],74:[2,72],78:[2,100],80:[1,223],84:[2,72],85:[2,72],86:[2,100],91:[2,100],93:[2,100],102:[2,100],104:[2,100],105:[2,100],106:[2,100],110:[2,100],118:[2,100],126:[2,100],128:[2,100],129:[2,100],132:[2,100],133:[2,100],134:[2,100],135:[2,100],136:[2,100],137:[2,100]},{1:[2,140],6:[2,140],25:[2,140],26:[2,140],49:[2,140],54:[2,140],57:[2,140],73:[2,140],78:[2,140],86:[2,140],91:[2,140],93:[2,140],102:[2,140],103:87,104:[2,140],105:[2,140],106:[2,140],109:88,110:[2,140],111:69,118:[2,140],126:[2,140],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,46],6:[2,46],26:[2,46],102:[2,46],103:87,104:[2,46],106:[2,46],109:88,110:[2,46],111:69,126:[2,46],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{6:[1,74],102:[1,224]},{4:225,7:4,8:6,9:7,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{6:[2,129],25:[2,129],54:[2,129],57:[1,227],91:[2,129],92:226,93:[1,193],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,115],6:[2,115],25:[2,115],26:[2,115],40:[2,115],49:[2,115],54:[2,115],57:[2,115],66:[2,115],67:[2,115],68:[2,115],69:[2,115],71:[2,115],73:[2,115],74:[2,115],78:[2,115],84:[2,115],85:[2,115],86:[2,115],91:[2,115],93:[2,115],102:[2,115],104:[2,115],105:[2,115],106:[2,115],110:[2,115],116:[2,115],117:[2,115],118:[2,115],126:[2,115],128:[2,115],129:[2,115],132:[2,115],133:[2,115],134:[2,115],135:[2,115],136:[2,115],137:[2,115]},{6:[2,53],25:[2,53],53:228,54:[1,229],91:[2,53]},{6:[2,124],25:[2,124],26:[2,124],54:[2,124],86:[2,124],91:[2,124]},{8:202,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,147],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,60:148,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],87:230,88:[1,58],89:[1,59],90:[1,57],94:146,96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{6:[2,130],25:[2,130],26:[2,130],54:[2,130],86:[2,130],91:[2,130]},{1:[2,114],6:[2,114],25:[2,114],26:[2,114],40:[2,114],43:[2,114],49:[2,114],54:[2,114],57:[2,114],66:[2,114],67:[2,114],68:[2,114],69:[2,114],71:[2,114],73:[2,114],74:[2,114],78:[2,114],80:[2,114],84:[2,114],85:[2,114],86:[2,114],91:[2,114],93:[2,114],102:[2,114],104:[2,114],105:[2,114],106:[2,114],110:[2,114],116:[2,114],117:[2,114],118:[2,114],126:[2,114],128:[2,114],129:[2,114],130:[2,114],131:[2,114],132:[2,114],133:[2,114],134:[2,114],135:[2,114],136:[2,114],137:[2,114],138:[2,114]},{5:231,25:[1,5],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,143],6:[2,143],25:[2,143],26:[2,143],49:[2,143],54:[2,143],57:[2,143],73:[2,143],78:[2,143],86:[2,143],91:[2,143],93:[2,143],102:[2,143],103:87,104:[1,65],105:[1,232],106:[1,66],109:88,110:[1,68],111:69,118:[2,143],126:[2,143],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,145],6:[2,145],25:[2,145],26:[2,145],49:[2,145],54:[2,145],57:[2,145],73:[2,145],78:[2,145],86:[2,145],91:[2,145],93:[2,145],102:[2,145],103:87,104:[1,65],105:[1,233],106:[1,66],109:88,110:[1,68],111:69,118:[2,145],126:[2,145],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,151],6:[2,151],25:[2,151],26:[2,151],49:[2,151],54:[2,151],57:[2,151],73:[2,151],78:[2,151],86:[2,151],91:[2,151],93:[2,151],102:[2,151],104:[2,151],105:[2,151],106:[2,151],110:[2,151],118:[2,151],126:[2,151],128:[2,151],129:[2,151],132:[2,151],133:[2,151],134:[2,151],135:[2,151],136:[2,151],137:[2,151]},{1:[2,152],6:[2,152],25:[2,152],26:[2,152],49:[2,152],54:[2,152],57:[2,152],73:[2,152],78:[2,152],86:[2,152],91:[2,152],93:[2,152],102:[2,152],103:87,104:[1,65],105:[2,152],106:[1,66],109:88,110:[1,68],111:69,118:[2,152],126:[2,152],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,156],6:[2,156],25:[2,156],26:[2,156],49:[2,156],54:[2,156],57:[2,156],73:[2,156],78:[2,156],86:[2,156],91:[2,156],93:[2,156],102:[2,156],104:[2,156],105:[2,156],106:[2,156],110:[2,156],118:[2,156],126:[2,156],128:[2,156],129:[2,156],132:[2,156],133:[2,156],134:[2,156],135:[2,156],136:[2,156],137:[2,156]},{116:[2,158],117:[2,158]},{27:159,28:[1,73],44:160,58:161,59:162,76:[1,70],89:[1,114],90:[1,115],113:234,115:158},{54:[1,235],116:[2,164],117:[2,164]},{54:[2,160],116:[2,160],117:[2,160]},{54:[2,161],116:[2,161],117:[2,161]},{54:[2,162],116:[2,162],117:[2,162]},{54:[2,163],116:[2,163],117:[2,163]},{1:[2,157],6:[2,157],25:[2,157],26:[2,157],49:[2,157],54:[2,157],57:[2,157],73:[2,157],78:[2,157],86:[2,157],91:[2,157],93:[2,157],102:[2,157],104:[2,157],105:[2,157],106:[2,157],110:[2,157],118:[2,157],126:[2,157],128:[2,157],129:[2,157],132:[2,157],133:[2,157],134:[2,157],135:[2,157],136:[2,157],137:[2,157]},{8:236,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:237,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{6:[2,53],25:[2,53],53:238,54:[1,239],78:[2,53]},{6:[2,92],25:[2,92],26:[2,92],54:[2,92],78:[2,92]},{6:[2,39],25:[2,39],26:[2,39],43:[1,240],54:[2,39],78:[2,39]},{6:[2,42],25:[2,42],26:[2,42],54:[2,42],78:[2,42]},{6:[2,43],25:[2,43],26:[2,43],43:[2,43],54:[2,43],78:[2,43]},{6:[2,44],25:[2,44],26:[2,44],43:[2,44],54:[2,44],78:[2,44]},{6:[2,45],25:[2,45],26:[2,45],43:[2,45],54:[2,45],78:[2,45]},{1:[2,5],6:[2,5],26:[2,5],102:[2,5]},{1:[2,25],6:[2,25],25:[2,25],26:[2,25],49:[2,25],54:[2,25],57:[2,25],73:[2,25],78:[2,25],86:[2,25],91:[2,25],93:[2,25],98:[2,25],99:[2,25],102:[2,25],104:[2,25],105:[2,25],106:[2,25],110:[2,25],118:[2,25],121:[2,25],123:[2,25],126:[2,25],128:[2,25],129:[2,25],132:[2,25],133:[2,25],134:[2,25],135:[2,25],136:[2,25],137:[2,25]},{1:[2,195],6:[2,195],25:[2,195],26:[2,195],49:[2,195],54:[2,195],57:[2,195],73:[2,195],78:[2,195],86:[2,195],91:[2,195],93:[2,195],102:[2,195],103:87,104:[2,195],105:[2,195],106:[2,195],109:88,110:[2,195],111:69,118:[2,195],126:[2,195],128:[2,195],129:[2,195],132:[1,78],133:[1,81],134:[2,195],135:[2,195],136:[2,195],137:[2,195]},{1:[2,196],6:[2,196],25:[2,196],26:[2,196],49:[2,196],54:[2,196],57:[2,196],73:[2,196],78:[2,196],86:[2,196],91:[2,196],93:[2,196],102:[2,196],103:87,104:[2,196],105:[2,196],106:[2,196],109:88,110:[2,196],111:69,118:[2,196],126:[2,196],128:[2,196],129:[2,196],132:[1,78],133:[1,81],134:[2,196],135:[2,196],136:[2,196],137:[2,196]},{1:[2,197],6:[2,197],25:[2,197],26:[2,197],49:[2,197],54:[2,197],57:[2,197],73:[2,197],78:[2,197],86:[2,197],91:[2,197],93:[2,197],102:[2,197],103:87,104:[2,197],105:[2,197],106:[2,197],109:88,110:[2,197],111:69,118:[2,197],126:[2,197],128:[2,197],129:[2,197],132:[1,78],133:[2,197],134:[2,197],135:[2,197],136:[2,197],137:[2,197]},{1:[2,198],6:[2,198],25:[2,198],26:[2,198],49:[2,198],54:[2,198],57:[2,198],73:[2,198],78:[2,198],86:[2,198],91:[2,198],93:[2,198],102:[2,198],103:87,104:[2,198],105:[2,198],106:[2,198],109:88,110:[2,198],111:69,118:[2,198],126:[2,198],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[2,198],135:[2,198],136:[2,198],137:[2,198]},{1:[2,199],6:[2,199],25:[2,199],26:[2,199],49:[2,199],54:[2,199],57:[2,199],73:[2,199],78:[2,199],86:[2,199],91:[2,199],93:[2,199],102:[2,199],103:87,104:[2,199],105:[2,199],106:[2,199],109:88,110:[2,199],111:69,118:[2,199],126:[2,199],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[2,199],136:[2,199],137:[1,85]},{1:[2,200],6:[2,200],25:[2,200],26:[2,200],49:[2,200],54:[2,200],57:[2,200],73:[2,200],78:[2,200],86:[2,200],91:[2,200],93:[2,200],102:[2,200],103:87,104:[2,200],105:[2,200],106:[2,200],109:88,110:[2,200],111:69,118:[2,200],126:[2,200],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[2,200],137:[1,85]},{1:[2,201],6:[2,201],25:[2,201],26:[2,201],49:[2,201],54:[2,201],57:[2,201],73:[2,201],78:[2,201],86:[2,201],91:[2,201],93:[2,201],102:[2,201],103:87,104:[2,201],105:[2,201],106:[2,201],109:88,110:[2,201],111:69,118:[2,201],126:[2,201],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[2,201],136:[2,201],137:[2,201]},{1:[2,186],6:[2,186],25:[2,186],26:[2,186],49:[2,186],54:[2,186],57:[2,186],73:[2,186],78:[2,186],86:[2,186],91:[2,186],93:[2,186],102:[2,186],103:87,104:[1,65],105:[2,186],106:[1,66],109:88,110:[1,68],111:69,118:[2,186],126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,185],6:[2,185],25:[2,185],26:[2,185],49:[2,185],54:[2,185],57:[2,185],73:[2,185],78:[2,185],86:[2,185],91:[2,185],93:[2,185],102:[2,185],103:87,104:[1,65],105:[2,185],106:[1,66],109:88,110:[1,68],111:69,118:[2,185],126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,104],6:[2,104],25:[2,104],26:[2,104],49:[2,104],54:[2,104],57:[2,104],66:[2,104],67:[2,104],68:[2,104],69:[2,104],71:[2,104],73:[2,104],74:[2,104],78:[2,104],84:[2,104],85:[2,104],86:[2,104],91:[2,104],93:[2,104],102:[2,104],104:[2,104],105:[2,104],106:[2,104],110:[2,104],118:[2,104],126:[2,104],128:[2,104],129:[2,104],132:[2,104],133:[2,104],134:[2,104],135:[2,104],136:[2,104],137:[2,104]},{1:[2,80],6:[2,80],25:[2,80],26:[2,80],40:[2,80],49:[2,80],54:[2,80],57:[2,80],66:[2,80],67:[2,80],68:[2,80],69:[2,80],71:[2,80],73:[2,80],74:[2,80],78:[2,80],80:[2,80],84:[2,80],85:[2,80],86:[2,80],91:[2,80],93:[2,80],102:[2,80],104:[2,80],105:[2,80],106:[2,80],110:[2,80],118:[2,80],126:[2,80],128:[2,80],129:[2,80],130:[2,80],131:[2,80],132:[2,80],133:[2,80],134:[2,80],135:[2,80],136:[2,80],137:[2,80],138:[2,80]},{1:[2,81],6:[2,81],25:[2,81],26:[2,81],40:[2,81],49:[2,81],54:[2,81],57:[2,81],66:[2,81],67:[2,81],68:[2,81],69:[2,81],71:[2,81],73:[2,81],74:[2,81],78:[2,81],80:[2,81],84:[2,81],85:[2,81],86:[2,81],91:[2,81],93:[2,81],102:[2,81],104:[2,81],105:[2,81],106:[2,81],110:[2,81],118:[2,81],126:[2,81],128:[2,81],129:[2,81],130:[2,81],131:[2,81],132:[2,81],133:[2,81],134:[2,81],135:[2,81],136:[2,81],137:[2,81],138:[2,81]},{1:[2,82],6:[2,82],25:[2,82],26:[2,82],40:[2,82],49:[2,82],54:[2,82],57:[2,82],66:[2,82],67:[2,82],68:[2,82],69:[2,82],71:[2,82],73:[2,82],74:[2,82],78:[2,82],80:[2,82],84:[2,82],85:[2,82],86:[2,82],91:[2,82],93:[2,82],102:[2,82],104:[2,82],105:[2,82],106:[2,82],110:[2,82],118:[2,82],126:[2,82],128:[2,82],129:[2,82],130:[2,82],131:[2,82],132:[2,82],133:[2,82],134:[2,82],135:[2,82],136:[2,82],137:[2,82],138:[2,82]},{1:[2,83],6:[2,83],25:[2,83],26:[2,83],40:[2,83],49:[2,83],54:[2,83],57:[2,83],66:[2,83],67:[2,83],68:[2,83],69:[2,83],71:[2,83],73:[2,83],74:[2,83],78:[2,83],80:[2,83],84:[2,83],85:[2,83],86:[2,83],91:[2,83],93:[2,83],102:[2,83],104:[2,83],105:[2,83],106:[2,83],110:[2,83],118:[2,83],126:[2,83],128:[2,83],129:[2,83],130:[2,83],131:[2,83],132:[2,83],133:[2,83],134:[2,83],135:[2,83],136:[2,83],137:[2,83],138:[2,83]},{73:[1,241]},{57:[1,194],73:[2,88],92:242,93:[1,193],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{73:[2,89]},{8:243,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,73:[2,123],76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{12:[2,117],28:[2,117],30:[2,117],31:[2,117],33:[2,117],34:[2,117],35:[2,117],36:[2,117],37:[2,117],38:[2,117],45:[2,117],46:[2,117],47:[2,117],51:[2,117],52:[2,117],73:[2,117],76:[2,117],79:[2,117],83:[2,117],88:[2,117],89:[2,117],90:[2,117],96:[2,117],100:[2,117],101:[2,117],104:[2,117],106:[2,117],108:[2,117],110:[2,117],119:[2,117],125:[2,117],127:[2,117],128:[2,117],129:[2,117],130:[2,117],131:[2,117]},{12:[2,118],28:[2,118],30:[2,118],31:[2,118],33:[2,118],34:[2,118],35:[2,118],36:[2,118],37:[2,118],38:[2,118],45:[2,118],46:[2,118],47:[2,118],51:[2,118],52:[2,118],73:[2,118],76:[2,118],79:[2,118],83:[2,118],88:[2,118],89:[2,118],90:[2,118],96:[2,118],100:[2,118],101:[2,118],104:[2,118],106:[2,118],108:[2,118],110:[2,118],119:[2,118],125:[2,118],127:[2,118],128:[2,118],129:[2,118],130:[2,118],131:[2,118]},{1:[2,87],6:[2,87],25:[2,87],26:[2,87],40:[2,87],49:[2,87],54:[2,87],57:[2,87],66:[2,87],67:[2,87],68:[2,87],69:[2,87],71:[2,87],73:[2,87],74:[2,87],78:[2,87],80:[2,87],84:[2,87],85:[2,87],86:[2,87],91:[2,87],93:[2,87],102:[2,87],104:[2,87],105:[2,87],106:[2,87],110:[2,87],118:[2,87],126:[2,87],128:[2,87],129:[2,87],130:[2,87],131:[2,87],132:[2,87],133:[2,87],134:[2,87],135:[2,87],136:[2,87],137:[2,87],138:[2,87]},{1:[2,105],6:[2,105],25:[2,105],26:[2,105],49:[2,105],54:[2,105],57:[2,105],66:[2,105],67:[2,105],68:[2,105],69:[2,105],71:[2,105],73:[2,105],74:[2,105],78:[2,105],84:[2,105],85:[2,105],86:[2,105],91:[2,105],93:[2,105],102:[2,105],104:[2,105],105:[2,105],106:[2,105],110:[2,105],118:[2,105],126:[2,105],128:[2,105],129:[2,105],132:[2,105],133:[2,105],134:[2,105],135:[2,105],136:[2,105],137:[2,105]},{1:[2,36],6:[2,36],25:[2,36],26:[2,36],49:[2,36],54:[2,36],57:[2,36],73:[2,36],78:[2,36],86:[2,36],91:[2,36],93:[2,36],102:[2,36],103:87,104:[2,36],105:[2,36],106:[2,36],109:88,110:[2,36],111:69,118:[2,36],126:[2,36],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{8:244,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:245,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,110],6:[2,110],25:[2,110],26:[2,110],49:[2,110],54:[2,110],57:[2,110],66:[2,110],67:[2,110],68:[2,110],69:[2,110],71:[2,110],73:[2,110],74:[2,110],78:[2,110],84:[2,110],85:[2,110],86:[2,110],91:[2,110],93:[2,110],102:[2,110],104:[2,110],105:[2,110],106:[2,110],110:[2,110],118:[2,110],126:[2,110],128:[2,110],129:[2,110],132:[2,110],133:[2,110],134:[2,110],135:[2,110],136:[2,110],137:[2,110]},{6:[2,53],25:[2,53],53:246,54:[1,229],86:[2,53]},{6:[2,129],25:[2,129],26:[2,129],54:[2,129],57:[1,247],86:[2,129],91:[2,129],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{50:248,51:[1,60],52:[1,61]},{6:[2,54],25:[2,54],26:[2,54],27:110,28:[1,73],44:111,55:249,56:109,58:112,59:113,76:[1,70],89:[1,114],90:[1,115]},{6:[1,250],25:[1,251]},{6:[2,61],25:[2,61],26:[2,61],49:[2,61],54:[2,61]},{8:252,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,202],6:[2,202],25:[2,202],26:[2,202],49:[2,202],54:[2,202],57:[2,202],73:[2,202],78:[2,202],86:[2,202],91:[2,202],93:[2,202],102:[2,202],103:87,104:[2,202],105:[2,202],106:[2,202],109:88,110:[2,202],111:69,118:[2,202],126:[2,202],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{8:253,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:254,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,205],6:[2,205],25:[2,205],26:[2,205],49:[2,205],54:[2,205],57:[2,205],73:[2,205],78:[2,205],86:[2,205],91:[2,205],93:[2,205],102:[2,205],103:87,104:[2,205],105:[2,205],106:[2,205],109:88,110:[2,205],111:69,118:[2,205],126:[2,205],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,184],6:[2,184],25:[2,184],26:[2,184],49:[2,184],54:[2,184],57:[2,184],73:[2,184],78:[2,184],86:[2,184],91:[2,184],93:[2,184],102:[2,184],104:[2,184],105:[2,184],106:[2,184],110:[2,184],118:[2,184],126:[2,184],128:[2,184],129:[2,184],132:[2,184],133:[2,184],134:[2,184],135:[2,184],136:[2,184],137:[2,184]},{8:255,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,134],6:[2,134],25:[2,134],26:[2,134],49:[2,134],54:[2,134],57:[2,134],73:[2,134],78:[2,134],86:[2,134],91:[2,134],93:[2,134],98:[1,256],102:[2,134],104:[2,134],105:[2,134],106:[2,134],110:[2,134],118:[2,134],126:[2,134],128:[2,134],129:[2,134],132:[2,134],133:[2,134],134:[2,134],135:[2,134],136:[2,134],137:[2,134]},{5:257,25:[1,5]},{5:260,25:[1,5],27:258,28:[1,73],59:259,76:[1,70]},{120:261,122:219,123:[1,220]},{26:[1,262],121:[1,263],122:264,123:[1,220]},{26:[2,177],121:[2,177],123:[2,177]},{8:266,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],95:265,96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,98],5:267,6:[2,98],25:[1,5],26:[2,98],49:[2,98],54:[2,98],57:[2,98],73:[2,98],78:[2,98],86:[2,98],91:[2,98],93:[2,98],102:[2,98],103:87,104:[1,65],105:[2,98],106:[1,66],109:88,110:[1,68],111:69,118:[2,98],126:[2,98],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,101],6:[2,101],25:[2,101],26:[2,101],49:[2,101],54:[2,101],57:[2,101],73:[2,101],78:[2,101],86:[2,101],91:[2,101],93:[2,101],102:[2,101],104:[2,101],105:[2,101],106:[2,101],110:[2,101],118:[2,101],126:[2,101],128:[2,101],129:[2,101],132:[2,101],133:[2,101],134:[2,101],135:[2,101],136:[2,101],137:[2,101]},{8:268,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,141],6:[2,141],25:[2,141],26:[2,141],49:[2,141],54:[2,141],57:[2,141],66:[2,141],67:[2,141],68:[2,141],69:[2,141],71:[2,141],73:[2,141],74:[2,141],78:[2,141],84:[2,141],85:[2,141],86:[2,141],91:[2,141],93:[2,141],102:[2,141],104:[2,141],105:[2,141],106:[2,141],110:[2,141],118:[2,141],126:[2,141],128:[2,141],129:[2,141],132:[2,141],133:[2,141],134:[2,141],135:[2,141],136:[2,141],137:[2,141]},{6:[1,74],26:[1,269]},{8:270,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{6:[2,67],12:[2,118],25:[2,67],28:[2,118],30:[2,118],31:[2,118],33:[2,118],34:[2,118],35:[2,118],36:[2,118],37:[2,118],38:[2,118],45:[2,118],46:[2,118],47:[2,118],51:[2,118],52:[2,118],54:[2,67],76:[2,118],79:[2,118],83:[2,118],88:[2,118],89:[2,118],90:[2,118],91:[2,67],96:[2,118],100:[2,118],101:[2,118],104:[2,118],106:[2,118],108:[2,118],110:[2,118],119:[2,118],125:[2,118],127:[2,118],128:[2,118],129:[2,118],130:[2,118],131:[2,118]},{6:[1,272],25:[1,273],91:[1,271]},{6:[2,54],8:202,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[2,54],26:[2,54],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,60:148,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],86:[2,54],88:[1,58],89:[1,59],90:[1,57],91:[2,54],94:274,96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{6:[2,53],25:[2,53],26:[2,53],53:275,54:[1,229]},{1:[2,181],6:[2,181],25:[2,181],26:[2,181],49:[2,181],54:[2,181],57:[2,181],73:[2,181],78:[2,181],86:[2,181],91:[2,181],93:[2,181],102:[2,181],104:[2,181],105:[2,181],106:[2,181],110:[2,181],118:[2,181],121:[2,181],126:[2,181],128:[2,181],129:[2,181],132:[2,181],133:[2,181],134:[2,181],135:[2,181],136:[2,181],137:[2,181]},{8:276,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:277,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{116:[2,159],117:[2,159]},{27:159,28:[1,73],44:160,58:161,59:162,76:[1,70],89:[1,114],90:[1,115],115:278},{1:[2,166],6:[2,166],25:[2,166],26:[2,166],49:[2,166],54:[2,166],57:[2,166],73:[2,166],78:[2,166],86:[2,166],91:[2,166],93:[2,166],102:[2,166],103:87,104:[2,166],105:[1,279],106:[2,166],109:88,110:[2,166],111:69,118:[1,280],126:[2,166],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,167],6:[2,167],25:[2,167],26:[2,167],49:[2,167],54:[2,167],57:[2,167],73:[2,167],78:[2,167],86:[2,167],91:[2,167],93:[2,167],102:[2,167],103:87,104:[2,167],105:[1,281],106:[2,167],109:88,110:[2,167],111:69,118:[2,167],126:[2,167],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{6:[1,283],25:[1,284],78:[1,282]},{6:[2,54],11:169,25:[2,54],26:[2,54],27:170,28:[1,73],29:171,30:[1,71],31:[1,72],41:285,42:168,44:172,46:[1,46],78:[2,54],89:[1,114]},{8:286,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,287],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,86],6:[2,86],25:[2,86],26:[2,86],40:[2,86],49:[2,86],54:[2,86],57:[2,86],66:[2,86],67:[2,86],68:[2,86],69:[2,86],71:[2,86],73:[2,86],74:[2,86],78:[2,86],80:[2,86],84:[2,86],85:[2,86],86:[2,86],91:[2,86],93:[2,86],102:[2,86],104:[2,86],105:[2,86],106:[2,86],110:[2,86],118:[2,86],126:[2,86],128:[2,86],129:[2,86],130:[2,86],131:[2,86],132:[2,86],133:[2,86],134:[2,86],135:[2,86],136:[2,86],137:[2,86],138:[2,86]},{8:288,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,73:[2,121],76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{73:[2,122],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,37],6:[2,37],25:[2,37],26:[2,37],49:[2,37],54:[2,37],57:[2,37],73:[2,37],78:[2,37],86:[2,37],91:[2,37],93:[2,37],102:[2,37],103:87,104:[2,37],105:[2,37],106:[2,37],109:88,110:[2,37],111:69,118:[2,37],126:[2,37],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{26:[1,289],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{6:[1,272],25:[1,273],86:[1,290]},{6:[2,67],25:[2,67],26:[2,67],54:[2,67],86:[2,67],91:[2,67]},{5:291,25:[1,5]},{6:[2,57],25:[2,57],26:[2,57],49:[2,57],54:[2,57]},{27:110,28:[1,73],44:111,55:292,56:109,58:112,59:113,76:[1,70],89:[1,114],90:[1,115]},{6:[2,55],25:[2,55],26:[2,55],27:110,28:[1,73],44:111,48:293,54:[2,55],55:108,56:109,58:112,59:113,76:[1,70],89:[1,114],90:[1,115]},{6:[2,62],25:[2,62],26:[2,62],49:[2,62],54:[2,62],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{26:[1,294],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,204],6:[2,204],25:[2,204],26:[2,204],49:[2,204],54:[2,204],57:[2,204],73:[2,204],78:[2,204],86:[2,204],91:[2,204],93:[2,204],102:[2,204],103:87,104:[2,204],105:[2,204],106:[2,204],109:88,110:[2,204],111:69,118:[2,204],126:[2,204],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{5:295,25:[1,5],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{5:296,25:[1,5]},{1:[2,135],6:[2,135],25:[2,135],26:[2,135],49:[2,135],54:[2,135],57:[2,135],73:[2,135],78:[2,135],86:[2,135],91:[2,135],93:[2,135],102:[2,135],104:[2,135],105:[2,135],106:[2,135],110:[2,135],118:[2,135],126:[2,135],128:[2,135],129:[2,135],132:[2,135],133:[2,135],134:[2,135],135:[2,135],136:[2,135],137:[2,135]},{5:297,25:[1,5]},{5:298,25:[1,5]},{1:[2,139],6:[2,139],25:[2,139],26:[2,139],49:[2,139],54:[2,139],57:[2,139],73:[2,139],78:[2,139],86:[2,139],91:[2,139],93:[2,139],98:[2,139],102:[2,139],104:[2,139],105:[2,139],106:[2,139],110:[2,139],118:[2,139],126:[2,139],128:[2,139],129:[2,139],132:[2,139],133:[2,139],134:[2,139],135:[2,139],136:[2,139],137:[2,139]},{26:[1,299],121:[1,300],122:264,123:[1,220]},{1:[2,175],6:[2,175],25:[2,175],26:[2,175],49:[2,175],54:[2,175],57:[2,175],73:[2,175],78:[2,175],86:[2,175],91:[2,175],93:[2,175],102:[2,175],104:[2,175],105:[2,175],106:[2,175],110:[2,175],118:[2,175],126:[2,175],128:[2,175],129:[2,175],132:[2,175],133:[2,175],134:[2,175],135:[2,175],136:[2,175],137:[2,175]},{5:301,25:[1,5]},{26:[2,178],121:[2,178],123:[2,178]},{5:302,25:[1,5],54:[1,303]},{25:[2,131],54:[2,131],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,99],6:[2,99],25:[2,99],26:[2,99],49:[2,99],54:[2,99],57:[2,99],73:[2,99],78:[2,99],86:[2,99],91:[2,99],93:[2,99],102:[2,99],104:[2,99],105:[2,99],106:[2,99],110:[2,99],118:[2,99],126:[2,99],128:[2,99],129:[2,99],132:[2,99],133:[2,99],134:[2,99],135:[2,99],136:[2,99],137:[2,99]},{1:[2,102],5:304,6:[2,102],25:[1,5],26:[2,102],49:[2,102],54:[2,102],57:[2,102],73:[2,102],78:[2,102],86:[2,102],91:[2,102],93:[2,102],102:[2,102],103:87,104:[1,65],105:[2,102],106:[1,66],109:88,110:[1,68],111:69,118:[2,102],126:[2,102],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{102:[1,305]},{91:[1,306],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,116],6:[2,116],25:[2,116],26:[2,116],40:[2,116],49:[2,116],54:[2,116],57:[2,116],66:[2,116],67:[2,116],68:[2,116],69:[2,116],71:[2,116],73:[2,116],74:[2,116],78:[2,116],84:[2,116],85:[2,116],86:[2,116],91:[2,116],93:[2,116],102:[2,116],104:[2,116],105:[2,116],106:[2,116],110:[2,116],116:[2,116],117:[2,116],118:[2,116],126:[2,116],128:[2,116],129:[2,116],132:[2,116],133:[2,116],134:[2,116],135:[2,116],136:[2,116],137:[2,116]},{8:202,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,60:148,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],94:307,96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:202,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,147],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,60:148,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],87:308,88:[1,58],89:[1,59],90:[1,57],94:146,96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{6:[2,125],25:[2,125],26:[2,125],54:[2,125],86:[2,125],91:[2,125]},{6:[1,272],25:[1,273],26:[1,309]},{1:[2,144],6:[2,144],25:[2,144],26:[2,144],49:[2,144],54:[2,144],57:[2,144],73:[2,144],78:[2,144],86:[2,144],91:[2,144],93:[2,144],102:[2,144],103:87,104:[1,65],105:[2,144],106:[1,66],109:88,110:[1,68],111:69,118:[2,144],126:[2,144],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,146],6:[2,146],25:[2,146],26:[2,146],49:[2,146],54:[2,146],57:[2,146],73:[2,146],78:[2,146],86:[2,146],91:[2,146],93:[2,146],102:[2,146],103:87,104:[1,65],105:[2,146],106:[1,66],109:88,110:[1,68],111:69,118:[2,146],126:[2,146],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{116:[2,165],117:[2,165]},{8:310,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:311,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:312,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,90],6:[2,90],25:[2,90],26:[2,90],40:[2,90],49:[2,90],54:[2,90],57:[2,90],66:[2,90],67:[2,90],68:[2,90],69:[2,90],71:[2,90],73:[2,90],74:[2,90],78:[2,90],84:[2,90],85:[2,90],86:[2,90],91:[2,90],93:[2,90],102:[2,90],104:[2,90],105:[2,90],106:[2,90],110:[2,90],116:[2,90],117:[2,90],118:[2,90],126:[2,90],128:[2,90],129:[2,90],132:[2,90],133:[2,90],134:[2,90],135:[2,90],136:[2,90],137:[2,90]},{11:169,27:170,28:[1,73],29:171,30:[1,71],31:[1,72],41:313,42:168,44:172,46:[1,46],89:[1,114]},{6:[2,91],11:169,25:[2,91],26:[2,91],27:170,28:[1,73],29:171,30:[1,71],31:[1,72],41:167,42:168,44:172,46:[1,46],54:[2,91],77:314,89:[1,114]},{6:[2,93],25:[2,93],26:[2,93],54:[2,93],78:[2,93]},{6:[2,40],25:[2,40],26:[2,40],54:[2,40],78:[2,40],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{8:315,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{73:[2,120],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,38],6:[2,38],25:[2,38],26:[2,38],49:[2,38],54:[2,38],57:[2,38],73:[2,38],78:[2,38],86:[2,38],91:[2,38],93:[2,38],102:[2,38],104:[2,38],105:[2,38],106:[2,38],110:[2,38],118:[2,38],126:[2,38],128:[2,38],129:[2,38],132:[2,38],133:[2,38],134:[2,38],135:[2,38],136:[2,38],137:[2,38]},{1:[2,111],6:[2,111],25:[2,111],26:[2,111],49:[2,111],54:[2,111],57:[2,111],66:[2,111],67:[2,111],68:[2,111],69:[2,111],71:[2,111],73:[2,111],74:[2,111],78:[2,111],84:[2,111],85:[2,111],86:[2,111],91:[2,111],93:[2,111],102:[2,111],104:[2,111],105:[2,111],106:[2,111],110:[2,111],118:[2,111],126:[2,111],128:[2,111],129:[2,111],132:[2,111],133:[2,111],134:[2,111],135:[2,111],136:[2,111],137:[2,111]},{1:[2,49],6:[2,49],25:[2,49],26:[2,49],49:[2,49],54:[2,49],57:[2,49],73:[2,49],78:[2,49],86:[2,49],91:[2,49],93:[2,49],102:[2,49],104:[2,49],105:[2,49],106:[2,49],110:[2,49],118:[2,49],126:[2,49],128:[2,49],129:[2,49],132:[2,49],133:[2,49],134:[2,49],135:[2,49],136:[2,49],137:[2,49]},{6:[2,58],25:[2,58],26:[2,58],49:[2,58],54:[2,58]},{6:[2,53],25:[2,53],26:[2,53],53:316,54:[1,204]},{1:[2,203],6:[2,203],25:[2,203],26:[2,203],49:[2,203],54:[2,203],57:[2,203],73:[2,203],78:[2,203],86:[2,203],91:[2,203],93:[2,203],102:[2,203],104:[2,203],105:[2,203],106:[2,203],110:[2,203],118:[2,203],126:[2,203],128:[2,203],129:[2,203],132:[2,203],133:[2,203],134:[2,203],135:[2,203],136:[2,203],137:[2,203]},{1:[2,182],6:[2,182],25:[2,182],26:[2,182],49:[2,182],54:[2,182],57:[2,182],73:[2,182],78:[2,182],86:[2,182],91:[2,182],93:[2,182],102:[2,182],104:[2,182],105:[2,182],106:[2,182],110:[2,182],118:[2,182],121:[2,182],126:[2,182],128:[2,182],129:[2,182],132:[2,182],133:[2,182],134:[2,182],135:[2,182],136:[2,182],137:[2,182]},{1:[2,136],6:[2,136],25:[2,136],26:[2,136],49:[2,136],54:[2,136],57:[2,136],73:[2,136],78:[2,136],86:[2,136],91:[2,136],93:[2,136],102:[2,136],104:[2,136],105:[2,136],106:[2,136],110:[2,136],118:[2,136],126:[2,136],128:[2,136],129:[2,136],132:[2,136],133:[2,136],134:[2,136],135:[2,136],136:[2,136],137:[2,136]},{1:[2,137],6:[2,137],25:[2,137],26:[2,137],49:[2,137],54:[2,137],57:[2,137],73:[2,137],78:[2,137],86:[2,137],91:[2,137],93:[2,137],98:[2,137],102:[2,137],104:[2,137],105:[2,137],106:[2,137],110:[2,137],118:[2,137],126:[2,137],128:[2,137],129:[2,137],132:[2,137],133:[2,137],134:[2,137],135:[2,137],136:[2,137],137:[2,137]},{1:[2,138],6:[2,138],25:[2,138],26:[2,138],49:[2,138],54:[2,138],57:[2,138],73:[2,138],78:[2,138],86:[2,138],91:[2,138],93:[2,138],98:[2,138],102:[2,138],104:[2,138],105:[2,138],106:[2,138],110:[2,138],118:[2,138],126:[2,138],128:[2,138],129:[2,138],132:[2,138],133:[2,138],134:[2,138],135:[2,138],136:[2,138],137:[2,138]},{1:[2,173],6:[2,173],25:[2,173],26:[2,173],49:[2,173],54:[2,173],57:[2,173],73:[2,173],78:[2,173],86:[2,173],91:[2,173],93:[2,173],102:[2,173],104:[2,173],105:[2,173],106:[2,173],110:[2,173],118:[2,173],126:[2,173],128:[2,173],129:[2,173],132:[2,173],133:[2,173],134:[2,173],135:[2,173],136:[2,173],137:[2,173]},{5:317,25:[1,5]},{26:[1,318]},{6:[1,319],26:[2,179],121:[2,179],123:[2,179]},{8:320,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{1:[2,103],6:[2,103],25:[2,103],26:[2,103],49:[2,103],54:[2,103],57:[2,103],73:[2,103],78:[2,103],86:[2,103],91:[2,103],93:[2,103],102:[2,103],104:[2,103],105:[2,103],106:[2,103],110:[2,103],118:[2,103],126:[2,103],128:[2,103],129:[2,103],132:[2,103],133:[2,103],134:[2,103],135:[2,103],136:[2,103],137:[2,103]},{1:[2,142],6:[2,142],25:[2,142],26:[2,142],49:[2,142],54:[2,142],57:[2,142],66:[2,142],67:[2,142],68:[2,142],69:[2,142],71:[2,142],73:[2,142],74:[2,142],78:[2,142],84:[2,142],85:[2,142],86:[2,142],91:[2,142],93:[2,142],102:[2,142],104:[2,142],105:[2,142],106:[2,142],110:[2,142],118:[2,142],126:[2,142],128:[2,142],129:[2,142],132:[2,142],133:[2,142],134:[2,142],135:[2,142],136:[2,142],137:[2,142]},{1:[2,119],6:[2,119],25:[2,119],26:[2,119],49:[2,119],54:[2,119],57:[2,119],66:[2,119],67:[2,119],68:[2,119],69:[2,119],71:[2,119],73:[2,119],74:[2,119],78:[2,119],84:[2,119],85:[2,119],86:[2,119],91:[2,119],93:[2,119],102:[2,119],104:[2,119],105:[2,119],106:[2,119],110:[2,119],118:[2,119],126:[2,119],128:[2,119],129:[2,119],132:[2,119],133:[2,119],134:[2,119],135:[2,119],136:[2,119],137:[2,119]},{6:[2,126],25:[2,126],26:[2,126],54:[2,126],86:[2,126],91:[2,126]},{6:[2,53],25:[2,53],26:[2,53],53:321,54:[1,229]},{6:[2,127],25:[2,127],26:[2,127],54:[2,127],86:[2,127],91:[2,127]},{1:[2,168],6:[2,168],25:[2,168],26:[2,168],49:[2,168],54:[2,168],57:[2,168],73:[2,168],78:[2,168],86:[2,168],91:[2,168],93:[2,168],102:[2,168],103:87,104:[2,168],105:[2,168],106:[2,168],109:88,110:[2,168],111:69,118:[1,322],126:[2,168],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,170],6:[2,170],25:[2,170],26:[2,170],49:[2,170],54:[2,170],57:[2,170],73:[2,170],78:[2,170],86:[2,170],91:[2,170],93:[2,170],102:[2,170],103:87,104:[2,170],105:[1,323],106:[2,170],109:88,110:[2,170],111:69,118:[2,170],126:[2,170],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,169],6:[2,169],25:[2,169],26:[2,169],49:[2,169],54:[2,169],57:[2,169],73:[2,169],78:[2,169],86:[2,169],91:[2,169],93:[2,169],102:[2,169],103:87,104:[2,169],105:[2,169],106:[2,169],109:88,110:[2,169],111:69,118:[2,169],126:[2,169],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{6:[2,94],25:[2,94],26:[2,94],54:[2,94],78:[2,94]},{6:[2,53],25:[2,53],26:[2,53],53:324,54:[1,239]},{26:[1,325],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{6:[1,250],25:[1,251],26:[1,326]},{26:[1,327]},{1:[2,176],6:[2,176],25:[2,176],26:[2,176],49:[2,176],54:[2,176],57:[2,176],73:[2,176],78:[2,176],86:[2,176],91:[2,176],93:[2,176],102:[2,176],104:[2,176],105:[2,176],106:[2,176],110:[2,176],118:[2,176],126:[2,176],128:[2,176],129:[2,176],132:[2,176],133:[2,176],134:[2,176],135:[2,176],136:[2,176],137:[2,176]},{26:[2,180],121:[2,180],123:[2,180]},{25:[2,132],54:[2,132],103:87,104:[1,65],106:[1,66],109:88,110:[1,68],111:69,126:[1,86],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{6:[1,272],25:[1,273],26:[1,328]},{8:329,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{8:330,9:118,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,76:[1,70],79:[1,43],83:[1,28],88:[1,58],89:[1,59],90:[1,57],96:[1,38],100:[1,44],101:[1,56],103:39,104:[1,65],106:[1,66],107:40,108:[1,67],109:41,110:[1,68],111:69,119:[1,42],124:37,125:[1,64],127:[1,31],128:[1,32],129:[1,33],130:[1,34],131:[1,35]},{6:[1,283],25:[1,284],26:[1,331]},{6:[2,41],25:[2,41],26:[2,41],54:[2,41],78:[2,41]},{6:[2,59],25:[2,59],26:[2,59],49:[2,59],54:[2,59]},{1:[2,174],6:[2,174],25:[2,174],26:[2,174],49:[2,174],54:[2,174],57:[2,174],73:[2,174],78:[2,174],86:[2,174],91:[2,174],93:[2,174],102:[2,174],104:[2,174],105:[2,174],106:[2,174],110:[2,174],118:[2,174],126:[2,174],128:[2,174],129:[2,174],132:[2,174],133:[2,174],134:[2,174],135:[2,174],136:[2,174],137:[2,174]},{6:[2,128],25:[2,128],26:[2,128],54:[2,128],86:[2,128],91:[2,128]},{1:[2,171],6:[2,171],25:[2,171],26:[2,171],49:[2,171],54:[2,171],57:[2,171],73:[2,171],78:[2,171],86:[2,171],91:[2,171],93:[2,171],102:[2,171],103:87,104:[2,171],105:[2,171],106:[2,171],109:88,110:[2,171],111:69,118:[2,171],126:[2,171],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{1:[2,172],6:[2,172],25:[2,172],26:[2,172],49:[2,172],54:[2,172],57:[2,172],73:[2,172],78:[2,172],86:[2,172],91:[2,172],93:[2,172],102:[2,172],103:87,104:[2,172],105:[2,172],106:[2,172],109:88,110:[2,172],111:69,118:[2,172],126:[2,172],128:[1,80],129:[1,79],132:[1,78],133:[1,81],134:[1,82],135:[1,83],136:[1,84],137:[1,85]},{6:[2,95],25:[2,95],26:[2,95],54:[2,95],78:[2,95]}],defaultActions:{60:[2,51],61:[2,52],75:[2,3],94:[2,109],191:[2,89]},parseError:function(str,hash){var e=Error(str);\nthrow e.location=hash.loc,e},parse:function(input){function lex(){var token;return token=self.lexer.lex()||1,\"number\"!=typeof token&&(token=self.symbols_[token]||token),token}var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext=\"\",yylineno=0,yyleng=0,recovering=0;this.lexer.setInput(input),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,this.lexer.yylloc===void 0&&(this.lexer.yylloc={});var yyloc=this.lexer.yylloc;lstack.push(yyloc);var ranges=this.lexer.options&&this.lexer.options.ranges;\"function\"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var symbol,preErrorSymbol,state,action,r,p,len,newState,expected,yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:((null===symbol||symbol===void 0)&&(symbol=lex()),action=table[state]&&table[state][symbol]),action===void 0||!action.length||!action[0]){var errStr=\"\";if(!recovering){expected=[];for(p in table[state])this.terminals_[p]&&p>2&&expected.push(\"'\"+this.terminals_[p]+\"'\");errStr=this.lexer.showPosition?this.lexer.showPosition()+\"\\nExpecting \"+expected.join(\", \")+\", got '\"+(this.terminals_[symbol]||symbol)+\"'\":\"Unexpected \"+(1==symbol?\"end of input\":\"'\"+(this.terminals_[symbol]||symbol)+\"'\"),this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}}if(action[0]instanceof Array&&action.length>1)throw Error(\"Parse Error: multiple actions possible at state: \"+state+\", token: \"+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(this.lexer.yytext),lstack.push(this.lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=this.lexer.yyleng,yytext=this.lexer.yytext,yylineno=this.lexer.yylineno,yyloc=this.lexer.yylloc,recovering>0&&recovering--);break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack),r!==void 0)return r;len&&(stack=stack.slice(0,2*-1*len),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}};Parser.prototype=parser,parser.Parser=Parser,module.exports=new Parser}),ace.define(\"ace/mode/coffee/nodes\",[\"require\",\"exports\",\"module\",\"ace/mode/coffee/scope\",\"ace/mode/coffee/lexer\",\"ace/mode/coffee/helpers\"],function(acequire,exports){var Access,Arr,Assign,Base,Block,Call,Class,Closure,Code,CodeFragment,Comment,Existence,Extends,For,IDENTIFIER,IDENTIFIER_STR,IS_STRING,If,In,Index,LEVEL_ACCESS,LEVEL_COND,LEVEL_LIST,LEVEL_OP,LEVEL_PAREN,LEVEL_TOP,Literal,METHOD_DEF,NEGATE,NO,Obj,Op,Param,Parens,RESERVED,Range,Return,SIMPLENUM,STRICT_PROSCRIBED,Scope,Slice,Splat,Switch,TAB,THIS,Throw,Try,UTILITIES,Value,While,YES,addLocationDataFn,compact,del,ends,extend,flatten,fragmentsToText,last,locationDataToString,merge,multident,some,starts,throwSyntaxError,unfoldSoak,utility,_ref,_ref1,_ref2,_ref3,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;l>i;i++)if(i in this&&this[i]===item)return i;return-1},__slice=[].slice;Error.stackTraceLimit=1/0,Scope=acequire(\"./scope\").Scope,_ref=acequire(\"./lexer\"),RESERVED=_ref.RESERVED,STRICT_PROSCRIBED=_ref.STRICT_PROSCRIBED,_ref1=acequire(\"./helpers\"),compact=_ref1.compact,flatten=_ref1.flatten,extend=_ref1.extend,merge=_ref1.merge,del=_ref1.del,starts=_ref1.starts,ends=_ref1.ends,last=_ref1.last,some=_ref1.some,addLocationDataFn=_ref1.addLocationDataFn,locationDataToString=_ref1.locationDataToString,throwSyntaxError=_ref1.throwSyntaxError,exports.extend=extend,exports.addLocationDataFn=addLocationDataFn,YES=function(){return!0},NO=function(){return!1},THIS=function(){return this},NEGATE=function(){return this.negated=!this.negated,this},exports.CodeFragment=CodeFragment=function(){function CodeFragment(parent,code){var _ref2;this.code=\"\"+code,this.locationData=null!=parent?parent.locationData:void 0,this.type=(null!=parent?null!=(_ref2=parent.constructor)?_ref2.name:void 0:void 0)||\"unknown\"}return CodeFragment.prototype.toString=function(){return\"\"+this.code+[this.locationData?\": \"+locationDataToString(this.locationData):void 0]},CodeFragment}(),fragmentsToText=function(fragments){var fragment;return function(){var _i,_len,_results;for(_results=[],_i=0,_len=fragments.length;_len>_i;_i++)fragment=fragments[_i],_results.push(fragment.code);return _results}().join(\"\")},exports.Base=Base=function(){function Base(){}return Base.prototype.compile=function(o,lvl){return fragmentsToText(this.compileToFragments(o,lvl))},Base.prototype.compileToFragments=function(o,lvl){var node;return o=extend({},o),lvl&&(o.level=lvl),node=this.unfoldSoak(o)||this,node.tab=o.indent,o.level!==LEVEL_TOP&&node.isStatement(o)?node.compileClosure(o):node.compileNode(o)},Base.prototype.compileClosure=function(o){var jumpNode;return(jumpNode=this.jumps())&&jumpNode.error(\"cannot use a pure statement in an expression\"),o.sharedScope=!0,Closure.wrap(this).compileNode(o)},Base.prototype.cache=function(o,level,reused){var ref,sub;return this.isComplex()?(ref=new Literal(reused||o.scope.freeVariable(\"ref\")),sub=new Assign(ref,this),level?[sub.compileToFragments(o,level),[this.makeCode(ref.value)]]:[sub,ref]):(ref=level?this.compileToFragments(o,level):this,[ref,ref])},Base.prototype.cacheToCodeFragments=function(cacheValues){return[fragmentsToText(cacheValues[0]),fragmentsToText(cacheValues[1])]},Base.prototype.makeReturn=function(res){var me;return me=this.unwrapAll(),res?new Call(new Literal(\"\"+res+\".push\"),[me]):new Return(me)},Base.prototype.contains=function(pred){var node;return node=void 0,this.traverseChildren(!1,function(n){return pred(n)?(node=n,!1):void 0}),node},Base.prototype.lastNonComment=function(list){var i;for(i=list.length;i--;)if(!(list[i]instanceof Comment))return list[i];return null},Base.prototype.toString=function(idt,name){var tree;return null==idt&&(idt=\"\"),null==name&&(name=this.constructor.name),tree=\"\\n\"+idt+name,this.soak&&(tree+=\"?\"),this.eachChild(function(node){return tree+=node.toString(idt+TAB)}),tree},Base.prototype.eachChild=function(func){var attr,child,_i,_j,_len,_len1,_ref2,_ref3;if(!this.children)return this;for(_ref2=this.children,_i=0,_len=_ref2.length;_len>_i;_i++)if(attr=_ref2[_i],this[attr])for(_ref3=flatten([this[attr]]),_j=0,_len1=_ref3.length;_len1>_j;_j++)if(child=_ref3[_j],func(child)===!1)return this;return this},Base.prototype.traverseChildren=function(crossScope,func){return this.eachChild(function(child){var recur;return recur=func(child),recur!==!1?child.traverseChildren(crossScope,func):void 0})},Base.prototype.invert=function(){return new Op(\"!\",this)},Base.prototype.unwrapAll=function(){var node;for(node=this;node!==(node=node.unwrap()););return node},Base.prototype.children=[],Base.prototype.isStatement=NO,Base.prototype.jumps=NO,Base.prototype.isComplex=YES,Base.prototype.isChainable=NO,Base.prototype.isAssignable=NO,Base.prototype.unwrap=THIS,Base.prototype.unfoldSoak=NO,Base.prototype.assigns=NO,Base.prototype.updateLocationDataIfMissing=function(locationData){return this.locationData||(this.locationData=locationData),this.eachChild(function(child){return child.updateLocationDataIfMissing(locationData)})},Base.prototype.error=function(message){return throwSyntaxError(message,this.locationData)},Base.prototype.makeCode=function(code){return new CodeFragment(this,code)},Base.prototype.wrapInBraces=function(fragments){return[].concat(this.makeCode(\"(\"),fragments,this.makeCode(\")\"))},Base.prototype.joinFragmentArrays=function(fragmentsList,joinStr){var answer,fragments,i,_i,_len;for(answer=[],i=_i=0,_len=fragmentsList.length;_len>_i;i=++_i)fragments=fragmentsList[i],i&&answer.push(this.makeCode(joinStr)),answer=answer.concat(fragments);return answer},Base}(),exports.Block=Block=function(_super){function Block(nodes){this.expressions=compact(flatten(nodes||[]))}return __extends(Block,_super),Block.prototype.children=[\"expressions\"],Block.prototype.push=function(node){return this.expressions.push(node),this},Block.prototype.pop=function(){return this.expressions.pop()},Block.prototype.unshift=function(node){return this.expressions.unshift(node),this},Block.prototype.unwrap=function(){return 1===this.expressions.length?this.expressions[0]:this},Block.prototype.isEmpty=function(){return!this.expressions.length},Block.prototype.isStatement=function(o){var exp,_i,_len,_ref2;for(_ref2=this.expressions,_i=0,_len=_ref2.length;_len>_i;_i++)if(exp=_ref2[_i],exp.isStatement(o))return!0;return!1},Block.prototype.jumps=function(o){var exp,_i,_len,_ref2;for(_ref2=this.expressions,_i=0,_len=_ref2.length;_len>_i;_i++)if(exp=_ref2[_i],exp.jumps(o))return exp},Block.prototype.makeReturn=function(res){var expr,len;for(len=this.expressions.length;len--;)if(expr=this.expressions[len],!(expr instanceof Comment)){this.expressions[len]=expr.makeReturn(res),expr instanceof Return&&!expr.expression&&this.expressions.splice(len,1);break}return this},Block.prototype.compileToFragments=function(o,level){return null==o&&(o={}),o.scope?Block.__super__.compileToFragments.call(this,o,level):this.compileRoot(o)},Block.prototype.compileNode=function(o){var answer,compiledNodes,fragments,index,node,top,_i,_len,_ref2;for(this.tab=o.indent,top=o.level===LEVEL_TOP,compiledNodes=[],_ref2=this.expressions,index=_i=0,_len=_ref2.length;_len>_i;index=++_i)node=_ref2[index],node=node.unwrapAll(),node=node.unfoldSoak(o)||node,node instanceof Block?compiledNodes.push(node.compileNode(o)):top?(node.front=!0,fragments=node.compileToFragments(o),node.isStatement(o)||(fragments.unshift(this.makeCode(\"\"+this.tab)),fragments.push(this.makeCode(\";\"))),compiledNodes.push(fragments)):compiledNodes.push(node.compileToFragments(o,LEVEL_LIST));return top?this.spaced?[].concat(this.joinFragmentArrays(compiledNodes,\"\\n\\n\"),this.makeCode(\"\\n\")):this.joinFragmentArrays(compiledNodes,\"\\n\"):(answer=compiledNodes.length?this.joinFragmentArrays(compiledNodes,\", \"):[this.makeCode(\"void 0\")],compiledNodes.length>1&&o.level>=LEVEL_LIST?this.wrapInBraces(answer):answer)},Block.prototype.compileRoot=function(o){var exp,fragments,i,name,prelude,preludeExps,rest,_i,_len,_ref2;for(o.indent=o.bare?\"\":TAB,o.level=LEVEL_TOP,this.spaced=!0,o.scope=new Scope(null,this,null),_ref2=o.locals||[],_i=0,_len=_ref2.length;_len>_i;_i++)name=_ref2[_i],o.scope.parameter(name);return prelude=[],o.bare||(preludeExps=function(){var _j,_len1,_ref3,_results;for(_ref3=this.expressions,_results=[],i=_j=0,_len1=_ref3.length;_len1>_j&&(exp=_ref3[i],exp.unwrap()instanceof Comment);i=++_j)_results.push(exp);return _results}.call(this),rest=this.expressions.slice(preludeExps.length),this.expressions=preludeExps,preludeExps.length&&(prelude=this.compileNode(merge(o,{indent:\"\"})),prelude.push(this.makeCode(\"\\n\"))),this.expressions=rest),fragments=this.compileWithDeclarations(o),o.bare?fragments:[].concat(prelude,this.makeCode(\"(function() {\\n\"),fragments,this.makeCode(\"\\n}).call(this);\\n\"))},Block.prototype.compileWithDeclarations=function(o){var assigns,declars,exp,fragments,i,post,rest,scope,spaced,_i,_len,_ref2,_ref3,_ref4;for(fragments=[],post=[],_ref2=this.expressions,i=_i=0,_len=_ref2.length;_len>_i&&(exp=_ref2[i],exp=exp.unwrap(),exp instanceof Comment||exp instanceof Literal);i=++_i);return o=merge(o,{level:LEVEL_TOP}),i&&(rest=this.expressions.splice(i,9e9),_ref3=[this.spaced,!1],spaced=_ref3[0],this.spaced=_ref3[1],_ref4=[this.compileNode(o),spaced],fragments=_ref4[0],this.spaced=_ref4[1],this.expressions=rest),post=this.compileNode(o),scope=o.scope,scope.expressions===this&&(declars=o.scope.hasDeclarations(),assigns=scope.hasAssignments,(declars||assigns)&&(i&&fragments.push(this.makeCode(\"\\n\")),fragments.push(this.makeCode(\"\"+this.tab+\"var \")),declars&&fragments.push(this.makeCode(scope.declaredVariables().join(\", \"))),assigns&&(declars&&fragments.push(this.makeCode(\",\\n\"+(this.tab+TAB))),fragments.push(this.makeCode(scope.assignedVariables().join(\",\\n\"+(this.tab+TAB))))),fragments.push(this.makeCode(\";\\n\"+(this.spaced?\"\\n\":\"\"))))),fragments.concat(post)},Block.wrap=function(nodes){return 1===nodes.length&&nodes[0]instanceof Block?nodes[0]:new Block(nodes)},Block}(Base),exports.Literal=Literal=function(_super){function Literal(value){this.value=value}return __extends(Literal,_super),Literal.prototype.makeReturn=function(){return this.isStatement()?this:Literal.__super__.makeReturn.apply(this,arguments)},Literal.prototype.isAssignable=function(){return IDENTIFIER.test(this.value)},Literal.prototype.isStatement=function(){var _ref2;return\"break\"===(_ref2=this.value)||\"continue\"===_ref2||\"debugger\"===_ref2},Literal.prototype.isComplex=NO,Literal.prototype.assigns=function(name){return name===this.value},Literal.prototype.jumps=function(o){return\"break\"!==this.value||(null!=o?o.loop:void 0)||(null!=o?o.block:void 0)?\"continue\"!==this.value||(null!=o?o.loop:void 0)?void 0:this:this},Literal.prototype.compileNode=function(o){var answer,code,_ref2;return code=\"this\"===this.value?(null!=(_ref2=o.scope.method)?_ref2.bound:void 0)?o.scope.method.context:this.value:this.value.reserved?'\"'+this.value+'\"':this.value,answer=this.isStatement()?\"\"+this.tab+code+\";\":code,[this.makeCode(answer)]},Literal.prototype.toString=function(){return' \"'+this.value+'\"'},Literal}(Base),exports.Undefined=function(_super){function Undefined(){return _ref2=Undefined.__super__.constructor.apply(this,arguments)}return __extends(Undefined,_super),Undefined.prototype.isAssignable=NO,Undefined.prototype.isComplex=NO,Undefined.prototype.compileNode=function(o){return[this.makeCode(o.level>=LEVEL_ACCESS?\"(void 0)\":\"void 0\")]},Undefined}(Base),exports.Null=function(_super){function Null(){return _ref3=Null.__super__.constructor.apply(this,arguments)}return __extends(Null,_super),Null.prototype.isAssignable=NO,Null.prototype.isComplex=NO,Null.prototype.compileNode=function(){return[this.makeCode(\"null\")]},Null}(Base),exports.Bool=function(_super){function Bool(val){this.val=val}return __extends(Bool,_super),Bool.prototype.isAssignable=NO,Bool.prototype.isComplex=NO,Bool.prototype.compileNode=function(){return[this.makeCode(this.val)]},Bool}(Base),exports.Return=Return=function(_super){function Return(expr){expr&&!expr.unwrap().isUndefined&&(this.expression=expr)}return __extends(Return,_super),Return.prototype.children=[\"expression\"],Return.prototype.isStatement=YES,Return.prototype.makeReturn=THIS,Return.prototype.jumps=THIS,Return.prototype.compileToFragments=function(o,level){var expr,_ref4;return expr=null!=(_ref4=this.expression)?_ref4.makeReturn():void 0,!expr||expr instanceof Return?Return.__super__.compileToFragments.call(this,o,level):expr.compileToFragments(o,level)},Return.prototype.compileNode=function(o){var answer;return answer=[],answer.push(this.makeCode(this.tab+(\"return\"+[this.expression?\" \":void 0]))),this.expression&&(answer=answer.concat(this.expression.compileToFragments(o,LEVEL_PAREN))),answer.push(this.makeCode(\";\")),answer},Return}(Base),exports.Value=Value=function(_super){function Value(base,props,tag){return!props&&base instanceof Value?base:(this.base=base,this.properties=props||[],tag&&(this[tag]=!0),this)}return __extends(Value,_super),Value.prototype.children=[\"base\",\"properties\"],Value.prototype.add=function(props){return this.properties=this.properties.concat(props),this},Value.prototype.hasProperties=function(){return!!this.properties.length},Value.prototype.isArray=function(){return!this.properties.length&&this.base instanceof Arr},Value.prototype.isComplex=function(){return this.hasProperties()||this.base.isComplex()},Value.prototype.isAssignable=function(){return this.hasProperties()||this.base.isAssignable()},Value.prototype.isSimpleNumber=function(){return this.base instanceof Literal&&SIMPLENUM.test(this.base.value)},Value.prototype.isString=function(){return this.base instanceof Literal&&IS_STRING.test(this.base.value)},Value.prototype.isAtomic=function(){var node,_i,_len,_ref4;for(_ref4=this.properties.concat(this.base),_i=0,_len=_ref4.length;_len>_i;_i++)if(node=_ref4[_i],node.soak||node instanceof Call)return!1;return!0},Value.prototype.isStatement=function(o){return!this.properties.length&&this.base.isStatement(o)},Value.prototype.assigns=function(name){return!this.properties.length&&this.base.assigns(name)},Value.prototype.jumps=function(o){return!this.properties.length&&this.base.jumps(o)},Value.prototype.isObject=function(onlyGenerated){return this.properties.length?!1:this.base instanceof Obj&&(!onlyGenerated||this.base.generated)},Value.prototype.isSplice=function(){return last(this.properties)instanceof Slice},Value.prototype.unwrap=function(){return this.properties.length?this:this.base},Value.prototype.cacheReference=function(o){var base,bref,name,nref;return name=last(this.properties),2>this.properties.length&&!this.base.isComplex()&&!(null!=name?name.isComplex():void 0)?[this,this]:(base=new Value(this.base,this.properties.slice(0,-1)),base.isComplex()&&(bref=new Literal(o.scope.freeVariable(\"base\")),base=new Value(new Parens(new Assign(bref,base)))),name?(name.isComplex()&&(nref=new Literal(o.scope.freeVariable(\"name\")),name=new Index(new Assign(nref,name.index)),nref=new Index(nref)),[base.add(name),new Value(bref||base.base,[nref||name])]):[base,bref])},Value.prototype.compileNode=function(o){var fragments,prop,props,_i,_len;for(this.base.front=this.front,props=this.properties,fragments=this.base.compileToFragments(o,props.length?LEVEL_ACCESS:null),(this.base instanceof Parens||props.length)&&SIMPLENUM.test(fragmentsToText(fragments))&&fragments.push(this.makeCode(\".\")),_i=0,_len=props.length;_len>_i;_i++)prop=props[_i],fragments.push.apply(fragments,prop.compileToFragments(o));return fragments},Value.prototype.unfoldSoak=function(o){var _ref4,_this=this;return null!=(_ref4=this.unfoldedSoak)?_ref4:this.unfoldedSoak=function(){var fst,i,ifn,prop,ref,snd,_i,_len,_ref5,_ref6;if(ifn=_this.base.unfoldSoak(o))return(_ref5=ifn.body.properties).push.apply(_ref5,_this.properties),ifn;for(_ref6=_this.properties,i=_i=0,_len=_ref6.length;_len>_i;i=++_i)if(prop=_ref6[i],prop.soak)return prop.soak=!1,fst=new Value(_this.base,_this.properties.slice(0,i)),snd=new Value(_this.base,_this.properties.slice(i)),fst.isComplex()&&(ref=new Literal(o.scope.freeVariable(\"ref\")),fst=new Parens(new Assign(ref,fst)),snd.base=ref),new If(new Existence(fst),snd,{soak:!0});return!1}()},Value}(Base),exports.Comment=Comment=function(_super){function Comment(comment){this.comment=comment}return __extends(Comment,_super),Comment.prototype.isStatement=YES,Comment.prototype.makeReturn=THIS,Comment.prototype.compileNode=function(o,level){var code;return code=\"/*\"+multident(this.comment,this.tab)+(__indexOf.call(this.comment,\"\\n\")>=0?\"\\n\"+this.tab:\"\")+\"*/\\n\",(level||o.level)===LEVEL_TOP&&(code=o.indent+code),[this.makeCode(code)]},Comment}(Base),exports.Call=Call=function(_super){function Call(variable,args,soak){this.args=null!=args?args:[],this.soak=soak,this.isNew=!1,this.isSuper=\"super\"===variable,this.variable=this.isSuper?null:variable}return __extends(Call,_super),Call.prototype.children=[\"variable\",\"args\"],Call.prototype.newInstance=function(){var base,_ref4;return base=(null!=(_ref4=this.variable)?_ref4.base:void 0)||this.variable,base instanceof Call&&!base.isNew?base.newInstance():this.isNew=!0,this},Call.prototype.superReference=function(o){var accesses,method;return method=o.scope.namedMethod(),(null!=method?method.klass:void 0)?(accesses=[new Access(new Literal(\"__super__\"))],method[\"static\"]&&accesses.push(new Access(new Literal(\"constructor\"))),accesses.push(new Access(new Literal(method.name))),new Value(new Literal(method.klass),accesses).compile(o)):(null!=method?method.ctor:void 0)?\"\"+method.name+\".__super__.constructor\":this.error(\"cannot call super outside of an instance method.\")},Call.prototype.superThis=function(o){var method;return method=o.scope.method,method&&!method.klass&&method.context||\"this\"},Call.prototype.unfoldSoak=function(o){var call,ifn,left,list,rite,_i,_len,_ref4,_ref5;if(this.soak){if(this.variable){if(ifn=unfoldSoak(o,this,\"variable\"))return ifn;_ref4=new Value(this.variable).cacheReference(o),left=_ref4[0],rite=_ref4[1]}else left=new Literal(this.superReference(o)),rite=new Value(left);return rite=new Call(rite,this.args),rite.isNew=this.isNew,left=new Literal(\"typeof \"+left.compile(o)+' === \"function\"'),new If(left,new Value(rite),{soak:!0})}for(call=this,list=[];;)if(call.variable instanceof Call)list.push(call),call=call.variable;else{if(!(call.variable instanceof Value))break;if(list.push(call),!((call=call.variable.base)instanceof Call))break}for(_ref5=list.reverse(),_i=0,_len=_ref5.length;_len>_i;_i++)call=_ref5[_i],ifn&&(call.variable instanceof Call?call.variable=ifn:call.variable.base=ifn),ifn=unfoldSoak(o,call,\"variable\");return ifn},Call.prototype.compileNode=function(o){var arg,argIndex,compiledArgs,compiledArray,fragments,preface,_i,_len,_ref4,_ref5;if(null!=(_ref4=this.variable)&&(_ref4.front=this.front),compiledArray=Splat.compileSplattedArray(o,this.args,!0),compiledArray.length)return this.compileSplat(o,compiledArray);for(compiledArgs=[],_ref5=this.args,argIndex=_i=0,_len=_ref5.length;_len>_i;argIndex=++_i)arg=_ref5[argIndex],argIndex&&compiledArgs.push(this.makeCode(\", \")),compiledArgs.push.apply(compiledArgs,arg.compileToFragments(o,LEVEL_LIST));return fragments=[],this.isSuper?(preface=this.superReference(o)+(\".call(\"+this.superThis(o)),compiledArgs.length&&(preface+=\", \"),fragments.push(this.makeCode(preface))):(this.isNew&&fragments.push(this.makeCode(\"new \")),fragments.push.apply(fragments,this.variable.compileToFragments(o,LEVEL_ACCESS)),fragments.push(this.makeCode(\"(\"))),fragments.push.apply(fragments,compiledArgs),fragments.push(this.makeCode(\")\")),fragments},Call.prototype.compileSplat=function(o,splatArgs){var answer,base,fun,idt,name,ref;return this.isSuper?[].concat(this.makeCode(\"\"+this.superReference(o)+\".apply(\"+this.superThis(o)+\", \"),splatArgs,this.makeCode(\")\")):this.isNew?(idt=this.tab+TAB,[].concat(this.makeCode(\"(function(func, args, ctor) {\\n\"+idt+\"ctor.prototype = func.prototype;\\n\"+idt+\"var child = new ctor, result = func.apply(child, args);\\n\"+idt+\"return Object(result) === result ? result : child;\\n\"+this.tab+\"})(\"),this.variable.compileToFragments(o,LEVEL_LIST),this.makeCode(\", \"),splatArgs,this.makeCode(\", function(){})\"))):(answer=[],base=new Value(this.variable),(name=base.properties.pop())&&base.isComplex()?(ref=o.scope.freeVariable(\"ref\"),answer=answer.concat(this.makeCode(\"(\"+ref+\" = \"),base.compileToFragments(o,LEVEL_LIST),this.makeCode(\")\"),name.compileToFragments(o))):(fun=base.compileToFragments(o,LEVEL_ACCESS),SIMPLENUM.test(fragmentsToText(fun))&&(fun=this.wrapInBraces(fun)),name?(ref=fragmentsToText(fun),fun.push.apply(fun,name.compileToFragments(o))):ref=\"null\",answer=answer.concat(fun)),answer=answer.concat(this.makeCode(\".apply(\"+ref+\", \"),splatArgs,this.makeCode(\")\")))},Call}(Base),exports.Extends=Extends=function(_super){function Extends(child,parent){this.child=child,this.parent=parent}return __extends(Extends,_super),Extends.prototype.children=[\"child\",\"parent\"],Extends.prototype.compileToFragments=function(o){return new Call(new Value(new Literal(utility(\"extends\"))),[this.child,this.parent]).compileToFragments(o)},Extends}(Base),exports.Access=Access=function(_super){function Access(name,tag){this.name=name,this.name.asKey=!0,this.soak=\"soak\"===tag}return __extends(Access,_super),Access.prototype.children=[\"name\"],Access.prototype.compileToFragments=function(o){var name;return name=this.name.compileToFragments(o),IDENTIFIER.test(fragmentsToText(name))?name.unshift(this.makeCode(\".\")):(name.unshift(this.makeCode(\"[\")),name.push(this.makeCode(\"]\"))),name},Access.prototype.isComplex=NO,Access}(Base),exports.Index=Index=function(_super){function Index(index){this.index=index}return __extends(Index,_super),Index.prototype.children=[\"index\"],Index.prototype.compileToFragments=function(o){return[].concat(this.makeCode(\"[\"),this.index.compileToFragments(o,LEVEL_PAREN),this.makeCode(\"]\"))},Index.prototype.isComplex=function(){return this.index.isComplex()},Index}(Base),exports.Range=Range=function(_super){function Range(from,to,tag){this.from=from,this.to=to,this.exclusive=\"exclusive\"===tag,this.equals=this.exclusive?\"\":\"=\"}return __extends(Range,_super),Range.prototype.children=[\"from\",\"to\"],Range.prototype.compileVariables=function(o){var step,_ref4,_ref5,_ref6,_ref7;return o=merge(o,{top:!0}),_ref4=this.cacheToCodeFragments(this.from.cache(o,LEVEL_LIST)),this.fromC=_ref4[0],this.fromVar=_ref4[1],_ref5=this.cacheToCodeFragments(this.to.cache(o,LEVEL_LIST)),this.toC=_ref5[0],this.toVar=_ref5[1],(step=del(o,\"step\"))&&(_ref6=this.cacheToCodeFragments(step.cache(o,LEVEL_LIST)),this.step=_ref6[0],this.stepVar=_ref6[1]),_ref7=[this.fromVar.match(SIMPLENUM),this.toVar.match(SIMPLENUM)],this.fromNum=_ref7[0],this.toNum=_ref7[1],this.stepVar?this.stepNum=this.stepVar.match(SIMPLENUM):void 0},Range.prototype.compileNode=function(o){var cond,condPart,from,gt,idx,idxName,known,lt,namedIndex,stepPart,to,varPart,_ref4,_ref5;return this.fromVar||this.compileVariables(o),o.index?(known=this.fromNum&&this.toNum,idx=del(o,\"index\"),idxName=del(o,\"name\"),namedIndex=idxName&&idxName!==idx,varPart=\"\"+idx+\" = \"+this.fromC,this.toC!==this.toVar&&(varPart+=\", \"+this.toC),this.step!==this.stepVar&&(varPart+=\", \"+this.step),_ref4=[\"\"+idx+\" <\"+this.equals,\"\"+idx+\" >\"+this.equals],lt=_ref4[0],gt=_ref4[1],condPart=this.stepNum?+this.stepNum>0?\"\"+lt+\" \"+this.toVar:\"\"+gt+\" \"+this.toVar:known?(_ref5=[+this.fromNum,+this.toNum],from=_ref5[0],to=_ref5[1],_ref5,to>=from?\"\"+lt+\" \"+to:\"\"+gt+\" \"+to):(cond=this.stepVar?\"\"+this.stepVar+\" > 0\":\"\"+this.fromVar+\" <= \"+this.toVar,\"\"+cond+\" ? \"+lt+\" \"+this.toVar+\" : \"+gt+\" \"+this.toVar),stepPart=this.stepVar?\"\"+idx+\" += \"+this.stepVar:known?namedIndex?to>=from?\"++\"+idx:\"--\"+idx:to>=from?\"\"+idx+\"++\":\"\"+idx+\"--\":namedIndex?\"\"+cond+\" ? ++\"+idx+\" : --\"+idx:\"\"+cond+\" ? \"+idx+\"++ : \"+idx+\"--\",namedIndex&&(varPart=\"\"+idxName+\" = \"+varPart),namedIndex&&(stepPart=\"\"+idxName+\" = \"+stepPart),[this.makeCode(\"\"+varPart+\"; \"+condPart+\"; \"+stepPart)]):this.compileArray(o)},Range.prototype.compileArray=function(o){var args,body,cond,hasArgs,i,idt,post,pre,range,result,vars,_ref4,_results;return this.fromNum&&this.toNum&&20>=Math.abs(this.fromNum-this.toNum)?(range=function(){_results=[];for(var _i=_ref4=+this.fromNum,_ref5=+this.toNum;_ref5>=_ref4?_ref5>=_i:_i>=_ref5;_ref5>=_ref4?_i++:_i--)_results.push(_i);return _results}.apply(this),this.exclusive&&range.pop(),[this.makeCode(\"[\"+range.join(\", \")+\"]\")]):(idt=this.tab+TAB,i=o.scope.freeVariable(\"i\"),result=o.scope.freeVariable(\"results\"),pre=\"\\n\"+idt+result+\" = [];\",this.fromNum&&this.toNum?(o.index=i,body=fragmentsToText(this.compileNode(o))):(vars=\"\"+i+\" = \"+this.fromC+(this.toC!==this.toVar?\", \"+this.toC:\"\"),cond=\"\"+this.fromVar+\" <= \"+this.toVar,body=\"var \"+vars+\"; \"+cond+\" ? \"+i+\" <\"+this.equals+\" \"+this.toVar+\" : \"+i+\" >\"+this.equals+\" \"+this.toVar+\"; \"+cond+\" ? \"+i+\"++ : \"+i+\"--\"),post=\"{ \"+result+\".push(\"+i+\"); }\\n\"+idt+\"return \"+result+\";\\n\"+o.indent,hasArgs=function(node){return null!=node?node.contains(function(n){return n instanceof Literal&&\"arguments\"===n.value&&!n.asKey}):void 0},(hasArgs(this.from)||hasArgs(this.to))&&(args=\", arguments\"),[this.makeCode(\"(function() {\"+pre+\"\\n\"+idt+\"for (\"+body+\")\"+post+\"}).apply(this\"+(null!=args?args:\"\")+\")\")])},Range}(Base),exports.Slice=Slice=function(_super){function Slice(range){this.range=range,Slice.__super__.constructor.call(this)}return __extends(Slice,_super),Slice.prototype.children=[\"range\"],Slice.prototype.compileNode=function(o){var compiled,compiledText,from,fromCompiled,to,toStr,_ref4;return _ref4=this.range,to=_ref4.to,from=_ref4.from,fromCompiled=from&&from.compileToFragments(o,LEVEL_PAREN)||[this.makeCode(\"0\")],to&&(compiled=to.compileToFragments(o,LEVEL_PAREN),compiledText=fragmentsToText(compiled),(this.range.exclusive||-1!==+compiledText)&&(toStr=\", \"+(this.range.exclusive?compiledText:SIMPLENUM.test(compiledText)?\"\"+(+compiledText+1):(compiled=to.compileToFragments(o,LEVEL_ACCESS),\"+\"+fragmentsToText(compiled)+\" + 1 || 9e9\")))),[this.makeCode(\".slice(\"+fragmentsToText(fromCompiled)+(toStr||\"\")+\")\")]},Slice}(Base),exports.Obj=Obj=function(_super){function Obj(props,generated){this.generated=null!=generated?generated:!1,this.objects=this.properties=props||[]}return __extends(Obj,_super),Obj.prototype.children=[\"properties\"],Obj.prototype.compileNode=function(o){var answer,i,idt,indent,join,lastNoncom,node,prop,props,_i,_j,_len,_len1;if(props=this.properties,!props.length)return[this.makeCode(this.front?\"({})\":\"{}\")];if(this.generated)for(_i=0,_len=props.length;_len>_i;_i++)node=props[_i],node instanceof Value&&node.error(\"cannot have an implicit value in an implicit object\");for(idt=o.indent+=TAB,lastNoncom=this.lastNonComment(this.properties),answer=[],i=_j=0,_len1=props.length;_len1>_j;i=++_j)prop=props[i],join=i===props.length-1?\"\":prop===lastNoncom||prop instanceof Comment?\"\\n\":\",\\n\",indent=prop instanceof Comment?\"\":idt,prop instanceof Assign&&prop.variable instanceof Value&&prop.variable.hasProperties()&&prop.variable.error(\"Invalid object key\"),prop instanceof Value&&prop[\"this\"]&&(prop=new Assign(prop.properties[0].name,prop,\"object\")),prop instanceof Comment||(prop instanceof Assign||(prop=new Assign(prop,prop,\"object\")),(prop.variable.base||prop.variable).asKey=!0),indent&&answer.push(this.makeCode(indent)),answer.push.apply(answer,prop.compileToFragments(o,LEVEL_TOP)),join&&answer.push(this.makeCode(join));return answer.unshift(this.makeCode(\"{\"+(props.length&&\"\\n\"))),answer.push(this.makeCode(\"\"+(props.length&&\"\\n\"+this.tab)+\"}\")),this.front?this.wrapInBraces(answer):answer},Obj.prototype.assigns=function(name){var prop,_i,_len,_ref4;for(_ref4=this.properties,_i=0,_len=_ref4.length;_len>_i;_i++)if(prop=_ref4[_i],prop.assigns(name))return!0;return!1},Obj}(Base),exports.Arr=Arr=function(_super){function Arr(objs){this.objects=objs||[]}return __extends(Arr,_super),Arr.prototype.children=[\"objects\"],Arr.prototype.compileNode=function(o){var answer,compiledObjs,fragments,index,obj,_i,_len;if(!this.objects.length)return[this.makeCode(\"[]\")];if(o.indent+=TAB,answer=Splat.compileSplattedArray(o,this.objects),answer.length)return answer;for(answer=[],compiledObjs=function(){var _i,_len,_ref4,_results;for(_ref4=this.objects,_results=[],_i=0,_len=_ref4.length;_len>_i;_i++)obj=_ref4[_i],_results.push(obj.compileToFragments(o,LEVEL_LIST));return _results}.call(this),index=_i=0,_len=compiledObjs.length;_len>_i;index=++_i)fragments=compiledObjs[index],index&&answer.push(this.makeCode(\", \")),answer.push.apply(answer,fragments);return fragmentsToText(answer).indexOf(\"\\n\")>=0?(answer.unshift(this.makeCode(\"[\\n\"+o.indent)),answer.push(this.makeCode(\"\\n\"+this.tab+\"]\"))):(answer.unshift(this.makeCode(\"[\")),answer.push(this.makeCode(\"]\"))),answer},Arr.prototype.assigns=function(name){var obj,_i,_len,_ref4;for(_ref4=this.objects,_i=0,_len=_ref4.length;_len>_i;_i++)if(obj=_ref4[_i],obj.assigns(name))return!0;return!1\n},Arr}(Base),exports.Class=Class=function(_super){function Class(variable,parent,body){this.variable=variable,this.parent=parent,this.body=null!=body?body:new Block,this.boundFuncs=[],this.body.classBody=!0}return __extends(Class,_super),Class.prototype.children=[\"variable\",\"parent\",\"body\"],Class.prototype.determineName=function(){var decl,tail;return this.variable?(decl=(tail=last(this.variable.properties))?tail instanceof Access&&tail.name.value:this.variable.base.value,__indexOf.call(STRICT_PROSCRIBED,decl)>=0&&this.variable.error(\"class variable name may not be \"+decl),decl&&(decl=IDENTIFIER.test(decl)&&decl)):null},Class.prototype.setContext=function(name){return this.body.traverseChildren(!1,function(node){return node.classBody?!1:node instanceof Literal&&\"this\"===node.value?node.value=name:node instanceof Code&&(node.klass=name,node.bound)?node.context=name:void 0})},Class.prototype.addBoundFunctions=function(o){var bvar,lhs,_i,_len,_ref4;for(_ref4=this.boundFuncs,_i=0,_len=_ref4.length;_len>_i;_i++)bvar=_ref4[_i],lhs=new Value(new Literal(\"this\"),[new Access(bvar)]).compile(o),this.ctor.body.unshift(new Literal(\"\"+lhs+\" = \"+utility(\"bind\")+\"(\"+lhs+\", this)\"))},Class.prototype.addProperties=function(node,name,o){var assign,base,exprs,func,props;return props=node.base.properties.slice(0),exprs=function(){var _results;for(_results=[];assign=props.shift();)assign instanceof Assign&&(base=assign.variable.base,delete assign.context,func=assign.value,\"constructor\"===base.value?(this.ctor&&assign.error(\"cannot define more than one constructor in a class\"),func.bound&&assign.error(\"cannot define a constructor as a bound function\"),func instanceof Code?assign=this.ctor=func:(this.externalCtor=o.scope.freeVariable(\"class\"),assign=new Assign(new Literal(this.externalCtor),func))):assign.variable[\"this\"]?(func[\"static\"]=!0,func.bound&&(func.context=name)):(assign.variable=new Value(new Literal(name),[new Access(new Literal(\"prototype\")),new Access(base)]),func instanceof Code&&func.bound&&(this.boundFuncs.push(base),func.bound=!1))),_results.push(assign);return _results}.call(this),compact(exprs)},Class.prototype.walkBody=function(name,o){var _this=this;return this.traverseChildren(!1,function(child){var cont,exps,i,node,_i,_len,_ref4;if(cont=!0,child instanceof Class)return!1;if(child instanceof Block){for(_ref4=exps=child.expressions,i=_i=0,_len=_ref4.length;_len>_i;i=++_i)node=_ref4[i],node instanceof Value&&node.isObject(!0)&&(cont=!1,exps[i]=_this.addProperties(node,name,o));child.expressions=exps=flatten(exps)}return cont&&!(child instanceof Class)})},Class.prototype.hoistDirectivePrologue=function(){var expressions,index,node;for(index=0,expressions=this.body.expressions;(node=expressions[index])&&node instanceof Comment||node instanceof Value&&node.isString();)++index;return this.directives=expressions.splice(0,index)},Class.prototype.ensureConstructor=function(name,o){var missing,ref,superCall;return missing=!this.ctor,this.ctor||(this.ctor=new Code),this.ctor.ctor=this.ctor.name=name,this.ctor.klass=null,this.ctor.noReturn=!0,missing?(this.parent&&(superCall=new Literal(\"\"+name+\".__super__.constructor.apply(this, arguments)\")),this.externalCtor&&(superCall=new Literal(\"\"+this.externalCtor+\".apply(this, arguments)\")),superCall&&(ref=new Literal(o.scope.freeVariable(\"ref\")),this.ctor.body.unshift(new Assign(ref,superCall))),this.addBoundFunctions(o),superCall&&(this.ctor.body.push(ref),this.ctor.body.makeReturn()),this.body.expressions.unshift(this.ctor)):this.addBoundFunctions(o)},Class.prototype.compileNode=function(o){var call,decl,klass,lname,name,params,_ref4;return decl=this.determineName(),name=decl||\"_Class\",name.reserved&&(name=\"_\"+name),lname=new Literal(name),this.hoistDirectivePrologue(),this.setContext(name),this.walkBody(name,o),this.ensureConstructor(name,o),this.body.spaced=!0,this.ctor instanceof Code||this.body.expressions.unshift(this.ctor),this.body.expressions.push(lname),(_ref4=this.body.expressions).unshift.apply(_ref4,this.directives),call=Closure.wrap(this.body),this.parent&&(this.superClass=new Literal(o.scope.freeVariable(\"super\",!1)),this.body.expressions.unshift(new Extends(lname,this.superClass)),call.args.push(this.parent),params=call.variable.params||call.variable.base.params,params.push(new Param(this.superClass))),klass=new Parens(call,!0),this.variable&&(klass=new Assign(this.variable,klass)),klass.compileToFragments(o)},Class}(Base),exports.Assign=Assign=function(_super){function Assign(variable,value,context,options){var forbidden,name,_ref4;this.variable=variable,this.value=value,this.context=context,this.param=options&&options.param,this.subpattern=options&&options.subpattern,_ref4=name=this.variable.unwrapAll().value,forbidden=__indexOf.call(STRICT_PROSCRIBED,_ref4)>=0,forbidden&&\"object\"!==this.context&&this.variable.error('variable name may not be \"'+name+'\"')}return __extends(Assign,_super),Assign.prototype.children=[\"variable\",\"value\"],Assign.prototype.isStatement=function(o){return(null!=o?o.level:void 0)===LEVEL_TOP&&null!=this.context&&__indexOf.call(this.context,\"?\")>=0},Assign.prototype.assigns=function(name){return this[\"object\"===this.context?\"value\":\"variable\"].assigns(name)},Assign.prototype.unfoldSoak=function(o){return unfoldSoak(o,this,\"variable\")},Assign.prototype.compileNode=function(o){var answer,compiledName,isValue,match,name,val,varBase,_ref4,_ref5,_ref6,_ref7;if(isValue=this.variable instanceof Value){if(this.variable.isArray()||this.variable.isObject())return this.compilePatternMatch(o);if(this.variable.isSplice())return this.compileSplice(o);if(\"||=\"===(_ref4=this.context)||\"&&=\"===_ref4||\"?=\"===_ref4)return this.compileConditional(o)}return compiledName=this.variable.compileToFragments(o,LEVEL_LIST),name=fragmentsToText(compiledName),this.context||(varBase=this.variable.unwrapAll(),varBase.isAssignable()||this.variable.error('\"'+this.variable.compile(o)+'\" cannot be assigned'),(\"function\"==typeof varBase.hasProperties?varBase.hasProperties():void 0)||(this.param?o.scope.add(name,\"var\"):o.scope.find(name))),this.value instanceof Code&&(match=METHOD_DEF.exec(name))&&(match[1]&&(this.value.klass=match[1]),this.value.name=null!=(_ref5=null!=(_ref6=null!=(_ref7=match[2])?_ref7:match[3])?_ref6:match[4])?_ref5:match[5]),val=this.value.compileToFragments(o,LEVEL_LIST),\"object\"===this.context?compiledName.concat(this.makeCode(\": \"),val):(answer=compiledName.concat(this.makeCode(\" \"+(this.context||\"=\")+\" \"),val),LEVEL_LIST>=o.level?answer:this.wrapInBraces(answer))},Assign.prototype.compilePatternMatch=function(o){var acc,assigns,code,fragments,i,idx,isObject,ivar,name,obj,objects,olen,ref,rest,splat,top,val,value,vvar,vvarText,_i,_len,_ref4,_ref5,_ref6,_ref7,_ref8,_ref9;if(top=o.level===LEVEL_TOP,value=this.value,objects=this.variable.base.objects,!(olen=objects.length))return code=value.compileToFragments(o),o.level>=LEVEL_OP?this.wrapInBraces(code):code;if(isObject=this.variable.isObject(),top&&1===olen&&!((obj=objects[0])instanceof Splat))return obj instanceof Assign?(_ref4=obj,_ref5=_ref4.variable,idx=_ref5.base,obj=_ref4.value):idx=isObject?obj[\"this\"]?obj.properties[0].name:obj:new Literal(0),acc=IDENTIFIER.test(idx.unwrap().value||0),value=new Value(value),value.properties.push(new(acc?Access:Index)(idx)),_ref6=obj.unwrap().value,__indexOf.call(RESERVED,_ref6)>=0&&obj.error(\"assignment to a reserved word: \"+obj.compile(o)),new Assign(obj,value,null,{param:this.param}).compileToFragments(o,LEVEL_TOP);for(vvar=value.compileToFragments(o,LEVEL_LIST),vvarText=fragmentsToText(vvar),assigns=[],splat=!1,(!IDENTIFIER.test(vvarText)||this.variable.assigns(vvarText))&&(assigns.push([this.makeCode(\"\"+(ref=o.scope.freeVariable(\"ref\"))+\" = \")].concat(__slice.call(vvar))),vvar=[this.makeCode(ref)],vvarText=ref),i=_i=0,_len=objects.length;_len>_i;i=++_i)obj=objects[i],idx=i,isObject&&(obj instanceof Assign?(_ref7=obj,_ref8=_ref7.variable,idx=_ref8.base,obj=_ref7.value):obj.base instanceof Parens?(_ref9=new Value(obj.unwrapAll()).cacheReference(o),obj=_ref9[0],idx=_ref9[1]):idx=obj[\"this\"]?obj.properties[0].name:obj),!splat&&obj instanceof Splat?(name=obj.name.unwrap().value,obj=obj.unwrap(),val=\"\"+olen+\" <= \"+vvarText+\".length ? \"+utility(\"slice\")+\".call(\"+vvarText+\", \"+i,(rest=olen-i-1)?(ivar=o.scope.freeVariable(\"i\"),val+=\", \"+ivar+\" = \"+vvarText+\".length - \"+rest+\") : (\"+ivar+\" = \"+i+\", [])\"):val+=\") : []\",val=new Literal(val),splat=\"\"+ivar+\"++\"):(name=obj.unwrap().value,obj instanceof Splat&&obj.error(\"multiple splats are disallowed in an assignment\"),\"number\"==typeof idx?(idx=new Literal(splat||idx),acc=!1):acc=isObject&&IDENTIFIER.test(idx.unwrap().value||0),val=new Value(new Literal(vvarText),[new(acc?Access:Index)(idx)])),null!=name&&__indexOf.call(RESERVED,name)>=0&&obj.error(\"assignment to a reserved word: \"+obj.compile(o)),assigns.push(new Assign(obj,val,null,{param:this.param,subpattern:!0}).compileToFragments(o,LEVEL_LIST));return top||this.subpattern||assigns.push(vvar),fragments=this.joinFragmentArrays(assigns,\", \"),LEVEL_LIST>o.level?fragments:this.wrapInBraces(fragments)},Assign.prototype.compileConditional=function(o){var left,right,_ref4;return _ref4=this.variable.cacheReference(o),left=_ref4[0],right=_ref4[1],!left.properties.length&&left.base instanceof Literal&&\"this\"!==left.base.value&&!o.scope.check(left.base.value)&&this.variable.error('the variable \"'+left.base.value+\"\\\" can't be assigned with \"+this.context+\" because it has not been declared before\"),__indexOf.call(this.context,\"?\")>=0&&(o.isExistentialEquals=!0),new Op(this.context.slice(0,-1),left,new Assign(right,this.value,\"=\")).compileToFragments(o)},Assign.prototype.compileSplice=function(o){var answer,exclusive,from,fromDecl,fromRef,name,to,valDef,valRef,_ref4,_ref5,_ref6;return _ref4=this.variable.properties.pop().range,from=_ref4.from,to=_ref4.to,exclusive=_ref4.exclusive,name=this.variable.compile(o),from?(_ref5=this.cacheToCodeFragments(from.cache(o,LEVEL_OP)),fromDecl=_ref5[0],fromRef=_ref5[1]):fromDecl=fromRef=\"0\",to?(null!=from?from.isSimpleNumber():void 0)&&to.isSimpleNumber()?(to=+to.compile(o)-+fromRef,exclusive||(to+=1)):(to=to.compile(o,LEVEL_ACCESS)+\" - \"+fromRef,exclusive||(to+=\" + 1\")):to=\"9e9\",_ref6=this.value.cache(o,LEVEL_LIST),valDef=_ref6[0],valRef=_ref6[1],answer=[].concat(this.makeCode(\"[].splice.apply(\"+name+\", [\"+fromDecl+\", \"+to+\"].concat(\"),valDef,this.makeCode(\")), \"),valRef),o.level>LEVEL_TOP?this.wrapInBraces(answer):answer},Assign}(Base),exports.Code=Code=function(_super){function Code(params,body,tag){this.params=params||[],this.body=body||new Block,this.bound=\"boundfunc\"===tag,this.bound&&(this.context=\"_this\")}return __extends(Code,_super),Code.prototype.children=[\"params\",\"body\"],Code.prototype.isStatement=function(){return!!this.ctor},Code.prototype.jumps=NO,Code.prototype.compileNode=function(o){var answer,code,exprs,i,idt,lit,p,param,params,ref,splats,uniqs,val,wasEmpty,_i,_j,_k,_l,_len,_len1,_len2,_len3,_len4,_m,_ref4,_ref5,_ref6,_ref7,_ref8;for(o.scope=new Scope(o.scope,this.body,this),o.scope.shared=del(o,\"sharedScope\"),o.indent+=TAB,delete o.bare,delete o.isExistentialEquals,params=[],exprs=[],this.eachParamName(function(name){return o.scope.check(name)?void 0:o.scope.parameter(name)}),_ref4=this.params,_i=0,_len=_ref4.length;_len>_i;_i++)if(param=_ref4[_i],param.splat){for(_ref5=this.params,_j=0,_len1=_ref5.length;_len1>_j;_j++)p=_ref5[_j].name,p[\"this\"]&&(p=p.properties[0].name),p.value&&o.scope.add(p.value,\"var\",!0);splats=new Assign(new Value(new Arr(function(){var _k,_len2,_ref6,_results;for(_ref6=this.params,_results=[],_k=0,_len2=_ref6.length;_len2>_k;_k++)p=_ref6[_k],_results.push(p.asReference(o));return _results}.call(this))),new Value(new Literal(\"arguments\")));break}for(_ref6=this.params,_k=0,_len2=_ref6.length;_len2>_k;_k++)param=_ref6[_k],param.isComplex()?(val=ref=param.asReference(o),param.value&&(val=new Op(\"?\",ref,param.value)),exprs.push(new Assign(new Value(param.name),val,\"=\",{param:!0}))):(ref=param,param.value&&(lit=new Literal(ref.name.value+\" == null\"),val=new Assign(new Value(param.name),param.value,\"=\"),exprs.push(new If(lit,val)))),splats||params.push(ref);for(wasEmpty=this.body.isEmpty(),splats&&exprs.unshift(splats),exprs.length&&(_ref7=this.body.expressions).unshift.apply(_ref7,exprs),i=_l=0,_len3=params.length;_len3>_l;i=++_l)p=params[i],params[i]=p.compileToFragments(o),o.scope.parameter(fragmentsToText(params[i]));for(uniqs=[],this.eachParamName(function(name,node){return __indexOf.call(uniqs,name)>=0&&node.error(\"multiple parameters named '\"+name+\"'\"),uniqs.push(name)}),wasEmpty||this.noReturn||this.body.makeReturn(),this.bound&&((null!=(_ref8=o.scope.parent.method)?_ref8.bound:void 0)?this.bound=this.context=o.scope.parent.method.context:this[\"static\"]||o.scope.parent.assign(\"_this\",\"this\")),idt=o.indent,code=\"function\",this.ctor&&(code+=\" \"+this.name),code+=\"(\",answer=[this.makeCode(code)],i=_m=0,_len4=params.length;_len4>_m;i=++_m)p=params[i],i&&answer.push(this.makeCode(\", \")),answer.push.apply(answer,p);return answer.push(this.makeCode(\") {\")),this.body.isEmpty()||(answer=answer.concat(this.makeCode(\"\\n\"),this.body.compileWithDeclarations(o),this.makeCode(\"\\n\"+this.tab))),answer.push(this.makeCode(\"}\")),this.ctor?[this.makeCode(this.tab)].concat(__slice.call(answer)):this.front||o.level>=LEVEL_ACCESS?this.wrapInBraces(answer):answer},Code.prototype.eachParamName=function(iterator){var param,_i,_len,_ref4,_results;for(_ref4=this.params,_results=[],_i=0,_len=_ref4.length;_len>_i;_i++)param=_ref4[_i],_results.push(param.eachName(iterator));return _results},Code.prototype.traverseChildren=function(crossScope,func){return crossScope?Code.__super__.traverseChildren.call(this,crossScope,func):void 0},Code}(Base),exports.Param=Param=function(_super){function Param(name,value,splat){var _ref4;this.name=name,this.value=value,this.splat=splat,_ref4=name=this.name.unwrapAll().value,__indexOf.call(STRICT_PROSCRIBED,_ref4)>=0&&this.name.error('parameter name \"'+name+'\" is not allowed')}return __extends(Param,_super),Param.prototype.children=[\"name\",\"value\"],Param.prototype.compileToFragments=function(o){return this.name.compileToFragments(o,LEVEL_LIST)},Param.prototype.asReference=function(o){var node;return this.reference?this.reference:(node=this.name,node[\"this\"]?(node=node.properties[0].name,node.value.reserved&&(node=new Literal(o.scope.freeVariable(node.value)))):node.isComplex()&&(node=new Literal(o.scope.freeVariable(\"arg\"))),node=new Value(node),this.splat&&(node=new Splat(node)),this.reference=node)},Param.prototype.isComplex=function(){return this.name.isComplex()},Param.prototype.eachName=function(iterator,name){var atParam,node,obj,_i,_len,_ref4;if(null==name&&(name=this.name),atParam=function(obj){var node;return node=obj.properties[0].name,node.value.reserved?void 0:iterator(node.value,node)},name instanceof Literal)return iterator(name.value,name);if(name instanceof Value)return atParam(name);for(_ref4=name.objects,_i=0,_len=_ref4.length;_len>_i;_i++)obj=_ref4[_i],obj instanceof Assign?this.eachName(iterator,obj.value.unwrap()):obj instanceof Splat?(node=obj.name.unwrap(),iterator(node.value,node)):obj instanceof Value?obj.isArray()||obj.isObject()?this.eachName(iterator,obj.base):obj[\"this\"]?atParam(obj):iterator(obj.base.value,obj.base):obj.error(\"illegal parameter \"+obj.compile())},Param}(Base),exports.Splat=Splat=function(_super){function Splat(name){this.name=name.compile?name:new Literal(name)}return __extends(Splat,_super),Splat.prototype.children=[\"name\"],Splat.prototype.isAssignable=YES,Splat.prototype.assigns=function(name){return this.name.assigns(name)},Splat.prototype.compileToFragments=function(o){return this.name.compileToFragments(o)},Splat.prototype.unwrap=function(){return this.name},Splat.compileSplattedArray=function(o,list,apply){var args,base,compiledNode,concatPart,fragments,i,index,node,_i,_len;for(index=-1;(node=list[++index])&&!(node instanceof Splat););if(index>=list.length)return[];if(1===list.length)return node=list[0],fragments=node.compileToFragments(o,LEVEL_LIST),apply?fragments:[].concat(node.makeCode(\"\"+utility(\"slice\")+\".call(\"),fragments,node.makeCode(\")\"));for(args=list.slice(index),i=_i=0,_len=args.length;_len>_i;i=++_i)node=args[i],compiledNode=node.compileToFragments(o,LEVEL_LIST),args[i]=node instanceof Splat?[].concat(node.makeCode(\"\"+utility(\"slice\")+\".call(\"),compiledNode,node.makeCode(\")\")):[].concat(node.makeCode(\"[\"),compiledNode,node.makeCode(\"]\"));return 0===index?(node=list[0],concatPart=node.joinFragmentArrays(args.slice(1),\", \"),args[0].concat(node.makeCode(\".concat(\"),concatPart,node.makeCode(\")\"))):(base=function(){var _j,_len1,_ref4,_results;for(_ref4=list.slice(0,index),_results=[],_j=0,_len1=_ref4.length;_len1>_j;_j++)node=_ref4[_j],_results.push(node.compileToFragments(o,LEVEL_LIST));return _results}(),base=list[0].joinFragmentArrays(base,\", \"),concatPart=list[index].joinFragmentArrays(args,\", \"),[].concat(list[0].makeCode(\"[\"),base,list[index].makeCode(\"].concat(\"),concatPart,last(list).makeCode(\")\")))},Splat}(Base),exports.While=While=function(_super){function While(condition,options){this.condition=(null!=options?options.invert:void 0)?condition.invert():condition,this.guard=null!=options?options.guard:void 0}return __extends(While,_super),While.prototype.children=[\"condition\",\"guard\",\"body\"],While.prototype.isStatement=YES,While.prototype.makeReturn=function(res){return res?While.__super__.makeReturn.apply(this,arguments):(this.returns=!this.jumps({loop:!0}),this)},While.prototype.addBody=function(body){return this.body=body,this},While.prototype.jumps=function(){var expressions,node,_i,_len;if(expressions=this.body.expressions,!expressions.length)return!1;for(_i=0,_len=expressions.length;_len>_i;_i++)if(node=expressions[_i],node.jumps({loop:!0}))return node;return!1},While.prototype.compileNode=function(o){var answer,body,rvar,set;return o.indent+=TAB,set=\"\",body=this.body,body.isEmpty()?body=this.makeCode(\"\"):(this.returns&&(body.makeReturn(rvar=o.scope.freeVariable(\"results\")),set=\"\"+this.tab+rvar+\" = [];\\n\"),this.guard&&(body.expressions.length>1?body.expressions.unshift(new If(new Parens(this.guard).invert(),new Literal(\"continue\"))):this.guard&&(body=Block.wrap([new If(this.guard,body)]))),body=[].concat(this.makeCode(\"\\n\"),body.compileToFragments(o,LEVEL_TOP),this.makeCode(\"\\n\"+this.tab))),answer=[].concat(this.makeCode(set+this.tab+\"while (\"),this.condition.compileToFragments(o,LEVEL_PAREN),this.makeCode(\") {\"),body,this.makeCode(\"}\")),this.returns&&answer.push(this.makeCode(\"\\n\"+this.tab+\"return \"+rvar+\";\")),answer},While}(Base),exports.Op=Op=function(_super){function Op(op,first,second,flip){if(\"in\"===op)return new In(first,second);if(\"do\"===op)return this.generateDo(first);if(\"new\"===op){if(first instanceof Call&&!first[\"do\"]&&!first.isNew)return first.newInstance();(first instanceof Code&&first.bound||first[\"do\"])&&(first=new Parens(first))}return this.operator=CONVERSIONS[op]||op,this.first=first,this.second=second,this.flip=!!flip,this}var CONVERSIONS,INVERSIONS;return __extends(Op,_super),CONVERSIONS={\"==\":\"===\",\"!=\":\"!==\",of:\"in\"},INVERSIONS={\"!==\":\"===\",\"===\":\"!==\"},Op.prototype.children=[\"first\",\"second\"],Op.prototype.isSimpleNumber=NO,Op.prototype.isUnary=function(){return!this.second},Op.prototype.isComplex=function(){var _ref4;return!(this.isUnary()&&(\"+\"===(_ref4=this.operator)||\"-\"===_ref4))||this.first.isComplex()},Op.prototype.isChainable=function(){var _ref4;return\"<\"===(_ref4=this.operator)||\">\"===_ref4||\">=\"===_ref4||\"<=\"===_ref4||\"===\"===_ref4||\"!==\"===_ref4},Op.prototype.invert=function(){var allInvertable,curr,fst,op,_ref4;if(this.isChainable()&&this.first.isChainable()){for(allInvertable=!0,curr=this;curr&&curr.operator;)allInvertable&&(allInvertable=curr.operator in INVERSIONS),curr=curr.first;if(!allInvertable)return new Parens(this).invert();for(curr=this;curr&&curr.operator;)curr.invert=!curr.invert,curr.operator=INVERSIONS[curr.operator],curr=curr.first;return this}return(op=INVERSIONS[this.operator])?(this.operator=op,this.first.unwrap()instanceof Op&&this.first.invert(),this):this.second?new Parens(this).invert():\"!\"===this.operator&&(fst=this.first.unwrap())instanceof Op&&(\"!\"===(_ref4=fst.operator)||\"in\"===_ref4||\"instanceof\"===_ref4)?fst:new Op(\"!\",this)},Op.prototype.unfoldSoak=function(o){var _ref4;return(\"++\"===(_ref4=this.operator)||\"--\"===_ref4||\"delete\"===_ref4)&&unfoldSoak(o,this,\"first\")},Op.prototype.generateDo=function(exp){var call,func,param,passedParams,ref,_i,_len,_ref4;for(passedParams=[],func=exp instanceof Assign&&(ref=exp.value.unwrap())instanceof Code?ref:exp,_ref4=func.params||[],_i=0,_len=_ref4.length;_len>_i;_i++)param=_ref4[_i],param.value?(passedParams.push(param.value),delete param.value):passedParams.push(param);return call=new Call(exp,passedParams),call[\"do\"]=!0,call},Op.prototype.compileNode=function(o){var answer,isChain,_ref4,_ref5;return isChain=this.isChainable()&&this.first.isChainable(),isChain||(this.first.front=this.front),\"delete\"===this.operator&&o.scope.check(this.first.unwrapAll().value)&&this.error(\"delete operand may not be argument or var\"),(\"--\"===(_ref4=this.operator)||\"++\"===_ref4)&&(_ref5=this.first.unwrapAll().value,__indexOf.call(STRICT_PROSCRIBED,_ref5)>=0)&&this.error('cannot increment/decrement \"'+this.first.unwrapAll().value+'\"'),this.isUnary()?this.compileUnary(o):isChain?this.compileChain(o):\"?\"===this.operator?this.compileExistence(o):(answer=[].concat(this.first.compileToFragments(o,LEVEL_OP),this.makeCode(\" \"+this.operator+\" \"),this.second.compileToFragments(o,LEVEL_OP)),LEVEL_OP>=o.level?answer:this.wrapInBraces(answer))},Op.prototype.compileChain=function(o){var fragments,fst,shared,_ref4;return _ref4=this.first.second.cache(o),this.first.second=_ref4[0],shared=_ref4[1],fst=this.first.compileToFragments(o,LEVEL_OP),fragments=fst.concat(this.makeCode(\" \"+(this.invert?\"&&\":\"||\")+\" \"),shared.compileToFragments(o),this.makeCode(\" \"+this.operator+\" \"),this.second.compileToFragments(o,LEVEL_OP)),this.wrapInBraces(fragments)},Op.prototype.compileExistence=function(o){var fst,ref;return this.first.isComplex()?(ref=new Literal(o.scope.freeVariable(\"ref\")),fst=new Parens(new Assign(ref,this.first))):(fst=this.first,ref=fst),new If(new Existence(fst),ref,{type:\"if\"}).addElse(this.second).compileToFragments(o)},Op.prototype.compileUnary=function(o){var op,parts,plusMinus;return parts=[],op=this.operator,parts.push([this.makeCode(op)]),\"!\"===op&&this.first instanceof Existence?(this.first.negated=!this.first.negated,this.first.compileToFragments(o)):o.level>=LEVEL_ACCESS?new Parens(this).compileToFragments(o):(plusMinus=\"+\"===op||\"-\"===op,(\"new\"===op||\"typeof\"===op||\"delete\"===op||plusMinus&&this.first instanceof Op&&this.first.operator===op)&&parts.push([this.makeCode(\" \")]),(plusMinus&&this.first instanceof Op||\"new\"===op&&this.first.isStatement(o))&&(this.first=new Parens(this.first)),parts.push(this.first.compileToFragments(o,LEVEL_OP)),this.flip&&parts.reverse(),this.joinFragmentArrays(parts,\"\"))},Op.prototype.toString=function(idt){return Op.__super__.toString.call(this,idt,this.constructor.name+\" \"+this.operator)},Op}(Base),exports.In=In=function(_super){function In(object,array){this.object=object,this.array=array}return __extends(In,_super),In.prototype.children=[\"object\",\"array\"],In.prototype.invert=NEGATE,In.prototype.compileNode=function(o){var hasSplat,obj,_i,_len,_ref4;if(this.array instanceof Value&&this.array.isArray()){for(_ref4=this.array.base.objects,_i=0,_len=_ref4.length;_len>_i;_i++)if(obj=_ref4[_i],obj instanceof Splat){hasSplat=!0;break}if(!hasSplat)return this.compileOrTest(o)}return this.compileLoopTest(o)},In.prototype.compileOrTest=function(o){var cmp,cnj,i,item,ref,sub,tests,_i,_len,_ref4,_ref5,_ref6;if(0===this.array.base.objects.length)return[this.makeCode(\"\"+!!this.negated)];for(_ref4=this.object.cache(o,LEVEL_OP),sub=_ref4[0],ref=_ref4[1],_ref5=this.negated?[\" !== \",\" && \"]:[\" === \",\" || \"],cmp=_ref5[0],cnj=_ref5[1],tests=[],_ref6=this.array.base.objects,i=_i=0,_len=_ref6.length;_len>_i;i=++_i)item=_ref6[i],i&&tests.push(this.makeCode(cnj)),tests=tests.concat(i?ref:sub,this.makeCode(cmp),item.compileToFragments(o,LEVEL_ACCESS));return LEVEL_OP>o.level?tests:this.wrapInBraces(tests)},In.prototype.compileLoopTest=function(o){var fragments,ref,sub,_ref4;return _ref4=this.object.cache(o,LEVEL_LIST),sub=_ref4[0],ref=_ref4[1],fragments=[].concat(this.makeCode(utility(\"indexOf\")+\".call(\"),this.array.compileToFragments(o,LEVEL_LIST),this.makeCode(\", \"),ref,this.makeCode(\") \"+(this.negated?\"< 0\":\">= 0\"))),fragmentsToText(sub)===fragmentsToText(ref)?fragments:(fragments=sub.concat(this.makeCode(\", \"),fragments),LEVEL_LIST>o.level?fragments:this.wrapInBraces(fragments))},In.prototype.toString=function(idt){return In.__super__.toString.call(this,idt,this.constructor.name+(this.negated?\"!\":\"\"))},In}(Base),exports.Try=Try=function(_super){function Try(attempt,errorVariable,recovery,ensure){this.attempt=attempt,this.errorVariable=errorVariable,this.recovery=recovery,this.ensure=ensure}return __extends(Try,_super),Try.prototype.children=[\"attempt\",\"recovery\",\"ensure\"],Try.prototype.isStatement=YES,Try.prototype.jumps=function(o){var _ref4;return this.attempt.jumps(o)||(null!=(_ref4=this.recovery)?_ref4.jumps(o):void 0)},Try.prototype.makeReturn=function(res){return this.attempt&&(this.attempt=this.attempt.makeReturn(res)),this.recovery&&(this.recovery=this.recovery.makeReturn(res)),this},Try.prototype.compileNode=function(o){var catchPart,ensurePart,placeholder,tryPart;return o.indent+=TAB,tryPart=this.attempt.compileToFragments(o,LEVEL_TOP),catchPart=this.recovery?(placeholder=new Literal(\"_error\"),this.errorVariable?this.recovery.unshift(new Assign(this.errorVariable,placeholder)):void 0,[].concat(this.makeCode(\" catch (\"),placeholder.compileToFragments(o),this.makeCode(\") {\\n\"),this.recovery.compileToFragments(o,LEVEL_TOP),this.makeCode(\"\\n\"+this.tab+\"}\"))):this.ensure||this.recovery?[]:[this.makeCode(\" catch (_error) {}\")],ensurePart=this.ensure?[].concat(this.makeCode(\" finally {\\n\"),this.ensure.compileToFragments(o,LEVEL_TOP),this.makeCode(\"\\n\"+this.tab+\"}\")):[],[].concat(this.makeCode(\"\"+this.tab+\"try {\\n\"),tryPart,this.makeCode(\"\\n\"+this.tab+\"}\"),catchPart,ensurePart)},Try}(Base),exports.Throw=Throw=function(_super){function Throw(expression){this.expression=expression}return __extends(Throw,_super),Throw.prototype.children=[\"expression\"],Throw.prototype.isStatement=YES,Throw.prototype.jumps=NO,Throw.prototype.makeReturn=THIS,Throw.prototype.compileNode=function(o){return[].concat(this.makeCode(this.tab+\"throw \"),this.expression.compileToFragments(o),this.makeCode(\";\"))},Throw}(Base),exports.Existence=Existence=function(_super){function Existence(expression){this.expression=expression}return __extends(Existence,_super),Existence.prototype.children=[\"expression\"],Existence.prototype.invert=NEGATE,Existence.prototype.compileNode=function(o){var cmp,cnj,code,_ref4;return this.expression.front=this.front,code=this.expression.compile(o,LEVEL_OP),IDENTIFIER.test(code)&&!o.scope.check(code)?(_ref4=this.negated?[\"===\",\"||\"]:[\"!==\",\"&&\"],cmp=_ref4[0],cnj=_ref4[1],code=\"typeof \"+code+\" \"+cmp+' \"undefined\" '+cnj+\" \"+code+\" \"+cmp+\" null\"):code=\"\"+code+\" \"+(this.negated?\"==\":\"!=\")+\" null\",[this.makeCode(LEVEL_COND>=o.level?code:\"(\"+code+\")\")]},Existence}(Base),exports.Parens=Parens=function(_super){function Parens(body){this.body=body}return __extends(Parens,_super),Parens.prototype.children=[\"body\"],Parens.prototype.unwrap=function(){return this.body},Parens.prototype.isComplex=function(){return this.body.isComplex()},Parens.prototype.compileNode=function(o){var bare,expr,fragments;return expr=this.body.unwrap(),expr instanceof Value&&expr.isAtomic()?(expr.front=this.front,expr.compileToFragments(o)):(fragments=expr.compileToFragments(o,LEVEL_PAREN),bare=LEVEL_OP>o.level&&(expr instanceof Op||expr instanceof Call||expr instanceof For&&expr.returns),bare?fragments:this.wrapInBraces(fragments))},Parens}(Base),exports.For=For=function(_super){function For(body,source){var _ref4;this.source=source.source,this.guard=source.guard,this.step=source.step,this.name=source.name,this.index=source.index,this.body=Block.wrap([body]),this.own=!!source.own,this.object=!!source.object,this.object&&(_ref4=[this.index,this.name],this.name=_ref4[0],this.index=_ref4[1]),this.index instanceof Value&&this.index.error(\"index cannot be a pattern matching expression\"),this.range=this.source instanceof Value&&this.source.base instanceof Range&&!this.source.properties.length,this.pattern=this.name instanceof Value,this.range&&this.index&&this.index.error(\"indexes do not apply to range loops\"),this.range&&this.pattern&&this.name.error(\"cannot pattern match over range loops\"),this.returns=!1}return __extends(For,_super),For.prototype.children=[\"body\",\"source\",\"guard\",\"step\"],For.prototype.compileNode=function(o){var body,bodyFragments,compare,compareDown,declare,declareDown,defPart,defPartFragments,down,forPartFragments,guardPart,idt1,increment,index,ivar,kvar,kvarAssign,lastJumps,lvar,name,namePart,ref,resultPart,returnResult,rvar,scope,source,step,stepNum,stepVar,svar,varPart,_ref4,_ref5;return body=Block.wrap([this.body]),lastJumps=null!=(_ref4=last(body.expressions))?_ref4.jumps():void 0,lastJumps&&lastJumps instanceof Return&&(this.returns=!1),source=this.range?this.source.base:this.source,scope=o.scope,name=this.name&&this.name.compile(o,LEVEL_LIST),index=this.index&&this.index.compile(o,LEVEL_LIST),name&&!this.pattern&&scope.find(name),index&&scope.find(index),this.returns&&(rvar=scope.freeVariable(\"results\")),ivar=this.object&&index||scope.freeVariable(\"i\"),kvar=this.range&&name||index||ivar,kvarAssign=kvar!==ivar?\"\"+kvar+\" = \":\"\",this.step&&!this.range&&(_ref5=this.cacheToCodeFragments(this.step.cache(o,LEVEL_LIST)),step=_ref5[0],stepVar=_ref5[1],stepNum=stepVar.match(SIMPLENUM)),this.pattern&&(name=ivar),varPart=\"\",guardPart=\"\",defPart=\"\",idt1=this.tab+TAB,this.range?forPartFragments=source.compileToFragments(merge(o,{index:ivar,name:name,step:this.step})):(svar=this.source.compile(o,LEVEL_LIST),!name&&!this.own||IDENTIFIER.test(svar)||(defPart+=\"\"+this.tab+(ref=scope.freeVariable(\"ref\"))+\" = \"+svar+\";\\n\",svar=ref),name&&!this.pattern&&(namePart=\"\"+name+\" = \"+svar+\"[\"+kvar+\"]\"),this.object||(step!==stepVar&&(defPart+=\"\"+this.tab+step+\";\\n\"),this.step&&stepNum&&(down=0>+stepNum)||(lvar=scope.freeVariable(\"len\")),declare=\"\"+kvarAssign+ivar+\" = 0, \"+lvar+\" = \"+svar+\".length\",declareDown=\"\"+kvarAssign+ivar+\" = \"+svar+\".length - 1\",compare=\"\"+ivar+\" < \"+lvar,compareDown=\"\"+ivar+\" >= 0\",this.step?(stepNum?down&&(compare=compareDown,declare=declareDown):(compare=\"\"+stepVar+\" > 0 ? \"+compare+\" : \"+compareDown,declare=\"(\"+stepVar+\" > 0 ? (\"+declare+\") : \"+declareDown+\")\"),increment=\"\"+ivar+\" += \"+stepVar):increment=\"\"+(kvar!==ivar?\"++\"+ivar:\"\"+ivar+\"++\"),forPartFragments=[this.makeCode(\"\"+declare+\"; \"+compare+\"; \"+kvarAssign+increment)])),this.returns&&(resultPart=\"\"+this.tab+rvar+\" = [];\\n\",returnResult=\"\\n\"+this.tab+\"return \"+rvar+\";\",body.makeReturn(rvar)),this.guard&&(body.expressions.length>1?body.expressions.unshift(new If(new Parens(this.guard).invert(),new Literal(\"continue\"))):this.guard&&(body=Block.wrap([new If(this.guard,body)]))),this.pattern&&body.expressions.unshift(new Assign(this.name,new Literal(\"\"+svar+\"[\"+kvar+\"]\"))),defPartFragments=[].concat(this.makeCode(defPart),this.pluckDirectCall(o,body)),namePart&&(varPart=\"\\n\"+idt1+namePart+\";\"),this.object&&(forPartFragments=[this.makeCode(\"\"+kvar+\" in \"+svar)],this.own&&(guardPart=\"\\n\"+idt1+\"if (!\"+utility(\"hasProp\")+\".call(\"+svar+\", \"+kvar+\")) continue;\")),bodyFragments=body.compileToFragments(merge(o,{indent:idt1}),LEVEL_TOP),bodyFragments&&bodyFragments.length>0&&(bodyFragments=[].concat(this.makeCode(\"\\n\"),bodyFragments,this.makeCode(\"\\n\"))),[].concat(defPartFragments,this.makeCode(\"\"+(resultPart||\"\")+this.tab+\"for (\"),forPartFragments,this.makeCode(\") {\"+guardPart+varPart),bodyFragments,this.makeCode(\"\"+this.tab+\"}\"+(returnResult||\"\")))\n},For.prototype.pluckDirectCall=function(o,body){var base,defs,expr,fn,idx,ref,val,_i,_len,_ref4,_ref5,_ref6,_ref7,_ref8,_ref9;for(defs=[],_ref4=body.expressions,idx=_i=0,_len=_ref4.length;_len>_i;idx=++_i)expr=_ref4[idx],expr=expr.unwrapAll(),expr instanceof Call&&(val=expr.variable.unwrapAll(),(val instanceof Code||val instanceof Value&&(null!=(_ref5=val.base)?_ref5.unwrapAll():void 0)instanceof Code&&1===val.properties.length&&(\"call\"===(_ref6=null!=(_ref7=val.properties[0].name)?_ref7.value:void 0)||\"apply\"===_ref6))&&(fn=(null!=(_ref8=val.base)?_ref8.unwrapAll():void 0)||val,ref=new Literal(o.scope.freeVariable(\"fn\")),base=new Value(ref),val.base&&(_ref9=[base,val],val.base=_ref9[0],base=_ref9[1]),body.expressions[idx]=new Call(base,expr.args),defs=defs.concat(this.makeCode(this.tab),new Assign(ref,fn).compileToFragments(o,LEVEL_TOP),this.makeCode(\";\\n\"))));return defs},For}(While),exports.Switch=Switch=function(_super){function Switch(subject,cases,otherwise){this.subject=subject,this.cases=cases,this.otherwise=otherwise}return __extends(Switch,_super),Switch.prototype.children=[\"subject\",\"cases\",\"otherwise\"],Switch.prototype.isStatement=YES,Switch.prototype.jumps=function(o){var block,conds,_i,_len,_ref4,_ref5,_ref6;for(null==o&&(o={block:!0}),_ref4=this.cases,_i=0,_len=_ref4.length;_len>_i;_i++)if(_ref5=_ref4[_i],conds=_ref5[0],block=_ref5[1],block.jumps(o))return block;return null!=(_ref6=this.otherwise)?_ref6.jumps(o):void 0},Switch.prototype.makeReturn=function(res){var pair,_i,_len,_ref4,_ref5;for(_ref4=this.cases,_i=0,_len=_ref4.length;_len>_i;_i++)pair=_ref4[_i],pair[1].makeReturn(res);return res&&(this.otherwise||(this.otherwise=new Block([new Literal(\"void 0\")]))),null!=(_ref5=this.otherwise)&&_ref5.makeReturn(res),this},Switch.prototype.compileNode=function(o){var block,body,cond,conditions,expr,fragments,i,idt1,idt2,_i,_j,_len,_len1,_ref4,_ref5,_ref6;for(idt1=o.indent+TAB,idt2=o.indent=idt1+TAB,fragments=[].concat(this.makeCode(this.tab+\"switch (\"),this.subject?this.subject.compileToFragments(o,LEVEL_PAREN):this.makeCode(\"false\"),this.makeCode(\") {\\n\")),_ref4=this.cases,i=_i=0,_len=_ref4.length;_len>_i;i=++_i){for(_ref5=_ref4[i],conditions=_ref5[0],block=_ref5[1],_ref6=flatten([conditions]),_j=0,_len1=_ref6.length;_len1>_j;_j++)cond=_ref6[_j],this.subject||(cond=cond.invert()),fragments=fragments.concat(this.makeCode(idt1+\"case \"),cond.compileToFragments(o,LEVEL_PAREN),this.makeCode(\":\\n\"));if((body=block.compileToFragments(o,LEVEL_TOP)).length>0&&(fragments=fragments.concat(body,this.makeCode(\"\\n\"))),i===this.cases.length-1&&!this.otherwise)break;expr=this.lastNonComment(block.expressions),expr instanceof Return||expr instanceof Literal&&expr.jumps()&&\"debugger\"!==expr.value||fragments.push(cond.makeCode(idt2+\"break;\\n\"))}return this.otherwise&&this.otherwise.expressions.length&&fragments.push.apply(fragments,[this.makeCode(idt1+\"default:\\n\")].concat(__slice.call(this.otherwise.compileToFragments(o,LEVEL_TOP)),[this.makeCode(\"\\n\")])),fragments.push(this.makeCode(this.tab+\"}\")),fragments},Switch}(Base),exports.If=If=function(_super){function If(condition,body,options){this.body=body,null==options&&(options={}),this.condition=\"unless\"===options.type?condition.invert():condition,this.elseBody=null,this.isChain=!1,this.soak=options.soak}return __extends(If,_super),If.prototype.children=[\"condition\",\"body\",\"elseBody\"],If.prototype.bodyNode=function(){var _ref4;return null!=(_ref4=this.body)?_ref4.unwrap():void 0},If.prototype.elseBodyNode=function(){var _ref4;return null!=(_ref4=this.elseBody)?_ref4.unwrap():void 0},If.prototype.addElse=function(elseBody){return this.isChain?this.elseBodyNode().addElse(elseBody):(this.isChain=elseBody instanceof If,this.elseBody=this.ensureBlock(elseBody)),this},If.prototype.isStatement=function(o){var _ref4;return(null!=o?o.level:void 0)===LEVEL_TOP||this.bodyNode().isStatement(o)||(null!=(_ref4=this.elseBodyNode())?_ref4.isStatement(o):void 0)},If.prototype.jumps=function(o){var _ref4;return this.body.jumps(o)||(null!=(_ref4=this.elseBody)?_ref4.jumps(o):void 0)},If.prototype.compileNode=function(o){return this.isStatement(o)?this.compileStatement(o):this.compileExpression(o)},If.prototype.makeReturn=function(res){return res&&(this.elseBody||(this.elseBody=new Block([new Literal(\"void 0\")]))),this.body&&(this.body=new Block([this.body.makeReturn(res)])),this.elseBody&&(this.elseBody=new Block([this.elseBody.makeReturn(res)])),this},If.prototype.ensureBlock=function(node){return node instanceof Block?node:new Block([node])},If.prototype.compileStatement=function(o){var answer,body,child,cond,exeq,ifPart,indent;return child=del(o,\"chainChild\"),(exeq=del(o,\"isExistentialEquals\"))?new If(this.condition.invert(),this.elseBodyNode(),{type:\"if\"}).compileToFragments(o):(indent=o.indent+TAB,cond=this.condition.compileToFragments(o,LEVEL_PAREN),body=this.ensureBlock(this.body).compileToFragments(merge(o,{indent:indent})),ifPart=[].concat(this.makeCode(\"if (\"),cond,this.makeCode(\") {\\n\"),body,this.makeCode(\"\\n\"+this.tab+\"}\")),child||ifPart.unshift(this.makeCode(this.tab)),this.elseBody?(answer=ifPart.concat(this.makeCode(\" else \")),this.isChain?(o.chainChild=!0,answer=answer.concat(this.elseBody.unwrap().compileToFragments(o,LEVEL_TOP))):answer=answer.concat(this.makeCode(\"{\\n\"),this.elseBody.compileToFragments(merge(o,{indent:indent}),LEVEL_TOP),this.makeCode(\"\\n\"+this.tab+\"}\")),answer):ifPart)},If.prototype.compileExpression=function(o){var alt,body,cond,fragments;return cond=this.condition.compileToFragments(o,LEVEL_COND),body=this.bodyNode().compileToFragments(o,LEVEL_LIST),alt=this.elseBodyNode()?this.elseBodyNode().compileToFragments(o,LEVEL_LIST):[this.makeCode(\"void 0\")],fragments=cond.concat(this.makeCode(\" ? \"),body,this.makeCode(\" : \"),alt),o.level>=LEVEL_COND?this.wrapInBraces(fragments):fragments},If.prototype.unfoldSoak=function(){return this.soak&&this},If}(Base),Closure={wrap:function(expressions,statement,noReturn){var args,argumentsNode,call,func,meth;return expressions.jumps()?expressions:(func=new Code([],Block.wrap([expressions])),args=[],argumentsNode=expressions.contains(this.isLiteralArguments),argumentsNode&&expressions.classBody&&argumentsNode.error(\"Class bodies shouldn't reference arguments\"),(argumentsNode||expressions.contains(this.isLiteralThis))&&(meth=new Literal(argumentsNode?\"apply\":\"call\"),args=[new Literal(\"this\")],argumentsNode&&args.push(new Literal(\"arguments\")),func=new Value(func,[new Access(meth)])),func.noReturn=noReturn,call=new Call(func,args),statement?Block.wrap([call]):call)},isLiteralArguments:function(node){return node instanceof Literal&&\"arguments\"===node.value&&!node.asKey},isLiteralThis:function(node){return node instanceof Literal&&\"this\"===node.value&&!node.asKey||node instanceof Code&&node.bound||node instanceof Call&&node.isSuper}},unfoldSoak=function(o,parent,name){var ifn;if(ifn=parent[name].unfoldSoak(o))return parent[name]=ifn.body,ifn.body=new Value(parent),ifn},UTILITIES={\"extends\":function(){return\"function(child, parent) { for (var key in parent) { if (\"+utility(\"hasProp\")+\".call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; }\"},bind:function(){return\"function(fn, me){ return function(){ return fn.apply(me, arguments); }; }\"},indexOf:function(){return\"[].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; }\"},hasProp:function(){return\"{}.hasOwnProperty\"},slice:function(){return\"[].slice\"}},LEVEL_TOP=1,LEVEL_PAREN=2,LEVEL_LIST=3,LEVEL_COND=4,LEVEL_OP=5,LEVEL_ACCESS=6,TAB=\"  \",IDENTIFIER_STR=\"[$A-Za-z_\\\\x7f-\\\\uffff][$\\\\w\\\\x7f-\\\\uffff]*\",IDENTIFIER=RegExp(\"^\"+IDENTIFIER_STR+\"$\"),SIMPLENUM=/^[+-]?\\d+$/,METHOD_DEF=RegExp(\"^(?:(\"+IDENTIFIER_STR+\")\\\\.prototype(?:\\\\.(\"+IDENTIFIER_STR+\")|\\\\[(\\\"(?:[^\\\\\\\\\\\"\\\\r\\\\n]|\\\\\\\\.)*\\\"|'(?:[^\\\\\\\\'\\\\r\\\\n]|\\\\\\\\.)*')\\\\]|\\\\[(0x[\\\\da-fA-F]+|\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\]))|(\"+IDENTIFIER_STR+\")$\"),IS_STRING=/^['\"]/,utility=function(name){var ref;return ref=\"__\"+name,Scope.root.assign(ref,UTILITIES[name]()),ref},multident=function(code,tab){return code=code.replace(/\\n/g,\"$&\"+tab),code.replace(/\\s+$/,\"\")}}),ace.define(\"ace/mode/coffee/scope\",[\"require\",\"exports\",\"module\",\"ace/mode/coffee/helpers\"],function(acequire,exports){var Scope,extend,last,_ref;_ref=acequire(\"./helpers\"),extend=_ref.extend,last=_ref.last,exports.Scope=Scope=function(){function Scope(parent,expressions,method){this.parent=parent,this.expressions=expressions,this.method=method,this.variables=[{name:\"arguments\",type:\"arguments\"}],this.positions={},this.parent||(Scope.root=this)}return Scope.root=null,Scope.prototype.add=function(name,type,immediate){return this.shared&&!immediate?this.parent.add(name,type,immediate):Object.prototype.hasOwnProperty.call(this.positions,name)?this.variables[this.positions[name]].type=type:this.positions[name]=this.variables.push({name:name,type:type})-1},Scope.prototype.namedMethod=function(){var _ref1;return(null!=(_ref1=this.method)?_ref1.name:void 0)||!this.parent?this.method:this.parent.namedMethod()},Scope.prototype.find=function(name){return this.check(name)?!0:(this.add(name,\"var\"),!1)},Scope.prototype.parameter=function(name){return this.shared&&this.parent.check(name,!0)?void 0:this.add(name,\"param\")},Scope.prototype.check=function(name){var _ref1;return!!(this.type(name)||(null!=(_ref1=this.parent)?_ref1.check(name):void 0))},Scope.prototype.temporary=function(name,index){return name.length>1?\"_\"+name+(index>1?index-1:\"\"):\"_\"+(index+parseInt(name,36)).toString(36).replace(/\\d/g,\"a\")},Scope.prototype.type=function(name){var v,_i,_len,_ref1;for(_ref1=this.variables,_i=0,_len=_ref1.length;_len>_i;_i++)if(v=_ref1[_i],v.name===name)return v.type;return null},Scope.prototype.freeVariable=function(name,reserve){var index,temp;for(null==reserve&&(reserve=!0),index=0;this.check(temp=this.temporary(name,index));)index++;return reserve&&this.add(temp,\"var\",!0),temp},Scope.prototype.assign=function(name,value){return this.add(name,{value:value,assigned:!0},!0),this.hasAssignments=!0},Scope.prototype.hasDeclarations=function(){return!!this.declaredVariables().length},Scope.prototype.declaredVariables=function(){var realVars,tempVars,v,_i,_len,_ref1;for(realVars=[],tempVars=[],_ref1=this.variables,_i=0,_len=_ref1.length;_len>_i;_i++)v=_ref1[_i],\"var\"===v.type&&(\"_\"===v.name.charAt(0)?tempVars:realVars).push(v.name);return realVars.sort().concat(tempVars.sort())},Scope.prototype.assignedVariables=function(){var v,_i,_len,_ref1,_results;for(_ref1=this.variables,_results=[],_i=0,_len=_ref1.length;_len>_i;_i++)v=_ref1[_i],v.type.assigned&&_results.push(\"\"+v.name+\" = \"+v.type.value);return _results},Scope}()});";
},{}],16:[function(require,module,exports){
module.exports.id = 'ace/mode/javascript_worker';
module.exports.src = "\"no use strict\";(function(window){void 0!==window.window&&window.document||(window.console={log:function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:\"log\",data:msgs})},error:function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:\"log\",data:msgs})}},window.window=window,window.ace=window,window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf(\"!\")){var chunks=moduleName.split(\"!\");return normalizeModule(parentId,chunks[0])+\"!\"+normalizeModule(parentId,chunks[1])}if(\".\"==moduleName.charAt(0)){var base=parentId.split(\"/\").slice(0,-1).join(\"/\");for(moduleName=base+\"/\"+moduleName;-1!==moduleName.indexOf(\".\")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/\\/\\.\\//,\"/\").replace(/[^\\/]+\\/\\.\\.\\//,\"\")}}return moduleName},window.acequire=function(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error(\"worker.js acequire() accepts only (parentId, id) as arguments\");id=normalizeModule(parentId,id);var module=acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;var chunks=id.split(\"/\");chunks[0]=acequire.tlns[chunks[0]]||chunks[0];var path=chunks.join(\"/\")+\".js\";return acequire.id=id,importScripts(path),acequire(parentId,id)},acequire.modules={},acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,\"string\"!=typeof id&&(deps=id,id=acequire.id)):1==arguments.length&&(factory=id,id=acequire.id),0!==id.indexOf(\"text!\")){var req=function(deps,factory){return acequire(id,deps,factory)};acequire.modules[id]={factory:function(){var module={exports:{}},returnExports=factory(req,module.exports,module);return returnExports&&(module.exports=returnExports),module}}}},window.initBaseUrls=function initBaseUrls(topLevelNamespaces){acequire.tlns=topLevelNamespaces},window.initSender=function initSender(){var EventEmitter=acequire(\"ace/lib/event_emitter\").EventEmitter,oop=acequire(\"ace/lib/oop\"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:\"call\",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:\"event\",name:name,data:data})}}.call(Sender.prototype),new Sender},window.main=null,window.sender=null,window.onmessage=function(e){var msg=e.data;if(msg.command){if(!main[msg.command])throw Error(\"Unknown command:\"+msg.command);main[msg.command].apply(main,msg.args)}else if(msg.init){initBaseUrls(msg.tlns),acequire(\"ace/lib/es5-shim\"),sender=initSender();var clazz=acequire(msg.module)[msg.classname];main=new clazz(sender)}else msg.event&&sender&&sender._emit(msg.event,msg.data)})})(this),ace.define(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"],function(acequire,exports){var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){\"object\"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault);for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners)for(var i=0;listeners.length>i;i++)listeners[i](e,this)},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?\"unshift\":\"push\"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"],function(acequire,exports){exports.inherits=function(){var tempCtor=function(){};return function(ctor,superCtor){tempCtor.prototype=superCtor.prototype,ctor.super_=superCtor.prototype,ctor.prototype=new tempCtor,ctor.prototype.constructor=ctor}}(),exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define(\"ace/lib/es5-shim\",[\"require\",\"exports\",\"module\"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,\"sentinel\",{}),\"sentinel\"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if(\"function\"!=typeof target)throw new TypeError(\"Function.prototype.bind called on incompatible \"+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,\"__defineGetter__\"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,\"XXX\"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return\"[object Array]\"==_toString(obj)});var boxedString=Object(\"a\"),splitString=\"a\"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,thisp=arguments[1],i=-1,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,result=[],thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");if(!length&&1==arguments.length)throw new TypeError(\"reduce of empty array with no initial value\");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError(\"reduce of empty array with no initial value\")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");if(!length&&1==arguments.length)throw new TypeError(\"reduceRight of empty array with no initial value\");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError(\"reduceRight of empty array with no initial value\")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT=\"Object.getOwnPropertyDescriptor called on a non-object: \";Object.getOwnPropertyDescriptor=function(object,property){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if(\"object\"!=typeof prototype)throw new TypeError(\"typeof prototype[\"+typeof prototype+\"] != 'object'\");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom=\"undefined\"==typeof document||doesDefinePropertyWork(document.createElement(\"div\"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR=\"Property description must be an object: \",ERR_NON_OBJECT_TARGET=\"Object.defineProperty called on non-object: \",ERR_ACCESSORS_NOT_SUPPORTED=\"getters & setters can not be defined on this javascript engine\";Object.defineProperty=function(object,property,descriptor){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if(\"object\"!=typeof descriptor&&\"function\"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,\"value\"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,\"get\")&&defineGetter(object,property,descriptor.get),owns(descriptor,\"set\")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return\"function\"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name=\"\";owns(object,name);)name+=\"?\";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=[\"toString\",\"toLocaleString\",\"valueOf\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"constructor\"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(\"Object.keys called on a non-object\");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws=\"\t\\n\u000b\\f\\r   ᠎             　\\u2028\\u2029﻿\";if(!String.prototype.trim||ws.trim()){ws=\"[\"+ws+\"]\";var trimBeginRegexp=RegExp(\"^\"+ws+ws+\"*\"),trimEndRegexp=RegExp(ws+ws+\"*$\");String.prototype.trim=function(){return(this+\"\").replace(trimBeginRegexp,\"\").replace(trimEndRegexp,\"\")}}var toObject=function(o){if(null==o)throw new TypeError(\"can't convert \"+o+\" to object\");return Object(o)}}),ace.define(\"ace/mode/javascript_worker\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/worker/mirror\",\"ace/mode/javascript/jshint\"],function(acequire,exports,module){function startRegex(arr){return RegExp(\"^(\"+arr.join(\"|\")+\")\")}var oop=acequire(\"../lib/oop\"),Mirror=acequire(\"../worker/mirror\").Mirror,lint=acequire(\"./javascript/jshint\").JSHINT,disabledWarningsRe=startRegex([\"Bad for in variable '(.+)'.\",'Missing \"use strict\"']),errorsRe=startRegex([\"Unexpected\",\"Expected \",\"Confusing (plus|minus)\",\"\\\\{a\\\\} unterminated regular expression\",\"Unclosed \",\"Unmatched \",\"Unbegun comment\",\"Bad invocation\",\"Missing space after\",\"Missing operator at\"]),infoRe=startRegex([\"Expected an assignment\",\"Bad escapement of EOL\",\"Unexpected comma\",\"Unexpected space\",\"Missing radix parameter.\",\"A leading decimal point can\",\"\\\\['{a}'\\\\] is better written in dot notation.\",\"'{a}' used out of scope\"]),JavaScriptWorker=exports.JavaScriptWorker=function(sender){Mirror.call(this,sender),this.setTimeout(500),this.setOptions()};oop.inherits(JavaScriptWorker,Mirror),function(){this.setOptions=function(options){this.options=options||{es5:!0,esnext:!0,devel:!0,browser:!0,node:!0,laxcomma:!0,laxbreak:!0,lastsemic:!0,onevar:!1,passfail:!1,maxerr:100,expr:!0,multistr:!0,globalstrict:!0},this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.changeOptions=function(newOptions){oop.mixin(this.options,newOptions),this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.isValidJS=function(str){try{eval(\"throw 0;\"+str)}catch(e){if(0===e)return!0}return!1},this.onUpdate=function(){var value=this.doc.getValue();if(value=value.replace(/^#!.*\\n/,\"\\n\"),!value)return this.sender.emit(\"jslint\",[]),void 0;var errors=[],maxErrorLevel=this.isValidJS(value)?\"warning\":\"error\";lint(value,this.options);for(var results=lint.errors,errorAdded=!1,i=0;results.length>i;i++){var error=results[i];if(error){var raw=error.raw,type=\"warning\";if(\"Missing semicolon.\"==raw){var str=error.evidence.substr(error.character);str=str.charAt(str.search(/\\S/)),\"error\"==maxErrorLevel&&str&&/[\\w\\d{(['\"]/.test(str)?(error.reason='Missing \";\" before statement',type=\"error\"):type=\"info\"}else{if(disabledWarningsRe.test(raw))continue;infoRe.test(raw)?type=\"info\":errorsRe.test(raw)?(errorAdded=!0,type=maxErrorLevel):\"'{a}' is not defined.\"==raw?type=\"warning\":\"'{a}' is defined but never used.\"==raw&&(type=\"info\")}errors.push({row:error.line-1,column:error.character-1,text:error.reason,type:type,raw:raw})}}this.sender.emit(\"jslint\",errors)}}.call(JavaScriptWorker.prototype)}),ace.define(\"ace/worker/mirror\",[\"require\",\"exports\",\"module\",\"ace/document\",\"ace/lib/lang\"],function(acequire,exports){var Document=acequire(\"../document\").Document,lang=acequire(\"../lib/lang\"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(\"\"),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on(\"change\",function(e){doc.applyDeltas(e.data),deferredUpdate.schedule(_self.$timeout)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){}}).call(Mirror.prototype)}),ace.define(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"],function(acequire,exports){var oop=acequire(\"./lib/oop\"),EventEmitter=acequire(\"./lib/event_emitter\").EventEmitter,Range=acequire(\"./range\").Range,Anchor=acequire(\"./anchor\").Anchor,Document=function(text){this.$lines=[],0==text.length?this.$lines=[\"\"]:Array.isArray(text)?this._insertLines(0,text):this.insert({row:0,column:0},text)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength();this.remove(new Range(0,0,len,this.getLine(len-1).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==\"aaa\".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,\"\\n\").split(\"\\n\")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:\"\\n\"},this.getNewLineCharacter=function(){switch(this.$newLineMode){case\"windows\":return\"\\r\\n\";case\"unix\":return\"\\n\";default:return this.$autoNewLine}},this.$autoNewLine=\"\\n\",this.$newLineMode=\"auto\",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode)},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return\"\\r\\n\"==text||\"\\r\"==text||\"\\n\"==text},this.getLine=function(row){return this.$lines[row]||\"\"},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){if(range.start.row==range.end.row)return this.$lines[range.start.row].substring(range.start.column,range.end.column);var lines=this.getLines(range.start.row,range.end.row);lines[0]=(lines[0]||\"\").substring(range.start.column);var l=lines.length-1;return range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column)),lines.join(this.getNewLineCharacter())},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):0>position.row&&(position.row=0),position},this.insert=function(position,text){if(!text||0===text.length)return position;position=this.$clipPosition(position),1>=this.getLength()&&this.$detectNewLine(text);var lines=this.$split(text),firstLine=lines.splice(0,1)[0],lastLine=0==lines.length?null:lines.splice(lines.length-1,1)[0];return position=this.insertInLine(position,firstLine),null!==lastLine&&(position=this.insertNewLine(position),position=this._insertLines(position.row,lines),position=this.insertInLine(position,lastLine||\"\")),position},this.insertLines=function(row,lines){return row>=this.getLength()?this.insert({row:row,column:0},\"\\n\"+lines.join(\"\\n\")):this._insertLines(Math.max(row,0),lines)},this._insertLines=function(row,lines){if(0==lines.length)return{row:row,column:0};if(lines.length>65535){var end=this._insertLines(row,lines.slice(65535));lines=lines.slice(0,65535)}var args=[row,0];args.push.apply(args,lines),this.$lines.splice.apply(this.$lines,args);var range=new Range(row,0,row+lines.length,0),delta={action:\"insertLines\",range:range,lines:lines};return this._emit(\"change\",{data:delta}),end||range.end},this.insertNewLine=function(position){position=this.$clipPosition(position);var line=this.$lines[position.row]||\"\";this.$lines[position.row]=line.substring(0,position.column),this.$lines.splice(position.row+1,0,line.substring(position.column,line.length));var end={row:position.row+1,column:0},delta={action:\"insertText\",range:Range.fromPoints(position,end),text:this.getNewLineCharacter()};return this._emit(\"change\",{data:delta}),end},this.insertInLine=function(position,text){if(0==text.length)return position;var line=this.$lines[position.row]||\"\";this.$lines[position.row]=line.substring(0,position.column)+text+line.substring(position.column);var end={row:position.row,column:position.column+text.length},delta={action:\"insertText\",range:Range.fromPoints(position,end),text:text};return this._emit(\"change\",{data:delta}),end},this.remove=function(range){if(range.start=this.$clipPosition(range.start),range.end=this.$clipPosition(range.end),range.isEmpty())return range.start;var firstRow=range.start.row,lastRow=range.end.row;if(range.isMultiLine()){var firstFullRow=0==range.start.column?firstRow:firstRow+1,lastFullRow=lastRow-1;range.end.column>0&&this.removeInLine(lastRow,0,range.end.column),lastFullRow>=firstFullRow&&this._removeLines(firstFullRow,lastFullRow),firstFullRow!=firstRow&&(this.removeInLine(firstRow,range.start.column,this.getLine(firstRow).length),this.removeNewLine(range.start.row))}else this.removeInLine(firstRow,range.start.column,range.end.column);return range.start},this.removeInLine=function(row,startColumn,endColumn){if(startColumn!=endColumn){var range=new Range(row,startColumn,row,endColumn),line=this.getLine(row),removed=line.substring(startColumn,endColumn),newLine=line.substring(0,startColumn)+line.substring(endColumn,line.length);this.$lines.splice(row,1,newLine);var delta={action:\"removeText\",range:range,text:removed};return this._emit(\"change\",{data:delta}),range.start}},this.removeLines=function(firstRow,lastRow){return 0>firstRow||lastRow>=this.getLength()?this.remove(new Range(firstRow,0,lastRow+1,0)):this._removeLines(firstRow,lastRow)},this._removeLines=function(firstRow,lastRow){var range=new Range(firstRow,0,lastRow+1,0),removed=this.$lines.splice(firstRow,lastRow-firstRow+1),delta={action:\"removeLines\",range:range,nl:this.getNewLineCharacter(),lines:removed};return this._emit(\"change\",{data:delta}),removed},this.removeNewLine=function(row){var firstLine=this.getLine(row),secondLine=this.getLine(row+1),range=new Range(row,firstLine.length,row+1,0),line=firstLine+secondLine;this.$lines.splice(row,2,line);var delta={action:\"removeText\",range:range,text:this.getNewLineCharacter()};this._emit(\"change\",{data:delta})},this.replace=function(range,text){if(0==text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;if(this.remove(range),text)var end=this.insert(range.start,text);else end=range.start;return end},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++){var delta=deltas[i],range=Range.fromPoints(delta.range.start,delta.range.end);\"insertLines\"==delta.action?this.insertLines(range.start.row,delta.lines):\"insertText\"==delta.action?this.insert(range.start,delta.text):\"removeLines\"==delta.action?this._removeLines(range.start.row,range.end.row-1):\"removeText\"==delta.action&&this.remove(range)}},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--){var delta=deltas[i],range=Range.fromPoints(delta.range.start,delta.range.end);\"insertLines\"==delta.action?this._removeLines(range.start.row,range.end.row-1):\"insertText\"==delta.action?this.remove(range):\"removeLines\"==delta.action?this._insertLines(range.start.row,delta.lines):\"removeText\"==delta.action&&this.insert(range.start,delta.text)}},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define(\"ace/range\",[\"require\",\"exports\",\"module\"],function(acequire,exports){var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return\"Range: [\"+this.start.row+\"/\"+this.start.column+\"] -> [\"+this.end.row+\"/\"+this.end.column+\"]\"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){\"object\"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){\"object\"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)\n},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"],function(acequire,exports){var oop=acequire(\"./lib/oop\"),EventEmitter=acequire(\"./lib/event_emitter\").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.document=doc,column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column),this.$onChange=this.onChange.bind(this),doc.on(\"change\",this.$onChange)};(function(){oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.onChange=function(e){var delta=e.data,range=delta.range;if(!(range.start.row==range.end.row&&range.start.row!=this.row||range.start.row>this.row||range.start.row==this.row&&range.start.column>this.column)){var row=this.row,column=this.column,start=range.start,end=range.end;\"insertText\"===delta.action?start.row===row&&column>=start.column?start.row===end.row?column+=end.column-start.column:(column-=start.column,row+=end.row-start.row):start.row!==end.row&&row>start.row&&(row+=end.row-start.row):\"insertLines\"===delta.action?row>=start.row&&(row+=end.row-start.row):\"removeText\"===delta.action?start.row===row&&column>start.column?column=end.column>=column?start.column:Math.max(0,column-(end.column-start.column)):start.row!==end.row&&row>start.row?(end.row===row&&(column=Math.max(0,column-end.column)+start.column),row-=end.row-start.row):end.row===row&&(row-=end.row-start.row,column=Math.max(0,column-end.column)+start.column):\"removeLines\"==delta.action&&row>=start.row&&(row>=end.row?row-=end.row-start.row:(row=start.row,column=0)),this.setPosition(row,column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._emit(\"change\",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener(\"change\",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define(\"ace/lib/lang\",[\"require\",\"exports\",\"module\"],function(acequire,exports){exports.stringReverse=function(string){return string.split(\"\").reverse().join(\"\")},exports.stringRepeat=function(string,count){for(var result=\"\";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,\"\")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,\"\")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&\"object\"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function(obj){if(\"object\"!=typeof obj)return obj;var copy=obj.constructor();for(var key in obj)copy[key]=\"object\"==typeof obj[key]?this.deepCopy(obj[key]):obj[key];return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,\"\\\\$1\")},exports.escapeHTML=function(str){return str.replace(/&/g,\"&#38;\").replace(/\"/g,\"&#34;\").replace(/'/g,\"&#39;\").replace(/</g,\"&#60;\")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)};return _self.delay=_self,_self.schedule=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||0))},_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define(\"ace/mode/javascript/jshint\",[\"require\",\"exports\",\"module\"],function(acequire,exports){var JSHINT=function(){function F(){}function is_own(object,name){return Object.prototype.hasOwnProperty.call(object,name)}function checkOption(name,t){void 0===valOptions[name]&&void 0===boolOptions[name]&&warning(\"Bad option: '\"+name+\"'.\",t)}function isString(obj){return\"[object String]\"===Object.prototype.toString.call(obj)}function isAlpha(str){return str>=\"a\"&&\"z￿\">=str||str>=\"A\"&&\"Z￿\">=str}function isDigit(str){return str>=\"0\"&&\"9\">=str}function isIdentifier(token,value){return token?token.identifier&&token.value===value?!0:!1:!1}function supplant(str,data){return str.replace(/\\{([^{}]*)\\}/g,function(a,b){var r=data[b];return\"string\"==typeof r||\"number\"==typeof r?r:a})}function combine(t,o){var n;for(n in o)is_own(o,n)&&!is_own(JSHINT.blacklist,n)&&(t[n]=o[n])}function updatePredefined(){Object.keys(JSHINT.blacklist).forEach(function(key){delete predefined[key]})}function assume(){option.couch&&combine(predefined,couch),option.rhino&&combine(predefined,rhino),option.prototypejs&&combine(predefined,prototypejs),option.node&&(combine(predefined,node),option.globalstrict=!0),option.devel&&combine(predefined,devel),option.dojo&&combine(predefined,dojo),option.browser&&combine(predefined,browser),option.nonstandard&&combine(predefined,nonstandard),option.jquery&&combine(predefined,jquery),option.mootools&&combine(predefined,mootools),option.worker&&combine(predefined,worker),option.wsh&&combine(predefined,wsh),option.esnext&&useESNextSyntax(),option.globalstrict&&option.strict!==!1&&(option.strict=!0),option.yui&&combine(predefined,yui)}function quit(message,line,chr){var percentage=Math.floor(100*(line/lines.length));throw{name:\"JSHintError\",line:line,character:chr,message:message+\" (\"+percentage+\"% scanned).\",raw:message}}function isundef(scope,m,t,a){return JSHINT.undefs.push([scope,m,t,a])}function warning(m,t,a,b,c,d){var ch,l,w;return t=t||nexttoken,\"(end)\"===t.id&&(t=token),l=t.line||0,ch=t.from||0,w={id:\"(error)\",raw:m,evidence:lines[l-1]||\"\",line:l,character:ch,scope:JSHINT.scope,a:a,b:b,c:c,d:d},w.reason=supplant(m,w),JSHINT.errors.push(w),option.passfail&&quit(\"Stopping. \",l,ch),warnings+=1,warnings>=option.maxerr&&quit(\"Too many errors.\",l,ch),w}function warningAt(m,l,ch,a,b,c,d){return warning(m,{line:l,from:ch},a,b,c,d)}function error(m,t,a,b,c,d){warning(m,t,a,b,c,d)}function errorAt(m,l,ch,a,b,c,d){return error(m,{line:l,from:ch},a,b,c,d)}function addInternalSrc(elem,src){var i;return i={id:\"(internal)\",elem:elem,value:src},JSHINT.internals.push(i),i}function addlabel(t,type,token){\"hasOwnProperty\"===t&&warning(\"'hasOwnProperty' is a really bad name.\"),\"exception\"===type&&is_own(funct[\"(context)\"],t)&&(funct[t]===!0||option.node||warning(\"Value of '{a}' may be overwritten in IE.\",nexttoken,t)),is_own(funct,t)&&!funct[\"(global)\"]&&(funct[t]===!0?option.latedef&&warning(\"'{a}' was used before it was defined.\",nexttoken,t):option.shadow||\"exception\"===type||warning(\"'{a}' is already defined.\",nexttoken,t)),funct[t]=type,token&&(funct[\"(tokens)\"][t]=token),funct[\"(global)\"]?(global[t]=funct,is_own(implied,t)&&(option.latedef&&warning(\"'{a}' was used before it was defined.\",nexttoken,t),delete implied[t])):scope[t]=funct}function doOption(){var b,obj,filter,t,tn,v,minus,nt=nexttoken,o=nt.value,quotmarkValue=option.quotmark,predef={};switch(o){case\"*/\":error(\"Unbegun comment.\");break;case\"/*members\":case\"/*member\":o=\"/*members\",membersOnly||(membersOnly={}),obj=membersOnly,option.quotmark=!1;break;case\"/*jshint\":case\"/*jslint\":obj=option,filter=boolOptions;break;case\"/*global\":obj=predef;break;default:error(\"What?\")}for(t=lex.token();;){minus=!1;for(var breakOuterLoop;;){if(\"special\"===t.type&&\"*/\"===t.value){breakOuterLoop=!0;break}if(\"(endline)\"!==t.id&&\",\"!==t.id)break;t=lex.token()}if(breakOuterLoop)break;if(\"/*global\"===o&&\"-\"===t.value&&(minus=!0,t=lex.token()),\"(string)\"!==t.type&&\"(identifier)\"!==t.type&&\"/*members\"!==o&&error(\"Bad option.\",t),v=lex.token(),\":\"===v.id){v=lex.token(),obj===membersOnly&&error(\"Expected '{a}' and instead saw '{b}'.\",t,\"*/\",\":\"),\"/*jshint\"===o&&checkOption(t.value,t);var numericVals=[\"maxstatements\",\"maxparams\",\"maxdepth\",\"maxcomplexity\",\"maxerr\",\"maxlen\",\"indent\"];if(numericVals.indexOf(t.value)>-1&&(\"/*jshint\"===o||\"/*jslint\"===o))b=+v.value,(\"number\"!=typeof b||!isFinite(b)||0>=b||Math.floor(b)!==b)&&error(\"Expected a small integer and instead saw '{a}'.\",v,v.value),\"indent\"===t.value&&(obj.white=!0),obj[t.value]=b;else if(\"validthis\"===t.value)funct[\"(global)\"]?error(\"Option 'validthis' can't be used in a global scope.\"):\"true\"===v.value||\"false\"===v.value?obj[t.value]=\"true\"===v.value:error(\"Bad option value.\",v);else if(\"quotmark\"===t.value&&\"/*jshint\"===o)switch(v.value){case\"true\":obj.quotmark=!0;break;case\"false\":obj.quotmark=!1;break;case\"double\":case\"single\":obj.quotmark=v.value;break;default:error(\"Bad option value.\",v)}else\"true\"===v.value||\"false\"===v.value?(\"/*jslint\"===o?(tn=renamedOptions[t.value]||t.value,obj[tn]=\"true\"===v.value,void 0!==invertedOptions[tn]&&(obj[tn]=!obj[tn])):obj[t.value]=\"true\"===v.value,\"newcap\"===t.value&&(obj[\"(explicitNewcap)\"]=!0)):error(\"Bad option value.\",v);t=lex.token()}else(\"/*jshint\"===o||\"/*jslint\"===o)&&error(\"Missing option value.\",t),obj[t.value]=!1,\"/*global\"===o&&minus===!0&&(JSHINT.blacklist[t.value]=t.value,updatePredefined()),t=v}\"/*members\"===o&&(option.quotmark=quotmarkValue),combine(predefined,predef);for(var key in predef)is_own(predef,key)&&(declared[key]=nt);filter&&assume()}function peek(p){for(var t,i=p||0,j=0;i>=j;)t=lookahead[j],t||(t=lookahead[j]=lex.token()),j+=1;return t}function advance(id,t){switch(token.id){case\"(number)\":\".\"===nexttoken.id&&warning(\"A dot following a number can be confused with a decimal point.\",token);break;case\"-\":(\"-\"===nexttoken.id||\"--\"===nexttoken.id)&&warning(\"Confusing minusses.\");break;case\"+\":(\"+\"===nexttoken.id||\"++\"===nexttoken.id)&&warning(\"Confusing plusses.\")}for((\"(string)\"===token.type||token.identifier)&&(anonname=token.value),id&&nexttoken.id!==id&&(t?\"(end)\"===nexttoken.id?warning(\"Unmatched '{a}'.\",t,t.id):warning(\"Expected '{a}' to match '{b}' from line {c} and instead saw '{d}'.\",nexttoken,id,t.id,t.line,nexttoken.value):(\"(identifier)\"!==nexttoken.type||nexttoken.value!==id)&&warning(\"Expected '{a}' and instead saw '{b}'.\",nexttoken,id,nexttoken.value)),prevtoken=token,token=nexttoken;;){if(nexttoken=lookahead.shift()||lex.token(),\"(end)\"===nexttoken.id||\"(error)\"===nexttoken.id)return;if(\"special\"===nexttoken.type)doOption();else if(\"(endline)\"!==nexttoken.id)break}}function expression(rbp,initial){var left,isArray=!1,isObject=!1;if(\"(end)\"===nexttoken.id&&error(\"Unexpected early end of program.\",token),advance(),initial&&(anonname=\"anonymous\",funct[\"(verb)\"]=token.value),initial===!0&&token.fud)left=token.fud();else{if(token.nud)left=token.nud();else{if(\"(number)\"===nexttoken.type&&\".\"===token.id)return warning(\"A leading decimal point can be confused with a dot: '.{a}'.\",token,nexttoken.value),advance(),token;error(\"Expected an identifier and instead saw '{a}'.\",token,token.id)}for(;nexttoken.lbp>rbp;)isArray=\"Array\"===token.value,isObject=\"Object\"===token.value,left&&(left.value||left.first&&left.first.value)&&(\"new\"!==left.value||left.first&&left.first.value&&\".\"===left.first.value)&&(isArray=!1,left.value!==token.value&&(isObject=!1)),advance(),isArray&&\"(\"===token.id&&\")\"===nexttoken.id&&warning(\"Use the array literal notation [].\",token),isObject&&\"(\"===token.id&&\")\"===nexttoken.id&&warning(\"Use the object literal notation {}.\",token),token.led?left=token.led(left):error(\"Expected an operator and instead saw '{a}'.\",token,token.id)}return left}function adjacent(left,right){left=left||token,right=right||nexttoken,option.white&&left.character!==right.from&&left.line===right.line&&(left.from+=left.character-left.from,warning(\"Unexpected space after '{a}'.\",left,left.value))}function nobreak(left,right){left=left||token,right=right||nexttoken,!option.white||left.character===right.from&&left.line===right.line||warning(\"Unexpected space before '{a}'.\",right,right.value)}function nospace(left,right){left=left||token,right=right||nexttoken,option.white&&!left.comment&&left.line===right.line&&adjacent(left,right)}function nonadjacent(left,right){if(option.white){if(left=left||token,right=right||nexttoken,\";\"===left.value&&\";\"===right.value)return;left.line===right.line&&left.character===right.from&&(left.from+=left.character-left.from,warning(\"Missing space after '{a}'.\",left,left.value))}}function nobreaknonadjacent(left,right){left=left||token,right=right||nexttoken,option.laxbreak||left.line===right.line?option.white&&(left=left||token,right=right||nexttoken,left.character===right.from&&(left.from+=left.character-left.from,warning(\"Missing space after '{a}'.\",left,left.value))):warning(\"Bad line breaking before '{a}'.\",right,right.id)}function indentation(bias){var i;option.white&&\"(end)\"!==nexttoken.id&&(i=indent+(bias||0),nexttoken.from!==i&&warning(\"Expected '{a}' to have an indentation at {b} instead at {c}.\",nexttoken,nexttoken.value,i,nexttoken.from))}function nolinebreak(t){t=t||token,t.line!==nexttoken.line&&warning(\"Line breaking error '{a}'.\",t,t.value)}function comma(){token.line!==nexttoken.line?option.laxcomma||(comma.first&&(warning(\"Comma warnings can be turned off with 'laxcomma'\"),comma.first=!1),warning(\"Bad line breaking before '{a}'.\",token,nexttoken.id)):!token.comment&&token.character!==nexttoken.from&&option.white&&(token.from+=token.character-token.from,warning(\"Unexpected space after '{a}'.\",token,token.value)),advance(\",\"),nonadjacent(token,nexttoken)}function symbol(s,p){var x=syntax[s];return x&&\"object\"==typeof x||(syntax[s]=x={id:s,lbp:p,value:s}),x}function delim(s){return symbol(s,0)}function stmt(s,f){var x=delim(s);return x.identifier=x.reserved=!0,x.fud=f,x}function blockstmt(s,f){var x=stmt(s,f);return x.block=!0,x}function reserveName(x){var c=x.id.charAt(0);return(c>=\"a\"&&\"z\">=c||c>=\"A\"&&\"Z\">=c)&&(x.identifier=x.reserved=!0),x}function prefix(s,f){var x=symbol(s,150);return reserveName(x),x.nud=\"function\"==typeof f?f:function(){return this.right=expression(150),this.arity=\"unary\",(\"++\"===this.id||\"--\"===this.id)&&(option.plusplus?warning(\"Unexpected use of '{a}'.\",this,this.id):this.right.identifier&&!this.right.reserved||\".\"===this.right.id||\"[\"===this.right.id||warning(\"Bad operand.\",this)),this},x}function type(s,f){var x=delim(s);return x.type=s,x.nud=f,x}function reserve(s,f){var x=type(s,f);return x.identifier=x.reserved=!0,x}function reservevar(s,v){return reserve(s,function(){return\"function\"==typeof v&&v(this),this})}function infix(s,f,p,w){var x=symbol(s,p);return reserveName(x),x.led=function(left){return w||(nobreaknonadjacent(prevtoken,token),nonadjacent(token,nexttoken)),\"in\"===s&&\"!\"===left.id&&warning(\"Confusing use of '{a}'.\",left,\"!\"),\"function\"==typeof f?f(left,this):(this.left=left,this.right=expression(p),this)},x}function relation(s,f){var x=symbol(s,100);return x.led=function(left){nobreaknonadjacent(prevtoken,token),nonadjacent(token,nexttoken);var right=expression(100);return isIdentifier(left,\"NaN\")||isIdentifier(right,\"NaN\")?warning(\"Use the isNaN function to compare with NaN.\",this):f&&f.apply(this,[left,right]),\"!\"===left.id&&warning(\"Confusing use of '{a}'.\",left,\"!\"),\"!\"===right.id&&warning(\"Confusing use of '{a}'.\",right,\"!\"),this.left=left,this.right=right,this},x}function isPoorRelation(node){return node&&(\"(number)\"===node.type&&0===+node.value||\"(string)\"===node.type&&\"\"===node.value||\"null\"===node.type&&!option.eqnull||\"true\"===node.type||\"false\"===node.type||\"undefined\"===node.type)}function assignop(s){return symbol(s,20).exps=!0,infix(s,function(left,that){if(that.left=left,predefined[left.value]===!1&&scope[left.value][\"(global)\"]===!0?warning(\"Read only.\",left):left[\"function\"]&&warning(\"'{a}' is a function.\",left,left.value),left){if(option.esnext&&\"const\"===funct[left.value]&&warning(\"Attempting to override '{a}' which is a constant\",left,left.value),\".\"===left.id||\"[\"===left.id)return left.left&&\"arguments\"!==left.left.value||warning(\"Bad assignment.\",that),that.right=expression(19),that;if(left.identifier&&!left.reserved)return\"exception\"===funct[left.value]&&warning(\"Do not assign to the exception parameter.\",left),that.right=expression(19),that;left===syntax[\"function\"]&&warning(\"Expected an identifier in an assignment and instead saw a function invocation.\",token)}error(\"Bad assignment.\",that)},20)}function bitwise(s,f,p){var x=symbol(s,p);return reserveName(x),x.led=\"function\"==typeof f?f:function(left){return option.bitwise&&warning(\"Unexpected use of '{a}'.\",this,this.id),this.left=left,this.right=expression(p),this},x}function bitwiseassignop(s){return symbol(s,20).exps=!0,infix(s,function(left,that){return option.bitwise&&warning(\"Unexpected use of '{a}'.\",that,that.id),nonadjacent(prevtoken,token),nonadjacent(token,nexttoken),left?\".\"===left.id||\"[\"===left.id||left.identifier&&!left.reserved?(expression(19),that):(left===syntax[\"function\"]&&warning(\"Expected an identifier in an assignment, and instead saw a function invocation.\",token),that):(error(\"Bad assignment.\",that),void 0)},20)}function suffix(s){var x=symbol(s,150);return x.led=function(left){return option.plusplus?warning(\"Unexpected use of '{a}'.\",this,this.id):left.identifier&&!left.reserved||\".\"===left.id||\"[\"===left.id||warning(\"Bad operand.\",this),this.left=left,this},x}function optionalidentifier(fnparam){return nexttoken.identifier?(advance(),token.reserved&&!option.es5&&(fnparam&&\"undefined\"===token.value||warning(\"Expected an identifier and instead saw '{a}' (a reserved word).\",token,token.id)),token.value):void 0}function identifier(fnparam){var i=optionalidentifier(fnparam);return i?i:(\"function\"===token.id&&\"(\"===nexttoken.id?warning(\"Missing name in function declaration.\"):error(\"Expected an identifier and instead saw '{a}'.\",nexttoken,nexttoken.value),void 0)}function reachable(s){var t,i=0;if(\";\"===nexttoken.id&&!noreach)for(;;){if(t=peek(i),t.reach)return;if(\"(endline)\"!==t.id){if(\"function\"===t.id){if(!option.latedef)break;warning(\"Inner functions should be listed at the top of the outer function.\",t);break}warning(\"Unreachable '{a}' after '{b}'.\",t,t.value,s);break}i+=1}}function statement(noindent){var r,i=indent,s=scope,t=nexttoken;if(\";\"===t.id)return advance(\";\"),void 0;if(t.identifier&&!t.reserved&&\":\"===peek().id&&(advance(),advance(\":\"),scope=Object.create(s),addlabel(t.value,\"label\"),nexttoken.labelled||\"{\"===nexttoken.value||warning(\"Label '{a}' on {b} statement.\",nexttoken,t.value,nexttoken.value),jx.test(t.value+\":\")&&warning(\"Label '{a}' looks like a javascript url.\",t,t.value),nexttoken.label=t.value,t=nexttoken),\"{\"===t.id)return block(!0,!0),void 0;if(noindent||indentation(),r=expression(0,!0),!t.block){if(option.expr||r&&r.exps?option.nonew&&\"(\"===r.id&&\"new\"===r.left.id&&warning(\"Do not use 'new' for side effects.\",t):warning(\"Expected an assignment or function call and instead saw an expression.\",token),\",\"===nexttoken.id)return comma();\";\"!==nexttoken.id?option.asi||option.lastsemic&&\"}\"===nexttoken.id&&nexttoken.line===token.line||warningAt(\"Missing semicolon.\",token.line,token.character):(adjacent(token,nexttoken),advance(\";\"),nonadjacent(token,nexttoken))}return indent=i,scope=s,r}function statements(startLine){for(var p,a=[];!nexttoken.reach&&\"(end)\"!==nexttoken.id;)\";\"===nexttoken.id?(p=peek(),p&&\"(\"===p.id||warning(\"Unnecessary semicolon.\"),advance(\";\")):a.push(statement(startLine===nexttoken.line));return a}function directives(){for(var i,p,pn;\"(string)\"===nexttoken.id;){if(p=peek(0),\"(endline)\"===p.id){i=1;do pn=peek(i),i+=1;while(\"(endline)\"===pn.id);if(\";\"!==pn.id){if(\"(string)\"!==pn.id&&\"(number)\"!==pn.id&&\"(regexp)\"!==pn.id&&pn.identifier!==!0&&\"}\"!==pn.id)break;warning(\"Missing semicolon.\",nexttoken)}else p=pn}else if(\"}\"===p.id)warning(\"Missing semicolon.\",p);else if(\";\"!==p.id)break;indentation(),advance(),directive[token.value]&&warning('Unnecessary directive \"{a}\".',token,token.value),\"use strict\"===token.value&&(option[\"(explicitNewcap)\"]||(option.newcap=!0),option.undef=!0),directive[token.value]=!0,\";\"===p.id&&advance(\";\")}}function block(ordinary,stmt,isfunc){var a,m,t,line,d,b=inblock,old_indent=indent,s=scope;inblock=ordinary,ordinary&&option.funcscope||(scope=Object.create(scope)),nonadjacent(token,nexttoken),t=nexttoken;var metrics=funct[\"(metrics)\"];if(metrics.nestedBlockDepth+=1,metrics.verifyMaxNestedBlockDepthPerFunction(),\"{\"===nexttoken.id){if(advance(\"{\"),line=token.line,\"}\"!==nexttoken.id){for(indent+=option.indent;!ordinary&&nexttoken.from>indent;)indent+=option.indent;if(isfunc){m={};for(d in directive)is_own(directive,d)&&(m[d]=directive[d]);directives(),option.strict&&funct[\"(context)\"][\"(global)\"]&&(m[\"use strict\"]||directive[\"use strict\"]||warning('Missing \"use strict\" statement.'))}a=statements(line),metrics.statementCount+=a.length,isfunc&&(directive=m),indent-=option.indent,line!==nexttoken.line&&indentation()}else line!==nexttoken.line&&indentation();advance(\"}\",t),indent=old_indent}else ordinary?((!stmt||option.curly)&&warning(\"Expected '{a}' and instead saw '{b}'.\",nexttoken,\"{\",nexttoken.value),noreach=!0,indent+=option.indent,a=[statement(nexttoken.line===token.line)],indent-=option.indent,noreach=!1):error(\"Expected '{a}' and instead saw '{b}'.\",nexttoken,\"{\",nexttoken.value);return funct[\"(verb)\"]=null,ordinary&&option.funcscope||(scope=s),inblock=b,!ordinary||!option.noempty||a&&0!==a.length||warning(\"Empty block.\"),metrics.nestedBlockDepth-=1,a}function countMember(m){membersOnly&&\"boolean\"!=typeof membersOnly[m]&&warning(\"Unexpected /*member '{a}'.\",token,m),\"number\"==typeof member[m]?member[m]+=1:member[m]=1}function note_implied(token){var name=token.value,line=token.line,a=implied[name];\"function\"==typeof a&&(a=!1),a?a[a.length-1]!==line&&a.push(line):(a=[line],implied[name]=a)}function property_name(){var id=optionalidentifier(!0);return id||(\"(string)\"===nexttoken.id?(id=nexttoken.value,advance()):\"(number)\"===nexttoken.id&&(id=\"\"+nexttoken.value,advance())),id}function functionparams(){var ident,next=nexttoken,params=[];if(advance(\"(\"),nospace(),\")\"===nexttoken.id)return advance(\")\"),void 0;for(;;){if(ident=identifier(!0),params.push(ident),addlabel(ident,\"unused\",token),\",\"!==nexttoken.id)return advance(\")\",next),nospace(prevtoken,token),params;comma()}}function doFunction(name,statement){var f,oldOption=option,oldScope=scope;return option=Object.create(option),scope=Object.create(scope),funct={\"(name)\":name||'\"'+anonname+'\"',\"(line)\":nexttoken.line,\"(character)\":nexttoken.character,\"(context)\":funct,\"(breakage)\":0,\"(loopage)\":0,\"(metrics)\":createMetrics(nexttoken),\"(scope)\":scope,\"(statement)\":statement,\"(tokens)\":{}},f=funct,token.funct=funct,functions.push(funct),name&&addlabel(name,\"function\"),funct[\"(params)\"]=functionparams(),funct[\"(metrics)\"].verifyMaxParametersPerFunction(funct[\"(params)\"]),block(!1,!1,!0),funct[\"(metrics)\"].verifyMaxStatementsPerFunction(),funct[\"(metrics)\"].verifyMaxComplexityPerFunction(),scope=oldScope,option=oldOption,funct[\"(last)\"]=token.line,funct[\"(lastcharacter)\"]=token.character,funct=funct[\"(context)\"],f}function createMetrics(functionStartToken){return{statementCount:0,nestedBlockDepth:-1,ComplexityCount:1,verifyMaxStatementsPerFunction:function(){if(option.maxstatements&&this.statementCount>option.maxstatements){var message=\"Too many statements per function (\"+this.statementCount+\").\";warning(message,functionStartToken)}},verifyMaxParametersPerFunction:function(params){if(params=params||[],option.maxparams&&params.length>option.maxparams){var message=\"Too many parameters per function (\"+params.length+\").\";warning(message,functionStartToken)}},verifyMaxNestedBlockDepthPerFunction:function(){if(option.maxdepth&&this.nestedBlockDepth>0&&this.nestedBlockDepth===option.maxdepth+1){var message=\"Blocks are nested too deeply (\"+this.nestedBlockDepth+\").\";warning(message)}},verifyMaxComplexityPerFunction:function(){var max=option.maxcomplexity,cc=this.ComplexityCount;if(max&&cc>max){var message=\"Cyclomatic complexity is too high per function (\"+cc+\").\";warning(message,functionStartToken)}}}}function increaseComplexityCount(){funct[\"(metrics)\"].ComplexityCount+=1}function jsonValue(){function jsonObject(){var o={},t=nexttoken;if(advance(\"{\"),\"}\"!==nexttoken.id)for(;;){if(\"(end)\"===nexttoken.id)error(\"Missing '}' to match '{' from line {a}.\",nexttoken,t.line);else{if(\"}\"===nexttoken.id){warning(\"Unexpected comma.\",token);break}\",\"===nexttoken.id?error(\"Unexpected comma.\",nexttoken):\"(string)\"!==nexttoken.id&&warning(\"Expected a string and instead saw {a}.\",nexttoken,nexttoken.value)}if(o[nexttoken.value]===!0?warning(\"Duplicate key '{a}'.\",nexttoken,nexttoken.value):\"__proto__\"===nexttoken.value&&!option.proto||\"__iterator__\"===nexttoken.value&&!option.iterator?warning(\"The '{a}' key may produce unexpected results.\",nexttoken,nexttoken.value):o[nexttoken.value]=!0,advance(),advance(\":\"),jsonValue(),\",\"!==nexttoken.id)break;advance(\",\")}advance(\"}\")}function jsonArray(){var t=nexttoken;if(advance(\"[\"),\"]\"!==nexttoken.id)for(;;){if(\"(end)\"===nexttoken.id)error(\"Missing ']' to match '[' from line {a}.\",nexttoken,t.line);else{if(\"]\"===nexttoken.id){warning(\"Unexpected comma.\",token);break}\",\"===nexttoken.id&&error(\"Unexpected comma.\",nexttoken)}if(jsonValue(),\",\"!==nexttoken.id)break;advance(\",\")}advance(\"]\")}switch(nexttoken.id){case\"{\":jsonObject();break;case\"[\":jsonArray();break;case\"true\":case\"false\":case\"null\":case\"(number)\":case\"(string)\":advance();break;case\"-\":advance(\"-\"),token.character!==nexttoken.from&&warning(\"Unexpected space after '-'.\",token),adjacent(token,nexttoken),advance(\"(number)\");break;default:error(\"Expected a JSON value.\",nexttoken)}}var anonname,declared,funct,functions,global,implied,inblock,indent,jsonmode,lines,lookahead,member,membersOnly,nexttoken,noreach,option,predefined,prereg,prevtoken,quotmark,scope,stack,directive,tab,token,unuseds,urls,useESNextSyntax,warnings,ax,cx,tx,nx,nxg,lx,ix,jx,ft,bang={\"<\":!0,\"<=\":!0,\"==\":!0,\"===\":!0,\"!==\":!0,\"!=\":!0,\">\":!0,\">=\":!0,\"+\":!0,\"-\":!0,\"*\":!0,\"/\":!0,\"%\":!0},boolOptions={asi:!0,bitwise:!0,boss:!0,browser:!0,camelcase:!0,couch:!0,curly:!0,debug:!0,devel:!0,dojo:!0,eqeqeq:!0,eqnull:!0,es5:!0,esnext:!0,evil:!0,expr:!0,forin:!0,funcscope:!0,globalstrict:!0,immed:!0,iterator:!0,jquery:!0,lastsemic:!0,latedef:!0,laxbreak:!0,laxcomma:!0,loopfunc:!0,mootools:!0,multistr:!0,newcap:!0,noarg:!0,node:!0,noempty:!0,nonew:!0,nonstandard:!0,nomen:!0,onevar:!0,onecase:!0,passfail:!0,plusplus:!0,proto:!0,prototypejs:!0,regexdash:!0,regexp:!0,rhino:!0,undef:!0,unused:!0,scripturl:!0,shadow:!0,smarttabs:!0,strict:!0,sub:!0,supernew:!0,trailing:!0,validthis:!0,withstmt:!0,white:!0,worker:!0,wsh:!0,yui:!0},valOptions={maxlen:!1,indent:!1,maxerr:!1,predef:!1,quotmark:!1,scope:!1,maxstatements:!1,maxdepth:!1,maxparams:!1,maxcomplexity:!1},invertedOptions={bitwise:!0,forin:!0,newcap:!0,nomen:!0,plusplus:!0,regexp:!0,undef:!0,white:!0,eqeqeq:!0,onevar:!0},renamedOptions={eqeq:\"eqeqeq\",vars:\"onevar\",windows:\"wsh\"},browser={ArrayBuffer:!1,ArrayBufferView:!1,Audio:!1,Blob:!1,addEventListener:!1,applicationCache:!1,atob:!1,blur:!1,btoa:!1,clearInterval:!1,clearTimeout:!1,close:!1,closed:!1,DataView:!1,DOMParser:!1,defaultStatus:!1,document:!1,event:!1,FileReader:!1,Float32Array:!1,Float64Array:!1,FormData:!1,focus:!1,frames:!1,getComputedStyle:!1,HTMLElement:!1,HTMLAnchorElement:!1,HTMLBaseElement:!1,HTMLBlockquoteElement:!1,HTMLBodyElement:!1,HTMLBRElement:!1,HTMLButtonElement:!1,HTMLCanvasElement:!1,HTMLDirectoryElement:!1,HTMLDivElement:!1,HTMLDListElement:!1,HTMLFieldSetElement:!1,HTMLFontElement:!1,HTMLFormElement:!1,HTMLFrameElement:!1,HTMLFrameSetElement:!1,HTMLHeadElement:!1,HTMLHeadingElement:!1,HTMLHRElement:!1,HTMLHtmlElement:!1,HTMLIFrameElement:!1,HTMLImageElement:!1,HTMLInputElement:!1,HTMLIsIndexElement:!1,HTMLLabelElement:!1,HTMLLayerElement:!1,HTMLLegendElement:!1,HTMLLIElement:!1,HTMLLinkElement:!1,HTMLMapElement:!1,HTMLMenuElement:!1,HTMLMetaElement:!1,HTMLModElement:!1,HTMLObjectElement:!1,HTMLOListElement:!1,HTMLOptGroupElement:!1,HTMLOptionElement:!1,HTMLParagraphElement:!1,HTMLParamElement:!1,HTMLPreElement:!1,HTMLQuoteElement:!1,HTMLScriptElement:!1,HTMLSelectElement:!1,HTMLStyleElement:!1,HTMLTableCaptionElement:!1,HTMLTableCellElement:!1,HTMLTableColElement:!1,HTMLTableElement:!1,HTMLTableRowElement:!1,HTMLTableSectionElement:!1,HTMLTextAreaElement:!1,HTMLTitleElement:!1,HTMLUListElement:!1,HTMLVideoElement:!1,history:!1,Int16Array:!1,Int32Array:!1,Int8Array:!1,Image:!1,length:!1,localStorage:!1,location:!1,MessageChannel:!1,MessageEvent:!1,MessagePort:!1,moveBy:!1,moveTo:!1,MutationObserver:!1,name:!1,Node:!1,NodeFilter:!1,navigator:!1,onbeforeunload:!0,onblur:!0,onerror:!0,onfocus:!0,onload:!0,onresize:!0,onunload:!0,open:!1,openDatabase:!1,opener:!1,Option:!1,parent:!1,print:!1,removeEventListener:!1,resizeBy:!1,resizeTo:!1,screen:!1,scroll:!1,scrollBy:!1,scrollTo:!1,sessionStorage:!1,setInterval:!1,setTimeout:!1,SharedWorker:!1,status:!1,top:!1,Uint16Array:!1,Uint32Array:!1,Uint8Array:!1,WebSocket:!1,window:!1,Worker:!1,XMLHttpRequest:!1,XMLSerializer:!1,XPathEvaluator:!1,XPathException:!1,XPathExpression:!1,XPathNamespace:!1,XPathNSResolver:!1,XPathResult:!1},couch={require:!1,respond:!1,getRow:!1,emit:!1,send:!1,start:!1,sum:!1,log:!1,exports:!1,module:!1,provides:!1},devel={alert:!1,confirm:!1,console:!1,Debug:!1,opera:!1,prompt:!1},dojo={dojo:!1,dijit:!1,dojox:!1,define:!1,require:!1},functionicity=[\"closure\",\"exception\",\"global\",\"label\",\"outer\",\"unused\",\"var\"],jquery={$:!1,jQuery:!1},mootools={$:!1,$$:!1,Asset:!1,Browser:!1,Chain:!1,Class:!1,Color:!1,Cookie:!1,Core:!1,Document:!1,DomReady:!1,DOMEvent:!1,DOMReady:!1,Drag:!1,Element:!1,Elements:!1,Event:!1,Events:!1,Fx:!1,Group:!1,Hash:!1,HtmlTable:!1,Iframe:!1,IframeShim:!1,InputValidator:!1,instanceOf:!1,Keyboard:!1,Locale:!1,Mask:!1,MooTools:!1,Native:!1,Options:!1,OverText:!1,Request:!1,Scroller:!1,Slick:!1,Slider:!1,Sortables:!1,Spinner:!1,Swiff:!1,Tips:!1,Type:!1,typeOf:!1,URI:!1,Window:!1},node={__filename:!1,__dirname:!1,Buffer:!1,console:!1,exports:!0,GLOBAL:!1,global:!1,module:!1,process:!1,acequire:!1,setTimeout:!1,clearTimeout:!1,setInterval:!1,clearInterval:!1},prototypejs={$:!1,$$:!1,$A:!1,$F:!1,$H:!1,$R:!1,$break:!1,$continue:!1,$w:!1,Abstract:!1,Ajax:!1,Class:!1,Enumerable:!1,Element:!1,Event:!1,Field:!1,Form:!1,Hash:!1,Insertion:!1,ObjectRange:!1,PeriodicalExecuter:!1,Position:!1,Prototype:!1,Selector:!1,Template:!1,Toggle:!1,Try:!1,Autocompleter:!1,Builder:!1,Control:!1,Draggable:!1,Draggables:!1,Droppables:!1,Effect:!1,Sortable:!1,SortableObserver:!1,Sound:!1,Scriptaculous:!1},rhino={defineClass:!1,deserialize:!1,gc:!1,help:!1,importPackage:!1,java:!1,load:!1,loadClass:!1,print:!1,quit:!1,readFile:!1,readUrl:!1,runCommand:!1,seal:!1,serialize:!1,spawn:!1,sync:!1,toint32:!1,version:!1},standard={Array:!1,Boolean:!1,Date:!1,decodeURI:!1,decodeURIComponent:!1,encodeURI:!1,encodeURIComponent:!1,Error:!1,eval:!1,EvalError:!1,Function:!1,hasOwnProperty:!1,isFinite:!1,isNaN:!1,JSON:!1,Map:!1,Math:!1,NaN:!1,Number:!1,Object:!1,parseInt:!1,parseFloat:!1,RangeError:!1,ReferenceError:!1,RegExp:!1,Set:!1,String:!1,SyntaxError:!1,TypeError:!1,URIError:!1,WeakMap:!1},nonstandard={escape:!1,unescape:!1},syntax={},worker={importScripts:!0,postMessage:!0,self:!0},wsh={ActiveXObject:!0,Enumerator:!0,GetObject:!0,ScriptEngine:!0,ScriptEngineBuildVersion:!0,ScriptEngineMajorVersion:!0,ScriptEngineMinorVersion:!0,VBArray:!0,WSH:!0,WScript:!0,XDomainRequest:!0},yui={YUI:!1,Y:!1,YUI_config:!1};\n(function(){ax=/@cc|<\\/?|script|\\]\\s*\\]|<\\s*!|&lt/i,cx=/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/,tx=/^\\s*([(){}\\[.,:;'\"~\\?\\]#@]|==?=?|\\/=(?!(\\S*\\/[gim]?))|\\/(\\*(jshint|jslint|members?|global)?|\\/)?|\\*[\\/=]?|\\+(?:=|\\++)?|-(?:=|-+)?|%=?|&[&=]?|\\|[|=]?|>>?>?=?|<([\\/=!]|\\!(\\[|--)?|<=?)?|\\^=?|\\!=?=?|[a-zA-Z_$][a-zA-Z0-9_$]*|[0-9]+([xX][0-9a-fA-F]+|\\.[0-9]*)?([eE][+\\-]?[0-9]+)?)/,nx=/[\\u0000-\\u001f&<\"\\/\\\\\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/,nxg=/[\\u0000-\\u001f&<\"\\/\\\\\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,lx=/\\*\\//,ix=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,jx=/^(?:javascript|jscript|ecmascript|vbscript|mocha|livescript)\\s*:/i,ft=/^\\s*\\/\\*\\s*falls\\sthrough\\s*\\*\\/\\s*$/})(),\"function\"!=typeof Array.isArray&&(Array.isArray=function(o){return\"[object Array]\"===Object.prototype.toString.apply(o)}),Array.prototype.forEach||(Array.prototype.forEach=function(fn,scope){for(var len=this.length,i=0;len>i;i++)fn.call(scope||this,this[i],i,this)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(searchElement){if(null===this||void 0===this)throw new TypeError;var t=Object(this),len=t.length>>>0;if(0===len)return-1;var n=0;if(arguments.length>0&&(n=Number(arguments[1]),n!=n?n=0:0!==n&&1/0!=n&&n!=-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=len)return-1;for(var k=n>=0?n:Math.max(len-Math.abs(n),0);len>k;k++)if(k in t&&t[k]===searchElement)return k;return-1}),\"function\"!=typeof Object.create&&(Object.create=function(o){return F.prototype=o,new F}),\"function\"!=typeof Object.keys&&(Object.keys=function(o){var k,a=[];for(k in o)is_own(o,k)&&a.push(k);return a});var lex=function lex(){function nextLine(){var at,match,tw;return line>=lines.length?!1:(character=1,s=lines[line],line+=1,option.smarttabs?(match=s.match(/(\\/\\/)? \\t/),at=match&&!match[1]?0:-1):at=s.search(/ \\t|\\t [^\\*]/),at>=0&&warningAt(\"Mixed spaces and tabs.\",line,at+1),s=s.replace(/\\t/g,tab),at=s.search(cx),at>=0&&warningAt(\"Unsafe character.\",line,at),option.maxlen&&option.maxlen<s.length&&warningAt(\"Line too long.\",line,s.length),tw=option.trailing&&s.match(/^(.*?)\\s+$/),tw&&!/^\\s+$/.test(s)&&warningAt(\"Trailing whitespace.\",line,tw[1].length+1),!0)}function it(type,value){function checkName(name){if(!option.proto&&\"__proto__\"===name)return warningAt(\"The '{a}' property is deprecated.\",line,from,name),void 0;if(!option.iterator&&\"__iterator__\"===name)return warningAt(\"'{a}' is only available in JavaScript 1.7.\",line,from,name),void 0;var hasDangling=/^(_+.*|.*_+)$/.test(name);if(option.nomen&&hasDangling&&\"_\"!==name){if(option.node&&\".\"!==token.id&&/^(__dirname|__filename)$/.test(name))return;return warningAt(\"Unexpected {a} in '{b}'.\",line,from,\"dangling '_'\",name),void 0}option.camelcase&&name.replace(/^_+/,\"\").indexOf(\"_\")>-1&&!name.match(/^[A-Z0-9_]*$/)&&warningAt(\"Identifier '{a}' is not in camel case.\",line,from,value)}var i,t;return t=\"(color)\"===type||\"(range)\"===type?{type:type}:\"(punctuator)\"===type||\"(identifier)\"===type&&is_own(syntax,value)?syntax[value]||syntax[\"(error)\"]:syntax[type],t=Object.create(t),(\"(string)\"===type||\"(range)\"===type)&&!option.scripturl&&jx.test(value)&&warningAt(\"Script URL.\",line,from),\"(identifier)\"===type&&(t.identifier=!0,checkName(value)),t.value=value,t.line=line,t.character=character,t.from=from,i=t.id,\"(endline)\"!==i&&(prereg=i&&(\"(,=:[!&|?{};\".indexOf(i.charAt(i.length-1))>=0||\"return\"===i||\"case\"===i)),t}var character,from,line,s;return{init:function(source){lines=\"string\"==typeof source?source.replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\").split(\"\\n\"):source,lines[0]&&\"#!\"===lines[0].substr(0,2)&&(lines[0]=\"\"),line=0,nextLine(),from=1},range:function(begin,end){var c,value=\"\";for(from=character,s.charAt(0)!==begin&&errorAt(\"Expected '{a}' and instead saw '{b}'.\",line,character,begin,s.charAt(0));;){switch(s=s.slice(1),character+=1,c=s.charAt(0)){case\"\":errorAt(\"Missing '{a}'.\",line,character,c);break;case end:return s=s.slice(1),character+=1,it(\"(range)\",value);case\"\\\\\":warningAt(\"Unexpected '{a}'.\",line,character,c)}value+=c}},token:function(){function match(x){var r1,r=x.exec(s);return r?(l=r[0].length,r1=r[1],c=r1.charAt(0),s=s.substr(l),from=character+l-r1.length,character+=l,r1):void 0}function string(x){function esc(n){var i=parseInt(s.substr(j+1,n),16);j+=n,i>=32&&126>=i&&34!==i&&92!==i&&39!==i&&warningAt(\"Unnecessary escapement.\",line,character),character+=n,c=String.fromCharCode(i)}var c,j,r=\"\",allowNewLine=!1;jsonmode&&'\"'!==x&&warningAt(\"Strings must use doublequote.\",line,character),option.quotmark&&(\"single\"===option.quotmark&&\"'\"!==x?warningAt(\"Strings must use singlequote.\",line,character):\"double\"===option.quotmark&&'\"'!==x?warningAt(\"Strings must use doublequote.\",line,character):option.quotmark===!0&&(quotmark=quotmark||x,quotmark!==x&&warningAt(\"Mixed double and single quotes.\",line,character))),j=0;unclosedString:for(;;){for(;j>=s.length;){j=0;var cl=line,cf=from;if(!nextLine()){errorAt(\"Unclosed string.\",cl,cf);break unclosedString}allowNewLine?allowNewLine=!1:warningAt(\"Unclosed string.\",cl,cf)}if(c=s.charAt(j),c===x)return character+=1,s=s.substr(j+1),it(\"(string)\",r,x);if(\" \">c){if(\"\\n\"===c||\"\\r\"===c)break;warningAt(\"Control character in string: {a}.\",line,character+j,s.slice(0,j))}else if(\"\\\\\"===c)switch(j+=1,character+=1,c=s.charAt(j),n=s.charAt(j+1),c){case\"\\\\\":case'\"':case\"/\":break;case\"'\":jsonmode&&warningAt(\"Avoid \\\\'.\",line,character);break;case\"b\":c=\"\\b\";break;case\"f\":c=\"\\f\";break;case\"n\":c=\"\\n\";break;case\"r\":c=\"\\r\";break;case\"t\":c=\"\t\";break;case\"0\":c=\"\\0\",n>=0&&7>=n&&directive[\"use strict\"]&&warningAt(\"Octal literals are not allowed in strict mode.\",line,character);break;case\"u\":esc(4);break;case\"v\":jsonmode&&warningAt(\"Avoid \\\\v.\",line,character),c=\"\u000b\";break;case\"x\":jsonmode&&warningAt(\"Avoid \\\\x-.\",line,character),esc(2);break;case\"\":if(allowNewLine=!0,option.multistr){jsonmode&&warningAt(\"Avoid EOL escapement.\",line,character),c=\"\",character-=1;break}warningAt(\"Bad escapement of EOL. Use option multistr if needed.\",line,character);break;case\"!\":if(\"<\"===s.charAt(j-2))break;default:warningAt(\"Bad escapement.\",line,character)}r+=c,character+=1,j+=1}}for(var b,c,captures,d,depth,high,i,l,low,q,t,isLiteral,isInRange,n;;){if(!s)return it(nextLine()?\"(endline)\":\"(end)\",\"\");if(t=match(tx)){if(isAlpha(c)||\"_\"===c||\"$\"===c)return it(\"(identifier)\",t);if(isDigit(c))return isFinite(Number(t))||warningAt(\"Bad number '{a}'.\",line,character,t),isAlpha(s.substr(0,1))&&warningAt(\"Missing space after '{a}'.\",line,character,t),\"0\"===c&&(d=t.substr(1,1),isDigit(d)?\".\"!==token.id&&warningAt(\"Don't use extra leading zeros '{a}'.\",line,character,t):!jsonmode||\"x\"!==d&&\"X\"!==d||warningAt(\"Avoid 0x-. '{a}'.\",line,character,t)),\".\"===t.substr(t.length-1)&&warningAt(\"A trailing decimal point can be confused with a dot '{a}'.\",line,character,t),it(\"(number)\",t);switch(t){case'\"':case\"'\":return string(t);case\"//\":s=\"\",token.comment=!0;break;case\"/*\":for(;i=s.search(lx),!(i>=0);)nextLine()||errorAt(\"Unclosed comment.\",line,character);s=s.substr(i+2),token.comment=!0;break;case\"/*members\":case\"/*member\":case\"/*jshint\":case\"/*jslint\":case\"/*global\":case\"*/\":return{value:t,type:\"special\",line:line,character:character,from:from};case\"\":break;case\"/\":if(\"=\"===s.charAt(0)&&errorAt(\"A regular expression literal can be confused with '/='.\",line,from),prereg){for(depth=0,captures=0,l=0;;){switch(b=!0,c=s.charAt(l),l+=1,c){case\"\":return errorAt(\"Unclosed regular expression.\",line,from),quit(\"Stopping.\",line,from);case\"/\":for(depth>0&&warningAt(\"{a} unterminated regular expression group(s).\",line,from+l,depth),c=s.substr(0,l-1),q={g:!0,i:!0,m:!0};q[s.charAt(l)]===!0;)q[s.charAt(l)]=!1,l+=1;return character+=l,s=s.substr(l),q=s.charAt(0),(\"/\"===q||\"*\"===q)&&errorAt(\"Confusing regular expression.\",line,from),it(\"(regexp)\",c);case\"\\\\\":c=s.charAt(l),\" \">c?warningAt(\"Unexpected control character in regular expression.\",line,from+l):\"<\"===c&&warningAt(\"Unexpected escaped character '{a}' in regular expression.\",line,from+l,c),l+=1;break;case\"(\":if(depth+=1,b=!1,\"?\"===s.charAt(l))switch(l+=1,s.charAt(l)){case\":\":case\"=\":case\"!\":l+=1;break;default:warningAt(\"Expected '{a}' and instead saw '{b}'.\",line,from+l,\":\",s.charAt(l))}else captures+=1;break;case\"|\":b=!1;break;case\")\":0===depth?warningAt(\"Unescaped '{a}'.\",line,from+l,\")\"):depth-=1;break;case\" \":for(q=1;\" \"===s.charAt(l);)l+=1,q+=1;q>1&&warningAt(\"Spaces are hard to count. Use {{a}}.\",line,from+l,q);break;case\"[\":c=s.charAt(l),\"^\"===c&&(l+=1,\"]\"===s.charAt(l)&&errorAt(\"Unescaped '{a}'.\",line,from+l,\"^\")),\"]\"===c&&warningAt(\"Empty class.\",line,from+l-1),isLiteral=!1,isInRange=!1;klass:do switch(c=s.charAt(l),l+=1,c){case\"[\":case\"^\":warningAt(\"Unescaped '{a}'.\",line,from+l,c),isInRange?isInRange=!1:isLiteral=!0;break;case\"-\":isLiteral&&!isInRange?(isLiteral=!1,isInRange=!0):isInRange?isInRange=!1:\"]\"===s.charAt(l)?isInRange=!0:(option.regexdash!==(2===l||3===l&&\"^\"===s.charAt(1))&&warningAt(\"Unescaped '{a}'.\",line,from+l-1,\"-\"),isLiteral=!0);break;case\"]\":isInRange&&!option.regexdash&&warningAt(\"Unescaped '{a}'.\",line,from+l-1,\"-\");break klass;case\"\\\\\":c=s.charAt(l),\" \">c?warningAt(\"Unexpected control character in regular expression.\",line,from+l):\"<\"===c&&warningAt(\"Unexpected escaped character '{a}' in regular expression.\",line,from+l,c),l+=1,/[wsd]/i.test(c)?(isInRange&&(warningAt(\"Unescaped '{a}'.\",line,from+l,\"-\"),isInRange=!1),isLiteral=!1):isInRange?isInRange=!1:isLiteral=!0;break;case\"/\":warningAt(\"Unescaped '{a}'.\",line,from+l-1,\"/\"),isInRange?isInRange=!1:isLiteral=!0;break;case\"<\":isInRange?isInRange=!1:isLiteral=!0;break;default:isInRange?isInRange=!1:isLiteral=!0}while(c);break;case\".\":option.regexp&&warningAt(\"Insecure '{a}'.\",line,from+l,c);break;case\"]\":case\"?\":case\"{\":case\"}\":case\"+\":case\"*\":warningAt(\"Unescaped '{a}'.\",line,from+l,c)}if(b)switch(s.charAt(l)){case\"?\":case\"+\":case\"*\":l+=1,\"?\"===s.charAt(l)&&(l+=1);break;case\"{\":if(l+=1,c=s.charAt(l),\"0\">c||c>\"9\"){warningAt(\"Expected a number and instead saw '{a}'.\",line,from+l,c);break}for(l+=1,low=+c;c=s.charAt(l),!(\"0\">c||c>\"9\");)l+=1,low=+c+10*low;if(high=low,\",\"===c&&(l+=1,high=1/0,c=s.charAt(l),c>=\"0\"&&\"9\">=c))for(l+=1,high=+c;c=s.charAt(l),!(\"0\">c||c>\"9\");)l+=1,high=+c+10*high;\"}\"!==s.charAt(l)?warningAt(\"Expected '{a}' and instead saw '{b}'.\",line,from+l,\"}\",c):l+=1,\"?\"===s.charAt(l)&&(l+=1),low>high&&warningAt(\"'{a}' should not be greater than '{b}'.\",line,from+l,low,high)}}return c=s.substr(0,l-1),character+=l,s=s.substr(l),it(\"(regexp)\",c)}return it(\"(punctuator)\",t);case\"#\":return it(\"(punctuator)\",t);default:return it(\"(punctuator)\",t)}}else{for(t=\"\",c=\"\";s&&\"!\">s;)s=s.substr(1);s&&(errorAt(\"Unexpected '{a}'.\",line,character,s.substr(0,1)),s=\"\")}}}}}();type(\"(number)\",function(){return this}),type(\"(string)\",function(){return this}),syntax[\"(identifier)\"]={type:\"(identifier)\",lbp:0,identifier:!0,nud:function(){var f,v=this.value,s=scope[v];if(\"function\"==typeof s?s=void 0:\"boolean\"==typeof s&&(f=funct,funct=functions[0],addlabel(v,\"var\"),s=funct,funct=f),funct===s)switch(funct[v]){case\"unused\":funct[v]=\"var\";break;case\"unction\":funct[v]=\"function\",this[\"function\"]=!0;break;case\"function\":this[\"function\"]=!0;break;case\"label\":warning(\"'{a}' is a statement label.\",token,v)}else if(funct[\"(global)\"])option.undef&&\"boolean\"!=typeof predefined[v]&&(\"typeof\"!==anonname&&\"delete\"!==anonname||nexttoken&&(\".\"===nexttoken.value||\"[\"===nexttoken.value))&&isundef(funct,\"'{a}' is not defined.\",token,v),note_implied(token);else switch(funct[v]){case\"closure\":case\"function\":case\"var\":case\"unused\":warning(\"'{a}' used out of scope.\",token,v);break;case\"label\":warning(\"'{a}' is a statement label.\",token,v);break;case\"outer\":case\"global\":break;default:if(s===!0)funct[v]=!0;else if(null===s)warning(\"'{a}' is not allowed.\",token,v),note_implied(token);else if(\"object\"!=typeof s)option.undef&&(\"typeof\"!==anonname&&\"delete\"!==anonname||nexttoken&&(\".\"===nexttoken.value||\"[\"===nexttoken.value))&&isundef(funct,\"'{a}' is not defined.\",token,v),funct[v]=!0,note_implied(token);else switch(s[v]){case\"function\":case\"unction\":this[\"function\"]=!0,s[v]=\"closure\",funct[v]=s[\"(global)\"]?\"global\":\"outer\";break;case\"var\":case\"unused\":s[v]=\"closure\",funct[v]=s[\"(global)\"]?\"global\":\"outer\";break;case\"closure\":funct[v]=s[\"(global)\"]?\"global\":\"outer\";break;case\"label\":warning(\"'{a}' is a statement label.\",token,v)}}return this},led:function(){error(\"Expected an operator and instead saw '{a}'.\",nexttoken,nexttoken.value)}},type(\"(regexp)\",function(){return this}),delim(\"(endline)\"),delim(\"(begin)\"),delim(\"(end)\").reach=!0,delim(\"</\").reach=!0,delim(\"<!\"),delim(\"<!--\"),delim(\"-->\"),delim(\"(error)\").reach=!0,delim(\"}\").reach=!0,delim(\")\"),delim(\"]\"),delim('\"').reach=!0,delim(\"'\").reach=!0,delim(\";\"),delim(\":\").reach=!0,delim(\",\"),delim(\"#\"),delim(\"@\"),reserve(\"else\"),reserve(\"case\").reach=!0,reserve(\"catch\"),reserve(\"default\").reach=!0,reserve(\"finally\"),reservevar(\"arguments\",function(x){directive[\"use strict\"]&&funct[\"(global)\"]&&warning(\"Strict violation.\",x)}),reservevar(\"eval\"),reservevar(\"false\"),reservevar(\"Infinity\"),reservevar(\"null\"),reservevar(\"this\",function(x){directive[\"use strict\"]&&!option.validthis&&(funct[\"(statement)\"]&&funct[\"(name)\"].charAt(0)>\"Z\"||funct[\"(global)\"])&&warning(\"Possible strict violation.\",x)}),reservevar(\"true\"),reservevar(\"undefined\"),assignop(\"=\",\"assign\",20),assignop(\"+=\",\"assignadd\",20),assignop(\"-=\",\"assignsub\",20),assignop(\"*=\",\"assignmult\",20),assignop(\"/=\",\"assigndiv\",20).nud=function(){error(\"A regular expression literal can be confused with '/='.\")},assignop(\"%=\",\"assignmod\",20),bitwiseassignop(\"&=\",\"assignbitand\",20),bitwiseassignop(\"|=\",\"assignbitor\",20),bitwiseassignop(\"^=\",\"assignbitxor\",20),bitwiseassignop(\"<<=\",\"assignshiftleft\",20),bitwiseassignop(\">>=\",\"assignshiftright\",20),bitwiseassignop(\">>>=\",\"assignshiftrightunsigned\",20),infix(\"?\",function(left,that){return that.left=left,that.right=expression(10),advance(\":\"),that[\"else\"]=expression(10),that},30),infix(\"||\",\"or\",40),infix(\"&&\",\"and\",50),bitwise(\"|\",\"bitor\",70),bitwise(\"^\",\"bitxor\",80),bitwise(\"&\",\"bitand\",90),relation(\"==\",function(left,right){var eqnull=option.eqnull&&(\"null\"===left.value||\"null\"===right.value);return!eqnull&&option.eqeqeq?warning(\"Expected '{a}' and instead saw '{b}'.\",this,\"===\",\"==\"):isPoorRelation(left)?warning(\"Use '{a}' to compare with '{b}'.\",this,\"===\",left.value):isPoorRelation(right)&&warning(\"Use '{a}' to compare with '{b}'.\",this,\"===\",right.value),this}),relation(\"===\"),relation(\"!=\",function(left,right){var eqnull=option.eqnull&&(\"null\"===left.value||\"null\"===right.value);return!eqnull&&option.eqeqeq?warning(\"Expected '{a}' and instead saw '{b}'.\",this,\"!==\",\"!=\"):isPoorRelation(left)?warning(\"Use '{a}' to compare with '{b}'.\",this,\"!==\",left.value):isPoorRelation(right)&&warning(\"Use '{a}' to compare with '{b}'.\",this,\"!==\",right.value),this}),relation(\"!==\"),relation(\"<\"),relation(\">\"),relation(\"<=\"),relation(\">=\"),bitwise(\"<<\",\"shiftleft\",120),bitwise(\">>\",\"shiftright\",120),bitwise(\">>>\",\"shiftrightunsigned\",120),infix(\"in\",\"in\",120),infix(\"instanceof\",\"instanceof\",120),infix(\"+\",function(left,that){var right=expression(130);return left&&right&&\"(string)\"===left.id&&\"(string)\"===right.id?(left.value+=right.value,left.character=right.character,!option.scripturl&&jx.test(left.value)&&warning(\"JavaScript URL.\",left),left):(that.left=left,that.right=right,that)},130),prefix(\"+\",\"num\"),prefix(\"+++\",function(){return warning(\"Confusing pluses.\"),this.right=expression(150),this.arity=\"unary\",this}),infix(\"+++\",function(left){return warning(\"Confusing pluses.\"),this.left=left,this.right=expression(130),this},130),infix(\"-\",\"sub\",130),prefix(\"-\",\"neg\"),prefix(\"---\",function(){return warning(\"Confusing minuses.\"),this.right=expression(150),this.arity=\"unary\",this}),infix(\"---\",function(left){return warning(\"Confusing minuses.\"),this.left=left,this.right=expression(130),this},130),infix(\"*\",\"mult\",140),infix(\"/\",\"div\",140),infix(\"%\",\"mod\",140),suffix(\"++\",\"postinc\"),prefix(\"++\",\"preinc\"),syntax[\"++\"].exps=!0,suffix(\"--\",\"postdec\"),prefix(\"--\",\"predec\"),syntax[\"--\"].exps=!0,prefix(\"delete\",function(){var p=expression(0);return(!p||\".\"!==p.id&&\"[\"!==p.id)&&warning(\"Variables should not be deleted.\"),this.first=p,this}).exps=!0,prefix(\"~\",function(){return option.bitwise&&warning(\"Unexpected '{a}'.\",this,\"~\"),expression(150),this}),prefix(\"!\",function(){return this.right=expression(150),this.arity=\"unary\",bang[this.right.id]===!0&&warning(\"Confusing use of '{a}'.\",this,\"!\"),this}),prefix(\"typeof\",\"typeof\"),prefix(\"new\",function(){var i,c=expression(155);if(c&&\"function\"!==c.id)if(c.identifier)switch(c[\"new\"]=!0,c.value){case\"Number\":case\"String\":case\"Boolean\":case\"Math\":case\"JSON\":warning(\"Do not use {a} as a constructor.\",prevtoken,c.value);break;case\"Function\":option.evil||warning(\"The Function constructor is eval.\");break;case\"Date\":case\"RegExp\":break;default:\"function\"!==c.id&&(i=c.value.substr(0,1),option.newcap&&(\"A\">i||i>\"Z\")&&!is_own(global,c.value)&&warning(\"A constructor name should start with an uppercase letter.\",token))}else\".\"!==c.id&&\"[\"!==c.id&&\"(\"!==c.id&&warning(\"Bad constructor.\",token);else option.supernew||warning(\"Weird construction. Delete 'new'.\",this);return adjacent(token,nexttoken),\"(\"===nexttoken.id||option.supernew||warning(\"Missing '()' invoking a constructor.\",token,token.value),this.first=c,this}),syntax[\"new\"].exps=!0,prefix(\"void\").exps=!0,infix(\".\",function(left,that){adjacent(prevtoken,token),nobreak();var m=identifier();return\"string\"==typeof m&&countMember(m),that.left=left,that.right=m,!left||\"arguments\"!==left.value||\"callee\"!==m&&\"caller\"!==m?option.evil||!left||\"document\"!==left.value||\"write\"!==m&&\"writeln\"!==m||warning(\"document.write can be a form of eval.\",left):option.noarg?warning(\"Avoid arguments.{a}.\",left,m):directive[\"use strict\"]&&error(\"Strict violation.\"),option.evil||\"eval\"!==m&&\"execScript\"!==m||warning(\"eval is evil.\"),that},160,!0),infix(\"(\",function(left,that){\"}\"!==prevtoken.id&&\")\"!==prevtoken.id&&nobreak(prevtoken,token),nospace(),option.immed&&!left.immed&&\"function\"===left.id&&warning(\"Wrap an immediate function invocation in parentheses to assist the reader in understanding that the expression is the result of a function, and not the function itself.\");var n=0,p=[];if(left&&\"(identifier)\"===left.type&&left.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)&&-1===\"Number String Boolean Date Object\".indexOf(left.value)&&(\"Math\"===left.value?warning(\"Math is not a function.\",left):option.newcap&&warning(\"Missing 'new' prefix when invoking a constructor.\",left)),\")\"!==nexttoken.id)for(;p[p.length]=expression(10),n+=1,\",\"===nexttoken.id;)comma();return advance(\")\"),nospace(prevtoken,token),\"object\"==typeof left&&(\"parseInt\"===left.value&&1===n&&warning(\"Missing radix parameter.\",token),option.evil||(\"eval\"===left.value||\"Function\"===left.value||\"execScript\"===left.value?(warning(\"eval is evil.\",left),p[0]&&\"(string)\"===[0].id&&addInternalSrc(left,p[0].value)):!p[0]||\"(string)\"!==p[0].id||\"setTimeout\"!==left.value&&\"setInterval\"!==left.value?!p[0]||\"(string)\"!==p[0].id||\".\"!==left.value||\"window\"!==left.left.value||\"setTimeout\"!==left.right&&\"setInterval\"!==left.right||(warning(\"Implied eval is evil. Pass a function instead of a string.\",left),addInternalSrc(left,p[0].value)):(warning(\"Implied eval is evil. Pass a function instead of a string.\",left),addInternalSrc(left,p[0].value))),left.identifier||\".\"===left.id||\"[\"===left.id||\"(\"===left.id||\"&&\"===left.id||\"||\"===left.id||\"?\"===left.id||warning(\"Bad invocation.\",left)),that.left=left,that},155,!0).exps=!0,prefix(\"(\",function(){nospace(),\"function\"===nexttoken.id&&(nexttoken.immed=!0);var v=expression(0);return advance(\")\",this),nospace(prevtoken,token),option.immed&&\"function\"===v.id&&\"(\"!==nexttoken.id&&(\".\"!==nexttoken.id||\"call\"!==peek().value&&\"apply\"!==peek().value)&&warning(\"Do not wrap function literals in parens unless they are to be immediately invoked.\",this),v}),infix(\"[\",function(left,that){nobreak(prevtoken,token),nospace();var s,e=expression(0);return e&&\"(string)\"===e.type&&(option.evil||\"eval\"!==e.value&&\"execScript\"!==e.value||warning(\"eval is evil.\",that),countMember(e.value),!option.sub&&ix.test(e.value)&&(s=syntax[e.value],s&&s.reserved||warning(\"['{a}'] is better written in dot notation.\",prevtoken,e.value))),advance(\"]\",that),nospace(prevtoken,token),that.left=left,that.right=e,that},160,!0),prefix(\"[\",function(){var b=token.line!==nexttoken.line;for(this.first=[],b&&(indent+=option.indent,nexttoken.from===indent+option.indent&&(indent+=option.indent));\"(end)\"!==nexttoken.id;){for(;\",\"===nexttoken.id;)option.es5||warning(\"Extra comma.\"),advance(\",\");if(\"]\"===nexttoken.id)break;if(b&&token.line!==nexttoken.line&&indentation(),this.first.push(expression(10)),\",\"!==nexttoken.id)break;if(comma(),\"]\"===nexttoken.id&&!option.es5){warning(\"Extra comma.\",token);break}}return b&&(indent-=option.indent,indentation()),advance(\"]\",this),this},160),function(x){x.nud=function(){function saveProperty(name,token){props[name]&&is_own(props,name)?warning(\"Duplicate member '{a}'.\",nexttoken,i):props[name]={},props[name].basic=!0,props[name].basicToken=token}function saveSetter(name,token){props[name]&&is_own(props,name)?(props[name].basic||props[name].setter)&&warning(\"Duplicate member '{a}'.\",nexttoken,i):props[name]={},props[name].setter=!0,props[name].setterToken=token}function saveGetter(name){props[name]&&is_own(props,name)?(props[name].basic||props[name].getter)&&warning(\"Duplicate member '{a}'.\",nexttoken,i):props[name]={},props[name].getter=!0,props[name].getterToken=token}var b,f,i,p,t,props={};for(b=token.line!==nexttoken.line,b&&(indent+=option.indent,nexttoken.from===indent+option.indent&&(indent+=option.indent));\"}\"!==nexttoken.id;){if(b&&indentation(),\"get\"===nexttoken.value&&\":\"!==peek().id)advance(\"get\"),option.es5||error(\"get/set are ES5 features.\"),i=property_name(),i||error(\"Missing property name.\"),saveGetter(i),t=nexttoken,adjacent(token,nexttoken),f=doFunction(),p=f[\"(params)\"],p&&warning(\"Unexpected parameter '{a}' in get {b} function.\",t,p[0],i),adjacent(token,nexttoken);else if(\"set\"===nexttoken.value&&\":\"!==peek().id)advance(\"set\"),option.es5||error(\"get/set are ES5 features.\"),i=property_name(),i||error(\"Missing property name.\"),saveSetter(i,nexttoken),t=nexttoken,adjacent(token,nexttoken),f=doFunction(),p=f[\"(params)\"],p&&1===p.length||warning(\"Expected a single parameter in set {a} function.\",t,i);else{if(i=property_name(),saveProperty(i,nexttoken),\"string\"!=typeof i)break;advance(\":\"),nonadjacent(token,nexttoken),expression(10)}if(countMember(i),\",\"!==nexttoken.id)break;comma(),\",\"===nexttoken.id?warning(\"Extra comma.\",token):\"}\"!==nexttoken.id||option.es5||warning(\"Extra comma.\",token)}if(b&&(indent-=option.indent,indentation()),advance(\"}\",this),option.es5)for(var name in props)is_own(props,name)&&props[name].setter&&!props[name].getter&&warning(\"Setter is defined without getter.\",props[name].setterToken);return this},x.fud=function(){error(\"Expected to see a statement and instead saw a block.\",token)}}(delim(\"{\")),useESNextSyntax=function(){var conststatement=stmt(\"const\",function(prefix){var id,name,value;for(this.first=[];(nonadjacent(token,nexttoken),id=identifier(),\"const\"===funct[id]&&warning(\"const '\"+id+\"' has already been declared\"),funct[\"(global)\"]&&predefined[id]===!1&&warning(\"Redefinition of '{a}'.\",token,id),addlabel(id,\"const\"),!prefix)&&(name=token,this.first.push(token),\"=\"!==nexttoken.id&&warning(\"const '{a}' is initialized to 'undefined'.\",token,id),\"=\"===nexttoken.id&&(nonadjacent(token,nexttoken),advance(\"=\"),nonadjacent(token,nexttoken),\"undefined\"===nexttoken.id&&warning(\"It is not necessary to initialize '{a}' to 'undefined'.\",token,id),\"=\"===peek(0).id&&nexttoken.identifier&&error(\"Constant {a} was not declared correctly.\",nexttoken,nexttoken.value),value=expression(0),name.first=value),\",\"===nexttoken.id);)comma();return this});conststatement.exps=!0};var varstatement=stmt(\"var\",function(prefix){var id,name,value;for(funct[\"(onevar)\"]&&option.onevar?warning(\"Too many var statements.\"):funct[\"(global)\"]||(funct[\"(onevar)\"]=!0),this.first=[];(nonadjacent(token,nexttoken),id=identifier(),option.esnext&&\"const\"===funct[id]&&warning(\"const '\"+id+\"' has already been declared\"),funct[\"(global)\"]&&predefined[id]===!1&&warning(\"Redefinition of '{a}'.\",token,id),addlabel(id,\"unused\",token),!prefix)&&(name=token,this.first.push(token),\"=\"===nexttoken.id&&(nonadjacent(token,nexttoken),advance(\"=\"),nonadjacent(token,nexttoken),\"undefined\"===nexttoken.id&&warning(\"It is not necessary to initialize '{a}' to 'undefined'.\",token,id),\"=\"===peek(0).id&&nexttoken.identifier&&error(\"Variable {a} was not declared correctly.\",nexttoken,nexttoken.value),value=expression(0),name.first=value),\",\"===nexttoken.id);)comma();return this});varstatement.exps=!0,blockstmt(\"function\",function(){inblock&&warning(\"Function declarations should not be placed in blocks. Use a function expression or move the statement to the top of the outer function.\",token);var i=identifier();return option.esnext&&\"const\"===funct[i]&&warning(\"const '\"+i+\"' has already been declared\"),adjacent(token,nexttoken),addlabel(i,\"unction\",token),doFunction(i,{statement:!0}),\"(\"===nexttoken.id&&nexttoken.line===token.line&&error(\"Function declarations are not invocable. Wrap the whole function invocation in parens.\"),this}),prefix(\"function\",function(){var i=optionalidentifier();return i?adjacent(token,nexttoken):nonadjacent(token,nexttoken),doFunction(i),!option.loopfunc&&funct[\"(loopage)\"]&&warning(\"Don't make functions within a loop.\"),this}),blockstmt(\"if\",function(){var t=nexttoken;return increaseComplexityCount(),advance(\"(\"),nonadjacent(this,t),nospace(),expression(20),\"=\"===nexttoken.id&&(option.boss||warning(\"Assignment in conditional expression\"),advance(\"=\"),expression(20)),advance(\")\",t),nospace(prevtoken,token),block(!0,!0),\"else\"===nexttoken.id&&(nonadjacent(token,nexttoken),advance(\"else\"),\"if\"===nexttoken.id||\"switch\"===nexttoken.id?statement(!0):block(!0,!0)),this}),blockstmt(\"try\",function(){function doCatch(){var e,oldScope=scope;advance(\"catch\"),nonadjacent(token,nexttoken),advance(\"(\"),scope=Object.create(oldScope),e=nexttoken.value,\"(identifier)\"!==nexttoken.type&&(e=null,warning(\"Expected an identifier and instead saw '{a}'.\",nexttoken,e)),advance(),advance(\")\"),funct={\"(name)\":\"(catch)\",\"(line)\":nexttoken.line,\"(character)\":nexttoken.character,\"(context)\":funct,\"(breakage)\":funct[\"(breakage)\"],\"(loopage)\":funct[\"(loopage)\"],\"(scope)\":scope,\"(statement)\":!1,\"(metrics)\":createMetrics(nexttoken),\"(catch)\":!0,\"(tokens)\":{}},e&&addlabel(e,\"exception\"),token.funct=funct,functions.push(funct),block(!1),scope=oldScope,funct[\"(last)\"]=token.line,funct[\"(lastcharacter)\"]=token.character,funct=funct[\"(context)\"]}var b;return block(!1),\"catch\"===nexttoken.id&&(increaseComplexityCount(),doCatch(),b=!0),\"finally\"===nexttoken.id?(advance(\"finally\"),block(!1),void 0):(b||error(\"Expected '{a}' and instead saw '{b}'.\",nexttoken,\"catch\",nexttoken.value),this)}),blockstmt(\"while\",function(){var t=nexttoken;return funct[\"(breakage)\"]+=1,funct[\"(loopage)\"]+=1,increaseComplexityCount(),advance(\"(\"),nonadjacent(this,t),nospace(),expression(20),\"=\"===nexttoken.id&&(option.boss||warning(\"Assignment in conditional expression\"),advance(\"=\"),expression(20)),advance(\")\",t),nospace(prevtoken,token),block(!0,!0),funct[\"(breakage)\"]-=1,funct[\"(loopage)\"]-=1,this}).labelled=!0,blockstmt(\"with\",function(){var t=nexttoken;return directive[\"use strict\"]?error(\"'with' is not allowed in strict mode.\",token):option.withstmt||warning(\"Don't use 'with'.\",token),advance(\"(\"),nonadjacent(this,t),nospace(),expression(0),advance(\")\",t),nospace(prevtoken,token),block(!0,!0),this}),blockstmt(\"switch\",function(){var t=nexttoken,g=!1;for(funct[\"(breakage)\"]+=1,advance(\"(\"),nonadjacent(this,t),nospace(),this.condition=expression(20),advance(\")\",t),nospace(prevtoken,token),nonadjacent(token,nexttoken),t=nexttoken,advance(\"{\"),nonadjacent(token,nexttoken),indent+=option.indent,this.cases=[];;)switch(nexttoken.id){case\"case\":switch(funct[\"(verb)\"]){case\"break\":case\"case\":case\"continue\":case\"return\":case\"switch\":case\"throw\":break;default:ft.test(lines[nexttoken.line-2])||warning(\"Expected a 'break' statement before 'case'.\",token)}indentation(-option.indent),advance(\"case\"),this.cases.push(expression(20)),increaseComplexityCount(),g=!0,advance(\":\"),funct[\"(verb)\"]=\"case\";break;case\"default\":switch(funct[\"(verb)\"]){case\"break\":case\"continue\":case\"return\":case\"throw\":break;default:ft.test(lines[nexttoken.line-2])||warning(\"Expected a 'break' statement before 'default'.\",token)}indentation(-option.indent),advance(\"default\"),g=!0,advance(\":\");break;case\"}\":return indent-=option.indent,indentation(),advance(\"}\",t),(1===this.cases.length||\"true\"===this.condition.id||\"false\"===this.condition.id)&&(option.onecase||warning(\"This 'switch' should be an 'if'.\",this)),funct[\"(breakage)\"]-=1,funct[\"(verb)\"]=void 0,void 0;case\"(end)\":return error(\"Missing '{a}'.\",nexttoken,\"}\"),void 0;default:if(g)switch(token.id){case\",\":return error(\"Each value should have its own case label.\"),void 0;case\":\":g=!1,statements();break;default:return error(\"Missing ':' on a case clause.\",token),void 0}else{if(\":\"!==token.id)return error(\"Expected '{a}' and instead saw '{b}'.\",nexttoken,\"case\",nexttoken.value),void 0;advance(\":\"),error(\"Unexpected '{a}'.\",token,\":\"),statements()}}}).labelled=!0,stmt(\"debugger\",function(){return option.debug||warning(\"All 'debugger' statements should be removed.\"),this}).exps=!0,function(){var x=stmt(\"do\",function(){funct[\"(breakage)\"]+=1,funct[\"(loopage)\"]+=1,increaseComplexityCount(),this.first=block(!0),advance(\"while\");var t=nexttoken;return nonadjacent(token,t),advance(\"(\"),nospace(),expression(20),\"=\"===nexttoken.id&&(option.boss||warning(\"Assignment in conditional expression\"),advance(\"=\"),expression(20)),advance(\")\",t),nospace(prevtoken,token),funct[\"(breakage)\"]-=1,funct[\"(loopage)\"]-=1,this});x.labelled=!0,x.exps=!0}(),blockstmt(\"for\",function(){var s,t=nexttoken;if(funct[\"(breakage)\"]+=1,funct[\"(loopage)\"]+=1,increaseComplexityCount(),advance(\"(\"),nonadjacent(this,t),nospace(),\"in\"===peek(\"var\"===nexttoken.id?1:0).id){if(\"var\"===nexttoken.id)advance(\"var\"),varstatement.fud.call(varstatement,!0);else{switch(funct[nexttoken.value]){case\"unused\":funct[nexttoken.value]=\"var\";break;case\"var\":break;default:warning(\"Bad for in variable '{a}'.\",nexttoken,nexttoken.value)}advance()}return advance(\"in\"),expression(20),advance(\")\",t),s=block(!0,!0),option.forin&&s&&(s.length>1||\"object\"!=typeof s[0]||\"if\"!==s[0].value)&&warning(\"The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype.\",this),funct[\"(breakage)\"]-=1,funct[\"(loopage)\"]-=1,this}if(\";\"!==nexttoken.id)if(\"var\"===nexttoken.id)advance(\"var\"),varstatement.fud.call(varstatement);else for(;expression(0,\"for\"),\",\"===nexttoken.id;)comma();if(nolinebreak(token),advance(\";\"),\";\"!==nexttoken.id&&(expression(20),\"=\"===nexttoken.id&&(option.boss||warning(\"Assignment in conditional expression\"),advance(\"=\"),expression(20))),nolinebreak(token),advance(\";\"),\";\"===nexttoken.id&&error(\"Expected '{a}' and instead saw '{b}'.\",nexttoken,\")\",\";\"),\")\"!==nexttoken.id)for(;expression(0,\"for\"),\",\"===nexttoken.id;)comma();return advance(\")\",t),nospace(prevtoken,token),block(!0,!0),funct[\"(breakage)\"]-=1,funct[\"(loopage)\"]-=1,this}).labelled=!0,stmt(\"break\",function(){var v=nexttoken.value;return 0===funct[\"(breakage)\"]&&warning(\"Unexpected '{a}'.\",nexttoken,this.value),option.asi||nolinebreak(this),\";\"!==nexttoken.id&&token.line===nexttoken.line&&(\"label\"!==funct[v]?warning(\"'{a}' is not a statement label.\",nexttoken,v):scope[v]!==funct&&warning(\"'{a}' is out of scope.\",nexttoken,v),this.first=nexttoken,advance()),reachable(\"break\"),this\n}).exps=!0,stmt(\"continue\",function(){var v=nexttoken.value;return 0===funct[\"(breakage)\"]&&warning(\"Unexpected '{a}'.\",nexttoken,this.value),option.asi||nolinebreak(this),\";\"!==nexttoken.id?token.line===nexttoken.line&&(\"label\"!==funct[v]?warning(\"'{a}' is not a statement label.\",nexttoken,v):scope[v]!==funct&&warning(\"'{a}' is out of scope.\",nexttoken,v),this.first=nexttoken,advance()):funct[\"(loopage)\"]||warning(\"Unexpected '{a}'.\",nexttoken,this.value),reachable(\"continue\"),this}).exps=!0,stmt(\"return\",function(){return this.line===nexttoken.line?(\"(regexp)\"===nexttoken.id&&warning(\"Wrap the /regexp/ literal in parens to disambiguate the slash operator.\"),\";\"===nexttoken.id||nexttoken.reach||(nonadjacent(token,nexttoken),\"=\"!==peek().value||option.boss||warningAt(\"Did you mean to return a conditional instead of an assignment?\",token.line,token.character+1),this.first=expression(0))):option.asi||nolinebreak(this),reachable(\"return\"),this}).exps=!0,stmt(\"throw\",function(){return nolinebreak(this),nonadjacent(token,nexttoken),this.first=expression(20),reachable(\"throw\"),this}).exps=!0,reserve(\"class\"),reserve(\"const\"),reserve(\"enum\"),reserve(\"export\"),reserve(\"extends\"),reserve(\"import\"),reserve(\"super\"),reserve(\"let\"),reserve(\"yield\"),reserve(\"implements\"),reserve(\"interface\"),reserve(\"package\"),reserve(\"private\"),reserve(\"protected\"),reserve(\"public\"),reserve(\"static\");var itself=function(s,o,g){var a,i,k,x,optionKeys,newOptionObj={};if(o&&o.scope?JSHINT.scope=o.scope:(JSHINT.errors=[],JSHINT.undefs=[],JSHINT.internals=[],JSHINT.blacklist={},JSHINT.scope=\"(main)\"),predefined=Object.create(standard),declared=Object.create(null),combine(predefined,g||{}),o)for(a=o.predef,a&&(Array.isArray(a)||\"object\"!=typeof a||(a=Object.keys(a)),a.forEach(function(item){var slice;\"-\"===item[0]?(slice=item.slice(1),JSHINT.blacklist[slice]=slice):predefined[item]=!0})),optionKeys=Object.keys(o),x=0;optionKeys.length>x;x++)newOptionObj[optionKeys[x]]=o[optionKeys[x]],\"newcap\"===optionKeys[x]&&o[optionKeys[x]]===!1&&(newOptionObj[\"(explicitNewcap)\"]=!0),\"indent\"===optionKeys[x]&&(newOptionObj.white=!0);for(option=newOptionObj,option.indent=option.indent||4,option.maxerr=option.maxerr||50,tab=\"\",i=0;option.indent>i;i+=1)tab+=\" \";if(indent=1,global=Object.create(predefined),scope=global,funct={\"(global)\":!0,\"(name)\":\"(global)\",\"(scope)\":scope,\"(breakage)\":0,\"(loopage)\":0,\"(tokens)\":{},\"(metrics)\":createMetrics(nexttoken)},functions=[funct],urls=[],stack=null,member={},membersOnly=null,implied={},inblock=!1,lookahead=[],jsonmode=!1,warnings=0,lines=[],unuseds=[],!isString(s)&&!Array.isArray(s))return errorAt(\"Input is neither a string nor an array of strings.\",0),!1;if(isString(s)&&/^\\s*$/g.test(s))return errorAt(\"Input is an empty string.\",0),!1;if(0===s.length)return errorAt(\"Input is an empty array.\",0),!1;lex.init(s),prereg=!0,directive={},prevtoken=token=nexttoken=syntax[\"(begin)\"];for(var name in o)is_own(o,name)&&checkOption(name,token);assume(),combine(predefined,g||{}),comma.first=!0,quotmark=void 0;try{switch(advance(),nexttoken.id){case\"{\":case\"[\":option.laxbreak=!0,jsonmode=!0,jsonValue();break;default:directives(),directive[\"use strict\"]&&!option.globalstrict&&warning('Use the function form of \"use strict\".',prevtoken),statements()}advance(nexttoken&&\".\"!==nexttoken.value?\"(end)\":void 0);var markDefined=function(name,context){do{if(\"string\"==typeof context[name])return\"unused\"===context[name]?context[name]=\"var\":\"unction\"===context[name]&&(context[name]=\"closure\"),!0;context=context[\"(context)\"]}while(context);return!1},clearImplied=function(name,line){if(implied[name]){for(var newImplied=[],i=0;implied[name].length>i;i+=1)implied[name][i]!==line&&newImplied.push(implied[name][i]);0===newImplied.length?delete implied[name]:implied[name]=newImplied}},warnUnused=function(name,token){var line=token.line,chr=token.character;option.unused&&warningAt(\"'{a}' is defined but never used.\",line,chr,name),unuseds.push({name:name,line:line,character:chr})},checkUnused=function(func,key){var type=func[key],token=func[\"(tokens)\"][key];\"(\"!==key.charAt(0)&&(\"unused\"===type||\"unction\"===type)&&(func[\"(params)\"]&&-1!==func[\"(params)\"].indexOf(key)||warnUnused(key,token))};for(i=0;JSHINT.undefs.length>i;i+=1)k=JSHINT.undefs[i].slice(0),markDefined(k[2].value,k[0])?clearImplied(k[2].value,k[2].line):warning.apply(warning,k.slice(1));functions.forEach(function(func){for(var key in func)is_own(func,key)&&checkUnused(func,key);if(func[\"(params)\"])for(var type,params=func[\"(params)\"].slice(),param=params.pop();param;){if(type=func[param],\"undefined\"===param)return;if(\"unused\"!==type&&\"unction\"!==type)return;warnUnused(param,func[\"(tokens)\"][param]),param=params.pop()}});for(var key in declared)is_own(declared,key)&&!is_own(global,key)&&warnUnused(key,declared[key])}catch(e){if(e){var nt=nexttoken||{};JSHINT.errors.push({raw:e.raw,reason:e.message,line:e.line||nt.line,character:e.character||nt.from},null)}}if(\"(main)\"===JSHINT.scope)for(o=o||{},i=0;JSHINT.internals.length>i;i+=1)k=JSHINT.internals[i],o.scope=k.elem,itself(k.value,o,g);return 0===JSHINT.errors.length};return itself.data=function(){var fu,f,i,j,n,globals,data={functions:[],options:option},implieds=[],members=[];itself.errors.length&&(data.errors=itself.errors),jsonmode&&(data.json=!0);for(n in implied)is_own(implied,n)&&implieds.push({name:n,line:implied[n]});for(implieds.length>0&&(data.implieds=implieds),urls.length>0&&(data.urls=urls),globals=Object.keys(scope),globals.length>0&&(data.globals=globals),i=1;functions.length>i;i+=1){for(f=functions[i],fu={},j=0;functionicity.length>j;j+=1)fu[functionicity[j]]=[];for(j=0;functionicity.length>j;j+=1)0===fu[functionicity[j]].length&&delete fu[functionicity[j]];fu.name=f[\"(name)\"],fu.param=f[\"(params)\"],fu.line=f[\"(line)\"],fu.character=f[\"(character)\"],fu.last=f[\"(last)\"],fu.lastcharacter=f[\"(lastcharacter)\"],data.functions.push(fu)}unuseds.length>0&&(data.unused=unuseds),members=[];for(n in member)if(\"number\"==typeof member[n]){data.member=member;break}return data},itself.jshint=itself,itself}();\"object\"==typeof exports&&exports&&(exports.JSHINT=JSHINT)});";
},{}],17:[function(require,module,exports){
module.exports.id = 'ace/mode/json_worker';
module.exports.src = "\"no use strict\";(function(window){void 0!==window.window&&window.document||(window.console={log:function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:\"log\",data:msgs})},error:function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:\"log\",data:msgs})}},window.window=window,window.ace=window,window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf(\"!\")){var chunks=moduleName.split(\"!\");return normalizeModule(parentId,chunks[0])+\"!\"+normalizeModule(parentId,chunks[1])}if(\".\"==moduleName.charAt(0)){var base=parentId.split(\"/\").slice(0,-1).join(\"/\");for(moduleName=base+\"/\"+moduleName;-1!==moduleName.indexOf(\".\")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/\\/\\.\\//,\"/\").replace(/[^\\/]+\\/\\.\\.\\//,\"\")}}return moduleName},window.acequire=function(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error(\"worker.js acequire() accepts only (parentId, id) as arguments\");id=normalizeModule(parentId,id);var module=acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;var chunks=id.split(\"/\");chunks[0]=acequire.tlns[chunks[0]]||chunks[0];var path=chunks.join(\"/\")+\".js\";return acequire.id=id,importScripts(path),acequire(parentId,id)},acequire.modules={},acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,\"string\"!=typeof id&&(deps=id,id=acequire.id)):1==arguments.length&&(factory=id,id=acequire.id),0!==id.indexOf(\"text!\")){var req=function(deps,factory){return acequire(id,deps,factory)};acequire.modules[id]={factory:function(){var module={exports:{}},returnExports=factory(req,module.exports,module);return returnExports&&(module.exports=returnExports),module}}}},window.initBaseUrls=function initBaseUrls(topLevelNamespaces){acequire.tlns=topLevelNamespaces},window.initSender=function initSender(){var EventEmitter=acequire(\"ace/lib/event_emitter\").EventEmitter,oop=acequire(\"ace/lib/oop\"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:\"call\",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:\"event\",name:name,data:data})}}.call(Sender.prototype),new Sender},window.main=null,window.sender=null,window.onmessage=function(e){var msg=e.data;if(msg.command){if(!main[msg.command])throw Error(\"Unknown command:\"+msg.command);main[msg.command].apply(main,msg.args)}else if(msg.init){initBaseUrls(msg.tlns),acequire(\"ace/lib/es5-shim\"),sender=initSender();var clazz=acequire(msg.module)[msg.classname];main=new clazz(sender)}else msg.event&&sender&&sender._emit(msg.event,msg.data)})})(this),ace.define(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"],function(acequire,exports){var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){\"object\"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault);for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners)for(var i=0;listeners.length>i;i++)listeners[i](e,this)},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?\"unshift\":\"push\"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"],function(acequire,exports){exports.inherits=function(){var tempCtor=function(){};return function(ctor,superCtor){tempCtor.prototype=superCtor.prototype,ctor.super_=superCtor.prototype,ctor.prototype=new tempCtor,ctor.prototype.constructor=ctor}}(),exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define(\"ace/lib/es5-shim\",[\"require\",\"exports\",\"module\"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,\"sentinel\",{}),\"sentinel\"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if(\"function\"!=typeof target)throw new TypeError(\"Function.prototype.bind called on incompatible \"+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,\"__defineGetter__\"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,\"XXX\"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return\"[object Array]\"==_toString(obj)});var boxedString=Object(\"a\"),splitString=\"a\"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,thisp=arguments[1],i=-1,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,result=[],thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");if(!length&&1==arguments.length)throw new TypeError(\"reduce of empty array with no initial value\");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError(\"reduce of empty array with no initial value\")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");if(!length&&1==arguments.length)throw new TypeError(\"reduceRight of empty array with no initial value\");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError(\"reduceRight of empty array with no initial value\")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT=\"Object.getOwnPropertyDescriptor called on a non-object: \";Object.getOwnPropertyDescriptor=function(object,property){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if(\"object\"!=typeof prototype)throw new TypeError(\"typeof prototype[\"+typeof prototype+\"] != 'object'\");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom=\"undefined\"==typeof document||doesDefinePropertyWork(document.createElement(\"div\"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR=\"Property description must be an object: \",ERR_NON_OBJECT_TARGET=\"Object.defineProperty called on non-object: \",ERR_ACCESSORS_NOT_SUPPORTED=\"getters & setters can not be defined on this javascript engine\";Object.defineProperty=function(object,property,descriptor){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if(\"object\"!=typeof descriptor&&\"function\"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,\"value\"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,\"get\")&&defineGetter(object,property,descriptor.get),owns(descriptor,\"set\")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return\"function\"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name=\"\";owns(object,name);)name+=\"?\";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=[\"toString\",\"toLocaleString\",\"valueOf\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"constructor\"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(\"Object.keys called on a non-object\");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws=\"\t\\n\u000b\\f\\r   ᠎             　\\u2028\\u2029﻿\";if(!String.prototype.trim||ws.trim()){ws=\"[\"+ws+\"]\";var trimBeginRegexp=RegExp(\"^\"+ws+ws+\"*\"),trimEndRegexp=RegExp(ws+ws+\"*$\");String.prototype.trim=function(){return(this+\"\").replace(trimBeginRegexp,\"\").replace(trimEndRegexp,\"\")}}var toObject=function(o){if(null==o)throw new TypeError(\"can't convert \"+o+\" to object\");return Object(o)}}),ace.define(\"ace/mode/json_worker\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/worker/mirror\",\"ace/mode/json/json_parse\"],function(acequire,exports){var oop=acequire(\"../lib/oop\"),Mirror=acequire(\"../worker/mirror\").Mirror,parse=acequire(\"./json/json_parse\"),JsonWorker=exports.JsonWorker=function(sender){Mirror.call(this,sender),this.setTimeout(200)};oop.inherits(JsonWorker,Mirror),function(){this.onUpdate=function(){var value=this.doc.getValue();try{parse(value)}catch(e){var pos=this.doc.indexToPosition(e.at-1);return this.sender.emit(\"error\",{row:pos.row,column:pos.column,text:e.message,type:\"error\"}),void 0}this.sender.emit(\"ok\")}}.call(JsonWorker.prototype)}),ace.define(\"ace/worker/mirror\",[\"require\",\"exports\",\"module\",\"ace/document\",\"ace/lib/lang\"],function(acequire,exports){var Document=acequire(\"../document\").Document,lang=acequire(\"../lib/lang\"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(\"\"),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on(\"change\",function(e){doc.applyDeltas(e.data),deferredUpdate.schedule(_self.$timeout)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){}}).call(Mirror.prototype)}),ace.define(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"],function(acequire,exports){var oop=acequire(\"./lib/oop\"),EventEmitter=acequire(\"./lib/event_emitter\").EventEmitter,Range=acequire(\"./range\").Range,Anchor=acequire(\"./anchor\").Anchor,Document=function(text){this.$lines=[],0==text.length?this.$lines=[\"\"]:Array.isArray(text)?this._insertLines(0,text):this.insert({row:0,column:0},text)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength();this.remove(new Range(0,0,len,this.getLine(len-1).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==\"aaa\".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,\"\\n\").split(\"\\n\")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:\"\\n\"},this.getNewLineCharacter=function(){switch(this.$newLineMode){case\"windows\":return\"\\r\\n\";case\"unix\":return\"\\n\";default:return this.$autoNewLine}},this.$autoNewLine=\"\\n\",this.$newLineMode=\"auto\",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode)},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return\"\\r\\n\"==text||\"\\r\"==text||\"\\n\"==text},this.getLine=function(row){return this.$lines[row]||\"\"},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){if(range.start.row==range.end.row)return this.$lines[range.start.row].substring(range.start.column,range.end.column);var lines=this.getLines(range.start.row,range.end.row);lines[0]=(lines[0]||\"\").substring(range.start.column);var l=lines.length-1;return range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column)),lines.join(this.getNewLineCharacter())},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):0>position.row&&(position.row=0),position},this.insert=function(position,text){if(!text||0===text.length)return position;position=this.$clipPosition(position),1>=this.getLength()&&this.$detectNewLine(text);var lines=this.$split(text),firstLine=lines.splice(0,1)[0],lastLine=0==lines.length?null:lines.splice(lines.length-1,1)[0];return position=this.insertInLine(position,firstLine),null!==lastLine&&(position=this.insertNewLine(position),position=this._insertLines(position.row,lines),position=this.insertInLine(position,lastLine||\"\")),position},this.insertLines=function(row,lines){return row>=this.getLength()?this.insert({row:row,column:0},\"\\n\"+lines.join(\"\\n\")):this._insertLines(Math.max(row,0),lines)},this._insertLines=function(row,lines){if(0==lines.length)return{row:row,column:0};if(lines.length>65535){var end=this._insertLines(row,lines.slice(65535));lines=lines.slice(0,65535)}var args=[row,0];args.push.apply(args,lines),this.$lines.splice.apply(this.$lines,args);var range=new Range(row,0,row+lines.length,0),delta={action:\"insertLines\",range:range,lines:lines};return this._emit(\"change\",{data:delta}),end||range.end},this.insertNewLine=function(position){position=this.$clipPosition(position);var line=this.$lines[position.row]||\"\";this.$lines[position.row]=line.substring(0,position.column),this.$lines.splice(position.row+1,0,line.substring(position.column,line.length));var end={row:position.row+1,column:0},delta={action:\"insertText\",range:Range.fromPoints(position,end),text:this.getNewLineCharacter()};return this._emit(\"change\",{data:delta}),end},this.insertInLine=function(position,text){if(0==text.length)return position;var line=this.$lines[position.row]||\"\";this.$lines[position.row]=line.substring(0,position.column)+text+line.substring(position.column);var end={row:position.row,column:position.column+text.length},delta={action:\"insertText\",range:Range.fromPoints(position,end),text:text};return this._emit(\"change\",{data:delta}),end},this.remove=function(range){if(range.start=this.$clipPosition(range.start),range.end=this.$clipPosition(range.end),range.isEmpty())return range.start;var firstRow=range.start.row,lastRow=range.end.row;if(range.isMultiLine()){var firstFullRow=0==range.start.column?firstRow:firstRow+1,lastFullRow=lastRow-1;range.end.column>0&&this.removeInLine(lastRow,0,range.end.column),lastFullRow>=firstFullRow&&this._removeLines(firstFullRow,lastFullRow),firstFullRow!=firstRow&&(this.removeInLine(firstRow,range.start.column,this.getLine(firstRow).length),this.removeNewLine(range.start.row))}else this.removeInLine(firstRow,range.start.column,range.end.column);return range.start},this.removeInLine=function(row,startColumn,endColumn){if(startColumn!=endColumn){var range=new Range(row,startColumn,row,endColumn),line=this.getLine(row),removed=line.substring(startColumn,endColumn),newLine=line.substring(0,startColumn)+line.substring(endColumn,line.length);this.$lines.splice(row,1,newLine);var delta={action:\"removeText\",range:range,text:removed};return this._emit(\"change\",{data:delta}),range.start}},this.removeLines=function(firstRow,lastRow){return 0>firstRow||lastRow>=this.getLength()?this.remove(new Range(firstRow,0,lastRow+1,0)):this._removeLines(firstRow,lastRow)},this._removeLines=function(firstRow,lastRow){var range=new Range(firstRow,0,lastRow+1,0),removed=this.$lines.splice(firstRow,lastRow-firstRow+1),delta={action:\"removeLines\",range:range,nl:this.getNewLineCharacter(),lines:removed};return this._emit(\"change\",{data:delta}),removed},this.removeNewLine=function(row){var firstLine=this.getLine(row),secondLine=this.getLine(row+1),range=new Range(row,firstLine.length,row+1,0),line=firstLine+secondLine;this.$lines.splice(row,2,line);var delta={action:\"removeText\",range:range,text:this.getNewLineCharacter()};this._emit(\"change\",{data:delta})},this.replace=function(range,text){if(0==text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;if(this.remove(range),text)var end=this.insert(range.start,text);else end=range.start;return end},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++){var delta=deltas[i],range=Range.fromPoints(delta.range.start,delta.range.end);\"insertLines\"==delta.action?this.insertLines(range.start.row,delta.lines):\"insertText\"==delta.action?this.insert(range.start,delta.text):\"removeLines\"==delta.action?this._removeLines(range.start.row,range.end.row-1):\"removeText\"==delta.action&&this.remove(range)}},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--){var delta=deltas[i],range=Range.fromPoints(delta.range.start,delta.range.end);\"insertLines\"==delta.action?this._removeLines(range.start.row,range.end.row-1):\"insertText\"==delta.action?this.remove(range):\"removeLines\"==delta.action?this._insertLines(range.start.row,delta.lines):\"removeText\"==delta.action&&this.insert(range.start,delta.text)}},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define(\"ace/range\",[\"require\",\"exports\",\"module\"],function(acequire,exports){var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return\"Range: [\"+this.start.row+\"/\"+this.start.column+\"] -> [\"+this.end.row+\"/\"+this.end.column+\"]\"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){\"object\"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){\"object\"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column\n},exports.Range=Range}),ace.define(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"],function(acequire,exports){var oop=acequire(\"./lib/oop\"),EventEmitter=acequire(\"./lib/event_emitter\").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.document=doc,column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column),this.$onChange=this.onChange.bind(this),doc.on(\"change\",this.$onChange)};(function(){oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.onChange=function(e){var delta=e.data,range=delta.range;if(!(range.start.row==range.end.row&&range.start.row!=this.row||range.start.row>this.row||range.start.row==this.row&&range.start.column>this.column)){var row=this.row,column=this.column,start=range.start,end=range.end;\"insertText\"===delta.action?start.row===row&&column>=start.column?start.row===end.row?column+=end.column-start.column:(column-=start.column,row+=end.row-start.row):start.row!==end.row&&row>start.row&&(row+=end.row-start.row):\"insertLines\"===delta.action?row>=start.row&&(row+=end.row-start.row):\"removeText\"===delta.action?start.row===row&&column>start.column?column=end.column>=column?start.column:Math.max(0,column-(end.column-start.column)):start.row!==end.row&&row>start.row?(end.row===row&&(column=Math.max(0,column-end.column)+start.column),row-=end.row-start.row):end.row===row&&(row-=end.row-start.row,column=Math.max(0,column-end.column)+start.column):\"removeLines\"==delta.action&&row>=start.row&&(row>=end.row?row-=end.row-start.row:(row=start.row,column=0)),this.setPosition(row,column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._emit(\"change\",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener(\"change\",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define(\"ace/lib/lang\",[\"require\",\"exports\",\"module\"],function(acequire,exports){exports.stringReverse=function(string){return string.split(\"\").reverse().join(\"\")},exports.stringRepeat=function(string,count){for(var result=\"\";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,\"\")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,\"\")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&\"object\"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function(obj){if(\"object\"!=typeof obj)return obj;var copy=obj.constructor();for(var key in obj)copy[key]=\"object\"==typeof obj[key]?this.deepCopy(obj[key]):obj[key];return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,\"\\\\$1\")},exports.escapeHTML=function(str){return str.replace(/&/g,\"&#38;\").replace(/\"/g,\"&#34;\").replace(/'/g,\"&#39;\").replace(/</g,\"&#60;\")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)};return _self.delay=_self,_self.schedule=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||0))},_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define(\"ace/mode/json/json_parse\",[\"require\",\"exports\",\"module\"],function(){var at,ch,text,value,escapee={'\"':'\"',\"\\\\\":\"\\\\\",\"/\":\"/\",b:\"\\b\",f:\"\\f\",n:\"\\n\",r:\"\\r\",t:\"\t\"},error=function(m){throw{name:\"SyntaxError\",message:m,at:at,text:text}},next=function(c){return c&&c!==ch&&error(\"Expected '\"+c+\"' instead of '\"+ch+\"'\"),ch=text.charAt(at),at+=1,ch},number=function(){var number,string=\"\";for(\"-\"===ch&&(string=\"-\",next(\"-\"));ch>=\"0\"&&\"9\">=ch;)string+=ch,next();if(\".\"===ch)for(string+=\".\";next()&&ch>=\"0\"&&\"9\">=ch;)string+=ch;if(\"e\"===ch||\"E\"===ch)for(string+=ch,next(),(\"-\"===ch||\"+\"===ch)&&(string+=ch,next());ch>=\"0\"&&\"9\">=ch;)string+=ch,next();return number=+string,isNaN(number)?(error(\"Bad number\"),void 0):number},string=function(){var hex,i,uffff,string=\"\";if('\"'===ch)for(;next();){if('\"'===ch)return next(),string;if(\"\\\\\"===ch)if(next(),\"u\"===ch){for(uffff=0,i=0;4>i&&(hex=parseInt(next(),16),isFinite(hex));i+=1)uffff=16*uffff+hex;string+=String.fromCharCode(uffff)}else{if(\"string\"!=typeof escapee[ch])break;string+=escapee[ch]}else string+=ch}error(\"Bad string\")},white=function(){for(;ch&&\" \">=ch;)next()},word=function(){switch(ch){case\"t\":return next(\"t\"),next(\"r\"),next(\"u\"),next(\"e\"),!0;case\"f\":return next(\"f\"),next(\"a\"),next(\"l\"),next(\"s\"),next(\"e\"),!1;case\"n\":return next(\"n\"),next(\"u\"),next(\"l\"),next(\"l\"),null}error(\"Unexpected '\"+ch+\"'\")},array=function(){var array=[];if(\"[\"===ch){if(next(\"[\"),white(),\"]\"===ch)return next(\"]\"),array;for(;ch;){if(array.push(value()),white(),\"]\"===ch)return next(\"]\"),array;next(\",\"),white()}}error(\"Bad array\")},object=function(){var key,object={};if(\"{\"===ch){if(next(\"{\"),white(),\"}\"===ch)return next(\"}\"),object;for(;ch;){if(key=string(),white(),next(\":\"),Object.hasOwnProperty.call(object,key)&&error('Duplicate key \"'+key+'\"'),object[key]=value(),white(),\"}\"===ch)return next(\"}\"),object;next(\",\"),white()}}error(\"Bad object\")};return value=function(){switch(white(),ch){case\"{\":return object();case\"[\":return array();case'\"':return string();case\"-\":return number();default:return ch>=\"0\"&&\"9\">=ch?number():word()}},function(source,reviver){var result;return text=source,at=0,ch=\" \",result=value(),white(),ch&&error(\"Syntax error\"),\"function\"==typeof reviver?function walk(holder,key){var k,v,value=holder[key];if(value&&\"object\"==typeof value)for(k in value)Object.hasOwnProperty.call(value,k)&&(v=walk(value,k),void 0!==v?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}({\"\":result},\"\"):result}});";
},{}],18:[function(require,module,exports){
module.exports.id = 'ace/mode/lua_worker';
module.exports.src = "\"no use strict\";(function(window){void 0!==window.window&&window.document||(window.console={log:function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:\"log\",data:msgs})},error:function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:\"log\",data:msgs})}},window.window=window,window.ace=window,window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf(\"!\")){var chunks=moduleName.split(\"!\");return normalizeModule(parentId,chunks[0])+\"!\"+normalizeModule(parentId,chunks[1])}if(\".\"==moduleName.charAt(0)){var base=parentId.split(\"/\").slice(0,-1).join(\"/\");for(moduleName=base+\"/\"+moduleName;-1!==moduleName.indexOf(\".\")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/\\/\\.\\//,\"/\").replace(/[^\\/]+\\/\\.\\.\\//,\"\")}}return moduleName},window.acequire=function(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error(\"worker.js acequire() accepts only (parentId, id) as arguments\");id=normalizeModule(parentId,id);var module=acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;var chunks=id.split(\"/\");chunks[0]=acequire.tlns[chunks[0]]||chunks[0];var path=chunks.join(\"/\")+\".js\";return acequire.id=id,importScripts(path),acequire(parentId,id)},acequire.modules={},acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,\"string\"!=typeof id&&(deps=id,id=acequire.id)):1==arguments.length&&(factory=id,id=acequire.id),0!==id.indexOf(\"text!\")){var req=function(deps,factory){return acequire(id,deps,factory)};acequire.modules[id]={factory:function(){var module={exports:{}},returnExports=factory(req,module.exports,module);return returnExports&&(module.exports=returnExports),module}}}},window.initBaseUrls=function initBaseUrls(topLevelNamespaces){acequire.tlns=topLevelNamespaces},window.initSender=function initSender(){var EventEmitter=acequire(\"ace/lib/event_emitter\").EventEmitter,oop=acequire(\"ace/lib/oop\"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:\"call\",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:\"event\",name:name,data:data})}}.call(Sender.prototype),new Sender},window.main=null,window.sender=null,window.onmessage=function(e){var msg=e.data;if(msg.command){if(!main[msg.command])throw Error(\"Unknown command:\"+msg.command);main[msg.command].apply(main,msg.args)}else if(msg.init){initBaseUrls(msg.tlns),acequire(\"ace/lib/es5-shim\"),sender=initSender();var clazz=acequire(msg.module)[msg.classname];main=new clazz(sender)}else msg.event&&sender&&sender._emit(msg.event,msg.data)})})(this),ace.define(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"],function(acequire,exports){var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){\"object\"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault);for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners)for(var i=0;listeners.length>i;i++)listeners[i](e,this)},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?\"unshift\":\"push\"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"],function(acequire,exports){exports.inherits=function(){var tempCtor=function(){};return function(ctor,superCtor){tempCtor.prototype=superCtor.prototype,ctor.super_=superCtor.prototype,ctor.prototype=new tempCtor,ctor.prototype.constructor=ctor}}(),exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define(\"ace/lib/es5-shim\",[\"require\",\"exports\",\"module\"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,\"sentinel\",{}),\"sentinel\"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if(\"function\"!=typeof target)throw new TypeError(\"Function.prototype.bind called on incompatible \"+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,\"__defineGetter__\"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,\"XXX\"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return\"[object Array]\"==_toString(obj)});var boxedString=Object(\"a\"),splitString=\"a\"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,thisp=arguments[1],i=-1,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,result=[],thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");if(!length&&1==arguments.length)throw new TypeError(\"reduce of empty array with no initial value\");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError(\"reduce of empty array with no initial value\")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");if(!length&&1==arguments.length)throw new TypeError(\"reduceRight of empty array with no initial value\");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError(\"reduceRight of empty array with no initial value\")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT=\"Object.getOwnPropertyDescriptor called on a non-object: \";Object.getOwnPropertyDescriptor=function(object,property){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if(\"object\"!=typeof prototype)throw new TypeError(\"typeof prototype[\"+typeof prototype+\"] != 'object'\");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom=\"undefined\"==typeof document||doesDefinePropertyWork(document.createElement(\"div\"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR=\"Property description must be an object: \",ERR_NON_OBJECT_TARGET=\"Object.defineProperty called on non-object: \",ERR_ACCESSORS_NOT_SUPPORTED=\"getters & setters can not be defined on this javascript engine\";Object.defineProperty=function(object,property,descriptor){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if(\"object\"!=typeof descriptor&&\"function\"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,\"value\"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,\"get\")&&defineGetter(object,property,descriptor.get),owns(descriptor,\"set\")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return\"function\"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name=\"\";owns(object,name);)name+=\"?\";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=[\"toString\",\"toLocaleString\",\"valueOf\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"constructor\"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(\"Object.keys called on a non-object\");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws=\"\t\\n\u000b\\f\\r   ᠎             　\\u2028\\u2029﻿\";if(!String.prototype.trim||ws.trim()){ws=\"[\"+ws+\"]\";var trimBeginRegexp=RegExp(\"^\"+ws+ws+\"*\"),trimEndRegexp=RegExp(ws+ws+\"*$\");String.prototype.trim=function(){return(this+\"\").replace(trimBeginRegexp,\"\").replace(trimEndRegexp,\"\")}}var toObject=function(o){if(null==o)throw new TypeError(\"can't convert \"+o+\" to object\");return Object(o)}}),ace.define(\"ace/mode/lua_worker\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/worker/mirror\",\"ace/mode/lua/luaparse\"],function(acequire,exports){var oop=acequire(\"../lib/oop\"),Mirror=acequire(\"../worker/mirror\").Mirror,luaparse=acequire(\"../mode/lua/luaparse\"),Worker=exports.Worker=function(sender){Mirror.call(this,sender),this.setTimeout(500)};oop.inherits(Worker,Mirror),function(){this.onUpdate=function(){var value=this.doc.getValue();try{luaparse.parse(value)}catch(e){return e instanceof SyntaxError&&this.sender.emit(\"error\",{row:e.line-1,column:e.column,text:e.message,type:\"error\"}),void 0}this.sender.emit(\"ok\")}}.call(Worker.prototype)}),ace.define(\"ace/worker/mirror\",[\"require\",\"exports\",\"module\",\"ace/document\",\"ace/lib/lang\"],function(acequire,exports){var Document=acequire(\"../document\").Document,lang=acequire(\"../lib/lang\"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(\"\"),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on(\"change\",function(e){doc.applyDeltas(e.data),deferredUpdate.schedule(_self.$timeout)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){}}).call(Mirror.prototype)}),ace.define(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"],function(acequire,exports){var oop=acequire(\"./lib/oop\"),EventEmitter=acequire(\"./lib/event_emitter\").EventEmitter,Range=acequire(\"./range\").Range,Anchor=acequire(\"./anchor\").Anchor,Document=function(text){this.$lines=[],0==text.length?this.$lines=[\"\"]:Array.isArray(text)?this._insertLines(0,text):this.insert({row:0,column:0},text)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength();this.remove(new Range(0,0,len,this.getLine(len-1).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==\"aaa\".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,\"\\n\").split(\"\\n\")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:\"\\n\"},this.getNewLineCharacter=function(){switch(this.$newLineMode){case\"windows\":return\"\\r\\n\";case\"unix\":return\"\\n\";default:return this.$autoNewLine}},this.$autoNewLine=\"\\n\",this.$newLineMode=\"auto\",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode)},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return\"\\r\\n\"==text||\"\\r\"==text||\"\\n\"==text},this.getLine=function(row){return this.$lines[row]||\"\"},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){if(range.start.row==range.end.row)return this.$lines[range.start.row].substring(range.start.column,range.end.column);var lines=this.getLines(range.start.row,range.end.row);lines[0]=(lines[0]||\"\").substring(range.start.column);var l=lines.length-1;return range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column)),lines.join(this.getNewLineCharacter())},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):0>position.row&&(position.row=0),position},this.insert=function(position,text){if(!text||0===text.length)return position;position=this.$clipPosition(position),1>=this.getLength()&&this.$detectNewLine(text);var lines=this.$split(text),firstLine=lines.splice(0,1)[0],lastLine=0==lines.length?null:lines.splice(lines.length-1,1)[0];return position=this.insertInLine(position,firstLine),null!==lastLine&&(position=this.insertNewLine(position),position=this._insertLines(position.row,lines),position=this.insertInLine(position,lastLine||\"\")),position},this.insertLines=function(row,lines){return row>=this.getLength()?this.insert({row:row,column:0},\"\\n\"+lines.join(\"\\n\")):this._insertLines(Math.max(row,0),lines)},this._insertLines=function(row,lines){if(0==lines.length)return{row:row,column:0};if(lines.length>65535){var end=this._insertLines(row,lines.slice(65535));lines=lines.slice(0,65535)}var args=[row,0];args.push.apply(args,lines),this.$lines.splice.apply(this.$lines,args);var range=new Range(row,0,row+lines.length,0),delta={action:\"insertLines\",range:range,lines:lines};return this._emit(\"change\",{data:delta}),end||range.end},this.insertNewLine=function(position){position=this.$clipPosition(position);var line=this.$lines[position.row]||\"\";this.$lines[position.row]=line.substring(0,position.column),this.$lines.splice(position.row+1,0,line.substring(position.column,line.length));var end={row:position.row+1,column:0},delta={action:\"insertText\",range:Range.fromPoints(position,end),text:this.getNewLineCharacter()};return this._emit(\"change\",{data:delta}),end},this.insertInLine=function(position,text){if(0==text.length)return position;var line=this.$lines[position.row]||\"\";this.$lines[position.row]=line.substring(0,position.column)+text+line.substring(position.column);var end={row:position.row,column:position.column+text.length},delta={action:\"insertText\",range:Range.fromPoints(position,end),text:text};return this._emit(\"change\",{data:delta}),end},this.remove=function(range){if(range.start=this.$clipPosition(range.start),range.end=this.$clipPosition(range.end),range.isEmpty())return range.start;var firstRow=range.start.row,lastRow=range.end.row;if(range.isMultiLine()){var firstFullRow=0==range.start.column?firstRow:firstRow+1,lastFullRow=lastRow-1;range.end.column>0&&this.removeInLine(lastRow,0,range.end.column),lastFullRow>=firstFullRow&&this._removeLines(firstFullRow,lastFullRow),firstFullRow!=firstRow&&(this.removeInLine(firstRow,range.start.column,this.getLine(firstRow).length),this.removeNewLine(range.start.row))}else this.removeInLine(firstRow,range.start.column,range.end.column);return range.start},this.removeInLine=function(row,startColumn,endColumn){if(startColumn!=endColumn){var range=new Range(row,startColumn,row,endColumn),line=this.getLine(row),removed=line.substring(startColumn,endColumn),newLine=line.substring(0,startColumn)+line.substring(endColumn,line.length);this.$lines.splice(row,1,newLine);var delta={action:\"removeText\",range:range,text:removed};return this._emit(\"change\",{data:delta}),range.start}},this.removeLines=function(firstRow,lastRow){return 0>firstRow||lastRow>=this.getLength()?this.remove(new Range(firstRow,0,lastRow+1,0)):this._removeLines(firstRow,lastRow)},this._removeLines=function(firstRow,lastRow){var range=new Range(firstRow,0,lastRow+1,0),removed=this.$lines.splice(firstRow,lastRow-firstRow+1),delta={action:\"removeLines\",range:range,nl:this.getNewLineCharacter(),lines:removed};return this._emit(\"change\",{data:delta}),removed},this.removeNewLine=function(row){var firstLine=this.getLine(row),secondLine=this.getLine(row+1),range=new Range(row,firstLine.length,row+1,0),line=firstLine+secondLine;this.$lines.splice(row,2,line);var delta={action:\"removeText\",range:range,text:this.getNewLineCharacter()};this._emit(\"change\",{data:delta})},this.replace=function(range,text){if(0==text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;if(this.remove(range),text)var end=this.insert(range.start,text);else end=range.start;return end},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++){var delta=deltas[i],range=Range.fromPoints(delta.range.start,delta.range.end);\"insertLines\"==delta.action?this.insertLines(range.start.row,delta.lines):\"insertText\"==delta.action?this.insert(range.start,delta.text):\"removeLines\"==delta.action?this._removeLines(range.start.row,range.end.row-1):\"removeText\"==delta.action&&this.remove(range)}},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--){var delta=deltas[i],range=Range.fromPoints(delta.range.start,delta.range.end);\"insertLines\"==delta.action?this._removeLines(range.start.row,range.end.row-1):\"insertText\"==delta.action?this.remove(range):\"removeLines\"==delta.action?this._insertLines(range.start.row,delta.lines):\"removeText\"==delta.action&&this.insert(range.start,delta.text)}},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define(\"ace/range\",[\"require\",\"exports\",\"module\"],function(acequire,exports){var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return\"Range: [\"+this.start.row+\"/\"+this.start.column+\"] -> [\"+this.end.row+\"/\"+this.end.column+\"]\"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){\"object\"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){\"object\"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column\n},exports.Range=Range}),ace.define(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"],function(acequire,exports){var oop=acequire(\"./lib/oop\"),EventEmitter=acequire(\"./lib/event_emitter\").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.document=doc,column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column),this.$onChange=this.onChange.bind(this),doc.on(\"change\",this.$onChange)};(function(){oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.onChange=function(e){var delta=e.data,range=delta.range;if(!(range.start.row==range.end.row&&range.start.row!=this.row||range.start.row>this.row||range.start.row==this.row&&range.start.column>this.column)){var row=this.row,column=this.column,start=range.start,end=range.end;\"insertText\"===delta.action?start.row===row&&column>=start.column?start.row===end.row?column+=end.column-start.column:(column-=start.column,row+=end.row-start.row):start.row!==end.row&&row>start.row&&(row+=end.row-start.row):\"insertLines\"===delta.action?row>=start.row&&(row+=end.row-start.row):\"removeText\"===delta.action?start.row===row&&column>start.column?column=end.column>=column?start.column:Math.max(0,column-(end.column-start.column)):start.row!==end.row&&row>start.row?(end.row===row&&(column=Math.max(0,column-end.column)+start.column),row-=end.row-start.row):end.row===row&&(row-=end.row-start.row,column=Math.max(0,column-end.column)+start.column):\"removeLines\"==delta.action&&row>=start.row&&(row>=end.row?row-=end.row-start.row:(row=start.row,column=0)),this.setPosition(row,column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._emit(\"change\",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener(\"change\",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define(\"ace/lib/lang\",[\"require\",\"exports\",\"module\"],function(acequire,exports){exports.stringReverse=function(string){return string.split(\"\").reverse().join(\"\")},exports.stringRepeat=function(string,count){for(var result=\"\";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,\"\")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,\"\")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&\"object\"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function(obj){if(\"object\"!=typeof obj)return obj;var copy=obj.constructor();for(var key in obj)copy[key]=\"object\"==typeof obj[key]?this.deepCopy(obj[key]):obj[key];return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,\"\\\\$1\")},exports.escapeHTML=function(str){return str.replace(/&/g,\"&#38;\").replace(/\"/g,\"&#34;\").replace(/'/g,\"&#39;\").replace(/</g,\"&#60;\")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)};return _self.delay=_self,_self.schedule=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||0))},_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define(\"ace/mode/lua/luaparse\",[\"require\",\"exports\",\"module\",\"exports\"],function(acequire,exports){(function(root,name,factory){exports!==void 0?factory(exports):\"function\"==typeof define&&define.amd?ace.define([\"exports\"],factory):factory(root[name]={})})(this,\"luaparse\",function(exports){function sprintf(format){var args=slice.call(arguments,1);return format=format.replace(/%(\\d)/g,function(match,index){return\"\"+args[index-1]||\"\"})}function extend(){for(var src,prop,args=slice.call(arguments),dest={},i=0,l=args.length;l>i;i++){src=args[i];for(prop in src)src.hasOwnProperty(prop)&&(dest[prop]=src[prop])}return dest}function raise(token){var error,col,message=sprintf.apply(null,slice.call(arguments,1));throw token.line!==void 0?(col=token.range[0]-token.lineStart,error=new SyntaxError(sprintf(\"[%1:%2] %3\",token.line,col,message)),error.line=token.line,error.index=token.range[0],error.column=col):(col=index-lineStart+1,error=new SyntaxError(sprintf(\"[%1:%2] %3\",line,col,message)),error.index=index,error.line=line,error.column=col),error}function raiseUnexpectedToken(type,token){raise(token,errors.expectedToken,type,token.value)}function unexpected(found,near){if(near===void 0&&(near=lookahead.value),found.type!==void 0){var type;switch(found.type){case StringLiteral:type=\"string\";break;case Keyword:type=\"keyword\";break;case Identifier:type=\"identifier\";break;case NumericLiteral:type=\"number\";break;case Punctuator:type=\"symbol\";break;case BooleanLiteral:type=\"boolean\";break;case NilLiteral:return raise(found,errors.unexpected,\"symbol\",\"nil\",near)}return raise(found,errors.unexpected,type,found.value,near)}return raise(found,errors.unexpected,\"symbol\",found,near)}function readToken(){for(skipWhiteSpace();45===input.charCodeAt(index)&&45===input.charCodeAt(index+1);)scanComment(),skipWhiteSpace();if(index>=length)return{type:EOF,value:\"<eof>\",line:line,lineStart:lineStart,range:[index,index]};var character=input.charCodeAt(index),next=input.charCodeAt(index+1);if(tokenStart=index,isIdentifierStart(character))return scanIdentifierOrKeyword();switch(character){case 39:case 34:return scanStringLiteral();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return scanNumericLiteral();case 46:return isDecDigit(next)?scanNumericLiteral():46===next?46===input.charCodeAt(index+2)?scanVarargLiteral():scanPunctuator(\"..\"):scanPunctuator(\".\");case 61:return 61===next?scanPunctuator(\"==\"):scanPunctuator(\"=\");case 62:return 61===next?scanPunctuator(\">=\"):scanPunctuator(\">\");case 60:return 61===next?scanPunctuator(\"<=\"):scanPunctuator(\"<\");case 126:return 61===next?scanPunctuator(\"~=\"):raise({},errors.expected,\"=\",\"~\");case 58:return 58===next?scanPunctuator(\"::\"):scanPunctuator(\":\");case 91:return 91===next||61===next?scanLongStringLiteral():scanPunctuator(\"[\");case 42:case 47:case 94:case 37:case 44:case 123:case 125:case 93:case 40:case 41:case 59:case 35:case 45:case 43:return scanPunctuator(input.charAt(index))}return unexpected(input.charAt(index))}function skipWhiteSpace(){for(;length>index;){var character=input.charCodeAt(index);if(isWhiteSpace(character))index++;else{if(!isLineTerminator(character))break;line++,lineStart=++index}}}function scanIdentifierOrKeyword(){for(var value,type;isIdentifierPart(input.charCodeAt(++index)););return value=input.slice(tokenStart,index),isKeyword(value)?type=Keyword:\"true\"===value||\"false\"===value?(type=BooleanLiteral,value=\"true\"===value):\"nil\"===value?(type=NilLiteral,value=null):type=Identifier,{type:type,value:value,line:line,lineStart:lineStart,range:[tokenStart,index]}}function scanPunctuator(value){return index+=value.length,{type:Punctuator,value:value,line:line,lineStart:lineStart,range:[tokenStart,index]}}function scanVarargLiteral(){return index+=3,{type:VarargLiteral,value:\"...\",line:line,lineStart:lineStart,range:[tokenStart,index]}}function scanStringLiteral(){for(var character,delimiter=input.charCodeAt(index++),stringStart=index,string=\"\";length>index&&(character=input.charCodeAt(index++),delimiter!==character);)92===character?(string+=input.slice(stringStart,index-1)+readEscapeSequence(),stringStart=index):(index>=length||isLineTerminator(character))&&(string+=input.slice(stringStart,index-1),raise({},errors.unfinishedString,string+String.fromCharCode(character)));return string+=input.slice(stringStart,index-1),{type:StringLiteral,value:string,line:line,lineStart:lineStart,range:[tokenStart,index]}}function scanLongStringLiteral(){var string=readLongString();return!1===string&&raise(token,errors.expected,\"[\",token.value),{type:StringLiteral,value:string,line:line,lineStart:lineStart,range:[tokenStart,index]}}function scanNumericLiteral(){var character=input.charAt(index),next=input.charAt(index+1),value=\"0\"===character&&\"xX\".indexOf(next||null)>=0?readHexLiteral():readDecLiteral();return{type:NumericLiteral,value:value,line:line,lineStart:lineStart,range:[tokenStart,index]}}function readHexLiteral(){var digit,fractionStart,exponentStart,digitStart,fraction=0,binaryExponent=1,binarySign=1;for(digitStart=index+=2,isHexDigit(input.charCodeAt(index))||raise({},errors.malformedNumber,input.slice(tokenStart,index));isHexDigit(input.charCodeAt(index));)index++;if(digit=parseInt(input.slice(digitStart,index),16),\".\"===input.charAt(index)){for(fractionStart=++index;isHexDigit(input.charCodeAt(index));)index++;fraction=input.slice(fractionStart,index),fraction=fractionStart===index?0:parseInt(fraction,16)/Math.pow(16,index-fractionStart)}if(\"pP\".indexOf(input.charAt(index)||null)>=0){for(index++,\"+-\".indexOf(input.charAt(index)||null)>=0&&(binarySign=\"+\"===input.charAt(index++)?1:-1),exponentStart=index,isDecDigit(input.charCodeAt(index))||raise({},errors.malformedNumber,input.slice(tokenStart,index));isDecDigit(input.charCodeAt(index));)index++;binaryExponent=input.slice(exponentStart,index),binaryExponent=Math.pow(2,binaryExponent*binarySign)}return(digit+fraction)*binaryExponent}function readDecLiteral(){for(;isDecDigit(input.charCodeAt(index));)index++;if(\".\"===input.charAt(index))for(index++;isDecDigit(input.charCodeAt(index));)index++;if(\"eE\".indexOf(input.charAt(index)||null)>=0)for(index++,\"+-\".indexOf(input.charAt(index)||null)>=0&&index++,isDecDigit(input.charCodeAt(index))||raise({},errors.malformedNumber,input.slice(tokenStart,index));isDecDigit(input.charCodeAt(index));)index++;return parseFloat(input.slice(tokenStart,index))}function readEscapeSequence(){var sequenceStart=index;switch(input.charAt(index)){case\"n\":return index++,\"\\n\";case\"r\":return index++,\"\\r\";case\"t\":return index++,\"\t\";case\"v\":return index++,\"\u000b\";case\"b\":return index++,\"\\b\";case\"f\":return index++,\"\\f\";case\"z\":return index++,skipWhiteSpace(),\"\";case\"x\":return isHexDigit(input.charCodeAt(index+1))&&isHexDigit(input.charCodeAt(index+2))?(index+=3,\"\\\\\"+input.slice(sequenceStart,index)):\"\\\\\"+input.charAt(index++);default:if(isDecDigit(input.charCodeAt(index))){for(;isDecDigit(input.charCodeAt(++index)););return\"\\\\\"+input.slice(sequenceStart,index)}return input.charAt(index++)}}function scanComment(){tokenStart=index,index+=2;var character=input.charAt(index),content=\"\",isLong=!1,commentStart=index;if(\"[\"===character&&(content=readLongString(),!1===content?content=character:isLong=!0),!isLong){for(;length>index&&!isLineTerminator(input.charCodeAt(index));)index++;content=input.slice(commentStart,index)}options.comments&&comments.push({type:\"Comment\",value:content,raw:input.slice(tokenStart,index)})}function readLongString(){var character,stringStart,level=0,content=\"\",terminator=!1;for(index++;\"=\"===input.charAt(index+level);)level++;if(\"[\"!==input.charAt(index+level))return!1;for(index+=level+1,isLineTerminator(input.charCodeAt(index))&&(line++,lineStart=index++),stringStart=index;length>index;){if(character=input.charAt(index++),isLineTerminator(character.charCodeAt(0))&&(line++,lineStart=index),\"]\"===character){terminator=!0;for(var i=0;level>i;i++)\"=\"!==input.charAt(index+i)&&(terminator=!1);\"]\"!==input.charAt(index+level)&&(terminator=!1)}if(terminator)break}return content+=input.slice(stringStart,index-1),index+=level+1,content}function next(){token=lookahead,lookahead=readToken()}function consume(value){return value===token.value?(next(),!0):!1}function expect(value){value===token.value?next():raise(token,errors.expected,value,token.value)}function isWhiteSpace(character){return 9===character||32===character||11===character||12===character}function isLineTerminator(character){return 10===character||13===character}function isDecDigit(character){return character>=48&&57>=character}function isHexDigit(character){return character>=48&&57>=character||character>=97&&102>=character||character>=65&&70>=character}function isIdentifierStart(character){return character>=65&&90>=character||character>=97&&122>=character||95===character}function isIdentifierPart(character){return character>=65&&90>=character||character>=97&&122>=character||95===character||character>=48&&57>=character}function isKeyword(id){switch(id.length){case 2:return\"do\"===id||\"if\"===id||\"in\"===id||\"or\"===id;case 3:return\"and\"===id||\"end\"===id||\"for\"===id||\"not\"===id;case 4:return\"else\"===id||\"goto\"===id||\"then\"===id;case 5:return\"break\"===id||\"local\"===id||\"until\"===id||\"while\"===id;case 6:return\"elseif\"===id||\"repeat\"===id||\"return\"===id;case 8:return\"function\"===id}return!1}function isUnary(token){return Punctuator===token.type?\"#-\".indexOf(token.value)>=0:Keyword===token.type?\"not\"===token.value:!1}function isCallExpression(expression){switch(expression.type){case\"CallExpression\":case\"TableCallExpression\":case\"StringCallExpression\":return!0}return!1}function isBlockFollow(token){if(EOF===token.type)return!0;if(Keyword!==token.type)return!1;switch(token.value){case\"else\":case\"elseif\":case\"end\":case\"until\":return!0;default:return!1}}function createScope(){scopes.push(Array.apply(null,scopes[scopeDepth++]))}function exitScope(){scopes.pop(),scopeDepth--}function scopeIdentifierName(name){-1===indexOf.call(scopes[scopeDepth],name)&&scopes[scopeDepth].push(name)}function scopeIdentifier(node){scopeIdentifierName(node.name),attachScope(node,!0)}function attachScope(node,isLocal){isLocal||-1!==indexOf.call(globalNames,node.name)||(globalNames.push(node.name),globals.push(node)),node.isLocal=isLocal}function scopeHasName(name){return-1!==indexOf.call(scopes[scopeDepth],name)}function parseChunk(){next();var body=parseBlock();return EOF!==token.type&&unexpected(token),ast.chunk(body)}function parseBlock(){var statement,block=[];for(options.scope&&createScope();!isBlockFollow(token);){if(\"return\"===token.value){block.push(parseStatement());break}statement=parseStatement(),statement&&block.push(statement)}return options.scope&&exitScope(),block}function parseStatement(){if(Keyword===token.type)switch(token.value){case\"local\":return next(),parseLocalStatement();case\"if\":return next(),parseIfStatement();case\"return\":return next(),parseReturnStatement();case\"function\":next();var name=parseFunctionName();return parseFunctionDeclaration(name);case\"while\":return next(),parseWhileStatement();case\"for\":return next(),parseForStatement();case\"repeat\":return next(),parseRepeatStatement();case\"break\":return next(),parseBreakStatement();case\"do\":return next(),parseDoStatement();case\"goto\":return next(),parseGotoStatement()}if(Punctuator===token.type&&consume(\"::\"))return parseLabelStatement();if(!consume(\";\"))return parseAssignmentOrCallStatement()}function parseLabelStatement(){var name=token.value,label=parseIdentifier();return options.scope&&(scopeIdentifierName(\"::\"+name+\"::\"),attachScope(label,!0)),expect(\"::\"),ast.labelStatement(label)}function parseBreakStatement(){return ast.breakStatement()}function parseGotoStatement(){var name=token.value,label=parseIdentifier();return options.scope&&(label.isLabel=scopeHasName(\"::\"+name+\"::\")),ast.gotoStatement(label)}function parseDoStatement(){var body=parseBlock();return expect(\"end\"),ast.doStatement(body)}function parseWhileStatement(){var condition=parseExpectedExpression();expect(\"do\");var body=parseBlock();return expect(\"end\"),ast.whileStatement(condition,body)}function parseRepeatStatement(){var body=parseBlock();expect(\"until\");var condition=parseExpectedExpression();return ast.repeatStatement(condition,body)}function parseReturnStatement(){var expressions=[];if(\"end\"!==token.value){var expression=parseExpression();for(null!=expression&&expressions.push(expression);consume(\",\");)expression=parseExpectedExpression(),expressions.push(expression);consume(\";\")}return ast.returnStatement(expressions)}function parseIfStatement(){var condition,body,clauses=[];for(condition=parseExpectedExpression(),expect(\"then\"),body=parseBlock(),clauses.push(ast.ifClause(condition,body));consume(\"elseif\");)condition=parseExpectedExpression(),expect(\"then\"),body=parseBlock(),clauses.push(ast.elseifClause(condition,body));return consume(\"else\")&&(body=parseBlock(),clauses.push(ast.elseClause(body))),expect(\"end\"),ast.ifStatement(clauses)}function parseForStatement(){var body,variable=parseIdentifier();if(options.scope&&scopeIdentifier(variable),consume(\"=\")){var start=parseExpectedExpression();expect(\",\");var end=parseExpectedExpression(),step=consume(\",\")?parseExpectedExpression():null;return expect(\"do\"),body=parseBlock(),expect(\"end\"),ast.forNumericStatement(variable,start,end,step,body)}for(var variables=[variable];consume(\",\");)variable=parseIdentifier(),options.scope&&scopeIdentifier(variable),variables.push(variable);expect(\"in\");var iterators=[];do{var expression=parseExpectedExpression();iterators.push(expression)}while(consume(\",\"));return expect(\"do\"),body=parseBlock(),expect(\"end\"),ast.forGenericStatement(variables,iterators,body)}function parseLocalStatement(){var name;if(Identifier===token.type){var variables=[],init=[];do name=parseIdentifier(),variables.push(name);while(consume(\",\"));if(consume(\"=\"))do{var expression=parseExpectedExpression();init.push(expression)}while(consume(\",\"));if(options.scope)for(var i=0,l=variables.length;l>i;i++)scopeIdentifier(variables[i]);return ast.localStatement(variables,init)}return consume(\"function\")?(name=parseIdentifier(),options.scope&&scopeIdentifier(name),parseFunctionDeclaration(name,!0)):(raiseUnexpectedToken(\"<name>\",token),void 0)}function parseAssignmentOrCallStatement(){var previous=token,expression=parsePrefixExpression();if(null==expression)return unexpected(token);if(\",=\".indexOf(token.value)>=0){for(var exp,variables=[expression],init=[];consume(\",\");)exp=parsePrefixExpression(),null==exp&&raiseUnexpectedToken(\"<expression>\",token),variables.push(exp);expect(\"=\");do exp=parseExpectedExpression(),init.push(exp);while(consume(\",\"));return ast.assignmentStatement(variables,init)}return isCallExpression(expression)?ast.callStatement(expression):unexpected(previous)}function parseIdentifier(){var identifier=token.value;return Identifier!==token.type&&raiseUnexpectedToken(\"<name>\",token),next(),ast.identifier(identifier)}function parseFunctionDeclaration(name,isLocal){var parameters=[];if(expect(\"(\"),!consume(\")\"))for(;;)if(Identifier===token.type){var parameter=parseIdentifier();if(options.scope&&scopeIdentifier(parameter),parameters.push(parameter),consume(\",\"))continue;if(consume(\")\"))break}else{if(VarargLiteral===token.type){parameters.push(parsePrimaryExpression()),expect(\")\");break}raiseUnexpectedToken(\"<name> or '...'\",token)}var body=parseBlock();return expect(\"end\"),isLocal=isLocal||!1,ast.functionStatement(name,parameters,isLocal,body)}function parseFunctionName(){var name,base=parseIdentifier();for(options.scope&&attachScope(base,!1);consume(\".\");)name=parseIdentifier(),options.scope&&attachScope(name,!1),base=ast.memberExpression(base,\".\",name);return consume(\":\")&&(name=parseIdentifier(),options.scope&&attachScope(name,!1),base=ast.memberExpression(base,\":\",name)),base}function parseTableConstructor(){for(var key,value,fields=[];;){if(Punctuator===token.type&&consume(\"[\"))key=parseExpectedExpression(),expect(\"]\"),expect(\"=\"),value=parseExpectedExpression(),fields.push(ast.tableKey(key,value));else if(Identifier===token.type)key=parseExpectedExpression(),consume(\"=\")?(value=parseExpectedExpression(),fields.push(ast.tableKeyString(key,value))):fields.push(ast.tableValue(key));else{if(null==(value=parseExpression()))break;fields.push(ast.tableValue(value))}if(\",;\".indexOf(token.value)>=0)next();else if(\"}\"===token.value)break}return expect(\"}\"),ast.tableConstructorExpression(fields)}function parseExpression(){var expression=parseSubExpression(0);return expression}function parseExpectedExpression(){var expression=parseExpression();return null!=expression?expression:(raiseUnexpectedToken(\"<expression>\",token),void 0)}function binaryPrecedence(operator){var character=operator.charCodeAt(0),length=operator.length;if(1===length)switch(character){case 94:return 10;case 42:case 47:case 37:return 7;case 43:case 45:return 6;case 60:case 62:return 3}else if(2===length)switch(character){case 46:return 5;case 60:case 62:case 61:case 126:return 3;case 111:return 1}else if(97===character&&\"and\"===operator)return 2;return 0}function parseSubExpression(minPrecedence){var expression,operator=token.value;if(isUnary(token)){next();var argument=parseSubExpression(8);null==argument&&raiseUnexpectedToken(\"<expression>\",token),expression=ast.unaryExpression(operator,argument)}if(null==expression&&(expression=parsePrimaryExpression(),null==expression&&(expression=parsePrefixExpression())),null==expression)return null;for(var precedence;;){if(operator=token.value,precedence=Punctuator===token.type||Keyword===token.type?binaryPrecedence(operator):0,0===precedence||minPrecedence>=precedence)break;(\"^\"===operator||\"..\"===operator)&&precedence--,next();var right=parseSubExpression(precedence);null==right&&raiseUnexpectedToken(\"<expression>\",token),expression=ast.binaryExpression(operator,expression,right)}return expression}function parsePrefixExpression(){var base,name,isLocal;if(Identifier===token.type)name=token.value,base=parseIdentifier(),options.scope&&attachScope(base,isLocal=scopeHasName(name));else{if(!consume(\"(\"))return null;base=parseExpectedExpression(),expect(\")\"),options.scope&&(isLocal=base.isLocal)}for(var expression,identifier;;)if(Punctuator===token.type)switch(token.value){case\"[\":next(),expression=parseExpectedExpression(),base=ast.indexExpression(base,expression),expect(\"]\");break;case\".\":next(),identifier=parseIdentifier(),options.scope&&attachScope(identifier,isLocal),base=ast.memberExpression(base,\".\",identifier);break;case\":\":next(),identifier=parseIdentifier(),options.scope&&attachScope(identifier,isLocal),base=ast.memberExpression(base,\":\",identifier),base=parseCallExpression(base);break;case\"(\":case\"{\":base=parseCallExpression(base);break;default:return base}else{if(StringLiteral!==token.type)break;base=parseCallExpression(base)}return base}function parseCallExpression(base){if(Punctuator===token.type)switch(token.value){case\"(\":next();var expressions=[],expression=parseExpression();for(null!=expression&&expressions.push(expression);consume(\",\");)expression=parseExpectedExpression(),expressions.push(expression);return expect(\")\"),ast.callExpression(base,expressions);case\"{\":next();var table=parseTableConstructor();return ast.tableCallExpression(base,table)}else if(StringLiteral===token.type)return ast.stringCallExpression(base,parsePrimaryExpression());raiseUnexpectedToken(\"function arguments\",token)}function parsePrimaryExpression(){var literals=StringLiteral|NumericLiteral|BooleanLiteral|NilLiteral|VarargLiteral,value=token.value,type=token.type;if(type&literals){var raw=input.slice(token.range[0],token.range[1]);return next(),ast.literal(type,value,raw)}return Keyword===type&&\"function\"===value?(next(),parseFunctionDeclaration(null)):consume(\"{\")?parseTableConstructor():void 0}function parse(_input,_options){return _options===void 0&&\"object\"==typeof _input&&(_options=_input,_input=void 0),_options||(_options={}),input=_input||\"\",options=extend(defaultOptions,_options),index=0,line=1,lineStart=0,length=input.length,scopes=[[]],scopeDepth=0,globals=[],globalNames=[],options.comments&&(comments=[]),options.wait?exports:end()}function write(_input){return input+=_input+\"\",length=input.length,exports}function end(_input){_input!==void 0&&write(_input),length=input.length,lookahead=readToken();var chunk=parseChunk();return options.comments&&(chunk.comments=comments),options.scope&&(chunk.globals=globals),chunk}exports.version=\"0.0.11\";var input,options,length,index,token,lookahead,comments,tokenStart,line,lineStart,scopes,scopeDepth,globals,globalNames,defaultOptions=exports.defaultOptions={wait:!1,comments:!0,scope:!1},EOF=1,StringLiteral=2,Keyword=4,Identifier=8,NumericLiteral=16,Punctuator=32,BooleanLiteral=64,NilLiteral=128,VarargLiteral=256,errors=exports.errors={unexpected:\"Unexpected %1 '%2' near '%3'\",expected:\"'%1' expected near '%2'\",expectedToken:\"%1 expected near '%2'\",unfinishedString:\"unfinished string near '%1'\",malformedNumber:\"malformed number near '%1'\"},ast=exports.ast={labelStatement:function(label){return{type:\"LabelStatement\",label:label}},breakStatement:function(){return{type:\"BreakStatement\"}},gotoStatement:function(label){return{type:\"GotoStatement\",label:label}},returnStatement:function(args){return{type:\"ReturnStatement\",arguments:args}},ifStatement:function(clauses){return{type:\"IfStatement\",clauses:clauses}},ifClause:function(condition,body){return{type:\"IfClause\",condition:condition,body:body}},elseifClause:function(condition,body){return{type:\"ElseifClause\",condition:condition,body:body}},elseClause:function(body){return{type:\"ElseClause\",body:body}},whileStatement:function(condition,body){return{type:\"WhileStatement\",condition:condition,body:body}},doStatement:function(body){return{type:\"DoStatement\",body:body}},repeatStatement:function(condition,body){return{type:\"RepeatStatement\",condition:condition,body:body}},localStatement:function(variables,init){return{type:\"LocalStatement\",variables:variables,init:init}},assignmentStatement:function(variables,init){return{type:\"AssignmentStatement\",variables:variables,init:init}},callStatement:function(expression){return{type:\"CallStatement\",expression:expression}},functionStatement:function(identifier,parameters,isLocal,body){return{type:\"FunctionDeclaration\",identifier:identifier,isLocal:isLocal,parameters:parameters,body:body}},forNumericStatement:function(variable,start,end,step,body){return{type:\"ForNumericStatement\",variable:variable,start:start,end:end,step:step,body:body}},forGenericStatement:function(variables,iterators,body){return{type:\"ForGenericStatement\",variables:variables,iterators:iterators,body:body}},chunk:function(body){return{type:\"Chunk\",body:body}},identifier:function(name){return{type:\"Identifier\",name:name}},literal:function(type,value,raw){return type=type===StringLiteral?\"StringLiteral\":type===NumericLiteral?\"NumericLiteral\":type===BooleanLiteral?\"BooleanLiteral\":type===NilLiteral?\"NilLiteral\":\"VarargLiteral\",{type:type,value:value,raw:raw}},tableKey:function(key,value){return{type:\"TableKey\",key:key,value:value}},tableKeyString:function(key,value){return{type:\"TableKeyString\",key:key,value:value}},tableValue:function(value){return{type:\"TableValue\",value:value}},tableConstructorExpression:function(fields){return{type:\"TableConstructorExpression\",fields:fields}},binaryExpression:function(operator,left,right){var type=\"and\"===operator||\"or\"===operator?\"LogicalExpression\":\"BinaryExpression\";return{type:type,operator:operator,left:left,right:right}},unaryExpression:function(operator,argument){return{type:\"UnaryExpression\",operator:operator,argument:argument}},memberExpression:function(base,indexer,identifier){return{type:\"MemberExpression\",indexer:indexer,identifier:identifier,base:base}},indexExpression:function(base,index){return{type:\"IndexExpression\",base:base,index:index}},callExpression:function(base,args){return{type:\"CallExpression\",base:base,arguments:args}},tableCallExpression:function(base,args){return{type:\"TableCallExpression\",base:base,arguments:args}},stringCallExpression:function(base,argument){return{type:\"StringCallExpression\",base:base,argument:argument}}},slice=Array.prototype.slice,indexOf=(Object.prototype.toString,Array.prototype.indexOf||function indexOf(element){for(var i=0,length=this.length;length>i;i++)if(this[i]===element)return i;return-1});exports.parse=parse,exports.write=write,exports.end=end,exports.lex=readToken})});";
},{}]},{},[2,1,3,4])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlcyI6WyIvVXNlcnMvdGhsb3JlbnovZGV2L3Byb2plY3RzL2JyYWNlL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvdGhsb3JlbnovZGV2L3Byb2plY3RzL2JyYWNlL2V4YW1wbGUvY29mZmVlLWVkaXRvci5qcyIsIi9Vc2Vycy90aGxvcmVuei9kZXYvcHJvamVjdHMvYnJhY2UvZXhhbXBsZS9qYXZhc2NyaXB0LWVkaXRvci5qcyIsIi9Vc2Vycy90aGxvcmVuei9kZXYvcHJvamVjdHMvYnJhY2UvZXhhbXBsZS9qc29uLWVkaXRvci5qcyIsIi9Vc2Vycy90aGxvcmVuei9kZXYvcHJvamVjdHMvYnJhY2UvZXhhbXBsZS9sdWEtZWRpdG9yLmpzIiwiL1VzZXJzL3RobG9yZW56L2Rldi9wcm9qZWN0cy9icmFjZS9leGFtcGxlL25vZGVfbW9kdWxlcy9icmFjZS9pbmRleC5qcyIsIi9Vc2Vycy90aGxvcmVuei9kZXYvcHJvamVjdHMvYnJhY2UvZXhhbXBsZS9ub2RlX21vZHVsZXMvYnJhY2UvbW9kZS9jb2ZmZWUuanMiLCIvVXNlcnMvdGhsb3JlbnovZGV2L3Byb2plY3RzL2JyYWNlL2V4YW1wbGUvbm9kZV9tb2R1bGVzL2JyYWNlL21vZGUvamF2YXNjcmlwdC5qcyIsIi9Vc2Vycy90aGxvcmVuei9kZXYvcHJvamVjdHMvYnJhY2UvZXhhbXBsZS9ub2RlX21vZHVsZXMvYnJhY2UvbW9kZS9qc29uLmpzIiwiL1VzZXJzL3RobG9yZW56L2Rldi9wcm9qZWN0cy9icmFjZS9leGFtcGxlL25vZGVfbW9kdWxlcy9icmFjZS9tb2RlL2x1YS5qcyIsIi9Vc2Vycy90aGxvcmVuei9kZXYvcHJvamVjdHMvYnJhY2UvZXhhbXBsZS9ub2RlX21vZHVsZXMvYnJhY2Uvbm9kZV9tb2R1bGVzL3czYy1ibG9iL2Jyb3dzZXIuanMiLCIvVXNlcnMvdGhsb3JlbnovZGV2L3Byb2plY3RzL2JyYWNlL2V4YW1wbGUvbm9kZV9tb2R1bGVzL2JyYWNlL3RoZW1lL21vbm9rYWkuanMiLCIvVXNlcnMvdGhsb3JlbnovZGV2L3Byb2plY3RzL2JyYWNlL2V4YW1wbGUvbm9kZV9tb2R1bGVzL2JyYWNlL3RoZW1lL3NvbGFyaXplZF9kYXJrLmpzIiwiL1VzZXJzL3RobG9yZW56L2Rldi9wcm9qZWN0cy9icmFjZS9leGFtcGxlL25vZGVfbW9kdWxlcy9icmFjZS90aGVtZS9zb2xhcml6ZWRfbGlnaHQuanMiLCIvVXNlcnMvdGhsb3JlbnovZGV2L3Byb2plY3RzL2JyYWNlL2V4YW1wbGUvbm9kZV9tb2R1bGVzL2JyYWNlL3RoZW1lL3ZpYnJhbnRfaW5rLmpzIiwiL1VzZXJzL3RobG9yZW56L2Rldi9wcm9qZWN0cy9icmFjZS9leGFtcGxlL25vZGVfbW9kdWxlcy9icmFjZS93b3JrZXIvY29mZmVlLmpzIiwiL1VzZXJzL3RobG9yZW56L2Rldi9wcm9qZWN0cy9icmFjZS9leGFtcGxlL25vZGVfbW9kdWxlcy9icmFjZS93b3JrZXIvamF2YXNjcmlwdC5qcyIsIi9Vc2Vycy90aGxvcmVuei9kZXYvcHJvamVjdHMvYnJhY2UvZXhhbXBsZS9ub2RlX21vZHVsZXMvYnJhY2Uvd29ya2VyL2pzb24uanMiLCIvVXNlcnMvdGhsb3JlbnovZGV2L3Byb2plY3RzL2JyYWNlL2V4YW1wbGUvbm9kZV9tb2R1bGVzL2JyYWNlL3dvcmtlci9sdWEuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsc2VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNTJCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbGtCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdmNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0lBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaklBO0FBQ0E7O0FDREE7QUFDQTs7QUNEQTtBQUNBOztBQ0RBO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIil9dmFyIGY9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsInZhciBhY2UgPSByZXF1aXJlKCdicmFjZScpO1xucmVxdWlyZSgnYnJhY2UvbW9kZS9jb2ZmZWUnKTtcbnJlcXVpcmUoJ2JyYWNlL3RoZW1lL3ZpYnJhbnRfaW5rJyk7XG5cbnZhciBlZGl0b3IgPSBhY2UuZWRpdCgnY29mZmVlLWVkaXRvcicpO1xuZWRpdG9yLnNldFRoZW1lKCdhY2UvdGhlbWUvdmlicmFudF9pbmsnKTtcbmVkaXRvci5nZXRTZXNzaW9uKCkuc2V0TW9kZSgnYWNlL21vZGUvY29mZmVlJyk7XG5lZGl0b3Iuc2V0VmFsdWUoW1xuICAgICcjIENvZmZlZSdcbiAgLCAnc3F1YXJlID0gKHgpIC0+IHggKiB4J1xuICAsICcnXG4gICwgJyMgYmVsb3cgbGluZSBoYXMgYW4gZXJyb3Igd2hpY2ggaXMgYW5ub3RhdGVkJ1xuICAsICdzcXVhcmUgPSB4IC0+IHggKiAnXG4gIF0uam9pbignXFxuJylcbik7XG5lZGl0b3IuY2xlYXJTZWxlY3Rpb24oKTtcbiIsInZhciBhY2UgPSByZXF1aXJlKCdicmFjZScpO1xucmVxdWlyZSgnYnJhY2UvbW9kZS9qYXZhc2NyaXB0Jyk7XG5yZXF1aXJlKCdicmFjZS90aGVtZS9tb25va2FpJyk7XG5cbnZhciBlZGl0b3IgPSBhY2UuZWRpdCgnamF2YXNjcmlwdC1lZGl0b3InKTtcbmVkaXRvci5nZXRTZXNzaW9uKCkuc2V0TW9kZSgnYWNlL21vZGUvamF2YXNjcmlwdCcpO1xuZWRpdG9yLnNldFRoZW1lKCdhY2UvdGhlbWUvbW9ub2thaScpO1xuZWRpdG9yLnNldFZhbHVlKFtcbiAgICAnLy8gSmF2YVNjcmlwdCdcbiAgLCAndmFyIGEgPSAzOydcbiAgLCAnJ1xuICAsICcvLyBiZWxvdyBsaW5lIGhhcyBhbiBlcnJvciB3aGljaCBpcyBhbm5vdGF0ZWQnXG4gICwgJ3ZhciBiID0nXG4gIF0uam9pbignXFxuJylcbik7XG5lZGl0b3IuY2xlYXJTZWxlY3Rpb24oKTtcbiIsInZhciBhY2UgPSByZXF1aXJlKCdicmFjZScpO1xucmVxdWlyZSgnYnJhY2UvbW9kZS9qc29uJyk7XG5yZXF1aXJlKCdicmFjZS90aGVtZS9zb2xhcml6ZWRfbGlnaHQnKTtcblxudmFyIGVkaXRvciA9IGFjZS5lZGl0KCdqc29uLWVkaXRvcicpO1xuZWRpdG9yLmdldFNlc3Npb24oKS5zZXRNb2RlKCdhY2UvbW9kZS9qc29uJyk7XG5lZGl0b3Iuc2V0VGhlbWUoJ2FjZS90aGVtZS9zb2xhcml6ZWRfbGlnaHQnKTtcbmVkaXRvci5zZXRWYWx1ZShbXG4gICAgJ3snXG4gICwgJyBcImxhbmd1YWdlXCI6IFwiSlNPTlwiLCdcbiAgLCAnIFwiZm9vXCI6IFwiYmFyXCIsJ1xuICAsICcgXCJ0cmFpbGluZ1wiOiBcImNvbW1hXCIsJ1xuICAsICd9J1xuICBdLmpvaW4oJ1xcbicpXG4pO1xuZWRpdG9yLmNsZWFyU2VsZWN0aW9uKCk7XG4iLCJ2YXIgYWNlID0gcmVxdWlyZSgnYnJhY2UnKTtcbnJlcXVpcmUoJ2JyYWNlL21vZGUvbHVhJyk7XG5yZXF1aXJlKCdicmFjZS90aGVtZS9zb2xhcml6ZWRfZGFyaycpO1xuXG52YXIgZWRpdG9yID0gYWNlLmVkaXQoJ2x1YS1lZGl0b3InKTtcbmVkaXRvci5zZXRUaGVtZSgnYWNlL3RoZW1lL3NvbGFyaXplZF9kYXJrJyk7XG5lZGl0b3IuZ2V0U2Vzc2lvbigpLnNldE1vZGUoJ2FjZS9tb2RlL2x1YScpO1xuZWRpdG9yLnNldFZhbHVlKFtcbiAgICAnLS0tIEx1YSdcbiAgLCAnZm9yIGkgPSA1LCAxMSwgMC41IGRvJ1xuICAsICcgICAgcHJpbnQoaSknXG4gICwgJ2VuZCdcbiAgLCAnLS0tIGVycm9yIGJlbG93IHNob3VsZCBiZSBtYXJrZWQnXG4gICwgJ2ZvciBpID0nXG4gIF0uam9pbignXFxuJylcbik7XG5lZGl0b3IuY2xlYXJTZWxlY3Rpb24oKTtcbiIsIi8qICoqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKipcbiAqIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBCU0QgbGljZW5zZTpcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTAsIEFqYXgub3JnIEIuVi5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG4gKiAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodFxuICogICAgICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICogICAgICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGVcbiAqICAgICAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKiAgICAgKiBOZWl0aGVyIHRoZSBuYW1lIG9mIEFqYXgub3JnIEIuVi4gbm9yIHRoZVxuICogICAgICAgbmFtZXMgb2YgaXRzIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHNcbiAqICAgICAgIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICogXG4gKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIFwiQVMgSVNcIiBBTkRcbiAqIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEXG4gKiBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFXG4gKiBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBBSkFYLk9SRyBCLlYuIEJFIExJQUJMRSBGT1IgQU5ZXG4gKiBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFU1xuICogKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTO1xuICogTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EXG4gKiBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxuICogKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVNcbiAqIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICpcbiAqICoqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqICovXG5cbihmdW5jdGlvbigpIHtcblxudmFyIEFDRV9OQU1FU1BBQ0UgPSBcImFjZVwiO1xuXG52YXIgZ2xvYmFsID0gKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xufSkoKTtcblxuXG5pZiAoIUFDRV9OQU1FU1BBQ0UgJiYgdHlwZW9mIGFjZXF1aXJlanMgIT09IFwidW5kZWZpbmVkXCIpXG4gICAgcmV0dXJuO1xuXG5cbnZhciBfZGVmaW5lID0gZnVuY3Rpb24obW9kdWxlLCBkZXBzLCBwYXlsb2FkKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmIChfZGVmaW5lLm9yaWdpbmFsKVxuICAgICAgICAgICAgX2RlZmluZS5vcmlnaW5hbC5hcHBseSh3aW5kb3csIGFyZ3VtZW50cyk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignZHJvcHBpbmcgbW9kdWxlIGJlY2F1c2UgZGVmaW5lIHdhc25cXCd0IGEgc3RyaW5nLicpO1xuICAgICAgICAgICAgY29uc29sZS50cmFjZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAyKVxuICAgICAgICBwYXlsb2FkID0gZGVwcztcblxuICAgIGlmICghX2RlZmluZS5tb2R1bGVzKSB7XG4gICAgICAgIF9kZWZpbmUubW9kdWxlcyA9IHt9O1xuICAgICAgICBfZGVmaW5lLnBheWxvYWRzID0ge307XG4gICAgfVxuICAgIFxuICAgIF9kZWZpbmUucGF5bG9hZHNbbW9kdWxlXSA9IHBheWxvYWQ7XG4gICAgX2RlZmluZS5tb2R1bGVzW21vZHVsZV0gPSBudWxsO1xufTtcbnZhciBfYWNlcXVpcmUgPSBmdW5jdGlvbihwYXJlbnRJZCwgbW9kdWxlLCBjYWxsYmFjaykge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobW9kdWxlKSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiKSB7XG4gICAgICAgIHZhciBwYXJhbXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBtb2R1bGUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgZGVwID0gbG9va3VwKHBhcmVudElkLCBtb2R1bGVbaV0pO1xuICAgICAgICAgICAgaWYgKCFkZXAgJiYgX2FjZXF1aXJlLm9yaWdpbmFsKVxuICAgICAgICAgICAgICAgIHJldHVybiBfYWNlcXVpcmUub3JpZ2luYWwuYXBwbHkod2luZG93LCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgcGFyYW1zLnB1c2goZGVwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KG51bGwsIHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFyIHBheWxvYWQgPSBsb29rdXAocGFyZW50SWQsIG1vZHVsZSk7XG4gICAgICAgIGlmICghcGF5bG9hZCAmJiBfYWNlcXVpcmUub3JpZ2luYWwpXG4gICAgICAgICAgICByZXR1cm4gX2FjZXF1aXJlLm9yaWdpbmFsLmFwcGx5KHdpbmRvdywgYXJndW1lbnRzKTtcblxuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChfYWNlcXVpcmUub3JpZ2luYWwpXG4gICAgICAgICAgICByZXR1cm4gX2FjZXF1aXJlLm9yaWdpbmFsLmFwcGx5KHdpbmRvdywgYXJndW1lbnRzKTtcbiAgICB9XG59O1xuXG52YXIgbm9ybWFsaXplTW9kdWxlID0gZnVuY3Rpb24ocGFyZW50SWQsIG1vZHVsZU5hbWUpIHtcbiAgICBpZiAobW9kdWxlTmFtZS5pbmRleE9mKFwiIVwiKSAhPT0gLTEpIHtcbiAgICAgICAgdmFyIGNodW5rcyA9IG1vZHVsZU5hbWUuc3BsaXQoXCIhXCIpO1xuICAgICAgICByZXR1cm4gbm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBjaHVua3NbMF0pICsgXCIhXCIgKyBub3JtYWxpemVNb2R1bGUocGFyZW50SWQsIGNodW5rc1sxXSk7XG4gICAgfVxuICAgIGlmIChtb2R1bGVOYW1lLmNoYXJBdCgwKSA9PSBcIi5cIikge1xuICAgICAgICB2YXIgYmFzZSA9IHBhcmVudElkLnNwbGl0KFwiL1wiKS5zbGljZSgwLCAtMSkuam9pbihcIi9cIik7XG4gICAgICAgIG1vZHVsZU5hbWUgPSBiYXNlICsgXCIvXCIgKyBtb2R1bGVOYW1lO1xuXG4gICAgICAgIHdoaWxlKG1vZHVsZU5hbWUuaW5kZXhPZihcIi5cIikgIT09IC0xICYmIHByZXZpb3VzICE9IG1vZHVsZU5hbWUpIHtcbiAgICAgICAgICAgIHZhciBwcmV2aW91cyA9IG1vZHVsZU5hbWU7XG4gICAgICAgICAgICBtb2R1bGVOYW1lID0gbW9kdWxlTmFtZS5yZXBsYWNlKC9cXC9cXC5cXC8vLCBcIi9cIikucmVwbGFjZSgvW15cXC9dK1xcL1xcLlxcLlxcLy8sIFwiXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZHVsZU5hbWU7XG59O1xudmFyIGxvb2t1cCA9IGZ1bmN0aW9uKHBhcmVudElkLCBtb2R1bGVOYW1lKSB7XG5cbiAgICBtb2R1bGVOYW1lID0gbm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBtb2R1bGVOYW1lKTtcblxuICAgIHZhciBtb2R1bGUgPSBfZGVmaW5lLm1vZHVsZXNbbW9kdWxlTmFtZV07XG4gICAgaWYgKCFtb2R1bGUpIHtcbiAgICAgICAgbW9kdWxlID0gX2RlZmluZS5wYXlsb2Fkc1ttb2R1bGVOYW1lXTtcbiAgICAgICAgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHZhciBleHBvcnRzID0ge307XG4gICAgICAgICAgICB2YXIgbW9kID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtb2R1bGVOYW1lLFxuICAgICAgICAgICAgICAgIHVyaTogJycsXG4gICAgICAgICAgICAgICAgZXhwb3J0czogZXhwb3J0cyxcbiAgICAgICAgICAgICAgICBwYWNrYWdlZDogdHJ1ZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIHJlcSA9IGZ1bmN0aW9uKG1vZHVsZSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2FjZXF1aXJlKG1vZHVsZU5hbWUsIG1vZHVsZSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIHJldHVyblZhbHVlID0gbW9kdWxlKHJlcSwgZXhwb3J0cywgbW9kKTtcbiAgICAgICAgICAgIGV4cG9ydHMgPSByZXR1cm5WYWx1ZSB8fCBtb2QuZXhwb3J0cztcbiAgICAgICAgICAgIF9kZWZpbmUubW9kdWxlc1ttb2R1bGVOYW1lXSA9IGV4cG9ydHM7XG4gICAgICAgICAgICBkZWxldGUgX2RlZmluZS5wYXlsb2Fkc1ttb2R1bGVOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBtb2R1bGUgPSBfZGVmaW5lLm1vZHVsZXNbbW9kdWxlTmFtZV0gPSBleHBvcnRzIHx8IG1vZHVsZTtcbiAgICB9XG4gICAgcmV0dXJuIG1vZHVsZTtcbn07XG5cbmZ1bmN0aW9uIGV4cG9ydEFjZShucykge1xuICAgIHZhciBhY2VxdWlyZSA9IGZ1bmN0aW9uKG1vZHVsZSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIF9hY2VxdWlyZShcIlwiLCBtb2R1bGUsIGNhbGxiYWNrKTtcbiAgICB9OyAgICBcblxuICAgIHZhciByb290ID0gZ2xvYmFsO1xuICAgIGlmIChucykge1xuICAgICAgICBpZiAoIWdsb2JhbFtuc10pXG4gICAgICAgICAgICBnbG9iYWxbbnNdID0ge307XG4gICAgICAgIHJvb3QgPSBnbG9iYWxbbnNdO1xuICAgIH1cblxuICAgIGlmICghcm9vdC5kZWZpbmUgfHwgIXJvb3QuZGVmaW5lLnBhY2thZ2VkKSB7XG4gICAgICAgIF9kZWZpbmUub3JpZ2luYWwgPSByb290LmRlZmluZTtcbiAgICAgICAgcm9vdC5kZWZpbmUgPSBfZGVmaW5lO1xuICAgICAgICByb290LmRlZmluZS5wYWNrYWdlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKCFyb290LmFjZXF1aXJlIHx8ICFyb290LmFjZXF1aXJlLnBhY2thZ2VkKSB7XG4gICAgICAgIF9hY2VxdWlyZS5vcmlnaW5hbCA9IHJvb3QuYWNlcXVpcmU7XG4gICAgICAgIHJvb3QuYWNlcXVpcmUgPSBhY2VxdWlyZTtcbiAgICAgICAgcm9vdC5hY2VxdWlyZS5wYWNrYWdlZCA9IHRydWU7XG4gICAgfVxufVxuXG5leHBvcnRBY2UoQUNFX05BTUVTUEFDRSk7XG5cbn0pKCk7XG5cbmFjZS5kZWZpbmUoJ2FjZS9hY2UnLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgLCAnYWNlL2xpYi9maXhvbGRicm93c2VycycsICdhY2UvbGliL2RvbScsICdhY2UvbGliL2V2ZW50JywgJ2FjZS9lZGl0b3InLCAnYWNlL2VkaXRfc2Vzc2lvbicsICdhY2UvdW5kb21hbmFnZXInLCAnYWNlL3ZpcnR1YWxfcmVuZGVyZXInLCAnYWNlL211bHRpX3NlbGVjdCcsICdhY2Uvd29ya2VyL3dvcmtlcl9jbGllbnQnLCAnYWNlL2tleWJvYXJkL2hhc2hfaGFuZGxlcicsICdhY2UvcGxhY2Vob2xkZXInLCAnYWNlL21vZGUvZm9sZGluZy9mb2xkX21vZGUnLCAnYWNlL3RoZW1lL3RleHRtYXRlJywgJ2FjZS9jb25maWcnXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5cbmFjZXF1aXJlKFwiLi9saWIvZml4b2xkYnJvd3NlcnNcIik7XG5cbnZhciBkb20gPSBhY2VxdWlyZShcIi4vbGliL2RvbVwiKTtcbnZhciBldmVudCA9IGFjZXF1aXJlKFwiLi9saWIvZXZlbnRcIik7XG5cbnZhciBFZGl0b3IgPSBhY2VxdWlyZShcIi4vZWRpdG9yXCIpLkVkaXRvcjtcbnZhciBFZGl0U2Vzc2lvbiA9IGFjZXF1aXJlKFwiLi9lZGl0X3Nlc3Npb25cIikuRWRpdFNlc3Npb247XG52YXIgVW5kb01hbmFnZXIgPSBhY2VxdWlyZShcIi4vdW5kb21hbmFnZXJcIikuVW5kb01hbmFnZXI7XG52YXIgUmVuZGVyZXIgPSBhY2VxdWlyZShcIi4vdmlydHVhbF9yZW5kZXJlclwiKS5WaXJ0dWFsUmVuZGVyZXI7XG52YXIgTXVsdGlTZWxlY3QgPSBhY2VxdWlyZShcIi4vbXVsdGlfc2VsZWN0XCIpLk11bHRpU2VsZWN0O1xuYWNlcXVpcmUoXCIuL3dvcmtlci93b3JrZXJfY2xpZW50XCIpO1xuYWNlcXVpcmUoXCIuL2tleWJvYXJkL2hhc2hfaGFuZGxlclwiKTtcbmFjZXF1aXJlKFwiLi9wbGFjZWhvbGRlclwiKTtcbmFjZXF1aXJlKFwiLi9tb2RlL2ZvbGRpbmcvZm9sZF9tb2RlXCIpO1xuYWNlcXVpcmUoXCIuL3RoZW1lL3RleHRtYXRlXCIpO1xuXG5leHBvcnRzLmNvbmZpZyA9IGFjZXF1aXJlKFwiLi9jb25maWdcIik7XG5leHBvcnRzLmFjZXF1aXJlID0gYWNlcXVpcmU7XG5leHBvcnRzLmVkaXQgPSBmdW5jdGlvbihlbCkge1xuICAgIGlmICh0eXBlb2YoZWwpID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdmFyIF9pZCA9IGVsO1xuICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChfaWQpO1xuICAgICAgICBpZiAoIWVsKVxuICAgICAgICAgICAgdGhyb3cgXCJhY2UuZWRpdCBjYW4ndCBmaW5kIGRpdiAjXCIgKyBfaWQ7XG4gICAgfVxuXG4gICAgaWYgKGVsLmVudiAmJiBlbC5lbnYuZWRpdG9yIGluc3RhbmNlb2YgRWRpdG9yKVxuICAgICAgICByZXR1cm4gZWwuZW52LmVkaXRvcjtcblxuICAgIHZhciBkb2MgPSBleHBvcnRzLmNyZWF0ZUVkaXRTZXNzaW9uKGRvbS5nZXRJbm5lclRleHQoZWwpKTtcbiAgICBlbC5pbm5lckhUTUwgPSAnJztcblxuICAgIHZhciBlZGl0b3IgPSBuZXcgRWRpdG9yKG5ldyBSZW5kZXJlcihlbCkpO1xuICAgIG5ldyBNdWx0aVNlbGVjdChlZGl0b3IpO1xuICAgIGVkaXRvci5zZXRTZXNzaW9uKGRvYyk7XG5cbiAgICB2YXIgZW52ID0ge1xuICAgICAgICBkb2N1bWVudDogZG9jLFxuICAgICAgICBlZGl0b3I6IGVkaXRvcixcbiAgICAgICAgb25SZXNpemU6IGVkaXRvci5yZXNpemUuYmluZChlZGl0b3IsIG51bGwpXG4gICAgfTtcbiAgICBldmVudC5hZGRMaXN0ZW5lcih3aW5kb3csIFwicmVzaXplXCIsIGVudi5vblJlc2l6ZSk7XG4gICAgZWRpdG9yLm9uKFwiZGVzdHJveVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXZlbnQucmVtb3ZlTGlzdGVuZXIod2luZG93LCBcInJlc2l6ZVwiLCBlbnYub25SZXNpemUpO1xuICAgIH0pO1xuICAgIGVsLmVudiA9IGVkaXRvci5lbnYgPSBlbnY7XG4gICAgcmV0dXJuIGVkaXRvcjtcbn07XG5leHBvcnRzLmNyZWF0ZUVkaXRTZXNzaW9uID0gZnVuY3Rpb24odGV4dCwgbW9kZSkge1xuICAgIHZhciBkb2MgPSBuZXcgRWRpdFNlc3Npb24odGV4dCwgbW9kZSk7XG4gICAgZG9jLnNldFVuZG9NYW5hZ2VyKG5ldyBVbmRvTWFuYWdlcigpKTtcbiAgICByZXR1cm4gZG9jO1xufVxuZXhwb3J0cy5FZGl0U2Vzc2lvbiA9IEVkaXRTZXNzaW9uO1xuZXhwb3J0cy5VbmRvTWFuYWdlciA9IFVuZG9NYW5hZ2VyO1xufSk7XG5cbmFjZS5kZWZpbmUoJ2FjZS9saWIvZml4b2xkYnJvd3NlcnMnLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgLCAnYWNlL2xpYi9yZWdleHAnLCAnYWNlL2xpYi9lczUtc2hpbSddLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cblxuYWNlcXVpcmUoXCIuL3JlZ2V4cFwiKTtcbmFjZXF1aXJlKFwiLi9lczUtc2hpbVwiKTtcblxufSk7XG4gXG5hY2UuZGVmaW5lKCdhY2UvbGliL3JlZ2V4cCcsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyBdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cbiAgICB2YXIgcmVhbCA9IHtcbiAgICAgICAgICAgIGV4ZWM6IFJlZ0V4cC5wcm90b3R5cGUuZXhlYyxcbiAgICAgICAgICAgIHRlc3Q6IFJlZ0V4cC5wcm90b3R5cGUudGVzdCxcbiAgICAgICAgICAgIG1hdGNoOiBTdHJpbmcucHJvdG90eXBlLm1hdGNoLFxuICAgICAgICAgICAgcmVwbGFjZTogU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlLFxuICAgICAgICAgICAgc3BsaXQ6IFN0cmluZy5wcm90b3R5cGUuc3BsaXRcbiAgICAgICAgfSxcbiAgICAgICAgY29tcGxpYW50RXhlY05wY2cgPSByZWFsLmV4ZWMuY2FsbCgvKCk/Py8sIFwiXCIpWzFdID09PSB1bmRlZmluZWQsIC8vIGNoZWNrIGBleGVjYCBoYW5kbGluZyBvZiBub25wYXJ0aWNpcGF0aW5nIGNhcHR1cmluZyBncm91cHNcbiAgICAgICAgY29tcGxpYW50TGFzdEluZGV4SW5jcmVtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHggPSAvXi9nO1xuICAgICAgICAgICAgcmVhbC50ZXN0LmNhbGwoeCwgXCJcIik7XG4gICAgICAgICAgICByZXR1cm4gIXgubGFzdEluZGV4O1xuICAgICAgICB9KCk7XG5cbiAgICBpZiAoY29tcGxpYW50TGFzdEluZGV4SW5jcmVtZW50ICYmIGNvbXBsaWFudEV4ZWNOcGNnKVxuICAgICAgICByZXR1cm47XG4gICAgUmVnRXhwLnByb3RvdHlwZS5leGVjID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICB2YXIgbWF0Y2ggPSByZWFsLmV4ZWMuYXBwbHkodGhpcywgYXJndW1lbnRzKSxcbiAgICAgICAgICAgIG5hbWUsIHIyO1xuICAgICAgICBpZiAoIHR5cGVvZihzdHIpID09ICdzdHJpbmcnICYmIG1hdGNoKSB7XG4gICAgICAgICAgICBpZiAoIWNvbXBsaWFudEV4ZWNOcGNnICYmIG1hdGNoLmxlbmd0aCA+IDEgJiYgaW5kZXhPZihtYXRjaCwgXCJcIikgPiAtMSkge1xuICAgICAgICAgICAgICAgIHIyID0gUmVnRXhwKHRoaXMuc291cmNlLCByZWFsLnJlcGxhY2UuY2FsbChnZXROYXRpdmVGbGFncyh0aGlzKSwgXCJnXCIsIFwiXCIpKTtcbiAgICAgICAgICAgICAgICByZWFsLnJlcGxhY2UuY2FsbChzdHIuc2xpY2UobWF0Y2guaW5kZXgpLCByMiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGggLSAyOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHNbaV0gPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFtpXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3hyZWdleHAgJiYgdGhpcy5feHJlZ2V4cC5jYXB0dXJlTmFtZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IG1hdGNoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWUgPSB0aGlzLl94cmVnZXhwLmNhcHR1cmVOYW1lc1tpIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChuYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFtuYW1lXSA9IG1hdGNoW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY29tcGxpYW50TGFzdEluZGV4SW5jcmVtZW50ICYmIHRoaXMuZ2xvYmFsICYmICFtYXRjaFswXS5sZW5ndGggJiYgKHRoaXMubGFzdEluZGV4ID4gbWF0Y2guaW5kZXgpKVxuICAgICAgICAgICAgICAgIHRoaXMubGFzdEluZGV4LS07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH07XG4gICAgaWYgKCFjb21wbGlhbnRMYXN0SW5kZXhJbmNyZW1lbnQpIHtcbiAgICAgICAgUmVnRXhwLnByb3RvdHlwZS50ZXN0ID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICAgICAgdmFyIG1hdGNoID0gcmVhbC5leGVjLmNhbGwodGhpcywgc3RyKTtcbiAgICAgICAgICAgIGlmIChtYXRjaCAmJiB0aGlzLmdsb2JhbCAmJiAhbWF0Y2hbMF0ubGVuZ3RoICYmICh0aGlzLmxhc3RJbmRleCA+IG1hdGNoLmluZGV4KSlcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RJbmRleC0tO1xuICAgICAgICAgICAgcmV0dXJuICEhbWF0Y2g7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0TmF0aXZlRmxhZ3MgKHJlZ2V4KSB7XG4gICAgICAgIHJldHVybiAocmVnZXguZ2xvYmFsICAgICA/IFwiZ1wiIDogXCJcIikgK1xuICAgICAgICAgICAgICAgKHJlZ2V4Lmlnbm9yZUNhc2UgPyBcImlcIiA6IFwiXCIpICtcbiAgICAgICAgICAgICAgIChyZWdleC5tdWx0aWxpbmUgID8gXCJtXCIgOiBcIlwiKSArXG4gICAgICAgICAgICAgICAocmVnZXguZXh0ZW5kZWQgICA/IFwieFwiIDogXCJcIikgKyAvLyBQcm9wb3NlZCBmb3IgRVM0OyBpbmNsdWRlZCBpbiBBUzNcbiAgICAgICAgICAgICAgIChyZWdleC5zdGlja3kgICAgID8gXCJ5XCIgOiBcIlwiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbmRleE9mIChhcnJheSwgaXRlbSwgZnJvbSkge1xuICAgICAgICBpZiAoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpIC8vIFVzZSB0aGUgbmF0aXZlIGFycmF5IG1ldGhvZCBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgIHJldHVybiBhcnJheS5pbmRleE9mKGl0ZW0sIGZyb20pO1xuICAgICAgICBmb3IgKHZhciBpID0gZnJvbSB8fCAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChhcnJheVtpXSA9PT0gaXRlbSlcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG59KTtcblxuYWNlLmRlZmluZSgnYWNlL2xpYi9lczUtc2hpbScsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyBdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cbmZ1bmN0aW9uIEVtcHR5KCkge31cblxuaWYgKCFGdW5jdGlvbi5wcm90b3R5cGUuYmluZCkge1xuICAgIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gYmluZCh0aGF0KSB7IC8vIC5sZW5ndGggaXMgMVxuICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcztcbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgIT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgY2FsbGVkIG9uIGluY29tcGF0aWJsZSBcIiArIHRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7IC8vIGZvciBub3JtYWwgY2FsbFxuICAgICAgICB2YXIgYm91bmQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgYm91bmQpIHtcblxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0YXJnZXQuYXBwbHkoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3QocmVzdWx0KSA9PT0gcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQuYXBwbHkoXG4gICAgICAgICAgICAgICAgICAgIHRoYXQsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSlcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcbiAgICAgICAgaWYodGFyZ2V0LnByb3RvdHlwZSkge1xuICAgICAgICAgICAgRW1wdHkucHJvdG90eXBlID0gdGFyZ2V0LnByb3RvdHlwZTtcbiAgICAgICAgICAgIGJvdW5kLnByb3RvdHlwZSA9IG5ldyBFbXB0eSgpO1xuICAgICAgICAgICAgRW1wdHkucHJvdG90eXBlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYm91bmQ7XG4gICAgfTtcbn1cbnZhciBjYWxsID0gRnVuY3Rpb24ucHJvdG90eXBlLmNhbGw7XG52YXIgcHJvdG90eXBlT2ZBcnJheSA9IEFycmF5LnByb3RvdHlwZTtcbnZhciBwcm90b3R5cGVPZk9iamVjdCA9IE9iamVjdC5wcm90b3R5cGU7XG52YXIgc2xpY2UgPSBwcm90b3R5cGVPZkFycmF5LnNsaWNlO1xudmFyIF90b1N0cmluZyA9IGNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC50b1N0cmluZyk7XG52YXIgb3ducyA9IGNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5oYXNPd25Qcm9wZXJ0eSk7XG52YXIgZGVmaW5lR2V0dGVyO1xudmFyIGRlZmluZVNldHRlcjtcbnZhciBsb29rdXBHZXR0ZXI7XG52YXIgbG9va3VwU2V0dGVyO1xudmFyIHN1cHBvcnRzQWNjZXNzb3JzO1xuaWYgKChzdXBwb3J0c0FjY2Vzc29ycyA9IG93bnMocHJvdG90eXBlT2ZPYmplY3QsIFwiX19kZWZpbmVHZXR0ZXJfX1wiKSkpIHtcbiAgICBkZWZpbmVHZXR0ZXIgPSBjYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19kZWZpbmVHZXR0ZXJfXyk7XG4gICAgZGVmaW5lU2V0dGVyID0gY2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0Ll9fZGVmaW5lU2V0dGVyX18pO1xuICAgIGxvb2t1cEdldHRlciA9IGNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5fX2xvb2t1cEdldHRlcl9fKTtcbiAgICBsb29rdXBTZXR0ZXIgPSBjYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19sb29rdXBTZXR0ZXJfXyk7XG59XG5pZiAoWzEsMl0uc3BsaWNlKDApLmxlbmd0aCAhPSAyKSB7XG4gICAgaWYoZnVuY3Rpb24oKSB7IC8vIHRlc3QgSUUgPCA5IHRvIHNwbGljZSBidWcgLSBzZWUgaXNzdWUgIzEzOFxuICAgICAgICBmdW5jdGlvbiBtYWtlQXJyYXkobCkge1xuICAgICAgICAgICAgdmFyIGEgPSBuZXcgQXJyYXkobCsyKTtcbiAgICAgICAgICAgIGFbMF0gPSBhWzFdID0gMDtcbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcnJheSA9IFtdLCBsZW5ndGhCZWZvcmU7XG4gICAgICAgIFxuICAgICAgICBhcnJheS5zcGxpY2UuYXBwbHkoYXJyYXksIG1ha2VBcnJheSgyMCkpO1xuICAgICAgICBhcnJheS5zcGxpY2UuYXBwbHkoYXJyYXksIG1ha2VBcnJheSgyNikpO1xuXG4gICAgICAgIGxlbmd0aEJlZm9yZSA9IGFycmF5Lmxlbmd0aDsgLy80NlxuICAgICAgICBhcnJheS5zcGxpY2UoNSwgMCwgXCJYWFhcIik7IC8vIGFkZCBvbmUgZWxlbWVudFxuXG4gICAgICAgIGxlbmd0aEJlZm9yZSArIDEgPT0gYXJyYXkubGVuZ3RoXG5cbiAgICAgICAgaWYgKGxlbmd0aEJlZm9yZSArIDEgPT0gYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsvLyBoYXMgcmlnaHQgc3BsaWNlIGltcGxlbWVudGF0aW9uIHdpdGhvdXQgYnVnc1xuICAgICAgICB9XG4gICAgfSgpKSB7Ly9JRSA2LzdcbiAgICAgICAgdmFyIGFycmF5X3NwbGljZSA9IEFycmF5LnByb3RvdHlwZS5zcGxpY2U7XG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5zcGxpY2UgPSBmdW5jdGlvbihzdGFydCwgZGVsZXRlQ291bnQpIHtcbiAgICAgICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5X3NwbGljZS5hcHBseSh0aGlzLCBbXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0ID09PSB2b2lkIDAgPyAwIDogc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZUNvdW50ID09PSB2b2lkIDAgPyAodGhpcy5sZW5ndGggLSBzdGFydCkgOiBkZWxldGVDb3VudFxuICAgICAgICAgICAgICAgIF0uY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSBlbHNlIHsvL0lFOFxuICAgICAgICBBcnJheS5wcm90b3R5cGUuc3BsaWNlID0gZnVuY3Rpb24ocG9zLCByZW1vdmVDb3VudCl7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAocG9zID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChwb3MgPiBsZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIHBvcyA9IGxlbmd0aDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocG9zID09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHBvcyA9IDA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBvcyA8IDApIHtcbiAgICAgICAgICAgICAgICBwb3MgPSBNYXRoLm1heChsZW5ndGggKyBwb3MsIDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIShwb3MrcmVtb3ZlQ291bnQgPCBsZW5ndGgpKVxuICAgICAgICAgICAgICAgIHJlbW92ZUNvdW50ID0gbGVuZ3RoIC0gcG9zO1xuXG4gICAgICAgICAgICB2YXIgcmVtb3ZlZCA9IHRoaXMuc2xpY2UocG9zLCBwb3MrcmVtb3ZlQ291bnQpO1xuICAgICAgICAgICAgdmFyIGluc2VydCA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICAgICAgICAgIHZhciBhZGQgPSBpbnNlcnQubGVuZ3RoOyAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHBvcyA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFkZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnB1c2guYXBwbHkodGhpcywgaW5zZXJ0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciByZW1vdmUgPSBNYXRoLm1pbihyZW1vdmVDb3VudCwgbGVuZ3RoIC0gcG9zKTtcbiAgICAgICAgICAgICAgICB2YXIgdGFpbE9sZFBvcyA9IHBvcyArIHJlbW92ZTtcbiAgICAgICAgICAgICAgICB2YXIgdGFpbE5ld1BvcyA9IHRhaWxPbGRQb3MgKyBhZGQgLSByZW1vdmU7XG4gICAgICAgICAgICAgICAgdmFyIHRhaWxDb3VudCA9IGxlbmd0aCAtIHRhaWxPbGRQb3M7XG4gICAgICAgICAgICAgICAgdmFyIGxlbmd0aEFmdGVyUmVtb3ZlID0gbGVuZ3RoIC0gcmVtb3ZlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRhaWxOZXdQb3MgPCB0YWlsT2xkUG9zKSB7IC8vIGNhc2UgQVxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhaWxDb3VudDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3RhaWxOZXdQb3MraV0gPSB0aGlzW3RhaWxPbGRQb3MraV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhaWxOZXdQb3MgPiB0YWlsT2xkUG9zKSB7IC8vIGNhc2UgQlxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSB0YWlsQ291bnQ7IGktLTsgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3RhaWxOZXdQb3MraV0gPSB0aGlzW3RhaWxPbGRQb3MraV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IC8vIGVsc2UsIGFkZCA9PSByZW1vdmUgKG5vdGhpbmcgdG8gZG8pXG5cbiAgICAgICAgICAgICAgICBpZiAoYWRkICYmIHBvcyA9PT0gbGVuZ3RoQWZ0ZXJSZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGhBZnRlclJlbW92ZTsgLy8gdHJ1bmNhdGUgYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoLmFwcGx5KHRoaXMsIGluc2VydCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGhBZnRlclJlbW92ZSArIGFkZDsgLy8gcmVzZXJ2ZXMgc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGFkZDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3BvcytpXSA9IGluc2VydFtpXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZW1vdmVkO1xuICAgICAgICB9O1xuICAgIH1cbn1cbmlmICghQXJyYXkuaXNBcnJheSkge1xuICAgIEFycmF5LmlzQXJyYXkgPSBmdW5jdGlvbiBpc0FycmF5KG9iaikge1xuICAgICAgICByZXR1cm4gX3RvU3RyaW5nKG9iaikgPT0gXCJbb2JqZWN0IEFycmF5XVwiO1xuICAgIH07XG59XG52YXIgYm94ZWRTdHJpbmcgPSBPYmplY3QoXCJhXCIpLFxuICAgIHNwbGl0U3RyaW5nID0gYm94ZWRTdHJpbmdbMF0gIT0gXCJhXCIgfHwgISgwIGluIGJveGVkU3RyaW5nKTtcblxuaWYgKCFBcnJheS5wcm90b3R5cGUuZm9yRWFjaCkge1xuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaChmdW4gLyosIHRoaXNwKi8pIHtcbiAgICAgICAgdmFyIG9iamVjdCA9IHRvT2JqZWN0KHRoaXMpLFxuICAgICAgICAgICAgc2VsZiA9IHNwbGl0U3RyaW5nICYmIF90b1N0cmluZyh0aGlzKSA9PSBcIltvYmplY3QgU3RyaW5nXVwiID9cbiAgICAgICAgICAgICAgICB0aGlzLnNwbGl0KFwiXCIpIDpcbiAgICAgICAgICAgICAgICBvYmplY3QsXG4gICAgICAgICAgICB0aGlzcCA9IGFyZ3VtZW50c1sxXSxcbiAgICAgICAgICAgIGkgPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHNlbGYubGVuZ3RoID4+PiAwO1xuICAgICAgICBpZiAoX3RvU3RyaW5nKGZ1bikgIT0gXCJbb2JqZWN0IEZ1bmN0aW9uXVwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7IC8vIFRPRE8gbWVzc2FnZVxuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKCsraSA8IGxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGkgaW4gc2VsZikge1xuICAgICAgICAgICAgICAgIGZ1bi5jYWxsKHRoaXNwLCBzZWxmW2ldLCBpLCBvYmplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbmlmICghQXJyYXkucHJvdG90eXBlLm1hcCkge1xuICAgIEFycmF5LnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiBtYXAoZnVuIC8qLCB0aGlzcCovKSB7XG4gICAgICAgIHZhciBvYmplY3QgPSB0b09iamVjdCh0aGlzKSxcbiAgICAgICAgICAgIHNlbGYgPSBzcGxpdFN0cmluZyAmJiBfdG9TdHJpbmcodGhpcykgPT0gXCJbb2JqZWN0IFN0cmluZ11cIiA/XG4gICAgICAgICAgICAgICAgdGhpcy5zcGxpdChcIlwiKSA6XG4gICAgICAgICAgICAgICAgb2JqZWN0LFxuICAgICAgICAgICAgbGVuZ3RoID0gc2VsZi5sZW5ndGggPj4+IDAsXG4gICAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgICAgdGhpc3AgPSBhcmd1bWVudHNbMV07XG4gICAgICAgIGlmIChfdG9TdHJpbmcoZnVuKSAhPSBcIltvYmplY3QgRnVuY3Rpb25dXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoZnVuICsgXCIgaXMgbm90IGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSBpbiBzZWxmKVxuICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZ1bi5jYWxsKHRoaXNwLCBzZWxmW2ldLCBpLCBvYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbn1cbmlmICghQXJyYXkucHJvdG90eXBlLmZpbHRlcikge1xuICAgIEFycmF5LnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbiBmaWx0ZXIoZnVuIC8qLCB0aGlzcCAqLykge1xuICAgICAgICB2YXIgb2JqZWN0ID0gdG9PYmplY3QodGhpcyksXG4gICAgICAgICAgICBzZWxmID0gc3BsaXRTdHJpbmcgJiYgX3RvU3RyaW5nKHRoaXMpID09IFwiW29iamVjdCBTdHJpbmddXCIgP1xuICAgICAgICAgICAgICAgIHRoaXMuc3BsaXQoXCJcIikgOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3QsXG4gICAgICAgICAgICBsZW5ndGggPSBzZWxmLmxlbmd0aCA+Pj4gMCxcbiAgICAgICAgICAgIHJlc3VsdCA9IFtdLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICB0aGlzcCA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgaWYgKF90b1N0cmluZyhmdW4pICE9IFwiW29iamVjdCBGdW5jdGlvbl1cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4gKyBcIiBpcyBub3QgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpIGluIHNlbGYpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHNlbGZbaV07XG4gICAgICAgICAgICAgICAgaWYgKGZ1bi5jYWxsKHRoaXNwLCB2YWx1ZSwgaSwgb2JqZWN0KSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbn1cbmlmICghQXJyYXkucHJvdG90eXBlLmV2ZXJ5KSB7XG4gICAgQXJyYXkucHJvdG90eXBlLmV2ZXJ5ID0gZnVuY3Rpb24gZXZlcnkoZnVuIC8qLCB0aGlzcCAqLykge1xuICAgICAgICB2YXIgb2JqZWN0ID0gdG9PYmplY3QodGhpcyksXG4gICAgICAgICAgICBzZWxmID0gc3BsaXRTdHJpbmcgJiYgX3RvU3RyaW5nKHRoaXMpID09IFwiW29iamVjdCBTdHJpbmddXCIgP1xuICAgICAgICAgICAgICAgIHRoaXMuc3BsaXQoXCJcIikgOlxuICAgICAgICAgICAgICAgIG9iamVjdCxcbiAgICAgICAgICAgIGxlbmd0aCA9IHNlbGYubGVuZ3RoID4+PiAwLFxuICAgICAgICAgICAgdGhpc3AgPSBhcmd1bWVudHNbMV07XG4gICAgICAgIGlmIChfdG9TdHJpbmcoZnVuKSAhPSBcIltvYmplY3QgRnVuY3Rpb25dXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoZnVuICsgXCIgaXMgbm90IGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSBpbiBzZWxmICYmICFmdW4uY2FsbCh0aGlzcCwgc2VsZltpXSwgaSwgb2JqZWN0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xufVxuaWYgKCFBcnJheS5wcm90b3R5cGUuc29tZSkge1xuICAgIEFycmF5LnByb3RvdHlwZS5zb21lID0gZnVuY3Rpb24gc29tZShmdW4gLyosIHRoaXNwICovKSB7XG4gICAgICAgIHZhciBvYmplY3QgPSB0b09iamVjdCh0aGlzKSxcbiAgICAgICAgICAgIHNlbGYgPSBzcGxpdFN0cmluZyAmJiBfdG9TdHJpbmcodGhpcykgPT0gXCJbb2JqZWN0IFN0cmluZ11cIiA/XG4gICAgICAgICAgICAgICAgdGhpcy5zcGxpdChcIlwiKSA6XG4gICAgICAgICAgICAgICAgb2JqZWN0LFxuICAgICAgICAgICAgbGVuZ3RoID0gc2VsZi5sZW5ndGggPj4+IDAsXG4gICAgICAgICAgICB0aGlzcCA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgaWYgKF90b1N0cmluZyhmdW4pICE9IFwiW29iamVjdCBGdW5jdGlvbl1cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4gKyBcIiBpcyBub3QgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpIGluIHNlbGYgJiYgZnVuLmNhbGwodGhpc3AsIHNlbGZbaV0sIGksIG9iamVjdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbn1cbmlmICghQXJyYXkucHJvdG90eXBlLnJlZHVjZSkge1xuICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UgPSBmdW5jdGlvbiByZWR1Y2UoZnVuIC8qLCBpbml0aWFsKi8pIHtcbiAgICAgICAgdmFyIG9iamVjdCA9IHRvT2JqZWN0KHRoaXMpLFxuICAgICAgICAgICAgc2VsZiA9IHNwbGl0U3RyaW5nICYmIF90b1N0cmluZyh0aGlzKSA9PSBcIltvYmplY3QgU3RyaW5nXVwiID9cbiAgICAgICAgICAgICAgICB0aGlzLnNwbGl0KFwiXCIpIDpcbiAgICAgICAgICAgICAgICBvYmplY3QsXG4gICAgICAgICAgICBsZW5ndGggPSBzZWxmLmxlbmd0aCA+Pj4gMDtcbiAgICAgICAgaWYgKF90b1N0cmluZyhmdW4pICE9IFwiW29iamVjdCBGdW5jdGlvbl1cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4gKyBcIiBpcyBub3QgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWxlbmd0aCAmJiBhcmd1bWVudHMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJyZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBhcmd1bWVudHNbMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaWYgKGkgaW4gc2VsZikge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBzZWxmW2krK107XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKytpID49IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwicmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlICh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpIGluIHNlbGYpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBmdW4uY2FsbCh2b2lkIDAsIHJlc3VsdCwgc2VsZltpXSwgaSwgb2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbn1cbmlmICghQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KSB7XG4gICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0ID0gZnVuY3Rpb24gcmVkdWNlUmlnaHQoZnVuIC8qLCBpbml0aWFsKi8pIHtcbiAgICAgICAgdmFyIG9iamVjdCA9IHRvT2JqZWN0KHRoaXMpLFxuICAgICAgICAgICAgc2VsZiA9IHNwbGl0U3RyaW5nICYmIF90b1N0cmluZyh0aGlzKSA9PSBcIltvYmplY3QgU3RyaW5nXVwiID9cbiAgICAgICAgICAgICAgICB0aGlzLnNwbGl0KFwiXCIpIDpcbiAgICAgICAgICAgICAgICBvYmplY3QsXG4gICAgICAgICAgICBsZW5ndGggPSBzZWxmLmxlbmd0aCA+Pj4gMDtcbiAgICAgICAgaWYgKF90b1N0cmluZyhmdW4pICE9IFwiW29iamVjdCBGdW5jdGlvbl1cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4gKyBcIiBpcyBub3QgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWxlbmd0aCAmJiBhcmd1bWVudHMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJyZWR1Y2VSaWdodCBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWVcIik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzdWx0LCBpID0gbGVuZ3RoIC0gMTtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMikge1xuICAgICAgICAgICAgcmVzdWx0ID0gYXJndW1lbnRzWzFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGlmIChpIGluIHNlbGYpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gc2VsZltpLS1dO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKC0taSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcInJlZHVjZVJpZ2h0IG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlICh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmIChpIGluIHRoaXMpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBmdW4uY2FsbCh2b2lkIDAsIHJlc3VsdCwgc2VsZltpXSwgaSwgb2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoaS0tKTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59XG5pZiAoIUFycmF5LnByb3RvdHlwZS5pbmRleE9mIHx8IChbMCwgMV0uaW5kZXhPZigxLCAyKSAhPSAtMSkpIHtcbiAgICBBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2Yoc291Z2h0IC8qLCBmcm9tSW5kZXggKi8gKSB7XG4gICAgICAgIHZhciBzZWxmID0gc3BsaXRTdHJpbmcgJiYgX3RvU3RyaW5nKHRoaXMpID09IFwiW29iamVjdCBTdHJpbmddXCIgP1xuICAgICAgICAgICAgICAgIHRoaXMuc3BsaXQoXCJcIikgOlxuICAgICAgICAgICAgICAgIHRvT2JqZWN0KHRoaXMpLFxuICAgICAgICAgICAgbGVuZ3RoID0gc2VsZi5sZW5ndGggPj4+IDA7XG5cbiAgICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBpID0gdG9JbnRlZ2VyKGFyZ3VtZW50c1sxXSk7XG4gICAgICAgIH1cbiAgICAgICAgaSA9IGkgPj0gMCA/IGkgOiBNYXRoLm1heCgwLCBsZW5ndGggKyBpKTtcbiAgICAgICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgaW4gc2VsZiAmJiBzZWxmW2ldID09PSBzb3VnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfTtcbn1cbmlmICghQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mIHx8IChbMCwgMV0ubGFzdEluZGV4T2YoMCwgLTMpICE9IC0xKSkge1xuICAgIEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uIGxhc3RJbmRleE9mKHNvdWdodCAvKiwgZnJvbUluZGV4ICovKSB7XG4gICAgICAgIHZhciBzZWxmID0gc3BsaXRTdHJpbmcgJiYgX3RvU3RyaW5nKHRoaXMpID09IFwiW29iamVjdCBTdHJpbmddXCIgP1xuICAgICAgICAgICAgICAgIHRoaXMuc3BsaXQoXCJcIikgOlxuICAgICAgICAgICAgICAgIHRvT2JqZWN0KHRoaXMpLFxuICAgICAgICAgICAgbGVuZ3RoID0gc2VsZi5sZW5ndGggPj4+IDA7XG5cbiAgICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaSA9IGxlbmd0aCAtIDE7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgaSA9IE1hdGgubWluKGksIHRvSW50ZWdlcihhcmd1bWVudHNbMV0pKTtcbiAgICAgICAgfVxuICAgICAgICBpID0gaSA+PSAwID8gaSA6IGxlbmd0aCAtIE1hdGguYWJzKGkpO1xuICAgICAgICBmb3IgKDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmIChpIGluIHNlbGYgJiYgc291Z2h0ID09PSBzZWxmW2ldKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG59XG5pZiAoIU9iamVjdC5nZXRQcm90b3R5cGVPZikge1xuICAgIE9iamVjdC5nZXRQcm90b3R5cGVPZiA9IGZ1bmN0aW9uIGdldFByb3RvdHlwZU9mKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0Ll9fcHJvdG9fXyB8fCAoXG4gICAgICAgICAgICBvYmplY3QuY29uc3RydWN0b3IgP1xuICAgICAgICAgICAgb2JqZWN0LmNvbnN0cnVjdG9yLnByb3RvdHlwZSA6XG4gICAgICAgICAgICBwcm90b3R5cGVPZk9iamVjdFxuICAgICAgICApO1xuICAgIH07XG59XG5pZiAoIU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IpIHtcbiAgICB2YXIgRVJSX05PTl9PQkpFQ1QgPSBcIk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgY2FsbGVkIG9uIGEgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgIFwibm9uLW9iamVjdDogXCI7XG4gICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KSB7XG4gICAgICAgIGlmICgodHlwZW9mIG9iamVjdCAhPSBcIm9iamVjdFwiICYmIHR5cGVvZiBvYmplY3QgIT0gXCJmdW5jdGlvblwiKSB8fCBvYmplY3QgPT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9OT05fT0JKRUNUICsgb2JqZWN0KTtcbiAgICAgICAgaWYgKCFvd25zKG9iamVjdCwgcHJvcGVydHkpKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciBkZXNjcmlwdG9yLCBnZXR0ZXIsIHNldHRlcjtcbiAgICAgICAgZGVzY3JpcHRvciA9ICB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9O1xuICAgICAgICBpZiAoc3VwcG9ydHNBY2Nlc3NvcnMpIHtcbiAgICAgICAgICAgIHZhciBwcm90b3R5cGUgPSBvYmplY3QuX19wcm90b19fO1xuICAgICAgICAgICAgb2JqZWN0Ll9fcHJvdG9fXyA9IHByb3RvdHlwZU9mT2JqZWN0O1xuXG4gICAgICAgICAgICB2YXIgZ2V0dGVyID0gbG9va3VwR2V0dGVyKG9iamVjdCwgcHJvcGVydHkpO1xuICAgICAgICAgICAgdmFyIHNldHRlciA9IGxvb2t1cFNldHRlcihvYmplY3QsIHByb3BlcnR5KTtcbiAgICAgICAgICAgIG9iamVjdC5fX3Byb3RvX18gPSBwcm90b3R5cGU7XG5cbiAgICAgICAgICAgIGlmIChnZXR0ZXIgfHwgc2V0dGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdldHRlcikgZGVzY3JpcHRvci5nZXQgPSBnZXR0ZXI7XG4gICAgICAgICAgICAgICAgaWYgKHNldHRlcikgZGVzY3JpcHRvci5zZXQgPSBzZXR0ZXI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVzY3JpcHRvci52YWx1ZSA9IG9iamVjdFtwcm9wZXJ0eV07XG4gICAgICAgIHJldHVybiBkZXNjcmlwdG9yO1xuICAgIH07XG59XG5pZiAoIU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKSB7XG4gICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqZWN0KTtcbiAgICB9O1xufVxuaWYgKCFPYmplY3QuY3JlYXRlKSB7XG4gICAgdmFyIGNyZWF0ZUVtcHR5O1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLl9fcHJvdG9fXyA9PT0gbnVsbCkge1xuICAgICAgICBjcmVhdGVFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB7IFwiX19wcm90b19fXCI6IG51bGwgfTtcbiAgICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjcmVhdGVFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlbXB0eSA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBlbXB0eSlcbiAgICAgICAgICAgICAgICBlbXB0eVtpXSA9IG51bGw7XG4gICAgICAgICAgICBlbXB0eS5jb25zdHJ1Y3RvciA9XG4gICAgICAgICAgICBlbXB0eS5oYXNPd25Qcm9wZXJ0eSA9XG4gICAgICAgICAgICBlbXB0eS5wcm9wZXJ0eUlzRW51bWVyYWJsZSA9XG4gICAgICAgICAgICBlbXB0eS5pc1Byb3RvdHlwZU9mID1cbiAgICAgICAgICAgIGVtcHR5LnRvTG9jYWxlU3RyaW5nID1cbiAgICAgICAgICAgIGVtcHR5LnRvU3RyaW5nID1cbiAgICAgICAgICAgIGVtcHR5LnZhbHVlT2YgPVxuICAgICAgICAgICAgZW1wdHkuX19wcm90b19fID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBlbXB0eTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIE9iamVjdC5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUocHJvdG90eXBlLCBwcm9wZXJ0aWVzKSB7XG4gICAgICAgIHZhciBvYmplY3Q7XG4gICAgICAgIGlmIChwcm90b3R5cGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIG9iamVjdCA9IGNyZWF0ZUVtcHR5KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHByb3RvdHlwZSAhPSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJ0eXBlb2YgcHJvdG90eXBlW1wiKyh0eXBlb2YgcHJvdG90eXBlKStcIl0gIT0gJ29iamVjdCdcIik7XG4gICAgICAgICAgICB2YXIgVHlwZSA9IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICAgICAgVHlwZS5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gICAgICAgICAgICBvYmplY3QgPSBuZXcgVHlwZSgpO1xuICAgICAgICAgICAgb2JqZWN0Ll9fcHJvdG9fXyA9IHByb3RvdHlwZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcGVydGllcyAhPT0gdm9pZCAwKVxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqZWN0LCBwcm9wZXJ0aWVzKTtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBkb2VzRGVmaW5lUHJvcGVydHlXb3JrKG9iamVjdCkge1xuICAgIHRyeSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsIFwic2VudGluZWxcIiwge30pO1xuICAgICAgICByZXR1cm4gXCJzZW50aW5lbFwiIGluIG9iamVjdDtcbiAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcbiAgICB9XG59XG5pZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7XG4gICAgdmFyIGRlZmluZVByb3BlcnR5V29ya3NPbk9iamVjdCA9IGRvZXNEZWZpbmVQcm9wZXJ0eVdvcmsoe30pO1xuICAgIHZhciBkZWZpbmVQcm9wZXJ0eVdvcmtzT25Eb20gPSB0eXBlb2YgZG9jdW1lbnQgPT0gXCJ1bmRlZmluZWRcIiB8fFxuICAgICAgICBkb2VzRGVmaW5lUHJvcGVydHlXb3JrKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuICAgIGlmICghZGVmaW5lUHJvcGVydHlXb3Jrc09uT2JqZWN0IHx8ICFkZWZpbmVQcm9wZXJ0eVdvcmtzT25Eb20pIHtcbiAgICAgICAgdmFyIGRlZmluZVByb3BlcnR5RmFsbGJhY2sgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG4gICAgfVxufVxuXG5pZiAoIU9iamVjdC5kZWZpbmVQcm9wZXJ0eSB8fCBkZWZpbmVQcm9wZXJ0eUZhbGxiYWNrKSB7XG4gICAgdmFyIEVSUl9OT05fT0JKRUNUX0RFU0NSSVBUT1IgPSBcIlByb3BlcnR5IGRlc2NyaXB0aW9uIG11c3QgYmUgYW4gb2JqZWN0OiBcIjtcbiAgICB2YXIgRVJSX05PTl9PQkpFQ1RfVEFSR0VUID0gXCJPYmplY3QuZGVmaW5lUHJvcGVydHkgY2FsbGVkIG9uIG5vbi1vYmplY3Q6IFwiXG4gICAgdmFyIEVSUl9BQ0NFU1NPUlNfTk9UX1NVUFBPUlRFRCA9IFwiZ2V0dGVycyAmIHNldHRlcnMgY2FuIG5vdCBiZSBkZWZpbmVkIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJvbiB0aGlzIGphdmFzY3JpcHQgZW5naW5lXCI7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShvYmplY3QsIHByb3BlcnR5LCBkZXNjcmlwdG9yKSB7XG4gICAgICAgIGlmICgodHlwZW9mIG9iamVjdCAhPSBcIm9iamVjdFwiICYmIHR5cGVvZiBvYmplY3QgIT0gXCJmdW5jdGlvblwiKSB8fCBvYmplY3QgPT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9OT05fT0JKRUNUX1RBUkdFVCArIG9iamVjdCk7XG4gICAgICAgIGlmICgodHlwZW9mIGRlc2NyaXB0b3IgIT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgZGVzY3JpcHRvciAhPSBcImZ1bmN0aW9uXCIpIHx8IGRlc2NyaXB0b3IgPT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9OT05fT0JKRUNUX0RFU0NSSVBUT1IgKyBkZXNjcmlwdG9yKTtcbiAgICAgICAgaWYgKGRlZmluZVByb3BlcnR5RmFsbGJhY2spIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5RmFsbGJhY2suY2FsbChPYmplY3QsIG9iamVjdCwgcHJvcGVydHksIGRlc2NyaXB0b3IpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXhjZXB0aW9uKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG93bnMoZGVzY3JpcHRvciwgXCJ2YWx1ZVwiKSkge1xuXG4gICAgICAgICAgICBpZiAoc3VwcG9ydHNBY2Nlc3NvcnMgJiYgKGxvb2t1cEdldHRlcihvYmplY3QsIHByb3BlcnR5KSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb29rdXBTZXR0ZXIob2JqZWN0LCBwcm9wZXJ0eSkpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBwcm90b3R5cGUgPSBvYmplY3QuX19wcm90b19fO1xuICAgICAgICAgICAgICAgIG9iamVjdC5fX3Byb3RvX18gPSBwcm90b3R5cGVPZk9iamVjdDtcbiAgICAgICAgICAgICAgICBkZWxldGUgb2JqZWN0W3Byb3BlcnR5XTtcbiAgICAgICAgICAgICAgICBvYmplY3RbcHJvcGVydHldID0gZGVzY3JpcHRvci52YWx1ZTtcbiAgICAgICAgICAgICAgICBvYmplY3QuX19wcm90b19fID0gcHJvdG90eXBlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvYmplY3RbcHJvcGVydHldID0gZGVzY3JpcHRvci52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghc3VwcG9ydHNBY2Nlc3NvcnMpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfQUNDRVNTT1JTX05PVF9TVVBQT1JURUQpO1xuICAgICAgICAgICAgaWYgKG93bnMoZGVzY3JpcHRvciwgXCJnZXRcIikpXG4gICAgICAgICAgICAgICAgZGVmaW5lR2V0dGVyKG9iamVjdCwgcHJvcGVydHksIGRlc2NyaXB0b3IuZ2V0KTtcbiAgICAgICAgICAgIGlmIChvd25zKGRlc2NyaXB0b3IsIFwic2V0XCIpKVxuICAgICAgICAgICAgICAgIGRlZmluZVNldHRlcihvYmplY3QsIHByb3BlcnR5LCBkZXNjcmlwdG9yLnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH07XG59XG5pZiAoIU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKG9iamVjdCwgcHJvcGVydGllcykge1xuICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBpZiAob3ducyhwcm9wZXJ0aWVzLCBwcm9wZXJ0eSkpXG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcGVydHksIHByb3BlcnRpZXNbcHJvcGVydHldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH07XG59XG5pZiAoIU9iamVjdC5zZWFsKSB7XG4gICAgT2JqZWN0LnNlYWwgPSBmdW5jdGlvbiBzZWFsKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH07XG59XG5pZiAoIU9iamVjdC5mcmVlemUpIHtcbiAgICBPYmplY3QuZnJlZXplID0gZnVuY3Rpb24gZnJlZXplKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH07XG59XG50cnkge1xuICAgIE9iamVjdC5mcmVlemUoZnVuY3Rpb24gKCkge30pO1xufSBjYXRjaCAoZXhjZXB0aW9uKSB7XG4gICAgT2JqZWN0LmZyZWV6ZSA9IChmdW5jdGlvbiBmcmVlemUoZnJlZXplT2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBmcmVlemUob2JqZWN0KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdCA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJlZXplT2JqZWN0KG9iamVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSkoT2JqZWN0LmZyZWV6ZSk7XG59XG5pZiAoIU9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucykge1xuICAgIE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyA9IGZ1bmN0aW9uIHByZXZlbnRFeHRlbnNpb25zKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH07XG59XG5pZiAoIU9iamVjdC5pc1NlYWxlZCkge1xuICAgIE9iamVjdC5pc1NlYWxlZCA9IGZ1bmN0aW9uIGlzU2VhbGVkKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbn1cbmlmICghT2JqZWN0LmlzRnJvemVuKSB7XG4gICAgT2JqZWN0LmlzRnJvemVuID0gZnVuY3Rpb24gaXNGcm96ZW4ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xufVxuaWYgKCFPYmplY3QuaXNFeHRlbnNpYmxlKSB7XG4gICAgT2JqZWN0LmlzRXh0ZW5zaWJsZSA9IGZ1bmN0aW9uIGlzRXh0ZW5zaWJsZShvYmplY3QpIHtcbiAgICAgICAgaWYgKE9iamVjdChvYmplY3QpID09PSBvYmplY3QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTsgLy8gVE9ETyBtZXNzYWdlXG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5hbWUgPSAnJztcbiAgICAgICAgd2hpbGUgKG93bnMob2JqZWN0LCBuYW1lKSkge1xuICAgICAgICAgICAgbmFtZSArPSAnPyc7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0W25hbWVdID0gdHJ1ZTtcbiAgICAgICAgdmFyIHJldHVyblZhbHVlID0gb3ducyhvYmplY3QsIG5hbWUpO1xuICAgICAgICBkZWxldGUgb2JqZWN0W25hbWVdO1xuICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgfTtcbn1cbmlmICghT2JqZWN0LmtleXMpIHtcbiAgICB2YXIgaGFzRG9udEVudW1CdWcgPSB0cnVlLFxuICAgICAgICBkb250RW51bXMgPSBbXG4gICAgICAgICAgICBcInRvU3RyaW5nXCIsXG4gICAgICAgICAgICBcInRvTG9jYWxlU3RyaW5nXCIsXG4gICAgICAgICAgICBcInZhbHVlT2ZcIixcbiAgICAgICAgICAgIFwiaGFzT3duUHJvcGVydHlcIixcbiAgICAgICAgICAgIFwiaXNQcm90b3R5cGVPZlwiLFxuICAgICAgICAgICAgXCJwcm9wZXJ0eUlzRW51bWVyYWJsZVwiLFxuICAgICAgICAgICAgXCJjb25zdHJ1Y3RvclwiXG4gICAgICAgIF0sXG4gICAgICAgIGRvbnRFbnVtc0xlbmd0aCA9IGRvbnRFbnVtcy5sZW5ndGg7XG5cbiAgICBmb3IgKHZhciBrZXkgaW4ge1widG9TdHJpbmdcIjogbnVsbH0pIHtcbiAgICAgICAgaGFzRG9udEVudW1CdWcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBPYmplY3Qua2V5cyA9IGZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgKHR5cGVvZiBvYmplY3QgIT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygb2JqZWN0ICE9IFwiZnVuY3Rpb25cIikgfHxcbiAgICAgICAgICAgIG9iamVjdCA9PT0gbnVsbFxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3Qua2V5cyBjYWxsZWQgb24gYSBub24tb2JqZWN0XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGtleXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgIGlmIChvd25zKG9iamVjdCwgbmFtZSkpIHtcbiAgICAgICAgICAgICAgICBrZXlzLnB1c2gobmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzRG9udEVudW1CdWcpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGRvbnRFbnVtc0xlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZG9udEVudW0gPSBkb250RW51bXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKG93bnMob2JqZWN0LCBkb250RW51bSkpIHtcbiAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGRvbnRFbnVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgfTtcblxufVxuaWYgKCFEYXRlLm5vdykge1xuICAgIERhdGUubm93ID0gZnVuY3Rpb24gbm93KCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgfTtcbn1cbnZhciB3cyA9IFwiXFx4MDlcXHgwQVxceDBCXFx4MENcXHgwRFxceDIwXFx4QTBcXHUxNjgwXFx1MTgwRVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcIiArXG4gICAgXCJcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBBXFx1MjAyRlxcdTIwNUZcXHUzMDAwXFx1MjAyOFwiICtcbiAgICBcIlxcdTIwMjlcXHVGRUZGXCI7XG5pZiAoIVN0cmluZy5wcm90b3R5cGUudHJpbSB8fCB3cy50cmltKCkpIHtcbiAgICB3cyA9IFwiW1wiICsgd3MgKyBcIl1cIjtcbiAgICB2YXIgdHJpbUJlZ2luUmVnZXhwID0gbmV3IFJlZ0V4cChcIl5cIiArIHdzICsgd3MgKyBcIipcIiksXG4gICAgICAgIHRyaW1FbmRSZWdleHAgPSBuZXcgUmVnRXhwKHdzICsgd3MgKyBcIiokXCIpO1xuICAgIFN0cmluZy5wcm90b3R5cGUudHJpbSA9IGZ1bmN0aW9uIHRyaW0oKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcodGhpcykucmVwbGFjZSh0cmltQmVnaW5SZWdleHAsIFwiXCIpLnJlcGxhY2UodHJpbUVuZFJlZ2V4cCwgXCJcIik7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gdG9JbnRlZ2VyKG4pIHtcbiAgICBuID0gK247XG4gICAgaWYgKG4gIT09IG4pIHsgLy8gaXNOYU5cbiAgICAgICAgbiA9IDA7XG4gICAgfSBlbHNlIGlmIChuICE9PSAwICYmIG4gIT09ICgxLzApICYmIG4gIT09IC0oMS8wKSkge1xuICAgICAgICBuID0gKG4gPiAwIHx8IC0xKSAqIE1hdGguZmxvb3IoTWF0aC5hYnMobikpO1xuICAgIH1cbiAgICByZXR1cm4gbjtcbn1cblxuZnVuY3Rpb24gaXNQcmltaXRpdmUoaW5wdXQpIHtcbiAgICB2YXIgdHlwZSA9IHR5cGVvZiBpbnB1dDtcbiAgICByZXR1cm4gKFxuICAgICAgICBpbnB1dCA9PT0gbnVsbCB8fFxuICAgICAgICB0eXBlID09PSBcInVuZGVmaW5lZFwiIHx8XG4gICAgICAgIHR5cGUgPT09IFwiYm9vbGVhblwiIHx8XG4gICAgICAgIHR5cGUgPT09IFwibnVtYmVyXCIgfHxcbiAgICAgICAgdHlwZSA9PT0gXCJzdHJpbmdcIlxuICAgICk7XG59XG5cbmZ1bmN0aW9uIHRvUHJpbWl0aXZlKGlucHV0KSB7XG4gICAgdmFyIHZhbCwgdmFsdWVPZiwgdG9TdHJpbmc7XG4gICAgaWYgKGlzUHJpbWl0aXZlKGlucHV0KSkge1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuICAgIHZhbHVlT2YgPSBpbnB1dC52YWx1ZU9mO1xuICAgIGlmICh0eXBlb2YgdmFsdWVPZiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHZhbCA9IHZhbHVlT2YuY2FsbChpbnB1dCk7XG4gICAgICAgIGlmIChpc1ByaW1pdGl2ZSh2YWwpKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRvU3RyaW5nID0gaW5wdXQudG9TdHJpbmc7XG4gICAgaWYgKHR5cGVvZiB0b1N0cmluZyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHZhbCA9IHRvU3RyaW5nLmNhbGwoaW5wdXQpO1xuICAgICAgICBpZiAoaXNQcmltaXRpdmUodmFsKSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG59XG52YXIgdG9PYmplY3QgPSBmdW5jdGlvbiAobykge1xuICAgIGlmIChvID09IG51bGwpIHsgLy8gdGhpcyBtYXRjaGVzIGJvdGggbnVsbCBhbmQgdW5kZWZpbmVkXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJjYW4ndCBjb252ZXJ0IFwiK28rXCIgdG8gb2JqZWN0XCIpO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0KG8pO1xufTtcblxufSk7XG5cbmFjZS5kZWZpbmUoJ2FjZS9saWIvZG9tJywgW1wicmVxdWlyZVwiLCAnZXhwb3J0cycsICdtb2R1bGUnIF0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuXG5pZiAodHlwZW9mIGRvY3VtZW50ID09IFwidW5kZWZpbmVkXCIpXG4gICAgcmV0dXJuO1xuXG52YXIgWEhUTUxfTlMgPSBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIjtcblxuZXhwb3J0cy5nZXREb2N1bWVudEhlYWQgPSBmdW5jdGlvbihkb2MpIHtcbiAgICBpZiAoIWRvYylcbiAgICAgICAgZG9jID0gZG9jdW1lbnQ7XG4gICAgcmV0dXJuIGRvYy5oZWFkIHx8IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0gfHwgZG9jLmRvY3VtZW50RWxlbWVudDtcbn1cblxuZXhwb3J0cy5jcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24odGFnLCBucykge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMgP1xuICAgICAgICAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMgfHwgWEhUTUxfTlMsIHRhZykgOlxuICAgICAgICAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG59O1xuXG5leHBvcnRzLmhhc0Nzc0NsYXNzID0gZnVuY3Rpb24oZWwsIG5hbWUpIHtcbiAgICB2YXIgY2xhc3NlcyA9IGVsLmNsYXNzTmFtZS5zcGxpdCgvXFxzKy9nKTtcbiAgICByZXR1cm4gY2xhc3Nlcy5pbmRleE9mKG5hbWUpICE9PSAtMTtcbn07XG5leHBvcnRzLmFkZENzc0NsYXNzID0gZnVuY3Rpb24oZWwsIG5hbWUpIHtcbiAgICBpZiAoIWV4cG9ydHMuaGFzQ3NzQ2xhc3MoZWwsIG5hbWUpKSB7XG4gICAgICAgIGVsLmNsYXNzTmFtZSArPSBcIiBcIiArIG5hbWU7XG4gICAgfVxufTtcbmV4cG9ydHMucmVtb3ZlQ3NzQ2xhc3MgPSBmdW5jdGlvbihlbCwgbmFtZSkge1xuICAgIHZhciBjbGFzc2VzID0gZWwuY2xhc3NOYW1lLnNwbGl0KC9cXHMrL2cpO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGNsYXNzZXMuaW5kZXhPZihuYW1lKTtcbiAgICAgICAgaWYgKGluZGV4ID09IC0xKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjbGFzc2VzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICAgIGVsLmNsYXNzTmFtZSA9IGNsYXNzZXMuam9pbihcIiBcIik7XG59O1xuXG5leHBvcnRzLnRvZ2dsZUNzc0NsYXNzID0gZnVuY3Rpb24oZWwsIG5hbWUpIHtcbiAgICB2YXIgY2xhc3NlcyA9IGVsLmNsYXNzTmFtZS5zcGxpdCgvXFxzKy9nKSwgYWRkID0gdHJ1ZTtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgaW5kZXggPSBjbGFzc2VzLmluZGV4T2YobmFtZSk7XG4gICAgICAgIGlmIChpbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgYWRkID0gZmFsc2U7XG4gICAgICAgIGNsYXNzZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gICAgaWYoYWRkKVxuICAgICAgICBjbGFzc2VzLnB1c2gobmFtZSk7XG5cbiAgICBlbC5jbGFzc05hbWUgPSBjbGFzc2VzLmpvaW4oXCIgXCIpO1xuICAgIHJldHVybiBhZGQ7XG59O1xuZXhwb3J0cy5zZXRDc3NDbGFzcyA9IGZ1bmN0aW9uKG5vZGUsIGNsYXNzTmFtZSwgaW5jbHVkZSkge1xuICAgIGlmIChpbmNsdWRlKSB7XG4gICAgICAgIGV4cG9ydHMuYWRkQ3NzQ2xhc3Mobm9kZSwgY2xhc3NOYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBleHBvcnRzLnJlbW92ZUNzc0NsYXNzKG5vZGUsIGNsYXNzTmFtZSk7XG4gICAgfVxufTtcblxuZXhwb3J0cy5oYXNDc3NTdHJpbmcgPSBmdW5jdGlvbihpZCwgZG9jKSB7XG4gICAgdmFyIGluZGV4ID0gMCwgc2hlZXRzO1xuICAgIGRvYyA9IGRvYyB8fCBkb2N1bWVudDtcblxuICAgIGlmIChkb2MuY3JlYXRlU3R5bGVTaGVldCAmJiAoc2hlZXRzID0gZG9jLnN0eWxlU2hlZXRzKSkge1xuICAgICAgICB3aGlsZSAoaW5kZXggPCBzaGVldHMubGVuZ3RoKVxuICAgICAgICAgICAgaWYgKHNoZWV0c1tpbmRleCsrXS5vd25pbmdFbGVtZW50LmlkID09PSBpZCkgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICgoc2hlZXRzID0gZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic3R5bGVcIikpKSB7XG4gICAgICAgIHdoaWxlIChpbmRleCA8IHNoZWV0cy5sZW5ndGgpXG4gICAgICAgICAgICBpZiAoc2hlZXRzW2luZGV4KytdLmlkID09PSBpZCkgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuZXhwb3J0cy5pbXBvcnRDc3NTdHJpbmcgPSBmdW5jdGlvbiBpbXBvcnRDc3NTdHJpbmcoY3NzVGV4dCwgaWQsIGRvYykge1xuICAgIGRvYyA9IGRvYyB8fCBkb2N1bWVudDtcbiAgICBpZiAoaWQgJiYgZXhwb3J0cy5oYXNDc3NTdHJpbmcoaWQsIGRvYykpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIFxuICAgIHZhciBzdHlsZTtcbiAgICBcbiAgICBpZiAoZG9jLmNyZWF0ZVN0eWxlU2hlZXQpIHtcbiAgICAgICAgc3R5bGUgPSBkb2MuY3JlYXRlU3R5bGVTaGVldCgpO1xuICAgICAgICBzdHlsZS5jc3NUZXh0ID0gY3NzVGV4dDtcbiAgICAgICAgaWYgKGlkKVxuICAgICAgICAgICAgc3R5bGUub3duaW5nRWxlbWVudC5pZCA9IGlkO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHN0eWxlID0gZG9jLmNyZWF0ZUVsZW1lbnROU1xuICAgICAgICAgICAgPyBkb2MuY3JlYXRlRWxlbWVudE5TKFhIVE1MX05TLCBcInN0eWxlXCIpXG4gICAgICAgICAgICA6IGRvYy5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cbiAgICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZVRleHROb2RlKGNzc1RleHQpKTtcbiAgICAgICAgaWYgKGlkKVxuICAgICAgICAgICAgc3R5bGUuaWQgPSBpZDtcblxuICAgICAgICBleHBvcnRzLmdldERvY3VtZW50SGVhZChkb2MpLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICB9XG59O1xuXG5leHBvcnRzLmltcG9ydENzc1N0eWxzaGVldCA9IGZ1bmN0aW9uKHVyaSwgZG9jKSB7XG4gICAgaWYgKGRvYy5jcmVhdGVTdHlsZVNoZWV0KSB7XG4gICAgICAgIGRvYy5jcmVhdGVTdHlsZVNoZWV0KHVyaSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGxpbmsgPSBleHBvcnRzLmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgICAgICAgbGluay5yZWwgPSAnc3R5bGVzaGVldCc7XG4gICAgICAgIGxpbmsuaHJlZiA9IHVyaTtcblxuICAgICAgICBleHBvcnRzLmdldERvY3VtZW50SGVhZChkb2MpLmFwcGVuZENoaWxkKGxpbmspO1xuICAgIH1cbn07XG5cbmV4cG9ydHMuZ2V0SW5uZXJXaWR0aCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICBwYXJzZUludChleHBvcnRzLmNvbXB1dGVkU3R5bGUoZWxlbWVudCwgXCJwYWRkaW5nTGVmdFwiKSwgMTApICtcbiAgICAgICAgcGFyc2VJbnQoZXhwb3J0cy5jb21wdXRlZFN0eWxlKGVsZW1lbnQsIFwicGFkZGluZ1JpZ2h0XCIpLCAxMCkgKyBcbiAgICAgICAgZWxlbWVudC5jbGllbnRXaWR0aFxuICAgICk7XG59O1xuXG5leHBvcnRzLmdldElubmVySGVpZ2h0ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIHBhcnNlSW50KGV4cG9ydHMuY29tcHV0ZWRTdHlsZShlbGVtZW50LCBcInBhZGRpbmdUb3BcIiksIDEwKSArXG4gICAgICAgIHBhcnNlSW50KGV4cG9ydHMuY29tcHV0ZWRTdHlsZShlbGVtZW50LCBcInBhZGRpbmdCb3R0b21cIiksIDEwKSArXG4gICAgICAgIGVsZW1lbnQuY2xpZW50SGVpZ2h0XG4gICAgKTtcbn07XG5cbmlmICh3aW5kb3cucGFnZVlPZmZzZXQgIT09IHVuZGVmaW5lZCkge1xuICAgIGV4cG9ydHMuZ2V0UGFnZVNjcm9sbFRvcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gd2luZG93LnBhZ2VZT2Zmc2V0O1xuICAgIH07XG5cbiAgICBleHBvcnRzLmdldFBhZ2VTY3JvbGxMZWZ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cucGFnZVhPZmZzZXQ7XG4gICAgfTtcbn1cbmVsc2Uge1xuICAgIGV4cG9ydHMuZ2V0UGFnZVNjcm9sbFRvcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7XG4gICAgfTtcblxuICAgIGV4cG9ydHMuZ2V0UGFnZVNjcm9sbExlZnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdDtcbiAgICB9O1xufVxuXG5pZiAod2luZG93LmdldENvbXB1dGVkU3R5bGUpXG4gICAgZXhwb3J0cy5jb21wdXRlZFN0eWxlID0gZnVuY3Rpb24oZWxlbWVudCwgc3R5bGUpIHtcbiAgICAgICAgaWYgKHN0eWxlKVxuICAgICAgICAgICAgcmV0dXJuICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBcIlwiKSB8fCB7fSlbc3R5bGVdIHx8IFwiXCI7XG4gICAgICAgIHJldHVybiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBcIlwiKSB8fCB7fTtcbiAgICB9O1xuZWxzZVxuICAgIGV4cG9ydHMuY29tcHV0ZWRTdHlsZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIHN0eWxlKSB7XG4gICAgICAgIGlmIChzdHlsZSlcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmN1cnJlbnRTdHlsZVtzdHlsZV07XG4gICAgICAgIHJldHVybiBlbGVtZW50LmN1cnJlbnRTdHlsZTtcbiAgICB9O1xuXG5leHBvcnRzLnNjcm9sbGJhcldpZHRoID0gZnVuY3Rpb24oZG9jdW1lbnQpIHtcbiAgICB2YXIgaW5uZXIgPSBleHBvcnRzLmNyZWF0ZUVsZW1lbnQoXCJhY2VfaW5uZXJcIik7XG4gICAgaW5uZXIuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICBpbm5lci5zdHlsZS5taW5XaWR0aCA9IFwiMHB4XCI7XG4gICAgaW5uZXIuc3R5bGUuaGVpZ2h0ID0gXCIyMDBweFwiO1xuICAgIGlubmVyLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cbiAgICB2YXIgb3V0ZXIgPSBleHBvcnRzLmNyZWF0ZUVsZW1lbnQoXCJhY2Vfb3V0ZXJcIik7XG4gICAgdmFyIHN0eWxlID0gb3V0ZXIuc3R5bGU7XG5cbiAgICBzdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBzdHlsZS5sZWZ0ID0gXCItMTAwMDBweFwiO1xuICAgIHN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcbiAgICBzdHlsZS53aWR0aCA9IFwiMjAwcHhcIjtcbiAgICBzdHlsZS5taW5XaWR0aCA9IFwiMHB4XCI7XG4gICAgc3R5bGUuaGVpZ2h0ID0gXCIxNTBweFwiO1xuICAgIHN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cbiAgICBvdXRlci5hcHBlbmRDaGlsZChpbm5lcik7XG5cbiAgICB2YXIgYm9keSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICBib2R5LmFwcGVuZENoaWxkKG91dGVyKTtcblxuICAgIHZhciBub1Njcm9sbGJhciA9IGlubmVyLm9mZnNldFdpZHRoO1xuXG4gICAgc3R5bGUub3ZlcmZsb3cgPSBcInNjcm9sbFwiO1xuICAgIHZhciB3aXRoU2Nyb2xsYmFyID0gaW5uZXIub2Zmc2V0V2lkdGg7XG5cbiAgICBpZiAobm9TY3JvbGxiYXIgPT0gd2l0aFNjcm9sbGJhcikge1xuICAgICAgICB3aXRoU2Nyb2xsYmFyID0gb3V0ZXIuY2xpZW50V2lkdGg7XG4gICAgfVxuXG4gICAgYm9keS5yZW1vdmVDaGlsZChvdXRlcik7XG5cbiAgICByZXR1cm4gbm9TY3JvbGxiYXItd2l0aFNjcm9sbGJhcjtcbn07XG5leHBvcnRzLnNldElubmVySHRtbCA9IGZ1bmN0aW9uKGVsLCBpbm5lckh0bWwpIHtcbiAgICB2YXIgZWxlbWVudCA9IGVsLmNsb25lTm9kZShmYWxzZSk7Ly9kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gaW5uZXJIdG1sO1xuICAgIGVsLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGVsZW1lbnQsIGVsKTtcbiAgICByZXR1cm4gZWxlbWVudDtcbn07XG5cbmlmIChcInRleHRDb250ZW50XCIgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgZXhwb3J0cy5zZXRJbm5lclRleHQgPSBmdW5jdGlvbihlbCwgaW5uZXJUZXh0KSB7XG4gICAgICAgIGVsLnRleHRDb250ZW50ID0gaW5uZXJUZXh0O1xuICAgIH07XG5cbiAgICBleHBvcnRzLmdldElubmVyVGV4dCA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgIHJldHVybiBlbC50ZXh0Q29udGVudDtcbiAgICB9O1xufVxuZWxzZSB7XG4gICAgZXhwb3J0cy5zZXRJbm5lclRleHQgPSBmdW5jdGlvbihlbCwgaW5uZXJUZXh0KSB7XG4gICAgICAgIGVsLmlubmVyVGV4dCA9IGlubmVyVGV4dDtcbiAgICB9O1xuXG4gICAgZXhwb3J0cy5nZXRJbm5lclRleHQgPSBmdW5jdGlvbihlbCkge1xuICAgICAgICByZXR1cm4gZWwuaW5uZXJUZXh0O1xuICAgIH07XG59XG5cbmV4cG9ydHMuZ2V0UGFyZW50V2luZG93ID0gZnVuY3Rpb24oZG9jdW1lbnQpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgZG9jdW1lbnQucGFyZW50V2luZG93O1xufTtcblxufSk7XG5cbmFjZS5kZWZpbmUoJ2FjZS9saWIvZXZlbnQnLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgLCAnYWNlL2xpYi9rZXlzJywgJ2FjZS9saWIvdXNlcmFnZW50JywgJ2FjZS9saWIvZG9tJ10sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuXG52YXIga2V5cyA9IGFjZXF1aXJlKFwiLi9rZXlzXCIpO1xudmFyIHVzZXJhZ2VudCA9IGFjZXF1aXJlKFwiLi91c2VyYWdlbnRcIik7XG52YXIgZG9tID0gYWNlcXVpcmUoXCIuL2RvbVwiKTtcblxuZXhwb3J0cy5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uKGVsZW0sIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKGVsZW0uYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICByZXR1cm4gZWxlbS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrLCBmYWxzZSk7XG4gICAgfVxuICAgIGlmIChlbGVtLmF0dGFjaEV2ZW50KSB7XG4gICAgICAgIHZhciB3cmFwcGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjYWxsYmFjayh3aW5kb3cuZXZlbnQpO1xuICAgICAgICB9O1xuICAgICAgICBjYWxsYmFjay5fd3JhcHBlciA9IHdyYXBwZXI7XG4gICAgICAgIGVsZW0uYXR0YWNoRXZlbnQoXCJvblwiICsgdHlwZSwgd3JhcHBlcik7XG4gICAgfVxufTtcblxuZXhwb3J0cy5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKGVsZW0sIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICByZXR1cm4gZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrLCBmYWxzZSk7XG4gICAgfVxuICAgIGlmIChlbGVtLmRldGFjaEV2ZW50KSB7XG4gICAgICAgIGVsZW0uZGV0YWNoRXZlbnQoXCJvblwiICsgdHlwZSwgY2FsbGJhY2suX3dyYXBwZXIgfHwgY2FsbGJhY2spO1xuICAgIH1cbn07XG5leHBvcnRzLnN0b3BFdmVudCA9IGZ1bmN0aW9uKGUpIHtcbiAgICBleHBvcnRzLnN0b3BQcm9wYWdhdGlvbihlKTtcbiAgICBleHBvcnRzLnByZXZlbnREZWZhdWx0KGUpO1xuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbmV4cG9ydHMuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24oZSkge1xuICAgIGlmIChlLnN0b3BQcm9wYWdhdGlvbilcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlbHNlXG4gICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbn07XG5cbmV4cG9ydHMucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbihlKSB7XG4gICAgaWYgKGUucHJldmVudERlZmF1bHQpXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlbHNlXG4gICAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcbn07XG5leHBvcnRzLmdldEJ1dHRvbiA9IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoZS50eXBlID09IFwiZGJsY2xpY2tcIilcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgaWYgKGUudHlwZSA9PSBcImNvbnRleHRtZW51XCIgfHwgKGUuY3RybEtleSAmJiB1c2VyYWdlbnQuaXNNYWMpKVxuICAgICAgICByZXR1cm4gMjtcbiAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICByZXR1cm4gZS5idXR0b247XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gezE6MCwgMjoyLCA0OjF9W2UuYnV0dG9uXTtcbiAgICB9XG59O1xuXG5pZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNldENhcHR1cmUpIHtcbiAgICBleHBvcnRzLmNhcHR1cmUgPSBmdW5jdGlvbihlbCwgZXZlbnRIYW5kbGVyLCByZWxlYXNlQ2FwdHVyZUhhbmRsZXIpIHtcbiAgICAgICAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICAgICAgICBmdW5jdGlvbiBvblJlbGVhc2VDYXB0dXJlKGUpIHtcbiAgICAgICAgICAgIGV2ZW50SGFuZGxlcihlKTtcblxuICAgICAgICAgICAgaWYgKCFjYWxsZWQpIHtcbiAgICAgICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJlbGVhc2VDYXB0dXJlSGFuZGxlcihlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZXhwb3J0cy5yZW1vdmVMaXN0ZW5lcihlbCwgXCJtb3VzZW1vdmVcIiwgZXZlbnRIYW5kbGVyKTtcbiAgICAgICAgICAgIGV4cG9ydHMucmVtb3ZlTGlzdGVuZXIoZWwsIFwibW91c2V1cFwiLCBvblJlbGVhc2VDYXB0dXJlKTtcbiAgICAgICAgICAgIGV4cG9ydHMucmVtb3ZlTGlzdGVuZXIoZWwsIFwibG9zZWNhcHR1cmVcIiwgb25SZWxlYXNlQ2FwdHVyZSk7XG5cbiAgICAgICAgICAgIGVsLnJlbGVhc2VDYXB0dXJlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBleHBvcnRzLmFkZExpc3RlbmVyKGVsLCBcIm1vdXNlbW92ZVwiLCBldmVudEhhbmRsZXIpO1xuICAgICAgICBleHBvcnRzLmFkZExpc3RlbmVyKGVsLCBcIm1vdXNldXBcIiwgb25SZWxlYXNlQ2FwdHVyZSk7XG4gICAgICAgIGV4cG9ydHMuYWRkTGlzdGVuZXIoZWwsIFwibG9zZWNhcHR1cmVcIiwgb25SZWxlYXNlQ2FwdHVyZSk7XG4gICAgICAgIGVsLnNldENhcHR1cmUoKTtcbiAgICB9O1xufVxuZWxzZSB7XG4gICAgZXhwb3J0cy5jYXB0dXJlID0gZnVuY3Rpb24oZWwsIGV2ZW50SGFuZGxlciwgcmVsZWFzZUNhcHR1cmVIYW5kbGVyKSB7XG4gICAgICAgIGZ1bmN0aW9uIG9uTW91c2VVcChlKSB7XG4gICAgICAgICAgICBldmVudEhhbmRsZXIgJiYgZXZlbnRIYW5kbGVyKGUpO1xuICAgICAgICAgICAgcmVsZWFzZUNhcHR1cmVIYW5kbGVyICYmIHJlbGVhc2VDYXB0dXJlSGFuZGxlcihlKTtcblxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBldmVudEhhbmRsZXIsIHRydWUpO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgb25Nb3VzZVVwLCB0cnVlKTtcblxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgZXZlbnRIYW5kbGVyLCB0cnVlKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgb25Nb3VzZVVwLCB0cnVlKTtcbiAgICB9O1xufVxuXG5leHBvcnRzLmFkZE1vdXNlV2hlZWxMaXN0ZW5lciA9IGZ1bmN0aW9uKGVsLCBjYWxsYmFjaykge1xuICAgIHZhciBmYWN0b3IgPSA4O1xuICAgIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGUud2hlZWxEZWx0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoZS53aGVlbERlbHRhWCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZS53aGVlbFggPSAtZS53aGVlbERlbHRhWCAvIGZhY3RvcjtcbiAgICAgICAgICAgICAgICBlLndoZWVsWSA9IC1lLndoZWVsRGVsdGFZIC8gZmFjdG9yO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlLndoZWVsWCA9IDA7XG4gICAgICAgICAgICAgICAgZS53aGVlbFkgPSAtZS53aGVlbERlbHRhIC8gZmFjdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGUuYXhpcyAmJiBlLmF4aXMgPT0gZS5IT1JJWk9OVEFMX0FYSVMpIHtcbiAgICAgICAgICAgICAgICBlLndoZWVsWCA9IChlLmRldGFpbCB8fCAwKSAqIDU7XG4gICAgICAgICAgICAgICAgZS53aGVlbFkgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlLndoZWVsWCA9IDA7XG4gICAgICAgICAgICAgICAgZS53aGVlbFkgPSAoZS5kZXRhaWwgfHwgMCkgKiA1O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKGUpO1xuICAgIH07XG4gICAgZXhwb3J0cy5hZGRMaXN0ZW5lcihlbCwgXCJET01Nb3VzZVNjcm9sbFwiLCBsaXN0ZW5lcik7XG4gICAgZXhwb3J0cy5hZGRMaXN0ZW5lcihlbCwgXCJtb3VzZXdoZWVsXCIsIGxpc3RlbmVyKTtcbn07XG5cbmV4cG9ydHMuYWRkTXVsdGlNb3VzZURvd25MaXN0ZW5lciA9IGZ1bmN0aW9uKGVsLCB0aW1lb3V0cywgZXZlbnRIYW5kbGVyLCBjYWxsYmFja05hbWUpIHtcbiAgICB2YXIgY2xpY2tzID0gMDtcbiAgICB2YXIgc3RhcnRYLCBzdGFydFksIHRpbWVyO1xuICAgIHZhciBldmVudE5hbWVzID0ge1xuICAgICAgICAyOiBcImRibGNsaWNrXCIsXG4gICAgICAgIDM6IFwidHJpcGxlY2xpY2tcIixcbiAgICAgICAgNDogXCJxdWFkY2xpY2tcIlxuICAgIH07XG5cbiAgICBleHBvcnRzLmFkZExpc3RlbmVyKGVsLCBcIm1vdXNlZG93blwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChleHBvcnRzLmdldEJ1dHRvbihlKSAhPSAwKSB7XG4gICAgICAgICAgICBjbGlja3MgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGlzTmV3Q2xpY2sgPSBNYXRoLmFicyhlLmNsaWVudFggLSBzdGFydFgpID4gNSB8fCBNYXRoLmFicyhlLmNsaWVudFkgLSBzdGFydFkpID4gNTtcblxuICAgICAgICAgICAgaWYgKCF0aW1lciB8fCBpc05ld0NsaWNrKVxuICAgICAgICAgICAgICAgIGNsaWNrcyA9IDA7XG5cbiAgICAgICAgICAgIGNsaWNrcyArPSAxO1xuXG4gICAgICAgICAgICBpZiAodGltZXIpXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKVxuICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge3RpbWVyID0gbnVsbH0sIHRpbWVvdXRzW2NsaWNrcyAtIDFdIHx8IDYwMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsaWNrcyA9PSAxKSB7XG4gICAgICAgICAgICBzdGFydFggPSBlLmNsaWVudFg7XG4gICAgICAgICAgICBzdGFydFkgPSBlLmNsaWVudFk7XG4gICAgICAgIH1cblxuICAgICAgICBldmVudEhhbmRsZXJbY2FsbGJhY2tOYW1lXShcIm1vdXNlZG93blwiLCBlKTtcblxuICAgICAgICBpZiAoY2xpY2tzID4gNClcbiAgICAgICAgICAgIGNsaWNrcyA9IDA7XG4gICAgICAgIGVsc2UgaWYgKGNsaWNrcyA+IDEpXG4gICAgICAgICAgICByZXR1cm4gZXZlbnRIYW5kbGVyW2NhbGxiYWNrTmFtZV0oZXZlbnROYW1lc1tjbGlja3NdLCBlKTtcbiAgICB9KTtcblxuICAgIGlmICh1c2VyYWdlbnQuaXNPbGRJRSkge1xuICAgICAgICBleHBvcnRzLmFkZExpc3RlbmVyKGVsLCBcImRibGNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGNsaWNrcyA9IDI7XG4gICAgICAgICAgICBpZiAodGltZXIpXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHt0aW1lciA9IG51bGx9LCB0aW1lb3V0c1tjbGlja3MgLSAxXSB8fCA2MDApO1xuICAgICAgICAgICAgZXZlbnRIYW5kbGVyW2NhbGxiYWNrTmFtZV0oXCJtb3VzZWRvd25cIiwgZSk7XG4gICAgICAgICAgICBldmVudEhhbmRsZXJbY2FsbGJhY2tOYW1lXShldmVudE5hbWVzW2NsaWNrc10sIGUpO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5mdW5jdGlvbiBub3JtYWxpemVDb21tYW5kS2V5cyhjYWxsYmFjaywgZSwga2V5Q29kZSkge1xuICAgIHZhciBoYXNoSWQgPSAwO1xuICAgIGlmICgodXNlcmFnZW50LmlzT3BlcmEgJiYgIShcIktleWJvYXJkRXZlbnRcIiBpbiB3aW5kb3cpKSAmJiB1c2VyYWdlbnQuaXNNYWMpIHtcbiAgICAgICAgaGFzaElkID0gMCB8IChlLm1ldGFLZXkgPyAxIDogMCkgfCAoZS5hbHRLZXkgPyAyIDogMClcbiAgICAgICAgICAgIHwgKGUuc2hpZnRLZXkgPyA0IDogMCkgfCAoZS5jdHJsS2V5ID8gOCA6IDApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGhhc2hJZCA9IDAgfCAoZS5jdHJsS2V5ID8gMSA6IDApIHwgKGUuYWx0S2V5ID8gMiA6IDApXG4gICAgICAgICAgICB8IChlLnNoaWZ0S2V5ID8gNCA6IDApIHwgKGUubWV0YUtleSA/IDggOiAwKTtcbiAgICB9XG5cbiAgICBpZiAoa2V5Q29kZSBpbiBrZXlzLk1PRElGSUVSX0tFWVMpIHtcbiAgICAgICAgc3dpdGNoIChrZXlzLk1PRElGSUVSX0tFWVNba2V5Q29kZV0pIHtcbiAgICAgICAgICAgIGNhc2UgXCJBbHRcIjpcbiAgICAgICAgICAgICAgICBoYXNoSWQgPSAyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIlNoaWZ0XCI6XG4gICAgICAgICAgICAgICAgaGFzaElkID0gNDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJDdHJsXCI6XG4gICAgICAgICAgICAgICAgaGFzaElkID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaGFzaElkID0gODtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBrZXlDb2RlID0gMDtcbiAgICB9XG5cbiAgICBpZiAoIXVzZXJhZ2VudC5pc01hYyAmJiBwcmVzc2VkS2V5c1s5MV0gfHwgcHJlc3NlZEtleXNbOTJdKVxuICAgICAgICBoYXNoSWQgfD0gODtcblxuICAgIGlmIChoYXNoSWQgJiA4ICYmIChrZXlDb2RlID09IDkxIHx8IGtleUNvZGUgPT0gOTMpKSB7XG4gICAgICAgIGtleUNvZGUgPSAwO1xuICAgIH1cbiAgICBpZiAoIWhhc2hJZCAmJiAhKGtleUNvZGUgaW4ga2V5cy5GVU5DVElPTl9LRVlTKSAmJiAhKGtleUNvZGUgaW4ga2V5cy5QUklOVEFCTEVfS0VZUykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gY2FsbGJhY2soZSwgaGFzaElkLCBrZXlDb2RlKTtcbn1cblxudmFyIHByZXNzZWRLZXlzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbmV4cG9ydHMuYWRkQ29tbWFuZEtleUxpc3RlbmVyID0gZnVuY3Rpb24oZWwsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGFkZExpc3RlbmVyID0gZXhwb3J0cy5hZGRMaXN0ZW5lcjtcbiAgICBpZiAodXNlcmFnZW50LmlzT2xkR2Vja28gfHwgKHVzZXJhZ2VudC5pc09wZXJhICYmICEoXCJLZXlib2FyZEV2ZW50XCIgaW4gd2luZG93KSkpIHtcbiAgICAgICAgdmFyIGxhc3RLZXlEb3duS2V5Q29kZSA9IG51bGw7XG4gICAgICAgIGFkZExpc3RlbmVyKGVsLCBcImtleWRvd25cIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgbGFzdEtleURvd25LZXlDb2RlID0gZS5rZXlDb2RlO1xuICAgICAgICB9KTtcbiAgICAgICAgYWRkTGlzdGVuZXIoZWwsIFwia2V5cHJlc3NcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZUNvbW1hbmRLZXlzKGNhbGxiYWNrLCBlLCBsYXN0S2V5RG93bktleUNvZGUpO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbGFzdERlZmF1bHRQcmV2ZW50ZWQgPSBudWxsO1xuXG4gICAgICAgIGFkZExpc3RlbmVyKGVsLCBcImtleWRvd25cIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgcHJlc3NlZEtleXNbZS5rZXlDb2RlXSA9IHRydWU7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gbm9ybWFsaXplQ29tbWFuZEtleXMoY2FsbGJhY2ssIGUsIGUua2V5Q29kZSk7XG4gICAgICAgICAgICBsYXN0RGVmYXVsdFByZXZlbnRlZCA9IGUuZGVmYXVsdFByZXZlbnRlZDtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFkZExpc3RlbmVyKGVsLCBcImtleXByZXNzXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmIChsYXN0RGVmYXVsdFByZXZlbnRlZCAmJiAoZS5jdHJsS2V5IHx8IGUuYWx0S2V5IHx8IGUuc2hpZnRLZXkgfHwgZS5tZXRhS2V5KSkge1xuICAgICAgICAgICAgICAgIGV4cG9ydHMuc3RvcEV2ZW50KGUpO1xuICAgICAgICAgICAgICAgIGxhc3REZWZhdWx0UHJldmVudGVkID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYWRkTGlzdGVuZXIoZWwsIFwia2V5dXBcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgcHJlc3NlZEtleXNbZS5rZXlDb2RlXSA9IG51bGw7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFkZExpc3RlbmVyKGVsLCBcImZvY3VzXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHByZXNzZWRLZXlzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgfSk7XG4gICAgfVxufTtcblxuaWYgKHdpbmRvdy5wb3N0TWVzc2FnZSAmJiAhdXNlcmFnZW50LmlzT2xkSUUpIHtcbiAgICB2YXIgcG9zdE1lc3NhZ2VJZCA9IDE7XG4gICAgZXhwb3J0cy5uZXh0VGljayA9IGZ1bmN0aW9uKGNhbGxiYWNrLCB3aW4pIHtcbiAgICAgICAgd2luID0gd2luIHx8IHdpbmRvdztcbiAgICAgICAgdmFyIG1lc3NhZ2VOYW1lID0gXCJ6ZXJvLXRpbWVvdXQtbWVzc2FnZS1cIiArIHBvc3RNZXNzYWdlSWQ7XG4gICAgICAgIGV4cG9ydHMuYWRkTGlzdGVuZXIod2luLCBcIm1lc3NhZ2VcIiwgZnVuY3Rpb24gbGlzdGVuZXIoZSkge1xuICAgICAgICAgICAgaWYgKGUuZGF0YSA9PSBtZXNzYWdlTmFtZSkge1xuICAgICAgICAgICAgICAgIGV4cG9ydHMuc3RvcFByb3BhZ2F0aW9uKGUpO1xuICAgICAgICAgICAgICAgIGV4cG9ydHMucmVtb3ZlTGlzdGVuZXIod2luLCBcIm1lc3NhZ2VcIiwgbGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB3aW4ucG9zdE1lc3NhZ2UobWVzc2FnZU5hbWUsIFwiKlwiKTtcbiAgICB9O1xufVxuXG5cbmV4cG9ydHMubmV4dEZyYW1lID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgd2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG5cbmlmIChleHBvcnRzLm5leHRGcmFtZSlcbiAgICBleHBvcnRzLm5leHRGcmFtZSA9IGV4cG9ydHMubmV4dEZyYW1lLmJpbmQod2luZG93KTtcbmVsc2VcbiAgICBleHBvcnRzLm5leHRGcmFtZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssIDE3KTtcbiAgICB9O1xufSk7XG5cbmFjZS5kZWZpbmUoJ2FjZS9saWIva2V5cycsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyAsICdhY2UvbGliL29vcCddLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cblxudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi9vb3BcIik7XG52YXIgS2V5cyA9IChmdW5jdGlvbigpIHtcbiAgICB2YXIgcmV0ID0ge1xuICAgICAgICBNT0RJRklFUl9LRVlTOiB7XG4gICAgICAgICAgICAxNjogJ1NoaWZ0JywgMTc6ICdDdHJsJywgMTg6ICdBbHQnLCAyMjQ6ICdNZXRhJ1xuICAgICAgICB9LFxuXG4gICAgICAgIEtFWV9NT0RTOiB7XG4gICAgICAgICAgICBcImN0cmxcIjogMSwgXCJhbHRcIjogMiwgXCJvcHRpb25cIiA6IDIsXG4gICAgICAgICAgICBcInNoaWZ0XCI6IDQsIFwibWV0YVwiOiA4LCBcImNvbW1hbmRcIjogOCwgXCJjbWRcIjogOFxuICAgICAgICB9LFxuXG4gICAgICAgIEZVTkNUSU9OX0tFWVMgOiB7XG4gICAgICAgICAgICA4ICA6IFwiQmFja3NwYWNlXCIsXG4gICAgICAgICAgICA5ICA6IFwiVGFiXCIsXG4gICAgICAgICAgICAxMyA6IFwiUmV0dXJuXCIsXG4gICAgICAgICAgICAxOSA6IFwiUGF1c2VcIixcbiAgICAgICAgICAgIDI3IDogXCJFc2NcIixcbiAgICAgICAgICAgIDMyIDogXCJTcGFjZVwiLFxuICAgICAgICAgICAgMzMgOiBcIlBhZ2VVcFwiLFxuICAgICAgICAgICAgMzQgOiBcIlBhZ2VEb3duXCIsXG4gICAgICAgICAgICAzNSA6IFwiRW5kXCIsXG4gICAgICAgICAgICAzNiA6IFwiSG9tZVwiLFxuICAgICAgICAgICAgMzcgOiBcIkxlZnRcIixcbiAgICAgICAgICAgIDM4IDogXCJVcFwiLFxuICAgICAgICAgICAgMzkgOiBcIlJpZ2h0XCIsXG4gICAgICAgICAgICA0MCA6IFwiRG93blwiLFxuICAgICAgICAgICAgNDQgOiBcIlByaW50XCIsXG4gICAgICAgICAgICA0NSA6IFwiSW5zZXJ0XCIsXG4gICAgICAgICAgICA0NiA6IFwiRGVsZXRlXCIsXG4gICAgICAgICAgICA5NiA6IFwiTnVtcGFkMFwiLFxuICAgICAgICAgICAgOTcgOiBcIk51bXBhZDFcIixcbiAgICAgICAgICAgIDk4IDogXCJOdW1wYWQyXCIsXG4gICAgICAgICAgICA5OSA6IFwiTnVtcGFkM1wiLFxuICAgICAgICAgICAgMTAwOiBcIk51bXBhZDRcIixcbiAgICAgICAgICAgIDEwMTogXCJOdW1wYWQ1XCIsXG4gICAgICAgICAgICAxMDI6IFwiTnVtcGFkNlwiLFxuICAgICAgICAgICAgMTAzOiBcIk51bXBhZDdcIixcbiAgICAgICAgICAgIDEwNDogXCJOdW1wYWQ4XCIsXG4gICAgICAgICAgICAxMDU6IFwiTnVtcGFkOVwiLFxuICAgICAgICAgICAgMTEyOiBcIkYxXCIsXG4gICAgICAgICAgICAxMTM6IFwiRjJcIixcbiAgICAgICAgICAgIDExNDogXCJGM1wiLFxuICAgICAgICAgICAgMTE1OiBcIkY0XCIsXG4gICAgICAgICAgICAxMTY6IFwiRjVcIixcbiAgICAgICAgICAgIDExNzogXCJGNlwiLFxuICAgICAgICAgICAgMTE4OiBcIkY3XCIsXG4gICAgICAgICAgICAxMTk6IFwiRjhcIixcbiAgICAgICAgICAgIDEyMDogXCJGOVwiLFxuICAgICAgICAgICAgMTIxOiBcIkYxMFwiLFxuICAgICAgICAgICAgMTIyOiBcIkYxMVwiLFxuICAgICAgICAgICAgMTIzOiBcIkYxMlwiLFxuICAgICAgICAgICAgMTQ0OiBcIk51bWxvY2tcIixcbiAgICAgICAgICAgIDE0NTogXCJTY3JvbGxsb2NrXCJcbiAgICAgICAgfSxcblxuICAgICAgICBQUklOVEFCTEVfS0VZUzoge1xuICAgICAgICAgICAzMjogJyAnLCAgNDg6ICcwJywgIDQ5OiAnMScsICA1MDogJzInLCAgNTE6ICczJywgIDUyOiAnNCcsIDUzOiAgJzUnLFxuICAgICAgICAgICA1NDogJzYnLCAgNTU6ICc3JywgIDU2OiAnOCcsICA1NzogJzknLCAgNTk6ICc7JywgIDYxOiAnPScsIDY1OiAgJ2EnLFxuICAgICAgICAgICA2NjogJ2InLCAgNjc6ICdjJywgIDY4OiAnZCcsICA2OTogJ2UnLCAgNzA6ICdmJywgIDcxOiAnZycsIDcyOiAgJ2gnLFxuICAgICAgICAgICA3MzogJ2knLCAgNzQ6ICdqJywgIDc1OiAnaycsICA3NjogJ2wnLCAgNzc6ICdtJywgIDc4OiAnbicsIDc5OiAgJ28nLFxuICAgICAgICAgICA4MDogJ3AnLCAgODE6ICdxJywgIDgyOiAncicsICA4MzogJ3MnLCAgODQ6ICd0JywgIDg1OiAndScsIDg2OiAgJ3YnLFxuICAgICAgICAgICA4NzogJ3cnLCAgODg6ICd4JywgIDg5OiAneScsICA5MDogJ3onLCAxMDc6ICcrJywgMTA5OiAnLScsIDExMDogJy4nLFxuICAgICAgICAgIDE4ODogJywnLCAxOTA6ICcuJywgMTkxOiAnLycsIDE5MjogJ2AnLCAyMTk6ICdbJywgMjIwOiAnXFxcXCcsXG4gICAgICAgICAgMjIxOiAnXScsIDIyMjogJ1xcJydcbiAgICAgICAgfVxuICAgIH07XG4gICAgZm9yICh2YXIgaSBpbiByZXQuRlVOQ1RJT05fS0VZUykge1xuICAgICAgICB2YXIgbmFtZSA9IHJldC5GVU5DVElPTl9LRVlTW2ldLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldFtuYW1lXSA9IHBhcnNlSW50KGksIDEwKTtcbiAgICB9XG4gICAgb29wLm1peGluKHJldCwgcmV0Lk1PRElGSUVSX0tFWVMpO1xuICAgIG9vcC5taXhpbihyZXQsIHJldC5QUklOVEFCTEVfS0VZUyk7XG4gICAgb29wLm1peGluKHJldCwgcmV0LkZVTkNUSU9OX0tFWVMpO1xuICAgIHJldC5lbnRlciA9IHJldFtcInJldHVyblwiXTtcbiAgICByZXQuZXNjYXBlID0gcmV0LmVzYztcbiAgICByZXQuZGVsID0gcmV0W1wiZGVsZXRlXCJdO1xuICAgIHJldFsxNzNdID0gJy0nO1xuXG4gICAgcmV0dXJuIHJldDtcbn0pKCk7XG5vb3AubWl4aW4oZXhwb3J0cywgS2V5cyk7XG5cbmV4cG9ydHMua2V5Q29kZVRvU3RyaW5nID0gZnVuY3Rpb24oa2V5Q29kZSkge1xuICAgIHJldHVybiAoS2V5c1trZXlDb2RlXSB8fCBTdHJpbmcuZnJvbUNoYXJDb2RlKGtleUNvZGUpKS50b0xvd2VyQ2FzZSgpO1xufVxuXG59KTtcblxuYWNlLmRlZmluZSgnYWNlL2xpYi9vb3AnLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5cbmV4cG9ydHMuaW5oZXJpdHMgPSAoZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRlbXBDdG9yID0gZnVuY3Rpb24oKSB7fTtcbiAgICByZXR1cm4gZnVuY3Rpb24oY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgICAgIHRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGU7XG4gICAgICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yLnByb3RvdHlwZTtcbiAgICAgICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgdGVtcEN0b3IoKTtcbiAgICAgICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yO1xuICAgIH07XG59KCkpO1xuXG5leHBvcnRzLm1peGluID0gZnVuY3Rpb24ob2JqLCBtaXhpbikge1xuICAgIGZvciAodmFyIGtleSBpbiBtaXhpbikge1xuICAgICAgICBvYmpba2V5XSA9IG1peGluW2tleV07XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG59O1xuXG5leHBvcnRzLmltcGxlbWVudCA9IGZ1bmN0aW9uKHByb3RvLCBtaXhpbikge1xuICAgIGV4cG9ydHMubWl4aW4ocHJvdG8sIG1peGluKTtcbn07XG5cbn0pO1xuXG5hY2UuZGVmaW5lKCdhY2UvbGliL3VzZXJhZ2VudCcsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyBdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5leHBvcnRzLk9TID0ge1xuICAgIExJTlVYOiBcIkxJTlVYXCIsXG4gICAgTUFDOiBcIk1BQ1wiLFxuICAgIFdJTkRPV1M6IFwiV0lORE9XU1wiXG59O1xuZXhwb3J0cy5nZXRPUyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChleHBvcnRzLmlzTWFjKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLk9TLk1BQztcbiAgICB9IGVsc2UgaWYgKGV4cG9ydHMuaXNMaW51eCkge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5PUy5MSU5VWDtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5PUy5XSU5ET1dTO1xuICAgIH1cbn07XG5pZiAodHlwZW9mIG5hdmlnYXRvciAhPSBcIm9iamVjdFwiKVxuICAgIHJldHVybjtcblxudmFyIG9zID0gKG5hdmlnYXRvci5wbGF0Zm9ybS5tYXRjaCgvbWFjfHdpbnxsaW51eC9pKSB8fCBbXCJvdGhlclwiXSlbMF0udG9Mb3dlckNhc2UoKTtcbnZhciB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG5leHBvcnRzLmlzV2luID0gKG9zID09IFwid2luXCIpO1xuZXhwb3J0cy5pc01hYyA9IChvcyA9PSBcIm1hY1wiKTtcbmV4cG9ydHMuaXNMaW51eCA9IChvcyA9PSBcImxpbnV4XCIpO1xuZXhwb3J0cy5pc0lFID0gXG4gICAgKG5hdmlnYXRvci5hcHBOYW1lID09IFwiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyXCIgfHwgbmF2aWdhdG9yLmFwcE5hbWUuaW5kZXhPZihcIk1TQXBwSG9zdFwiKSA+PSAwKVxuICAgICYmIHBhcnNlRmxvYXQobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvTVNJRSAoWzAtOV0rW1xcLjAtOV0rKS8pWzFdKTtcbiAgICBcbmV4cG9ydHMuaXNPbGRJRSA9IGV4cG9ydHMuaXNJRSAmJiBleHBvcnRzLmlzSUUgPCA5O1xuZXhwb3J0cy5pc0dlY2tvID0gZXhwb3J0cy5pc01vemlsbGEgPSB3aW5kb3cuY29udHJvbGxlcnMgJiYgd2luZG93Lm5hdmlnYXRvci5wcm9kdWN0ID09PSBcIkdlY2tvXCI7XG5leHBvcnRzLmlzT2xkR2Vja28gPSBleHBvcnRzLmlzR2Vja28gJiYgcGFyc2VJbnQoKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL3J2XFw6KFxcZCspLyl8fFtdKVsxXSwgMTApIDwgNDtcbmV4cG9ydHMuaXNPcGVyYSA9IHdpbmRvdy5vcGVyYSAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwod2luZG93Lm9wZXJhKSA9PSBcIltvYmplY3QgT3BlcmFdXCI7XG5leHBvcnRzLmlzV2ViS2l0ID0gcGFyc2VGbG9hdCh1YS5zcGxpdChcIldlYktpdC9cIilbMV0pIHx8IHVuZGVmaW5lZDtcblxuZXhwb3J0cy5pc0Nocm9tZSA9IHBhcnNlRmxvYXQodWEuc3BsaXQoXCIgQ2hyb21lL1wiKVsxXSkgfHwgdW5kZWZpbmVkO1xuXG5leHBvcnRzLmlzQUlSID0gdWEuaW5kZXhPZihcIkFkb2JlQUlSXCIpID49IDA7XG5cbmV4cG9ydHMuaXNJUGFkID0gdWEuaW5kZXhPZihcImlQYWRcIikgPj0gMDtcblxuZXhwb3J0cy5pc1RvdWNoUGFkID0gdWEuaW5kZXhPZihcIlRvdWNoUGFkXCIpID49IDA7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKCdhY2UvZWRpdG9yJywgW1wicmVxdWlyZVwiLCAnZXhwb3J0cycsICdtb2R1bGUnICwgJ2FjZS9saWIvZml4b2xkYnJvd3NlcnMnLCAnYWNlL2xpYi9vb3AnLCAnYWNlL2xpYi9kb20nLCAnYWNlL2xpYi9sYW5nJywgJ2FjZS9saWIvdXNlcmFnZW50JywgJ2FjZS9rZXlib2FyZC90ZXh0aW5wdXQnLCAnYWNlL21vdXNlL21vdXNlX2hhbmRsZXInLCAnYWNlL21vdXNlL2ZvbGRfaGFuZGxlcicsICdhY2Uva2V5Ym9hcmQva2V5YmluZGluZycsICdhY2UvZWRpdF9zZXNzaW9uJywgJ2FjZS9zZWFyY2gnLCAnYWNlL3JhbmdlJywgJ2FjZS9saWIvZXZlbnRfZW1pdHRlcicsICdhY2UvY29tbWFuZHMvY29tbWFuZF9tYW5hZ2VyJywgJ2FjZS9jb21tYW5kcy9kZWZhdWx0X2NvbW1hbmRzJywgJ2FjZS9jb25maWcnXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5cbmFjZXF1aXJlKFwiLi9saWIvZml4b2xkYnJvd3NlcnNcIik7XG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4vbGliL29vcFwiKTtcbnZhciBkb20gPSBhY2VxdWlyZShcIi4vbGliL2RvbVwiKTtcbnZhciBsYW5nID0gYWNlcXVpcmUoXCIuL2xpYi9sYW5nXCIpO1xudmFyIHVzZXJhZ2VudCA9IGFjZXF1aXJlKFwiLi9saWIvdXNlcmFnZW50XCIpO1xudmFyIFRleHRJbnB1dCA9IGFjZXF1aXJlKFwiLi9rZXlib2FyZC90ZXh0aW5wdXRcIikuVGV4dElucHV0O1xudmFyIE1vdXNlSGFuZGxlciA9IGFjZXF1aXJlKFwiLi9tb3VzZS9tb3VzZV9oYW5kbGVyXCIpLk1vdXNlSGFuZGxlcjtcbnZhciBGb2xkSGFuZGxlciA9IGFjZXF1aXJlKFwiLi9tb3VzZS9mb2xkX2hhbmRsZXJcIikuRm9sZEhhbmRsZXI7XG52YXIgS2V5QmluZGluZyA9IGFjZXF1aXJlKFwiLi9rZXlib2FyZC9rZXliaW5kaW5nXCIpLktleUJpbmRpbmc7XG52YXIgRWRpdFNlc3Npb24gPSBhY2VxdWlyZShcIi4vZWRpdF9zZXNzaW9uXCIpLkVkaXRTZXNzaW9uO1xudmFyIFNlYXJjaCA9IGFjZXF1aXJlKFwiLi9zZWFyY2hcIikuU2VhcmNoO1xudmFyIFJhbmdlID0gYWNlcXVpcmUoXCIuL3JhbmdlXCIpLlJhbmdlO1xudmFyIEV2ZW50RW1pdHRlciA9IGFjZXF1aXJlKFwiLi9saWIvZXZlbnRfZW1pdHRlclwiKS5FdmVudEVtaXR0ZXI7XG52YXIgQ29tbWFuZE1hbmFnZXIgPSBhY2VxdWlyZShcIi4vY29tbWFuZHMvY29tbWFuZF9tYW5hZ2VyXCIpLkNvbW1hbmRNYW5hZ2VyO1xudmFyIGRlZmF1bHRDb21tYW5kcyA9IGFjZXF1aXJlKFwiLi9jb21tYW5kcy9kZWZhdWx0X2NvbW1hbmRzXCIpLmNvbW1hbmRzO1xudmFyIGNvbmZpZyA9IGFjZXF1aXJlKFwiLi9jb25maWdcIik7XG52YXIgRWRpdG9yID0gZnVuY3Rpb24ocmVuZGVyZXIsIHNlc3Npb24pIHtcbiAgICB2YXIgY29udGFpbmVyID0gcmVuZGVyZXIuZ2V0Q29udGFpbmVyRWxlbWVudCgpO1xuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgIHRoaXMuY29tbWFuZHMgPSBuZXcgQ29tbWFuZE1hbmFnZXIodXNlcmFnZW50LmlzTWFjID8gXCJtYWNcIiA6IFwid2luXCIsIGRlZmF1bHRDb21tYW5kcyk7XG4gICAgdGhpcy50ZXh0SW5wdXQgID0gbmV3IFRleHRJbnB1dChyZW5kZXJlci5nZXRUZXh0QXJlYUNvbnRhaW5lcigpLCB0aGlzKTtcbiAgICB0aGlzLnJlbmRlcmVyLnRleHRhcmVhID0gdGhpcy50ZXh0SW5wdXQuZ2V0RWxlbWVudCgpO1xuICAgIHRoaXMua2V5QmluZGluZyA9IG5ldyBLZXlCaW5kaW5nKHRoaXMpO1xuICAgIHRoaXMuJG1vdXNlSGFuZGxlciA9IG5ldyBNb3VzZUhhbmRsZXIodGhpcyk7XG4gICAgbmV3IEZvbGRIYW5kbGVyKHRoaXMpO1xuXG4gICAgdGhpcy4kYmxvY2tTY3JvbGxpbmcgPSAwO1xuICAgIHRoaXMuJHNlYXJjaCA9IG5ldyBTZWFyY2goKS5zZXQoe1xuICAgICAgICB3cmFwOiB0cnVlXG4gICAgfSk7XG5cbiAgICB0aGlzLnNldFNlc3Npb24oc2Vzc2lvbiB8fCBuZXcgRWRpdFNlc3Npb24oXCJcIikpO1xuICAgIGNvbmZpZy5yZXNldE9wdGlvbnModGhpcyk7XG4gICAgY29uZmlnLl9lbWl0KFwiZWRpdG9yXCIsIHRoaXMpO1xufTtcblxuKGZ1bmN0aW9uKCl7XG5cbiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7XG4gICAgdGhpcy5zZXRLZXlib2FyZEhhbmRsZXIgPSBmdW5jdGlvbihrZXlib2FyZEhhbmRsZXIpIHtcbiAgICAgICAgaWYgKCFrZXlib2FyZEhhbmRsZXIpIHtcbiAgICAgICAgICAgIHRoaXMua2V5QmluZGluZy5zZXRLZXlib2FyZEhhbmRsZXIobnVsbCk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGtleWJvYXJkSGFuZGxlciA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB0aGlzLiRrZXliaW5kaW5nSWQgPSBrZXlib2FyZEhhbmRsZXI7XG4gICAgICAgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xuICAgICAgICAgICAgY29uZmlnLmxvYWRNb2R1bGUoW1wia2V5YmluZGluZ1wiLCBrZXlib2FyZEhhbmRsZXJdLCBmdW5jdGlvbihtb2R1bGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoX3NlbGYuJGtleWJpbmRpbmdJZCA9PSBrZXlib2FyZEhhbmRsZXIpXG4gICAgICAgICAgICAgICAgICAgIF9zZWxmLmtleUJpbmRpbmcuc2V0S2V5Ym9hcmRIYW5kbGVyKG1vZHVsZSAmJiBtb2R1bGUuaGFuZGxlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLiRrZXliaW5kaW5nSWQ7XG4gICAgICAgICAgICB0aGlzLmtleUJpbmRpbmcuc2V0S2V5Ym9hcmRIYW5kbGVyKGtleWJvYXJkSGFuZGxlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZ2V0S2V5Ym9hcmRIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmtleUJpbmRpbmcuZ2V0S2V5Ym9hcmRIYW5kbGVyKCk7XG4gICAgfTtcbiAgICB0aGlzLnNldFNlc3Npb24gPSBmdW5jdGlvbihzZXNzaW9uKSB7XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24gPT0gc2Vzc2lvbilcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5zZXNzaW9uKSB7XG4gICAgICAgICAgICB2YXIgb2xkU2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIHRoaXMuJG9uRG9jdW1lbnRDaGFuZ2UpO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VNb2RlXCIsIHRoaXMuJG9uQ2hhbmdlTW9kZSk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRva2VuaXplclVwZGF0ZVwiLCB0aGlzLiRvblRva2VuaXplclVwZGF0ZSk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVRhYlNpemVcIiwgdGhpcy4kb25DaGFuZ2VUYWJTaXplKTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlV3JhcExpbWl0XCIsIHRoaXMuJG9uQ2hhbmdlV3JhcExpbWl0KTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlV3JhcE1vZGVcIiwgdGhpcy4kb25DaGFuZ2VXcmFwTW9kZSk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9uQ2hhbmdlRm9sZFwiLCB0aGlzLiRvbkNoYW5nZUZvbGQpO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VGcm9udE1hcmtlclwiLCB0aGlzLiRvbkNoYW5nZUZyb250TWFya2VyKTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlQmFja01hcmtlclwiLCB0aGlzLiRvbkNoYW5nZUJhY2tNYXJrZXIpO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VCcmVha3BvaW50XCIsIHRoaXMuJG9uQ2hhbmdlQnJlYWtwb2ludCk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZUFubm90YXRpb25cIiwgdGhpcy4kb25DaGFuZ2VBbm5vdGF0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlT3ZlcndyaXRlXCIsIHRoaXMuJG9uQ3Vyc29yQ2hhbmdlKTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlU2Nyb2xsVG9wXCIsIHRoaXMuJG9uU2Nyb2xsVG9wQ2hhbmdlKTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlU2Nyb2xsTGVmdFwiLCB0aGlzLiRvblNjcm9sbExlZnRDaGFuZ2UpO1xuXG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy5zZXNzaW9uLmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgc2VsZWN0aW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VDdXJzb3JcIiwgdGhpcy4kb25DdXJzb3JDaGFuZ2UpO1xuICAgICAgICAgICAgc2VsZWN0aW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VTZWxlY3Rpb25cIiwgdGhpcy4kb25TZWxlY3Rpb25DaGFuZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcblxuICAgICAgICB0aGlzLiRvbkRvY3VtZW50Q2hhbmdlID0gdGhpcy5vbkRvY3VtZW50Q2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgIHNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCB0aGlzLiRvbkRvY3VtZW50Q2hhbmdlKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTZXNzaW9uKHNlc3Npb24pO1xuXG4gICAgICAgIHRoaXMuJG9uQ2hhbmdlTW9kZSA9IHRoaXMub25DaGFuZ2VNb2RlLmJpbmQodGhpcyk7XG4gICAgICAgIHNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZU1vZGVcIiwgdGhpcy4kb25DaGFuZ2VNb2RlKTtcblxuICAgICAgICB0aGlzLiRvblRva2VuaXplclVwZGF0ZSA9IHRoaXMub25Ub2tlbml6ZXJVcGRhdGUuYmluZCh0aGlzKTtcbiAgICAgICAgc2Vzc2lvbi5hZGRFdmVudExpc3RlbmVyKFwidG9rZW5pemVyVXBkYXRlXCIsIHRoaXMuJG9uVG9rZW5pemVyVXBkYXRlKTtcblxuICAgICAgICB0aGlzLiRvbkNoYW5nZVRhYlNpemUgPSB0aGlzLnJlbmRlcmVyLm9uQ2hhbmdlVGFiU2l6ZS5iaW5kKHRoaXMucmVuZGVyZXIpO1xuICAgICAgICBzZXNzaW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VUYWJTaXplXCIsIHRoaXMuJG9uQ2hhbmdlVGFiU2l6ZSk7XG5cbiAgICAgICAgdGhpcy4kb25DaGFuZ2VXcmFwTGltaXQgPSB0aGlzLm9uQ2hhbmdlV3JhcExpbWl0LmJpbmQodGhpcyk7XG4gICAgICAgIHNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVdyYXBMaW1pdFwiLCB0aGlzLiRvbkNoYW5nZVdyYXBMaW1pdCk7XG5cbiAgICAgICAgdGhpcy4kb25DaGFuZ2VXcmFwTW9kZSA9IHRoaXMub25DaGFuZ2VXcmFwTW9kZS5iaW5kKHRoaXMpO1xuICAgICAgICBzZXNzaW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VXcmFwTW9kZVwiLCB0aGlzLiRvbkNoYW5nZVdyYXBNb2RlKTtcblxuICAgICAgICB0aGlzLiRvbkNoYW5nZUZvbGQgPSB0aGlzLm9uQ2hhbmdlRm9sZC5iaW5kKHRoaXMpO1xuICAgICAgICBzZXNzaW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VGb2xkXCIsIHRoaXMuJG9uQ2hhbmdlRm9sZCk7XG5cbiAgICAgICAgdGhpcy4kb25DaGFuZ2VGcm9udE1hcmtlciA9IHRoaXMub25DaGFuZ2VGcm9udE1hcmtlci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZUZyb250TWFya2VyXCIsIHRoaXMuJG9uQ2hhbmdlRnJvbnRNYXJrZXIpO1xuXG4gICAgICAgIHRoaXMuJG9uQ2hhbmdlQmFja01hcmtlciA9IHRoaXMub25DaGFuZ2VCYWNrTWFya2VyLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlQmFja01hcmtlclwiLCB0aGlzLiRvbkNoYW5nZUJhY2tNYXJrZXIpO1xuXG4gICAgICAgIHRoaXMuJG9uQ2hhbmdlQnJlYWtwb2ludCA9IHRoaXMub25DaGFuZ2VCcmVha3BvaW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlQnJlYWtwb2ludFwiLCB0aGlzLiRvbkNoYW5nZUJyZWFrcG9pbnQpO1xuXG4gICAgICAgIHRoaXMuJG9uQ2hhbmdlQW5ub3RhdGlvbiA9IHRoaXMub25DaGFuZ2VBbm5vdGF0aW9uLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlQW5ub3RhdGlvblwiLCB0aGlzLiRvbkNoYW5nZUFubm90YXRpb24pO1xuXG4gICAgICAgIHRoaXMuJG9uQ3Vyc29yQ2hhbmdlID0gdGhpcy5vbkN1cnNvckNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZU92ZXJ3cml0ZVwiLCB0aGlzLiRvbkN1cnNvckNoYW5nZSk7XG5cbiAgICAgICAgdGhpcy4kb25TY3JvbGxUb3BDaGFuZ2UgPSB0aGlzLm9uU2Nyb2xsVG9wQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlU2Nyb2xsVG9wXCIsIHRoaXMuJG9uU2Nyb2xsVG9wQ2hhbmdlKTtcblxuICAgICAgICB0aGlzLiRvblNjcm9sbExlZnRDaGFuZ2UgPSB0aGlzLm9uU2Nyb2xsTGVmdENoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVNjcm9sbExlZnRcIiwgdGhpcy4kb25TY3JvbGxMZWZ0Q2hhbmdlKTtcblxuICAgICAgICB0aGlzLnNlbGVjdGlvbiA9IHNlc3Npb24uZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VDdXJzb3JcIiwgdGhpcy4kb25DdXJzb3JDaGFuZ2UpO1xuXG4gICAgICAgIHRoaXMuJG9uU2VsZWN0aW9uQ2hhbmdlID0gdGhpcy5vblNlbGVjdGlvbkNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlU2VsZWN0aW9uXCIsIHRoaXMuJG9uU2VsZWN0aW9uQ2hhbmdlKTtcblxuICAgICAgICB0aGlzLm9uQ2hhbmdlTW9kZSgpO1xuXG4gICAgICAgIHRoaXMuJGJsb2NrU2Nyb2xsaW5nICs9IDE7XG4gICAgICAgIHRoaXMub25DdXJzb3JDaGFuZ2UoKTtcbiAgICAgICAgdGhpcy4kYmxvY2tTY3JvbGxpbmcgLT0gMTtcblxuICAgICAgICB0aGlzLm9uU2Nyb2xsVG9wQ2hhbmdlKCk7XG4gICAgICAgIHRoaXMub25TY3JvbGxMZWZ0Q2hhbmdlKCk7XG4gICAgICAgIHRoaXMub25TZWxlY3Rpb25DaGFuZ2UoKTtcbiAgICAgICAgdGhpcy5vbkNoYW5nZUZyb250TWFya2VyKCk7XG4gICAgICAgIHRoaXMub25DaGFuZ2VCYWNrTWFya2VyKCk7XG4gICAgICAgIHRoaXMub25DaGFuZ2VCcmVha3BvaW50KCk7XG4gICAgICAgIHRoaXMub25DaGFuZ2VBbm5vdGF0aW9uKCk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5nZXRVc2VXcmFwTW9kZSgpICYmIHRoaXMucmVuZGVyZXIuYWRqdXN0V3JhcExpbWl0KCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlRnVsbCgpO1xuXG4gICAgICAgIHRoaXMuX2VtaXQoXCJjaGFuZ2VTZXNzaW9uXCIsIHtcbiAgICAgICAgICAgIHNlc3Npb246IHNlc3Npb24sXG4gICAgICAgICAgICBvbGRTZXNzaW9uOiBvbGRTZXNzaW9uXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5nZXRTZXNzaW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb247XG4gICAgfTtcbiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24odmFsLCBjdXJzb3JQb3MpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uLmRvYy5zZXRWYWx1ZSh2YWwpO1xuXG4gICAgICAgIGlmICghY3Vyc29yUG9zKVxuICAgICAgICAgICAgdGhpcy5zZWxlY3RBbGwoKTtcbiAgICAgICAgZWxzZSBpZiAoY3Vyc29yUG9zID09IDEpXG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRlRmlsZUVuZCgpO1xuICAgICAgICBlbHNlIGlmIChjdXJzb3JQb3MgPT0gLTEpXG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRlRmlsZVN0YXJ0KCk7XG5cbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9O1xuICAgIHRoaXMuZ2V0VmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5nZXRWYWx1ZSgpO1xuICAgIH07XG4gICAgdGhpcy5nZXRTZWxlY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uO1xuICAgIH07XG4gICAgdGhpcy5yZXNpemUgPSBmdW5jdGlvbihmb3JjZSkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLm9uUmVzaXplKGZvcmNlKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0VGhlbWUgPSBmdW5jdGlvbih0aGVtZSkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFRoZW1lKHRoZW1lKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0VGhlbWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuZ2V0VGhlbWUoKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0U3R5bGUgPSBmdW5jdGlvbihzdHlsZSkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHN0eWxlKTtcbiAgICB9O1xuICAgIHRoaXMudW5zZXRTdHlsZSA9IGZ1bmN0aW9uKHN0eWxlKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudW5zZXRTdHlsZShzdHlsZSk7XG4gICAgfTtcbiAgICB0aGlzLmdldEZvbnRTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPcHRpb24oXCJmb250U2l6ZVwiKSB8fFxuICAgICAgICAgICBkb20uY29tcHV0ZWRTdHlsZSh0aGlzLmNvbnRhaW5lciwgXCJmb250U2l6ZVwiKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0Rm9udFNpemUgPSBmdW5jdGlvbihzaXplKSB7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9uKFwiZm9udFNpemVcIiwgc2l6ZSk7XG4gICAgfTtcblxuICAgIHRoaXMuJGhpZ2hsaWdodEJyYWNrZXRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24uJGJyYWNrZXRIaWdobGlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5yZW1vdmVNYXJrZXIodGhpcy5zZXNzaW9uLiRicmFja2V0SGlnaGxpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi4kYnJhY2tldEhpZ2hsaWdodCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy4kaGlnaGxpZ2h0UGVuZGluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy4kaGlnaGxpZ2h0UGVuZGluZyA9IHRydWU7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLiRoaWdobGlnaHRQZW5kaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHZhciBwb3MgPSBzZWxmLnNlc3Npb24uZmluZE1hdGNoaW5nQnJhY2tldChzZWxmLmdldEN1cnNvclBvc2l0aW9uKCkpO1xuICAgICAgICAgICAgaWYgKHBvcykge1xuICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IG5ldyBSYW5nZShwb3Mucm93LCBwb3MuY29sdW1uLCBwb3Mucm93LCBwb3MuY29sdW1uKzEpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxmLnNlc3Npb24uJG1vZGUuZ2V0TWF0Y2hpbmcpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSBzZWxmLnNlc3Npb24uJG1vZGUuZ2V0TWF0Y2hpbmcoc2VsZi5zZXNzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyYW5nZSlcbiAgICAgICAgICAgICAgICBzZWxmLnNlc3Npb24uJGJyYWNrZXRIaWdobGlnaHQgPSBzZWxmLnNlc3Npb24uYWRkTWFya2VyKHJhbmdlLCBcImFjZV9icmFja2V0XCIsIFwidGV4dFwiKTtcbiAgICAgICAgfSwgNTApO1xuICAgIH07XG4gICAgdGhpcy5mb2N1cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgX3NlbGYudGV4dElucHV0LmZvY3VzKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnRleHRJbnB1dC5mb2N1cygpO1xuICAgIH07XG4gICAgdGhpcy5pc0ZvY3VzZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dElucHV0LmlzRm9jdXNlZCgpO1xuICAgIH07XG4gICAgdGhpcy5ibHVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMudGV4dElucHV0LmJsdXIoKTtcbiAgICB9O1xuICAgIHRoaXMub25Gb2N1cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy4kaXNGb2N1c2VkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLiRpc0ZvY3VzZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNob3dDdXJzb3IoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci52aXN1YWxpemVGb2N1cygpO1xuICAgICAgICB0aGlzLl9lbWl0KFwiZm9jdXNcIik7XG4gICAgfTtcbiAgICB0aGlzLm9uQmx1ciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuJGlzRm9jdXNlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy4kaXNGb2N1c2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuaGlkZUN1cnNvcigpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnZpc3VhbGl6ZUJsdXIoKTtcbiAgICAgICAgdGhpcy5fZW1pdChcImJsdXJcIik7XG4gICAgfTtcblxuICAgIHRoaXMuJGN1cnNvckNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnVwZGF0ZUN1cnNvcigpO1xuICAgIH07XG4gICAgdGhpcy5vbkRvY3VtZW50Q2hhbmdlID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgZGVsdGEgPSBlLmRhdGE7XG4gICAgICAgIHZhciByYW5nZSA9IGRlbHRhLnJhbmdlO1xuICAgICAgICB2YXIgbGFzdFJvdztcblxuICAgICAgICBpZiAocmFuZ2Uuc3RhcnQucm93ID09IHJhbmdlLmVuZC5yb3cgJiYgZGVsdGEuYWN0aW9uICE9IFwiaW5zZXJ0TGluZXNcIiAmJiBkZWx0YS5hY3Rpb24gIT0gXCJyZW1vdmVMaW5lc1wiKVxuICAgICAgICAgICAgbGFzdFJvdyA9IHJhbmdlLmVuZC5yb3c7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGxhc3RSb3cgPSBJbmZpbml0eTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGVMaW5lcyhyYW5nZS5zdGFydC5yb3csIGxhc3RSb3cpO1xuXG4gICAgICAgIHRoaXMuX2VtaXQoXCJjaGFuZ2VcIiwgZSk7XG4gICAgICAgIHRoaXMuJGN1cnNvckNoYW5nZSgpO1xuICAgIH07XG5cbiAgICB0aGlzLm9uVG9rZW5pemVyVXBkYXRlID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgcm93cyA9IGUuZGF0YTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGVMaW5lcyhyb3dzLmZpcnN0LCByb3dzLmxhc3QpO1xuICAgIH07XG5cblxuICAgIHRoaXMub25TY3JvbGxUb3BDaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zY3JvbGxUb1kodGhpcy5zZXNzaW9uLmdldFNjcm9sbFRvcCgpKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vblNjcm9sbExlZnRDaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zY3JvbGxUb1godGhpcy5zZXNzaW9uLmdldFNjcm9sbExlZnQoKSk7XG4gICAgfTtcbiAgICB0aGlzLm9uQ3Vyc29yQ2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJGN1cnNvckNoYW5nZSgpO1xuXG4gICAgICAgIGlmICghdGhpcy4kYmxvY2tTY3JvbGxpbmcpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuJGhpZ2hsaWdodEJyYWNrZXRzKCk7XG4gICAgICAgIHRoaXMuJHVwZGF0ZUhpZ2hsaWdodEFjdGl2ZUxpbmUoKTtcbiAgICAgICAgdGhpcy5fZW1pdChcImNoYW5nZVNlbGVjdGlvblwiKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kdXBkYXRlSGlnaGxpZ2h0QWN0aXZlTGluZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuZ2V0U2Vzc2lvbigpO1xuXG4gICAgICAgIHZhciBoaWdobGlnaHQ7XG4gICAgICAgIGlmICh0aGlzLiRoaWdobGlnaHRBY3RpdmVMaW5lKSB7XG4gICAgICAgICAgICBpZiAoKHRoaXMuJHNlbGVjdGlvblN0eWxlICE9IFwibGluZVwiIHx8ICF0aGlzLnNlbGVjdGlvbi5pc011bHRpTGluZSgpKSlcbiAgICAgICAgICAgICAgICBoaWdobGlnaHQgPSB0aGlzLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2Vzc2lvbi4kaGlnaGxpZ2h0TGluZU1hcmtlciAmJiAhaGlnaGxpZ2h0KSB7XG4gICAgICAgICAgICBzZXNzaW9uLnJlbW92ZU1hcmtlcihzZXNzaW9uLiRoaWdobGlnaHRMaW5lTWFya2VyLmlkKTtcbiAgICAgICAgICAgIHNlc3Npb24uJGhpZ2hsaWdodExpbmVNYXJrZXIgPSBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKCFzZXNzaW9uLiRoaWdobGlnaHRMaW5lTWFya2VyICYmIGhpZ2hsaWdodCkge1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gbmV3IFJhbmdlKGhpZ2hsaWdodC5yb3csIGhpZ2hsaWdodC5jb2x1bW4sIGhpZ2hsaWdodC5yb3csIEluZmluaXR5KTtcbiAgICAgICAgICAgIHJhbmdlLmlkID0gc2Vzc2lvbi5hZGRNYXJrZXIocmFuZ2UsIFwiYWNlX2FjdGl2ZS1saW5lXCIsIFwic2NyZWVuTGluZVwiKTtcbiAgICAgICAgICAgIHNlc3Npb24uJGhpZ2hsaWdodExpbmVNYXJrZXIgPSByYW5nZTtcbiAgICAgICAgfSBlbHNlIGlmIChoaWdobGlnaHQpIHtcbiAgICAgICAgICAgIHNlc3Npb24uJGhpZ2hsaWdodExpbmVNYXJrZXIuc3RhcnQucm93ID0gaGlnaGxpZ2h0LnJvdztcbiAgICAgICAgICAgIHNlc3Npb24uJGhpZ2hsaWdodExpbmVNYXJrZXIuZW5kLnJvdyA9IGhpZ2hsaWdodC5yb3c7XG4gICAgICAgICAgICBzZXNzaW9uLiRoaWdobGlnaHRMaW5lTWFya2VyLnN0YXJ0LmNvbHVtbiA9IGhpZ2hsaWdodC5jb2x1bW47XG4gICAgICAgICAgICBzZXNzaW9uLl9lbWl0KFwiY2hhbmdlQmFja01hcmtlclwiKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcblxuICAgICAgICBpZiAoc2Vzc2lvbi4kc2VsZWN0aW9uTWFya2VyKSB7XG4gICAgICAgICAgICBzZXNzaW9uLnJlbW92ZU1hcmtlcihzZXNzaW9uLiRzZWxlY3Rpb25NYXJrZXIpO1xuICAgICAgICB9XG4gICAgICAgIHNlc3Npb24uJHNlbGVjdGlvbk1hcmtlciA9IG51bGw7XG5cbiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCk7XG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmdldFNlbGVjdGlvblN0eWxlKCk7XG4gICAgICAgICAgICBzZXNzaW9uLiRzZWxlY3Rpb25NYXJrZXIgPSBzZXNzaW9uLmFkZE1hcmtlcihyYW5nZSwgXCJhY2Vfc2VsZWN0aW9uXCIsIHN0eWxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuJHVwZGF0ZUhpZ2hsaWdodEFjdGl2ZUxpbmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZSA9IHRoaXMuJGhpZ2hsaWdodFNlbGVjdGVkV29yZCAmJiB0aGlzLiRnZXRTZWxlY3Rpb25IaWdoTGlnaHRSZWdleHAoKVxuICAgICAgICB0aGlzLnNlc3Npb24uaGlnaGxpZ2h0KHJlKTtcblxuICAgICAgICB0aGlzLl9lbWl0KFwiY2hhbmdlU2VsZWN0aW9uXCIpO1xuICAgIH07XG5cbiAgICB0aGlzLiRnZXRTZWxlY3Rpb25IaWdoTGlnaHRSZWdleHAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLnNlc3Npb247XG5cbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgaWYgKHNlbGVjdGlvbi5pc0VtcHR5KCkgfHwgc2VsZWN0aW9uLmlzTXVsdGlMaW5lKCkpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIHN0YXJ0T3V0ZXIgPSBzZWxlY3Rpb24uc3RhcnQuY29sdW1uIC0gMTtcbiAgICAgICAgdmFyIGVuZE91dGVyID0gc2VsZWN0aW9uLmVuZC5jb2x1bW4gKyAxO1xuICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShzZWxlY3Rpb24uc3RhcnQucm93KTtcbiAgICAgICAgdmFyIGxpbmVDb2xzID0gbGluZS5sZW5ndGg7XG4gICAgICAgIHZhciBuZWVkbGUgPSBsaW5lLnN1YnN0cmluZyhNYXRoLm1heChzdGFydE91dGVyLCAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKGVuZE91dGVyLCBsaW5lQ29scykpO1xuICAgICAgICBpZiAoKHN0YXJ0T3V0ZXIgPj0gMCAmJiAvXltcXHdcXGRdLy50ZXN0KG5lZWRsZSkpIHx8XG4gICAgICAgICAgICAoZW5kT3V0ZXIgPD0gbGluZUNvbHMgJiYgL1tcXHdcXGRdJC8udGVzdChuZWVkbGUpKSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBuZWVkbGUgPSBsaW5lLnN1YnN0cmluZyhzZWxlY3Rpb24uc3RhcnQuY29sdW1uLCBzZWxlY3Rpb24uZW5kLmNvbHVtbik7XG4gICAgICAgIGlmICghL15bXFx3XFxkXSskLy50ZXN0KG5lZWRsZSkpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIHJlID0gdGhpcy4kc2VhcmNoLiRhc3NlbWJsZVJlZ0V4cCh7XG4gICAgICAgICAgICB3aG9sZVdvcmQ6IHRydWUsXG4gICAgICAgICAgICBjYXNlU2Vuc2l0aXZlOiB0cnVlLFxuICAgICAgICAgICAgbmVlZGxlOiBuZWVkbGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJlO1xuICAgIH07XG5cblxuICAgIHRoaXMub25DaGFuZ2VGcm9udE1hcmtlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnVwZGF0ZUZyb250TWFya2VycygpO1xuICAgIH07XG5cbiAgICB0aGlzLm9uQ2hhbmdlQmFja01hcmtlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnVwZGF0ZUJhY2tNYXJrZXJzKCk7XG4gICAgfTtcblxuXG4gICAgdGhpcy5vbkNoYW5nZUJyZWFrcG9pbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGVCcmVha3BvaW50cygpO1xuICAgIH07XG5cbiAgICB0aGlzLm9uQ2hhbmdlQW5ub3RhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEFubm90YXRpb25zKHRoaXMuc2Vzc2lvbi5nZXRBbm5vdGF0aW9ucygpKTtcbiAgICB9O1xuXG5cbiAgICB0aGlzLm9uQ2hhbmdlTW9kZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGVUZXh0KCk7XG4gICAgICAgIHRoaXMuX2VtaXQoXCJjaGFuZ2VNb2RlXCIsIGUpO1xuICAgIH07XG5cblxuICAgIHRoaXMub25DaGFuZ2VXcmFwTGltaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGVGdWxsKCk7XG4gICAgfTtcblxuICAgIHRoaXMub25DaGFuZ2VXcmFwTW9kZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLm9uUmVzaXplKHRydWUpO1xuICAgIH07XG5cblxuICAgIHRoaXMub25DaGFuZ2VGb2xkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJHVwZGF0ZUhpZ2hsaWdodEFjdGl2ZUxpbmUoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGVGdWxsKCk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Q29weVRleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHRleHQgPSBcIlwiO1xuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSlcbiAgICAgICAgICAgIHRleHQgPSB0aGlzLnNlc3Npb24uZ2V0VGV4dFJhbmdlKHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKSk7XG5cbiAgICAgICAgdGhpcy5fZW1pdChcImNvcHlcIiwgdGV4dCk7XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH07XG4gICAgdGhpcy5vbkNvcHkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5jb21tYW5kcy5leGVjKFwiY29weVwiLCB0aGlzKTtcbiAgICB9O1xuICAgIHRoaXMub25DdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5jb21tYW5kcy5leGVjKFwiY3V0XCIsIHRoaXMpO1xuICAgIH07XG4gICAgdGhpcy5vblBhc3RlID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgICBpZiAodGhpcy4kcmVhZE9ubHkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuX2VtaXQoXCJwYXN0ZVwiLCB0ZXh0KTtcbiAgICAgICAgdGhpcy5pbnNlcnQodGV4dCk7XG4gICAgfTtcblxuXG4gICAgdGhpcy5leGVjQ29tbWFuZCA9IGZ1bmN0aW9uKGNvbW1hbmQsIGFyZ3MpIHtcbiAgICAgICAgdGhpcy5jb21tYW5kcy5leGVjKGNvbW1hbmQsIHRoaXMsIGFyZ3MpO1xuICAgIH07XG4gICAgdGhpcy5pbnNlcnQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuICAgICAgICB2YXIgbW9kZSA9IHNlc3Npb24uZ2V0TW9kZSgpO1xuICAgICAgICB2YXIgY3Vyc29yID0gdGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpO1xuXG4gICAgICAgIGlmICh0aGlzLmdldEJlaGF2aW91cnNFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIHZhciB0cmFuc2Zvcm0gPSBtb2RlLnRyYW5zZm9ybUFjdGlvbihzZXNzaW9uLmdldFN0YXRlKGN1cnNvci5yb3cpLCAnaW5zZXJ0aW9uJywgdGhpcywgc2Vzc2lvbiwgdGV4dCk7XG4gICAgICAgICAgICBpZiAodHJhbnNmb3JtKVxuICAgICAgICAgICAgICAgIHRleHQgPSB0cmFuc2Zvcm0udGV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoXCJcXHRcIiwgdGhpcy5zZXNzaW9uLmdldFRhYlN0cmluZygpKTtcbiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIGN1cnNvciA9IHRoaXMuc2Vzc2lvbi5yZW1vdmUodGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpKTtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnNlc3Npb24uZ2V0T3ZlcndyaXRlKCkpIHtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IG5ldyBSYW5nZS5mcm9tUG9pbnRzKGN1cnNvciwgY3Vyc29yKTtcbiAgICAgICAgICAgIHJhbmdlLmVuZC5jb2x1bW4gKz0gdGV4dC5sZW5ndGg7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlKHJhbmdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcblxuICAgICAgICB2YXIgc3RhcnQgPSBjdXJzb3IuY29sdW1uO1xuICAgICAgICB2YXIgbGluZVN0YXRlID0gc2Vzc2lvbi5nZXRTdGF0ZShjdXJzb3Iucm93KTtcbiAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmdldExpbmUoY3Vyc29yLnJvdyk7XG4gICAgICAgIHZhciBzaG91bGRPdXRkZW50ID0gbW9kZS5jaGVja091dGRlbnQobGluZVN0YXRlLCBsaW5lLCB0ZXh0KTtcbiAgICAgICAgdmFyIGVuZCA9IHNlc3Npb24uaW5zZXJ0KGN1cnNvciwgdGV4dCk7XG5cbiAgICAgICAgaWYgKHRyYW5zZm9ybSAmJiB0cmFuc2Zvcm0uc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAodHJhbnNmb3JtLnNlbGVjdGlvbi5sZW5ndGggPT0gMikgeyAvLyBUcmFuc2Zvcm0gcmVsYXRpdmUgdG8gdGhlIGN1cnJlbnQgY29sdW1uXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uUmFuZ2UoXG4gICAgICAgICAgICAgICAgICAgIG5ldyBSYW5nZShjdXJzb3Iucm93LCBzdGFydCArIHRyYW5zZm9ybS5zZWxlY3Rpb25bMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3Iucm93LCBzdGFydCArIHRyYW5zZm9ybS5zZWxlY3Rpb25bMV0pKTtcbiAgICAgICAgICAgIH0gZWxzZSB7IC8vIFRyYW5zZm9ybSByZWxhdGl2ZSB0byB0aGUgY3VycmVudCByb3cuXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uUmFuZ2UoXG4gICAgICAgICAgICAgICAgICAgIG5ldyBSYW5nZShjdXJzb3Iucm93ICsgdHJhbnNmb3JtLnNlbGVjdGlvblswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybS5zZWxlY3Rpb25bMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3Iucm93ICsgdHJhbnNmb3JtLnNlbGVjdGlvblsyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybS5zZWxlY3Rpb25bM10pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2Vzc2lvbi5nZXREb2N1bWVudCgpLmlzTmV3TGluZSh0ZXh0KSkge1xuICAgICAgICAgICAgdmFyIGxpbmVJbmRlbnQgPSBtb2RlLmdldE5leHRMaW5lSW5kZW50KGxpbmVTdGF0ZSwgbGluZS5zbGljZSgwLCBjdXJzb3IuY29sdW1uKSwgc2Vzc2lvbi5nZXRUYWJTdHJpbmcoKSk7XG5cbiAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvclRvKGN1cnNvci5yb3crMSwgMCk7XG5cbiAgICAgICAgICAgIHZhciBzaXplID0gc2Vzc2lvbi5nZXRUYWJTaXplKCk7XG4gICAgICAgICAgICB2YXIgbWluSW5kZW50ID0gTnVtYmVyLk1BWF9WQUxVRTtcblxuICAgICAgICAgICAgZm9yICh2YXIgcm93ID0gY3Vyc29yLnJvdyArIDE7IHJvdyA8PSBlbmQucm93OyArK3Jvdykge1xuICAgICAgICAgICAgICAgIHZhciBpbmRlbnQgPSAwO1xuXG4gICAgICAgICAgICAgICAgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZS5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUuY2hhckF0KGkpID09ICdcXHQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZW50ICs9IHNpemU7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxpbmUuY2hhckF0KGkpID09ICcgJylcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGVudCArPSAxO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBpZiAoL1teXFxzXS8udGVzdChsaW5lKSlcbiAgICAgICAgICAgICAgICAgICAgbWluSW5kZW50ID0gTWF0aC5taW4oaW5kZW50LCBtaW5JbmRlbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciByb3cgPSBjdXJzb3Iucm93ICsgMTsgcm93IDw9IGVuZC5yb3c7ICsrcm93KSB7XG4gICAgICAgICAgICAgICAgdmFyIG91dGRlbnQgPSBtaW5JbmRlbnQ7XG5cbiAgICAgICAgICAgICAgICBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lLmxlbmd0aCAmJiBvdXRkZW50ID4gMDsgKytpKVxuICAgICAgICAgICAgICAgICAgICBpZiAobGluZS5jaGFyQXQoaSkgPT0gJ1xcdCcpXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRkZW50IC09IHNpemU7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxpbmUuY2hhckF0KGkpID09ICcgJylcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dGRlbnQgLT0gMTtcbiAgICAgICAgICAgICAgICBzZXNzaW9uLnJlbW92ZShuZXcgUmFuZ2Uocm93LCAwLCByb3csIGkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlc3Npb24uaW5kZW50Um93cyhjdXJzb3Iucm93ICsgMSwgZW5kLnJvdywgbGluZUluZGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3VsZE91dGRlbnQpXG4gICAgICAgICAgICBtb2RlLmF1dG9PdXRkZW50KGxpbmVTdGF0ZSwgc2Vzc2lvbiwgY3Vyc29yLnJvdyk7XG4gICAgfTtcblxuICAgIHRoaXMub25UZXh0SW5wdXQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgIHRoaXMua2V5QmluZGluZy5vblRleHRJbnB1dCh0ZXh0KTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbkNvbW1hbmRLZXkgPSBmdW5jdGlvbihlLCBoYXNoSWQsIGtleUNvZGUpIHtcbiAgICAgICAgdGhpcy5rZXlCaW5kaW5nLm9uQ29tbWFuZEtleShlLCBoYXNoSWQsIGtleUNvZGUpO1xuICAgIH07XG4gICAgdGhpcy5zZXRPdmVyd3JpdGUgPSBmdW5jdGlvbihvdmVyd3JpdGUpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnNldE92ZXJ3cml0ZShvdmVyd3JpdGUpO1xuICAgIH07XG4gICAgdGhpcy5nZXRPdmVyd3JpdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5nZXRPdmVyd3JpdGUoKTtcbiAgICB9O1xuICAgIHRoaXMudG9nZ2xlT3ZlcndyaXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi50b2dnbGVPdmVyd3JpdGUoKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0U2Nyb2xsU3BlZWQgPSBmdW5jdGlvbihzcGVlZCkge1xuICAgICAgICB0aGlzLnNldE9wdGlvbihcInNjcm9sbFNwZWVkXCIsIHNwZWVkKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0U2Nyb2xsU3BlZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwic2Nyb2xsU3BlZWRcIik7XG4gICAgfTtcbiAgICB0aGlzLnNldERyYWdEZWxheSA9IGZ1bmN0aW9uKGRyYWdEZWxheSkge1xuICAgICAgICB0aGlzLnNldE9wdGlvbihcImRyYWdEZWxheVwiLCBkcmFnRGVsYXkpO1xuICAgIH07XG4gICAgdGhpcy5nZXREcmFnRGVsYXkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwiZHJhZ0RlbGF5XCIpO1xuICAgIH07XG4gICAgdGhpcy5zZXRTZWxlY3Rpb25TdHlsZSA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB0aGlzLnNldE9wdGlvbihcInNlbGVjdGlvblN0eWxlXCIsIHZhbCk7XG4gICAgfTtcbiAgICB0aGlzLmdldFNlbGVjdGlvblN0eWxlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE9wdGlvbihcInNlbGVjdGlvblN0eWxlXCIpO1xuICAgIH07XG4gICAgdGhpcy5zZXRIaWdobGlnaHRBY3RpdmVMaW5lID0gZnVuY3Rpb24oc2hvdWxkSGlnaGxpZ2h0KSB7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9uKFwiaGlnaGxpZ2h0QWN0aXZlTGluZVwiLCBzaG91bGRIaWdobGlnaHQpO1xuICAgIH07XG4gICAgdGhpcy5nZXRIaWdobGlnaHRBY3RpdmVMaW5lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE9wdGlvbihcImhpZ2hsaWdodEFjdGl2ZUxpbmVcIik7XG4gICAgfTtcbiAgICB0aGlzLnNldEhpZ2hsaWdodEd1dHRlckxpbmUgPSBmdW5jdGlvbihzaG91bGRIaWdobGlnaHQpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb24oXCJoaWdobGlnaHRHdXR0ZXJMaW5lXCIsIHNob3VsZEhpZ2hsaWdodCk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0SGlnaGxpZ2h0R3V0dGVyTGluZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPcHRpb24oXCJoaWdobGlnaHRHdXR0ZXJMaW5lXCIpO1xuICAgIH07XG4gICAgdGhpcy5zZXRIaWdobGlnaHRTZWxlY3RlZFdvcmQgPSBmdW5jdGlvbihzaG91bGRIaWdobGlnaHQpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb24oXCJoaWdobGlnaHRTZWxlY3RlZFdvcmRcIiwgc2hvdWxkSGlnaGxpZ2h0KTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0SGlnaGxpZ2h0U2VsZWN0ZWRXb3JkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRoaWdobGlnaHRTZWxlY3RlZFdvcmQ7XG4gICAgfTtcblxuICAgIHRoaXMuc2V0QW5pbWF0ZWRTY3JvbGwgPSBmdW5jdGlvbihzaG91bGRBbmltYXRlKXtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRBbmltYXRlZFNjcm9sbChzaG91bGRBbmltYXRlKTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRBbmltYXRlZFNjcm9sbCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmdldEFuaW1hdGVkU2Nyb2xsKCk7XG4gICAgfTtcbiAgICB0aGlzLnNldFNob3dJbnZpc2libGVzID0gZnVuY3Rpb24oc2hvd0ludmlzaWJsZXMpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaG93SW52aXNpYmxlcyhzaG93SW52aXNpYmxlcyk7XG4gICAgfTtcbiAgICB0aGlzLmdldFNob3dJbnZpc2libGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmdldFNob3dJbnZpc2libGVzKCk7XG4gICAgfTtcblxuICAgIHRoaXMuc2V0RGlzcGxheUluZGVudEd1aWRlcyA9IGZ1bmN0aW9uKGRpc3BsYXkpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXREaXNwbGF5SW5kZW50R3VpZGVzKGRpc3BsYXkpO1xuICAgIH07XG5cbiAgICB0aGlzLmdldERpc3BsYXlJbmRlbnRHdWlkZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuZ2V0RGlzcGxheUluZGVudEd1aWRlcygpO1xuICAgIH07XG4gICAgdGhpcy5zZXRTaG93UHJpbnRNYXJnaW4gPSBmdW5jdGlvbihzaG93UHJpbnRNYXJnaW4pIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaG93UHJpbnRNYXJnaW4oc2hvd1ByaW50TWFyZ2luKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0U2hvd1ByaW50TWFyZ2luID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmdldFNob3dQcmludE1hcmdpbigpO1xuICAgIH07XG4gICAgdGhpcy5zZXRQcmludE1hcmdpbkNvbHVtbiA9IGZ1bmN0aW9uKHNob3dQcmludE1hcmdpbikge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFByaW50TWFyZ2luQ29sdW1uKHNob3dQcmludE1hcmdpbik7XG4gICAgfTtcbiAgICB0aGlzLmdldFByaW50TWFyZ2luQ29sdW1uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmdldFByaW50TWFyZ2luQ29sdW1uKCk7XG4gICAgfTtcbiAgICB0aGlzLnNldFJlYWRPbmx5ID0gZnVuY3Rpb24ocmVhZE9ubHkpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb24oXCJyZWFkT25seVwiLCByZWFkT25seSk7XG4gICAgfTtcbiAgICB0aGlzLmdldFJlYWRPbmx5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE9wdGlvbihcInJlYWRPbmx5XCIpO1xuICAgIH07XG4gICAgdGhpcy5zZXRCZWhhdmlvdXJzRW5hYmxlZCA9IGZ1bmN0aW9uIChlbmFibGVkKSB7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9uKFwiYmVoYXZpb3Vyc0VuYWJsZWRcIiwgZW5hYmxlZCk7XG4gICAgfTtcbiAgICB0aGlzLmdldEJlaGF2aW91cnNFbmFibGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPcHRpb24oXCJiZWhhdmlvdXJzRW5hYmxlZFwiKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0V3JhcEJlaGF2aW91cnNFbmFibGVkID0gZnVuY3Rpb24gKGVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb24oXCJ3cmFwQmVoYXZpb3Vyc0VuYWJsZWRcIiwgZW5hYmxlZCk7XG4gICAgfTtcbiAgICB0aGlzLmdldFdyYXBCZWhhdmlvdXJzRW5hYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwid3JhcEJlaGF2aW91cnNFbmFibGVkXCIpO1xuICAgIH07XG4gICAgdGhpcy5zZXRTaG93Rm9sZFdpZGdldHMgPSBmdW5jdGlvbihzaG93KSB7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9uKFwic2hvd0ZvbGRXaWRnZXRzXCIsIHNob3cpO1xuXG4gICAgfTtcbiAgICB0aGlzLmdldFNob3dGb2xkV2lkZ2V0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPcHRpb24oXCJzaG93Rm9sZFdpZGdldHNcIik7XG4gICAgfTtcblxuICAgIHRoaXMuc2V0RmFkZUZvbGRXaWRnZXRzID0gZnVuY3Rpb24oZmFkZSkge1xuICAgICAgICB0aGlzLnNldE9wdGlvbihcImZhZGVGb2xkV2lkZ2V0c1wiLCBmYWRlKTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRGYWRlRm9sZFdpZGdldHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwiZmFkZUZvbGRXaWRnZXRzXCIpO1xuICAgIH07XG4gICAgdGhpcy5yZW1vdmUgPSBmdW5jdGlvbihkaXIpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSl7XG4gICAgICAgICAgICBpZiAoZGlyID09IFwibGVmdFwiKVxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNlbGVjdExlZnQoKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5zZWxlY3RSaWdodCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICBpZiAodGhpcy5nZXRCZWhhdmlvdXJzRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHNlc3Npb24uZ2V0U3RhdGUocmFuZ2Uuc3RhcnQucm93KTtcbiAgICAgICAgICAgIHZhciBuZXdfcmFuZ2UgPSBzZXNzaW9uLmdldE1vZGUoKS50cmFuc2Zvcm1BY3Rpb24oc3RhdGUsICdkZWxldGlvbicsIHRoaXMsIHNlc3Npb24sIHJhbmdlKTtcbiAgICAgICAgICAgIGlmIChuZXdfcmFuZ2UpXG4gICAgICAgICAgICAgICAgcmFuZ2UgPSBuZXdfcmFuZ2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlKHJhbmdlKTtcbiAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgIH07XG4gICAgdGhpcy5yZW1vdmVXb3JkUmlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSlcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNlbGVjdFdvcmRSaWdodCgpO1xuXG4gICAgICAgIHRoaXMuc2Vzc2lvbi5yZW1vdmUodGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpKTtcbiAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgIH07XG4gICAgdGhpcy5yZW1vdmVXb3JkTGVmdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpKVxuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2VsZWN0V29yZExlZnQoKTtcblxuICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlKHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKSk7XG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICB9O1xuICAgIHRoaXMucmVtb3ZlVG9MaW5lU3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSlcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNlbGVjdExpbmVTdGFydCgpO1xuXG4gICAgICAgIHRoaXMuc2Vzc2lvbi5yZW1vdmUodGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpKTtcbiAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgIH07XG4gICAgdGhpcy5yZW1vdmVUb0xpbmVFbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSlcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNlbGVjdExpbmVFbmQoKTtcblxuICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLmdldFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgIGlmIChyYW5nZS5zdGFydC5jb2x1bW4gPT0gcmFuZ2UuZW5kLmNvbHVtbiAmJiByYW5nZS5zdGFydC5yb3cgPT0gcmFuZ2UuZW5kLnJvdykge1xuICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbiA9IDA7XG4gICAgICAgICAgICByYW5nZS5lbmQucm93Kys7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlKHJhbmdlKTtcbiAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgIH07XG4gICAgdGhpcy5zcGxpdExpbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5yZW1vdmUodGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpKTtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjdXJzb3IgPSB0aGlzLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgIHRoaXMuaW5zZXJ0KFwiXFxuXCIpO1xuICAgICAgICB0aGlzLm1vdmVDdXJzb3JUb1Bvc2l0aW9uKGN1cnNvcik7XG4gICAgfTtcbiAgICB0aGlzLnRyYW5zcG9zZUxldHRlcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjdXJzb3IgPSB0aGlzLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgIHZhciBjb2x1bW4gPSBjdXJzb3IuY29sdW1uO1xuICAgICAgICBpZiAoY29sdW1uID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciBsaW5lID0gdGhpcy5zZXNzaW9uLmdldExpbmUoY3Vyc29yLnJvdyk7XG4gICAgICAgIHZhciBzd2FwLCByYW5nZTtcbiAgICAgICAgaWYgKGNvbHVtbiA8IGxpbmUubGVuZ3RoKSB7XG4gICAgICAgICAgICBzd2FwID0gbGluZS5jaGFyQXQoY29sdW1uKSArIGxpbmUuY2hhckF0KGNvbHVtbi0xKTtcbiAgICAgICAgICAgIHJhbmdlID0gbmV3IFJhbmdlKGN1cnNvci5yb3csIGNvbHVtbi0xLCBjdXJzb3Iucm93LCBjb2x1bW4rMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzd2FwID0gbGluZS5jaGFyQXQoY29sdW1uLTEpICsgbGluZS5jaGFyQXQoY29sdW1uLTIpO1xuICAgICAgICAgICAgcmFuZ2UgPSBuZXcgUmFuZ2UoY3Vyc29yLnJvdywgY29sdW1uLTIsIGN1cnNvci5yb3csIGNvbHVtbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXNzaW9uLnJlcGxhY2UocmFuZ2UsIHN3YXApO1xuICAgIH07XG4gICAgdGhpcy50b0xvd2VyQ2FzZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgb3JpZ2luYWxSYW5nZSA9IHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2VsZWN0V29yZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICB2YXIgdGV4dCA9IHRoaXMuc2Vzc2lvbi5nZXRUZXh0UmFuZ2UocmFuZ2UpO1xuICAgICAgICB0aGlzLnNlc3Npb24ucmVwbGFjZShyYW5nZSwgdGV4dC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uUmFuZ2Uob3JpZ2luYWxSYW5nZSk7XG4gICAgfTtcbiAgICB0aGlzLnRvVXBwZXJDYXNlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbFJhbmdlID0gdGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5zZWxlY3RXb3JkKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLmdldFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgIHZhciB0ZXh0ID0gdGhpcy5zZXNzaW9uLmdldFRleHRSYW5nZShyYW5nZSk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5yZXBsYWNlKHJhbmdlLCB0ZXh0LnRvVXBwZXJDYXNlKCkpO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25SYW5nZShvcmlnaW5hbFJhbmdlKTtcbiAgICB9O1xuICAgIHRoaXMuaW5kZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLmdldFNlbGVjdGlvblJhbmdlKCk7XG5cbiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyA8IHJhbmdlLmVuZC5yb3cgfHwgcmFuZ2Uuc3RhcnQuY29sdW1uIDwgcmFuZ2UuZW5kLmNvbHVtbikge1xuICAgICAgICAgICAgdmFyIHJvd3MgPSB0aGlzLiRnZXRTZWxlY3RlZFJvd3MoKTtcbiAgICAgICAgICAgIHNlc3Npb24uaW5kZW50Um93cyhyb3dzLmZpcnN0LCByb3dzLmxhc3QsIFwiXFx0XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGluZGVudFN0cmluZztcblxuICAgICAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbi5nZXRVc2VTb2Z0VGFicygpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNpemUgICAgICAgID0gc2Vzc2lvbi5nZXRUYWJTaXplKCksXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uICAgID0gdGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gICAgICA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlbkNvbHVtbihwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbiksXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ICAgICAgID0gKHNpemUgLSBjb2x1bW4gJSBzaXplKTtcblxuICAgICAgICAgICAgICAgIGluZGVudFN0cmluZyA9IGxhbmcuc3RyaW5nUmVwZWF0KFwiIFwiLCBjb3VudCk7XG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICBpbmRlbnRTdHJpbmcgPSBcIlxcdFwiO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0KGluZGVudFN0cmluZyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuYmxvY2tJbmRlbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJvd3MgPSB0aGlzLiRnZXRTZWxlY3RlZFJvd3MoKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLmluZGVudFJvd3Mocm93cy5maXJzdCwgcm93cy5sYXN0LCBcIlxcdFwiKTtcbiAgICB9O1xuICAgIHRoaXMuYmxvY2tPdXRkZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLnNlc3Npb24uZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5vdXRkZW50Um93cyhzZWxlY3Rpb24uZ2V0UmFuZ2UoKSk7XG4gICAgfTtcbiAgICB0aGlzLnNvcnRMaW5lcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcm93cyA9IHRoaXMuJGdldFNlbGVjdGVkUm93cygpO1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcblxuICAgICAgICB2YXIgbGluZXMgPSBbXTtcbiAgICAgICAgZm9yIChpID0gcm93cy5maXJzdDsgaSA8PSByb3dzLmxhc3Q7IGkrKylcbiAgICAgICAgICAgIGxpbmVzLnB1c2goc2Vzc2lvbi5nZXRMaW5lKGkpKTtcblxuICAgICAgICBsaW5lcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIGlmIChhLnRvTG93ZXJDYXNlKCkgPCBiLnRvTG93ZXJDYXNlKCkpIHJldHVybiAtMTtcbiAgICAgICAgICAgIGlmIChhLnRvTG93ZXJDYXNlKCkgPiBiLnRvTG93ZXJDYXNlKCkpIHJldHVybiAxO1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBkZWxldGVSYW5nZSA9IG5ldyBSYW5nZSgwLCAwLCAwLCAwKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHJvd3MuZmlyc3Q7IGkgPD0gcm93cy5sYXN0OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKGkpO1xuICAgICAgICAgICAgZGVsZXRlUmFuZ2Uuc3RhcnQucm93ID0gaTtcbiAgICAgICAgICAgIGRlbGV0ZVJhbmdlLmVuZC5yb3cgPSBpO1xuICAgICAgICAgICAgZGVsZXRlUmFuZ2UuZW5kLmNvbHVtbiA9IGxpbmUubGVuZ3RoO1xuICAgICAgICAgICAgc2Vzc2lvbi5yZXBsYWNlKGRlbGV0ZVJhbmdlLCBsaW5lc1tpLXJvd3MuZmlyc3RdKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy50b2dnbGVDb21tZW50TGluZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zZXNzaW9uLmdldFN0YXRlKHRoaXMuZ2V0Q3Vyc29yUG9zaXRpb24oKS5yb3cpO1xuICAgICAgICB2YXIgcm93cyA9IHRoaXMuJGdldFNlbGVjdGVkUm93cygpO1xuICAgICAgICB0aGlzLnNlc3Npb24uZ2V0TW9kZSgpLnRvZ2dsZUNvbW1lbnRMaW5lcyhzdGF0ZSwgdGhpcy5zZXNzaW9uLCByb3dzLmZpcnN0LCByb3dzLmxhc3QpO1xuICAgIH07XG5cbiAgICB0aGlzLnRvZ2dsZUJsb2NrQ29tbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY3Vyc29yID0gdGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnNlc3Npb24uZ2V0U3RhdGUoY3Vyc29yLnJvdyk7XG4gICAgICAgIHZhciByYW5nZSA9IHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLmdldE1vZGUoKS50b2dnbGVCbG9ja0NvbW1lbnQoc3RhdGUsIHRoaXMuc2Vzc2lvbiwgcmFuZ2UsIGN1cnNvcik7XG4gICAgfTtcbiAgICB0aGlzLmdldE51bWJlckF0ID0gZnVuY3Rpb24oIHJvdywgY29sdW1uICkge1xuICAgICAgICB2YXIgX251bWJlclJ4ID0gL1tcXC1dP1swLTldKyg/OlxcLlswLTldKyk/L2dcbiAgICAgICAgX251bWJlclJ4Lmxhc3RJbmRleCA9IDBcblxuICAgICAgICB2YXIgcyA9IHRoaXMuc2Vzc2lvbi5nZXRMaW5lKHJvdylcbiAgICAgICAgd2hpbGUgKF9udW1iZXJSeC5sYXN0SW5kZXggPCBjb2x1bW4pIHtcbiAgICAgICAgICAgIHZhciBtID0gX251bWJlclJ4LmV4ZWMocylcbiAgICAgICAgICAgIGlmKG0uaW5kZXggPD0gY29sdW1uICYmIG0uaW5kZXgrbVswXS5sZW5ndGggPj0gY29sdW1uKXtcbiAgICAgICAgICAgICAgICB2YXIgbnVtYmVyID0ge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbVswXSxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IG0uaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGVuZDogbS5pbmRleCttWzBdLmxlbmd0aFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgdGhpcy5tb2RpZnlOdW1iZXIgPSBmdW5jdGlvbihhbW91bnQpIHtcbiAgICAgICAgdmFyIHJvdyA9IHRoaXMuc2VsZWN0aW9uLmdldEN1cnNvcigpLnJvdztcbiAgICAgICAgdmFyIGNvbHVtbiA9IHRoaXMuc2VsZWN0aW9uLmdldEN1cnNvcigpLmNvbHVtbjtcbiAgICAgICAgdmFyIGNoYXJSYW5nZSA9IG5ldyBSYW5nZShyb3csIGNvbHVtbi0xLCByb3csIGNvbHVtbik7XG5cbiAgICAgICAgdmFyIGMgPSB0aGlzLnNlc3Npb24uZ2V0VGV4dFJhbmdlKGNoYXJSYW5nZSk7XG4gICAgICAgIGlmICghaXNOYU4ocGFyc2VGbG9hdChjKSkgJiYgaXNGaW5pdGUoYykpIHtcbiAgICAgICAgICAgIHZhciBuciA9IHRoaXMuZ2V0TnVtYmVyQXQocm93LCBjb2x1bW4pO1xuICAgICAgICAgICAgaWYgKG5yKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZwID0gbnIudmFsdWUuaW5kZXhPZihcIi5cIikgPj0gMCA/IG5yLnN0YXJ0ICsgbnIudmFsdWUuaW5kZXhPZihcIi5cIikgKyAxIDogbnIuZW5kO1xuICAgICAgICAgICAgICAgIHZhciBkZWNpbWFscyA9IG5yLnN0YXJ0ICsgbnIudmFsdWUubGVuZ3RoIC0gZnA7XG5cbiAgICAgICAgICAgICAgICB2YXIgdCA9IHBhcnNlRmxvYXQobnIudmFsdWUpO1xuICAgICAgICAgICAgICAgIHQgKj0gTWF0aC5wb3coMTAsIGRlY2ltYWxzKTtcblxuXG4gICAgICAgICAgICAgICAgaWYoZnAgIT09IG5yLmVuZCAmJiBjb2x1bW4gPCBmcCl7XG4gICAgICAgICAgICAgICAgICAgIGFtb3VudCAqPSBNYXRoLnBvdygxMCwgbnIuZW5kIC0gY29sdW1uIC0gMSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50ICo9IE1hdGgucG93KDEwLCBuci5lbmQgLSBjb2x1bW4pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHQgKz0gYW1vdW50O1xuICAgICAgICAgICAgICAgIHQgLz0gTWF0aC5wb3coMTAsIGRlY2ltYWxzKTtcbiAgICAgICAgICAgICAgICB2YXIgbm5yID0gdC50b0ZpeGVkKGRlY2ltYWxzKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVwbGFjZVJhbmdlID0gbmV3IFJhbmdlKHJvdywgbnIuc3RhcnQsIHJvdywgbnIuZW5kKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb24ucmVwbGFjZShyZXBsYWNlUmFuZ2UsIG5ucik7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8ocm93LCBNYXRoLm1heChuci5zdGFydCArMSwgY29sdW1uICsgbm5yLmxlbmd0aCAtIG5yLnZhbHVlLmxlbmd0aCkpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMucmVtb3ZlTGluZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJvd3MgPSB0aGlzLiRnZXRTZWxlY3RlZFJvd3MoKTtcbiAgICAgICAgdmFyIHJhbmdlO1xuICAgICAgICBpZiAocm93cy5maXJzdCA9PT0gMCB8fCByb3dzLmxhc3QrMSA8IHRoaXMuc2Vzc2lvbi5nZXRMZW5ndGgoKSlcbiAgICAgICAgICAgIHJhbmdlID0gbmV3IFJhbmdlKHJvd3MuZmlyc3QsIDAsIHJvd3MubGFzdCsxLCAwKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmFuZ2UgPSBuZXcgUmFuZ2UoXG4gICAgICAgICAgICAgICAgcm93cy5maXJzdC0xLCB0aGlzLnNlc3Npb24uZ2V0TGluZShyb3dzLmZpcnN0LTEpLmxlbmd0aCxcbiAgICAgICAgICAgICAgICByb3dzLmxhc3QsIHRoaXMuc2Vzc2lvbi5nZXRMaW5lKHJvd3MubGFzdCkubGVuZ3RoXG4gICAgICAgICAgICApO1xuICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlKHJhbmdlKTtcbiAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgIH07XG5cbiAgICB0aGlzLmR1cGxpY2F0ZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsID0gdGhpcy5zZWxlY3Rpb247XG4gICAgICAgIHZhciBkb2MgPSB0aGlzLnNlc3Npb247XG4gICAgICAgIHZhciByYW5nZSA9IHNlbC5nZXRSYW5nZSgpO1xuICAgICAgICB2YXIgcmV2ZXJzZSA9IHNlbC5pc0JhY2t3YXJkcygpO1xuICAgICAgICBpZiAocmFuZ2UuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICB2YXIgcm93ID0gcmFuZ2Uuc3RhcnQucm93O1xuICAgICAgICAgICAgZG9jLmR1cGxpY2F0ZUxpbmVzKHJvdywgcm93KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBwb2ludCA9IHJldmVyc2UgPyByYW5nZS5zdGFydCA6IHJhbmdlLmVuZDtcbiAgICAgICAgICAgIHZhciBlbmRQb2ludCA9IGRvYy5pbnNlcnQocG9pbnQsIGRvYy5nZXRUZXh0UmFuZ2UocmFuZ2UpLCBmYWxzZSk7XG4gICAgICAgICAgICByYW5nZS5zdGFydCA9IHBvaW50O1xuICAgICAgICAgICAgcmFuZ2UuZW5kID0gZW5kUG9pbnQ7XG5cbiAgICAgICAgICAgIHNlbC5zZXRTZWxlY3Rpb25SYW5nZShyYW5nZSwgcmV2ZXJzZSlcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5tb3ZlTGluZXNEb3duID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJG1vdmVMaW5lcyhmdW5jdGlvbihmaXJzdFJvdywgbGFzdFJvdykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tb3ZlTGluZXNEb3duKGZpcnN0Um93LCBsYXN0Um93KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLm1vdmVMaW5lc1VwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJG1vdmVMaW5lcyhmdW5jdGlvbihmaXJzdFJvdywgbGFzdFJvdykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5tb3ZlTGluZXNVcChmaXJzdFJvdywgbGFzdFJvdyk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5tb3ZlVGV4dCA9IGZ1bmN0aW9uKHJhbmdlLCB0b1Bvc2l0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24ubW92ZVRleHQocmFuZ2UsIHRvUG9zaXRpb24pO1xuICAgIH07XG4gICAgdGhpcy5jb3B5TGluZXNVcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRtb3ZlTGluZXMoZnVuY3Rpb24oZmlyc3RSb3csIGxhc3RSb3cpIHtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5kdXBsaWNhdGVMaW5lcyhmaXJzdFJvdywgbGFzdFJvdyk7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLmNvcHlMaW5lc0Rvd24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbW92ZUxpbmVzKGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uLmR1cGxpY2F0ZUxpbmVzKGZpcnN0Um93LCBsYXN0Um93KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLiRtb3ZlTGluZXMgPSBmdW5jdGlvbihtb3Zlcikge1xuICAgICAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy5zZWxlY3Rpb247XG4gICAgICAgIGlmICghc2VsZWN0aW9uLmluTXVsdGlTZWxlY3RNb2RlIHx8IHRoaXMuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSkge1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gc2VsZWN0aW9uLnRvT3JpZW50ZWRSYW5nZSgpO1xuICAgICAgICAgICAgdmFyIHJvd3MgPSB0aGlzLiRnZXRTZWxlY3RlZFJvd3MocmFuZ2UpO1xuICAgICAgICAgICAgdmFyIGxpbmVzTW92ZWQgPSBtb3Zlci5jYWxsKHRoaXMsIHJvd3MuZmlyc3QsIHJvd3MubGFzdCk7XG4gICAgICAgICAgICByYW5nZS5tb3ZlQnkobGluZXNNb3ZlZCwgMCk7XG4gICAgICAgICAgICBzZWxlY3Rpb24uZnJvbU9yaWVudGVkUmFuZ2UocmFuZ2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJhbmdlcyA9IHNlbGVjdGlvbi5yYW5nZUxpc3QucmFuZ2VzO1xuICAgICAgICAgICAgc2VsZWN0aW9uLnJhbmdlTGlzdC5kZXRhY2godGhpcy5zZXNzaW9uKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHJhbmdlcy5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIHZhciByb3dzID0gcmFuZ2VzW2ldLmNvbGxhcHNlUm93cygpO1xuICAgICAgICAgICAgICAgIHZhciBsYXN0ID0gcm93cy5lbmQucm93O1xuICAgICAgICAgICAgICAgIHZhciBmaXJzdCA9IHJvd3Muc3RhcnQucm93O1xuICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvd3MgPSByYW5nZXNbaV0uY29sbGFwc2VSb3dzKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdCAtIHJvd3MuZW5kLnJvdyA8PSAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3QgPSByb3dzLmVuZC5yb3c7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpKys7XG5cbiAgICAgICAgICAgICAgICB2YXIgbGluZXNNb3ZlZCA9IG1vdmVyLmNhbGwodGhpcywgZmlyc3QsIGxhc3QpO1xuICAgICAgICAgICAgICAgIHdoaWxlIChyYW5nZUluZGV4ID49IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VzW3JhbmdlSW5kZXhdLm1vdmVCeShsaW5lc01vdmVkLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VJbmRleC0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGVjdGlvbi5mcm9tT3JpZW50ZWRSYW5nZShzZWxlY3Rpb24ucmFuZ2VzWzBdKTtcbiAgICAgICAgICAgIHNlbGVjdGlvbi5yYW5nZUxpc3QuYXR0YWNoKHRoaXMuc2Vzc2lvbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuJGdldFNlbGVjdGVkUm93cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLmdldFNlbGVjdGlvblJhbmdlKCkuY29sbGFwc2VSb3dzKCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpcnN0OiByYW5nZS5zdGFydC5yb3csXG4gICAgICAgICAgICBsYXN0OiByYW5nZS5lbmQucm93XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHRoaXMub25Db21wb3NpdGlvblN0YXJ0ID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNob3dDb21wb3NpdGlvbih0aGlzLmdldEN1cnNvclBvc2l0aW9uKCkpO1xuICAgIH07XG5cbiAgICB0aGlzLm9uQ29tcG9zaXRpb25VcGRhdGUgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0Q29tcG9zaXRpb25UZXh0KHRleHQpO1xuICAgIH07XG5cbiAgICB0aGlzLm9uQ29tcG9zaXRpb25FbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5oaWRlQ29tcG9zaXRpb24oKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0Rmlyc3RWaXNpYmxlUm93ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmdldEZpcnN0VmlzaWJsZVJvdygpO1xuICAgIH07XG4gICAgdGhpcy5nZXRMYXN0VmlzaWJsZVJvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5nZXRMYXN0VmlzaWJsZVJvdygpO1xuICAgIH07XG4gICAgdGhpcy5pc1Jvd1Zpc2libGUgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgcmV0dXJuIChyb3cgPj0gdGhpcy5nZXRGaXJzdFZpc2libGVSb3coKSAmJiByb3cgPD0gdGhpcy5nZXRMYXN0VmlzaWJsZVJvdygpKTtcbiAgICB9O1xuICAgIHRoaXMuaXNSb3dGdWxseVZpc2libGUgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgcmV0dXJuIChyb3cgPj0gdGhpcy5yZW5kZXJlci5nZXRGaXJzdEZ1bGx5VmlzaWJsZVJvdygpICYmIHJvdyA8PSB0aGlzLnJlbmRlcmVyLmdldExhc3RGdWxseVZpc2libGVSb3coKSk7XG4gICAgfTtcbiAgICB0aGlzLiRnZXRWaXNpYmxlUm93Q291bnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuZ2V0U2Nyb2xsQm90dG9tUm93KCkgLSB0aGlzLnJlbmRlcmVyLmdldFNjcm9sbFRvcFJvdygpICsgMTtcbiAgICB9O1xuXG4gICAgdGhpcy4kbW92ZUJ5UGFnZSA9IGZ1bmN0aW9uKGRpciwgc2VsZWN0KSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLnJlbmRlcmVyLmxheWVyQ29uZmlnO1xuICAgICAgICB2YXIgcm93cyA9IGRpciAqIE1hdGguZmxvb3IoY29uZmlnLmhlaWdodCAvIGNvbmZpZy5saW5lSGVpZ2h0KTtcblxuICAgICAgICB0aGlzLiRibG9ja1Njcm9sbGluZysrO1xuICAgICAgICBpZiAoc2VsZWN0ID09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLiRtb3ZlU2VsZWN0aW9uKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yQnkocm93cywgMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChzZWxlY3QgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JCeShyb3dzLCAwKTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kYmxvY2tTY3JvbGxpbmctLTtcblxuICAgICAgICB2YXIgc2Nyb2xsVG9wID0gcmVuZGVyZXIuc2Nyb2xsVG9wO1xuXG4gICAgICAgIHJlbmRlcmVyLnNjcm9sbEJ5KDAsIHJvd3MgKiBjb25maWcubGluZUhlaWdodCk7XG4gICAgICAgIGlmIChzZWxlY3QgIT0gbnVsbClcbiAgICAgICAgICAgIHJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KG51bGwsIDAuNSk7XG5cbiAgICAgICAgcmVuZGVyZXIuYW5pbWF0ZVNjcm9sbGluZyhzY3JvbGxUb3ApO1xuICAgIH07XG4gICAgdGhpcy5zZWxlY3RQYWdlRG93biA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRtb3ZlQnlQYWdlKDEsIHRydWUpO1xuICAgIH07XG4gICAgdGhpcy5zZWxlY3RQYWdlVXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbW92ZUJ5UGFnZSgtMSwgdHJ1ZSk7XG4gICAgfTtcbiAgICB0aGlzLmdvdG9QYWdlRG93biA9IGZ1bmN0aW9uKCkge1xuICAgICAgIHRoaXMuJG1vdmVCeVBhZ2UoMSwgZmFsc2UpO1xuICAgIH07XG4gICAgdGhpcy5nb3RvUGFnZVVwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJG1vdmVCeVBhZ2UoLTEsIGZhbHNlKTtcbiAgICB9O1xuICAgIHRoaXMuc2Nyb2xsUGFnZURvd24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbW92ZUJ5UGFnZSgxKTtcbiAgICB9O1xuICAgIHRoaXMuc2Nyb2xsUGFnZVVwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJG1vdmVCeVBhZ2UoLTEpO1xuICAgIH07XG4gICAgdGhpcy5zY3JvbGxUb1JvdyA9IGZ1bmN0aW9uKHJvdykge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNjcm9sbFRvUm93KHJvdyk7XG4gICAgfTtcbiAgICB0aGlzLnNjcm9sbFRvTGluZSA9IGZ1bmN0aW9uKGxpbmUsIGNlbnRlciwgYW5pbWF0ZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zY3JvbGxUb0xpbmUobGluZSwgY2VudGVyLCBhbmltYXRlLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICB0aGlzLmNlbnRlclNlbGVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLmdldFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgIHZhciBwb3MgPSB7XG4gICAgICAgICAgICByb3c6IE1hdGguZmxvb3IocmFuZ2Uuc3RhcnQucm93ICsgKHJhbmdlLmVuZC5yb3cgLSByYW5nZS5zdGFydC5yb3cpIC8gMiksXG4gICAgICAgICAgICBjb2x1bW46IE1hdGguZmxvb3IocmFuZ2Uuc3RhcnQuY29sdW1uICsgKHJhbmdlLmVuZC5jb2x1bW4gLSByYW5nZS5zdGFydC5jb2x1bW4pIC8gMilcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlcmVyLmFsaWduQ3Vyc29yKHBvcywgMC41KTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0Q3Vyc29yUG9zaXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uLmdldEN1cnNvcigpO1xuICAgIH07XG4gICAgdGhpcy5nZXRDdXJzb3JQb3NpdGlvblNjcmVlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLmdldEN1cnNvclBvc2l0aW9uKCkpO1xuICAgIH07XG4gICAgdGhpcy5nZXRTZWxlY3Rpb25SYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtcbiAgICB9O1xuICAgIHRoaXMuc2VsZWN0QWxsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJGJsb2NrU2Nyb2xsaW5nICs9IDE7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLnNlbGVjdEFsbCgpO1xuICAgICAgICB0aGlzLiRibG9ja1Njcm9sbGluZyAtPSAxO1xuICAgIH07XG4gICAgdGhpcy5jbGVhclNlbGVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5jbGVhclNlbGVjdGlvbigpO1xuICAgIH07XG4gICAgdGhpcy5tb3ZlQ3Vyc29yVG8gPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yVG8ocm93LCBjb2x1bW4pO1xuICAgIH07XG4gICAgdGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbiA9IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihwb3MpO1xuICAgIH07XG4gICAgdGhpcy5qdW1wVG9NYXRjaGluZyA9IGZ1bmN0aW9uKHNlbGVjdCkge1xuICAgICAgICB2YXIgY3Vyc29yID0gdGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpO1xuXG4gICAgICAgIHZhciByYW5nZSA9IHRoaXMuc2Vzc2lvbi5nZXRCcmFja2V0UmFuZ2UoY3Vyc29yKTtcbiAgICAgICAgaWYgKCFyYW5nZSkge1xuICAgICAgICAgICAgcmFuZ2UgPSB0aGlzLmZpbmQoe1xuICAgICAgICAgICAgICAgIG5lZWRsZTogL1t7fSgpXFxbXFxdXS9nLFxuICAgICAgICAgICAgICAgIHByZXZlbnRTY3JvbGw6dHJ1ZSxcbiAgICAgICAgICAgICAgICBzdGFydDoge3JvdzogY3Vyc29yLnJvdywgY29sdW1uOiBjdXJzb3IuY29sdW1uIC0gMX1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFyYW5nZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB2YXIgcG9zID0gcmFuZ2Uuc3RhcnQ7XG4gICAgICAgICAgICBpZiAocG9zLnJvdyA9PSBjdXJzb3Iucm93ICYmIE1hdGguYWJzKHBvcy5jb2x1bW4gLSBjdXJzb3IuY29sdW1uKSA8IDIpXG4gICAgICAgICAgICAgICAgcmFuZ2UgPSB0aGlzLnNlc3Npb24uZ2V0QnJhY2tldFJhbmdlKHBvcyk7XG4gICAgICAgIH1cblxuICAgICAgICBwb3MgPSByYW5nZSAmJiByYW5nZS5jdXJzb3IgfHwgcG9zO1xuICAgICAgICBpZiAocG9zKSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlICYmIHJhbmdlLmlzRXF1YWwodGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2VsZWN0VG8ocG9zLnJvdywgcG9zLmNvbHVtbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVDdXJzb3JUbyhwb3Mucm93LCBwb3MuY29sdW1uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5nb3RvTGluZSA9IGZ1bmN0aW9uKGxpbmVOdW1iZXIsIGNvbHVtbiwgYW5pbWF0ZSkge1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgICB0aGlzLnNlc3Npb24udW5mb2xkKHtyb3c6IGxpbmVOdW1iZXIgLSAxLCBjb2x1bW46IGNvbHVtbiB8fCAwfSk7XG5cbiAgICAgICAgdGhpcy4kYmxvY2tTY3JvbGxpbmcgKz0gMTtcbiAgICAgICAgdGhpcy5leGl0TXVsdGlTZWxlY3RNb2RlICYmIHRoaXMuZXhpdE11bHRpU2VsZWN0TW9kZSgpO1xuICAgICAgICB0aGlzLm1vdmVDdXJzb3JUbyhsaW5lTnVtYmVyIC0gMSwgY29sdW1uIHx8IDApO1xuICAgICAgICB0aGlzLiRibG9ja1Njcm9sbGluZyAtPSAxO1xuXG4gICAgICAgIGlmICghdGhpcy5pc1Jvd0Z1bGx5VmlzaWJsZShsaW5lTnVtYmVyIC0gMSkpXG4gICAgICAgICAgICB0aGlzLnNjcm9sbFRvTGluZShsaW5lTnVtYmVyIC0gMSwgdHJ1ZSwgYW5pbWF0ZSk7XG4gICAgfTtcbiAgICB0aGlzLm5hdmlnYXRlVG8gPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgIHRoaXMubW92ZUN1cnNvclRvKHJvdywgY29sdW1uKTtcbiAgICB9O1xuICAgIHRoaXMubmF2aWdhdGVVcCA9IGZ1bmN0aW9uKHRpbWVzKSB7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbi5pc011bHRpTGluZSgpICYmICF0aGlzLnNlbGVjdGlvbi5pc0JhY2t3YXJkcygpKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uU3RhcnQgPSB0aGlzLnNlbGVjdGlvbi5hbmNob3IuZ2V0UG9zaXRpb24oKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vdmVDdXJzb3JUb1Bvc2l0aW9uKHNlbGVjdGlvblN0YXJ0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlbGVjdGlvbi5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgICB0aW1lcyA9IHRpbWVzIHx8IDE7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JCeSgtdGltZXMsIDApO1xuICAgIH07XG4gICAgdGhpcy5uYXZpZ2F0ZURvd24gPSBmdW5jdGlvbih0aW1lcykge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb24uaXNNdWx0aUxpbmUoKSAmJiB0aGlzLnNlbGVjdGlvbi5pc0JhY2t3YXJkcygpKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uRW5kID0gdGhpcy5zZWxlY3Rpb24uYW5jaG9yLmdldFBvc2l0aW9uKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihzZWxlY3Rpb25FbmQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgIHRpbWVzID0gdGltZXMgfHwgMTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvckJ5KHRpbWVzLCAwKTtcbiAgICB9O1xuICAgIHRoaXMubmF2aWdhdGVMZWZ0ID0gZnVuY3Rpb24odGltZXMpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb25TdGFydCA9IHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKS5zdGFydDtcbiAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvclRvUG9zaXRpb24oc2VsZWN0aW9uU3RhcnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGltZXMgPSB0aW1lcyB8fCAxO1xuICAgICAgICAgICAgd2hpbGUgKHRpbWVzLS0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yTGVmdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICB9O1xuICAgIHRoaXMubmF2aWdhdGVSaWdodCA9IGZ1bmN0aW9uKHRpbWVzKSB7XG4gICAgICAgIGlmICghdGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uRW5kID0gdGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpLmVuZDtcbiAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvclRvUG9zaXRpb24oc2VsZWN0aW9uRW5kKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRpbWVzID0gdGltZXMgfHwgMTtcbiAgICAgICAgICAgIHdoaWxlICh0aW1lcy0tKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvclJpZ2h0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgIH07XG4gICAgdGhpcy5uYXZpZ2F0ZUxpbmVTdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yTGluZVN0YXJ0KCk7XG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICB9O1xuICAgIHRoaXMubmF2aWdhdGVMaW5lRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JMaW5lRW5kKCk7XG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICB9O1xuICAgIHRoaXMubmF2aWdhdGVGaWxlRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzY3JvbGxUb3AgPSB0aGlzLnJlbmRlcmVyLnNjcm9sbFRvcDtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvckZpbGVFbmQoKTtcbiAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmFuaW1hdGVTY3JvbGxpbmcoc2Nyb2xsVG9wKTtcbiAgICB9O1xuICAgIHRoaXMubmF2aWdhdGVGaWxlU3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNjcm9sbFRvcCA9IHRoaXMucmVuZGVyZXIuc2Nyb2xsVG9wO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yRmlsZVN0YXJ0KCk7XG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5hbmltYXRlU2Nyb2xsaW5nKHNjcm9sbFRvcCk7XG4gICAgfTtcbiAgICB0aGlzLm5hdmlnYXRlV29yZFJpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JXb3JkUmlnaHQoKTtcbiAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgIH07XG4gICAgdGhpcy5uYXZpZ2F0ZVdvcmRMZWZ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JXb3JkTGVmdCgpO1xuICAgICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgfTtcbiAgICB0aGlzLnJlcGxhY2UgPSBmdW5jdGlvbihyZXBsYWNlbWVudCwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucylcbiAgICAgICAgICAgIHRoaXMuJHNlYXJjaC5zZXQob3B0aW9ucyk7XG5cbiAgICAgICAgdmFyIHJhbmdlID0gdGhpcy4kc2VhcmNoLmZpbmQodGhpcy5zZXNzaW9uKTtcbiAgICAgICAgdmFyIHJlcGxhY2VkID0gMDtcbiAgICAgICAgaWYgKCFyYW5nZSlcbiAgICAgICAgICAgIHJldHVybiByZXBsYWNlZDtcblxuICAgICAgICBpZiAodGhpcy4kdHJ5UmVwbGFjZShyYW5nZSwgcmVwbGFjZW1lbnQpKSB7XG4gICAgICAgICAgICByZXBsYWNlZCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJhbmdlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25SYW5nZShyYW5nZSk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNjcm9sbFNlbGVjdGlvbkludG9WaWV3KHJhbmdlLnN0YXJ0LCByYW5nZS5lbmQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcGxhY2VkO1xuICAgIH07XG4gICAgdGhpcy5yZXBsYWNlQWxsID0gZnVuY3Rpb24ocmVwbGFjZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuJHNlYXJjaC5zZXQob3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmFuZ2VzID0gdGhpcy4kc2VhcmNoLmZpbmRBbGwodGhpcy5zZXNzaW9uKTtcbiAgICAgICAgdmFyIHJlcGxhY2VkID0gMDtcbiAgICAgICAgaWYgKCFyYW5nZXMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2VkO1xuXG4gICAgICAgIHRoaXMuJGJsb2NrU2Nyb2xsaW5nICs9IDE7XG5cbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yVG8oMCwgMCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IHJhbmdlcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgaWYodGhpcy4kdHJ5UmVwbGFjZShyYW5nZXNbaV0sIHJlcGxhY2VtZW50KSkge1xuICAgICAgICAgICAgICAgIHJlcGxhY2VkKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25SYW5nZShzZWxlY3Rpb24pO1xuICAgICAgICB0aGlzLiRibG9ja1Njcm9sbGluZyAtPSAxO1xuXG4gICAgICAgIHJldHVybiByZXBsYWNlZDtcbiAgICB9O1xuXG4gICAgdGhpcy4kdHJ5UmVwbGFjZSA9IGZ1bmN0aW9uKHJhbmdlLCByZXBsYWNlbWVudCkge1xuICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLnNlc3Npb24uZ2V0VGV4dFJhbmdlKHJhbmdlKTtcbiAgICAgICAgcmVwbGFjZW1lbnQgPSB0aGlzLiRzZWFyY2gucmVwbGFjZShpbnB1dCwgcmVwbGFjZW1lbnQpO1xuICAgICAgICBpZiAocmVwbGFjZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJhbmdlLmVuZCA9IHRoaXMuc2Vzc2lvbi5yZXBsYWNlKHJhbmdlLCByZXBsYWNlbWVudCk7XG4gICAgICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5nZXRMYXN0U2VhcmNoT3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kc2VhcmNoLmdldE9wdGlvbnMoKTtcbiAgICB9O1xuICAgIHRoaXMuZmluZCA9IGZ1bmN0aW9uKG5lZWRsZSwgb3B0aW9ucywgYW5pbWF0ZSkge1xuICAgICAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgICAgICBvcHRpb25zID0ge307XG5cbiAgICAgICAgaWYgKHR5cGVvZiBuZWVkbGUgPT0gXCJzdHJpbmdcIiB8fCBuZWVkbGUgaW5zdGFuY2VvZiBSZWdFeHApXG4gICAgICAgICAgICBvcHRpb25zLm5lZWRsZSA9IG5lZWRsZTtcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIG5lZWRsZSA9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgb29wLm1peGluKG9wdGlvbnMsIG5lZWRsZSk7XG5cbiAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtcbiAgICAgICAgaWYgKG9wdGlvbnMubmVlZGxlID09IG51bGwpIHtcbiAgICAgICAgICAgIG5lZWRsZSA9IHRoaXMuc2Vzc2lvbi5nZXRUZXh0UmFuZ2UocmFuZ2UpXG4gICAgICAgICAgICAgICAgfHwgdGhpcy4kc2VhcmNoLiRvcHRpb25zLm5lZWRsZTtcbiAgICAgICAgICAgIGlmICghbmVlZGxlKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UgPSB0aGlzLnNlc3Npb24uZ2V0V29yZFJhbmdlKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2Uuc3RhcnQuY29sdW1uKTtcbiAgICAgICAgICAgICAgICBuZWVkbGUgPSB0aGlzLnNlc3Npb24uZ2V0VGV4dFJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuJHNlYXJjaC5zZXQoe25lZWRsZTogbmVlZGxlfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiRzZWFyY2guc2V0KG9wdGlvbnMpO1xuICAgICAgICBpZiAoIW9wdGlvbnMuc3RhcnQpXG4gICAgICAgICAgICB0aGlzLiRzZWFyY2guc2V0KHtzdGFydDogcmFuZ2V9KTtcblxuICAgICAgICB2YXIgbmV3UmFuZ2UgPSB0aGlzLiRzZWFyY2guZmluZCh0aGlzLnNlc3Npb24pO1xuICAgICAgICBpZiAob3B0aW9ucy5wcmV2ZW50U2Nyb2xsKVxuICAgICAgICAgICAgcmV0dXJuIG5ld1JhbmdlO1xuICAgICAgICBpZiAobmV3UmFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMucmV2ZWFsUmFuZ2UobmV3UmFuZ2UsIGFuaW1hdGUpO1xuICAgICAgICAgICAgcmV0dXJuIG5ld1JhbmdlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmJhY2t3YXJkcylcbiAgICAgICAgICAgIHJhbmdlLnN0YXJ0ID0gcmFuZ2UuZW5kO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByYW5nZS5lbmQgPSByYW5nZS5zdGFydDtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2V0UmFuZ2UocmFuZ2UpO1xuICAgIH07XG4gICAgdGhpcy5maW5kTmV4dCA9IGZ1bmN0aW9uKG9wdGlvbnMsIGFuaW1hdGUpIHtcbiAgICAgICAgdGhpcy5maW5kKHtza2lwQ3VycmVudDogdHJ1ZSwgYmFja3dhcmRzOiBmYWxzZX0sIG9wdGlvbnMsIGFuaW1hdGUpO1xuICAgIH07XG4gICAgdGhpcy5maW5kUHJldmlvdXMgPSBmdW5jdGlvbihvcHRpb25zLCBhbmltYXRlKSB7XG4gICAgICAgIHRoaXMuZmluZChvcHRpb25zLCB7c2tpcEN1cnJlbnQ6IHRydWUsIGJhY2t3YXJkczogdHJ1ZX0sIGFuaW1hdGUpO1xuICAgIH07XG5cbiAgICB0aGlzLnJldmVhbFJhbmdlID0gZnVuY3Rpb24ocmFuZ2UsIGFuaW1hdGUpIHtcbiAgICAgICAgdGhpcy4kYmxvY2tTY3JvbGxpbmcgKz0gMTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnVuZm9sZChyYW5nZSk7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLnNldFNlbGVjdGlvblJhbmdlKHJhbmdlKTtcbiAgICAgICAgdGhpcy4kYmxvY2tTY3JvbGxpbmcgLT0gMTtcblxuICAgICAgICB2YXIgc2Nyb2xsVG9wID0gdGhpcy5yZW5kZXJlci5zY3JvbGxUb3A7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2Nyb2xsU2VsZWN0aW9uSW50b1ZpZXcocmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZCwgMC41KTtcbiAgICAgICAgaWYgKGFuaW1hdGUgIT0gZmFsc2UpXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmFuaW1hdGVTY3JvbGxpbmcoc2Nyb2xsVG9wKTtcbiAgICB9O1xuICAgIHRoaXMudW5kbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRibG9ja1Njcm9sbGluZysrO1xuICAgICAgICB0aGlzLnNlc3Npb24uZ2V0VW5kb01hbmFnZXIoKS51bmRvKCk7XG4gICAgICAgIHRoaXMuJGJsb2NrU2Nyb2xsaW5nLS07XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcobnVsbCwgMC41KTtcbiAgICB9O1xuICAgIHRoaXMucmVkbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRibG9ja1Njcm9sbGluZysrO1xuICAgICAgICB0aGlzLnNlc3Npb24uZ2V0VW5kb01hbmFnZXIoKS5yZWRvKCk7XG4gICAgICAgIHRoaXMuJGJsb2NrU2Nyb2xsaW5nLS07XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcobnVsbCwgMC41KTtcbiAgICB9O1xuICAgIHRoaXMuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5fZW1pdChcImRlc3Ryb3lcIiwgdGhpcyk7XG4gICAgfTtcbiAgICB0aGlzLnNldEF1dG9TY3JvbGxFZGl0b3JJbnRvVmlldyA9IGZ1bmN0aW9uKGVuYWJsZSkge1xuICAgICAgICBpZiAoZW5hYmxlID09PSBmYWxzZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIHJlY3Q7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHNob3VsZFNjcm9sbCA9IGZhbHNlO1xuICAgICAgICBpZiAoIXRoaXMuJHNjcm9sbEFuY2hvcilcbiAgICAgICAgICAgIHRoaXMuJHNjcm9sbEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHZhciBzY3JvbGxBbmNob3IgPSB0aGlzLiRzY3JvbGxBbmNob3I7XG4gICAgICAgIHNjcm9sbEFuY2hvci5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjphYnNvbHV0ZVwiO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5pbnNlcnRCZWZvcmUoc2Nyb2xsQW5jaG9yLCB0aGlzLmNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgICAgdmFyIG9uQ2hhbmdlU2VsZWN0aW9uID0gdGhpcy5vbihcImNoYW5nZVNlbGVjdGlvblwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNob3VsZFNjcm9sbCA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgb25CZWZvcmVSZW5kZXIgPSB0aGlzLnJlbmRlcmVyLm9uKFwiYmVmb3JlUmVuZGVyXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHNob3VsZFNjcm9sbClcbiAgICAgICAgICAgICAgICByZWN0ID0gc2VsZi5yZW5kZXJlci5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgb25BZnRlclJlbmRlciA9IHRoaXMucmVuZGVyZXIub24oXCJhZnRlclJlbmRlclwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChzaG91bGRTY3JvbGwgJiYgcmVjdCAmJiBzZWxmLmlzRm9jdXNlZCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlbmRlcmVyID0gc2VsZi5yZW5kZXJlcjtcbiAgICAgICAgICAgICAgICB2YXIgcG9zID0gcmVuZGVyZXIuJGN1cnNvckxheWVyLiRwaXhlbFBvcztcbiAgICAgICAgICAgICAgICB2YXIgY29uZmlnID0gcmVuZGVyZXIubGF5ZXJDb25maWc7XG4gICAgICAgICAgICAgICAgdmFyIHRvcCA9IHBvcy50b3AgLSBjb25maWcub2Zmc2V0O1xuICAgICAgICAgICAgICAgIGlmIChwb3MudG9wID49IDAgJiYgdG9wICsgcmVjdC50b3AgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFNjcm9sbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwb3MudG9wIDwgY29uZmlnLmhlaWdodCAmJlxuICAgICAgICAgICAgICAgICAgICBwb3MudG9wICsgcmVjdC50b3AgKyBjb25maWcubGluZUhlaWdodCA+IHdpbmRvdy5pbm5lckhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBzaG91bGRTY3JvbGwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzaG91bGRTY3JvbGwgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkU2Nyb2xsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQW5jaG9yLnN0eWxlLnRvcCA9IHRvcCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQW5jaG9yLnN0eWxlLmxlZnQgPSBwb3MubGVmdCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQW5jaG9yLnN0eWxlLmhlaWdodCA9IGNvbmZpZy5saW5lSGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxBbmNob3Iuc2Nyb2xsSW50b1ZpZXcoc2hvdWxkU2Nyb2xsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2hvdWxkU2Nyb2xsID0gcmVjdCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldEF1dG9TY3JvbGxFZGl0b3JJbnRvVmlldyA9IGZ1bmN0aW9uKGVuYWJsZSkge1xuICAgICAgICAgICAgaWYgKGVuYWJsZSA9PT0gdHJ1ZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5zZXRBdXRvU2Nyb2xsRWRpdG9ySW50b1ZpZXc7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VTZWxlY3Rpb25cIiwgb25DaGFuZ2VTZWxlY3Rpb24pO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWZ0ZXJSZW5kZXJcIiwgb25BZnRlclJlbmRlcik7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJiZWZvcmVSZW5kZXJcIiwgb25CZWZvcmVSZW5kZXIpO1xuICAgICAgICB9O1xuICAgIH07XG5cblxuICAgIHRoaXMuJHJlc2V0Q3Vyc29yU3R5bGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy4kY3Vyc29yU3R5bGUgfHwgXCJhY2VcIjtcbiAgICAgICAgdmFyIGN1cnNvckxheWVyID0gdGhpcy5yZW5kZXJlci4kY3Vyc29yTGF5ZXI7XG4gICAgICAgIGlmICghY3Vyc29yTGF5ZXIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGN1cnNvckxheWVyLnNldFNtb290aEJsaW5raW5nKHN0eWxlID09IFwic21vb3RoXCIpO1xuICAgICAgICBjdXJzb3JMYXllci5pc0JsaW5raW5nID0gIXRoaXMuJHJlYWRPbmx5ICYmIHN0eWxlICE9IFwid2lkZVwiO1xuICAgIH07XG5cbn0pLmNhbGwoRWRpdG9yLnByb3RvdHlwZSk7XG5cblxuXG5jb25maWcuZGVmaW5lT3B0aW9ucyhFZGl0b3IucHJvdG90eXBlLCBcImVkaXRvclwiLCB7XG4gICAgc2VsZWN0aW9uU3R5bGU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbihzdHlsZSkge1xuICAgICAgICAgICAgdGhpcy5vblNlbGVjdGlvbkNoYW5nZSgpO1xuICAgICAgICAgICAgdGhpcy5fZW1pdChcImNoYW5nZVNlbGVjdGlvblN0eWxlXCIsIHtkYXRhOiBzdHlsZX0pO1xuICAgICAgICB9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IFwibGluZVwiXG4gICAgfSxcbiAgICBoaWdobGlnaHRBY3RpdmVMaW5lOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24oKSB7dGhpcy4kdXBkYXRlSGlnaGxpZ2h0QWN0aXZlTGluZSgpO30sXG4gICAgICAgIGluaXRpYWxWYWx1ZTogdHJ1ZVxuICAgIH0sXG4gICAgaGlnaGxpZ2h0U2VsZWN0ZWRXb3JkOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24oc2hvdWxkSGlnaGxpZ2h0KSB7dGhpcy4kb25TZWxlY3Rpb25DaGFuZ2UoKTt9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IHRydWVcbiAgICB9LFxuICAgIHJlYWRPbmx5OiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24ocmVhZE9ubHkpIHsgdGhpcy4kcmVzZXRDdXJzb3JTdHlsZSgpOyB9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IGZhbHNlXG4gICAgfSxcbiAgICBjdXJzb3JTdHlsZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkgeyB0aGlzLiRyZXNldEN1cnNvclN0eWxlKCk7IH0sXG4gICAgICAgIHZhbHVlczogW1wiYWNlXCIsIFwic2xpbVwiLCBcInNtb290aFwiLCBcIndpZGVcIl0sXG4gICAgICAgIGluaXRpYWxWYWx1ZTogXCJhY2VcIlxuICAgIH0sXG4gICAgYmVoYXZpb3Vyc0VuYWJsZWQ6IHtpbml0aWFsVmFsdWU6IHRydWV9LFxuICAgIHdyYXBCZWhhdmlvdXJzRW5hYmxlZDoge2luaXRpYWxWYWx1ZTogdHJ1ZX0sXG5cbiAgICBoU2Nyb2xsQmFyQWx3YXlzVmlzaWJsZTogXCJyZW5kZXJlclwiLFxuICAgIGhpZ2hsaWdodEd1dHRlckxpbmU6IFwicmVuZGVyZXJcIixcbiAgICBhbmltYXRlZFNjcm9sbDogXCJyZW5kZXJlclwiLFxuICAgIHNob3dJbnZpc2libGVzOiBcInJlbmRlcmVyXCIsXG4gICAgc2hvd1ByaW50TWFyZ2luOiBcInJlbmRlcmVyXCIsXG4gICAgcHJpbnRNYXJnaW5Db2x1bW46IFwicmVuZGVyZXJcIixcbiAgICBwcmludE1hcmdpbjogXCJyZW5kZXJlclwiLFxuICAgIGZhZGVGb2xkV2lkZ2V0czogXCJyZW5kZXJlclwiLFxuICAgIHNob3dGb2xkV2lkZ2V0czogXCJyZW5kZXJlclwiLFxuICAgIHNob3dHdXR0ZXI6IFwicmVuZGVyZXJcIixcbiAgICBkaXNwbGF5SW5kZW50R3VpZGVzOiBcInJlbmRlcmVyXCIsXG4gICAgZm9udFNpemU6IFwicmVuZGVyZXJcIixcbiAgICBmb250RmFtaWx5OiBcInJlbmRlcmVyXCIsXG5cbiAgICBzY3JvbGxTcGVlZDogXCIkbW91c2VIYW5kbGVyXCIsXG4gICAgZHJhZ0RlbGF5OiBcIiRtb3VzZUhhbmRsZXJcIixcbiAgICBmb2N1c1RpbW91dDogXCIkbW91c2VIYW5kbGVyXCIsXG5cbiAgICBmaXJzdExpbmVOdW1iZXI6IFwic2Vzc2lvblwiLFxuICAgIG92ZXJ3cml0ZTogXCJzZXNzaW9uXCIsXG4gICAgbmV3TGluZU1vZGU6IFwic2Vzc2lvblwiLFxuICAgIHVzZVdvcmtlcjogXCJzZXNzaW9uXCIsXG4gICAgdXNlU29mdFRhYnM6IFwic2Vzc2lvblwiLFxuICAgIHRhYlNpemU6IFwic2Vzc2lvblwiLFxuICAgIHdyYXA6IFwic2Vzc2lvblwiLFxuICAgIGZvbGRTdHlsZTogXCJzZXNzaW9uXCJcbn0pO1xuXG5leHBvcnRzLkVkaXRvciA9IEVkaXRvcjtcbn0pO1xuXG5hY2UuZGVmaW5lKCdhY2UvbGliL2xhbmcnLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5cbmV4cG9ydHMuc3RyaW5nUmV2ZXJzZSA9IGZ1bmN0aW9uKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcuc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIik7XG59O1xuXG5leHBvcnRzLnN0cmluZ1JlcGVhdCA9IGZ1bmN0aW9uIChzdHJpbmcsIGNvdW50KSB7XG4gICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgIHdoaWxlIChjb3VudCA+IDApIHtcbiAgICAgICAgaWYgKGNvdW50ICYgMSlcbiAgICAgICAgICAgIHJlc3VsdCArPSBzdHJpbmc7XG5cbiAgICAgICAgaWYgKGNvdW50ID4+PSAxKVxuICAgICAgICAgICAgc3RyaW5nICs9IHN0cmluZztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciB0cmltQmVnaW5SZWdleHAgPSAvXlxcc1xccyovO1xudmFyIHRyaW1FbmRSZWdleHAgPSAvXFxzXFxzKiQvO1xuXG5leHBvcnRzLnN0cmluZ1RyaW1MZWZ0ID0gZnVuY3Rpb24gKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSh0cmltQmVnaW5SZWdleHAsICcnKTtcbn07XG5cbmV4cG9ydHMuc3RyaW5nVHJpbVJpZ2h0ID0gZnVuY3Rpb24gKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSh0cmltRW5kUmVnZXhwLCAnJyk7XG59O1xuXG5leHBvcnRzLmNvcHlPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgY29weSA9IHt9O1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgY29weVtrZXldID0gb2JqW2tleV07XG4gICAgfVxuICAgIHJldHVybiBjb3B5O1xufTtcblxuZXhwb3J0cy5jb3B5QXJyYXkgPSBmdW5jdGlvbihhcnJheSl7XG4gICAgdmFyIGNvcHkgPSBbXTtcbiAgICBmb3IgKHZhciBpPTAsIGw9YXJyYXkubGVuZ3RoOyBpPGw7IGkrKykge1xuICAgICAgICBpZiAoYXJyYXlbaV0gJiYgdHlwZW9mIGFycmF5W2ldID09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICBjb3B5W2ldID0gdGhpcy5jb3B5T2JqZWN0KCBhcnJheVtpXSApO1xuICAgICAgICBlbHNlIFxuICAgICAgICAgICAgY29weVtpXSA9IGFycmF5W2ldO1xuICAgIH1cbiAgICByZXR1cm4gY29weTtcbn07XG5cbmV4cG9ydHMuZGVlcENvcHkgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgaWYgKHR5cGVvZiBvYmogIT0gXCJvYmplY3RcIikge1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICBcbiAgICB2YXIgY29weSA9IG9iai5jb25zdHJ1Y3RvcigpO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmpba2V5XSA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBjb3B5W2tleV0gPSB0aGlzLmRlZXBDb3B5KG9ialtrZXldKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvcHlba2V5XSA9IG9ialtrZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb3B5O1xufTtcblxuZXhwb3J0cy5hcnJheVRvTWFwID0gZnVuY3Rpb24oYXJyKSB7XG4gICAgdmFyIG1hcCA9IHt9O1xuICAgIGZvciAodmFyIGk9MDsgaTxhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbWFwW2FycltpXV0gPSAxO1xuICAgIH1cbiAgICByZXR1cm4gbWFwO1xuXG59O1xuXG5leHBvcnRzLmNyZWF0ZU1hcCA9IGZ1bmN0aW9uKHByb3BzKSB7XG4gICAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgZm9yICh2YXIgaSBpbiBwcm9wcykge1xuICAgICAgICBtYXBbaV0gPSBwcm9wc1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIG1hcDtcbn07XG5leHBvcnRzLmFycmF5UmVtb3ZlID0gZnVuY3Rpb24oYXJyYXksIHZhbHVlKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDw9IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHZhbHVlID09PSBhcnJheVtpXSkge1xuICAgICAgYXJyYXkuc3BsaWNlKGksIDEpO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0cy5lc2NhcGVSZWdFeHAgPSBmdW5jdGlvbihzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbLiorP14ke30oKXxbXFxdXFwvXFxcXF0pL2csICdcXFxcJDEnKTtcbn07XG5cbmV4cG9ydHMuZXNjYXBlSFRNTCA9IGZ1bmN0aW9uKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvJi9nLCBcIiYjMzg7XCIpLnJlcGxhY2UoL1wiL2csIFwiJiMzNDtcIikucmVwbGFjZSgvJy9nLCBcIiYjMzk7XCIpLnJlcGxhY2UoLzwvZywgXCImIzYwO1wiKTtcbn07XG5cbmV4cG9ydHMuZ2V0TWF0Y2hPZmZzZXRzID0gZnVuY3Rpb24oc3RyaW5nLCByZWdFeHApIHtcbiAgICB2YXIgbWF0Y2hlcyA9IFtdO1xuXG4gICAgc3RyaW5nLnJlcGxhY2UocmVnRXhwLCBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgbWF0Y2hlcy5wdXNoKHtcbiAgICAgICAgICAgIG9mZnNldDogYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGgtMl0sXG4gICAgICAgICAgICBsZW5ndGg6IHN0ci5sZW5ndGhcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbWF0Y2hlcztcbn07XG5leHBvcnRzLmRlZmVycmVkQ2FsbCA9IGZ1bmN0aW9uKGZjbikge1xuXG4gICAgdmFyIHRpbWVyID0gbnVsbDtcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGltZXIgPSBudWxsO1xuICAgICAgICBmY24oKTtcbiAgICB9O1xuXG4gICAgdmFyIGRlZmVycmVkID0gZnVuY3Rpb24odGltZW91dCkge1xuICAgICAgICBkZWZlcnJlZC5jYW5jZWwoKTtcbiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCB0aW1lb3V0IHx8IDApO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQ7XG4gICAgfTtcblxuICAgIGRlZmVycmVkLnNjaGVkdWxlID0gZGVmZXJyZWQ7XG5cbiAgICBkZWZlcnJlZC5jYWxsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICAgIGZjbigpO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQ7XG4gICAgfTtcblxuICAgIGRlZmVycmVkLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICB0aW1lciA9IG51bGw7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRlZmVycmVkO1xufTtcblxuXG5leHBvcnRzLmRlbGF5ZWRDYWxsID0gZnVuY3Rpb24oZmNuLCBkZWZhdWx0VGltZW91dCkge1xuICAgIHZhciB0aW1lciA9IG51bGw7XG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRpbWVyID0gbnVsbDtcbiAgICAgICAgZmNuKCk7XG4gICAgfTtcblxuICAgIHZhciBfc2VsZiA9IGZ1bmN0aW9uKHRpbWVvdXQpIHtcbiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCB0aW1lb3V0IHx8IGRlZmF1bHRUaW1lb3V0KTtcbiAgICB9O1xuXG4gICAgX3NlbGYuZGVsYXkgPSBfc2VsZjtcbiAgICBfc2VsZi5zY2hlZHVsZSA9IGZ1bmN0aW9uKHRpbWVvdXQpIHtcbiAgICAgICAgaWYgKHRpbWVyID09IG51bGwpXG4gICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgMCk7XG4gICAgfTtcblxuICAgIF9zZWxmLmNhbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgICAgZmNuKCk7XG4gICAgfTtcblxuICAgIF9zZWxmLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aW1lciAmJiBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICB0aW1lciA9IG51bGw7XG4gICAgfTtcblxuICAgIF9zZWxmLmlzUGVuZGluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGltZXI7XG4gICAgfTtcblxuICAgIHJldHVybiBfc2VsZjtcbn07XG59KTtcblxuYWNlLmRlZmluZSgnYWNlL2tleWJvYXJkL3RleHRpbnB1dCcsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyAsICdhY2UvbGliL2V2ZW50JywgJ2FjZS9saWIvdXNlcmFnZW50JywgJ2FjZS9saWIvZG9tJywgJ2FjZS9saWIvbGFuZyddLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cblxudmFyIGV2ZW50ID0gYWNlcXVpcmUoXCIuLi9saWIvZXZlbnRcIik7XG52YXIgdXNlcmFnZW50ID0gYWNlcXVpcmUoXCIuLi9saWIvdXNlcmFnZW50XCIpO1xudmFyIGRvbSA9IGFjZXF1aXJlKFwiLi4vbGliL2RvbVwiKTtcbnZhciBsYW5nID0gYWNlcXVpcmUoXCIuLi9saWIvbGFuZ1wiKTtcbnZhciBCUk9LRU5fU0VUREFUQSA9IHVzZXJhZ2VudC5pc0Nocm9tZSA8IDE4O1xuXG52YXIgVGV4dElucHV0ID0gZnVuY3Rpb24ocGFyZW50Tm9kZSwgaG9zdCkge1xuICAgIHZhciB0ZXh0ID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtcbiAgICB0ZXh0LmNsYXNzTmFtZSA9IFwiYWNlX3RleHQtaW5wdXRcIjtcbiAgICBpZiAodXNlcmFnZW50LmlzVG91Y2hQYWQpXG4gICAgICAgIHRleHQuc2V0QXR0cmlidXRlKFwieC1wYWxtLWRpc2FibGUtYXV0by1jYXBcIiwgdHJ1ZSk7XG5cbiAgICB0ZXh0LndyYXAgPSBcIm9mZlwiO1xuICAgIHRleHQuYXV0b2NvcnJlY3QgPSBcIm9mZlwiO1xuICAgIHRleHQuYXV0b2NhcGl0YWxpemUgPSBcIm9mZlwiO1xuICAgIHRleHQuc3BlbGxjaGVjayA9IGZhbHNlO1xuXG4gICAgdGV4dC5zdHlsZS5ib3R0b20gPSBcIjIwMDBlbVwiO1xuICAgIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRleHQsIHBhcmVudE5vZGUuZmlyc3RDaGlsZCk7XG5cbiAgICB2YXIgUExBQ0VIT0xERVIgPSBcIlxceDAxXFx4MDFcIjtcblxuICAgIHZhciBjdXQgPSBmYWxzZTtcbiAgICB2YXIgY29waWVkID0gZmFsc2U7XG4gICAgdmFyIHBhc3RlZCA9IGZhbHNlO1xuICAgIHZhciBpbkNvbXBvc2l0aW9uID0gZmFsc2U7XG4gICAgdmFyIHRlbXBTdHlsZSA9ICcnO1xuICAgIHZhciBpc1NlbGVjdGlvbkVtcHR5ID0gdHJ1ZTtcbiAgICB0cnkgeyB2YXIgaXNGb2N1c2VkID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gdGV4dDsgfSBjYXRjaChlKSB7fVxuICAgIFxuICAgIGV2ZW50LmFkZExpc3RlbmVyKHRleHQsIFwiYmx1clwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaG9zdC5vbkJsdXIoKTtcbiAgICAgICAgaXNGb2N1c2VkID0gZmFsc2U7XG4gICAgfSk7XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIodGV4dCwgXCJmb2N1c1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaXNGb2N1c2VkID0gdHJ1ZTtcbiAgICAgICAgaG9zdC5vbkZvY3VzKCk7XG4gICAgICAgIHJlc2V0U2VsZWN0aW9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5mb2N1cyA9IGZ1bmN0aW9uKCkgeyB0ZXh0LmZvY3VzKCk7IH07XG4gICAgdGhpcy5ibHVyID0gZnVuY3Rpb24oKSB7IHRleHQuYmx1cigpOyB9O1xuICAgIHRoaXMuaXNGb2N1c2VkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBpc0ZvY3VzZWQ7XG4gICAgfTtcbiAgICB2YXIgc3luY1NlbGVjdGlvbiA9IGxhbmcuZGVsYXllZENhbGwoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlzRm9jdXNlZCAmJiByZXNldFNlbGVjdGlvbihpc1NlbGVjdGlvbkVtcHR5KTtcbiAgICB9KTtcbiAgICB2YXIgc3luY1ZhbHVlID0gbGFuZy5kZWxheWVkQ2FsbChmdW5jdGlvbigpIHtcbiAgICAgICAgIGlmICghaW5Db21wb3NpdGlvbikge1xuICAgICAgICAgICAgdGV4dC52YWx1ZSA9IFBMQUNFSE9MREVSO1xuICAgICAgICAgICAgaXNGb2N1c2VkICYmIHJlc2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiByZXNldFNlbGVjdGlvbihpc0VtcHR5KSB7XG4gICAgICAgIGlmIChpbkNvbXBvc2l0aW9uKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoaW5wdXRIYW5kbGVyKSB7XG4gICAgICAgICAgICBzZWxlY3Rpb25TdGFydCA9IDA7XG4gICAgICAgICAgICBzZWxlY3Rpb25FbmQgPSBpc0VtcHR5ID8gMCA6IHRleHQudmFsdWUubGVuZ3RoIC0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb25TdGFydCA9IGlzRW1wdHkgPyAyIDogMTtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb25FbmQgPSAyO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0ZXh0LnNldFNlbGVjdGlvblJhbmdlKHNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQpO1xuICAgICAgICB9IGNhdGNoKGUpe31cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNldFZhbHVlKCkge1xuICAgICAgICBpZiAoaW5Db21wb3NpdGlvbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGV4dC52YWx1ZSA9IFBMQUNFSE9MREVSO1xuICAgICAgICBpZiAodXNlcmFnZW50LmlzV2ViS2l0KVxuICAgICAgICAgICAgc3luY1ZhbHVlLnNjaGVkdWxlKCk7XG4gICAgfVxuXG4gICAgdXNlcmFnZW50LmlzV2ViS2l0IHx8IGhvc3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlU2VsZWN0aW9uJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChob3N0LnNlbGVjdGlvbi5pc0VtcHR5KCkgIT0gaXNTZWxlY3Rpb25FbXB0eSkge1xuICAgICAgICAgICAgaXNTZWxlY3Rpb25FbXB0eSA9ICFpc1NlbGVjdGlvbkVtcHR5O1xuICAgICAgICAgICAgc3luY1NlbGVjdGlvbi5zY2hlZHVsZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXNldFZhbHVlKCk7XG4gICAgaWYgKGlzRm9jdXNlZClcbiAgICAgICAgaG9zdC5vbkZvY3VzKCk7XG5cblxuICAgIHZhciBpc0FsbFNlbGVjdGVkID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgICByZXR1cm4gdGV4dC5zZWxlY3Rpb25TdGFydCA9PT0gMCAmJiB0ZXh0LnNlbGVjdGlvbkVuZCA9PT0gdGV4dC52YWx1ZS5sZW5ndGg7XG4gICAgfTtcbiAgICBpZiAoIXRleHQuc2V0U2VsZWN0aW9uUmFuZ2UgJiYgdGV4dC5jcmVhdGVUZXh0UmFuZ2UpIHtcbiAgICAgICAgdGV4dC5zZXRTZWxlY3Rpb25SYW5nZSA9IGZ1bmN0aW9uKHNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQpIHtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IHRoaXMuY3JlYXRlVGV4dFJhbmdlKCk7XG4gICAgICAgICAgICByYW5nZS5jb2xsYXBzZSh0cnVlKTtcbiAgICAgICAgICAgIHJhbmdlLm1vdmVTdGFydCgnY2hhcmFjdGVyJywgc2VsZWN0aW9uU3RhcnQpO1xuICAgICAgICAgICAgcmFuZ2UubW92ZUVuZCgnY2hhcmFjdGVyJywgc2VsZWN0aW9uRW5kKTtcbiAgICAgICAgICAgIHJhbmdlLnNlbGVjdCgpO1xuICAgICAgICB9O1xuICAgICAgICBpc0FsbFNlbGVjdGVkID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSB0ZXh0Lm93bmVyRG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgICAgICB9Y2F0Y2goZSkge31cbiAgICAgICAgICAgIGlmICghcmFuZ2UgfHwgcmFuZ2UucGFyZW50RWxlbWVudCgpICE9IHRleHQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2UudGV4dCA9PSB0ZXh0LnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh1c2VyYWdlbnQuaXNPbGRJRSkge1xuICAgICAgICB2YXIgaW5Qcm9wZXJ0eUNoYW5nZSA9IGZhbHNlO1xuICAgICAgICB2YXIgb25Qcm9wZXJ0eUNoYW5nZSA9IGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgaWYgKGluUHJvcGVydHlDaGFuZ2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0ZXh0LnZhbHVlO1xuICAgICAgICAgICAgaWYgKGluQ29tcG9zaXRpb24gfHwgIWRhdGEgfHwgZGF0YSA9PSBQTEFDRUhPTERFUilcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAoZSAmJiBkYXRhID09IFBMQUNFSE9MREVSWzBdKVxuICAgICAgICAgICAgICAgIHJldHVybiBzeW5jUHJvcGVydHkuc2NoZWR1bGUoKTtcblxuICAgICAgICAgICAgc2VuZFRleHQoZGF0YSk7XG4gICAgICAgICAgICBpblByb3BlcnR5Q2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlc2V0VmFsdWUoKTtcbiAgICAgICAgICAgIGluUHJvcGVydHlDaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHN5bmNQcm9wZXJ0eSA9IGxhbmcuZGVsYXllZENhbGwob25Qcm9wZXJ0eUNoYW5nZSk7XG4gICAgICAgIGV2ZW50LmFkZExpc3RlbmVyKHRleHQsIFwicHJvcGVydHljaGFuZ2VcIiwgb25Qcm9wZXJ0eUNoYW5nZSk7XG5cbiAgICAgICAgdmFyIGtleXRhYmxlID0geyAxMzoxLCAyNzoxIH07XG4gICAgICAgIGV2ZW50LmFkZExpc3RlbmVyKHRleHQsIFwia2V5dXBcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmIChpbkNvbXBvc2l0aW9uICYmICghdGV4dC52YWx1ZSB8fCBrZXl0YWJsZVtlLmtleUNvZGVdKSlcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KG9uQ29tcG9zaXRpb25FbmQsIDApO1xuICAgICAgICAgICAgaWYgKCh0ZXh0LnZhbHVlLmNoYXJDb2RlQXQoMCl8fDApIDwgMTI5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5Db21wb3NpdGlvbiA/IG9uQ29tcG9zaXRpb25VcGRhdGUoKSA6IG9uQ29tcG9zaXRpb25TdGFydCgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgb25TZWxlY3QgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChjdXQpIHtcbiAgICAgICAgICAgIGN1dCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKGNvcGllZCkge1xuICAgICAgICAgICAgY29waWVkID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNBbGxTZWxlY3RlZCh0ZXh0KSkge1xuICAgICAgICAgICAgaG9zdC5zZWxlY3RBbGwoKTtcbiAgICAgICAgICAgIHJlc2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXRIYW5kbGVyKSB7XG4gICAgICAgICAgICByZXNldFNlbGVjdGlvbihob3N0LnNlbGVjdGlvbi5pc0VtcHR5KCkpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBpbnB1dEhhbmRsZXIgPSBudWxsO1xuICAgIHRoaXMuc2V0SW5wdXRIYW5kbGVyID0gZnVuY3Rpb24oY2IpIHtpbnB1dEhhbmRsZXIgPSBjYn07XG4gICAgdGhpcy5nZXRJbnB1dEhhbmRsZXIgPSBmdW5jdGlvbigpIHtyZXR1cm4gaW5wdXRIYW5kbGVyfTtcbiAgICB2YXIgYWZ0ZXJDb250ZXh0TWVudSA9IGZhbHNlO1xuICAgIFxuICAgIHZhciBzZW5kVGV4dCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgaWYgKGlucHV0SGFuZGxlcikge1xuICAgICAgICAgICAgZGF0YSA9IGlucHV0SGFuZGxlcihkYXRhKTtcbiAgICAgICAgICAgIGlucHV0SGFuZGxlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhc3RlZCkge1xuICAgICAgICAgICAgcmVzZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIGlmIChkYXRhKVxuICAgICAgICAgICAgICAgIGhvc3Qub25QYXN0ZShkYXRhKTtcbiAgICAgICAgICAgIHBhc3RlZCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEgPT0gUExBQ0VIT0xERVJbMF0pIHtcbiAgICAgICAgICAgIGlmIChhZnRlckNvbnRleHRNZW51KVxuICAgICAgICAgICAgICAgIGhvc3QuZXhlY0NvbW1hbmQoXCJkZWxcIiwge3NvdXJjZTogXCJhY2VcIn0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGRhdGEuc3Vic3RyaW5nKDAsIDIpID09IFBMQUNFSE9MREVSKVxuICAgICAgICAgICAgICAgIGRhdGEgPSBkYXRhLnN1YnN0cigyKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGFbMF0gPT0gUExBQ0VIT0xERVJbMF0pXG4gICAgICAgICAgICAgICAgZGF0YSA9IGRhdGEuc3Vic3RyKDEpO1xuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YVtkYXRhLmxlbmd0aCAtIDFdID09IFBMQUNFSE9MREVSWzBdKVxuICAgICAgICAgICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgICAgIGlmIChkYXRhW2RhdGEubGVuZ3RoIC0gMV0gPT0gUExBQ0VIT0xERVJbMF0pXG4gICAgICAgICAgICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoMCwgLTEpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoZGF0YSlcbiAgICAgICAgICAgICAgICBob3N0Lm9uVGV4dElucHV0KGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhZnRlckNvbnRleHRNZW51KVxuICAgICAgICAgICAgYWZ0ZXJDb250ZXh0TWVudSA9IGZhbHNlO1xuICAgIH07XG4gICAgdmFyIG9uSW5wdXQgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChpbkNvbXBvc2l0aW9uKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgZGF0YSA9IHRleHQudmFsdWU7XG4gICAgICAgIHNlbmRUZXh0KGRhdGEpO1xuICAgICAgICByZXNldFZhbHVlKCk7XG4gICAgfTtcblxuICAgIHZhciBvbkN1dCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBob3N0LmdldENvcHlUZXh0KCk7XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2xpcGJvYXJkRGF0YSA9IGUuY2xpcGJvYXJkRGF0YSB8fCB3aW5kb3cuY2xpcGJvYXJkRGF0YTtcblxuICAgICAgICBpZiAoY2xpcGJvYXJkRGF0YSAmJiAhQlJPS0VOX1NFVERBVEEpIHtcbiAgICAgICAgICAgIHZhciBzdXBwb3J0ZWQgPSBjbGlwYm9hcmREYXRhLnNldERhdGEoXCJUZXh0XCIsIGRhdGEpO1xuICAgICAgICAgICAgaWYgKHN1cHBvcnRlZCkge1xuICAgICAgICAgICAgICAgIGhvc3Qub25DdXQoKTtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc3VwcG9ydGVkKSB7XG4gICAgICAgICAgICBjdXQgPSB0cnVlO1xuICAgICAgICAgICAgdGV4dC52YWx1ZSA9IGRhdGE7XG4gICAgICAgICAgICB0ZXh0LnNlbGVjdCgpO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGN1dCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJlc2V0VmFsdWUoKTtcbiAgICAgICAgICAgICAgICByZXNldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgICAgIGhvc3Qub25DdXQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBvbkNvcHkgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBkYXRhID0gaG9zdC5nZXRDb3B5VGV4dCgpO1xuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNsaXBib2FyZERhdGEgPSBlLmNsaXBib2FyZERhdGEgfHwgd2luZG93LmNsaXBib2FyZERhdGE7XG4gICAgICAgIGlmIChjbGlwYm9hcmREYXRhICYmICFCUk9LRU5fU0VUREFUQSkge1xuICAgICAgICAgICAgdmFyIHN1cHBvcnRlZCA9IGNsaXBib2FyZERhdGEuc2V0RGF0YShcIlRleHRcIiwgZGF0YSk7XG4gICAgICAgICAgICBpZiAoc3VwcG9ydGVkKSB7XG4gICAgICAgICAgICAgICAgaG9zdC5vbkNvcHkoKTtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN1cHBvcnRlZCkge1xuICAgICAgICAgICAgY29waWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRleHQudmFsdWUgPSBkYXRhO1xuICAgICAgICAgICAgdGV4dC5zZWxlY3QoKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBjb3BpZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXNldFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgcmVzZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBob3N0Lm9uQ29weSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIG9uUGFzdGUgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBjbGlwYm9hcmREYXRhID0gZS5jbGlwYm9hcmREYXRhIHx8IHdpbmRvdy5jbGlwYm9hcmREYXRhO1xuXG4gICAgICAgIGlmIChjbGlwYm9hcmREYXRhKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGNsaXBib2FyZERhdGEuZ2V0RGF0YShcIlRleHRcIik7XG4gICAgICAgICAgICBpZiAoZGF0YSlcbiAgICAgICAgICAgICAgICBob3N0Lm9uUGFzdGUoZGF0YSk7XG4gICAgICAgICAgICBpZiAodXNlcmFnZW50LmlzSUUpXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChyZXNldFNlbGVjdGlvbik7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRleHQudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgcGFzdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBldmVudC5hZGRDb21tYW5kS2V5TGlzdGVuZXIodGV4dCwgaG9zdC5vbkNvbW1hbmRLZXkuYmluZChob3N0KSk7XG5cbiAgICBldmVudC5hZGRMaXN0ZW5lcih0ZXh0LCBcInNlbGVjdFwiLCBvblNlbGVjdCk7XG5cbiAgICBldmVudC5hZGRMaXN0ZW5lcih0ZXh0LCBcImlucHV0XCIsIG9uSW5wdXQpO1xuXG4gICAgZXZlbnQuYWRkTGlzdGVuZXIodGV4dCwgXCJjdXRcIiwgb25DdXQpO1xuICAgIGV2ZW50LmFkZExpc3RlbmVyKHRleHQsIFwiY29weVwiLCBvbkNvcHkpO1xuICAgIGV2ZW50LmFkZExpc3RlbmVyKHRleHQsIFwicGFzdGVcIiwgb25QYXN0ZSk7XG4gICAgaWYgKCEoJ29uY3V0JyBpbiB0ZXh0KSB8fCAhKCdvbmNvcHknIGluIHRleHQpIHx8ICEoJ29ucGFzdGUnIGluIHRleHQpKXtcbiAgICAgICAgZXZlbnQuYWRkTGlzdGVuZXIocGFyZW50Tm9kZSwgXCJrZXlkb3duXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmICgodXNlcmFnZW50LmlzTWFjICYmICFlLm1ldGFLZXkpIHx8ICFlLmN0cmxLZXkpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIHN3aXRjaCAoZS5rZXlDb2RlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSA2NzpcbiAgICAgICAgICAgICAgICAgICAgb25Db3B5KGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDg2OlxuICAgICAgICAgICAgICAgICAgICBvblBhc3RlKGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDg4OlxuICAgICAgICAgICAgICAgICAgICBvbkN1dChlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB2YXIgb25Db21wb3NpdGlvblN0YXJ0ID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoaW5Db21wb3NpdGlvbikgcmV0dXJuO1xuICAgICAgICBpbkNvbXBvc2l0aW9uID0ge307XG4gICAgICAgIGhvc3Qub25Db21wb3NpdGlvblN0YXJ0KCk7XG4gICAgICAgIHNldFRpbWVvdXQob25Db21wb3NpdGlvblVwZGF0ZSwgMCk7XG4gICAgICAgIGhvc3Qub24oXCJtb3VzZWRvd25cIiwgb25Db21wb3NpdGlvbkVuZCk7XG4gICAgICAgIGlmICghaG9zdC5zZWxlY3Rpb24uaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICBob3N0Lmluc2VydChcIlwiKTtcbiAgICAgICAgICAgIGhvc3Quc2Vzc2lvbi5tYXJrVW5kb0dyb3VwKCk7XG4gICAgICAgICAgICBob3N0LnNlbGVjdGlvbi5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGhvc3Quc2Vzc2lvbi5tYXJrVW5kb0dyb3VwKCk7XG4gICAgfTtcblxuICAgIHZhciBvbkNvbXBvc2l0aW9uVXBkYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghaW5Db21wb3NpdGlvbikgcmV0dXJuO1xuICAgICAgICBob3N0Lm9uQ29tcG9zaXRpb25VcGRhdGUodGV4dC52YWx1ZSk7XG4gICAgICAgIGlmIChpbkNvbXBvc2l0aW9uLmxhc3RWYWx1ZSlcbiAgICAgICAgICAgIGhvc3QudW5kbygpO1xuICAgICAgICBpbkNvbXBvc2l0aW9uLmxhc3RWYWx1ZSA9IHRleHQudmFsdWUucmVwbGFjZSgvXFx4MDEvZywgXCJcIilcbiAgICAgICAgaWYgKGluQ29tcG9zaXRpb24ubGFzdFZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgciA9IGhvc3Quc2VsZWN0aW9uLmdldFJhbmdlKCk7XG4gICAgICAgICAgICBob3N0Lmluc2VydChpbkNvbXBvc2l0aW9uLmxhc3RWYWx1ZSk7XG4gICAgICAgICAgICBob3N0LnNlc3Npb24ubWFya1VuZG9Hcm91cCgpO1xuICAgICAgICAgICAgaW5Db21wb3NpdGlvbi5yYW5nZSA9IGhvc3Quc2VsZWN0aW9uLmdldFJhbmdlKCk7XG4gICAgICAgICAgICBob3N0LnNlbGVjdGlvbi5zZXRSYW5nZShyKTtcbiAgICAgICAgICAgIGhvc3Quc2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIG9uQ29tcG9zaXRpb25FbmQgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBjID0gaW5Db21wb3NpdGlvbjtcbiAgICAgICAgaW5Db21wb3NpdGlvbiA9IGZhbHNlO1xuICAgICAgICB2YXIgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHN0ciA9IHRleHQudmFsdWUucmVwbGFjZSgvXFx4MDEvZywgXCJcIik7XG4gICAgICAgICAgICBpZiAoaW5Db21wb3NpdGlvbilcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIGVsc2UgaWYgKHN0ciA9PSBjLmxhc3RWYWx1ZSlcbiAgICAgICAgICAgICAgICByZXNldFZhbHVlKCk7XG4gICAgICAgICAgICBlbHNlIGlmICghYy5sYXN0VmFsdWUgJiYgc3RyKSB7XG4gICAgICAgICAgICAgICAgcmVzZXRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIHNlbmRUZXh0KHN0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpbnB1dEhhbmRsZXIgPSBmdW5jdGlvbiBjb21wb3NpdGlvbklucHV0SGFuZGxlcihzdHIpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgICAgICBzdHIgPSBzdHIucmVwbGFjZSgvXFx4MDEvZywgXCJcIik7XG4gICAgICAgICAgICBpZiAoc3RyID09IGMubGFzdFZhbHVlKVxuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgaWYgKGMubGFzdFZhbHVlKVxuICAgICAgICAgICAgICAgIGhvc3QudW5kbygpO1xuICAgICAgICAgICAgcmV0dXJuIHN0cjtcbiAgICAgICAgfSAgICAgICAgXG4gICAgICAgIGhvc3Qub25Db21wb3NpdGlvbkVuZCgpO1xuICAgICAgICBob3N0LnJlbW92ZUxpc3RlbmVyKFwibW91c2Vkb3duXCIsIG9uQ29tcG9zaXRpb25FbmQpO1xuICAgICAgICBpZiAoZS50eXBlID09IFwiY29tcG9zaXRpb25lbmRcIiAmJiBjLnJhbmdlKSB7XG4gICAgICAgICAgICBob3N0LnNlbGVjdGlvbi5zZXRSYW5nZShjLnJhbmdlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgXG5cbiAgICB2YXIgc3luY0NvbXBvc2l0aW9uID0gbGFuZy5kZWxheWVkQ2FsbChvbkNvbXBvc2l0aW9uVXBkYXRlLCA1MCk7XG5cbiAgICBldmVudC5hZGRMaXN0ZW5lcih0ZXh0LCBcImNvbXBvc2l0aW9uc3RhcnRcIiwgb25Db21wb3NpdGlvblN0YXJ0KTtcbiAgICBldmVudC5hZGRMaXN0ZW5lcih0ZXh0LCB1c2VyYWdlbnQuaXNHZWNrbyA/IFwidGV4dFwiIDogXCJrZXl1cFwiLCBmdW5jdGlvbigpe3N5bmNDb21wb3NpdGlvbi5zY2hlZHVsZSgpfSk7XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIodGV4dCwgXCJjb21wb3NpdGlvbmVuZFwiLCBvbkNvbXBvc2l0aW9uRW5kKTtcblxuICAgIHRoaXMuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9O1xuXG4gICAgdGhpcy5zZXRSZWFkT25seSA9IGZ1bmN0aW9uKHJlYWRPbmx5KSB7XG4gICAgICAgdGV4dC5yZWFkT25seSA9IHJlYWRPbmx5O1xuICAgIH07XG5cbiAgICB0aGlzLm9uQ29udGV4dE1lbnUgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGFmdGVyQ29udGV4dE1lbnUgPSB0cnVlO1xuICAgICAgICBpZiAoIXRlbXBTdHlsZSlcbiAgICAgICAgICAgIHRlbXBTdHlsZSA9IHRleHQuc3R5bGUuY3NzVGV4dDtcblxuICAgICAgICB0ZXh0LnN0eWxlLmNzc1RleHQgPSBcInotaW5kZXg6MTAwMDAwO1wiICsgKHVzZXJhZ2VudC5pc0lFID8gXCJvcGFjaXR5OjAuMTtcIiA6IFwiXCIpO1xuXG4gICAgICAgIHJlc2V0U2VsZWN0aW9uKGhvc3Quc2VsZWN0aW9uLmlzRW1wdHkoKSk7XG4gICAgICAgIGhvc3QuX2VtaXQoXCJuYXRpdmVjb250ZXh0bWVudVwiLCB7dGFyZ2V0OiBob3N0fSk7XG4gICAgICAgIHZhciByZWN0ID0gaG9zdC5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciBzdHlsZSA9IGRvbS5jb21wdXRlZFN0eWxlKGhvc3QuY29udGFpbmVyKTtcbiAgICAgICAgdmFyIHRvcCA9IHJlY3QudG9wICsgKHBhcnNlSW50KHN0eWxlLmJvcmRlclRvcFdpZHRoKSB8fCAwKTtcbiAgICAgICAgdmFyIGxlZnQgPSByZWN0LmxlZnQgKyAocGFyc2VJbnQocmVjdC5ib3JkZXJMZWZ0V2lkdGgpIHx8IDApO1xuICAgICAgICB2YXIgbWF4VG9wID0gcmVjdC5ib3R0b20gLSB0b3AgLSB0ZXh0LmNsaWVudEhlaWdodDtcbiAgICAgICAgdmFyIG1vdmUgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB0ZXh0LnN0eWxlLmxlZnQgPSBlLmNsaWVudFggLSBsZWZ0IC0gMiArIFwicHhcIjtcbiAgICAgICAgICAgIHRleHQuc3R5bGUudG9wID0gTWF0aC5taW4oZS5jbGllbnRZIC0gdG9wIC0gMiwgbWF4VG9wKSArIFwicHhcIjtcbiAgICAgICAgfTsgXG4gICAgICAgIG1vdmUoZSk7XG5cbiAgICAgICAgaWYgKGUudHlwZSAhPSBcIm1vdXNlZG93blwiKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGlmIChob3N0LnJlbmRlcmVyLiRrZWVwVGV4dEFyZWFBdEN1cnNvcilcbiAgICAgICAgICAgIGhvc3QucmVuZGVyZXIuJGtlZXBUZXh0QXJlYUF0Q3Vyc29yID0gbnVsbDtcbiAgICAgICAgaWYgKHVzZXJhZ2VudC5pc1dpbilcbiAgICAgICAgICAgIGV2ZW50LmNhcHR1cmUoaG9zdC5jb250YWluZXIsIG1vdmUsIG9uQ29udGV4dE1lbnVDbG9zZSk7XG4gICAgfTtcblxuICAgIHRoaXMub25Db250ZXh0TWVudUNsb3NlID0gb25Db250ZXh0TWVudUNsb3NlO1xuICAgIGZ1bmN0aW9uIG9uQ29udGV4dE1lbnVDbG9zZSgpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGVtcFN0eWxlKSB7XG4gICAgICAgICAgICAgICAgdGV4dC5zdHlsZS5jc3NUZXh0ID0gdGVtcFN0eWxlO1xuICAgICAgICAgICAgICAgIHRlbXBTdHlsZSA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhvc3QucmVuZGVyZXIuJGtlZXBUZXh0QXJlYUF0Q3Vyc29yID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBob3N0LnJlbmRlcmVyLiRrZWVwVGV4dEFyZWFBdEN1cnNvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgaG9zdC5yZW5kZXJlci4kbW92ZVRleHRBcmVhVG9DdXJzb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMCk7XG4gICAgfVxuICAgIGlmICghdXNlcmFnZW50LmlzR2Vja28pIHtcbiAgICAgICAgZXZlbnQuYWRkTGlzdGVuZXIodGV4dCwgXCJjb250ZXh0bWVudVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBob3N0LnRleHRJbnB1dC5vbkNvbnRleHRNZW51KGUpO1xuICAgICAgICAgICAgb25Db250ZXh0TWVudUNsb3NlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbmV4cG9ydHMuVGV4dElucHV0ID0gVGV4dElucHV0O1xufSk7XG5cbmFjZS5kZWZpbmUoJ2FjZS9tb3VzZS9tb3VzZV9oYW5kbGVyJywgW1wicmVxdWlyZVwiLCAnZXhwb3J0cycsICdtb2R1bGUnICwgJ2FjZS9saWIvZXZlbnQnLCAnYWNlL2xpYi91c2VyYWdlbnQnLCAnYWNlL21vdXNlL2RlZmF1bHRfaGFuZGxlcnMnLCAnYWNlL21vdXNlL2RlZmF1bHRfZ3V0dGVyX2hhbmRsZXInLCAnYWNlL21vdXNlL21vdXNlX2V2ZW50JywgJ2FjZS9tb3VzZS9kcmFnZHJvcCcsICdhY2UvY29uZmlnJ10sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuXG52YXIgZXZlbnQgPSBhY2VxdWlyZShcIi4uL2xpYi9ldmVudFwiKTtcbnZhciB1c2VyYWdlbnQgPSBhY2VxdWlyZShcIi4uL2xpYi91c2VyYWdlbnRcIik7XG52YXIgRGVmYXVsdEhhbmRsZXJzID0gYWNlcXVpcmUoXCIuL2RlZmF1bHRfaGFuZGxlcnNcIikuRGVmYXVsdEhhbmRsZXJzO1xudmFyIERlZmF1bHRHdXR0ZXJIYW5kbGVyID0gYWNlcXVpcmUoXCIuL2RlZmF1bHRfZ3V0dGVyX2hhbmRsZXJcIikuR3V0dGVySGFuZGxlcjtcbnZhciBNb3VzZUV2ZW50ID0gYWNlcXVpcmUoXCIuL21vdXNlX2V2ZW50XCIpLk1vdXNlRXZlbnQ7XG52YXIgRHJhZ2Ryb3BIYW5kbGVyID0gYWNlcXVpcmUoXCIuL2RyYWdkcm9wXCIpLkRyYWdkcm9wSGFuZGxlcjtcbnZhciBjb25maWcgPSBhY2VxdWlyZShcIi4uL2NvbmZpZ1wiKTtcblxudmFyIE1vdXNlSGFuZGxlciA9IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xuXG4gICAgbmV3IERlZmF1bHRIYW5kbGVycyh0aGlzKTtcbiAgICBuZXcgRGVmYXVsdEd1dHRlckhhbmRsZXIodGhpcyk7XG4gICAgbmV3IERyYWdkcm9wSGFuZGxlcih0aGlzKTtcblxuICAgIGV2ZW50LmFkZExpc3RlbmVyKGVkaXRvci5jb250YWluZXIsIFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZWRpdG9yLmZvY3VzKCk7XG4gICAgICAgIHJldHVybiBldmVudC5wcmV2ZW50RGVmYXVsdChlKTtcbiAgICB9KTtcblxuICAgIHZhciBtb3VzZVRhcmdldCA9IGVkaXRvci5yZW5kZXJlci5nZXRNb3VzZUV2ZW50VGFyZ2V0KCk7XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIobW91c2VUYXJnZXQsIFwiY2xpY2tcIiwgdGhpcy5vbk1vdXNlRXZlbnQuYmluZCh0aGlzLCBcImNsaWNrXCIpKTtcbiAgICBldmVudC5hZGRMaXN0ZW5lcihtb3VzZVRhcmdldCwgXCJtb3VzZW1vdmVcIiwgdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMsIFwibW91c2Vtb3ZlXCIpKTtcbiAgICBldmVudC5hZGRNdWx0aU1vdXNlRG93bkxpc3RlbmVyKG1vdXNlVGFyZ2V0LCBbMzAwLCAzMDAsIDI1MF0sIHRoaXMsIFwib25Nb3VzZUV2ZW50XCIpO1xuICAgIGV2ZW50LmFkZE1vdXNlV2hlZWxMaXN0ZW5lcihlZGl0b3IuY29udGFpbmVyLCB0aGlzLm9uTW91c2VXaGVlbC5iaW5kKHRoaXMsIFwibW91c2V3aGVlbFwiKSk7XG5cbiAgICB2YXIgZ3V0dGVyRWwgPSBlZGl0b3IucmVuZGVyZXIuJGd1dHRlcjtcbiAgICBldmVudC5hZGRMaXN0ZW5lcihndXR0ZXJFbCwgXCJtb3VzZWRvd25cIiwgdGhpcy5vbk1vdXNlRXZlbnQuYmluZCh0aGlzLCBcImd1dHRlcm1vdXNlZG93blwiKSk7XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIoZ3V0dGVyRWwsIFwiY2xpY2tcIiwgdGhpcy5vbk1vdXNlRXZlbnQuYmluZCh0aGlzLCBcImd1dHRlcmNsaWNrXCIpKTtcbiAgICBldmVudC5hZGRMaXN0ZW5lcihndXR0ZXJFbCwgXCJkYmxjbGlja1wiLCB0aGlzLm9uTW91c2VFdmVudC5iaW5kKHRoaXMsIFwiZ3V0dGVyZGJsY2xpY2tcIikpO1xuICAgIGV2ZW50LmFkZExpc3RlbmVyKGd1dHRlckVsLCBcIm1vdXNlbW92ZVwiLCB0aGlzLm9uTW91c2VFdmVudC5iaW5kKHRoaXMsIFwiZ3V0dGVybW91c2Vtb3ZlXCIpKTtcbn07XG5cbihmdW5jdGlvbigpIHtcbiAgICB0aGlzLm9uTW91c2VFdmVudCA9IGZ1bmN0aW9uKG5hbWUsIGUpIHtcbiAgICAgICAgdGhpcy5lZGl0b3IuX2VtaXQobmFtZSwgbmV3IE1vdXNlRXZlbnQoZSwgdGhpcy5lZGl0b3IpKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uKG5hbWUsIGUpIHtcbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuZWRpdG9yLl9ldmVudFJlZ2lzdHJ5ICYmIHRoaXMuZWRpdG9yLl9ldmVudFJlZ2lzdHJ5Lm1vdXNlbW92ZTtcbiAgICAgICAgaWYgKCFsaXN0ZW5lcnMgfHwgIWxpc3RlbmVycy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdGhpcy5lZGl0b3IuX2VtaXQobmFtZSwgbmV3IE1vdXNlRXZlbnQoZSwgdGhpcy5lZGl0b3IpKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbk1vdXNlV2hlZWwgPSBmdW5jdGlvbihuYW1lLCBlKSB7XG4gICAgICAgIHZhciBtb3VzZUV2ZW50ID0gbmV3IE1vdXNlRXZlbnQoZSwgdGhpcy5lZGl0b3IpO1xuICAgICAgICBtb3VzZUV2ZW50LnNwZWVkID0gdGhpcy4kc2Nyb2xsU3BlZWQgKiAyO1xuICAgICAgICBtb3VzZUV2ZW50LndoZWVsWCA9IGUud2hlZWxYO1xuICAgICAgICBtb3VzZUV2ZW50LndoZWVsWSA9IGUud2hlZWxZO1xuXG4gICAgICAgIHRoaXMuZWRpdG9yLl9lbWl0KG5hbWUsIG1vdXNlRXZlbnQpO1xuICAgIH07XG5cbiAgICB0aGlzLnNldFN0YXRlID0gZnVuY3Rpb24oc3RhdGUpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIH07XG5cbiAgICB0aGlzLmNhcHR1cmVNb3VzZSA9IGZ1bmN0aW9uKGV2LCBzdGF0ZSkge1xuICAgICAgICBpZiAoc3RhdGUpXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHN0YXRlKTtcblxuICAgICAgICB0aGlzLnggPSBldi54O1xuICAgICAgICB0aGlzLnkgPSBldi55O1xuICAgICAgICBcbiAgICAgICAgdGhpcy5pc01vdXNlUHJlc3NlZCA9IHRydWU7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMuZWRpdG9yLnJlbmRlcmVyO1xuICAgICAgICBpZiAocmVuZGVyZXIuJGtlZXBUZXh0QXJlYUF0Q3Vyc29yKVxuICAgICAgICAgICAgcmVuZGVyZXIuJGtlZXBUZXh0QXJlYUF0Q3Vyc29yID0gbnVsbDtcblxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBvbk1vdXNlTW92ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHNlbGYueCA9IGUuY2xpZW50WDtcbiAgICAgICAgICAgIHNlbGYueSA9IGUuY2xpZW50WTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgb25DYXB0dXJlRW5kID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcbiAgICAgICAgICAgIG9uQ2FwdHVyZUludGVydmFsKCk7XG4gICAgICAgICAgICBzZWxmW3NlbGYuc3RhdGUgKyBcIkVuZFwiXSAmJiBzZWxmW3NlbGYuc3RhdGUgKyBcIkVuZFwiXShlKTtcbiAgICAgICAgICAgIHNlbGYuJGNsaWNrU2VsZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChyZW5kZXJlci4ka2VlcFRleHRBcmVhQXRDdXJzb3IgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLiRrZWVwVGV4dEFyZWFBdEN1cnNvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuJG1vdmVUZXh0QXJlYVRvQ3Vyc29yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmLmlzTW91c2VQcmVzc2VkID0gZmFsc2U7XG4gICAgICAgICAgICBzZWxmLm9uTW91c2VFdmVudChcIm1vdXNldXBcIiwgZSlcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgb25DYXB0dXJlSW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGZbc2VsZi5zdGF0ZV0gJiYgc2VsZltzZWxmLnN0YXRlXSgpO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgaWYgKHVzZXJhZ2VudC5pc09sZElFICYmIGV2LmRvbUV2ZW50LnR5cGUgPT0gXCJkYmxjbGlja1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtvbkNhcHR1cmVFbmQoZXYuZG9tRXZlbnQpO30pO1xuICAgICAgICB9XG5cbiAgICAgICAgZXZlbnQuY2FwdHVyZSh0aGlzLmVkaXRvci5jb250YWluZXIsIG9uTW91c2VNb3ZlLCBvbkNhcHR1cmVFbmQpO1xuICAgICAgICB2YXIgdGltZXJJZCA9IHNldEludGVydmFsKG9uQ2FwdHVyZUludGVydmFsLCAyMCk7XG4gICAgfTtcbn0pLmNhbGwoTW91c2VIYW5kbGVyLnByb3RvdHlwZSk7XG5cbmNvbmZpZy5kZWZpbmVPcHRpb25zKE1vdXNlSGFuZGxlci5wcm90b3R5cGUsIFwibW91c2VIYW5kbGVyXCIsIHtcbiAgICBzY3JvbGxTcGVlZDoge2luaXRpYWxWYWx1ZTogMn0sXG4gICAgZHJhZ0RlbGF5OiB7aW5pdGlhbFZhbHVlOiAxNTB9LFxuICAgIGZvY3VzVGltb3V0OiB7aW5pdGlhbFZhbHVlOiAwfVxufSk7XG5cblxuZXhwb3J0cy5Nb3VzZUhhbmRsZXIgPSBNb3VzZUhhbmRsZXI7XG59KTtcblxuYWNlLmRlZmluZSgnYWNlL21vdXNlL2RlZmF1bHRfaGFuZGxlcnMnLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgLCAnYWNlL2xpYi9kb20nLCAnYWNlL2xpYi91c2VyYWdlbnQnXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5cbnZhciBkb20gPSBhY2VxdWlyZShcIi4uL2xpYi9kb21cIik7XG52YXIgdXNlcmFnZW50ID0gYWNlcXVpcmUoXCIuLi9saWIvdXNlcmFnZW50XCIpO1xuXG52YXIgRFJBR19PRkZTRVQgPSAwOyAvLyBwaXhlbHNcblxuZnVuY3Rpb24gRGVmYXVsdEhhbmRsZXJzKG1vdXNlSGFuZGxlcikge1xuICAgIG1vdXNlSGFuZGxlci4kY2xpY2tTZWxlY3Rpb24gPSBudWxsO1xuXG4gICAgdmFyIGVkaXRvciA9IG1vdXNlSGFuZGxlci5lZGl0b3I7XG4gICAgZWRpdG9yLnNldERlZmF1bHRIYW5kbGVyKFwibW91c2Vkb3duXCIsIHRoaXMub25Nb3VzZURvd24uYmluZChtb3VzZUhhbmRsZXIpKTtcbiAgICBlZGl0b3Iuc2V0RGVmYXVsdEhhbmRsZXIoXCJkYmxjbGlja1wiLCB0aGlzLm9uRG91YmxlQ2xpY2suYmluZChtb3VzZUhhbmRsZXIpKTtcbiAgICBlZGl0b3Iuc2V0RGVmYXVsdEhhbmRsZXIoXCJ0cmlwbGVjbGlja1wiLCB0aGlzLm9uVHJpcGxlQ2xpY2suYmluZChtb3VzZUhhbmRsZXIpKTtcbiAgICBlZGl0b3Iuc2V0RGVmYXVsdEhhbmRsZXIoXCJxdWFkY2xpY2tcIiwgdGhpcy5vblF1YWRDbGljay5iaW5kKG1vdXNlSGFuZGxlcikpO1xuICAgIGVkaXRvci5zZXREZWZhdWx0SGFuZGxlcihcIm1vdXNld2hlZWxcIiwgdGhpcy5vbk1vdXNlV2hlZWwuYmluZChtb3VzZUhhbmRsZXIpKTtcblxuICAgIHZhciBleHBvcnRzID0gW1wic2VsZWN0XCIsIFwic3RhcnRTZWxlY3RcIiwgXCJkcmFnXCIsIFwiZHJhZ0VuZFwiLCBcImRyYWdXYWl0XCIsXG4gICAgICAgIFwiZHJhZ1dhaXRFbmRcIiwgXCJzdGFydERyYWdcIiwgXCJmb2N1c1dhaXRcIl07XG5cbiAgICBleHBvcnRzLmZvckVhY2goZnVuY3Rpb24oeCkge1xuICAgICAgICBtb3VzZUhhbmRsZXJbeF0gPSB0aGlzW3hdO1xuICAgIH0sIHRoaXMpO1xuXG4gICAgbW91c2VIYW5kbGVyLnNlbGVjdEJ5TGluZXMgPSB0aGlzLmV4dGVuZFNlbGVjdGlvbkJ5LmJpbmQobW91c2VIYW5kbGVyLCBcImdldExpbmVSYW5nZVwiKTtcbiAgICBtb3VzZUhhbmRsZXIuc2VsZWN0QnlXb3JkcyA9IHRoaXMuZXh0ZW5kU2VsZWN0aW9uQnkuYmluZChtb3VzZUhhbmRsZXIsIFwiZ2V0V29yZFJhbmdlXCIpO1xufVxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLm9uTW91c2VEb3duID0gZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgdmFyIGluU2VsZWN0aW9uID0gZXYuaW5TZWxlY3Rpb24oKTtcbiAgICAgICAgdmFyIHBvcyA9IGV2LmdldERvY3VtZW50UG9zaXRpb24oKTtcbiAgICAgICAgdGhpcy5tb3VzZWRvd25FdmVudCA9IGV2O1xuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG5cbiAgICAgICAgdmFyIGJ1dHRvbiA9IGV2LmdldEJ1dHRvbigpO1xuICAgICAgICBpZiAoYnV0dG9uICE9PSAwKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uUmFuZ2UgPSBlZGl0b3IuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb25FbXB0eSA9IHNlbGVjdGlvblJhbmdlLmlzRW1wdHkoKTtcblxuICAgICAgICAgICAgaWYgKHNlbGVjdGlvbkVtcHR5KSB7XG4gICAgICAgICAgICAgICAgZWRpdG9yLm1vdmVDdXJzb3JUb1Bvc2l0aW9uKHBvcyk7XG4gICAgICAgICAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWRpdG9yLnRleHRJbnB1dC5vbkNvbnRleHRNZW51KGV2LmRvbUV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybjsgLy8gc3RvcHBpbmcgZXZlbnQgaGVyZSBicmVha3MgY29udGV4dG1lbnUgb24gZmYgbWFjXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluU2VsZWN0aW9uICYmICFlZGl0b3IuaXNGb2N1c2VkKCkpIHtcbiAgICAgICAgICAgIGVkaXRvci5mb2N1cygpO1xuICAgICAgICAgICAgaWYgKHRoaXMuJGZvY3VzVGltb3V0ICYmICF0aGlzLiRjbGlja1NlbGVjdGlvbiAmJiAhZWRpdG9yLmluTXVsdGlTZWxlY3RNb2RlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShcImZvY3VzV2FpdFwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhcHR1cmVNb3VzZShldik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWluU2VsZWN0aW9uIHx8IHRoaXMuJGNsaWNrU2VsZWN0aW9uIHx8IGV2LmdldFNoaWZ0S2V5KCkgfHwgZWRpdG9yLmluTXVsdGlTZWxlY3RNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0U2VsZWN0KHBvcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5TZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMubW91c2Vkb3duRXZlbnQudGltZSA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKFwiZHJhZ1dhaXRcIik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhcHR1cmVNb3VzZShldik7XG4gICAgICAgIHJldHVybiBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICB0aGlzLnN0YXJ0U2VsZWN0ID0gZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgIHBvcyA9IHBvcyB8fCB0aGlzLmVkaXRvci5yZW5kZXJlci5zY3JlZW5Ub1RleHRDb29yZGluYXRlcyh0aGlzLngsIHRoaXMueSk7XG4gICAgICAgIGlmICh0aGlzLm1vdXNlZG93bkV2ZW50LmdldFNoaWZ0S2V5KCkpIHtcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLnNlbGVjdGlvbi5zZWxlY3RUb1Bvc2l0aW9uKHBvcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXRoaXMuJGNsaWNrU2VsZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmVkaXRvci5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihwb3MpO1xuICAgICAgICAgICAgdGhpcy5lZGl0b3Iuc2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRTdGF0ZShcInNlbGVjdFwiKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zZWxlY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFuY2hvciwgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgICAgIHZhciBjdXJzb3IgPSBlZGl0b3IucmVuZGVyZXIuc2NyZWVuVG9UZXh0Q29vcmRpbmF0ZXModGhpcy54LCB0aGlzLnkpO1xuXG4gICAgICAgIGlmICh0aGlzLiRjbGlja1NlbGVjdGlvbikge1xuICAgICAgICAgICAgdmFyIGNtcCA9IHRoaXMuJGNsaWNrU2VsZWN0aW9uLmNvbXBhcmVQb2ludChjdXJzb3IpO1xuXG4gICAgICAgICAgICBpZiAoY21wID09IC0xKSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yID0gdGhpcy4kY2xpY2tTZWxlY3Rpb24uZW5kO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjbXAgPT0gMSkge1xuICAgICAgICAgICAgICAgIGFuY2hvciA9IHRoaXMuJGNsaWNrU2VsZWN0aW9uLnN0YXJ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgb3JpZW50ZWRSYW5nZSA9IGNhbGNSYW5nZU9yaWVudGF0aW9uKHRoaXMuJGNsaWNrU2VsZWN0aW9uLCBjdXJzb3IpO1xuICAgICAgICAgICAgICAgIGN1cnNvciA9IG9yaWVudGVkUmFuZ2UuY3Vyc29yO1xuICAgICAgICAgICAgICAgIGFuY2hvciA9IG9yaWVudGVkUmFuZ2UuYW5jaG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25BbmNob3IoYW5jaG9yLnJvdywgYW5jaG9yLmNvbHVtbik7XG4gICAgICAgIH1cbiAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5zZWxlY3RUb1Bvc2l0aW9uKGN1cnNvcik7XG5cbiAgICAgICAgZWRpdG9yLnJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KCk7XG4gICAgfTtcblxuICAgIHRoaXMuZXh0ZW5kU2VsZWN0aW9uQnkgPSBmdW5jdGlvbih1bml0TmFtZSkge1xuICAgICAgICB2YXIgYW5jaG9yLCBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICAgICAgdmFyIGN1cnNvciA9IGVkaXRvci5yZW5kZXJlci5zY3JlZW5Ub1RleHRDb29yZGluYXRlcyh0aGlzLngsIHRoaXMueSk7XG4gICAgICAgIHZhciByYW5nZSA9IGVkaXRvci5zZWxlY3Rpb25bdW5pdE5hbWVdKGN1cnNvci5yb3csIGN1cnNvci5jb2x1bW4pO1xuXG4gICAgICAgIGlmICh0aGlzLiRjbGlja1NlbGVjdGlvbikge1xuICAgICAgICAgICAgdmFyIGNtcFN0YXJ0ID0gdGhpcy4kY2xpY2tTZWxlY3Rpb24uY29tcGFyZVBvaW50KHJhbmdlLnN0YXJ0KTtcbiAgICAgICAgICAgIHZhciBjbXBFbmQgPSB0aGlzLiRjbGlja1NlbGVjdGlvbi5jb21wYXJlUG9pbnQocmFuZ2UuZW5kKTtcblxuICAgICAgICAgICAgaWYgKGNtcFN0YXJ0ID09IC0xICYmIGNtcEVuZCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yID0gdGhpcy4kY2xpY2tTZWxlY3Rpb24uZW5kO1xuICAgICAgICAgICAgICAgIGlmIChyYW5nZS5lbmQucm93ICE9IGN1cnNvci5yb3cgfHwgcmFuZ2UuZW5kLmNvbHVtbiAhPSBjdXJzb3IuY29sdW1uKVxuICAgICAgICAgICAgICAgICAgICBjdXJzb3IgPSByYW5nZS5zdGFydDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY21wRW5kID09IDEgJiYgY21wU3RhcnQgPj0gMCkge1xuICAgICAgICAgICAgICAgIGFuY2hvciA9IHRoaXMuJGNsaWNrU2VsZWN0aW9uLnN0YXJ0O1xuICAgICAgICAgICAgICAgIGlmIChyYW5nZS5zdGFydC5yb3cgIT0gY3Vyc29yLnJvdyB8fCByYW5nZS5zdGFydC5jb2x1bW4gIT0gY3Vyc29yLmNvbHVtbilcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yID0gcmFuZ2UuZW5kO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjbXBTdGFydCA9PSAtMSAmJiBjbXBFbmQgPT0gMSkge1xuICAgICAgICAgICAgICAgIGN1cnNvciA9IHJhbmdlLmVuZDtcbiAgICAgICAgICAgICAgICBhbmNob3IgPSByYW5nZS5zdGFydDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIG9yaWVudGVkUmFuZ2UgPSBjYWxjUmFuZ2VPcmllbnRhdGlvbih0aGlzLiRjbGlja1NlbGVjdGlvbiwgY3Vyc29yKTtcbiAgICAgICAgICAgICAgICBjdXJzb3IgPSBvcmllbnRlZFJhbmdlLmN1cnNvcjtcbiAgICAgICAgICAgICAgICBhbmNob3IgPSBvcmllbnRlZFJhbmdlLmFuY2hvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVkaXRvci5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uQW5jaG9yKGFuY2hvci5yb3csIGFuY2hvci5jb2x1bW4pO1xuICAgICAgICB9XG4gICAgICAgIGVkaXRvci5zZWxlY3Rpb24uc2VsZWN0VG9Qb3NpdGlvbihjdXJzb3IpO1xuXG4gICAgICAgIGVkaXRvci5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldygpO1xuICAgIH07XG5cbiAgICB0aGlzLnN0YXJ0RHJhZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoXCJkcmFnXCIpO1xuICAgICAgICB0aGlzLmRyYWdSYW5nZSA9IGVkaXRvci5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICB2YXIgc3R5bGUgPSBlZGl0b3IuZ2V0U2VsZWN0aW9uU3R5bGUoKTtcbiAgICAgICAgdGhpcy5kcmFnU2VsZWN0aW9uTWFya2VyID0gZWRpdG9yLnNlc3Npb24uYWRkTWFya2VyKHRoaXMuZHJhZ1JhbmdlLCBcImFjZV9zZWxlY3Rpb25cIiwgc3R5bGUpO1xuICAgICAgICBlZGl0b3IuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgZG9tLmFkZENzc0NsYXNzKGVkaXRvci5jb250YWluZXIsIFwiYWNlX2RyYWdnaW5nXCIpO1xuICAgICAgICBpZiAoIXRoaXMuJGRyYWdLZXliaW5kaW5nKSB7XG4gICAgICAgICAgICB0aGlzLiRkcmFnS2V5YmluZGluZyA9IHtcbiAgICAgICAgICAgICAgICBoYW5kbGVLZXlib2FyZDogZnVuY3Rpb24oZGF0YSwgaGFzaElkLCBrZXlTdHJpbmcsIGtleUNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleVN0cmluZyA9PSBcImVzY1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtjb21tYW5kOiB0aGlzLmNvbW1hbmR9O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29tbWFuZDoge1xuICAgICAgICAgICAgICAgICAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxmID0gZWRpdG9yLiRtb3VzZUhhbmRsZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmRyYWdDdXJzb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5kcmFnRW5kKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YXJ0U2VsZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBlZGl0b3Iua2V5QmluZGluZy5hZGRLZXlib2FyZEhhbmRsZXIodGhpcy4kZHJhZ0tleWJpbmRpbmcpO1xuICAgIH07XG5cbiAgICB0aGlzLmZvY3VzV2FpdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGlzdGFuY2UgPSBjYWxjRGlzdGFuY2UodGhpcy5tb3VzZWRvd25FdmVudC54LCB0aGlzLm1vdXNlZG93bkV2ZW50LnksIHRoaXMueCwgdGhpcy55KTtcbiAgICAgICAgdmFyIHRpbWUgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuXG4gICAgICAgIGlmIChkaXN0YW5jZSA+IERSQUdfT0ZGU0VUIHx8IHRpbWUgLSB0aGlzLm1vdXNlZG93bkV2ZW50LnRpbWUgPiB0aGlzLiRmb2N1c1RpbW91dClcbiAgICAgICAgICAgIHRoaXMuc3RhcnRTZWxlY3QodGhpcy5tb3VzZWRvd25FdmVudC5nZXREb2N1bWVudFBvc2l0aW9uKCkpO1xuICAgIH07XG5cbiAgICB0aGlzLmRyYWdXYWl0ID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgZGlzdGFuY2UgPSBjYWxjRGlzdGFuY2UodGhpcy5tb3VzZWRvd25FdmVudC54LCB0aGlzLm1vdXNlZG93bkV2ZW50LnksIHRoaXMueCwgdGhpcy55KTtcbiAgICAgICAgdmFyIHRpbWUgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG5cbiAgICAgICAgaWYgKGRpc3RhbmNlID4gRFJBR19PRkZTRVQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRTZWxlY3QodGhpcy5tb3VzZWRvd25FdmVudC5nZXREb2N1bWVudFBvc2l0aW9uKCkpO1xuICAgICAgICB9IGVsc2UgaWYgKHRpbWUgLSB0aGlzLm1vdXNlZG93bkV2ZW50LnRpbWUgPiBlZGl0b3IuJG1vdXNlSGFuZGxlci4kZHJhZ0RlbGF5KSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0RHJhZygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZHJhZ1dhaXRFbmQgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHRoaXMubW91c2Vkb3duRXZlbnQuZG9tRXZlbnQgPSBlO1xuICAgICAgICB0aGlzLnN0YXJ0U2VsZWN0KCk7XG4gICAgfTtcblxuICAgIHRoaXMuZHJhZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgICAgIHRoaXMuZHJhZ0N1cnNvciA9IGVkaXRvci5yZW5kZXJlci5zY3JlZW5Ub1RleHRDb29yZGluYXRlcyh0aGlzLngsIHRoaXMueSk7XG4gICAgICAgIGVkaXRvci5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbih0aGlzLmRyYWdDdXJzb3IpO1xuICAgICAgICBlZGl0b3IucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5kcmFnRW5kID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgICAgIHZhciBkcmFnQ3Vyc29yID0gdGhpcy5kcmFnQ3Vyc29yO1xuICAgICAgICB2YXIgZHJhZ1JhbmdlID0gdGhpcy5kcmFnUmFuZ2U7XG4gICAgICAgIGRvbS5yZW1vdmVDc3NDbGFzcyhlZGl0b3IuY29udGFpbmVyLCBcImFjZV9kcmFnZ2luZ1wiKTtcbiAgICAgICAgZWRpdG9yLnNlc3Npb24ucmVtb3ZlTWFya2VyKHRoaXMuZHJhZ1NlbGVjdGlvbk1hcmtlcik7XG4gICAgICAgIGVkaXRvci5rZXlCaW5kaW5nLnJlbW92ZUtleWJvYXJkSGFuZGxlcih0aGlzLiRkcmFnS2V5YmluZGluZyk7XG5cbiAgICAgICAgaWYgKCFkcmFnQ3Vyc29yKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGVkaXRvci5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgICBpZiAoZSAmJiAoZS5jdHJsS2V5IHx8IGUuYWx0S2V5KSkge1xuICAgICAgICAgICAgdmFyIHNlc3Npb24gPSBlZGl0b3Iuc2Vzc2lvbjtcbiAgICAgICAgICAgIHZhciBuZXdSYW5nZSA9IGRyYWdSYW5nZTtcbiAgICAgICAgICAgIG5ld1JhbmdlLmVuZCA9IHNlc3Npb24uaW5zZXJ0KGRyYWdDdXJzb3IsIHNlc3Npb24uZ2V0VGV4dFJhbmdlKGRyYWdSYW5nZSkpO1xuICAgICAgICAgICAgbmV3UmFuZ2Uuc3RhcnQgPSBkcmFnQ3Vyc29yO1xuICAgICAgICB9IGVsc2UgaWYgKGRyYWdSYW5nZS5jb250YWlucyhkcmFnQ3Vyc29yLnJvdywgZHJhZ0N1cnNvci5jb2x1bW4pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgbmV3UmFuZ2UgPSBlZGl0b3IubW92ZVRleHQoZHJhZ1JhbmdlLCBkcmFnQ3Vyc29yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbmV3UmFuZ2UpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25SYW5nZShuZXdSYW5nZSk7XG4gICAgfTtcblxuICAgIHRoaXMub25Eb3VibGVDbGljayA9IGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgIHZhciBwb3MgPSBldi5nZXREb2N1bWVudFBvc2l0aW9uKCk7XG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICAgICAgdmFyIHNlc3Npb24gPSBlZGl0b3Iuc2Vzc2lvbjtcblxuICAgICAgICB2YXIgcmFuZ2UgPSBzZXNzaW9uLmdldEJyYWNrZXRSYW5nZShwb3MpO1xuICAgICAgICBpZiAocmFuZ2UpIHtcbiAgICAgICAgICAgIGlmIChyYW5nZS5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICByYW5nZS5zdGFydC5jb2x1bW4tLTtcbiAgICAgICAgICAgICAgICByYW5nZS5lbmQuY29sdW1uKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLiRjbGlja1NlbGVjdGlvbiA9IHJhbmdlO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShcInNlbGVjdFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuJGNsaWNrU2VsZWN0aW9uID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRXb3JkUmFuZ2UocG9zLnJvdywgcG9zLmNvbHVtbik7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoXCJzZWxlY3RCeVdvcmRzXCIpO1xuICAgIH07XG5cbiAgICB0aGlzLm9uVHJpcGxlQ2xpY2sgPSBmdW5jdGlvbihldikge1xuICAgICAgICB2YXIgcG9zID0gZXYuZ2V0RG9jdW1lbnRQb3NpdGlvbigpO1xuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZShcInNlbGVjdEJ5TGluZXNcIik7XG4gICAgICAgIHRoaXMuJGNsaWNrU2VsZWN0aW9uID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRMaW5lUmFuZ2UocG9zLnJvdyk7XG4gICAgfTtcblxuICAgIHRoaXMub25RdWFkQ2xpY2sgPSBmdW5jdGlvbihldikge1xuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG5cbiAgICAgICAgZWRpdG9yLnNlbGVjdEFsbCgpO1xuICAgICAgICB0aGlzLiRjbGlja1NlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKFwibnVsbFwiKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbk1vdXNlV2hlZWwgPSBmdW5jdGlvbihldikge1xuICAgICAgICBpZiAoZXYuZ2V0U2hpZnRLZXkoKSB8fCBldi5nZXRBY2NlbEtleSgpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgdCA9IGV2LmRvbUV2ZW50LnRpbWVTdGFtcDtcbiAgICAgICAgdmFyIGR0ID0gdCAtICh0aGlzLiRsYXN0U2Nyb2xsVGltZXx8MCk7XG4gICAgICAgIFxuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgICAgIHZhciBpc1Njcm9sYWJsZSA9IGVkaXRvci5yZW5kZXJlci5pc1Njcm9sbGFibGVCeShldi53aGVlbFggKiBldi5zcGVlZCwgZXYud2hlZWxZICogZXYuc3BlZWQpO1xuICAgICAgICBpZiAoaXNTY3JvbGFibGUgfHwgZHQgPCAyMDApIHtcbiAgICAgICAgICAgIHRoaXMuJGxhc3RTY3JvbGxUaW1lID0gdDtcbiAgICAgICAgICAgIGVkaXRvci5yZW5kZXJlci5zY3JvbGxCeShldi53aGVlbFggKiBldi5zcGVlZCwgZXYud2hlZWxZICogZXYuc3BlZWQpO1xuICAgICAgICAgICAgcmV0dXJuIGV2LnN0b3AoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbn0pLmNhbGwoRGVmYXVsdEhhbmRsZXJzLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuRGVmYXVsdEhhbmRsZXJzID0gRGVmYXVsdEhhbmRsZXJzO1xuXG5mdW5jdGlvbiBjYWxjRGlzdGFuY2UoYXgsIGF5LCBieCwgYnkpIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGJ4IC0gYXgsIDIpICsgTWF0aC5wb3coYnkgLSBheSwgMikpO1xufVxuXG5mdW5jdGlvbiBjYWxjUmFuZ2VPcmllbnRhdGlvbihyYW5nZSwgY3Vyc29yKSB7XG4gICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyA9PSByYW5nZS5lbmQucm93KVxuICAgICAgICB2YXIgY21wID0gMiAqIGN1cnNvci5jb2x1bW4gLSByYW5nZS5zdGFydC5jb2x1bW4gLSByYW5nZS5lbmQuY29sdW1uO1xuICAgIGVsc2UgaWYgKHJhbmdlLnN0YXJ0LnJvdyA9PSByYW5nZS5lbmQucm93IC0gMSAmJiAhcmFuZ2Uuc3RhcnQuY29sdW1uICYmICFyYW5nZS5lbmQuY29sdW1uKVxuICAgICAgICB2YXIgY21wID0gY3Vyc29yLmNvbHVtbiAtIDQ7XG4gICAgZWxzZVxuICAgICAgICB2YXIgY21wID0gMiAqIGN1cnNvci5yb3cgLSByYW5nZS5zdGFydC5yb3cgLSByYW5nZS5lbmQucm93O1xuXG4gICAgaWYgKGNtcCA8IDApXG4gICAgICAgIHJldHVybiB7Y3Vyc29yOiByYW5nZS5zdGFydCwgYW5jaG9yOiByYW5nZS5lbmR9O1xuICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIHtjdXJzb3I6IHJhbmdlLmVuZCwgYW5jaG9yOiByYW5nZS5zdGFydH07XG59XG5cbn0pO1xuXG5hY2UuZGVmaW5lKCdhY2UvbW91c2UvZGVmYXVsdF9ndXR0ZXJfaGFuZGxlcicsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyAsICdhY2UvbGliL2RvbScsICdhY2UvbGliL2V2ZW50J10sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxudmFyIGRvbSA9IGFjZXF1aXJlKFwiLi4vbGliL2RvbVwiKTtcbnZhciBldmVudCA9IGFjZXF1aXJlKFwiLi4vbGliL2V2ZW50XCIpO1xuXG5mdW5jdGlvbiBHdXR0ZXJIYW5kbGVyKG1vdXNlSGFuZGxlcikge1xuICAgIHZhciBlZGl0b3IgPSBtb3VzZUhhbmRsZXIuZWRpdG9yO1xuICAgIHZhciBndXR0ZXIgPSBlZGl0b3IucmVuZGVyZXIuJGd1dHRlckxheWVyO1xuXG4gICAgbW91c2VIYW5kbGVyLmVkaXRvci5zZXREZWZhdWx0SGFuZGxlcihcImd1dHRlcm1vdXNlZG93blwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICghZWRpdG9yLmlzRm9jdXNlZCgpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgZ3V0dGVyUmVnaW9uID0gZ3V0dGVyLmdldFJlZ2lvbihlKTtcblxuICAgICAgICBpZiAoZ3V0dGVyUmVnaW9uID09IFwiZm9sZFdpZGdldHNcIilcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgcm93ID0gZS5nZXREb2N1bWVudFBvc2l0aW9uKCkucm93O1xuICAgICAgICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLnNlc3Npb24uc2VsZWN0aW9uO1xuXG4gICAgICAgIGlmIChlLmdldFNoaWZ0S2V5KCkpXG4gICAgICAgICAgICBzZWxlY3Rpb24uc2VsZWN0VG8ocm93LCAwKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZS5kb21FdmVudC5kZXRhaWwgPT0gMikge1xuICAgICAgICAgICAgICAgIGVkaXRvci5zZWxlY3RBbGwoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbW91c2VIYW5kbGVyLiRjbGlja1NlbGVjdGlvbiA9IGVkaXRvci5zZWxlY3Rpb24uZ2V0TGluZVJhbmdlKHJvdyk7XG4gICAgICAgIH1cbiAgICAgICAgbW91c2VIYW5kbGVyLmNhcHR1cmVNb3VzZShlLCBcInNlbGVjdEJ5TGluZXNcIik7XG4gICAgICAgIHJldHVybiBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cblxuICAgIHZhciB0b29sdGlwVGltZW91dCwgbW91c2VFdmVudCwgdG9vbHRpcCwgdG9vbHRpcEFubm90YXRpb247XG4gICAgZnVuY3Rpb24gY3JlYXRlVG9vbHRpcCgpIHtcbiAgICAgICAgdG9vbHRpcCA9IGRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0b29sdGlwLmNsYXNzTmFtZSA9IFwiYWNlX2d1dHRlci10b29sdGlwXCI7XG4gICAgICAgIHRvb2x0aXAuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICBlZGl0b3IuY29udGFpbmVyLmFwcGVuZENoaWxkKHRvb2x0aXApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNob3dUb29sdGlwKCkge1xuICAgICAgICBpZiAoIXRvb2x0aXApIHtcbiAgICAgICAgICAgIGNyZWF0ZVRvb2x0aXAoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcm93ID0gbW91c2VFdmVudC5nZXREb2N1bWVudFBvc2l0aW9uKCkucm93O1xuICAgICAgICB2YXIgYW5ub3RhdGlvbiA9IGd1dHRlci4kYW5ub3RhdGlvbnNbcm93XTtcbiAgICAgICAgaWYgKCFhbm5vdGF0aW9uKVxuICAgICAgICAgICAgcmV0dXJuIGhpZGVUb29sdGlwKCk7XG5cbiAgICAgICAgdmFyIG1heFJvdyA9IGVkaXRvci5zZXNzaW9uLmdldExlbmd0aCgpO1xuICAgICAgICBpZiAocm93ID09IG1heFJvdykge1xuICAgICAgICAgICAgdmFyIHNjcmVlblJvdyA9IGVkaXRvci5yZW5kZXJlci5waXhlbFRvU2NyZWVuQ29vcmRpbmF0ZXMoMCwgbW91c2VFdmVudC55KS5yb3c7XG4gICAgICAgICAgICB2YXIgcG9zID0gbW91c2VFdmVudC4kcG9zO1xuICAgICAgICAgICAgaWYgKHNjcmVlblJvdyA+IGVkaXRvci5zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Sb3cocG9zLnJvdywgcG9zLmNvbHVtbikpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhpZGVUb29sdGlwKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodG9vbHRpcEFubm90YXRpb24gPT0gYW5ub3RhdGlvbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdG9vbHRpcEFubm90YXRpb24gPSBhbm5vdGF0aW9uLnRleHQuam9pbihcIjxici8+XCIpO1xuXG4gICAgICAgIHRvb2x0aXAuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgdG9vbHRpcC5pbm5lckhUTUwgPSB0b29sdGlwQW5ub3RhdGlvbjtcbiAgICAgICAgZWRpdG9yLm9uKFwibW91c2V3aGVlbFwiLCBoaWRlVG9vbHRpcCk7XG5cbiAgICAgICAgbW92ZVRvb2x0aXAobW91c2VFdmVudCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGlkZVRvb2x0aXAoKSB7XG4gICAgICAgIGlmICh0b29sdGlwVGltZW91dClcbiAgICAgICAgICAgIHRvb2x0aXBUaW1lb3V0ID0gY2xlYXJUaW1lb3V0KHRvb2x0aXBUaW1lb3V0KTtcbiAgICAgICAgaWYgKHRvb2x0aXBBbm5vdGF0aW9uKSB7XG4gICAgICAgICAgICB0b29sdGlwLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIHRvb2x0aXBBbm5vdGF0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIGVkaXRvci5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V3aGVlbFwiLCBoaWRlVG9vbHRpcCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb3ZlVG9vbHRpcChlKSB7XG4gICAgICAgIHZhciByZWN0ID0gZWRpdG9yLnJlbmRlcmVyLiRndXR0ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHRvb2x0aXAuc3R5bGUubGVmdCA9IGUueCArIDE1ICsgXCJweFwiO1xuICAgICAgICBpZiAoZS55ICsgMyAqIGVkaXRvci5yZW5kZXJlci5saW5lSGVpZ2h0ICsgMTUgPCByZWN0LmJvdHRvbSkge1xuICAgICAgICAgICAgdG9vbHRpcC5zdHlsZS5ib3R0b20gPSAgXCJcIjtcbiAgICAgICAgICAgIHRvb2x0aXAuc3R5bGUudG9wID0gIGUueSArIDE1ICsgXCJweFwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG9vbHRpcC5zdHlsZS50b3AgPSAgXCJcIjtcbiAgICAgICAgICAgIHRvb2x0aXAuc3R5bGUuYm90dG9tID0gcmVjdC5ib3R0b20gLSBlLnkgKyA1ICsgXCJweFwiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbW91c2VIYW5kbGVyLmVkaXRvci5zZXREZWZhdWx0SGFuZGxlcihcImd1dHRlcm1vdXNlbW92ZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSBlLmRvbUV2ZW50LnRhcmdldCB8fCBlLmRvbUV2ZW50LnNyY0VsZW1lbnQ7XG4gICAgICAgIGlmIChkb20uaGFzQ3NzQ2xhc3ModGFyZ2V0LCBcImFjZV9mb2xkLXdpZGdldFwiKSlcbiAgICAgICAgICAgIHJldHVybiBoaWRlVG9vbHRpcCgpO1xuXG4gICAgICAgIGlmICh0b29sdGlwQW5ub3RhdGlvbilcbiAgICAgICAgICAgIG1vdmVUb29sdGlwKGUpO1xuXG4gICAgICAgIG1vdXNlRXZlbnQgPSBlO1xuICAgICAgICBpZiAodG9vbHRpcFRpbWVvdXQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRvb2x0aXBUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRvb2x0aXBUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChtb3VzZUV2ZW50ICYmICFtb3VzZUhhbmRsZXIuaXNNb3VzZVByZXNzZWQpXG4gICAgICAgICAgICAgICAgc2hvd1Rvb2x0aXAoKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBoaWRlVG9vbHRpcCgpO1xuICAgICAgICB9LCA1MCk7XG4gICAgfSk7XG5cbiAgICBldmVudC5hZGRMaXN0ZW5lcihlZGl0b3IucmVuZGVyZXIuJGd1dHRlciwgXCJtb3VzZW91dFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIG1vdXNlRXZlbnQgPSBudWxsO1xuICAgICAgICBpZiAoIXRvb2x0aXBBbm5vdGF0aW9uIHx8IHRvb2x0aXBUaW1lb3V0KVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHRvb2x0aXBUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRvb2x0aXBUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgIGhpZGVUb29sdGlwKCk7XG4gICAgICAgIH0sIDUwKTtcbiAgICB9KTtcblxufVxuXG5leHBvcnRzLkd1dHRlckhhbmRsZXIgPSBHdXR0ZXJIYW5kbGVyO1xuXG59KTtcblxuYWNlLmRlZmluZSgnYWNlL21vdXNlL21vdXNlX2V2ZW50JywgW1wicmVxdWlyZVwiLCAnZXhwb3J0cycsICdtb2R1bGUnICwgJ2FjZS9saWIvZXZlbnQnLCAnYWNlL2xpYi91c2VyYWdlbnQnXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5cbnZhciBldmVudCA9IGFjZXF1aXJlKFwiLi4vbGliL2V2ZW50XCIpO1xudmFyIHVzZXJhZ2VudCA9IGFjZXF1aXJlKFwiLi4vbGliL3VzZXJhZ2VudFwiKTtcbnZhciBNb3VzZUV2ZW50ID0gZXhwb3J0cy5Nb3VzZUV2ZW50ID0gZnVuY3Rpb24oZG9tRXZlbnQsIGVkaXRvcikge1xuICAgIHRoaXMuZG9tRXZlbnQgPSBkb21FdmVudDtcbiAgICB0aGlzLmVkaXRvciA9IGVkaXRvcjtcbiAgICBcbiAgICB0aGlzLnggPSB0aGlzLmNsaWVudFggPSBkb21FdmVudC5jbGllbnRYO1xuICAgIHRoaXMueSA9IHRoaXMuY2xpZW50WSA9IGRvbUV2ZW50LmNsaWVudFk7XG5cbiAgICB0aGlzLiRwb3MgPSBudWxsO1xuICAgIHRoaXMuJGluU2VsZWN0aW9uID0gbnVsbDtcbiAgICBcbiAgICB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZCA9IGZhbHNlO1xuICAgIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IGZhbHNlO1xufTtcblxuKGZ1bmN0aW9uKCkgeyAgXG4gICAgXG4gICAgdGhpcy5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKHRoaXMuZG9tRXZlbnQpO1xuICAgICAgICB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KHRoaXMuZG9tRXZlbnQpO1xuICAgICAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5zdG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHRoaXMucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0RG9jdW1lbnRQb3NpdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy4kcG9zKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHBvcztcbiAgICAgICAgXG4gICAgICAgIHRoaXMuJHBvcyA9IHRoaXMuZWRpdG9yLnJlbmRlcmVyLnNjcmVlblRvVGV4dENvb3JkaW5hdGVzKHRoaXMuY2xpZW50WCwgdGhpcy5jbGllbnRZKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHBvcztcbiAgICB9O1xuICAgIHRoaXMuaW5TZWxlY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuJGluU2VsZWN0aW9uICE9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGluU2VsZWN0aW9uO1xuICAgICAgICAgICAgXG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICAgICAgXG4gICAgICAgIGlmIChlZGl0b3IuZ2V0UmVhZE9ubHkoKSkge1xuICAgICAgICAgICAgdGhpcy4kaW5TZWxlY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb25SYW5nZSA9IGVkaXRvci5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGlvblJhbmdlLmlzRW1wdHkoKSlcbiAgICAgICAgICAgICAgICB0aGlzLiRpblNlbGVjdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHBvcyA9IHRoaXMuZ2V0RG9jdW1lbnRQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMuJGluU2VsZWN0aW9uID0gc2VsZWN0aW9uUmFuZ2UuY29udGFpbnMocG9zLnJvdywgcG9zLmNvbHVtbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuJGluU2VsZWN0aW9uO1xuICAgIH07XG4gICAgdGhpcy5nZXRCdXR0b24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50LmdldEJ1dHRvbih0aGlzLmRvbUV2ZW50KTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0U2hpZnRLZXkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9tRXZlbnQuc2hpZnRLZXk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmdldEFjY2VsS2V5ID0gdXNlcmFnZW50LmlzTWFjXG4gICAgICAgID8gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmRvbUV2ZW50Lm1ldGFLZXk7IH1cbiAgICAgICAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuZG9tRXZlbnQuY3RybEtleTsgfTtcbiAgICBcbn0pLmNhbGwoTW91c2VFdmVudC5wcm90b3R5cGUpO1xuXG59KTtcblxuYWNlLmRlZmluZSgnYWNlL21vdXNlL2RyYWdkcm9wJywgW1wicmVxdWlyZVwiLCAnZXhwb3J0cycsICdtb2R1bGUnICwgJ2FjZS9saWIvZXZlbnQnXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5cbnZhciBldmVudCA9IGFjZXF1aXJlKFwiLi4vbGliL2V2ZW50XCIpO1xuXG52YXIgRHJhZ2Ryb3BIYW5kbGVyID0gZnVuY3Rpb24obW91c2VIYW5kbGVyKSB7XG4gICAgdmFyIGVkaXRvciA9IG1vdXNlSGFuZGxlci5lZGl0b3I7XG4gICAgdmFyIGRyYWdTZWxlY3Rpb25NYXJrZXIsIHgsIHk7XG4gICAgdmFyIHRpbWVySWQsIHJhbmdlO1xuICAgIHZhciBkcmFnQ3Vyc29yLCBjb3VudGVyID0gMDtcblxuICAgIHZhciBtb3VzZVRhcmdldCA9IGVkaXRvci5jb250YWluZXI7XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIobW91c2VUYXJnZXQsIFwiZHJhZ2VudGVyXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGVkaXRvci5nZXRSZWFkT25seSgpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgdHlwZXMgPSBlLmRhdGFUcmFuc2Zlci50eXBlcztcbiAgICAgICAgaWYgKHR5cGVzICYmIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwodHlwZXMsIFwidGV4dC9wbGFpblwiKSA9PT0gLTEpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICghZHJhZ1NlbGVjdGlvbk1hcmtlcilcbiAgICAgICAgICAgIGFkZERyYWdNYXJrZXIoKTtcbiAgICAgICAgY291bnRlcisrO1xuICAgICAgICByZXR1cm4gZXZlbnQucHJldmVudERlZmF1bHQoZSk7XG4gICAgfSk7XG5cbiAgICBldmVudC5hZGRMaXN0ZW5lcihtb3VzZVRhcmdldCwgXCJkcmFnb3ZlclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlZGl0b3IuZ2V0UmVhZE9ubHkoKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIHR5cGVzID0gZS5kYXRhVHJhbnNmZXIudHlwZXM7XG4gICAgICAgIGlmICh0eXBlcyAmJiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHR5cGVzLCBcInRleHQvcGxhaW5cIikgPT09IC0xKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAob25Nb3VzZU1vdmVUaW1lciAhPT0gbnVsbClcbiAgICAgICAgICAgIG9uTW91c2VNb3ZlVGltZXIgPSBudWxsO1xuICAgICAgICB4ID0gZS5jbGllbnRYO1xuICAgICAgICB5ID0gZS5jbGllbnRZO1xuICAgICAgICByZXR1cm4gZXZlbnQucHJldmVudERlZmF1bHQoZSk7XG4gICAgfSk7XG5cbiAgICB2YXIgb25EcmFnSW50ZXJ2YWwgPSAgZnVuY3Rpb24oKSB7XG4gICAgICAgIGRyYWdDdXJzb3IgPSBlZGl0b3IucmVuZGVyZXIuc2NyZWVuVG9UZXh0Q29vcmRpbmF0ZXMoeCwgeSk7XG4gICAgICAgIGVkaXRvci5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihkcmFnQ3Vyc29yKTtcbiAgICAgICAgZWRpdG9yLnJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KCk7XG4gICAgfTtcblxuICAgIGV2ZW50LmFkZExpc3RlbmVyKG1vdXNlVGFyZ2V0LCBcImRyYWdsZWF2ZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGNvdW50ZXItLTtcbiAgICAgICAgaWYgKGNvdW50ZXIgPD0gMCAmJiBkcmFnU2VsZWN0aW9uTWFya2VyKSB7XG4gICAgICAgICAgICBjbGVhckRyYWdNYXJrZXIoKTtcbiAgICAgICAgICAgIHJldHVybiBldmVudC5wcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgZXZlbnQuYWRkTGlzdGVuZXIobW91c2VUYXJnZXQsIFwiZHJvcFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICghZHJhZ1NlbGVjdGlvbk1hcmtlcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcmFuZ2UuZW5kID0gZWRpdG9yLnNlc3Npb24uaW5zZXJ0KGRyYWdDdXJzb3IsIGUuZGF0YVRyYW5zZmVyLmdldERhdGEoJ1RleHQnKSk7XG4gICAgICAgIHJhbmdlLnN0YXJ0ID0gZHJhZ0N1cnNvcjtcbiAgICAgICAgY2xlYXJEcmFnTWFya2VyKCk7XG4gICAgICAgIGVkaXRvci5mb2N1cygpO1xuICAgICAgICByZXR1cm4gZXZlbnQucHJldmVudERlZmF1bHQoZSk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBhZGREcmFnTWFya2VyKCkge1xuICAgICAgICByYW5nZSA9IGVkaXRvci5zZWxlY3Rpb24udG9PcmllbnRlZFJhbmdlKCk7XG4gICAgICAgIGRyYWdTZWxlY3Rpb25NYXJrZXIgPSBlZGl0b3Iuc2Vzc2lvbi5hZGRNYXJrZXIocmFuZ2UsIFwiYWNlX3NlbGVjdGlvblwiLCBlZGl0b3IuZ2V0U2VsZWN0aW9uU3R5bGUoKSk7XG4gICAgICAgIGVkaXRvci5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xuICAgICAgICB0aW1lcklkID0gc2V0SW50ZXJ2YWwob25EcmFnSW50ZXJ2YWwsIDIwKTtcbiAgICAgICAgY291bnRlciA9IDA7XG4gICAgICAgIGV2ZW50LmFkZExpc3RlbmVyKGRvY3VtZW50LCBcIm1vdXNlbW92ZVwiLCBvbk1vdXNlTW92ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFyRHJhZ01hcmtlcigpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcbiAgICAgICAgZWRpdG9yLnNlc3Npb24ucmVtb3ZlTWFya2VyKGRyYWdTZWxlY3Rpb25NYXJrZXIpO1xuICAgICAgICBkcmFnU2VsZWN0aW9uTWFya2VyID0gbnVsbDtcbiAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5mcm9tT3JpZW50ZWRSYW5nZShyYW5nZSk7XG4gICAgICAgIGNvdW50ZXIgPSAwO1xuICAgICAgICBldmVudC5yZW1vdmVMaXN0ZW5lcihkb2N1bWVudCwgXCJtb3VzZW1vdmVcIiwgb25Nb3VzZU1vdmUpO1xuICAgIH1cbiAgICB2YXIgb25Nb3VzZU1vdmVUaW1lciA9IG51bGw7XG4gICAgZnVuY3Rpb24gb25Nb3VzZU1vdmUoKSB7XG4gICAgICAgIGlmIChvbk1vdXNlTW92ZVRpbWVyID09IG51bGwpIHtcbiAgICAgICAgICAgIG9uTW91c2VNb3ZlVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmIChvbk1vdXNlTW92ZVRpbWVyICE9IG51bGwgJiYgZHJhZ1NlbGVjdGlvbk1hcmtlcilcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJEcmFnTWFya2VyKCk7XG4gICAgICAgICAgICB9LCAyMCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5leHBvcnRzLkRyYWdkcm9wSGFuZGxlciA9IERyYWdkcm9wSGFuZGxlcjtcbn0pO1xuXG5hY2UuZGVmaW5lKCdhY2UvY29uZmlnJywgW1wicmVxdWlyZVwiLCAnZXhwb3J0cycsICdtb2R1bGUnICwgJ2FjZS9saWIvbGFuZycsICdhY2UvbGliL29vcCcsICdhY2UvbGliL25ldCcsICdhY2UvbGliL2V2ZW50X2VtaXR0ZXInXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJubyB1c2Ugc3RyaWN0XCI7XG5cbnZhciBsYW5nID0gYWNlcXVpcmUoXCIuL2xpYi9sYW5nXCIpO1xudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi9saWIvb29wXCIpO1xudmFyIG5ldCA9IGFjZXF1aXJlKFwiLi9saWIvbmV0XCIpO1xudmFyIEV2ZW50RW1pdHRlciA9IGFjZXF1aXJlKFwiLi9saWIvZXZlbnRfZW1pdHRlclwiKS5FdmVudEVtaXR0ZXI7XG5cbnZhciBnbG9iYWwgPSAoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG59KSgpO1xuXG52YXIgb3B0aW9ucyA9IHtcbiAgICBwYWNrYWdlZDogZmFsc2UsXG4gICAgd29ya2VyUGF0aDogbnVsbCxcbiAgICBtb2RlUGF0aDogbnVsbCxcbiAgICB0aGVtZVBhdGg6IG51bGwsXG4gICAgYmFzZVBhdGg6IFwiXCIsXG4gICAgc3VmZml4OiBcIi5qc1wiLFxuICAgICRtb2R1bGVVcmxzOiB7fVxufTtcblxuZXhwb3J0cy5nZXQgPSBmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIW9wdGlvbnMuaGFzT3duUHJvcGVydHkoa2V5KSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBjb25maWcga2V5OiBcIiArIGtleSk7XG5cbiAgICByZXR1cm4gb3B0aW9uc1trZXldO1xufTtcblxuZXhwb3J0cy5zZXQgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgaWYgKCFvcHRpb25zLmhhc093blByb3BlcnR5KGtleSkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gY29uZmlnIGtleTogXCIgKyBrZXkpO1xuXG4gICAgb3B0aW9uc1trZXldID0gdmFsdWU7XG59O1xuXG5leHBvcnRzLmFsbCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBsYW5nLmNvcHlPYmplY3Qob3B0aW9ucyk7XG59O1xub29wLmltcGxlbWVudChleHBvcnRzLCBFdmVudEVtaXR0ZXIpO1xuXG5leHBvcnRzLm1vZHVsZVVybCA9IGZ1bmN0aW9uKG5hbWUsIGNvbXBvbmVudCkge1xuICAgIGlmIChvcHRpb25zLiRtb2R1bGVVcmxzW25hbWVdKVxuICAgICAgICByZXR1cm4gb3B0aW9ucy4kbW9kdWxlVXJsc1tuYW1lXTtcblxuICAgIHZhciBwYXJ0cyA9IG5hbWUuc3BsaXQoXCIvXCIpO1xuICAgIGNvbXBvbmVudCA9IGNvbXBvbmVudCB8fCBwYXJ0c1twYXJ0cy5sZW5ndGggLSAyXSB8fCBcIlwiO1xuICAgIHZhciBiYXNlID0gcGFydHNbcGFydHMubGVuZ3RoIC0gMV0ucmVwbGFjZShjb21wb25lbnQsIFwiXCIpLnJlcGxhY2UoLyheW1xcLV9dKXwoW1xcLV9dJCkvLCBcIlwiKTtcblxuICAgIGlmICghYmFzZSAmJiBwYXJ0cy5sZW5ndGggPiAxKVxuICAgICAgICBiYXNlID0gcGFydHNbcGFydHMubGVuZ3RoIC0gMl07XG4gICAgdmFyIHBhdGggPSBvcHRpb25zW2NvbXBvbmVudCArIFwiUGF0aFwiXTtcbiAgICBpZiAocGF0aCA9PSBudWxsKVxuICAgICAgICBwYXRoID0gb3B0aW9ucy5iYXNlUGF0aDtcbiAgICBpZiAocGF0aCAmJiBwYXRoLnNsaWNlKC0xKSAhPSBcIi9cIilcbiAgICAgICAgcGF0aCArPSBcIi9cIjtcbiAgICByZXR1cm4gcGF0aCArIGNvbXBvbmVudCArIFwiLVwiICsgYmFzZSArIHRoaXMuZ2V0KFwic3VmZml4XCIpO1xufTtcblxuZXhwb3J0cy5zZXRNb2R1bGVVcmwgPSBmdW5jdGlvbihuYW1lLCBzdWJzdCkge1xuICAgIHJldHVybiBvcHRpb25zLiRtb2R1bGVVcmxzW25hbWVdID0gc3Vic3Q7XG59O1xuXG5leHBvcnRzLiRsb2FkaW5nID0ge307XG5leHBvcnRzLmxvYWRNb2R1bGUgPSBmdW5jdGlvbihtb2R1bGVOYW1lLCBvbkxvYWQpIHtcbiAgICB2YXIgbW9kdWxlLCBtb2R1bGVUeXBlO1xuICAgIGlmIChBcnJheS5pc0FycmF5KG1vZHVsZU5hbWUpKSB7XG4gICAgICAgIG1vZHVsZVR5cGUgPSBtb2R1bGVOYW1lWzBdO1xuICAgICAgICBtb2R1bGVOYW1lID0gbW9kdWxlTmFtZVsxXTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBtb2R1bGUgPSBhY2VxdWlyZShtb2R1bGVOYW1lKTtcbiAgICB9IGNhdGNoIChlKSB7fTtcbiAgICBpZiAobW9kdWxlICYmICFleHBvcnRzLiRsb2FkaW5nW21vZHVsZU5hbWVdKVxuICAgICAgICByZXR1cm4gb25Mb2FkICYmIG9uTG9hZChtb2R1bGUpO1xuXG4gICAgaWYgKCFleHBvcnRzLiRsb2FkaW5nW21vZHVsZU5hbWVdKVxuICAgICAgICBleHBvcnRzLiRsb2FkaW5nW21vZHVsZU5hbWVdID0gW107XG5cbiAgICBleHBvcnRzLiRsb2FkaW5nW21vZHVsZU5hbWVdLnB1c2gob25Mb2FkKTtcblxuICAgIGlmIChleHBvcnRzLiRsb2FkaW5nW21vZHVsZU5hbWVdLmxlbmd0aCA+IDEpXG4gICAgICAgIHJldHVybjtcblxuICAgIHZhciBhZnRlckxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgYWNlcXVpcmUoW21vZHVsZU5hbWVdLCBmdW5jdGlvbihtb2R1bGUpIHtcbiAgICAgICAgICAgIGV4cG9ydHMuX2VtaXQoXCJsb2FkLm1vZHVsZVwiLCB7bmFtZTogbW9kdWxlTmFtZSwgbW9kdWxlOiBtb2R1bGV9KTtcbiAgICAgICAgICAgIHZhciBsaXN0ZW5lcnMgPSBleHBvcnRzLiRsb2FkaW5nW21vZHVsZU5hbWVdO1xuICAgICAgICAgICAgZXhwb3J0cy4kbG9hZGluZ1ttb2R1bGVOYW1lXSA9IG51bGw7XG4gICAgICAgICAgICBsaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihvbkxvYWQpIHtcbiAgICAgICAgICAgICAgICBvbkxvYWQgJiYgb25Mb2FkKG1vZHVsZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGlmICghZXhwb3J0cy5nZXQoXCJwYWNrYWdlZFwiKSlcbiAgICAgICAgcmV0dXJuIGFmdGVyTG9hZCgpO1xuICAgIG5ldC5sb2FkU2NyaXB0KGV4cG9ydHMubW9kdWxlVXJsKG1vZHVsZU5hbWUsIG1vZHVsZVR5cGUpLCBhZnRlckxvYWQpO1xufTtcbmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIG9wdGlvbnMucGFja2FnZWQgPSBhY2VxdWlyZS5wYWNrYWdlZCB8fCBtb2R1bGUucGFja2FnZWQgfHwgKGdsb2JhbC5kZWZpbmUgJiYgZGVmaW5lLnBhY2thZ2VkKTtcblxuICAgIGlmICghZ2xvYmFsLmRvY3VtZW50KVxuICAgICAgICByZXR1cm4gXCJcIjtcblxuICAgIHZhciBzY3JpcHRPcHRpb25zID0ge307XG4gICAgdmFyIHNjcmlwdFVybCA9IFwiXCI7XG5cbiAgICB2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuICAgIGZvciAodmFyIGk9MDsgaTxzY3JpcHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzY3JpcHQgPSBzY3JpcHRzW2ldO1xuXG4gICAgICAgIHZhciBzcmMgPSBzY3JpcHQuc3JjIHx8IHNjcmlwdC5nZXRBdHRyaWJ1dGUoXCJzcmNcIik7XG4gICAgICAgIGlmICghc3JjKVxuICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBzY3JpcHQuYXR0cmlidXRlcztcbiAgICAgICAgZm9yICh2YXIgaj0wLCBsPWF0dHJpYnV0ZXMubGVuZ3RoOyBqIDwgbDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgYXR0ciA9IGF0dHJpYnV0ZXNbal07XG4gICAgICAgICAgICBpZiAoYXR0ci5uYW1lLmluZGV4T2YoXCJkYXRhLWFjZS1cIikgPT09IDApIHtcbiAgICAgICAgICAgICAgICBzY3JpcHRPcHRpb25zW2RlSHlwaGVuYXRlKGF0dHIubmFtZS5yZXBsYWNlKC9eZGF0YS1hY2UtLywgXCJcIikpXSA9IGF0dHIudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbSA9IHNyYy5tYXRjaCgvXiguKilcXC9hY2UoXFwtXFx3Kyk/XFwuanMoXFw/fCQpLyk7XG4gICAgICAgIGlmIChtKVxuICAgICAgICAgICAgc2NyaXB0VXJsID0gbVsxXTtcbiAgICB9XG5cbiAgICBpZiAoc2NyaXB0VXJsKSB7XG4gICAgICAgIHNjcmlwdE9wdGlvbnMuYmFzZSA9IHNjcmlwdE9wdGlvbnMuYmFzZSB8fCBzY3JpcHRVcmw7XG4gICAgICAgIHNjcmlwdE9wdGlvbnMucGFja2FnZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHNjcmlwdE9wdGlvbnMuYmFzZVBhdGggPSBzY3JpcHRPcHRpb25zLmJhc2U7XG4gICAgc2NyaXB0T3B0aW9ucy53b3JrZXJQYXRoID0gc2NyaXB0T3B0aW9ucy53b3JrZXJQYXRoIHx8IHNjcmlwdE9wdGlvbnMuYmFzZTtcbiAgICBzY3JpcHRPcHRpb25zLm1vZGVQYXRoID0gc2NyaXB0T3B0aW9ucy5tb2RlUGF0aCB8fCBzY3JpcHRPcHRpb25zLmJhc2U7XG4gICAgc2NyaXB0T3B0aW9ucy50aGVtZVBhdGggPSBzY3JpcHRPcHRpb25zLnRoZW1lUGF0aCB8fCBzY3JpcHRPcHRpb25zLmJhc2U7XG4gICAgZGVsZXRlIHNjcmlwdE9wdGlvbnMuYmFzZTtcblxuICAgIGZvciAodmFyIGtleSBpbiBzY3JpcHRPcHRpb25zKVxuICAgICAgICBpZiAodHlwZW9mIHNjcmlwdE9wdGlvbnNba2V5XSAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICAgIGV4cG9ydHMuc2V0KGtleSwgc2NyaXB0T3B0aW9uc1trZXldKTtcbn07XG5cbmZ1bmN0aW9uIGRlSHlwaGVuYXRlKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvLSguKS9nLCBmdW5jdGlvbihtLCBtMSkgeyByZXR1cm4gbTEudG9VcHBlckNhc2UoKTsgfSk7XG59XG5cbnZhciBvcHRpb25zUHJvdmlkZXIgPSB7XG4gICAgc2V0T3B0aW9uczogZnVuY3Rpb24ob3B0TGlzdCkge1xuICAgICAgICBPYmplY3Qua2V5cyhvcHRMaXN0KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgdGhpcy5zZXRPcHRpb24oa2V5LCBvcHRMaXN0W2tleV0pO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9LFxuICAgIGdldE9wdGlvbnM6IGZ1bmN0aW9uKG9wdGlvbk5hbWVzKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgICAgaWYgKCFvcHRpb25OYW1lcykge1xuICAgICAgICAgICAgb3B0aW9uTmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLiRvcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheShvcHRpb25OYW1lcykpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG9wdGlvbk5hbWVzO1xuICAgICAgICAgICAgb3B0aW9uTmFtZXMgPSBPYmplY3Qua2V5cyhyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbk5hbWVzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICByZXN1bHRba2V5XSA9IHRoaXMuZ2V0T3B0aW9uKGtleSk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG4gICAgc2V0T3B0aW9uOiBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAodGhpc1tcIiRcIiArIG5hbWVdID09PSB2YWx1ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIG9wdCA9IHRoaXMuJG9wdGlvbnNbbmFtZV07XG4gICAgICAgIGlmICghb3B0KVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKG9wdC5mb3J3YXJkVG8pXG4gICAgICAgICAgICByZXR1cm4gdGhpc1tvcHQuZm9yd2FyZFRvXSAmJiB0aGlzW29wdC5mb3J3YXJkVG9dLnNldE9wdGlvbihuYW1lLCB2YWx1ZSk7XG5cbiAgICAgICAgaWYgKCFvcHQuaGFuZGxlc1NldClcbiAgICAgICAgICAgIHRoaXNbXCIkXCIgKyBuYW1lXSA9IHZhbHVlO1xuICAgICAgICBpZiAob3B0ICYmIG9wdC5zZXQpXG4gICAgICAgICAgICBvcHQuc2V0LmNhbGwodGhpcywgdmFsdWUpO1xuICAgIH0sXG4gICAgZ2V0T3B0aW9uOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIHZhciBvcHQgPSB0aGlzLiRvcHRpb25zW25hbWVdO1xuICAgICAgICBpZiAoIW9wdClcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChvcHQuZm9yd2FyZFRvKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXNbb3B0LmZvcndhcmRUb10gJiYgdGhpc1tvcHQuZm9yd2FyZFRvXS5nZXRPcHRpb24obmFtZSk7XG4gICAgICAgIHJldHVybiBvcHQgJiYgb3B0LmdldCA/IG9wdC5nZXQuY2FsbCh0aGlzKSA6IHRoaXNbXCIkXCIgKyBuYW1lXTtcbiAgICB9XG59O1xuXG52YXIgZGVmYXVsdE9wdGlvbnMgPSB7fTtcbmV4cG9ydHMuZGVmaW5lT3B0aW9ucyA9IGZ1bmN0aW9uKG9iaiwgcGF0aCwgb3B0aW9ucykge1xuICAgIGlmICghb2JqLiRvcHRpb25zKVxuICAgICAgICBkZWZhdWx0T3B0aW9uc1twYXRoXSA9IG9iai4kb3B0aW9ucyA9IHt9O1xuXG4gICAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgdmFyIG9wdCA9IG9wdGlvbnNba2V5XTtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHQgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIG9wdCA9IHtmb3J3YXJkVG86IG9wdH07XG5cbiAgICAgICAgb3B0Lm5hbWUgfHwgKG9wdC5uYW1lID0ga2V5KTtcbiAgICAgICAgb2JqLiRvcHRpb25zW29wdC5uYW1lXSA9IG9wdDtcbiAgICAgICAgaWYgKFwiaW5pdGlhbFZhbHVlXCIgaW4gb3B0KVxuICAgICAgICAgICAgb2JqW1wiJFwiICsgb3B0Lm5hbWVdID0gb3B0LmluaXRpYWxWYWx1ZTtcbiAgICB9KTtcbiAgICBvb3AuaW1wbGVtZW50KG9iaiwgb3B0aW9uc1Byb3ZpZGVyKTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuZXhwb3J0cy5yZXNldE9wdGlvbnMgPSBmdW5jdGlvbihvYmopIHtcbiAgICBPYmplY3Qua2V5cyhvYmouJG9wdGlvbnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHZhciBvcHQgPSBvYmouJG9wdGlvbnNba2V5XTtcbiAgICAgICAgaWYgKFwidmFsdWVcIiBpbiBvcHQpXG4gICAgICAgICAgICBvYmouc2V0T3B0aW9uKGtleSwgb3B0LnZhbHVlKTtcbiAgICB9KTtcbn07XG5cbmV4cG9ydHMuc2V0RGVmYXVsdFZhbHVlID0gZnVuY3Rpb24ocGF0aCwgbmFtZSwgdmFsdWUpIHtcbiAgICB2YXIgb3B0cyA9IGRlZmF1bHRPcHRpb25zW3BhdGhdIHx8IChkZWZhdWx0T3B0aW9uc1twYXRoXSA9IHt9KTtcbiAgICBpZiAob3B0c1tuYW1lXSkge1xuICAgICAgICBpZiAob3B0cy5mb3J3YXJkVG8pXG4gICAgICAgICAgICBleHBvcnRzLnNldERlZmF1bHRWYWx1ZShvcHRzLmZvcndhcmRUbywgbmFtZSwgdmFsdWUpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIG9wdHNbbmFtZV0udmFsdWUgPSB2YWx1ZTtcbiAgICB9XG59O1xuXG5leHBvcnRzLnNldERlZmF1bHRWYWx1ZXMgPSBmdW5jdGlvbihwYXRoLCBvcHRpb25IYXNoKSB7XG4gICAgT2JqZWN0LmtleXMob3B0aW9uSGFzaCkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgZXhwb3J0cy5zZXREZWZhdWx0VmFsdWUocGF0aCwga2V5LCBvcHRpb25IYXNoW2tleV0pO1xuICAgIH0pO1xufTtcblxufSk7XG5hY2UuZGVmaW5lKCdhY2UvbGliL25ldCcsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyAsICdhY2UvbGliL2RvbSddLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cbnZhciBkb20gPSBhY2VxdWlyZShcIi4vZG9tXCIpO1xuXG5leHBvcnRzLmdldCA9IGZ1bmN0aW9uICh1cmwsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHhoci5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xuICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgICAgY2FsbGJhY2soeGhyLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHhoci5zZW5kKG51bGwpO1xufTtcblxuZXhwb3J0cy5sb2FkU2NyaXB0ID0gZnVuY3Rpb24ocGF0aCwgY2FsbGJhY2spIHtcbiAgICB2YXIgaGVhZCA9IGRvbS5nZXREb2N1bWVudEhlYWQoKTtcbiAgICB2YXIgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXG4gICAgcy5zcmMgPSBwYXRoO1xuICAgIGhlYWQuYXBwZW5kQ2hpbGQocyk7XG5cbiAgICBzLm9ubG9hZCA9IHMub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oXywgaXNBYm9ydCkge1xuICAgICAgICBpZiAoaXNBYm9ydCB8fCAhcy5yZWFkeVN0YXRlIHx8IHMucmVhZHlTdGF0ZSA9PSBcImxvYWRlZFwiIHx8IHMucmVhZHlTdGF0ZSA9PSBcImNvbXBsZXRlXCIpIHtcbiAgICAgICAgICAgIHMgPSBzLm9ubG9hZCA9IHMub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgIGlmICghaXNBYm9ydClcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5cbn0pO1xuXG5hY2UuZGVmaW5lKCdhY2UvbGliL2V2ZW50X2VtaXR0ZXInLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5cbnZhciBFdmVudEVtaXR0ZXIgPSB7fTtcbnZhciBzdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbigpIHsgdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlOyB9O1xudmFyIHByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oKSB7IHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7IH07XG5cbkV2ZW50RW1pdHRlci5fZW1pdCA9XG5FdmVudEVtaXR0ZXIuX2Rpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbihldmVudE5hbWUsIGUpIHtcbiAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8ICh0aGlzLl9ldmVudFJlZ2lzdHJ5ID0ge30pO1xuICAgIHRoaXMuX2RlZmF1bHRIYW5kbGVycyB8fCAodGhpcy5fZGVmYXVsdEhhbmRsZXJzID0ge30pO1xuXG4gICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXSB8fCBbXTtcbiAgICB2YXIgZGVmYXVsdEhhbmRsZXIgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnNbZXZlbnROYW1lXTtcbiAgICBpZiAoIWxpc3RlbmVycy5sZW5ndGggJiYgIWRlZmF1bHRIYW5kbGVyKVxuICAgICAgICByZXR1cm47XG5cbiAgICBpZiAodHlwZW9mIGUgIT0gXCJvYmplY3RcIiB8fCAhZSlcbiAgICAgICAgZSA9IHt9O1xuXG4gICAgaWYgKCFlLnR5cGUpXG4gICAgICAgIGUudHlwZSA9IGV2ZW50TmFtZTtcbiAgICBpZiAoIWUuc3RvcFByb3BhZ2F0aW9uKVxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbiA9IHN0b3BQcm9wYWdhdGlvbjtcbiAgICBpZiAoIWUucHJldmVudERlZmF1bHQpXG4gICAgICAgIGUucHJldmVudERlZmF1bHQgPSBwcmV2ZW50RGVmYXVsdDtcblxuICAgIGZvciAodmFyIGk9MDsgaTxsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGlzdGVuZXJzW2ldKGUsIHRoaXMpO1xuICAgICAgICBpZiAoZS5wcm9wYWdhdGlvblN0b3BwZWQpXG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgXG4gICAgaWYgKGRlZmF1bHRIYW5kbGVyICYmICFlLmRlZmF1bHRQcmV2ZW50ZWQpXG4gICAgICAgIHJldHVybiBkZWZhdWx0SGFuZGxlcihlLCB0aGlzKTtcbn07XG5cblxuRXZlbnRFbWl0dGVyLl9zaWduYWwgPSBmdW5jdGlvbihldmVudE5hbWUsIGUpIHtcbiAgICB2YXIgbGlzdGVuZXJzID0gKHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge30pW2V2ZW50TmFtZV07XG4gICAgaWYgKCFsaXN0ZW5lcnMpXG4gICAgICAgIHJldHVybjtcblxuICAgIGZvciAodmFyIGk9MDsgaTxsaXN0ZW5lcnMubGVuZ3RoOyBpKyspXG4gICAgICAgIGxpc3RlbmVyc1tpXShlLCB0aGlzKTtcbn07XG5cbkV2ZW50RW1pdHRlci5vbmNlID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgIHZhciBfc2VsZiA9IHRoaXM7XG4gICAgY2FsbGJhY2sgJiYgdGhpcy5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuY3Rpb24gbmV3Q2FsbGJhY2soKSB7XG4gICAgICAgIF9zZWxmLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBuZXdDYWxsYmFjayk7XG4gICAgICAgIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfSk7XG59O1xuXG5cbkV2ZW50RW1pdHRlci5zZXREZWZhdWx0SGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnNcbiAgICBpZiAoIWhhbmRsZXJzKVxuICAgICAgICBoYW5kbGVycyA9IHRoaXMuX2RlZmF1bHRIYW5kbGVycyA9IHtfZGlzYWJsZWRfOiB7fX07XG4gICAgXG4gICAgaWYgKGhhbmRsZXJzW2V2ZW50TmFtZV0pIHtcbiAgICAgICAgdmFyIG9sZCA9IGhhbmRsZXJzW2V2ZW50TmFtZV07XG4gICAgICAgIHZhciBkaXNhYmxlZCA9IGhhbmRsZXJzLl9kaXNhYmxlZF9bZXZlbnROYW1lXTtcbiAgICAgICAgaWYgKCFkaXNhYmxlZClcbiAgICAgICAgICAgIGhhbmRsZXJzLl9kaXNhYmxlZF9bZXZlbnROYW1lXSA9IGRpc2FibGVkID0gW107XG4gICAgICAgIGRpc2FibGVkLnB1c2gob2xkKTtcbiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTtcbiAgICAgICAgaWYgKGkgIT0gLTEpIFxuICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpO1xuICAgIH1cbiAgICBoYW5kbGVyc1tldmVudE5hbWVdID0gY2FsbGJhY2s7XG59O1xuRXZlbnRFbWl0dGVyLnJlbW92ZURlZmF1bHRIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgIHZhciBoYW5kbGVycyA9IHRoaXMuX2RlZmF1bHRIYW5kbGVyc1xuICAgIGlmICghaGFuZGxlcnMpXG4gICAgICAgIHJldHVybjtcbiAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07XG4gICAgXG4gICAgaWYgKGhhbmRsZXJzW2V2ZW50TmFtZV0gPT0gY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIG9sZCA9IGhhbmRsZXJzW2V2ZW50TmFtZV07XG4gICAgICAgIGlmIChkaXNhYmxlZClcbiAgICAgICAgICAgIHRoaXMuc2V0RGVmYXVsdEhhbmRsZXIoZXZlbnROYW1lLCBkaXNhYmxlZC5wb3AoKSk7XG4gICAgfSBlbHNlIGlmIChkaXNhYmxlZCkge1xuICAgICAgICB2YXIgaSA9IGRpc2FibGVkLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICBpZiAoaSAhPSAtMSlcbiAgICAgICAgICAgIGRpc2FibGVkLnNwbGljZShpLCAxKTtcbiAgICB9XG59O1xuXG5FdmVudEVtaXR0ZXIub24gPVxuRXZlbnRFbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrLCBjYXB0dXJpbmcpIHtcbiAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5ID0gdGhpcy5fZXZlbnRSZWdpc3RyeSB8fCB7fTtcblxuICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV07XG4gICAgaWYgKCFsaXN0ZW5lcnMpXG4gICAgICAgIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXSA9IFtdO1xuXG4gICAgaWYgKGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKSA9PSAtMSlcbiAgICAgICAgbGlzdGVuZXJzW2NhcHR1cmluZyA/IFwidW5zaGlmdFwiIDogXCJwdXNoXCJdKGNhbGxiYWNrKTtcbiAgICByZXR1cm4gY2FsbGJhY2s7XG59O1xuXG5FdmVudEVtaXR0ZXIub2ZmID1cbkV2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lciA9XG5FdmVudEVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5ID0gdGhpcy5fZXZlbnRSZWdpc3RyeSB8fCB7fTtcblxuICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV07XG4gICAgaWYgKCFsaXN0ZW5lcnMpXG4gICAgICAgIHJldHVybjtcblxuICAgIHZhciBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTtcbiAgICBpZiAoaW5kZXggIT09IC0xKVxuICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbn07XG5cbkV2ZW50RW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudE5hbWUpIHtcbiAgICBpZiAodGhpcy5fZXZlbnRSZWdpc3RyeSkgdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdID0gW107XG59O1xuXG5leHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxufSk7XG5cbmFjZS5kZWZpbmUoJ2FjZS9tb3VzZS9mb2xkX2hhbmRsZXInLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5cbmZ1bmN0aW9uIEZvbGRIYW5kbGVyKGVkaXRvcikge1xuXG4gICAgZWRpdG9yLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgcG9zaXRpb24gPSBlLmdldERvY3VtZW50UG9zaXRpb24oKTtcbiAgICAgICAgdmFyIHNlc3Npb24gPSBlZGl0b3Iuc2Vzc2lvbjtcbiAgICAgICAgdmFyIGZvbGQgPSBzZXNzaW9uLmdldEZvbGRBdChwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbiwgMSk7XG4gICAgICAgIGlmIChmb2xkKSB7XG4gICAgICAgICAgICBpZiAoZS5nZXRBY2NlbEtleSgpKVxuICAgICAgICAgICAgICAgIHNlc3Npb24ucmVtb3ZlRm9sZChmb2xkKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBzZXNzaW9uLmV4cGFuZEZvbGQoZm9sZCk7XG5cbiAgICAgICAgICAgIGUuc3RvcCgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBlZGl0b3Iub24oXCJndXR0ZXJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBndXR0ZXJSZWdpb24gPSBlZGl0b3IucmVuZGVyZXIuJGd1dHRlckxheWVyLmdldFJlZ2lvbihlKTtcblxuICAgICAgICBpZiAoZ3V0dGVyUmVnaW9uID09IFwiZm9sZFdpZGdldHNcIikge1xuICAgICAgICAgICAgdmFyIHJvdyA9IGUuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLnJvdztcbiAgICAgICAgICAgIHZhciBzZXNzaW9uID0gZWRpdG9yLnNlc3Npb247XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbi5mb2xkV2lkZ2V0cyAmJiBzZXNzaW9uLmZvbGRXaWRnZXRzW3Jvd10pXG4gICAgICAgICAgICAgICAgZWRpdG9yLnNlc3Npb24ub25Gb2xkV2lkZ2V0Q2xpY2socm93LCBlKTtcbiAgICAgICAgICAgIGlmICghZWRpdG9yLmlzRm9jdXNlZCgpKVxuICAgICAgICAgICAgICAgIGVkaXRvci5mb2N1cygpO1xuICAgICAgICAgICAgZS5zdG9wKCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGVkaXRvci5vbihcImd1dHRlcmRibGNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIGd1dHRlclJlZ2lvbiA9IGVkaXRvci5yZW5kZXJlci4kZ3V0dGVyTGF5ZXIuZ2V0UmVnaW9uKGUpO1xuXG4gICAgICAgIGlmIChndXR0ZXJSZWdpb24gPT0gXCJmb2xkV2lkZ2V0c1wiKSB7XG4gICAgICAgICAgICB2YXIgcm93ID0gZS5nZXREb2N1bWVudFBvc2l0aW9uKCkucm93O1xuICAgICAgICAgICAgdmFyIHNlc3Npb24gPSBlZGl0b3Iuc2Vzc2lvbjtcbiAgICAgICAgICAgIHZhciBkYXRhID0gc2Vzc2lvbi5nZXRQYXJlbnRGb2xkUmFuZ2VEYXRhKHJvdywgdHJ1ZSk7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBkYXRhLnJhbmdlIHx8IGRhdGEuZmlyc3RSYW5nZTtcblxuICAgICAgICAgICAgaWYgKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJvdyA9IHJhbmdlLnN0YXJ0LnJvdztcbiAgICAgICAgICAgICAgICB2YXIgZm9sZCA9IHNlc3Npb24uZ2V0Rm9sZEF0KHJvdywgc2Vzc2lvbi5nZXRMaW5lKHJvdykubGVuZ3RoLCAxKTtcblxuICAgICAgICAgICAgICAgIGlmIChmb2xkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb24ucmVtb3ZlRm9sZChmb2xkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmFkZEZvbGQoXCIuLi5cIiwgcmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICBlZGl0b3IucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcoe3JvdzogcmFuZ2Uuc3RhcnQucm93LCBjb2x1bW46IDB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlLnN0b3AoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5leHBvcnRzLkZvbGRIYW5kbGVyID0gRm9sZEhhbmRsZXI7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKCdhY2Uva2V5Ym9hcmQva2V5YmluZGluZycsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyAsICdhY2UvbGliL2tleXMnLCAnYWNlL2xpYi9ldmVudCddLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cblxudmFyIGtleVV0aWwgID0gYWNlcXVpcmUoXCIuLi9saWIva2V5c1wiKTtcbnZhciBldmVudCA9IGFjZXF1aXJlKFwiLi4vbGliL2V2ZW50XCIpO1xuXG52YXIgS2V5QmluZGluZyA9IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgIHRoaXMuJGVkaXRvciA9IGVkaXRvcjtcbiAgICB0aGlzLiRkYXRhID0geyB9O1xuICAgIHRoaXMuJGhhbmRsZXJzID0gW107XG4gICAgdGhpcy5zZXREZWZhdWx0SGFuZGxlcihlZGl0b3IuY29tbWFuZHMpO1xufTtcblxuKGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc2V0RGVmYXVsdEhhbmRsZXIgPSBmdW5jdGlvbihrYikge1xuICAgICAgICB0aGlzLnJlbW92ZUtleWJvYXJkSGFuZGxlcih0aGlzLiRkZWZhdWx0SGFuZGxlcik7XG4gICAgICAgIHRoaXMuJGRlZmF1bHRIYW5kbGVyID0ga2I7XG4gICAgICAgIHRoaXMuYWRkS2V5Ym9hcmRIYW5kbGVyKGtiLCAwKTtcbiAgICAgICAgdGhpcy4kZGF0YSA9IHtlZGl0b3I6IHRoaXMuJGVkaXRvcn07XG4gICAgfTtcblxuICAgIHRoaXMuc2V0S2V5Ym9hcmRIYW5kbGVyID0gZnVuY3Rpb24oa2IpIHtcbiAgICAgICAgdmFyIGggPSB0aGlzLiRoYW5kbGVycztcbiAgICAgICAgaWYgKGhbaC5sZW5ndGggLSAxXSA9PSBrYilcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB3aGlsZSAoaFtoLmxlbmd0aCAtIDFdICYmIGhbaC5sZW5ndGggLSAxXSAhPSB0aGlzLiRkZWZhdWx0SGFuZGxlcilcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlS2V5Ym9hcmRIYW5kbGVyKGhbaC5sZW5ndGggLSAxXSk7XG5cbiAgICAgICAgdGhpcy5hZGRLZXlib2FyZEhhbmRsZXIoa2IsIDEpO1xuICAgIH07XG5cbiAgICB0aGlzLmFkZEtleWJvYXJkSGFuZGxlciA9IGZ1bmN0aW9uKGtiLCBwb3MpIHtcbiAgICAgICAgaWYgKCFrYilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIGkgPSB0aGlzLiRoYW5kbGVycy5pbmRleE9mKGtiKTtcbiAgICAgICAgaWYgKGkgIT0gLTEpXG4gICAgICAgICAgICB0aGlzLiRoYW5kbGVycy5zcGxpY2UoaSwgMSk7XG5cbiAgICAgICAgaWYgKHBvcyA9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aGlzLiRoYW5kbGVycy5wdXNoKGtiKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy4kaGFuZGxlcnMuc3BsaWNlKHBvcywgMCwga2IpO1xuXG4gICAgICAgIGlmIChpID09IC0xICYmIGtiLmF0dGFjaClcbiAgICAgICAgICAgIGtiLmF0dGFjaCh0aGlzLiRlZGl0b3IpO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbW92ZUtleWJvYXJkSGFuZGxlciA9IGZ1bmN0aW9uKGtiKSB7XG4gICAgICAgIHZhciBpID0gdGhpcy4kaGFuZGxlcnMuaW5kZXhPZihrYik7XG4gICAgICAgIGlmIChpID09IC0xKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLiRoYW5kbGVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGtiLmRldGFjaCAmJiBrYi5kZXRhY2godGhpcy4kZWRpdG9yKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0S2V5Ym9hcmRIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRoYW5kbGVyc1t0aGlzLiRoYW5kbGVycy5sZW5ndGggLSAxXTtcbiAgICB9O1xuXG4gICAgdGhpcy4kY2FsbEtleWJvYXJkSGFuZGxlcnMgPSBmdW5jdGlvbiAoaGFzaElkLCBrZXlTdHJpbmcsIGtleUNvZGUsIGUpIHtcbiAgICAgICAgdmFyIHRvRXhlY3V0ZTtcbiAgICAgICAgdmFyIHN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgdmFyIGNvbW1hbmRzID0gdGhpcy4kZWRpdG9yLmNvbW1hbmRzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLiRoYW5kbGVycy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgICAgIHRvRXhlY3V0ZSA9IHRoaXMuJGhhbmRsZXJzW2ldLmhhbmRsZUtleWJvYXJkKFxuICAgICAgICAgICAgICAgIHRoaXMuJGRhdGEsIGhhc2hJZCwga2V5U3RyaW5nLCBrZXlDb2RlLCBlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKCF0b0V4ZWN1dGUgfHwgIXRvRXhlY3V0ZS5jb21tYW5kKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKHRvRXhlY3V0ZS5jb21tYW5kID09IFwibnVsbFwiKSB7XG4gICAgICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSBjb21tYW5kcy5leGVjKHRvRXhlY3V0ZS5jb21tYW5kLCB0aGlzLiRlZGl0b3IsIHRvRXhlY3V0ZS5hcmdzLCBlKTsgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3VjY2VzcyAmJiBlICYmIGhhc2hJZCAhPSAtMSAmJiB0b0V4ZWN1dGUucGFzc0V2ZW50ICE9IHRydWUpXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcEV2ZW50KGUpO1xuICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XG4gICAgfTtcblxuICAgIHRoaXMub25Db21tYW5kS2V5ID0gZnVuY3Rpb24oZSwgaGFzaElkLCBrZXlDb2RlKSB7XG4gICAgICAgIHZhciBrZXlTdHJpbmcgPSBrZXlVdGlsLmtleUNvZGVUb1N0cmluZyhrZXlDb2RlKTtcbiAgICAgICAgdGhpcy4kY2FsbEtleWJvYXJkSGFuZGxlcnMoaGFzaElkLCBrZXlTdHJpbmcsIGtleUNvZGUsIGUpO1xuICAgIH07XG5cbiAgICB0aGlzLm9uVGV4dElucHV0ID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgICB2YXIgc3VjY2VzcyA9IHRoaXMuJGNhbGxLZXlib2FyZEhhbmRsZXJzKC0xLCB0ZXh0KTtcbiAgICAgICAgaWYgKCFzdWNjZXNzKVxuICAgICAgICAgICAgdGhpcy4kZWRpdG9yLmNvbW1hbmRzLmV4ZWMoXCJpbnNlcnRzdHJpbmdcIiwgdGhpcy4kZWRpdG9yLCB0ZXh0KTtcbiAgICB9O1xuXG59KS5jYWxsKEtleUJpbmRpbmcucHJvdG90eXBlKTtcblxuZXhwb3J0cy5LZXlCaW5kaW5nID0gS2V5QmluZGluZztcbn0pO1xuXG5hY2UuZGVmaW5lKCdhY2UvZWRpdF9zZXNzaW9uJywgW1wicmVxdWlyZVwiLCAnZXhwb3J0cycsICdtb2R1bGUnICwgJ2FjZS9saWIvb29wJywgJ2FjZS9saWIvbGFuZycsICdhY2UvY29uZmlnJywgJ2FjZS9saWIvZXZlbnRfZW1pdHRlcicsICdhY2Uvc2VsZWN0aW9uJywgJ2FjZS9tb2RlL3RleHQnLCAnYWNlL3JhbmdlJywgJ2FjZS9kb2N1bWVudCcsICdhY2UvYmFja2dyb3VuZF90b2tlbml6ZXInLCAnYWNlL3NlYXJjaF9oaWdobGlnaHQnLCAnYWNlL2VkaXRfc2Vzc2lvbi9mb2xkaW5nJywgJ2FjZS9lZGl0X3Nlc3Npb24vYnJhY2tldF9tYXRjaCddLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cblxudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi9saWIvb29wXCIpO1xudmFyIGxhbmcgPSBhY2VxdWlyZShcIi4vbGliL2xhbmdcIik7XG52YXIgY29uZmlnID0gYWNlcXVpcmUoXCIuL2NvbmZpZ1wiKTtcbnZhciBFdmVudEVtaXR0ZXIgPSBhY2VxdWlyZShcIi4vbGliL2V2ZW50X2VtaXR0ZXJcIikuRXZlbnRFbWl0dGVyO1xudmFyIFNlbGVjdGlvbiA9IGFjZXF1aXJlKFwiLi9zZWxlY3Rpb25cIikuU2VsZWN0aW9uO1xudmFyIFRleHRNb2RlID0gYWNlcXVpcmUoXCIuL21vZGUvdGV4dFwiKS5Nb2RlO1xudmFyIFJhbmdlID0gYWNlcXVpcmUoXCIuL3JhbmdlXCIpLlJhbmdlO1xudmFyIERvY3VtZW50ID0gYWNlcXVpcmUoXCIuL2RvY3VtZW50XCIpLkRvY3VtZW50O1xudmFyIEJhY2tncm91bmRUb2tlbml6ZXIgPSBhY2VxdWlyZShcIi4vYmFja2dyb3VuZF90b2tlbml6ZXJcIikuQmFja2dyb3VuZFRva2VuaXplcjtcbnZhciBTZWFyY2hIaWdobGlnaHQgPSBhY2VxdWlyZShcIi4vc2VhcmNoX2hpZ2hsaWdodFwiKS5TZWFyY2hIaWdobGlnaHQ7XG5cbnZhciBFZGl0U2Vzc2lvbiA9IGZ1bmN0aW9uKHRleHQsIG1vZGUpIHtcbiAgICB0aGlzLiRicmVha3BvaW50cyA9IFtdO1xuICAgIHRoaXMuJGRlY29yYXRpb25zID0gW107XG4gICAgdGhpcy4kZnJvbnRNYXJrZXJzID0ge307XG4gICAgdGhpcy4kYmFja01hcmtlcnMgPSB7fTtcbiAgICB0aGlzLiRtYXJrZXJJZCA9IDE7XG4gICAgdGhpcy4kdW5kb1NlbGVjdCA9IHRydWU7XG5cbiAgICB0aGlzLiRmb2xkRGF0YSA9IFtdO1xuICAgIHRoaXMuJGZvbGREYXRhLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmpvaW4oXCJcXG5cIik7XG4gICAgfVxuICAgIHRoaXMub24oXCJjaGFuZ2VGb2xkXCIsIHRoaXMub25DaGFuZ2VGb2xkLmJpbmQodGhpcykpO1xuICAgIHRoaXMuJG9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpO1xuXG4gICAgaWYgKHR5cGVvZiB0ZXh0ICE9IFwib2JqZWN0XCIgfHwgIXRleHQuZ2V0TGluZSlcbiAgICAgICAgdGV4dCA9IG5ldyBEb2N1bWVudCh0ZXh0KTtcblxuICAgIHRoaXMuc2V0RG9jdW1lbnQodGV4dCk7XG4gICAgdGhpcy5zZWxlY3Rpb24gPSBuZXcgU2VsZWN0aW9uKHRoaXMpO1xuXG4gICAgY29uZmlnLnJlc2V0T3B0aW9ucyh0aGlzKTtcbiAgICB0aGlzLnNldE1vZGUobW9kZSk7XG4gICAgY29uZmlnLl9lbWl0KFwic2Vzc2lvblwiLCB0aGlzKTtcbn07XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpO1xuICAgIHRoaXMuc2V0RG9jdW1lbnQgPSBmdW5jdGlvbihkb2MpIHtcbiAgICAgICAgaWYgKHRoaXMuZG9jKVxuICAgICAgICAgICAgdGhpcy5kb2MucmVtb3ZlTGlzdGVuZXIoXCJjaGFuZ2VcIiwgdGhpcy4kb25DaGFuZ2UpO1xuXG4gICAgICAgIHRoaXMuZG9jID0gZG9jO1xuICAgICAgICBkb2Mub24oXCJjaGFuZ2VcIiwgdGhpcy4kb25DaGFuZ2UpO1xuXG4gICAgICAgIGlmICh0aGlzLmJnVG9rZW5pemVyKVxuICAgICAgICAgICAgdGhpcy5iZ1Rva2VuaXplci5zZXREb2N1bWVudCh0aGlzLmdldERvY3VtZW50KCkpO1xuXG4gICAgICAgIHRoaXMucmVzZXRDYWNoZXMoKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0RG9jdW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jO1xuICAgIH07XG4gICAgdGhpcy4kcmVzZXRSb3dDYWNoZSA9IGZ1bmN0aW9uKGRvY1Jvdykge1xuICAgICAgICBpZiAoIWRvY1Jvdykge1xuICAgICAgICAgICAgdGhpcy4kZG9jUm93Q2FjaGUgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuJHNjcmVlblJvd0NhY2hlID0gW107XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGwgPSB0aGlzLiRkb2NSb3dDYWNoZS5sZW5ndGg7XG4gICAgICAgIHZhciBpID0gdGhpcy4kZ2V0Um93Q2FjaGVJbmRleCh0aGlzLiRkb2NSb3dDYWNoZSwgZG9jUm93KSArIDE7XG4gICAgICAgIGlmIChsID4gaSkge1xuICAgICAgICAgICAgdGhpcy4kZG9jUm93Q2FjaGUuc3BsaWNlKGksIGwpO1xuICAgICAgICAgICAgdGhpcy4kc2NyZWVuUm93Q2FjaGUuc3BsaWNlKGksIGwpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuJGdldFJvd0NhY2hlSW5kZXggPSBmdW5jdGlvbihjYWNoZUFycmF5LCB2YWwpIHtcbiAgICAgICAgdmFyIGxvdyA9IDA7XG4gICAgICAgIHZhciBoaSA9IGNhY2hlQXJyYXkubGVuZ3RoIC0gMTtcblxuICAgICAgICB3aGlsZSAobG93IDw9IGhpKSB7XG4gICAgICAgICAgICB2YXIgbWlkID0gKGxvdyArIGhpKSA+PiAxO1xuICAgICAgICAgICAgdmFyIGMgPSBjYWNoZUFycmF5W21pZF07XG5cbiAgICAgICAgICAgIGlmICh2YWwgPiBjKVxuICAgICAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgICAgICBlbHNlIGlmICh2YWwgPCBjKVxuICAgICAgICAgICAgICAgIGhpID0gbWlkIC0gMTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gbWlkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxvdyAtMTtcbiAgICB9O1xuXG4gICAgdGhpcy5yZXNldENhY2hlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRtb2RpZmllZCA9IHRydWU7XG4gICAgICAgIHRoaXMuJHdyYXBEYXRhID0gW107XG4gICAgICAgIHRoaXMuJHJvd0xlbmd0aENhY2hlID0gW107XG4gICAgICAgIHRoaXMuJHJlc2V0Um93Q2FjaGUoMCk7XG4gICAgICAgIGlmICh0aGlzLmJnVG9rZW5pemVyKVxuICAgICAgICAgICAgdGhpcy5iZ1Rva2VuaXplci5zdGFydCgwKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbkNoYW5nZUZvbGQgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBmb2xkID0gZS5kYXRhO1xuICAgICAgICB0aGlzLiRyZXNldFJvd0NhY2hlKGZvbGQuc3RhcnQucm93KTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbkNoYW5nZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIGRlbHRhID0gZS5kYXRhO1xuICAgICAgICB0aGlzLiRtb2RpZmllZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy4kcmVzZXRSb3dDYWNoZShkZWx0YS5yYW5nZS5zdGFydC5yb3cpO1xuXG4gICAgICAgIHZhciByZW1vdmVkRm9sZHMgPSB0aGlzLiR1cGRhdGVJbnRlcm5hbERhdGFPbkNoYW5nZShlKTtcbiAgICAgICAgaWYgKCF0aGlzLiRmcm9tVW5kbyAmJiB0aGlzLiR1bmRvTWFuYWdlciAmJiAhZGVsdGEuaWdub3JlKSB7XG4gICAgICAgICAgICB0aGlzLiRkZWx0YXNEb2MucHVzaChkZWx0YSk7XG4gICAgICAgICAgICBpZiAocmVtb3ZlZEZvbGRzICYmIHJlbW92ZWRGb2xkcy5sZW5ndGggIT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGRlbHRhc0ZvbGQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJyZW1vdmVGb2xkc1wiLFxuICAgICAgICAgICAgICAgICAgICBmb2xkczogIHJlbW92ZWRGb2xkc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLiRpbmZvcm1VbmRvTWFuYWdlci5zY2hlZHVsZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5iZ1Rva2VuaXplci4kdXBkYXRlT25DaGFuZ2UoZGVsdGEpO1xuICAgICAgICB0aGlzLl9lbWl0KFwiY2hhbmdlXCIsIGUpO1xuICAgIH07XG4gICAgdGhpcy5zZXRWYWx1ZSA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgdGhpcy5kb2Muc2V0VmFsdWUodGV4dCk7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JUbygwLCAwKTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oKTtcblxuICAgICAgICB0aGlzLiRyZXNldFJvd0NhY2hlKDApO1xuICAgICAgICB0aGlzLiRkZWx0YXMgPSBbXTtcbiAgICAgICAgdGhpcy4kZGVsdGFzRG9jID0gW107XG4gICAgICAgIHRoaXMuJGRlbHRhc0ZvbGQgPSBbXTtcbiAgICAgICAgdGhpcy5nZXRVbmRvTWFuYWdlcigpLnJlc2V0KCk7XG4gICAgfTtcbiAgICB0aGlzLmdldFZhbHVlID1cbiAgICB0aGlzLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvYy5nZXRWYWx1ZSgpO1xuICAgIH07XG4gICAgdGhpcy5nZXRTZWxlY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uO1xuICAgIH07XG4gICAgdGhpcy5nZXRTdGF0ZSA9IGZ1bmN0aW9uKHJvdykge1xuICAgICAgICByZXR1cm4gdGhpcy5iZ1Rva2VuaXplci5nZXRTdGF0ZShyb3cpO1xuICAgIH07XG4gICAgdGhpcy5nZXRUb2tlbnMgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmdUb2tlbml6ZXIuZ2V0VG9rZW5zKHJvdyk7XG4gICAgfTtcbiAgICB0aGlzLmdldFRva2VuQXQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICB2YXIgdG9rZW5zID0gdGhpcy5iZ1Rva2VuaXplci5nZXRUb2tlbnMocm93KTtcbiAgICAgICAgdmFyIHRva2VuLCBjID0gMDtcbiAgICAgICAgaWYgKGNvbHVtbiA9PSBudWxsKSB7XG4gICAgICAgICAgICBpID0gdG9rZW5zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICBjID0gdGhpcy5nZXRMaW5lKHJvdykubGVuZ3RoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjICs9IHRva2Vuc1tpXS52YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaWYgKGMgPj0gY29sdW1uKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0b2tlbiA9IHRva2Vuc1tpXTtcbiAgICAgICAgaWYgKCF0b2tlbilcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB0b2tlbi5pbmRleCA9IGk7XG4gICAgICAgIHRva2VuLnN0YXJ0ID0gYyAtIHRva2VuLnZhbHVlLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH07XG4gICAgdGhpcy5zZXRVbmRvTWFuYWdlciA9IGZ1bmN0aW9uKHVuZG9NYW5hZ2VyKSB7XG4gICAgICAgIHRoaXMuJHVuZG9NYW5hZ2VyID0gdW5kb01hbmFnZXI7XG4gICAgICAgIHRoaXMuJGRlbHRhcyA9IFtdO1xuICAgICAgICB0aGlzLiRkZWx0YXNEb2MgPSBbXTtcbiAgICAgICAgdGhpcy4kZGVsdGFzRm9sZCA9IFtdO1xuXG4gICAgICAgIGlmICh0aGlzLiRpbmZvcm1VbmRvTWFuYWdlcilcbiAgICAgICAgICAgIHRoaXMuJGluZm9ybVVuZG9NYW5hZ2VyLmNhbmNlbCgpO1xuXG4gICAgICAgIGlmICh1bmRvTWFuYWdlcikge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLiRzeW5jSW5mb3JtVW5kb01hbmFnZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzZWxmLiRpbmZvcm1VbmRvTWFuYWdlci5jYW5jZWwoKTtcblxuICAgICAgICAgICAgICAgIGlmIChzZWxmLiRkZWx0YXNGb2xkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLiRkZWx0YXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cDogXCJmb2xkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWx0YXM6IHNlbGYuJGRlbHRhc0ZvbGRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuJGRlbHRhc0ZvbGQgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc2VsZi4kZGVsdGFzRG9jLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLiRkZWx0YXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cDogXCJkb2NcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbHRhczogc2VsZi4kZGVsdGFzRG9jXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLiRkZWx0YXNEb2MgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc2VsZi4kZGVsdGFzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdW5kb01hbmFnZXIuZXhlY3V0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiYWNldXBkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiBbc2VsZi4kZGVsdGFzLCBzZWxmXVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzZWxmLiRkZWx0YXMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuJGluZm9ybVVuZG9NYW5hZ2VyID0gbGFuZy5kZWxheWVkQ2FsbCh0aGlzLiRzeW5jSW5mb3JtVW5kb01hbmFnZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLm1hcmtVbmRvR3JvdXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuJHN5bmNJbmZvcm1VbmRvTWFuYWdlcilcbiAgICAgICAgICAgIHRoaXMuJHN5bmNJbmZvcm1VbmRvTWFuYWdlcigpO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy4kZGVmYXVsdFVuZG9NYW5hZ2VyID0ge1xuICAgICAgICB1bmRvOiBmdW5jdGlvbigpIHt9LFxuICAgICAgICByZWRvOiBmdW5jdGlvbigpIHt9LFxuICAgICAgICByZXNldDogZnVuY3Rpb24oKSB7fVxuICAgIH07XG4gICAgdGhpcy5nZXRVbmRvTWFuYWdlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kdW5kb01hbmFnZXIgfHwgdGhpcy4kZGVmYXVsdFVuZG9NYW5hZ2VyO1xuICAgIH07XG4gICAgdGhpcy5nZXRUYWJTdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2V0VXNlU29mdFRhYnMoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGxhbmcuc3RyaW5nUmVwZWF0KFwiIFwiLCB0aGlzLmdldFRhYlNpemUoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcXHRcIjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5zZXRVc2VTb2Z0VGFicyA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB0aGlzLnNldE9wdGlvbihcInVzZVNvZnRUYWJzXCIsIHZhbCk7XG4gICAgfTtcbiAgICB0aGlzLmdldFVzZVNvZnRUYWJzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICByZXR1cm4gdGhpcy4kdXNlU29mdFRhYnM7XG4gICAgfTtcbiAgICB0aGlzLnNldFRhYlNpemUgPSBmdW5jdGlvbih0YWJTaXplKSB7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9uKFwidGFiU2l6ZVwiLCB0YWJTaXplKVxuICAgIH07XG4gICAgdGhpcy5nZXRUYWJTaXplID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiR0YWJTaXplO1xuICAgIH07XG4gICAgdGhpcy5pc1RhYlN0b3AgPSBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy4kdXNlU29mdFRhYnMgJiYgKHBvc2l0aW9uLmNvbHVtbiAlIHRoaXMuJHRhYlNpemUgPT0gMCk7XG4gICAgfTtcblxuICAgIHRoaXMuJG92ZXJ3cml0ZSA9IGZhbHNlO1xuICAgIHRoaXMuc2V0T3ZlcndyaXRlID0gZnVuY3Rpb24ob3ZlcndyaXRlKSB7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9uKFwib3ZlcndyaXRlXCIsIG92ZXJ3cml0ZSlcbiAgICB9O1xuICAgIHRoaXMuZ2V0T3ZlcndyaXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRvdmVyd3JpdGU7XG4gICAgfTtcbiAgICB0aGlzLnRvZ2dsZU92ZXJ3cml0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnNldE92ZXJ3cml0ZSghdGhpcy4kb3ZlcndyaXRlKTtcbiAgICB9O1xuICAgIHRoaXMuYWRkR3V0dGVyRGVjb3JhdGlvbiA9IGZ1bmN0aW9uKHJvdywgY2xhc3NOYW1lKSB7XG4gICAgICAgIGlmICghdGhpcy4kZGVjb3JhdGlvbnNbcm93XSlcbiAgICAgICAgICAgIHRoaXMuJGRlY29yYXRpb25zW3Jvd10gPSBcIlwiO1xuICAgICAgICB0aGlzLiRkZWNvcmF0aW9uc1tyb3ddICs9IFwiIFwiICsgY2xhc3NOYW1lO1xuICAgICAgICB0aGlzLl9lbWl0KFwiY2hhbmdlQnJlYWtwb2ludFwiLCB7fSk7XG4gICAgfTtcbiAgICB0aGlzLnJlbW92ZUd1dHRlckRlY29yYXRpb24gPSBmdW5jdGlvbihyb3csIGNsYXNzTmFtZSkge1xuICAgICAgICB0aGlzLiRkZWNvcmF0aW9uc1tyb3ddID0gKHRoaXMuJGRlY29yYXRpb25zW3Jvd10gfHwgXCJcIikucmVwbGFjZShcIiBcIiArIGNsYXNzTmFtZSwgXCJcIik7XG4gICAgICAgIHRoaXMuX2VtaXQoXCJjaGFuZ2VCcmVha3BvaW50XCIsIHt9KTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0QnJlYWtwb2ludHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGJyZWFrcG9pbnRzO1xuICAgIH07XG4gICAgdGhpcy5zZXRCcmVha3BvaW50cyA9IGZ1bmN0aW9uKHJvd3MpIHtcbiAgICAgICAgdGhpcy4kYnJlYWtwb2ludHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHJvd3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuJGJyZWFrcG9pbnRzW3Jvd3NbaV1dID0gXCJhY2VfYnJlYWtwb2ludFwiO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VtaXQoXCJjaGFuZ2VCcmVha3BvaW50XCIsIHt9KTtcbiAgICB9O1xuICAgIHRoaXMuY2xlYXJCcmVha3BvaW50cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRicmVha3BvaW50cyA9IFtdO1xuICAgICAgICB0aGlzLl9lbWl0KFwiY2hhbmdlQnJlYWtwb2ludFwiLCB7fSk7XG4gICAgfTtcbiAgICB0aGlzLnNldEJyZWFrcG9pbnQgPSBmdW5jdGlvbihyb3csIGNsYXNzTmFtZSkge1xuICAgICAgICBpZiAoY2xhc3NOYW1lID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBjbGFzc05hbWUgPSBcImFjZV9icmVha3BvaW50XCI7XG4gICAgICAgIGlmIChjbGFzc05hbWUpXG4gICAgICAgICAgICB0aGlzLiRicmVha3BvaW50c1tyb3ddID0gY2xhc3NOYW1lO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgdGhpcy4kYnJlYWtwb2ludHNbcm93XTtcbiAgICAgICAgdGhpcy5fZW1pdChcImNoYW5nZUJyZWFrcG9pbnRcIiwge30pO1xuICAgIH07XG4gICAgdGhpcy5jbGVhckJyZWFrcG9pbnQgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuJGJyZWFrcG9pbnRzW3Jvd107XG4gICAgICAgIHRoaXMuX2VtaXQoXCJjaGFuZ2VCcmVha3BvaW50XCIsIHt9KTtcbiAgICB9O1xuICAgIHRoaXMuYWRkTWFya2VyID0gZnVuY3Rpb24ocmFuZ2UsIGNsYXp6LCB0eXBlLCBpbkZyb250KSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuJG1hcmtlcklkKys7XG5cbiAgICAgICAgdmFyIG1hcmtlciA9IHtcbiAgICAgICAgICAgIHJhbmdlIDogcmFuZ2UsXG4gICAgICAgICAgICB0eXBlIDogdHlwZSB8fCBcImxpbmVcIixcbiAgICAgICAgICAgIHJlbmRlcmVyOiB0eXBlb2YgdHlwZSA9PSBcImZ1bmN0aW9uXCIgPyB0eXBlIDogbnVsbCxcbiAgICAgICAgICAgIGNsYXp6IDogY2xhenosXG4gICAgICAgICAgICBpbkZyb250OiAhIWluRnJvbnQsXG4gICAgICAgICAgICBpZDogaWRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbkZyb250KSB7XG4gICAgICAgICAgICB0aGlzLiRmcm9udE1hcmtlcnNbaWRdID0gbWFya2VyO1xuICAgICAgICAgICAgdGhpcy5fZW1pdChcImNoYW5nZUZyb250TWFya2VyXCIpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiRiYWNrTWFya2Vyc1tpZF0gPSBtYXJrZXI7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KFwiY2hhbmdlQmFja01hcmtlclwiKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH07XG4gICAgdGhpcy5hZGREeW5hbWljTWFya2VyID0gZnVuY3Rpb24obWFya2VyLCBpbkZyb250KSB7XG4gICAgICAgIGlmICghbWFya2VyLnVwZGF0ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIGlkID0gdGhpcy4kbWFya2VySWQrKztcbiAgICAgICAgbWFya2VyLmlkID0gaWQ7XG4gICAgICAgIG1hcmtlci5pbkZyb250ID0gISFpbkZyb250O1xuXG4gICAgICAgIGlmIChpbkZyb250KSB7XG4gICAgICAgICAgICB0aGlzLiRmcm9udE1hcmtlcnNbaWRdID0gbWFya2VyO1xuICAgICAgICAgICAgdGhpcy5fZW1pdChcImNoYW5nZUZyb250TWFya2VyXCIpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiRiYWNrTWFya2Vyc1tpZF0gPSBtYXJrZXI7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KFwiY2hhbmdlQmFja01hcmtlclwiKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1hcmtlcjtcbiAgICB9O1xuICAgIHRoaXMucmVtb3ZlTWFya2VyID0gZnVuY3Rpb24obWFya2VySWQpIHtcbiAgICAgICAgdmFyIG1hcmtlciA9IHRoaXMuJGZyb250TWFya2Vyc1ttYXJrZXJJZF0gfHwgdGhpcy4kYmFja01hcmtlcnNbbWFya2VySWRdO1xuICAgICAgICBpZiAoIW1hcmtlcilcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgbWFya2VycyA9IG1hcmtlci5pbkZyb250ID8gdGhpcy4kZnJvbnRNYXJrZXJzIDogdGhpcy4kYmFja01hcmtlcnM7XG4gICAgICAgIGlmIChtYXJrZXIpIHtcbiAgICAgICAgICAgIGRlbGV0ZSAobWFya2Vyc1ttYXJrZXJJZF0pO1xuICAgICAgICAgICAgdGhpcy5fZW1pdChtYXJrZXIuaW5Gcm9udCA/IFwiY2hhbmdlRnJvbnRNYXJrZXJcIiA6IFwiY2hhbmdlQmFja01hcmtlclwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5nZXRNYXJrZXJzID0gZnVuY3Rpb24oaW5Gcm9udCkge1xuICAgICAgICByZXR1cm4gaW5Gcm9udCA/IHRoaXMuJGZyb250TWFya2VycyA6IHRoaXMuJGJhY2tNYXJrZXJzO1xuICAgIH07XG5cbiAgICB0aGlzLmhpZ2hsaWdodCA9IGZ1bmN0aW9uKHJlKSB7XG4gICAgICAgIGlmICghdGhpcy4kc2VhcmNoSGlnaGxpZ2h0KSB7XG4gICAgICAgICAgICB2YXIgaGlnaGxpZ2h0ID0gbmV3IFNlYXJjaEhpZ2hsaWdodChudWxsLCBcImFjZV9zZWxlY3RlZC13b3JkXCIsIFwidGV4dFwiKTtcbiAgICAgICAgICAgIHRoaXMuJHNlYXJjaEhpZ2hsaWdodCA9IHRoaXMuYWRkRHluYW1pY01hcmtlcihoaWdobGlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJHNlYXJjaEhpZ2hsaWdodC5zZXRSZWdleHAocmUpO1xuICAgIH1cbiAgICB0aGlzLmhpZ2hsaWdodExpbmVzID0gZnVuY3Rpb24oc3RhcnRSb3csIGVuZFJvdywgY2xhenosIGluRnJvbnQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbmRSb3cgIT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgY2xhenogPSBlbmRSb3c7XG4gICAgICAgICAgICBlbmRSb3cgPSBzdGFydFJvdztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNsYXp6KVxuICAgICAgICAgICAgY2xhenogPSBcImFjZV9zdGVwXCI7XG5cbiAgICAgICAgdmFyIHJhbmdlID0gbmV3IFJhbmdlKHN0YXJ0Um93LCAwLCBlbmRSb3csIEluZmluaXR5KTtcbiAgICAgICAgcmFuZ2UuaWQgPSB0aGlzLmFkZE1hcmtlcihyYW5nZSwgY2xhenosIFwiZnVsbExpbmVcIiwgaW5Gcm9udCk7XG4gICAgICAgIHJldHVybiByYW5nZTtcbiAgICB9O1xuICAgIHRoaXMuc2V0QW5ub3RhdGlvbnMgPSBmdW5jdGlvbihhbm5vdGF0aW9ucykge1xuICAgICAgICB0aGlzLiRhbm5vdGF0aW9ucyA9IGFubm90YXRpb25zO1xuICAgICAgICB0aGlzLl9lbWl0KFwiY2hhbmdlQW5ub3RhdGlvblwiLCB7fSk7XG4gICAgfTtcbiAgICB0aGlzLmdldEFubm90YXRpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRhbm5vdGF0aW9ucyB8fCBbXTtcbiAgICB9O1xuICAgIHRoaXMuY2xlYXJBbm5vdGF0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnNldEFubm90YXRpb25zKFtdKTtcbiAgICB9O1xuICAgIHRoaXMuJGRldGVjdE5ld0xpbmUgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgIHZhciBtYXRjaCA9IHRleHQubWF0Y2goL14uKj8oXFxyP1xcbikvbSk7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgdGhpcy4kYXV0b05ld0xpbmUgPSBtYXRjaFsxXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuJGF1dG9OZXdMaW5lID0gXCJcXG5cIjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5nZXRXb3JkUmFuZ2UgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICB2YXIgbGluZSA9IHRoaXMuZ2V0TGluZShyb3cpO1xuXG4gICAgICAgIHZhciBpblRva2VuID0gZmFsc2U7XG4gICAgICAgIGlmIChjb2x1bW4gPiAwKVxuICAgICAgICAgICAgaW5Ub2tlbiA9ICEhbGluZS5jaGFyQXQoY29sdW1uIC0gMSkubWF0Y2godGhpcy50b2tlblJlKTtcblxuICAgICAgICBpZiAoIWluVG9rZW4pXG4gICAgICAgICAgICBpblRva2VuID0gISFsaW5lLmNoYXJBdChjb2x1bW4pLm1hdGNoKHRoaXMudG9rZW5SZSk7XG5cbiAgICAgICAgaWYgKGluVG9rZW4pXG4gICAgICAgICAgICB2YXIgcmUgPSB0aGlzLnRva2VuUmU7XG4gICAgICAgIGVsc2UgaWYgKC9eXFxzKyQvLnRlc3QobGluZS5zbGljZShjb2x1bW4tMSwgY29sdW1uKzEpKSlcbiAgICAgICAgICAgIHZhciByZSA9IC9cXHMvO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB2YXIgcmUgPSB0aGlzLm5vblRva2VuUmU7XG5cbiAgICAgICAgdmFyIHN0YXJ0ID0gY29sdW1uO1xuICAgICAgICBpZiAoc3RhcnQgPiAwKSB7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgc3RhcnQtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChzdGFydCA+PSAwICYmIGxpbmUuY2hhckF0KHN0YXJ0KS5tYXRjaChyZSkpO1xuICAgICAgICAgICAgc3RhcnQrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBlbmQgPSBjb2x1bW47XG4gICAgICAgIHdoaWxlIChlbmQgPCBsaW5lLmxlbmd0aCAmJiBsaW5lLmNoYXJBdChlbmQpLm1hdGNoKHJlKSkge1xuICAgICAgICAgICAgZW5kKys7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHJvdywgc3RhcnQsIHJvdywgZW5kKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0QVdvcmRSYW5nZSA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIHZhciB3b3JkUmFuZ2UgPSB0aGlzLmdldFdvcmRSYW5nZShyb3csIGNvbHVtbik7XG4gICAgICAgIHZhciBsaW5lID0gdGhpcy5nZXRMaW5lKHdvcmRSYW5nZS5lbmQucm93KTtcblxuICAgICAgICB3aGlsZSAobGluZS5jaGFyQXQod29yZFJhbmdlLmVuZC5jb2x1bW4pLm1hdGNoKC9bIFxcdF0vKSkge1xuICAgICAgICAgICAgd29yZFJhbmdlLmVuZC5jb2x1bW4gKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd29yZFJhbmdlO1xuICAgIH07XG4gICAgdGhpcy5zZXROZXdMaW5lTW9kZSA9IGZ1bmN0aW9uKG5ld0xpbmVNb2RlKSB7XG4gICAgICAgIHRoaXMuZG9jLnNldE5ld0xpbmVNb2RlKG5ld0xpbmVNb2RlKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0TmV3TGluZU1vZGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jLmdldE5ld0xpbmVNb2RlKCk7XG4gICAgfTtcbiAgICB0aGlzLnNldFVzZVdvcmtlciA9IGZ1bmN0aW9uKHVzZVdvcmtlcikgeyB0aGlzLnNldE9wdGlvbihcInVzZVdvcmtlclwiLCB1c2VXb3JrZXIpOyB9O1xuICAgIHRoaXMuZ2V0VXNlV29ya2VyID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLiR1c2VXb3JrZXI7IH07XG4gICAgdGhpcy5vblJlbG9hZFRva2VuaXplciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIHJvd3MgPSBlLmRhdGE7XG4gICAgICAgIHRoaXMuYmdUb2tlbml6ZXIuc3RhcnQocm93cy5maXJzdCk7XG4gICAgICAgIHRoaXMuX2VtaXQoXCJ0b2tlbml6ZXJVcGRhdGVcIiwgZSk7XG4gICAgfTtcblxuICAgIHRoaXMuJG1vZGVzID0ge307XG4gICAgdGhpcy4kbW9kZSA9IG51bGw7XG4gICAgdGhpcy4kbW9kZUlkID0gbnVsbDtcbiAgICB0aGlzLnNldE1vZGUgPSBmdW5jdGlvbihtb2RlKSB7XG4gICAgICAgIGlmIChtb2RlICYmIHR5cGVvZiBtb2RlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBpZiAobW9kZS5nZXRUb2tlbml6ZXIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG9uQ2hhbmdlTW9kZShtb2RlKTtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gbW9kZTtcbiAgICAgICAgICAgIHZhciBwYXRoID0gb3B0aW9ucy5wYXRoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGF0aCA9IG1vZGUgfHwgXCJhY2UvbW9kZS90ZXh0XCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLiRtb2Rlc1tcImFjZS9tb2RlL3RleHRcIl0pXG4gICAgICAgICAgICB0aGlzLiRtb2Rlc1tcImFjZS9tb2RlL3RleHRcIl0gPSBuZXcgVGV4dE1vZGUoKTtcblxuICAgICAgICBpZiAodGhpcy4kbW9kZXNbcGF0aF0gJiYgIW9wdGlvbnMpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kb25DaGFuZ2VNb2RlKHRoaXMuJG1vZGVzW3BhdGhdKTtcbiAgICAgICAgdGhpcy4kbW9kZUlkID0gcGF0aDtcbiAgICAgICAgY29uZmlnLmxvYWRNb2R1bGUoW1wibW9kZVwiLCBwYXRoXSwgZnVuY3Rpb24obSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuJG1vZGVJZCAhPT0gcGF0aClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAodGhpcy4kbW9kZXNbcGF0aF0gJiYgIW9wdGlvbnMpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG9uQ2hhbmdlTW9kZSh0aGlzLiRtb2Rlc1twYXRoXSk7XG4gICAgICAgICAgICBpZiAobSAmJiBtLk1vZGUpIHtcbiAgICAgICAgICAgICAgICBtID0gbmV3IG0uTW9kZShvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbW9kZXNbcGF0aF0gPSBtO1xuICAgICAgICAgICAgICAgICAgICBtLiRpZCA9IHBhdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuJG9uQ2hhbmdlTW9kZShtKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICBpZiAoIXRoaXMuJG1vZGUpXG4gICAgICAgICAgICB0aGlzLiRvbkNoYW5nZU1vZGUodGhpcy4kbW9kZXNbXCJhY2UvbW9kZS90ZXh0XCJdLCB0cnVlKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kb25DaGFuZ2VNb2RlID0gZnVuY3Rpb24obW9kZSwgJGlzUGxhY2Vob2xkZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuJG1vZGUgPT09IG1vZGUpIHJldHVybjtcbiAgICAgICAgdGhpcy4kbW9kZSA9IG1vZGU7XG5cbiAgICAgICAgdGhpcy4kc3RvcFdvcmtlcigpO1xuXG4gICAgICAgIGlmICh0aGlzLiR1c2VXb3JrZXIpXG4gICAgICAgICAgICB0aGlzLiRzdGFydFdvcmtlcigpO1xuXG4gICAgICAgIHZhciB0b2tlbml6ZXIgPSBtb2RlLmdldFRva2VuaXplcigpO1xuXG4gICAgICAgIGlmKHRva2VuaXplci5hZGRFdmVudExpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBvblJlbG9hZFRva2VuaXplciA9IHRoaXMub25SZWxvYWRUb2tlbml6ZXIuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRva2VuaXplci5hZGRFdmVudExpc3RlbmVyKFwidXBkYXRlXCIsIG9uUmVsb2FkVG9rZW5pemVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5iZ1Rva2VuaXplcikge1xuICAgICAgICAgICAgdGhpcy5iZ1Rva2VuaXplciA9IG5ldyBCYWNrZ3JvdW5kVG9rZW5pemVyKHRva2VuaXplcik7XG4gICAgICAgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5iZ1Rva2VuaXplci5hZGRFdmVudExpc3RlbmVyKFwidXBkYXRlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBfc2VsZi5fZW1pdChcInRva2VuaXplclVwZGF0ZVwiLCBlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5iZ1Rva2VuaXplci5zZXRUb2tlbml6ZXIodG9rZW5pemVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmdUb2tlbml6ZXIuc2V0RG9jdW1lbnQodGhpcy5nZXREb2N1bWVudCgpKTtcblxuICAgICAgICB0aGlzLnRva2VuUmUgPSBtb2RlLnRva2VuUmU7XG4gICAgICAgIHRoaXMubm9uVG9rZW5SZSA9IG1vZGUubm9uVG9rZW5SZTtcblxuXG4gICAgICAgIGlmICghJGlzUGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuJG1vZGVJZCA9IG1vZGUuJGlkO1xuICAgICAgICAgICAgdGhpcy4kc2V0Rm9sZGluZyhtb2RlLmZvbGRpbmdSdWxlcyk7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KFwiY2hhbmdlTW9kZVwiKTtcbiAgICAgICAgICAgIHRoaXMuYmdUb2tlbml6ZXIuc3RhcnQoMCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG5cbiAgICB0aGlzLiRzdG9wV29ya2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLiR3b3JrZXIpXG4gICAgICAgICAgICB0aGlzLiR3b3JrZXIudGVybWluYXRlKCk7XG5cbiAgICAgICAgdGhpcy4kd29ya2VyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgdGhpcy4kc3RhcnRXb3JrZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBXb3JrZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgIWFjZXF1aXJlLm5vV29ya2VyKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHdvcmtlciA9IHRoaXMuJG1vZGUuY3JlYXRlV29ya2VyKHRoaXMpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ291bGQgbm90IGxvYWQgd29ya2VyXCIpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuJHdvcmtlciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy4kd29ya2VyID0gbnVsbDtcbiAgICB9O1xuICAgIHRoaXMuZ2V0TW9kZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kbW9kZTtcbiAgICB9O1xuXG4gICAgdGhpcy4kc2Nyb2xsVG9wID0gMDtcbiAgICB0aGlzLnNldFNjcm9sbFRvcCA9IGZ1bmN0aW9uKHNjcm9sbFRvcCkge1xuICAgICAgICBzY3JvbGxUb3AgPSBNYXRoLnJvdW5kKE1hdGgubWF4KDAsIHNjcm9sbFRvcCkpO1xuICAgICAgICBpZiAodGhpcy4kc2Nyb2xsVG9wID09PSBzY3JvbGxUb3AgfHwgaXNOYU4oc2Nyb2xsVG9wKSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB0aGlzLiRzY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gICAgICAgIHRoaXMuX3NpZ25hbChcImNoYW5nZVNjcm9sbFRvcFwiLCBzY3JvbGxUb3ApO1xuICAgIH07XG4gICAgdGhpcy5nZXRTY3JvbGxUb3AgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHNjcm9sbFRvcDtcbiAgICB9O1xuXG4gICAgdGhpcy4kc2Nyb2xsTGVmdCA9IDA7XG4gICAgdGhpcy5zZXRTY3JvbGxMZWZ0ID0gZnVuY3Rpb24oc2Nyb2xsTGVmdCkge1xuICAgICAgICBzY3JvbGxMZWZ0ID0gTWF0aC5yb3VuZChNYXRoLm1heCgwLCBzY3JvbGxMZWZ0KSk7XG4gICAgICAgIGlmICh0aGlzLiRzY3JvbGxMZWZ0ID09PSBzY3JvbGxMZWZ0IHx8IGlzTmFOKHNjcm9sbExlZnQpKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuJHNjcm9sbExlZnQgPSBzY3JvbGxMZWZ0O1xuICAgICAgICB0aGlzLl9zaWduYWwoXCJjaGFuZ2VTY3JvbGxMZWZ0XCIsIHNjcm9sbExlZnQpO1xuICAgIH07XG4gICAgdGhpcy5nZXRTY3JvbGxMZWZ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRzY3JvbGxMZWZ0O1xuICAgIH07XG4gICAgdGhpcy5nZXRTY3JlZW5XaWR0aCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRjb21wdXRlV2lkdGgoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyZWVuV2lkdGg7XG4gICAgfTtcblxuICAgIHRoaXMuJGNvbXB1dGVXaWR0aCA9IGZ1bmN0aW9uKGZvcmNlKSB7XG4gICAgICAgIGlmICh0aGlzLiRtb2RpZmllZCB8fCBmb3JjZSkge1xuICAgICAgICAgICAgdGhpcy4kbW9kaWZpZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuJHVzZVdyYXBNb2RlKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNjcmVlbldpZHRoID0gdGhpcy4kd3JhcExpbWl0O1xuXG4gICAgICAgICAgICB2YXIgbGluZXMgPSB0aGlzLmRvYy5nZXRBbGxMaW5lcygpO1xuICAgICAgICAgICAgdmFyIGNhY2hlID0gdGhpcy4kcm93TGVuZ3RoQ2FjaGU7XG4gICAgICAgICAgICB2YXIgbG9uZ2VzdFNjcmVlbkxpbmUgPSAwO1xuICAgICAgICAgICAgdmFyIGZvbGRJbmRleCA9IDA7XG4gICAgICAgICAgICB2YXIgZm9sZExpbmUgPSB0aGlzLiRmb2xkRGF0YVtmb2xkSW5kZXhdO1xuICAgICAgICAgICAgdmFyIGZvbGRTdGFydCA9IGZvbGRMaW5lID8gZm9sZExpbmUuc3RhcnQucm93IDogSW5maW5pdHk7XG4gICAgICAgICAgICB2YXIgbGVuID0gbGluZXMubGVuZ3RoO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPiBmb2xkU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaSA9IGZvbGRMaW5lLmVuZC5yb3cgKyAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSA+PSBsZW4pXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZm9sZExpbmUgPSB0aGlzLiRmb2xkRGF0YVtmb2xkSW5kZXgrK107XG4gICAgICAgICAgICAgICAgICAgIGZvbGRTdGFydCA9IGZvbGRMaW5lID8gZm9sZExpbmUuc3RhcnQucm93IDogSW5maW5pdHk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlW2ldID09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlW2ldID0gdGhpcy4kZ2V0U3RyaW5nU2NyZWVuV2lkdGgobGluZXNbaV0pWzBdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlW2ldID4gbG9uZ2VzdFNjcmVlbkxpbmUpXG4gICAgICAgICAgICAgICAgICAgIGxvbmdlc3RTY3JlZW5MaW5lID0gY2FjaGVbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNjcmVlbldpZHRoID0gbG9uZ2VzdFNjcmVlbkxpbmU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZ2V0TGluZSA9IGZ1bmN0aW9uKHJvdykge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2MuZ2V0TGluZShyb3cpO1xuICAgIH07XG4gICAgdGhpcy5nZXRMaW5lcyA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvYy5nZXRMaW5lcyhmaXJzdFJvdywgbGFzdFJvdyk7XG4gICAgfTtcbiAgICB0aGlzLmdldExlbmd0aCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2MuZ2V0TGVuZ3RoKCk7XG4gICAgfTtcbiAgICB0aGlzLmdldFRleHRSYW5nZSA9IGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvYy5nZXRUZXh0UmFuZ2UocmFuZ2UgfHwgdGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSk7XG4gICAgfTtcbiAgICB0aGlzLmluc2VydCA9IGZ1bmN0aW9uKHBvc2l0aW9uLCB0ZXh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvYy5pbnNlcnQocG9zaXRpb24sIHRleHQpO1xuICAgIH07XG4gICAgdGhpcy5yZW1vdmUgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2MucmVtb3ZlKHJhbmdlKTtcbiAgICB9O1xuICAgIHRoaXMudW5kb0NoYW5nZXMgPSBmdW5jdGlvbihkZWx0YXMsIGRvbnRTZWxlY3QpIHtcbiAgICAgICAgaWYgKCFkZWx0YXMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuJGZyb21VbmRvID0gdHJ1ZTtcbiAgICAgICAgdmFyIGxhc3RVbmRvUmFuZ2UgPSBudWxsO1xuICAgICAgICBmb3IgKHZhciBpID0gZGVsdGFzLmxlbmd0aCAtIDE7IGkgIT0gLTE7IGktLSkge1xuICAgICAgICAgICAgdmFyIGRlbHRhID0gZGVsdGFzW2ldO1xuICAgICAgICAgICAgaWYgKGRlbHRhLmdyb3VwID09IFwiZG9jXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvYy5yZXZlcnREZWx0YXMoZGVsdGEuZGVsdGFzKTtcbiAgICAgICAgICAgICAgICBsYXN0VW5kb1JhbmdlID1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZ2V0VW5kb1NlbGVjdGlvbihkZWx0YS5kZWx0YXMsIHRydWUsIGxhc3RVbmRvUmFuZ2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZWx0YS5kZWx0YXMuZm9yRWFjaChmdW5jdGlvbihmb2xkRGVsdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRGb2xkcyhmb2xkRGVsdGEuZm9sZHMpO1xuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuJGZyb21VbmRvID0gZmFsc2U7XG4gICAgICAgIGxhc3RVbmRvUmFuZ2UgJiZcbiAgICAgICAgICAgIHRoaXMuJHVuZG9TZWxlY3QgJiZcbiAgICAgICAgICAgICFkb250U2VsZWN0ICYmXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25SYW5nZShsYXN0VW5kb1JhbmdlKTtcbiAgICAgICAgcmV0dXJuIGxhc3RVbmRvUmFuZ2U7XG4gICAgfTtcbiAgICB0aGlzLnJlZG9DaGFuZ2VzID0gZnVuY3Rpb24oZGVsdGFzLCBkb250U2VsZWN0KSB7XG4gICAgICAgIGlmICghZGVsdGFzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB0aGlzLiRmcm9tVW5kbyA9IHRydWU7XG4gICAgICAgIHZhciBsYXN0VW5kb1JhbmdlID0gbnVsbDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWx0YXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBkZWx0YSA9IGRlbHRhc1tpXTtcbiAgICAgICAgICAgIGlmIChkZWx0YS5ncm91cCA9PSBcImRvY1wiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb2MuYXBwbHlEZWx0YXMoZGVsdGEuZGVsdGFzKTtcbiAgICAgICAgICAgICAgICBsYXN0VW5kb1JhbmdlID1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZ2V0VW5kb1NlbGVjdGlvbihkZWx0YS5kZWx0YXMsIGZhbHNlLCBsYXN0VW5kb1JhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRmcm9tVW5kbyA9IGZhbHNlO1xuICAgICAgICBsYXN0VW5kb1JhbmdlICYmXG4gICAgICAgICAgICB0aGlzLiR1bmRvU2VsZWN0ICYmXG4gICAgICAgICAgICAhZG9udFNlbGVjdCAmJlxuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uUmFuZ2UobGFzdFVuZG9SYW5nZSk7XG4gICAgICAgIHJldHVybiBsYXN0VW5kb1JhbmdlO1xuICAgIH07XG4gICAgdGhpcy5zZXRVbmRvU2VsZWN0ID0gZnVuY3Rpb24oZW5hYmxlKSB7XG4gICAgICAgIHRoaXMuJHVuZG9TZWxlY3QgPSBlbmFibGU7XG4gICAgfTtcblxuICAgIHRoaXMuJGdldFVuZG9TZWxlY3Rpb24gPSBmdW5jdGlvbihkZWx0YXMsIGlzVW5kbywgbGFzdFVuZG9SYW5nZSkge1xuICAgICAgICBmdW5jdGlvbiBpc0luc2VydChkZWx0YSkge1xuICAgICAgICAgICAgdmFyIGluc2VydCA9XG4gICAgICAgICAgICAgICAgZGVsdGEuYWN0aW9uID09PSBcImluc2VydFRleHRcIiB8fCBkZWx0YS5hY3Rpb24gPT09IFwiaW5zZXJ0TGluZXNcIjtcbiAgICAgICAgICAgIHJldHVybiBpc1VuZG8gPyAhaW5zZXJ0IDogaW5zZXJ0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRlbHRhID0gZGVsdGFzWzBdO1xuICAgICAgICB2YXIgcmFuZ2UsIHBvaW50O1xuICAgICAgICB2YXIgbGFzdERlbHRhSXNJbnNlcnQgPSBmYWxzZTtcbiAgICAgICAgaWYgKGlzSW5zZXJ0KGRlbHRhKSkge1xuICAgICAgICAgICAgcmFuZ2UgPSBkZWx0YS5yYW5nZS5jbG9uZSgpO1xuICAgICAgICAgICAgbGFzdERlbHRhSXNJbnNlcnQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmFuZ2UgPSBSYW5nZS5mcm9tUG9pbnRzKGRlbHRhLnJhbmdlLnN0YXJ0LCBkZWx0YS5yYW5nZS5zdGFydCk7XG4gICAgICAgICAgICBsYXN0RGVsdGFJc0luc2VydCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBkZWx0YXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRlbHRhID0gZGVsdGFzW2ldO1xuICAgICAgICAgICAgaWYgKGlzSW5zZXJ0KGRlbHRhKSkge1xuICAgICAgICAgICAgICAgIHBvaW50ID0gZGVsdGEucmFuZ2Uuc3RhcnQ7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlLmNvbXBhcmUocG9pbnQucm93LCBwb2ludC5jb2x1bW4pID09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KGRlbHRhLnJhbmdlLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcG9pbnQgPSBkZWx0YS5yYW5nZS5lbmQ7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlLmNvbXBhcmUocG9pbnQucm93LCBwb2ludC5jb2x1bW4pID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0RW5kKGRlbHRhLnJhbmdlLmVuZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxhc3REZWx0YUlzSW5zZXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcG9pbnQgPSBkZWx0YS5yYW5nZS5zdGFydDtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2UuY29tcGFyZShwb2ludC5yb3csIHBvaW50LmNvbHVtbikgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPVxuICAgICAgICAgICAgICAgICAgICAgICAgUmFuZ2UuZnJvbVBvaW50cyhkZWx0YS5yYW5nZS5zdGFydCwgZGVsdGEucmFuZ2Uuc3RhcnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsYXN0RGVsdGFJc0luc2VydCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChsYXN0VW5kb1JhbmdlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBjbXAgPSBsYXN0VW5kb1JhbmdlLmNvbXBhcmVSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICBpZiAoY21wID09IDEpIHtcbiAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydChsYXN0VW5kb1JhbmdlLnN0YXJ0KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY21wID09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2Uuc2V0RW5kKGxhc3RVbmRvUmFuZ2UuZW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByYW5nZTtcbiAgICB9O1xuICAgIHRoaXMucmVwbGFjZSA9IGZ1bmN0aW9uKHJhbmdlLCB0ZXh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvYy5yZXBsYWNlKHJhbmdlLCB0ZXh0KTtcbiAgICB9O1xuICAgIHRoaXMubW92ZVRleHQgPSBmdW5jdGlvbihmcm9tUmFuZ2UsIHRvUG9zaXRpb24sIGNvcHkpIHtcbiAgICAgICAgdmFyIHRleHQgPSB0aGlzLmdldFRleHRSYW5nZShmcm9tUmFuZ2UpO1xuICAgICAgICB2YXIgZm9sZHMgPSB0aGlzLmdldEZvbGRzSW5SYW5nZShmcm9tUmFuZ2UpO1xuXG4gICAgICAgIHZhciB0b1JhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyh0b1Bvc2l0aW9uLCB0b1Bvc2l0aW9uKTtcbiAgICAgICAgaWYgKCFjb3B5KSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShmcm9tUmFuZ2UpO1xuICAgICAgICAgICAgdmFyIHJvd0RpZmYgPSBmcm9tUmFuZ2Uuc3RhcnQucm93IC0gZnJvbVJhbmdlLmVuZC5yb3c7XG4gICAgICAgICAgICB2YXIgY29sbERpZmYgPSByb3dEaWZmID8gLWZyb21SYW5nZS5lbmQuY29sdW1uIDogZnJvbVJhbmdlLnN0YXJ0LmNvbHVtbiAtIGZyb21SYW5nZS5lbmQuY29sdW1uO1xuICAgICAgICAgICAgaWYgKGNvbGxEaWZmKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRvUmFuZ2Uuc3RhcnQucm93ID09IGZyb21SYW5nZS5lbmQucm93ICYmIHRvUmFuZ2Uuc3RhcnQuY29sdW1uID4gZnJvbVJhbmdlLmVuZC5jb2x1bW4pXG4gICAgICAgICAgICAgICAgICAgIHRvUmFuZ2Uuc3RhcnQuY29sdW1uICs9IGNvbGxEaWZmO1xuICAgICAgICAgICAgICAgIGlmICh0b1JhbmdlLmVuZC5yb3cgPT0gZnJvbVJhbmdlLmVuZC5yb3cgJiYgdG9SYW5nZS5lbmQuY29sdW1uID4gZnJvbVJhbmdlLmVuZC5jb2x1bW4pXG4gICAgICAgICAgICAgICAgICAgIHRvUmFuZ2UuZW5kLmNvbHVtbiArPSBjb2xsRGlmZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyb3dEaWZmICYmIHRvUmFuZ2Uuc3RhcnQucm93ID49IGZyb21SYW5nZS5lbmQucm93KSB7XG4gICAgICAgICAgICAgICAgdG9SYW5nZS5zdGFydC5yb3cgKz0gcm93RGlmZjtcbiAgICAgICAgICAgICAgICB0b1JhbmdlLmVuZC5yb3cgKz0gcm93RGlmZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW5zZXJ0KHRvUmFuZ2Uuc3RhcnQsIHRleHQpO1xuICAgICAgICBpZiAoZm9sZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgb2xkU3RhcnQgPSBmcm9tUmFuZ2Uuc3RhcnQ7XG4gICAgICAgICAgICB2YXIgbmV3U3RhcnQgPSB0b1JhbmdlLnN0YXJ0O1xuICAgICAgICAgICAgdmFyIHJvd0RpZmYgPSBuZXdTdGFydC5yb3cgLSBvbGRTdGFydC5yb3c7XG4gICAgICAgICAgICB2YXIgY29sbERpZmYgPSBuZXdTdGFydC5jb2x1bW4gLSBvbGRTdGFydC5jb2x1bW47XG4gICAgICAgICAgICB0aGlzLmFkZEZvbGRzKGZvbGRzLm1hcChmdW5jdGlvbih4KSB7XG4gICAgICAgICAgICAgICAgeCA9IHguY2xvbmUoKTtcbiAgICAgICAgICAgICAgICBpZiAoeC5zdGFydC5yb3cgPT0gb2xkU3RhcnQucm93KVxuICAgICAgICAgICAgICAgICAgICB4LnN0YXJ0LmNvbHVtbiArPSBjb2xsRGlmZjtcbiAgICAgICAgICAgICAgICBpZiAoeC5lbmQucm93ID09IG9sZFN0YXJ0LnJvdylcbiAgICAgICAgICAgICAgICAgICAgeC5lbmQuY29sdW1uICs9IGNvbGxEaWZmO1xuICAgICAgICAgICAgICAgIHguc3RhcnQucm93ICs9IHJvd0RpZmY7XG4gICAgICAgICAgICAgICAgeC5lbmQucm93ICs9IHJvd0RpZmY7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdG9SYW5nZTtcbiAgICB9O1xuICAgIHRoaXMuaW5kZW50Um93cyA9IGZ1bmN0aW9uKHN0YXJ0Um93LCBlbmRSb3csIGluZGVudFN0cmluZykge1xuICAgICAgICBpbmRlbnRTdHJpbmcgPSBpbmRlbnRTdHJpbmcucmVwbGFjZSgvXFx0L2csIHRoaXMuZ2V0VGFiU3RyaW5nKCkpO1xuICAgICAgICBmb3IgKHZhciByb3c9c3RhcnRSb3c7IHJvdzw9ZW5kUm93OyByb3crKylcbiAgICAgICAgICAgIHRoaXMuaW5zZXJ0KHtyb3c6IHJvdywgY29sdW1uOjB9LCBpbmRlbnRTdHJpbmcpO1xuICAgIH07XG4gICAgdGhpcy5vdXRkZW50Um93cyA9IGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgICB2YXIgcm93UmFuZ2UgPSByYW5nZS5jb2xsYXBzZVJvd3MoKTtcbiAgICAgICAgdmFyIGRlbGV0ZVJhbmdlID0gbmV3IFJhbmdlKDAsIDAsIDAsIDApO1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuZ2V0VGFiU2l6ZSgpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSByb3dSYW5nZS5zdGFydC5yb3c7IGkgPD0gcm93UmFuZ2UuZW5kLnJvdzsgKytpKSB7XG4gICAgICAgICAgICB2YXIgbGluZSA9IHRoaXMuZ2V0TGluZShpKTtcblxuICAgICAgICAgICAgZGVsZXRlUmFuZ2Uuc3RhcnQucm93ID0gaTtcbiAgICAgICAgICAgIGRlbGV0ZVJhbmdlLmVuZC5yb3cgPSBpO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzaXplOyArK2opXG4gICAgICAgICAgICAgICAgaWYgKGxpbmUuY2hhckF0KGopICE9ICcgJylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBpZiAoaiA8IHNpemUgJiYgbGluZS5jaGFyQXQoaikgPT0gJ1xcdCcpIHtcbiAgICAgICAgICAgICAgICBkZWxldGVSYW5nZS5zdGFydC5jb2x1bW4gPSBqO1xuICAgICAgICAgICAgICAgIGRlbGV0ZVJhbmdlLmVuZC5jb2x1bW4gPSBqICsgMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlUmFuZ2Uuc3RhcnQuY29sdW1uID0gMDtcbiAgICAgICAgICAgICAgICBkZWxldGVSYW5nZS5lbmQuY29sdW1uID0gajtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGRlbGV0ZVJhbmdlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLiRtb3ZlTGluZXMgPSBmdW5jdGlvbihmaXJzdFJvdywgbGFzdFJvdywgZGlyKSB7XG4gICAgICAgIGZpcnN0Um93ID0gdGhpcy5nZXRSb3dGb2xkU3RhcnQoZmlyc3RSb3cpO1xuICAgICAgICBsYXN0Um93ID0gdGhpcy5nZXRSb3dGb2xkRW5kKGxhc3RSb3cpO1xuICAgICAgICBpZiAoZGlyIDwgMCkge1xuICAgICAgICAgICAgdmFyIHJvdyA9IHRoaXMuZ2V0Um93Rm9sZFN0YXJ0KGZpcnN0Um93ICsgZGlyKTtcbiAgICAgICAgICAgIGlmIChyb3cgPCAwKSByZXR1cm4gMDtcbiAgICAgICAgICAgIHZhciBkaWZmID0gcm93LWZpcnN0Um93O1xuICAgICAgICB9IGVsc2UgaWYgKGRpciA+IDApIHtcbiAgICAgICAgICAgIHZhciByb3cgPSB0aGlzLmdldFJvd0ZvbGRFbmQobGFzdFJvdyArIGRpcik7XG4gICAgICAgICAgICBpZiAocm93ID4gdGhpcy5kb2MuZ2V0TGVuZ3RoKCktMSkgcmV0dXJuIDA7XG4gICAgICAgICAgICB2YXIgZGlmZiA9IHJvdy1sYXN0Um93O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmlyc3RSb3cgPSB0aGlzLiRjbGlwUm93VG9Eb2N1bWVudChmaXJzdFJvdyk7XG4gICAgICAgICAgICBsYXN0Um93ID0gdGhpcy4kY2xpcFJvd1RvRG9jdW1lbnQobGFzdFJvdyk7XG4gICAgICAgICAgICB2YXIgZGlmZiA9IGxhc3RSb3cgLSBmaXJzdFJvdyArIDE7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgUmFuZ2UoZmlyc3RSb3csIDAsIGxhc3RSb3csIE51bWJlci5NQVhfVkFMVUUpO1xuICAgICAgICB2YXIgZm9sZHMgPSB0aGlzLmdldEZvbGRzSW5SYW5nZShyYW5nZSkubWFwKGZ1bmN0aW9uKHgpe1xuICAgICAgICAgICAgeCA9IHguY2xvbmUoKTtcbiAgICAgICAgICAgIHguc3RhcnQucm93ICs9IGRpZmY7XG4gICAgICAgICAgICB4LmVuZC5yb3cgKz0gZGlmZjtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgbGluZXMgPSBkaXIgPT0gMFxuICAgICAgICAgICAgPyB0aGlzLmRvYy5nZXRMaW5lcyhmaXJzdFJvdywgbGFzdFJvdylcbiAgICAgICAgICAgIDogdGhpcy5kb2MucmVtb3ZlTGluZXMoZmlyc3RSb3csIGxhc3RSb3cpO1xuICAgICAgICB0aGlzLmRvYy5pbnNlcnRMaW5lcyhmaXJzdFJvdytkaWZmLCBsaW5lcyk7XG4gICAgICAgIGZvbGRzLmxlbmd0aCAmJiB0aGlzLmFkZEZvbGRzKGZvbGRzKTtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgfTtcbiAgICB0aGlzLm1vdmVMaW5lc1VwID0gZnVuY3Rpb24oZmlyc3RSb3csIGxhc3RSb3cpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJG1vdmVMaW5lcyhmaXJzdFJvdywgbGFzdFJvdywgLTEpO1xuICAgIH07XG4gICAgdGhpcy5tb3ZlTGluZXNEb3duID0gZnVuY3Rpb24oZmlyc3RSb3csIGxhc3RSb3cpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJG1vdmVMaW5lcyhmaXJzdFJvdywgbGFzdFJvdywgMSk7XG4gICAgfTtcbiAgICB0aGlzLmR1cGxpY2F0ZUxpbmVzID0gZnVuY3Rpb24oZmlyc3RSb3csIGxhc3RSb3cpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJG1vdmVMaW5lcyhmaXJzdFJvdywgbGFzdFJvdywgMCk7XG4gICAgfTtcblxuXG4gICAgdGhpcy4kY2xpcFJvd1RvRG9jdW1lbnQgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKHJvdywgdGhpcy5kb2MuZ2V0TGVuZ3RoKCktMSkpO1xuICAgIH07XG5cbiAgICB0aGlzLiRjbGlwQ29sdW1uVG9Sb3cgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICBpZiAoY29sdW1uIDwgMClcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICByZXR1cm4gTWF0aC5taW4odGhpcy5kb2MuZ2V0TGluZShyb3cpLmxlbmd0aCwgY29sdW1uKTtcbiAgICB9O1xuXG5cbiAgICB0aGlzLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgY29sdW1uID0gTWF0aC5tYXgoMCwgY29sdW1uKTtcblxuICAgICAgICBpZiAocm93IDwgMCkge1xuICAgICAgICAgICAgcm93ID0gMDtcbiAgICAgICAgICAgIGNvbHVtbiA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgbGVuID0gdGhpcy5kb2MuZ2V0TGVuZ3RoKCk7XG4gICAgICAgICAgICBpZiAocm93ID49IGxlbikge1xuICAgICAgICAgICAgICAgIHJvdyA9IGxlbiAtIDE7XG4gICAgICAgICAgICAgICAgY29sdW1uID0gdGhpcy5kb2MuZ2V0TGluZShsZW4tMSkubGVuZ3RoO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb2x1bW4gPSBNYXRoLm1pbih0aGlzLmRvYy5nZXRMaW5lKHJvdykubGVuZ3RoLCBjb2x1bW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJvdzogcm93LFxuICAgICAgICAgICAgY29sdW1uOiBjb2x1bW5cbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdGhpcy4kY2xpcFJhbmdlVG9Eb2N1bWVudCA9IGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIGlmIChyYW5nZS5zdGFydC5yb3cgPCAwKSB7XG4gICAgICAgICAgICByYW5nZS5zdGFydC5yb3cgPSAwO1xuICAgICAgICAgICAgcmFuZ2Uuc3RhcnQuY29sdW1uID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJhbmdlLnN0YXJ0LmNvbHVtbiA9IHRoaXMuJGNsaXBDb2x1bW5Ub1JvdyhcbiAgICAgICAgICAgICAgICByYW5nZS5zdGFydC5yb3csXG4gICAgICAgICAgICAgICAgcmFuZ2Uuc3RhcnQuY29sdW1uXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxlbiA9IHRoaXMuZG9jLmdldExlbmd0aCgpIC0gMTtcbiAgICAgICAgaWYgKHJhbmdlLmVuZC5yb3cgPiBsZW4pIHtcbiAgICAgICAgICAgIHJhbmdlLmVuZC5yb3cgPSBsZW47XG4gICAgICAgICAgICByYW5nZS5lbmQuY29sdW1uID0gdGhpcy5kb2MuZ2V0TGluZShsZW4pLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJhbmdlLmVuZC5jb2x1bW4gPSB0aGlzLiRjbGlwQ29sdW1uVG9Sb3coXG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kLnJvdyxcbiAgICAgICAgICAgICAgICByYW5nZS5lbmQuY29sdW1uXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByYW5nZTtcbiAgICB9O1xuICAgIHRoaXMuJHdyYXBMaW1pdCA9IDgwO1xuICAgIHRoaXMuJHVzZVdyYXBNb2RlID0gZmFsc2U7XG4gICAgdGhpcy4kd3JhcExpbWl0UmFuZ2UgPSB7XG4gICAgICAgIG1pbiA6IG51bGwsXG4gICAgICAgIG1heCA6IG51bGxcbiAgICB9O1xuICAgIHRoaXMuc2V0VXNlV3JhcE1vZGUgPSBmdW5jdGlvbih1c2VXcmFwTW9kZSkge1xuICAgICAgICBpZiAodXNlV3JhcE1vZGUgIT0gdGhpcy4kdXNlV3JhcE1vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuJHVzZVdyYXBNb2RlID0gdXNlV3JhcE1vZGU7XG4gICAgICAgICAgICB0aGlzLiRtb2RpZmllZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLiRyZXNldFJvd0NhY2hlKDApO1xuICAgICAgICAgICAgaWYgKHVzZVdyYXBNb2RlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxlbiA9IHRoaXMuZ2V0TGVuZ3RoKCk7XG4gICAgICAgICAgICAgICAgdGhpcy4kd3JhcERhdGEgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHdyYXBEYXRhLnB1c2goW10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLiR1cGRhdGVXcmFwRGF0YSgwLCBsZW4gLSAxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZW1pdChcImNoYW5nZVdyYXBNb2RlXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmdldFVzZVdyYXBNb2RlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiR1c2VXcmFwTW9kZTtcbiAgICB9O1xuICAgIHRoaXMuc2V0V3JhcExpbWl0UmFuZ2UgPSBmdW5jdGlvbihtaW4sIG1heCkge1xuICAgICAgICBpZiAodGhpcy4kd3JhcExpbWl0UmFuZ2UubWluICE9PSBtaW4gfHwgdGhpcy4kd3JhcExpbWl0UmFuZ2UubWF4ICE9PSBtYXgpIHtcbiAgICAgICAgICAgIHRoaXMuJHdyYXBMaW1pdFJhbmdlLm1pbiA9IG1pbjtcbiAgICAgICAgICAgIHRoaXMuJHdyYXBMaW1pdFJhbmdlLm1heCA9IG1heDtcbiAgICAgICAgICAgIHRoaXMuJG1vZGlmaWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoXCJjaGFuZ2VXcmFwTW9kZVwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5hZGp1c3RXcmFwTGltaXQgPSBmdW5jdGlvbihkZXNpcmVkTGltaXQsICRwcmludE1hcmdpbikge1xuICAgICAgICB2YXIgbGltaXRzID0gdGhpcy4kd3JhcExpbWl0UmFuZ2VcbiAgICAgICAgaWYgKGxpbWl0cy5tYXggPCAwKVxuICAgICAgICAgICAgbGltaXRzID0ge21pbjogJHByaW50TWFyZ2luLCBtYXg6ICRwcmludE1hcmdpbn07XG4gICAgICAgIHZhciB3cmFwTGltaXQgPSB0aGlzLiRjb25zdHJhaW5XcmFwTGltaXQoZGVzaXJlZExpbWl0LCBsaW1pdHMubWluLCBsaW1pdHMubWF4KTtcbiAgICAgICAgaWYgKHdyYXBMaW1pdCAhPSB0aGlzLiR3cmFwTGltaXQgJiYgd3JhcExpbWl0ID4gMSkge1xuICAgICAgICAgICAgdGhpcy4kd3JhcExpbWl0ID0gd3JhcExpbWl0O1xuICAgICAgICAgICAgdGhpcy4kbW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuJHVzZVdyYXBNb2RlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kdXBkYXRlV3JhcERhdGEoMCwgdGhpcy5nZXRMZW5ndGgoKSAtIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMuJHJlc2V0Um93Q2FjaGUoMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdChcImNoYW5nZVdyYXBMaW1pdFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgdGhpcy4kY29uc3RyYWluV3JhcExpbWl0ID0gZnVuY3Rpb24od3JhcExpbWl0LCBtaW4sIG1heCkge1xuICAgICAgICBpZiAobWluKVxuICAgICAgICAgICAgd3JhcExpbWl0ID0gTWF0aC5tYXgobWluLCB3cmFwTGltaXQpO1xuXG4gICAgICAgIGlmIChtYXgpXG4gICAgICAgICAgICB3cmFwTGltaXQgPSBNYXRoLm1pbihtYXgsIHdyYXBMaW1pdCk7XG5cbiAgICAgICAgcmV0dXJuIHdyYXBMaW1pdDtcbiAgICB9O1xuICAgIHRoaXMuZ2V0V3JhcExpbWl0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiR3cmFwTGltaXQ7XG4gICAgfTtcbiAgICB0aGlzLnNldFdyYXBMaW1pdCA9IGZ1bmN0aW9uIChsaW1pdCkge1xuICAgICAgICB0aGlzLnNldFdyYXBMaW1pdFJhbmdlKGxpbWl0LCBsaW1pdCk7XG4gICAgfTtcbiAgICB0aGlzLmdldFdyYXBMaW1pdFJhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW4gOiB0aGlzLiR3cmFwTGltaXRSYW5nZS5taW4sXG4gICAgICAgICAgICBtYXggOiB0aGlzLiR3cmFwTGltaXRSYW5nZS5tYXhcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdGhpcy4kdXBkYXRlSW50ZXJuYWxEYXRhT25DaGFuZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciB1c2VXcmFwTW9kZSA9IHRoaXMuJHVzZVdyYXBNb2RlO1xuICAgICAgICB2YXIgbGVuO1xuICAgICAgICB2YXIgYWN0aW9uID0gZS5kYXRhLmFjdGlvbjtcbiAgICAgICAgdmFyIGZpcnN0Um93ID0gZS5kYXRhLnJhbmdlLnN0YXJ0LnJvdztcbiAgICAgICAgdmFyIGxhc3RSb3cgPSBlLmRhdGEucmFuZ2UuZW5kLnJvdztcbiAgICAgICAgdmFyIHN0YXJ0ID0gZS5kYXRhLnJhbmdlLnN0YXJ0O1xuICAgICAgICB2YXIgZW5kID0gZS5kYXRhLnJhbmdlLmVuZDtcbiAgICAgICAgdmFyIHJlbW92ZWRGb2xkcyA9IG51bGw7XG5cbiAgICAgICAgaWYgKGFjdGlvbi5pbmRleE9mKFwiTGluZXNcIikgIT0gLTEpIHtcbiAgICAgICAgICAgIGlmIChhY3Rpb24gPT0gXCJpbnNlcnRMaW5lc1wiKSB7XG4gICAgICAgICAgICAgICAgbGFzdFJvdyA9IGZpcnN0Um93ICsgKGUuZGF0YS5saW5lcy5sZW5ndGgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsYXN0Um93ID0gZmlyc3RSb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZW4gPSBlLmRhdGEubGluZXMgPyBlLmRhdGEubGluZXMubGVuZ3RoIDogbGFzdFJvdyAtIGZpcnN0Um93O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGVuID0gbGFzdFJvdyAtIGZpcnN0Um93O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy4kdXBkYXRpbmcgPSB0cnVlO1xuICAgICAgICBpZiAobGVuICE9IDApIHtcbiAgICAgICAgICAgIGlmIChhY3Rpb24uaW5kZXhPZihcInJlbW92ZVwiKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXNbdXNlV3JhcE1vZGUgPyBcIiR3cmFwRGF0YVwiIDogXCIkcm93TGVuZ3RoQ2FjaGVcIl0uc3BsaWNlKGZpcnN0Um93LCBsZW4pO1xuXG4gICAgICAgICAgICAgICAgdmFyIGZvbGRMaW5lcyA9IHRoaXMuJGZvbGREYXRhO1xuICAgICAgICAgICAgICAgIHJlbW92ZWRGb2xkcyA9IHRoaXMuZ2V0Rm9sZHNJblJhbmdlKGUuZGF0YS5yYW5nZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGb2xkcyhyZW1vdmVkRm9sZHMpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGZvbGRMaW5lID0gdGhpcy5nZXRGb2xkTGluZShlbmQucm93KTtcbiAgICAgICAgICAgICAgICB2YXIgaWR4ID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoZm9sZExpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9sZExpbmUuYWRkUmVtb3ZlQ2hhcnMoZW5kLnJvdywgZW5kLmNvbHVtbiwgc3RhcnQuY29sdW1uIC0gZW5kLmNvbHVtbik7XG4gICAgICAgICAgICAgICAgICAgIGZvbGRMaW5lLnNoaWZ0Um93KC1sZW4pO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBmb2xkTGluZUJlZm9yZSA9IHRoaXMuZ2V0Rm9sZExpbmUoZmlyc3RSb3cpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm9sZExpbmVCZWZvcmUgJiYgZm9sZExpbmVCZWZvcmUgIT09IGZvbGRMaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb2xkTGluZUJlZm9yZS5tZXJnZShmb2xkTGluZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb2xkTGluZSA9IGZvbGRMaW5lQmVmb3JlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlkeCA9IGZvbGRMaW5lcy5pbmRleE9mKGZvbGRMaW5lKSArIDE7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZm9yIChpZHg7IGlkeCA8IGZvbGRMaW5lcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmb2xkTGluZSA9IGZvbGRMaW5lc1tpZHhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm9sZExpbmUuc3RhcnQucm93ID49IGVuZC5yb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRMaW5lLnNoaWZ0Um93KC1sZW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGFzdFJvdyA9IGZpcnN0Um93O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJncztcbiAgICAgICAgICAgICAgICBpZiAodXNlV3JhcE1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJncyA9IFtmaXJzdFJvdywgMF07XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIGFyZ3MucHVzaChbXSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHdyYXBEYXRhLnNwbGljZS5hcHBseSh0aGlzLiR3cmFwRGF0YSwgYXJncyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlbik7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MudW5zaGlmdChmaXJzdFJvdywgMCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvd0xlbmd0aENhY2hlLnNwbGljZS5hcHBseSh0aGlzLiRyb3dMZW5ndGhDYWNoZSwgYXJncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBmb2xkTGluZXMgPSB0aGlzLiRmb2xkRGF0YTtcbiAgICAgICAgICAgICAgICB2YXIgZm9sZExpbmUgPSB0aGlzLmdldEZvbGRMaW5lKGZpcnN0Um93KTtcbiAgICAgICAgICAgICAgICB2YXIgaWR4ID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoZm9sZExpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNtcCA9IGZvbGRMaW5lLnJhbmdlLmNvbXBhcmVJbnNpZGUoc3RhcnQucm93LCBzdGFydC5jb2x1bW4pXG4gICAgICAgICAgICAgICAgICAgIGlmIChjbXAgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9sZExpbmUgPSBmb2xkTGluZS5zcGxpdChzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb2xkTGluZS5zaGlmdFJvdyhsZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9sZExpbmUuYWRkUmVtb3ZlQ2hhcnMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFJvdywgMCwgZW5kLmNvbHVtbiAtIHN0YXJ0LmNvbHVtbik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgICAgICBpZiAoY21wID09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb2xkTGluZS5hZGRSZW1vdmVDaGFycyhmaXJzdFJvdywgMCwgZW5kLmNvbHVtbiAtIHN0YXJ0LmNvbHVtbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb2xkTGluZS5zaGlmdFJvdyhsZW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlkeCA9IGZvbGRMaW5lcy5pbmRleE9mKGZvbGRMaW5lKSArIDE7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZm9yIChpZHg7IGlkeCA8IGZvbGRMaW5lcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmb2xkTGluZSA9IGZvbGRMaW5lc1tpZHhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm9sZExpbmUuc3RhcnQucm93ID49IGZpcnN0Um93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb2xkTGluZS5zaGlmdFJvdyhsZW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGVuID0gTWF0aC5hYnMoZS5kYXRhLnJhbmdlLnN0YXJ0LmNvbHVtbiAtIGUuZGF0YS5yYW5nZS5lbmQuY29sdW1uKTtcbiAgICAgICAgICAgIGlmIChhY3Rpb24uaW5kZXhPZihcInJlbW92ZVwiKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgIHJlbW92ZWRGb2xkcyA9IHRoaXMuZ2V0Rm9sZHNJblJhbmdlKGUuZGF0YS5yYW5nZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGb2xkcyhyZW1vdmVkRm9sZHMpO1xuXG4gICAgICAgICAgICAgICAgbGVuID0gLWxlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBmb2xkTGluZSA9IHRoaXMuZ2V0Rm9sZExpbmUoZmlyc3RSb3cpO1xuICAgICAgICAgICAgaWYgKGZvbGRMaW5lKSB7XG4gICAgICAgICAgICAgICAgZm9sZExpbmUuYWRkUmVtb3ZlQ2hhcnMoZmlyc3RSb3csIHN0YXJ0LmNvbHVtbiwgbGVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1c2VXcmFwTW9kZSAmJiB0aGlzLiR3cmFwRGF0YS5sZW5ndGggIT0gdGhpcy5kb2MuZ2V0TGVuZ3RoKCkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJkb2MuZ2V0TGVuZ3RoKCkgYW5kICR3cmFwRGF0YS5sZW5ndGggaGF2ZSB0byBiZSB0aGUgc2FtZSFcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kdXBkYXRpbmcgPSBmYWxzZTtcblxuICAgICAgICBpZiAodXNlV3JhcE1vZGUpXG4gICAgICAgICAgICB0aGlzLiR1cGRhdGVXcmFwRGF0YShmaXJzdFJvdywgbGFzdFJvdyk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuJHVwZGF0ZVJvd0xlbmd0aENhY2hlKGZpcnN0Um93LCBsYXN0Um93KTtcblxuICAgICAgICByZXR1cm4gcmVtb3ZlZEZvbGRzO1xuICAgIH07XG5cbiAgICB0aGlzLiR1cGRhdGVSb3dMZW5ndGhDYWNoZSA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93LCBiKSB7XG4gICAgICAgIHRoaXMuJHJvd0xlbmd0aENhY2hlW2ZpcnN0Um93XSA9IG51bGw7XG4gICAgICAgIHRoaXMuJHJvd0xlbmd0aENhY2hlW2xhc3RSb3ddID0gbnVsbDtcbiAgICB9O1xuXG4gICAgdGhpcy4kdXBkYXRlV3JhcERhdGEgPSBmdW5jdGlvbihmaXJzdFJvdywgbGFzdFJvdykge1xuICAgICAgICB2YXIgbGluZXMgPSB0aGlzLmRvYy5nZXRBbGxMaW5lcygpO1xuICAgICAgICB2YXIgdGFiU2l6ZSA9IHRoaXMuZ2V0VGFiU2l6ZSgpO1xuICAgICAgICB2YXIgd3JhcERhdGEgPSB0aGlzLiR3cmFwRGF0YTtcbiAgICAgICAgdmFyIHdyYXBMaW1pdCA9IHRoaXMuJHdyYXBMaW1pdDtcbiAgICAgICAgdmFyIHRva2VucztcbiAgICAgICAgdmFyIGZvbGRMaW5lO1xuXG4gICAgICAgIHZhciByb3cgPSBmaXJzdFJvdztcbiAgICAgICAgbGFzdFJvdyA9IE1hdGgubWluKGxhc3RSb3csIGxpbmVzLmxlbmd0aCAtIDEpO1xuICAgICAgICB3aGlsZSAocm93IDw9IGxhc3RSb3cpIHtcbiAgICAgICAgICAgIGZvbGRMaW5lID0gdGhpcy5nZXRGb2xkTGluZShyb3csIGZvbGRMaW5lKTtcbiAgICAgICAgICAgIGlmICghZm9sZExpbmUpIHtcbiAgICAgICAgICAgICAgICB0b2tlbnMgPSB0aGlzLiRnZXREaXNwbGF5VG9rZW5zKGxhbmcuc3RyaW5nVHJpbVJpZ2h0KGxpbmVzW3Jvd10pKTtcbiAgICAgICAgICAgICAgICB3cmFwRGF0YVtyb3ddID0gdGhpcy4kY29tcHV0ZVdyYXBTcGxpdHModG9rZW5zLCB3cmFwTGltaXQsIHRhYlNpemUpO1xuICAgICAgICAgICAgICAgIHJvdyArKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdG9rZW5zID0gW107XG4gICAgICAgICAgICAgICAgZm9sZExpbmUud2FsayhmdW5jdGlvbihwbGFjZWhvbGRlciwgcm93LCBjb2x1bW4sIGxhc3RDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3YWxrVG9rZW5zO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBsYWNlaG9sZGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWxrVG9rZW5zID0gdGhpcy4kZ2V0RGlzcGxheVRva2VucyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXIsIHRva2Vucy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhbGtUb2tlbnNbMF0gPSBQTEFDRUhPTERFUl9TVEFSVDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHdhbGtUb2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2Fsa1Rva2Vuc1tpXSA9IFBMQUNFSE9MREVSX0JPRFk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWxrVG9rZW5zID0gdGhpcy4kZ2V0RGlzcGxheVRva2VucyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZXNbcm93XS5zdWJzdHJpbmcobGFzdENvbHVtbiwgY29sdW1uKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnMgPSB0b2tlbnMuY29uY2F0KHdhbGtUb2tlbnMpO1xuICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgIGZvbGRMaW5lLmVuZC5yb3csXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzW2ZvbGRMaW5lLmVuZC5yb3ddLmxlbmd0aCArIDFcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHdoaWxlICh0b2tlbnMubGVuZ3RoICE9IDAgJiYgdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXSA+PSBTUEFDRSlcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnBvcCgpO1xuXG4gICAgICAgICAgICAgICAgd3JhcERhdGFbZm9sZExpbmUuc3RhcnQucm93XVxuICAgICAgICAgICAgICAgICAgICA9IHRoaXMuJGNvbXB1dGVXcmFwU3BsaXRzKHRva2Vucywgd3JhcExpbWl0LCB0YWJTaXplKTtcbiAgICAgICAgICAgICAgICByb3cgPSBmb2xkTGluZS5lbmQucm93ICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIENIQVIgPSAxLFxuICAgICAgICBDSEFSX0VYVCA9IDIsXG4gICAgICAgIFBMQUNFSE9MREVSX1NUQVJUID0gMyxcbiAgICAgICAgUExBQ0VIT0xERVJfQk9EWSA9ICA0LFxuICAgICAgICBQVU5DVFVBVElPTiA9IDksXG4gICAgICAgIFNQQUNFID0gMTAsXG4gICAgICAgIFRBQiA9IDExLFxuICAgICAgICBUQUJfU1BBQ0UgPSAxMjtcblxuXG4gICAgdGhpcy4kY29tcHV0ZVdyYXBTcGxpdHMgPSBmdW5jdGlvbih0b2tlbnMsIHdyYXBMaW1pdCkge1xuICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3BsaXRzID0gW107XG4gICAgICAgIHZhciBkaXNwbGF5TGVuZ3RoID0gdG9rZW5zLmxlbmd0aDtcbiAgICAgICAgdmFyIGxhc3RTcGxpdCA9IDAsIGxhc3REb2NTcGxpdCA9IDA7XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkU3BsaXQoc2NyZWVuUG9zKSB7XG4gICAgICAgICAgICB2YXIgZGlzcGxheWVkID0gdG9rZW5zLnNsaWNlKGxhc3RTcGxpdCwgc2NyZWVuUG9zKTtcbiAgICAgICAgICAgIHZhciBsZW4gPSBkaXNwbGF5ZWQubGVuZ3RoO1xuICAgICAgICAgICAgZGlzcGxheWVkLmpvaW4oXCJcIikuXG4gICAgICAgICAgICAgICAgcmVwbGFjZSgvMTIvZywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlbiAtPSAxO1xuICAgICAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgICAgIHJlcGxhY2UoLzIvZywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlbiAtPSAxO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsYXN0RG9jU3BsaXQgKz0gbGVuO1xuICAgICAgICAgICAgc3BsaXRzLnB1c2gobGFzdERvY1NwbGl0KTtcbiAgICAgICAgICAgIGxhc3RTcGxpdCA9IHNjcmVlblBvcztcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChkaXNwbGF5TGVuZ3RoIC0gbGFzdFNwbGl0ID4gd3JhcExpbWl0KSB7XG4gICAgICAgICAgICB2YXIgc3BsaXQgPSBsYXN0U3BsaXQgKyB3cmFwTGltaXQ7XG4gICAgICAgICAgICBpZiAodG9rZW5zW3NwbGl0XSA+PSBTUEFDRSkge1xuICAgICAgICAgICAgICAgIHdoaWxlICh0b2tlbnNbc3BsaXRdID49IFNQQUNFKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwbGl0ICsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhZGRTcGxpdChzcGxpdCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG9rZW5zW3NwbGl0XSA9PSBQTEFDRUhPTERFUl9TVEFSVFxuICAgICAgICAgICAgICAgIHx8IHRva2Vuc1tzcGxpdF0gPT0gUExBQ0VIT0xERVJfQk9EWSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmb3IgKHNwbGl0OyBzcGxpdCAhPSBsYXN0U3BsaXQgLSAxOyBzcGxpdC0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbnNbc3BsaXRdID09IFBMQUNFSE9MREVSX1NUQVJUKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3BsaXQgPiBsYXN0U3BsaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkU3BsaXQoc3BsaXQpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3BsaXQgPSBsYXN0U3BsaXQgKyB3cmFwTGltaXQ7XG4gICAgICAgICAgICAgICAgZm9yIChzcGxpdDsgc3BsaXQgPCB0b2tlbnMubGVuZ3RoOyBzcGxpdCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbnNbc3BsaXRdICE9IFBMQUNFSE9MREVSX0JPRFkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzcGxpdCA9PSB0b2tlbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrOyAgLy8gQnJlYWtzIHRoZSB3aGlsZS1sb29wLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhZGRTcGxpdChzcGxpdCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbWluU3BsaXQgPSBNYXRoLm1heChzcGxpdCAtIDEwLCBsYXN0U3BsaXQgLSAxKTtcbiAgICAgICAgICAgIHdoaWxlIChzcGxpdCA+IG1pblNwbGl0ICYmIHRva2Vuc1tzcGxpdF0gPCBQTEFDRUhPTERFUl9TVEFSVCkge1xuICAgICAgICAgICAgICAgIHNwbGl0IC0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKHNwbGl0ID4gbWluU3BsaXQgJiYgdG9rZW5zW3NwbGl0XSA9PSBQVU5DVFVBVElPTikge1xuICAgICAgICAgICAgICAgIHNwbGl0IC0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNwbGl0ID4gbWluU3BsaXQpIHtcbiAgICAgICAgICAgICAgICBhZGRTcGxpdCgrK3NwbGl0KTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNwbGl0ID0gbGFzdFNwbGl0ICsgd3JhcExpbWl0O1xuICAgICAgICAgICAgYWRkU3BsaXQoc3BsaXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzcGxpdHM7XG4gICAgfTtcbiAgICB0aGlzLiRnZXREaXNwbGF5VG9rZW5zID0gZnVuY3Rpb24oc3RyLCBvZmZzZXQpIHtcbiAgICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgICB2YXIgdGFiU2l6ZTtcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICBpZiAoYyA9PSA5KSB7XG4gICAgICAgICAgICAgICAgdGFiU2l6ZSA9IHRoaXMuZ2V0U2NyZWVuVGFiU2l6ZShhcnIubGVuZ3RoICsgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICBhcnIucHVzaChUQUIpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIG4gPSAxOyBuIDwgdGFiU2l6ZTsgbisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKFRBQl9TUEFDRSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYyA9PSAzMikge1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKFNQQUNFKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZigoYyA+IDM5ICYmIGMgPCA0OCkgfHwgKGMgPiA1NyAmJiBjIDwgNjQpKSB7XG4gICAgICAgICAgICAgICAgYXJyLnB1c2goUFVOQ1RVQVRJT04pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYyA+PSAweDExMDAgJiYgaXNGdWxsV2lkdGgoYykpIHtcbiAgICAgICAgICAgICAgICBhcnIucHVzaChDSEFSLCBDSEFSX0VYVCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKENIQVIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfTtcbiAgICB0aGlzLiRnZXRTdHJpbmdTY3JlZW5XaWR0aCA9IGZ1bmN0aW9uKHN0ciwgbWF4U2NyZWVuQ29sdW1uLCBzY3JlZW5Db2x1bW4pIHtcbiAgICAgICAgaWYgKG1heFNjcmVlbkNvbHVtbiA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIFswLCAwXTtcbiAgICAgICAgaWYgKG1heFNjcmVlbkNvbHVtbiA9PSBudWxsKVxuICAgICAgICAgICAgbWF4U2NyZWVuQ29sdW1uID0gSW5maW5pdHk7XG4gICAgICAgIHNjcmVlbkNvbHVtbiA9IHNjcmVlbkNvbHVtbiB8fCAwO1xuXG4gICAgICAgIHZhciBjLCBjb2x1bW47XG4gICAgICAgIGZvciAoY29sdW1uID0gMDsgY29sdW1uIDwgc3RyLmxlbmd0aDsgY29sdW1uKyspIHtcbiAgICAgICAgICAgIGMgPSBzdHIuY2hhckNvZGVBdChjb2x1bW4pO1xuICAgICAgICAgICAgaWYgKGMgPT0gOSkge1xuICAgICAgICAgICAgICAgIHNjcmVlbkNvbHVtbiArPSB0aGlzLmdldFNjcmVlblRhYlNpemUoc2NyZWVuQ29sdW1uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGMgPj0gMHgxMTAwICYmIGlzRnVsbFdpZHRoKGMpKSB7XG4gICAgICAgICAgICAgICAgc2NyZWVuQ29sdW1uICs9IDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNjcmVlbkNvbHVtbiArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNjcmVlbkNvbHVtbiA+IG1heFNjcmVlbkNvbHVtbikge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtzY3JlZW5Db2x1bW4sIGNvbHVtbl07XG4gICAgfTtcbiAgICB0aGlzLmdldFJvd0xlbmd0aCA9IGZ1bmN0aW9uKHJvdykge1xuICAgICAgICBpZiAoIXRoaXMuJHVzZVdyYXBNb2RlIHx8ICF0aGlzLiR3cmFwRGF0YVtyb3ddKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiR3cmFwRGF0YVtyb3ddLmxlbmd0aCArIDE7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZ2V0U2NyZWVuTGFzdFJvd0NvbHVtbiA9IGZ1bmN0aW9uKHNjcmVlblJvdykge1xuICAgICAgICB2YXIgcG9zID0gdGhpcy5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24oc2NyZWVuUm93LCBOdW1iZXIuTUFYX1ZBTFVFKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnRUb1NjcmVlbkNvbHVtbihwb3Mucm93LCBwb3MuY29sdW1uKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0RG9jdW1lbnRMYXN0Um93Q29sdW1uID0gZnVuY3Rpb24oZG9jUm93LCBkb2NDb2x1bW4pIHtcbiAgICAgICAgdmFyIHNjcmVlblJvdyA9IHRoaXMuZG9jdW1lbnRUb1NjcmVlblJvdyhkb2NSb3csIGRvY0NvbHVtbik7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNjcmVlbkxhc3RSb3dDb2x1bW4oc2NyZWVuUm93KTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0RG9jdW1lbnRMYXN0Um93Q29sdW1uUG9zaXRpb24gPSBmdW5jdGlvbihkb2NSb3csIGRvY0NvbHVtbikge1xuICAgICAgICB2YXIgc2NyZWVuUm93ID0gdGhpcy5kb2N1bWVudFRvU2NyZWVuUm93KGRvY1JvdywgZG9jQ29sdW1uKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uKHNjcmVlblJvdywgTnVtYmVyLk1BWF9WQUxVRSAvIDEwKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0Um93U3BsaXREYXRhID0gZnVuY3Rpb24ocm93KSB7XG4gICAgICAgIGlmICghdGhpcy4kdXNlV3JhcE1vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kd3JhcERhdGFbcm93XTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5nZXRTY3JlZW5UYWJTaXplID0gZnVuY3Rpb24oc2NyZWVuQ29sdW1uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiR0YWJTaXplIC0gc2NyZWVuQ29sdW1uICUgdGhpcy4kdGFiU2l6ZTtcbiAgICB9O1xuXG5cbiAgICB0aGlzLnNjcmVlblRvRG9jdW1lbnRSb3cgPSBmdW5jdGlvbihzY3JlZW5Sb3csIHNjcmVlbkNvbHVtbikge1xuICAgICAgICByZXR1cm4gdGhpcy5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24oc2NyZWVuUm93LCBzY3JlZW5Db2x1bW4pLnJvdztcbiAgICB9O1xuXG5cbiAgICB0aGlzLnNjcmVlblRvRG9jdW1lbnRDb2x1bW4gPSBmdW5jdGlvbihzY3JlZW5Sb3csIHNjcmVlbkNvbHVtbikge1xuICAgICAgICByZXR1cm4gdGhpcy5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24oc2NyZWVuUm93LCBzY3JlZW5Db2x1bW4pLmNvbHVtbjtcbiAgICB9O1xuICAgIHRoaXMuc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uID0gZnVuY3Rpb24oc2NyZWVuUm93LCBzY3JlZW5Db2x1bW4pIHtcbiAgICAgICAgaWYgKHNjcmVlblJvdyA8IDApXG4gICAgICAgICAgICByZXR1cm4ge3JvdzogMCwgY29sdW1uOiAwfTtcblxuICAgICAgICB2YXIgbGluZTtcbiAgICAgICAgdmFyIGRvY1JvdyA9IDA7XG4gICAgICAgIHZhciBkb2NDb2x1bW4gPSAwO1xuICAgICAgICB2YXIgY29sdW1uO1xuICAgICAgICB2YXIgcm93ID0gMDtcbiAgICAgICAgdmFyIHJvd0xlbmd0aCA9IDA7XG5cbiAgICAgICAgdmFyIHJvd0NhY2hlID0gdGhpcy4kc2NyZWVuUm93Q2FjaGU7XG4gICAgICAgIHZhciBpID0gdGhpcy4kZ2V0Um93Q2FjaGVJbmRleChyb3dDYWNoZSwgc2NyZWVuUm93KTtcbiAgICAgICAgdmFyIGwgPSByb3dDYWNoZS5sZW5ndGg7XG4gICAgICAgIGlmIChsICYmIGkgPj0gMCkge1xuICAgICAgICAgICAgdmFyIHJvdyA9IHJvd0NhY2hlW2ldO1xuICAgICAgICAgICAgdmFyIGRvY1JvdyA9IHRoaXMuJGRvY1Jvd0NhY2hlW2ldO1xuICAgICAgICAgICAgdmFyIGRvQ2FjaGUgPSBzY3JlZW5Sb3cgPiByb3dDYWNoZVtsIC0gMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZG9DYWNoZSA9ICFsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1heFJvdyA9IHRoaXMuZ2V0TGVuZ3RoKCkgLSAxO1xuICAgICAgICB2YXIgZm9sZExpbmUgPSB0aGlzLmdldE5leHRGb2xkTGluZShkb2NSb3cpO1xuICAgICAgICB2YXIgZm9sZFN0YXJ0ID0gZm9sZExpbmUgPyBmb2xkTGluZS5zdGFydC5yb3cgOiBJbmZpbml0eTtcblxuICAgICAgICB3aGlsZSAocm93IDw9IHNjcmVlblJvdykge1xuICAgICAgICAgICAgcm93TGVuZ3RoID0gdGhpcy5nZXRSb3dMZW5ndGgoZG9jUm93KTtcbiAgICAgICAgICAgIGlmIChyb3cgKyByb3dMZW5ndGggLSAxID49IHNjcmVlblJvdyB8fCBkb2NSb3cgPj0gbWF4Um93KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJvdyArPSByb3dMZW5ndGg7XG4gICAgICAgICAgICAgICAgZG9jUm93Kys7XG4gICAgICAgICAgICAgICAgaWYgKGRvY1JvdyA+IGZvbGRTdGFydCkge1xuICAgICAgICAgICAgICAgICAgICBkb2NSb3cgPSBmb2xkTGluZS5lbmQucm93KzE7XG4gICAgICAgICAgICAgICAgICAgIGZvbGRMaW5lID0gdGhpcy5nZXROZXh0Rm9sZExpbmUoZG9jUm93LCBmb2xkTGluZSk7XG4gICAgICAgICAgICAgICAgICAgIGZvbGRTdGFydCA9IGZvbGRMaW5lID8gZm9sZExpbmUuc3RhcnQucm93IDogSW5maW5pdHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZG9DYWNoZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGRvY1Jvd0NhY2hlLnB1c2goZG9jUm93KTtcbiAgICAgICAgICAgICAgICB0aGlzLiRzY3JlZW5Sb3dDYWNoZS5wdXNoKHJvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZm9sZExpbmUgJiYgZm9sZExpbmUuc3RhcnQucm93IDw9IGRvY1Jvdykge1xuICAgICAgICAgICAgbGluZSA9IHRoaXMuZ2V0Rm9sZERpc3BsYXlMaW5lKGZvbGRMaW5lKTtcbiAgICAgICAgICAgIGRvY1JvdyA9IGZvbGRMaW5lLnN0YXJ0LnJvdztcbiAgICAgICAgfSBlbHNlIGlmIChyb3cgKyByb3dMZW5ndGggPD0gc2NyZWVuUm93IHx8IGRvY1JvdyA+IG1heFJvdykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByb3c6IG1heFJvdyxcbiAgICAgICAgICAgICAgICBjb2x1bW46IHRoaXMuZ2V0TGluZShtYXhSb3cpLmxlbmd0aFxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGluZSA9IHRoaXMuZ2V0TGluZShkb2NSb3cpO1xuICAgICAgICAgICAgZm9sZExpbmUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuJHVzZVdyYXBNb2RlKSB7XG4gICAgICAgICAgICB2YXIgc3BsaXRzID0gdGhpcy4kd3JhcERhdGFbZG9jUm93XTtcbiAgICAgICAgICAgIGlmIChzcGxpdHMpIHtcbiAgICAgICAgICAgICAgICBjb2x1bW4gPSBzcGxpdHNbc2NyZWVuUm93IC0gcm93XTtcbiAgICAgICAgICAgICAgICBpZihzY3JlZW5Sb3cgPiByb3cgJiYgc3BsaXRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBkb2NDb2x1bW4gPSBzcGxpdHNbc2NyZWVuUm93IC0gcm93IC0gMV0gfHwgc3BsaXRzW3NwbGl0cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9IGxpbmUuc3Vic3RyaW5nKGRvY0NvbHVtbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZG9jQ29sdW1uICs9IHRoaXMuJGdldFN0cmluZ1NjcmVlbldpZHRoKGxpbmUsIHNjcmVlbkNvbHVtbilbMV07XG4gICAgICAgIGlmICh0aGlzLiR1c2VXcmFwTW9kZSAmJiBkb2NDb2x1bW4gPj0gY29sdW1uKVxuICAgICAgICAgICAgZG9jQ29sdW1uID0gY29sdW1uIC0gMTtcblxuICAgICAgICBpZiAoZm9sZExpbmUpXG4gICAgICAgICAgICByZXR1cm4gZm9sZExpbmUuaWR4VG9Qb3NpdGlvbihkb2NDb2x1bW4pO1xuXG4gICAgICAgIHJldHVybiB7cm93OiBkb2NSb3csIGNvbHVtbjogZG9jQ29sdW1ufTtcbiAgICB9O1xuICAgIHRoaXMuZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uID0gZnVuY3Rpb24oZG9jUm93LCBkb2NDb2x1bW4pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkb2NDb2x1bW4gPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgICB2YXIgcG9zID0gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudChkb2NSb3cucm93LCBkb2NSb3cuY29sdW1uKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcG9zID0gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudChkb2NSb3csIGRvY0NvbHVtbik7XG5cbiAgICAgICAgZG9jUm93ID0gcG9zLnJvdztcbiAgICAgICAgZG9jQ29sdW1uID0gcG9zLmNvbHVtbjtcblxuICAgICAgICB2YXIgc2NyZWVuUm93ID0gMDtcbiAgICAgICAgdmFyIGZvbGRTdGFydFJvdyA9IG51bGw7XG4gICAgICAgIHZhciBmb2xkID0gbnVsbDtcbiAgICAgICAgZm9sZCA9IHRoaXMuZ2V0Rm9sZEF0KGRvY1JvdywgZG9jQ29sdW1uLCAxKTtcbiAgICAgICAgaWYgKGZvbGQpIHtcbiAgICAgICAgICAgIGRvY1JvdyA9IGZvbGQuc3RhcnQucm93O1xuICAgICAgICAgICAgZG9jQ29sdW1uID0gZm9sZC5zdGFydC5jb2x1bW47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcm93RW5kLCByb3cgPSAwO1xuXG5cbiAgICAgICAgdmFyIHJvd0NhY2hlID0gdGhpcy4kZG9jUm93Q2FjaGU7XG4gICAgICAgIHZhciBpID0gdGhpcy4kZ2V0Um93Q2FjaGVJbmRleChyb3dDYWNoZSwgZG9jUm93KTtcbiAgICAgICAgdmFyIGwgPSByb3dDYWNoZS5sZW5ndGg7XG4gICAgICAgIGlmIChsICYmIGkgPj0gMCkge1xuICAgICAgICAgICAgdmFyIHJvdyA9IHJvd0NhY2hlW2ldO1xuICAgICAgICAgICAgdmFyIHNjcmVlblJvdyA9IHRoaXMuJHNjcmVlblJvd0NhY2hlW2ldO1xuICAgICAgICAgICAgdmFyIGRvQ2FjaGUgPSBkb2NSb3cgPiByb3dDYWNoZVtsIC0gMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZG9DYWNoZSA9ICFsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGZvbGRMaW5lID0gdGhpcy5nZXROZXh0Rm9sZExpbmUocm93KTtcbiAgICAgICAgdmFyIGZvbGRTdGFydCA9IGZvbGRMaW5lID9mb2xkTGluZS5zdGFydC5yb3cgOkluZmluaXR5O1xuXG4gICAgICAgIHdoaWxlIChyb3cgPCBkb2NSb3cpIHtcbiAgICAgICAgICAgIGlmIChyb3cgPj0gZm9sZFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgcm93RW5kID0gZm9sZExpbmUuZW5kLnJvdyArIDE7XG4gICAgICAgICAgICAgICAgaWYgKHJvd0VuZCA+IGRvY1JvdylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZm9sZExpbmUgPSB0aGlzLmdldE5leHRGb2xkTGluZShyb3dFbmQsIGZvbGRMaW5lKTtcbiAgICAgICAgICAgICAgICBmb2xkU3RhcnQgPSBmb2xkTGluZSA/Zm9sZExpbmUuc3RhcnQucm93IDpJbmZpbml0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJvd0VuZCA9IHJvdyArIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNjcmVlblJvdyArPSB0aGlzLmdldFJvd0xlbmd0aChyb3cpO1xuICAgICAgICAgICAgcm93ID0gcm93RW5kO1xuXG4gICAgICAgICAgICBpZiAoZG9DYWNoZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGRvY1Jvd0NhY2hlLnB1c2gocm93KTtcbiAgICAgICAgICAgICAgICB0aGlzLiRzY3JlZW5Sb3dDYWNoZS5wdXNoKHNjcmVlblJvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRleHRMaW5lID0gXCJcIjtcbiAgICAgICAgaWYgKGZvbGRMaW5lICYmIHJvdyA+PSBmb2xkU3RhcnQpIHtcbiAgICAgICAgICAgIHRleHRMaW5lID0gdGhpcy5nZXRGb2xkRGlzcGxheUxpbmUoZm9sZExpbmUsIGRvY1JvdywgZG9jQ29sdW1uKTtcbiAgICAgICAgICAgIGZvbGRTdGFydFJvdyA9IGZvbGRMaW5lLnN0YXJ0LnJvdztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRleHRMaW5lID0gdGhpcy5nZXRMaW5lKGRvY1Jvdykuc3Vic3RyaW5nKDAsIGRvY0NvbHVtbik7XG4gICAgICAgICAgICBmb2xkU3RhcnRSb3cgPSBkb2NSb3c7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuJHVzZVdyYXBNb2RlKSB7XG4gICAgICAgICAgICB2YXIgd3JhcFJvdyA9IHRoaXMuJHdyYXBEYXRhW2ZvbGRTdGFydFJvd107XG4gICAgICAgICAgICB2YXIgc2NyZWVuUm93T2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIHdoaWxlICh0ZXh0TGluZS5sZW5ndGggPj0gd3JhcFJvd1tzY3JlZW5Sb3dPZmZzZXRdKSB7XG4gICAgICAgICAgICAgICAgc2NyZWVuUm93ICsrO1xuICAgICAgICAgICAgICAgIHNjcmVlblJvd09mZnNldCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGV4dExpbmUgPSB0ZXh0TGluZS5zdWJzdHJpbmcoXG4gICAgICAgICAgICAgICAgd3JhcFJvd1tzY3JlZW5Sb3dPZmZzZXQgLSAxXSB8fCAwLCB0ZXh0TGluZS5sZW5ndGhcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcm93OiBzY3JlZW5Sb3csXG4gICAgICAgICAgICBjb2x1bW46IHRoaXMuJGdldFN0cmluZ1NjcmVlbldpZHRoKHRleHRMaW5lKVswXVxuICAgICAgICB9O1xuICAgIH07XG4gICAgdGhpcy5kb2N1bWVudFRvU2NyZWVuQ29sdW1uID0gZnVuY3Rpb24ocm93LCBkb2NDb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHJvdywgZG9jQ29sdW1uKS5jb2x1bW47XG4gICAgfTtcbiAgICB0aGlzLmRvY3VtZW50VG9TY3JlZW5Sb3cgPSBmdW5jdGlvbihkb2NSb3csIGRvY0NvbHVtbikge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24oZG9jUm93LCBkb2NDb2x1bW4pLnJvdztcbiAgICB9O1xuICAgIHRoaXMuZ2V0U2NyZWVuTGVuZ3RoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzY3JlZW5Sb3dzID0gMDtcbiAgICAgICAgdmFyIGZvbGQgPSBudWxsO1xuICAgICAgICBpZiAoIXRoaXMuJHVzZVdyYXBNb2RlKSB7XG4gICAgICAgICAgICBzY3JlZW5Sb3dzID0gdGhpcy5nZXRMZW5ndGgoKTtcbiAgICAgICAgICAgIHZhciBmb2xkRGF0YSA9IHRoaXMuJGZvbGREYXRhO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb2xkRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGZvbGQgPSBmb2xkRGF0YVtpXTtcbiAgICAgICAgICAgICAgICBzY3JlZW5Sb3dzIC09IGZvbGQuZW5kLnJvdyAtIGZvbGQuc3RhcnQucm93O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGxhc3RSb3cgPSB0aGlzLiR3cmFwRGF0YS5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgcm93ID0gMCwgaSA9IDA7XG4gICAgICAgICAgICB2YXIgZm9sZCA9IHRoaXMuJGZvbGREYXRhW2krK107XG4gICAgICAgICAgICB2YXIgZm9sZFN0YXJ0ID0gZm9sZCA/IGZvbGQuc3RhcnQucm93IDpJbmZpbml0eTtcblxuICAgICAgICAgICAgd2hpbGUgKHJvdyA8IGxhc3RSb3cpIHtcbiAgICAgICAgICAgICAgICBzY3JlZW5Sb3dzICs9IHRoaXMuJHdyYXBEYXRhW3Jvd10ubGVuZ3RoICsgMTtcbiAgICAgICAgICAgICAgICByb3cgKys7XG4gICAgICAgICAgICAgICAgaWYgKHJvdyA+IGZvbGRTdGFydCkge1xuICAgICAgICAgICAgICAgICAgICByb3cgPSBmb2xkLmVuZC5yb3crMTtcbiAgICAgICAgICAgICAgICAgICAgZm9sZCA9IHRoaXMuJGZvbGREYXRhW2krK107XG4gICAgICAgICAgICAgICAgICAgIGZvbGRTdGFydCA9IGZvbGQgP2ZvbGQuc3RhcnQucm93IDpJbmZpbml0eTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2NyZWVuUm93cztcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGlzRnVsbFdpZHRoKGMpIHtcbiAgICAgICAgaWYgKGMgPCAweDExMDApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiBjID49IDB4MTEwMCAmJiBjIDw9IDB4MTE1RiB8fFxuICAgICAgICAgICAgICAgYyA+PSAweDExQTMgJiYgYyA8PSAweDExQTcgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHgxMUZBICYmIGMgPD0gMHgxMUZGIHx8XG4gICAgICAgICAgICAgICBjID49IDB4MjMyOSAmJiBjIDw9IDB4MjMyQSB8fFxuICAgICAgICAgICAgICAgYyA+PSAweDJFODAgJiYgYyA8PSAweDJFOTkgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHgyRTlCICYmIGMgPD0gMHgyRUYzIHx8XG4gICAgICAgICAgICAgICBjID49IDB4MkYwMCAmJiBjIDw9IDB4MkZENSB8fFxuICAgICAgICAgICAgICAgYyA+PSAweDJGRjAgJiYgYyA8PSAweDJGRkIgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHgzMDAwICYmIGMgPD0gMHgzMDNFIHx8XG4gICAgICAgICAgICAgICBjID49IDB4MzA0MSAmJiBjIDw9IDB4MzA5NiB8fFxuICAgICAgICAgICAgICAgYyA+PSAweDMwOTkgJiYgYyA8PSAweDMwRkYgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHgzMTA1ICYmIGMgPD0gMHgzMTJEIHx8XG4gICAgICAgICAgICAgICBjID49IDB4MzEzMSAmJiBjIDw9IDB4MzE4RSB8fFxuICAgICAgICAgICAgICAgYyA+PSAweDMxOTAgJiYgYyA8PSAweDMxQkEgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHgzMUMwICYmIGMgPD0gMHgzMUUzIHx8XG4gICAgICAgICAgICAgICBjID49IDB4MzFGMCAmJiBjIDw9IDB4MzIxRSB8fFxuICAgICAgICAgICAgICAgYyA+PSAweDMyMjAgJiYgYyA8PSAweDMyNDcgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHgzMjUwICYmIGMgPD0gMHgzMkZFIHx8XG4gICAgICAgICAgICAgICBjID49IDB4MzMwMCAmJiBjIDw9IDB4NERCRiB8fFxuICAgICAgICAgICAgICAgYyA+PSAweDRFMDAgJiYgYyA8PSAweEE0OEMgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHhBNDkwICYmIGMgPD0gMHhBNEM2IHx8XG4gICAgICAgICAgICAgICBjID49IDB4QTk2MCAmJiBjIDw9IDB4QTk3QyB8fFxuICAgICAgICAgICAgICAgYyA+PSAweEFDMDAgJiYgYyA8PSAweEQ3QTMgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHhEN0IwICYmIGMgPD0gMHhEN0M2IHx8XG4gICAgICAgICAgICAgICBjID49IDB4RDdDQiAmJiBjIDw9IDB4RDdGQiB8fFxuICAgICAgICAgICAgICAgYyA+PSAweEY5MDAgJiYgYyA8PSAweEZBRkYgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHhGRTEwICYmIGMgPD0gMHhGRTE5IHx8XG4gICAgICAgICAgICAgICBjID49IDB4RkUzMCAmJiBjIDw9IDB4RkU1MiB8fFxuICAgICAgICAgICAgICAgYyA+PSAweEZFNTQgJiYgYyA8PSAweEZFNjYgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHhGRTY4ICYmIGMgPD0gMHhGRTZCIHx8XG4gICAgICAgICAgICAgICBjID49IDB4RkYwMSAmJiBjIDw9IDB4RkY2MCB8fFxuICAgICAgICAgICAgICAgYyA+PSAweEZGRTAgJiYgYyA8PSAweEZGRTY7XG4gICAgfTtcblxufSkuY2FsbChFZGl0U2Vzc2lvbi5wcm90b3R5cGUpO1xuXG5hY2VxdWlyZShcIi4vZWRpdF9zZXNzaW9uL2ZvbGRpbmdcIikuRm9sZGluZy5jYWxsKEVkaXRTZXNzaW9uLnByb3RvdHlwZSk7XG5hY2VxdWlyZShcIi4vZWRpdF9zZXNzaW9uL2JyYWNrZXRfbWF0Y2hcIikuQnJhY2tldE1hdGNoLmNhbGwoRWRpdFNlc3Npb24ucHJvdG90eXBlKTtcblxuXG5jb25maWcuZGVmaW5lT3B0aW9ucyhFZGl0U2Vzc2lvbi5wcm90b3R5cGUsIFwic2Vzc2lvblwiLCB7XG4gICAgd3JhcDoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIXZhbHVlIHx8IHZhbHVlID09IFwib2ZmXCIpXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID09IFwiZnJlZVwiKVxuICAgICAgICAgICAgICAgIHZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID09IFwicHJpbnRNYXJnaW5cIilcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IC0xO1xuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUludCh2YWx1ZSwgMTApIHx8IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy4kd3JhcCA9PSB2YWx1ZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRVc2VXcmFwTW9kZShmYWxzZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBjb2wgPSB0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIiA/IHZhbHVlIDogbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFdyYXBMaW1pdFJhbmdlKGNvbCwgY29sKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFVzZVdyYXBNb2RlKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy4kd3JhcCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VXNlV3JhcE1vZGUoKSA/IHRoaXMuZ2V0V3JhcExpbWl0UmFuZ2UoKS5taW4gfHwgXCJmcmVlXCIgOiBcIm9mZlwiO1xuICAgICAgICB9LFxuICAgICAgICBoYW5kbGVzU2V0OiB0cnVlXG4gICAgfSxcbiAgICBmaXJzdExpbmVOdW1iZXI6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbigpIHt0aGlzLl9lbWl0KFwiY2hhbmdlQnJlYWtwb2ludFwiKTt9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IDFcbiAgICB9LFxuICAgIHVzZVdvcmtlcjoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHVzZVdvcmtlcikge1xuICAgICAgICAgICAgdGhpcy4kdXNlV29ya2VyID0gdXNlV29ya2VyO1xuXG4gICAgICAgICAgICB0aGlzLiRzdG9wV29ya2VyKCk7XG4gICAgICAgICAgICBpZiAodXNlV29ya2VyKVxuICAgICAgICAgICAgICAgIHRoaXMuJHN0YXJ0V29ya2VyKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGluaXRpYWxWYWx1ZTogdHJ1ZVxuICAgIH0sXG4gICAgdXNlU29mdFRhYnM6IHtpbml0aWFsVmFsdWU6IHRydWV9LFxuICAgIHRhYlNpemU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbih0YWJTaXplKSB7XG4gICAgICAgICAgICBpZiAoaXNOYU4odGFiU2l6ZSkgfHwgdGhpcy4kdGFiU2l6ZSA9PT0gdGFiU2l6ZSkgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLiRtb2RpZmllZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLiRyb3dMZW5ndGhDYWNoZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy4kdGFiU2l6ZSA9IHRhYlNpemU7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KFwiY2hhbmdlVGFiU2l6ZVwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5pdGlhbFZhbHVlOiA0LFxuICAgICAgICBoYW5kbGVzU2V0OiB0cnVlXG4gICAgfSxcbiAgICBvdmVyd3JpdGU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWwpIHt0aGlzLl9lbWl0KFwiY2hhbmdlT3ZlcndyaXRlXCIpO30sXG4gICAgICAgIGluaXRpYWxWYWx1ZTogZmFsc2VcbiAgICB9LFxuICAgIG5ld0xpbmVNb2RlOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsKSB7dGhpcy5kb2Muc2V0TmV3TGluZU1vZGUodmFsKX0sXG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMuZG9jLmdldE5ld0xpbmVNb2RlKCl9LFxuICAgICAgICBoYW5kbGVzU2V0OiB0cnVlXG4gICAgfVxufSk7XG5cbmV4cG9ydHMuRWRpdFNlc3Npb24gPSBFZGl0U2Vzc2lvbjtcbn0pO1xuXG5hY2UuZGVmaW5lKCdhY2Uvc2VsZWN0aW9uJywgW1wicmVxdWlyZVwiLCAnZXhwb3J0cycsICdtb2R1bGUnICwgJ2FjZS9saWIvb29wJywgJ2FjZS9saWIvbGFuZycsICdhY2UvbGliL2V2ZW50X2VtaXR0ZXInLCAnYWNlL3JhbmdlJ10sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuXG52YXIgb29wID0gYWNlcXVpcmUoXCIuL2xpYi9vb3BcIik7XG52YXIgbGFuZyA9IGFjZXF1aXJlKFwiLi9saWIvbGFuZ1wiKTtcbnZhciBFdmVudEVtaXR0ZXIgPSBhY2VxdWlyZShcIi4vbGliL2V2ZW50X2VtaXR0ZXJcIikuRXZlbnRFbWl0dGVyO1xudmFyIFJhbmdlID0gYWNlcXVpcmUoXCIuL3JhbmdlXCIpLlJhbmdlO1xudmFyIFNlbGVjdGlvbiA9IGZ1bmN0aW9uKHNlc3Npb24pIHtcbiAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgIHRoaXMuZG9jID0gc2Vzc2lvbi5nZXREb2N1bWVudCgpO1xuXG4gICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgIHRoaXMubGVhZCA9IHRoaXMuc2VsZWN0aW9uTGVhZCA9IHRoaXMuZG9jLmNyZWF0ZUFuY2hvcigwLCAwKTtcbiAgICB0aGlzLmFuY2hvciA9IHRoaXMuc2VsZWN0aW9uQW5jaG9yID0gdGhpcy5kb2MuY3JlYXRlQW5jaG9yKDAsIDApO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMubGVhZC5vbihcImNoYW5nZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHNlbGYuX2VtaXQoXCJjaGFuZ2VDdXJzb3JcIik7XG4gICAgICAgIGlmICghc2VsZi4kaXNFbXB0eSlcbiAgICAgICAgICAgIHNlbGYuX2VtaXQoXCJjaGFuZ2VTZWxlY3Rpb25cIik7XG4gICAgICAgIGlmICghc2VsZi4ka2VlcERlc2lyZWRDb2x1bW5PbkNoYW5nZSAmJiBlLm9sZC5jb2x1bW4gIT0gZS52YWx1ZS5jb2x1bW4pXG4gICAgICAgICAgICBzZWxmLiRkZXNpcmVkQ29sdW1uID0gbnVsbDtcbiAgICB9KTtcblxuICAgIHRoaXMuc2VsZWN0aW9uQW5jaG9yLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXNlbGYuJGlzRW1wdHkpXG4gICAgICAgICAgICBzZWxmLl9lbWl0KFwiY2hhbmdlU2VsZWN0aW9uXCIpO1xuICAgIH0pO1xufTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpO1xuICAgIHRoaXMuaXNFbXB0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuJGlzRW1wdHkgfHwgKFxuICAgICAgICAgICAgdGhpcy5hbmNob3Iucm93ID09IHRoaXMubGVhZC5yb3cgJiZcbiAgICAgICAgICAgIHRoaXMuYW5jaG9yLmNvbHVtbiA9PSB0aGlzLmxlYWQuY29sdW1uXG4gICAgICAgICkpO1xuICAgIH07XG4gICAgdGhpcy5pc011bHRpTGluZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmdldFJhbmdlKCkuaXNNdWx0aUxpbmUoKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0Q3Vyc29yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlYWQuZ2V0UG9zaXRpb24oKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0U2VsZWN0aW9uQW5jaG9yID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgdGhpcy5hbmNob3Iuc2V0UG9zaXRpb24ocm93LCBjb2x1bW4pO1xuXG4gICAgICAgIGlmICh0aGlzLiRpc0VtcHR5KSB7XG4gICAgICAgICAgICB0aGlzLiRpc0VtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KFwiY2hhbmdlU2VsZWN0aW9uXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmdldFNlbGVjdGlvbkFuY2hvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy4kaXNFbXB0eSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFNlbGVjdGlvbkxlYWQoKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hbmNob3IuZ2V0UG9zaXRpb24oKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0U2VsZWN0aW9uTGVhZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZWFkLmdldFBvc2l0aW9uKCk7XG4gICAgfTtcbiAgICB0aGlzLnNoaWZ0U2VsZWN0aW9uID0gZnVuY3Rpb24oY29sdW1ucykge1xuICAgICAgICBpZiAodGhpcy4kaXNFbXB0eSkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8odGhpcy5sZWFkLnJvdywgdGhpcy5sZWFkLmNvbHVtbiArIGNvbHVtbnMpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBhbmNob3IgPSB0aGlzLmdldFNlbGVjdGlvbkFuY2hvcigpO1xuICAgICAgICB2YXIgbGVhZCA9IHRoaXMuZ2V0U2VsZWN0aW9uTGVhZCgpO1xuXG4gICAgICAgIHZhciBpc0JhY2t3YXJkcyA9IHRoaXMuaXNCYWNrd2FyZHMoKTtcblxuICAgICAgICBpZiAoIWlzQmFja3dhcmRzIHx8IGFuY2hvci5jb2x1bW4gIT09IDApXG4gICAgICAgICAgICB0aGlzLnNldFNlbGVjdGlvbkFuY2hvcihhbmNob3Iucm93LCBhbmNob3IuY29sdW1uICsgY29sdW1ucyk7XG5cbiAgICAgICAgaWYgKGlzQmFja3dhcmRzIHx8IGxlYWQuY29sdW1uICE9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLiRtb3ZlU2VsZWN0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvclRvKGxlYWQucm93LCBsZWFkLmNvbHVtbiArIGNvbHVtbnMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuaXNCYWNrd2FyZHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFuY2hvciA9IHRoaXMuYW5jaG9yO1xuICAgICAgICB2YXIgbGVhZCA9IHRoaXMubGVhZDtcbiAgICAgICAgcmV0dXJuIChhbmNob3Iucm93ID4gbGVhZC5yb3cgfHwgKGFuY2hvci5yb3cgPT0gbGVhZC5yb3cgJiYgYW5jaG9yLmNvbHVtbiA+IGxlYWQuY29sdW1uKSk7XG4gICAgfTtcbiAgICB0aGlzLmdldFJhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhbmNob3IgPSB0aGlzLmFuY2hvcjtcbiAgICAgICAgdmFyIGxlYWQgPSB0aGlzLmxlYWQ7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNFbXB0eSgpKVxuICAgICAgICAgICAgcmV0dXJuIFJhbmdlLmZyb21Qb2ludHMobGVhZCwgbGVhZCk7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNCYWNrd2FyZHMoKSkge1xuICAgICAgICAgICAgcmV0dXJuIFJhbmdlLmZyb21Qb2ludHMobGVhZCwgYW5jaG9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKGFuY2hvciwgbGVhZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLiRpc0VtcHR5KSB7XG4gICAgICAgICAgICB0aGlzLiRpc0VtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoXCJjaGFuZ2VTZWxlY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuc2VsZWN0QWxsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBsYXN0Um93ID0gdGhpcy5kb2MuZ2V0TGVuZ3RoKCkgLSAxO1xuICAgICAgICB0aGlzLnNldFNlbGVjdGlvbkFuY2hvcigwLCAwKTtcbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8obGFzdFJvdywgdGhpcy5kb2MuZ2V0TGluZShsYXN0Um93KS5sZW5ndGgpO1xuICAgIH07XG4gICAgdGhpcy5zZXRSYW5nZSA9XG4gICAgdGhpcy5zZXRTZWxlY3Rpb25SYW5nZSA9IGZ1bmN0aW9uKHJhbmdlLCByZXZlcnNlKSB7XG4gICAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgICAgICB0aGlzLnNldFNlbGVjdGlvbkFuY2hvcihyYW5nZS5lbmQucm93LCByYW5nZS5lbmQuY29sdW1uKTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0VG8ocmFuZ2Uuc3RhcnQucm93LCByYW5nZS5zdGFydC5jb2x1bW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb25BbmNob3IocmFuZ2Uuc3RhcnQucm93LCByYW5nZS5zdGFydC5jb2x1bW4pO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RUbyhyYW5nZS5lbmQucm93LCByYW5nZS5lbmQuY29sdW1uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRkZXNpcmVkQ29sdW1uID0gbnVsbDtcbiAgICB9O1xuXG4gICAgdGhpcy4kbW92ZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKG1vdmVyKSB7XG4gICAgICAgIHZhciBsZWFkID0gdGhpcy5sZWFkO1xuICAgICAgICBpZiAodGhpcy4kaXNFbXB0eSlcbiAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0aW9uQW5jaG9yKGxlYWQucm93LCBsZWFkLmNvbHVtbik7XG5cbiAgICAgICAgbW92ZXIuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIHRoaXMuc2VsZWN0VG8gPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICB0aGlzLiRtb3ZlU2VsZWN0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8ocm93LCBjb2x1bW4pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMuc2VsZWN0VG9Qb3NpdGlvbiA9IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICB0aGlzLiRtb3ZlU2VsZWN0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihwb3MpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMuc2VsZWN0VXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbW92ZVNlbGVjdGlvbih0aGlzLm1vdmVDdXJzb3JVcCk7XG4gICAgfTtcbiAgICB0aGlzLnNlbGVjdERvd24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbW92ZVNlbGVjdGlvbih0aGlzLm1vdmVDdXJzb3JEb3duKTtcbiAgICB9O1xuICAgIHRoaXMuc2VsZWN0UmlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbW92ZVNlbGVjdGlvbih0aGlzLm1vdmVDdXJzb3JSaWdodCk7XG4gICAgfTtcbiAgICB0aGlzLnNlbGVjdExlZnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbW92ZVNlbGVjdGlvbih0aGlzLm1vdmVDdXJzb3JMZWZ0KTtcbiAgICB9O1xuICAgIHRoaXMuc2VsZWN0TGluZVN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJG1vdmVTZWxlY3Rpb24odGhpcy5tb3ZlQ3Vyc29yTGluZVN0YXJ0KTtcbiAgICB9O1xuICAgIHRoaXMuc2VsZWN0TGluZUVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRtb3ZlU2VsZWN0aW9uKHRoaXMubW92ZUN1cnNvckxpbmVFbmQpO1xuICAgIH07XG4gICAgdGhpcy5zZWxlY3RGaWxlRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJG1vdmVTZWxlY3Rpb24odGhpcy5tb3ZlQ3Vyc29yRmlsZUVuZCk7XG4gICAgfTtcbiAgICB0aGlzLnNlbGVjdEZpbGVTdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRtb3ZlU2VsZWN0aW9uKHRoaXMubW92ZUN1cnNvckZpbGVTdGFydCk7XG4gICAgfTtcbiAgICB0aGlzLnNlbGVjdFdvcmRSaWdodCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRtb3ZlU2VsZWN0aW9uKHRoaXMubW92ZUN1cnNvcldvcmRSaWdodCk7XG4gICAgfTtcbiAgICB0aGlzLnNlbGVjdFdvcmRMZWZ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJG1vdmVTZWxlY3Rpb24odGhpcy5tb3ZlQ3Vyc29yV29yZExlZnQpO1xuICAgIH07XG4gICAgdGhpcy5nZXRXb3JkUmFuZ2UgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICBpZiAodHlwZW9mIGNvbHVtbiA9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICB2YXIgY3Vyc29yID0gcm93IHx8IHRoaXMubGVhZDtcbiAgICAgICAgICAgIHJvdyA9IGN1cnNvci5yb3c7XG4gICAgICAgICAgICBjb2x1bW4gPSBjdXJzb3IuY29sdW1uO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24uZ2V0V29yZFJhbmdlKHJvdywgY29sdW1uKTtcbiAgICB9O1xuICAgIHRoaXMuc2VsZWN0V29yZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnNldFNlbGVjdGlvblJhbmdlKHRoaXMuZ2V0V29yZFJhbmdlKCkpO1xuICAgIH07XG4gICAgdGhpcy5zZWxlY3RBV29yZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY3Vyc29yID0gdGhpcy5nZXRDdXJzb3IoKTtcbiAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5zZXNzaW9uLmdldEFXb3JkUmFuZ2UoY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbik7XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0aW9uUmFuZ2UocmFuZ2UpO1xuICAgIH07XG5cbiAgICB0aGlzLmdldExpbmVSYW5nZSA9IGZ1bmN0aW9uKHJvdywgZXhjbHVkZUxhc3RDaGFyKSB7XG4gICAgICAgIHZhciByb3dTdGFydCA9IHR5cGVvZiByb3cgPT0gXCJudW1iZXJcIiA/IHJvdyA6IHRoaXMubGVhZC5yb3c7XG4gICAgICAgIHZhciByb3dFbmQ7XG5cbiAgICAgICAgdmFyIGZvbGRMaW5lID0gdGhpcy5zZXNzaW9uLmdldEZvbGRMaW5lKHJvd1N0YXJ0KTtcbiAgICAgICAgaWYgKGZvbGRMaW5lKSB7XG4gICAgICAgICAgICByb3dTdGFydCA9IGZvbGRMaW5lLnN0YXJ0LnJvdztcbiAgICAgICAgICAgIHJvd0VuZCA9IGZvbGRMaW5lLmVuZC5yb3c7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByb3dFbmQgPSByb3dTdGFydDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXhjbHVkZUxhc3RDaGFyKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShyb3dTdGFydCwgMCwgcm93RW5kLCB0aGlzLnNlc3Npb24uZ2V0TGluZShyb3dFbmQpLmxlbmd0aCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmFuZ2Uocm93U3RhcnQsIDAsIHJvd0VuZCArIDEsIDApO1xuICAgIH07XG4gICAgdGhpcy5zZWxlY3RMaW5lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0aW9uUmFuZ2UodGhpcy5nZXRMaW5lUmFuZ2UoKSk7XG4gICAgfTtcbiAgICB0aGlzLm1vdmVDdXJzb3JVcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLm1vdmVDdXJzb3JCeSgtMSwgMCk7XG4gICAgfTtcbiAgICB0aGlzLm1vdmVDdXJzb3JEb3duID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMubW92ZUN1cnNvckJ5KDEsIDApO1xuICAgIH07XG4gICAgdGhpcy5tb3ZlQ3Vyc29yTGVmdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY3Vyc29yID0gdGhpcy5sZWFkLmdldFBvc2l0aW9uKCksXG4gICAgICAgICAgICBmb2xkO1xuXG4gICAgICAgIGlmIChmb2xkID0gdGhpcy5zZXNzaW9uLmdldEZvbGRBdChjdXJzb3Iucm93LCBjdXJzb3IuY29sdW1uLCAtMSkpIHtcbiAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvclRvKGZvbGQuc3RhcnQucm93LCBmb2xkLnN0YXJ0LmNvbHVtbik7XG4gICAgICAgIH0gZWxzZSBpZiAoY3Vyc29yLmNvbHVtbiA9PSAwKSB7XG4gICAgICAgICAgICBpZiAoY3Vyc29yLnJvdyA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVDdXJzb3JUbyhjdXJzb3Iucm93IC0gMSwgdGhpcy5kb2MuZ2V0TGluZShjdXJzb3Iucm93IC0gMSkubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0YWJTaXplID0gdGhpcy5zZXNzaW9uLmdldFRhYlNpemUoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlc3Npb24uaXNUYWJTdG9wKGN1cnNvcikgJiYgdGhpcy5kb2MuZ2V0TGluZShjdXJzb3Iucm93KS5zbGljZShjdXJzb3IuY29sdW1uLXRhYlNpemUsIGN1cnNvci5jb2x1bW4pLnNwbGl0KFwiIFwiKS5sZW5ndGgtMSA9PSB0YWJTaXplKVxuICAgICAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvckJ5KDAsIC10YWJTaXplKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVDdXJzb3JCeSgwLCAtMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMubW92ZUN1cnNvclJpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjdXJzb3IgPSB0aGlzLmxlYWQuZ2V0UG9zaXRpb24oKSxcbiAgICAgICAgICAgIGZvbGQ7XG4gICAgICAgIGlmIChmb2xkID0gdGhpcy5zZXNzaW9uLmdldEZvbGRBdChjdXJzb3Iucm93LCBjdXJzb3IuY29sdW1uLCAxKSkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8oZm9sZC5lbmQucm93LCBmb2xkLmVuZC5jb2x1bW4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMubGVhZC5jb2x1bW4gPT0gdGhpcy5kb2MuZ2V0TGluZSh0aGlzLmxlYWQucm93KS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxlYWQucm93IDwgdGhpcy5kb2MuZ2V0TGVuZ3RoKCkgLSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8odGhpcy5sZWFkLnJvdyArIDEsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRhYlNpemUgPSB0aGlzLnNlc3Npb24uZ2V0VGFiU2l6ZSgpO1xuICAgICAgICAgICAgdmFyIGN1cnNvciA9IHRoaXMubGVhZDtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlc3Npb24uaXNUYWJTdG9wKGN1cnNvcikgJiYgdGhpcy5kb2MuZ2V0TGluZShjdXJzb3Iucm93KS5zbGljZShjdXJzb3IuY29sdW1uLCBjdXJzb3IuY29sdW1uK3RhYlNpemUpLnNwbGl0KFwiIFwiKS5sZW5ndGgtMSA9PSB0YWJTaXplKVxuICAgICAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvckJ5KDAsIHRhYlNpemUpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvckJ5KDAsIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLm1vdmVDdXJzb3JMaW5lU3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJvdyA9IHRoaXMubGVhZC5yb3c7XG4gICAgICAgIHZhciBjb2x1bW4gPSB0aGlzLmxlYWQuY29sdW1uO1xuICAgICAgICB2YXIgc2NyZWVuUm93ID0gdGhpcy5zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Sb3cocm93LCBjb2x1bW4pO1xuICAgICAgICB2YXIgZmlyc3RDb2x1bW5Qb3NpdGlvbiA9IHRoaXMuc2Vzc2lvbi5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24oc2NyZWVuUm93LCAwKTtcbiAgICAgICAgdmFyIGJlZm9yZUN1cnNvciA9IHRoaXMuc2Vzc2lvbi5nZXREaXNwbGF5TGluZShcbiAgICAgICAgICAgIHJvdywgbnVsbCwgZmlyc3RDb2x1bW5Qb3NpdGlvbi5yb3csXG4gICAgICAgICAgICBmaXJzdENvbHVtblBvc2l0aW9uLmNvbHVtblxuICAgICAgICApO1xuXG4gICAgICAgIHZhciBsZWFkaW5nU3BhY2UgPSBiZWZvcmVDdXJzb3IubWF0Y2goL15cXHMqLyk7XG4gICAgICAgIGlmIChsZWFkaW5nU3BhY2VbMF0ubGVuZ3RoICE9IGNvbHVtbiAmJiAhdGhpcy5zZXNzaW9uLiR1c2VFbWFjc1N0eWxlTGluZVN0YXJ0KVxuICAgICAgICAgICAgZmlyc3RDb2x1bW5Qb3NpdGlvbi5jb2x1bW4gKz0gbGVhZGluZ1NwYWNlWzBdLmxlbmd0aDtcbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihmaXJzdENvbHVtblBvc2l0aW9uKTtcbiAgICB9O1xuICAgIHRoaXMubW92ZUN1cnNvckxpbmVFbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGxlYWQgPSB0aGlzLmxlYWQ7XG4gICAgICAgIHZhciBsaW5lRW5kID0gdGhpcy5zZXNzaW9uLmdldERvY3VtZW50TGFzdFJvd0NvbHVtblBvc2l0aW9uKGxlYWQucm93LCBsZWFkLmNvbHVtbik7XG4gICAgICAgIGlmICh0aGlzLmxlYWQuY29sdW1uID09IGxpbmVFbmQuY29sdW1uKSB7XG4gICAgICAgICAgICB2YXIgbGluZSA9IHRoaXMuc2Vzc2lvbi5nZXRMaW5lKGxpbmVFbmQucm93KTtcbiAgICAgICAgICAgIGlmIChsaW5lRW5kLmNvbHVtbiA9PSBsaW5lLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0RW5kID0gbGluZS5zZWFyY2goL1xccyskLyk7XG4gICAgICAgICAgICAgICAgaWYgKHRleHRFbmQgPiAwKVxuICAgICAgICAgICAgICAgICAgICBsaW5lRW5kLmNvbHVtbiA9IHRleHRFbmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1vdmVDdXJzb3JUbyhsaW5lRW5kLnJvdywgbGluZUVuZC5jb2x1bW4pO1xuICAgIH07XG4gICAgdGhpcy5tb3ZlQ3Vyc29yRmlsZUVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcm93ID0gdGhpcy5kb2MuZ2V0TGVuZ3RoKCkgLSAxO1xuICAgICAgICB2YXIgY29sdW1uID0gdGhpcy5kb2MuZ2V0TGluZShyb3cpLmxlbmd0aDtcbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8ocm93LCBjb2x1bW4pO1xuICAgIH07XG4gICAgdGhpcy5tb3ZlQ3Vyc29yRmlsZVN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMubW92ZUN1cnNvclRvKDAsIDApO1xuICAgIH07XG4gICAgdGhpcy5tb3ZlQ3Vyc29yTG9uZ1dvcmRSaWdodCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcm93ID0gdGhpcy5sZWFkLnJvdztcbiAgICAgICAgdmFyIGNvbHVtbiA9IHRoaXMubGVhZC5jb2x1bW47XG4gICAgICAgIHZhciBsaW5lID0gdGhpcy5kb2MuZ2V0TGluZShyb3cpO1xuICAgICAgICB2YXIgcmlnaHRPZkN1cnNvciA9IGxpbmUuc3Vic3RyaW5nKGNvbHVtbik7XG5cbiAgICAgICAgdmFyIG1hdGNoO1xuICAgICAgICB0aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5sYXN0SW5kZXggPSAwO1xuICAgICAgICB0aGlzLnNlc3Npb24udG9rZW5SZS5sYXN0SW5kZXggPSAwO1xuICAgICAgICB2YXIgZm9sZCA9IHRoaXMuc2Vzc2lvbi5nZXRGb2xkQXQocm93LCBjb2x1bW4sIDEpO1xuICAgICAgICBpZiAoZm9sZCkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8oZm9sZC5lbmQucm93LCBmb2xkLmVuZC5jb2x1bW4pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXRjaCA9IHRoaXMuc2Vzc2lvbi5ub25Ub2tlblJlLmV4ZWMocmlnaHRPZkN1cnNvcikpIHtcbiAgICAgICAgICAgIGNvbHVtbiArPSB0aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5sYXN0SW5kZXg7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgcmlnaHRPZkN1cnNvciA9IGxpbmUuc3Vic3RyaW5nKGNvbHVtbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbHVtbiA+PSBsaW5lLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8ocm93LCBsaW5lLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLm1vdmVDdXJzb3JSaWdodCgpO1xuICAgICAgICAgICAgaWYgKHJvdyA8IHRoaXMuZG9jLmdldExlbmd0aCgpIC0gMSlcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVDdXJzb3JXb3JkUmlnaHQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF0Y2ggPSB0aGlzLnNlc3Npb24udG9rZW5SZS5leGVjKHJpZ2h0T2ZDdXJzb3IpKSB7XG4gICAgICAgICAgICBjb2x1bW4gKz0gdGhpcy5zZXNzaW9uLnRva2VuUmUubGFzdEluZGV4O1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnRva2VuUmUubGFzdEluZGV4ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubW92ZUN1cnNvclRvKHJvdywgY29sdW1uKTtcbiAgICB9O1xuICAgIHRoaXMubW92ZUN1cnNvckxvbmdXb3JkTGVmdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcm93ID0gdGhpcy5sZWFkLnJvdztcbiAgICAgICAgdmFyIGNvbHVtbiA9IHRoaXMubGVhZC5jb2x1bW47XG4gICAgICAgIHZhciBmb2xkO1xuICAgICAgICBpZiAoZm9sZCA9IHRoaXMuc2Vzc2lvbi5nZXRGb2xkQXQocm93LCBjb2x1bW4sIC0xKSkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8oZm9sZC5zdGFydC5yb3csIGZvbGQuc3RhcnQuY29sdW1uKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdHIgPSB0aGlzLnNlc3Npb24uZ2V0Rm9sZFN0cmluZ0F0KHJvdywgY29sdW1uLCAtMSk7XG4gICAgICAgIGlmIChzdHIgPT0gbnVsbCkge1xuICAgICAgICAgICAgc3RyID0gdGhpcy5kb2MuZ2V0TGluZShyb3cpLnN1YnN0cmluZygwLCBjb2x1bW4pXG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGVmdE9mQ3Vyc29yID0gbGFuZy5zdHJpbmdSZXZlcnNlKHN0cik7XG4gICAgICAgIHZhciBtYXRjaDtcbiAgICAgICAgdGhpcy5zZXNzaW9uLm5vblRva2VuUmUubGFzdEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnRva2VuUmUubGFzdEluZGV4ID0gMDtcbiAgICAgICAgaWYgKG1hdGNoID0gdGhpcy5zZXNzaW9uLm5vblRva2VuUmUuZXhlYyhsZWZ0T2ZDdXJzb3IpKSB7XG4gICAgICAgICAgICBjb2x1bW4gLT0gdGhpcy5zZXNzaW9uLm5vblRva2VuUmUubGFzdEluZGV4O1xuICAgICAgICAgICAgbGVmdE9mQ3Vyc29yID0gbGVmdE9mQ3Vyc29yLnNsaWNlKHRoaXMuc2Vzc2lvbi5ub25Ub2tlblJlLmxhc3RJbmRleCk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5sYXN0SW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2x1bW4gPD0gMCkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8ocm93LCAwKTtcbiAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvckxlZnQoKTtcbiAgICAgICAgICAgIGlmIChyb3cgPiAwKVxuICAgICAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvcldvcmRMZWZ0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoID0gdGhpcy5zZXNzaW9uLnRva2VuUmUuZXhlYyhsZWZ0T2ZDdXJzb3IpKSB7XG4gICAgICAgICAgICBjb2x1bW4gLT0gdGhpcy5zZXNzaW9uLnRva2VuUmUubGFzdEluZGV4O1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnRva2VuUmUubGFzdEluZGV4ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubW92ZUN1cnNvclRvKHJvdywgY29sdW1uKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kc2hvcnRXb3JkRW5kSW5kZXggPSBmdW5jdGlvbihyaWdodE9mQ3Vyc29yKSB7XG4gICAgICAgIHZhciBtYXRjaCwgaW5kZXggPSAwLCBjaDtcbiAgICAgICAgdmFyIHdoaXRlc3BhY2VSZSA9IC9cXHMvO1xuICAgICAgICB2YXIgdG9rZW5SZSA9IHRoaXMuc2Vzc2lvbi50b2tlblJlO1xuXG4gICAgICAgIHRva2VuUmUubGFzdEluZGV4ID0gMDtcbiAgICAgICAgaWYgKG1hdGNoID0gdGhpcy5zZXNzaW9uLnRva2VuUmUuZXhlYyhyaWdodE9mQ3Vyc29yKSkge1xuICAgICAgICAgICAgaW5kZXggPSB0aGlzLnNlc3Npb24udG9rZW5SZS5sYXN0SW5kZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aGlsZSAoKGNoID0gcmlnaHRPZkN1cnNvcltpbmRleF0pICYmIHdoaXRlc3BhY2VSZS50ZXN0KGNoKSlcbiAgICAgICAgICAgICAgICBpbmRleCArKztcblxuICAgICAgICAgICAgaWYgKGluZGV4IDw9IDEpIHtcbiAgICAgICAgICAgICAgICB0b2tlblJlLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgIHdoaWxlICgoY2ggPSByaWdodE9mQ3Vyc29yW2luZGV4XSkgJiYgIXRva2VuUmUudGVzdChjaCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5SZS5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICBpbmRleCArKztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdoaXRlc3BhY2VSZS50ZXN0KGNoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4LS1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChjaCA9IHJpZ2h0T2ZDdXJzb3JbaW5kZXhdKSAmJiB3aGl0ZXNwYWNlUmUudGVzdChjaCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ICsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IDIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdG9rZW5SZS5sYXN0SW5kZXggPSAwO1xuXG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9O1xuXG4gICAgdGhpcy5tb3ZlQ3Vyc29yU2hvcnRXb3JkUmlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJvdyA9IHRoaXMubGVhZC5yb3c7XG4gICAgICAgIHZhciBjb2x1bW4gPSB0aGlzLmxlYWQuY29sdW1uO1xuICAgICAgICB2YXIgbGluZSA9IHRoaXMuZG9jLmdldExpbmUocm93KTtcbiAgICAgICAgdmFyIHJpZ2h0T2ZDdXJzb3IgPSBsaW5lLnN1YnN0cmluZyhjb2x1bW4pO1xuXG4gICAgICAgIHZhciBmb2xkID0gdGhpcy5zZXNzaW9uLmdldEZvbGRBdChyb3csIGNvbHVtbiwgMSk7XG4gICAgICAgIGlmIChmb2xkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW92ZUN1cnNvclRvKGZvbGQuZW5kLnJvdywgZm9sZC5lbmQuY29sdW1uKTtcblxuICAgICAgICBpZiAoY29sdW1uID09IGxpbmUubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgbCA9IHRoaXMuZG9jLmdldExlbmd0aCgpO1xuICAgICAgICAgICAgZG8geyAgICBcbiAgICAgICAgICAgICAgICByb3crKztcbiAgICAgICAgICAgICAgICByaWdodE9mQ3Vyc29yID0gdGhpcy5kb2MuZ2V0TGluZShyb3cpXG4gICAgICAgICAgICB9IHdoaWxlIChyb3cgPCBsICYmIC9eXFxzKiQvLnRlc3QocmlnaHRPZkN1cnNvcikpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghL15cXHMrLy50ZXN0KHJpZ2h0T2ZDdXJzb3IpKVxuICAgICAgICAgICAgICAgIHJpZ2h0T2ZDdXJzb3IgPSBcIlwiXG4gICAgICAgICAgICBjb2x1bW4gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy4kc2hvcnRXb3JkRW5kSW5kZXgocmlnaHRPZkN1cnNvcik7XG5cbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8ocm93LCBjb2x1bW4gKyBpbmRleCk7XG4gICAgfTtcblxuICAgIHRoaXMubW92ZUN1cnNvclNob3J0V29yZExlZnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJvdyA9IHRoaXMubGVhZC5yb3c7XG4gICAgICAgIHZhciBjb2x1bW4gPSB0aGlzLmxlYWQuY29sdW1uO1xuXG4gICAgICAgIHZhciBmb2xkO1xuICAgICAgICBpZiAoZm9sZCA9IHRoaXMuc2Vzc2lvbi5nZXRGb2xkQXQocm93LCBjb2x1bW4sIC0xKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vdmVDdXJzb3JUbyhmb2xkLnN0YXJ0LnJvdywgZm9sZC5zdGFydC5jb2x1bW4pO1xuXG4gICAgICAgIHZhciBsaW5lID0gdGhpcy5zZXNzaW9uLmdldExpbmUocm93KS5zdWJzdHJpbmcoMCwgY29sdW1uKTtcbiAgICAgICAgaWYgKGNvbHVtbiA9PSAwKSB7XG4gICAgICAgICAgICBkbyB7ICAgIFxuICAgICAgICAgICAgICAgIHJvdy0tO1xuICAgICAgICAgICAgICAgIGxpbmUgPSB0aGlzLmRvYy5nZXRMaW5lKHJvdyk7XG4gICAgICAgICAgICB9IHdoaWxlIChyb3cgPiAwICYmIC9eXFxzKiQvLnRlc3QobGluZSkpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbHVtbiA9IGxpbmUubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKCEvXFxzKyQvLnRlc3QobGluZSkpXG4gICAgICAgICAgICAgICAgbGluZSA9IFwiXCJcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsZWZ0T2ZDdXJzb3IgPSBsYW5nLnN0cmluZ1JldmVyc2UobGluZSk7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuJHNob3J0V29yZEVuZEluZGV4KGxlZnRPZkN1cnNvcik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubW92ZUN1cnNvclRvKHJvdywgY29sdW1uIC0gaW5kZXgpO1xuICAgIH07XG5cbiAgICB0aGlzLm1vdmVDdXJzb3JXb3JkUmlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbi4kc2VsZWN0TG9uZ1dvcmRzKVxuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yTG9uZ1dvcmRSaWdodCgpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLm1vdmVDdXJzb3JTaG9ydFdvcmRSaWdodCgpO1xuICAgIH07XG5cbiAgICB0aGlzLm1vdmVDdXJzb3JXb3JkTGVmdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5zZXNzaW9uLiRzZWxlY3RMb25nV29yZHMpXG4gICAgICAgICAgICB0aGlzLm1vdmVDdXJzb3JMb25nV29yZExlZnQoKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yU2hvcnRXb3JkTGVmdCgpO1xuICAgIH07XG4gICAgdGhpcy5tb3ZlQ3Vyc29yQnkgPSBmdW5jdGlvbihyb3dzLCBjaGFycykge1xuICAgICAgICB2YXIgc2NyZWVuUG9zID0gdGhpcy5zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbihcbiAgICAgICAgICAgIHRoaXMubGVhZC5yb3csXG4gICAgICAgICAgICB0aGlzLmxlYWQuY29sdW1uXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGNoYXJzID09PSAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kZGVzaXJlZENvbHVtbilcbiAgICAgICAgICAgICAgICBzY3JlZW5Qb3MuY29sdW1uID0gdGhpcy4kZGVzaXJlZENvbHVtbjtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLiRkZXNpcmVkQ29sdW1uID0gc2NyZWVuUG9zLmNvbHVtbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkb2NQb3MgPSB0aGlzLnNlc3Npb24uc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uKHNjcmVlblBvcy5yb3cgKyByb3dzLCBzY3JlZW5Qb3MuY29sdW1uKTtcbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8oZG9jUG9zLnJvdywgZG9jUG9zLmNvbHVtbiArIGNoYXJzLCBjaGFycyA9PT0gMCk7XG4gICAgfTtcbiAgICB0aGlzLm1vdmVDdXJzb3JUb1Bvc2l0aW9uID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8ocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4pO1xuICAgIH07XG4gICAgdGhpcy5tb3ZlQ3Vyc29yVG8gPSBmdW5jdGlvbihyb3csIGNvbHVtbiwga2VlcERlc2lyZWRDb2x1bW4pIHtcbiAgICAgICAgdmFyIGZvbGQgPSB0aGlzLnNlc3Npb24uZ2V0Rm9sZEF0KHJvdywgY29sdW1uLCAxKTtcbiAgICAgICAgaWYgKGZvbGQpIHtcbiAgICAgICAgICAgIHJvdyA9IGZvbGQuc3RhcnQucm93O1xuICAgICAgICAgICAgY29sdW1uID0gZm9sZC5zdGFydC5jb2x1bW47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiRrZWVwRGVzaXJlZENvbHVtbk9uQ2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5sZWFkLnNldFBvc2l0aW9uKHJvdywgY29sdW1uKTtcbiAgICAgICAgdGhpcy4ka2VlcERlc2lyZWRDb2x1bW5PbkNoYW5nZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICgha2VlcERlc2lyZWRDb2x1bW4pXG4gICAgICAgICAgICB0aGlzLiRkZXNpcmVkQ29sdW1uID0gbnVsbDtcbiAgICB9O1xuICAgIHRoaXMubW92ZUN1cnNvclRvU2NyZWVuID0gZnVuY3Rpb24ocm93LCBjb2x1bW4sIGtlZXBEZXNpcmVkQ29sdW1uKSB7XG4gICAgICAgIHZhciBwb3MgPSB0aGlzLnNlc3Npb24uc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uKHJvdywgY29sdW1uKTtcbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8ocG9zLnJvdywgcG9zLmNvbHVtbiwga2VlcERlc2lyZWRDb2x1bW4pO1xuICAgIH07XG4gICAgdGhpcy5kZXRhY2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5sZWFkLmRldGFjaCgpO1xuICAgICAgICB0aGlzLmFuY2hvci5kZXRhY2goKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gdGhpcy5kb2MgPSBudWxsO1xuICAgIH1cblxuICAgIHRoaXMuZnJvbU9yaWVudGVkUmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICB0aGlzLnNldFNlbGVjdGlvblJhbmdlKHJhbmdlLCByYW5nZS5jdXJzb3IgPT0gcmFuZ2Uuc3RhcnQpO1xuICAgICAgICB0aGlzLiRkZXNpcmVkQ29sdW1uID0gcmFuZ2UuZGVzaXJlZENvbHVtbiB8fCB0aGlzLiRkZXNpcmVkQ29sdW1uO1xuICAgIH1cblxuICAgIHRoaXMudG9PcmllbnRlZFJhbmdlID0gZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgdmFyIHIgPSB0aGlzLmdldFJhbmdlKCk7XG4gICAgICAgIGlmIChyYW5nZSkge1xuICAgICAgICAgICAgcmFuZ2Uuc3RhcnQuY29sdW1uID0gci5zdGFydC5jb2x1bW47XG4gICAgICAgICAgICByYW5nZS5zdGFydC5yb3cgPSByLnN0YXJ0LnJvdztcbiAgICAgICAgICAgIHJhbmdlLmVuZC5jb2x1bW4gPSByLmVuZC5jb2x1bW47XG4gICAgICAgICAgICByYW5nZS5lbmQucm93ID0gci5lbmQucm93O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmFuZ2UgPSByO1xuICAgICAgICB9XG5cbiAgICAgICAgcmFuZ2UuY3Vyc29yID0gdGhpcy5pc0JhY2t3YXJkcygpID8gcmFuZ2Uuc3RhcnQgOiByYW5nZS5lbmQ7XG4gICAgICAgIHJhbmdlLmRlc2lyZWRDb2x1bW4gPSB0aGlzLiRkZXNpcmVkQ29sdW1uO1xuICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgfVxuXG59KS5jYWxsKFNlbGVjdGlvbi5wcm90b3R5cGUpO1xuXG5leHBvcnRzLlNlbGVjdGlvbiA9IFNlbGVjdGlvbjtcbn0pO1xuXG5hY2UuZGVmaW5lKCdhY2UvcmFuZ2UnLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG52YXIgY29tcGFyZVBvaW50cyA9IGZ1bmN0aW9uKHAxLCBwMikge1xuICAgIHJldHVybiBwMS5yb3cgLSBwMi5yb3cgfHwgcDEuY29sdW1uIC0gcDIuY29sdW1uO1xufTtcbnZhciBSYW5nZSA9IGZ1bmN0aW9uKHN0YXJ0Um93LCBzdGFydENvbHVtbiwgZW5kUm93LCBlbmRDb2x1bW4pIHtcbiAgICB0aGlzLnN0YXJ0ID0ge1xuICAgICAgICByb3c6IHN0YXJ0Um93LFxuICAgICAgICBjb2x1bW46IHN0YXJ0Q29sdW1uXG4gICAgfTtcblxuICAgIHRoaXMuZW5kID0ge1xuICAgICAgICByb3c6IGVuZFJvdyxcbiAgICAgICAgY29sdW1uOiBlbmRDb2x1bW5cbiAgICB9O1xufTtcblxuKGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaXNFcXVhbCA9IGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0LnJvdyA9PT0gcmFuZ2Uuc3RhcnQucm93ICYmXG4gICAgICAgICAgICB0aGlzLmVuZC5yb3cgPT09IHJhbmdlLmVuZC5yb3cgJiZcbiAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uID09PSByYW5nZS5zdGFydC5jb2x1bW4gJiZcbiAgICAgICAgICAgIHRoaXMuZW5kLmNvbHVtbiA9PT0gcmFuZ2UuZW5kLmNvbHVtbjtcbiAgICB9O1xuICAgIHRoaXMudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIChcIlJhbmdlOiBbXCIgKyB0aGlzLnN0YXJ0LnJvdyArIFwiL1wiICsgdGhpcy5zdGFydC5jb2x1bW4gK1xuICAgICAgICAgICAgXCJdIC0+IFtcIiArIHRoaXMuZW5kLnJvdyArIFwiL1wiICsgdGhpcy5lbmQuY29sdW1uICsgXCJdXCIpO1xuICAgIH07XG5cbiAgICB0aGlzLmNvbnRhaW5zID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMDtcbiAgICB9O1xuICAgIHRoaXMuY29tcGFyZVJhbmdlID0gZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgdmFyIGNtcCxcbiAgICAgICAgICAgIGVuZCA9IHJhbmdlLmVuZCxcbiAgICAgICAgICAgIHN0YXJ0ID0gcmFuZ2Uuc3RhcnQ7XG5cbiAgICAgICAgY21wID0gdGhpcy5jb21wYXJlKGVuZC5yb3csIGVuZC5jb2x1bW4pO1xuICAgICAgICBpZiAoY21wID09IDEpIHtcbiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7XG4gICAgICAgICAgICBpZiAoY21wID09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY21wID09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY21wID09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gLTI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbXAgPSB0aGlzLmNvbXBhcmUoc3RhcnQucm93LCBzdGFydC5jb2x1bW4pO1xuICAgICAgICAgICAgaWYgKGNtcCA9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY21wID09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gNDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmNvbXBhcmVQb2ludCA9IGZ1bmN0aW9uKHApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShwLnJvdywgcC5jb2x1bW4pO1xuICAgIH07XG4gICAgdGhpcy5jb250YWluc1JhbmdlID0gZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZVBvaW50KHJhbmdlLnN0YXJ0KSA9PSAwICYmIHRoaXMuY29tcGFyZVBvaW50KHJhbmdlLmVuZCkgPT0gMDtcbiAgICB9O1xuICAgIHRoaXMuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmVSYW5nZShyYW5nZSk7XG4gICAgICAgIHJldHVybiAoY21wID09IC0xIHx8IGNtcCA9PSAwIHx8IGNtcCA9PSAxKTtcbiAgICB9O1xuICAgIHRoaXMuaXNFbmQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmQucm93ID09IHJvdyAmJiB0aGlzLmVuZC5jb2x1bW4gPT0gY29sdW1uO1xuICAgIH07XG4gICAgdGhpcy5pc1N0YXJ0ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQucm93ID09IHJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PSBjb2x1bW47XG4gICAgfTtcbiAgICB0aGlzLnNldFN0YXJ0ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgaWYgKHR5cGVvZiByb3cgPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gPSByb3cuY29sdW1uO1xuICAgICAgICAgICAgdGhpcy5zdGFydC5yb3cgPSByb3cucm93O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGFydC5yb3cgPSByb3c7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5zZXRFbmQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPSByb3cuY29sdW1uO1xuICAgICAgICAgICAgdGhpcy5lbmQucm93ID0gcm93LnJvdztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZW5kLnJvdyA9IHJvdztcbiAgICAgICAgICAgIHRoaXMuZW5kLmNvbHVtbiA9IGNvbHVtbjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5pbnNpZGUgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0VuZChyb3csIGNvbHVtbikgfHwgdGhpcy5pc1N0YXJ0KHJvdywgY29sdW1uKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgdGhpcy5pbnNpZGVTdGFydCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5kKHJvdywgY29sdW1uKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgdGhpcy5pbnNpZGVFbmQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1N0YXJ0KHJvdywgY29sdW1uKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgdGhpcy5jb21wYXJlID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzTXVsdGlMaW5lKCkpIHtcbiAgICAgICAgICAgIGlmIChyb3cgPT09IHRoaXMuc3RhcnQucm93KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbHVtbiA8IHRoaXMuc3RhcnQuY29sdW1uID8gLTEgOiAoY29sdW1uID4gdGhpcy5lbmQuY29sdW1uID8gMSA6IDApO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyb3cgPCB0aGlzLnN0YXJ0LnJvdylcbiAgICAgICAgICAgIHJldHVybiAtMTtcblxuICAgICAgICBpZiAocm93ID4gdGhpcy5lbmQucm93KVxuICAgICAgICAgICAgcmV0dXJuIDE7XG5cbiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09PSByb3cpXG4gICAgICAgICAgICByZXR1cm4gY29sdW1uID49IHRoaXMuc3RhcnQuY29sdW1uID8gMCA6IC0xO1xuXG4gICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT09IHJvdylcbiAgICAgICAgICAgIHJldHVybiBjb2x1bW4gPD0gdGhpcy5lbmQuY29sdW1uID8gMCA6IDE7XG5cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfTtcbiAgICB0aGlzLmNvbXBhcmVTdGFydCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0LnJvdyA9PSByb3cgJiYgdGhpcy5zdGFydC5jb2x1bW4gPT0gY29sdW1uKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5jb21wYXJlRW5kID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PSByb3cgJiYgdGhpcy5lbmQuY29sdW1uID09IGNvbHVtbikge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5jb21wYXJlSW5zaWRlID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PSByb3cgJiYgdGhpcy5lbmQuY29sdW1uID09IGNvbHVtbikge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGFydC5yb3cgPT0gcm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09IGNvbHVtbikge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuY2xpcFJvd3MgPSBmdW5jdGlvbihmaXJzdFJvdywgbGFzdFJvdykge1xuICAgICAgICBpZiAodGhpcy5lbmQucm93ID4gbGFzdFJvdylcbiAgICAgICAgICAgIHZhciBlbmQgPSB7cm93OiBsYXN0Um93ICsgMSwgY29sdW1uOiAwfTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5lbmQucm93IDwgZmlyc3RSb3cpXG4gICAgICAgICAgICB2YXIgZW5kID0ge3JvdzogZmlyc3RSb3csIGNvbHVtbjogMH07XG5cbiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID4gbGFzdFJvdylcbiAgICAgICAgICAgIHZhciBzdGFydCA9IHtyb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDB9O1xuICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXJ0LnJvdyA8IGZpcnN0Um93KVxuICAgICAgICAgICAgdmFyIHN0YXJ0ID0ge3JvdzogZmlyc3RSb3csIGNvbHVtbjogMH07XG5cbiAgICAgICAgcmV0dXJuIFJhbmdlLmZyb21Qb2ludHMoc3RhcnQgfHwgdGhpcy5zdGFydCwgZW5kIHx8IHRoaXMuZW5kKTtcbiAgICB9O1xuICAgIHRoaXMuZXh0ZW5kID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgdmFyIGNtcCA9IHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7XG5cbiAgICAgICAgaWYgKGNtcCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIGVsc2UgaWYgKGNtcCA9PSAtMSlcbiAgICAgICAgICAgIHZhciBzdGFydCA9IHtyb3c6IHJvdywgY29sdW1uOiBjb2x1bW59O1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB2YXIgZW5kID0ge3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn07XG5cbiAgICAgICAgcmV0dXJuIFJhbmdlLmZyb21Qb2ludHMoc3RhcnQgfHwgdGhpcy5zdGFydCwgZW5kIHx8IHRoaXMuZW5kKTtcbiAgICB9O1xuXG4gICAgdGhpcy5pc0VtcHR5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgPT09IHRoaXMuZW5kLnJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PT0gdGhpcy5lbmQuY29sdW1uKTtcbiAgICB9O1xuICAgIHRoaXMuaXNNdWx0aUxpbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnN0YXJ0LnJvdyAhPT0gdGhpcy5lbmQucm93KTtcbiAgICB9O1xuICAgIHRoaXMuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFJhbmdlLmZyb21Qb2ludHModGhpcy5zdGFydCwgdGhpcy5lbmQpO1xuICAgIH07XG4gICAgdGhpcy5jb2xsYXBzZVJvd3MgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5kLmNvbHVtbiA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywgMCwgTWF0aC5tYXgodGhpcy5zdGFydC5yb3csIHRoaXMuZW5kLnJvdy0xKSwgMClcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywgMCwgdGhpcy5lbmQucm93LCAwKVxuICAgIH07XG4gICAgdGhpcy50b1NjcmVlblJhbmdlID0gZnVuY3Rpb24oc2Vzc2lvbikge1xuICAgICAgICB2YXIgc2NyZWVuUG9zU3RhcnQgPSBzZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLnN0YXJ0KTtcbiAgICAgICAgdmFyIHNjcmVlblBvc0VuZCA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuZW5kKTtcblxuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKFxuICAgICAgICAgICAgc2NyZWVuUG9zU3RhcnQucm93LCBzY3JlZW5Qb3NTdGFydC5jb2x1bW4sXG4gICAgICAgICAgICBzY3JlZW5Qb3NFbmQucm93LCBzY3JlZW5Qb3NFbmQuY29sdW1uXG4gICAgICAgICk7XG4gICAgfTtcbiAgICB0aGlzLm1vdmVCeSA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIHRoaXMuc3RhcnQucm93ICs9IHJvdztcbiAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gKz0gY29sdW1uO1xuICAgICAgICB0aGlzLmVuZC5yb3cgKz0gcm93O1xuICAgICAgICB0aGlzLmVuZC5jb2x1bW4gKz0gY29sdW1uO1xuICAgIH07XG5cbn0pLmNhbGwoUmFuZ2UucHJvdG90eXBlKTtcblJhbmdlLmZyb21Qb2ludHMgPSBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbiwgZW5kLnJvdywgZW5kLmNvbHVtbik7XG59O1xuUmFuZ2UuY29tcGFyZVBvaW50cyA9IGNvbXBhcmVQb2ludHM7XG5cblJhbmdlLmNvbXBhcmVQb2ludHMgPSBmdW5jdGlvbihwMSwgcDIpIHtcbiAgICByZXR1cm4gcDEucm93IC0gcDIucm93IHx8IHAxLmNvbHVtbiAtIHAyLmNvbHVtbjtcbn07XG5cblxuZXhwb3J0cy5SYW5nZSA9IFJhbmdlO1xufSk7XG5cbmFjZS5kZWZpbmUoJ2FjZS9tb2RlL3RleHQnLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgLCAnYWNlL3Rva2VuaXplcicsICdhY2UvbW9kZS90ZXh0X2hpZ2hsaWdodF9ydWxlcycsICdhY2UvbW9kZS9iZWhhdmlvdXInLCAnYWNlL3VuaWNvZGUnLCAnYWNlL2xpYi9sYW5nJywgJ2FjZS90b2tlbl9pdGVyYXRvcicsICdhY2UvcmFuZ2UnXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5cbnZhciBUb2tlbml6ZXIgPSBhY2VxdWlyZShcIi4uL3Rva2VuaXplclwiKS5Ub2tlbml6ZXI7XG52YXIgVGV4dEhpZ2hsaWdodFJ1bGVzID0gYWNlcXVpcmUoXCIuL3RleHRfaGlnaGxpZ2h0X3J1bGVzXCIpLlRleHRIaWdobGlnaHRSdWxlcztcbnZhciBCZWhhdmlvdXIgPSBhY2VxdWlyZShcIi4vYmVoYXZpb3VyXCIpLkJlaGF2aW91cjtcbnZhciB1bmljb2RlID0gYWNlcXVpcmUoXCIuLi91bmljb2RlXCIpO1xudmFyIGxhbmcgPSBhY2VxdWlyZShcIi4uL2xpYi9sYW5nXCIpO1xudmFyIFRva2VuSXRlcmF0b3IgPSBhY2VxdWlyZShcIi4uL3Rva2VuX2l0ZXJhdG9yXCIpLlRva2VuSXRlcmF0b3I7XG52YXIgUmFuZ2UgPSBhY2VxdWlyZShcIi4uL3JhbmdlXCIpLlJhbmdlO1xuXG52YXIgTW9kZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJHRva2VuaXplciA9IG5ldyBUb2tlbml6ZXIobmV3IFRleHRIaWdobGlnaHRSdWxlcygpLmdldFJ1bGVzKCkpO1xuICAgIHRoaXMuJGJlaGF2aW91ciA9IG5ldyBCZWhhdmlvdXIoKTtcbn07XG5cbihmdW5jdGlvbigpIHtcblxuICAgIHRoaXMudG9rZW5SZSA9IG5ldyBSZWdFeHAoXCJeW1wiXG4gICAgICAgICsgdW5pY29kZS5wYWNrYWdlcy5MXG4gICAgICAgICsgdW5pY29kZS5wYWNrYWdlcy5NbiArIHVuaWNvZGUucGFja2FnZXMuTWNcbiAgICAgICAgKyB1bmljb2RlLnBhY2thZ2VzLk5kXG4gICAgICAgICsgdW5pY29kZS5wYWNrYWdlcy5QYyArIFwiXFxcXCRfXStcIiwgXCJnXCJcbiAgICApO1xuXG4gICAgdGhpcy5ub25Ub2tlblJlID0gbmV3IFJlZ0V4cChcIl4oPzpbXlwiXG4gICAgICAgICsgdW5pY29kZS5wYWNrYWdlcy5MXG4gICAgICAgICsgdW5pY29kZS5wYWNrYWdlcy5NbiArIHVuaWNvZGUucGFja2FnZXMuTWNcbiAgICAgICAgKyB1bmljb2RlLnBhY2thZ2VzLk5kXG4gICAgICAgICsgdW5pY29kZS5wYWNrYWdlcy5QYyArIFwiXFxcXCRfXXxcXHNdKStcIiwgXCJnXCJcbiAgICApO1xuXG4gICAgdGhpcy5nZXRUb2tlbml6ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHRva2VuaXplcjtcbiAgICB9O1xuXG4gICAgdGhpcy5saW5lQ29tbWVudFN0YXJ0ID0gXCJcIjtcbiAgICB0aGlzLmJsb2NrQ29tbWVudCA9IFwiXCI7XG5cbiAgICB0aGlzLnRvZ2dsZUNvbW1lbnRMaW5lcyA9IGZ1bmN0aW9uKHN0YXRlLCBzZXNzaW9uLCBzdGFydFJvdywgZW5kUm93KSB7XG4gICAgICAgIHZhciBkb2MgPSBzZXNzaW9uLmRvYztcblxuICAgICAgICB2YXIgaWdub3JlQmxhbmtMaW5lcyA9IHRydWU7XG4gICAgICAgIHZhciBzaG91bGRSZW1vdmUgPSB0cnVlO1xuICAgICAgICB2YXIgbWluSW5kZW50ID0gSW5maW5pdHk7XG4gICAgICAgIHZhciB0YWJTaXplID0gc2Vzc2lvbi5nZXRUYWJTaXplKCk7XG4gICAgICAgIHZhciBpbnNlcnRBdFRhYlN0b3AgPSBmYWxzZTtcblxuICAgICAgICBpZiAoIXRoaXMubGluZUNvbW1lbnRTdGFydCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJsb2NrQ29tbWVudClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB2YXIgbGluZUNvbW1lbnRTdGFydCA9IHRoaXMuYmxvY2tDb21tZW50LnN0YXJ0O1xuICAgICAgICAgICAgdmFyIGxpbmVDb21tZW50RW5kID0gdGhpcy5ibG9ja0NvbW1lbnQuZW5kO1xuICAgICAgICAgICAgdmFyIHJlZ2V4cFN0YXJ0ID0gbmV3IFJlZ0V4cChcIl4oXFxcXHMqKSg/OlwiICsgbGFuZy5lc2NhcGVSZWdFeHAobGluZUNvbW1lbnRTdGFydCkgKyBcIilcIik7XG4gICAgICAgICAgICB2YXIgcmVnZXhwRW5kID0gbmV3IFJlZ0V4cChcIig/OlwiICsgbGFuZy5lc2NhcGVSZWdFeHAobGluZUNvbW1lbnRFbmQpICsgXCIpXFxcXHMqJFwiKTtcblxuICAgICAgICAgICAgdmFyIGNvbW1lbnQgPSBmdW5jdGlvbihsaW5lLCBpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRlc3RSZW1vdmUobGluZSwgaSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAoIWlnbm9yZUJsYW5rTGluZXMgfHwgL1xcUy8udGVzdChsaW5lKSkge1xuICAgICAgICAgICAgICAgICAgICBkb2MuaW5zZXJ0SW5MaW5lKHtyb3c6IGksIGNvbHVtbjogbGluZS5sZW5ndGh9LCBsaW5lQ29tbWVudEVuZCk7XG4gICAgICAgICAgICAgICAgICAgIGRvYy5pbnNlcnRJbkxpbmUoe3JvdzogaSwgY29sdW1uOiBtaW5JbmRlbnR9LCBsaW5lQ29tbWVudFN0YXJ0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgdW5jb21tZW50ID0gZnVuY3Rpb24obGluZSwgaSkge1xuICAgICAgICAgICAgICAgIHZhciBtO1xuICAgICAgICAgICAgICAgIGlmIChtID0gbGluZS5tYXRjaChyZWdleHBFbmQpKVxuICAgICAgICAgICAgICAgICAgICBkb2MucmVtb3ZlSW5MaW5lKGksIGxpbmUubGVuZ3RoIC0gbVswXS5sZW5ndGgsIGxpbmUubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBpZiAobSA9IGxpbmUubWF0Y2gocmVnZXhwU3RhcnQpKVxuICAgICAgICAgICAgICAgICAgICBkb2MucmVtb3ZlSW5MaW5lKGksIG1bMV0ubGVuZ3RoLCBtWzBdLmxlbmd0aCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgdGVzdFJlbW92ZSA9IGZ1bmN0aW9uKGxpbmUsIHJvdykge1xuICAgICAgICAgICAgICAgIGlmIChyZWdleHBTdGFydC50ZXN0KGxpbmUpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgdG9rZW5zID0gc2Vzc2lvbi5nZXRUb2tlbnMocm93KTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5zW2ldLnR5cGUgPT09ICdjb21tZW50JylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLmxpbmVDb21tZW50U3RhcnQpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlZ2V4cFN0YXJ0ID0gdGhpcy5saW5lQ29tbWVudFN0YXJ0Lm1hcChsYW5nLmVzY2FwZVJlZ0V4cCkuam9pbihcInxcIik7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmVDb21tZW50U3RhcnQgPSB0aGlzLmxpbmVDb21tZW50U3RhcnRbMF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciByZWdleHBTdGFydCA9IGxhbmcuZXNjYXBlUmVnRXhwKHRoaXMubGluZUNvbW1lbnRTdGFydCk7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmVDb21tZW50U3RhcnQgPSB0aGlzLmxpbmVDb21tZW50U3RhcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWdleHBTdGFydCA9IG5ldyBSZWdFeHAoXCJeKFxcXFxzKikoPzpcIiArIHJlZ2V4cFN0YXJ0ICsgXCIpID9cIik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGluc2VydEF0VGFiU3RvcCA9IHNlc3Npb24uZ2V0VXNlU29mdFRhYnMoKTtcblxuICAgICAgICAgICAgdmFyIHVuY29tbWVudCA9IGZ1bmN0aW9uKGxpbmUsIGkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbSA9IGxpbmUubWF0Y2gocmVnZXhwU3RhcnQpO1xuICAgICAgICAgICAgICAgIGlmICghbSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IG1bMV0ubGVuZ3RoLCBlbmQgPSBtWzBdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAoIXNob3VsZEluc2VydFNwYWNlKGxpbmUsIHN0YXJ0LCBlbmQpICYmIG1bMF1bZW5kIC0gMV0gPT0gXCIgXCIpXG4gICAgICAgICAgICAgICAgICAgIGVuZC0tO1xuICAgICAgICAgICAgICAgIGRvYy5yZW1vdmVJbkxpbmUoaSwgc3RhcnQsIGVuZCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGNvbW1lbnRXaXRoU3BhY2UgPSBsaW5lQ29tbWVudFN0YXJ0ICsgXCIgXCI7XG4gICAgICAgICAgICB2YXIgY29tbWVudCA9IGZ1bmN0aW9uKGxpbmUsIGkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlnbm9yZUJsYW5rTGluZXMgfHwgL1xcUy8udGVzdChsaW5lKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdWxkSW5zZXJ0U3BhY2UobGluZSwgbWluSW5kZW50LCBtaW5JbmRlbnQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmluc2VydEluTGluZSh7cm93OiBpLCBjb2x1bW46IG1pbkluZGVudH0sIGNvbW1lbnRXaXRoU3BhY2UpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuaW5zZXJ0SW5MaW5lKHtyb3c6IGksIGNvbHVtbjogbWluSW5kZW50fSwgbGluZUNvbW1lbnRTdGFydCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciB0ZXN0UmVtb3ZlID0gZnVuY3Rpb24obGluZSwgaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWdleHBTdGFydC50ZXN0KGxpbmUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIHNob3VsZEluc2VydFNwYWNlID0gZnVuY3Rpb24obGluZSwgYmVmb3JlLCBhZnRlcikge1xuICAgICAgICAgICAgICAgIHZhciBzcGFjZXMgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChiZWZvcmUtLSAmJiBsaW5lLmNoYXJBdChiZWZvcmUpID09IFwiIFwiKVxuICAgICAgICAgICAgICAgICAgICBzcGFjZXMrKztcbiAgICAgICAgICAgICAgICBpZiAoc3BhY2VzICUgdGFiU2l6ZSAhPSAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIHNwYWNlcyA9IDA7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGxpbmUuY2hhckF0KGFmdGVyKyspID09IFwiIFwiKVxuICAgICAgICAgICAgICAgICAgICBzcGFjZXMrKztcbiAgICAgICAgICAgICAgICBpZiAodGFiU2l6ZSA+IDIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzcGFjZXMgJSB0YWJTaXplICE9IHRhYlNpemUgLSAxO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNwYWNlcyAlIHRhYlNpemUgPT0gMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpdGVyKGZ1bikge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0Um93OyBpIDw9IGVuZFJvdzsgaSsrKVxuICAgICAgICAgICAgICAgIGZ1bihkb2MuZ2V0TGluZShpKSwgaSk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHZhciBtaW5FbXB0eUxlbmd0aCA9IEluZmluaXR5O1xuICAgICAgICBpdGVyKGZ1bmN0aW9uKGxpbmUsIGkpIHtcbiAgICAgICAgICAgIHZhciBpbmRlbnQgPSBsaW5lLnNlYXJjaCgvXFxTLyk7XG4gICAgICAgICAgICBpZiAoaW5kZW50ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGlmIChpbmRlbnQgPCBtaW5JbmRlbnQpXG4gICAgICAgICAgICAgICAgICAgIG1pbkluZGVudCA9IGluZGVudDtcbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkUmVtb3ZlICYmICF0ZXN0UmVtb3ZlKGxpbmUsIGkpKVxuICAgICAgICAgICAgICAgICAgICBzaG91bGRSZW1vdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWluRW1wdHlMZW5ndGggPiBsaW5lLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIG1pbkVtcHR5TGVuZ3RoID0gbGluZS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChtaW5JbmRlbnQgPT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgIG1pbkluZGVudCA9IG1pbkVtcHR5TGVuZ3RoO1xuICAgICAgICAgICAgaWdub3JlQmxhbmtMaW5lcyA9IGZhbHNlO1xuICAgICAgICAgICAgc2hvdWxkUmVtb3ZlID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5zZXJ0QXRUYWJTdG9wICYmIG1pbkluZGVudCAlIHRhYlNpemUgIT0gMClcbiAgICAgICAgICAgIG1pbkluZGVudCA9IE1hdGguZmxvb3IobWluSW5kZW50IC8gdGFiU2l6ZSkgKiB0YWJTaXplO1xuXG4gICAgICAgIGl0ZXIoc2hvdWxkUmVtb3ZlID8gdW5jb21tZW50IDogY29tbWVudCk7XG4gICAgfTtcblxuICAgIHRoaXMudG9nZ2xlQmxvY2tDb21tZW50ID0gZnVuY3Rpb24oc3RhdGUsIHNlc3Npb24sIHJhbmdlLCBjdXJzb3IpIHtcbiAgICAgICAgdmFyIGNvbW1lbnQgPSB0aGlzLmJsb2NrQ29tbWVudDtcbiAgICAgICAgaWYgKCFjb21tZW50KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoIWNvbW1lbnQuc3RhcnQgJiYgY29tbWVudFswXSlcbiAgICAgICAgICAgIGNvbW1lbnQgPSBjb21tZW50WzBdO1xuXG4gICAgICAgIHZhciBpdGVyYXRvciA9IG5ldyBUb2tlbkl0ZXJhdG9yKHNlc3Npb24sIGN1cnNvci5yb3csIGN1cnNvci5jb2x1bW4pO1xuICAgICAgICB2YXIgdG9rZW4gPSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW4oKTtcblxuICAgICAgICB2YXIgc2VsID0gc2Vzc2lvbi5zZWxlY3Rpb247XG4gICAgICAgIHZhciBpbml0aWFsUmFuZ2UgPSBzZXNzaW9uLnNlbGVjdGlvbi50b09yaWVudGVkUmFuZ2UoKTtcbiAgICAgICAgdmFyIHN0YXJ0Um93LCBjb2xEaWZmO1xuXG4gICAgICAgIGlmICh0b2tlbiAmJiAvY29tbWVudC8udGVzdCh0b2tlbi50eXBlKSkge1xuICAgICAgICAgICAgdmFyIHN0YXJ0UmFuZ2UsIGVuZFJhbmdlO1xuICAgICAgICAgICAgd2hpbGUgKHRva2VuICYmIC9jb21tZW50Ly50ZXN0KHRva2VuLnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSB0b2tlbi52YWx1ZS5pbmRleE9mKGNvbW1lbnQuc3RhcnQpO1xuICAgICAgICAgICAgICAgIGlmIChpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByb3cgPSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW5Sb3coKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHVtbiA9IGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpICsgaTtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRSYW5nZSA9IG5ldyBSYW5nZShyb3csIGNvbHVtbiwgcm93LCBjb2x1bW4gKyBjb21tZW50LnN0YXJ0Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRva2VuID0gaXRlcmF0b3Iuc3RlcEJhY2t3YXJkKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBuZXcgVG9rZW5JdGVyYXRvcihzZXNzaW9uLCBjdXJzb3Iucm93LCBjdXJzb3IuY29sdW1uKTtcbiAgICAgICAgICAgIHZhciB0b2tlbiA9IGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlbigpO1xuICAgICAgICAgICAgd2hpbGUgKHRva2VuICYmIC9jb21tZW50Ly50ZXN0KHRva2VuLnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSB0b2tlbi52YWx1ZS5pbmRleE9mKGNvbW1lbnQuZW5kKTtcbiAgICAgICAgICAgICAgICBpZiAoaSAhPSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcm93ID0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuUm93KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2x1bW4gPSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKSArIGk7XG4gICAgICAgICAgICAgICAgICAgIGVuZFJhbmdlID0gbmV3IFJhbmdlKHJvdywgY29sdW1uLCByb3csIGNvbHVtbiArIGNvbW1lbnQuZW5kLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0b2tlbiA9IGl0ZXJhdG9yLnN0ZXBGb3J3YXJkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZW5kUmFuZ2UpXG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5yZW1vdmUoZW5kUmFuZ2UpO1xuICAgICAgICAgICAgaWYgKHN0YXJ0UmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uLnJlbW92ZShzdGFydFJhbmdlKTtcbiAgICAgICAgICAgICAgICBzdGFydFJvdyA9IHN0YXJ0UmFuZ2Uuc3RhcnQucm93O1xuICAgICAgICAgICAgICAgIGNvbERpZmYgPSAtY29tbWVudC5zdGFydC5sZW5ndGhcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbERpZmYgPSBjb21tZW50LnN0YXJ0Lmxlbmd0aFxuICAgICAgICAgICAgc3RhcnRSb3cgPSByYW5nZS5zdGFydC5yb3c7XG4gICAgICAgICAgICBzZXNzaW9uLmluc2VydChyYW5nZS5lbmQsIGNvbW1lbnQuZW5kKTtcbiAgICAgICAgICAgIHNlc3Npb24uaW5zZXJ0KHJhbmdlLnN0YXJ0LCBjb21tZW50LnN0YXJ0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5pdGlhbFJhbmdlLnN0YXJ0LnJvdyA9PSBzdGFydFJvdylcbiAgICAgICAgICAgIGluaXRpYWxSYW5nZS5zdGFydC5jb2x1bW4gKz0gY29sRGlmZjtcbiAgICAgICAgaWYgKGluaXRpYWxSYW5nZS5lbmQucm93ID09IHN0YXJ0Um93KVxuICAgICAgICAgICAgaW5pdGlhbFJhbmdlLmVuZC5jb2x1bW4gKz0gY29sRGlmZjtcbiAgICAgICAgc2Vzc2lvbi5zZWxlY3Rpb24uZnJvbU9yaWVudGVkUmFuZ2UoaW5pdGlhbFJhbmdlKTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXROZXh0TGluZUluZGVudCA9IGZ1bmN0aW9uKHN0YXRlLCBsaW5lLCB0YWIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGdldEluZGVudChsaW5lKTtcbiAgICB9O1xuXG4gICAgdGhpcy5jaGVja091dGRlbnQgPSBmdW5jdGlvbihzdGF0ZSwgbGluZSwgaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICB0aGlzLmF1dG9PdXRkZW50ID0gZnVuY3Rpb24oc3RhdGUsIGRvYywgcm93KSB7XG4gICAgfTtcblxuICAgIHRoaXMuJGdldEluZGVudCA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIGxpbmUubWF0Y2goL15cXHMqLylbMF07XG4gICAgfTtcblxuICAgIHRoaXMuY3JlYXRlV29ya2VyID0gZnVuY3Rpb24oc2Vzc2lvbikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgdGhpcy5jcmVhdGVNb2RlRGVsZWdhdGVzID0gZnVuY3Rpb24gKG1hcHBpbmcpIHtcbiAgICAgICAgaWYgKCF0aGlzLiRlbWJlZHMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRtb2RlcyA9IHt9O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuJGVtYmVkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKG1hcHBpbmdbdGhpcy4kZW1iZWRzW2ldXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJG1vZGVzW3RoaXMuJGVtYmVkc1tpXV0gPSBuZXcgbWFwcGluZ1t0aGlzLiRlbWJlZHNbaV1dKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVsZWdhdGlvbnMgPSBbJ3RvZ2dsZUNvbW1lbnRMaW5lcycsICdnZXROZXh0TGluZUluZGVudCcsICdjaGVja091dGRlbnQnLCAnYXV0b091dGRlbnQnLCAndHJhbnNmb3JtQWN0aW9uJ107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWxlZ2F0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgKGZ1bmN0aW9uKHNjb3BlKSB7XG4gICAgICAgICAgICAgIHZhciBmdW5jdGlvbk5hbWUgPSBkZWxlZ2F0aW9uc1tpXTtcbiAgICAgICAgICAgICAgdmFyIGRlZmF1bHRIYW5kbGVyID0gc2NvcGVbZnVuY3Rpb25OYW1lXTtcbiAgICAgICAgICAgICAgc2NvcGVbZGVsZWdhdGlvbnNbaV1dID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kZGVsZWdhdG9yKGZ1bmN0aW9uTmFtZSwgYXJndW1lbnRzLCBkZWZhdWx0SGFuZGxlcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLiRkZWxlZ2F0b3IgPSBmdW5jdGlvbihtZXRob2QsIGFyZ3MsIGRlZmF1bHRIYW5kbGVyKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IGFyZ3NbMF07XG4gICAgICAgIGlmICh0eXBlb2Ygc3RhdGUgIT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIHN0YXRlID0gc3RhdGVbMF07XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy4kZW1iZWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuJG1vZGVzW3RoaXMuJGVtYmVkc1tpXV0pIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICB2YXIgc3BsaXQgPSBzdGF0ZS5zcGxpdCh0aGlzLiRlbWJlZHNbaV0pO1xuICAgICAgICAgICAgaWYgKCFzcGxpdFswXSAmJiBzcGxpdFsxXSkge1xuICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSBzcGxpdFsxXTtcbiAgICAgICAgICAgICAgICB2YXIgbW9kZSA9IHRoaXMuJG1vZGVzW3RoaXMuJGVtYmVkc1tpXV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vZGVbbWV0aG9kXS5hcHBseShtb2RlLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgcmV0ID0gZGVmYXVsdEhhbmRsZXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIHJldHVybiBkZWZhdWx0SGFuZGxlciA/IHJldCA6IHVuZGVmaW5lZDtcbiAgICB9O1xuXG4gICAgdGhpcy50cmFuc2Zvcm1BY3Rpb24gPSBmdW5jdGlvbihzdGF0ZSwgYWN0aW9uLCBlZGl0b3IsIHNlc3Npb24sIHBhcmFtKSB7XG4gICAgICAgIGlmICh0aGlzLiRiZWhhdmlvdXIpIHtcbiAgICAgICAgICAgIHZhciBiZWhhdmlvdXJzID0gdGhpcy4kYmVoYXZpb3VyLmdldEJlaGF2aW91cnMoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBiZWhhdmlvdXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJlaGF2aW91cnNba2V5XVthY3Rpb25dKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXQgPSBiZWhhdmlvdXJzW2tleV1bYWN0aW9uXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxufSkuY2FsbChNb2RlLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuTW9kZSA9IE1vZGU7XG59KTtcblxuYWNlLmRlZmluZSgnYWNlL3Rva2VuaXplcicsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyBdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG52YXIgTUFYX1RPS0VOX0NPVU5UID0gMTAwMDtcbnZhciBUb2tlbml6ZXIgPSBmdW5jdGlvbihydWxlcykge1xuICAgIHRoaXMuc3RhdGVzID0gcnVsZXM7XG5cbiAgICB0aGlzLnJlZ0V4cHMgPSB7fTtcbiAgICB0aGlzLm1hdGNoTWFwcGluZ3MgPSB7fTtcbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5zdGF0ZXMpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZXNba2V5XTtcbiAgICAgICAgdmFyIHJ1bGVSZWdFeHBzID0gW107XG4gICAgICAgIHZhciBtYXRjaFRvdGFsID0gMDtcbiAgICAgICAgdmFyIG1hcHBpbmcgPSB0aGlzLm1hdGNoTWFwcGluZ3Nba2V5XSA9IHtkZWZhdWx0VG9rZW46IFwidGV4dFwifTtcbiAgICAgICAgdmFyIGZsYWcgPSBcImdcIjtcblxuICAgICAgICB2YXIgc3BsaXR0ZXJSdXJsZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHJ1bGUgPSBzdGF0ZVtpXTtcbiAgICAgICAgICAgIGlmIChydWxlLmRlZmF1bHRUb2tlbilcbiAgICAgICAgICAgICAgICBtYXBwaW5nLmRlZmF1bHRUb2tlbiA9IHJ1bGUuZGVmYXVsdFRva2VuO1xuICAgICAgICAgICAgaWYgKHJ1bGUuY2FzZUluc2Vuc2l0aXZlKVxuICAgICAgICAgICAgICAgIGZsYWcgPSBcImdpXCI7XG4gICAgICAgICAgICBpZiAocnVsZS5yZWdleCA9PSBudWxsKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBpZiAocnVsZS5yZWdleCBpbnN0YW5jZW9mIFJlZ0V4cClcbiAgICAgICAgICAgICAgICBydWxlLnJlZ2V4ID0gcnVsZS5yZWdleC50b1N0cmluZygpLnNsaWNlKDEsIC0xKTtcbiAgICAgICAgICAgIHZhciBhZGp1c3RlZHJlZ2V4ID0gcnVsZS5yZWdleDtcbiAgICAgICAgICAgIHZhciBtYXRjaGNvdW50ID0gbmV3IFJlZ0V4cChcIig/OihcIiArIGFkanVzdGVkcmVnZXggKyBcIil8KC4pKVwiKS5leGVjKFwiYVwiKS5sZW5ndGggLSAyO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocnVsZS50b2tlbikpIHtcbiAgICAgICAgICAgICAgICBpZiAocnVsZS50b2tlbi5sZW5ndGggPT0gMSB8fCBtYXRjaGNvdW50ID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcnVsZS50b2tlbiA9IHJ1bGUudG9rZW5bMF07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaGNvdW50IC0gMSAhPSBydWxlLnRva2VuLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJudW1iZXIgb2YgY2xhc3NlcyBhbmQgcmVnZXhwIGdyb3VwcyBpbiAnXCIgKyBcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGUudG9rZW4gKyBcIidcXG4nXCIgKyBydWxlLnJlZ2V4ICsgIFwiJyBkb2Vzbid0IG1hdGNoXFxuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKG1hdGNoY291bnQgLSAxKSArIFwiIT1cIiArIHJ1bGUudG9rZW4ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBydWxlLnRva2VuQXJyYXkgPSBydWxlLnRva2VuO1xuICAgICAgICAgICAgICAgICAgICBydWxlLnRva2VuID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgcnVsZS5vbk1hdGNoID0gdGhpcy4kYXJyYXlUb2tlbnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcnVsZS50b2tlbiA9PSBcImZ1bmN0aW9uXCIgJiYgIXJ1bGUub25NYXRjaCkge1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaGNvdW50ID4gMSlcbiAgICAgICAgICAgICAgICAgICAgcnVsZS5vbk1hdGNoID0gdGhpcy4kYXBwbHlUb2tlbjtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJ1bGUub25NYXRjaCA9IHJ1bGUudG9rZW47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtYXRjaGNvdW50ID4gMSkge1xuICAgICAgICAgICAgICAgIGlmICgvXFxcXFxcZC8udGVzdChydWxlLnJlZ2V4KSkge1xuICAgICAgICAgICAgICAgICAgICBhZGp1c3RlZHJlZ2V4ID0gcnVsZS5yZWdleC5yZXBsYWNlKC9cXFxcKFswLTldKykvZywgZnVuY3Rpb24gKG1hdGNoLCBkaWdpdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXFxcXFwiICsgKHBhcnNlSW50KGRpZ2l0LCAxMCkgKyBtYXRjaFRvdGFsICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoY291bnQgPSAxO1xuICAgICAgICAgICAgICAgICAgICBhZGp1c3RlZHJlZ2V4ID0gdGhpcy5yZW1vdmVDYXB0dXJpbmdHcm91cHMocnVsZS5yZWdleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghcnVsZS5zcGxpdFJlZ2V4ICYmIHR5cGVvZiBydWxlLnRva2VuICE9IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgICAgIHNwbGl0dGVyUnVybGVzLnB1c2gocnVsZSk7IC8vIGZsYWcgd2lsbCBiZSBrbm93biBvbmx5IGF0IHRoZSB2ZXJ5IGVuZFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtYXBwaW5nW21hdGNoVG90YWxdID0gaTtcbiAgICAgICAgICAgIG1hdGNoVG90YWwgKz0gbWF0Y2hjb3VudDtcblxuICAgICAgICAgICAgcnVsZVJlZ0V4cHMucHVzaChhZGp1c3RlZHJlZ2V4KTtcbiAgICAgICAgICAgIGlmICghcnVsZS5vbk1hdGNoKVxuICAgICAgICAgICAgICAgIHJ1bGUub25NYXRjaCA9IG51bGw7XG4gICAgICAgICAgICBydWxlLl9fcHJvdG9fXyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNwbGl0dGVyUnVybGVzLmZvckVhY2goZnVuY3Rpb24ocnVsZSkge1xuICAgICAgICAgICAgcnVsZS5zcGxpdFJlZ2V4ID0gdGhpcy5jcmVhdGVTcGxpdHRlclJlZ2V4cChydWxlLnJlZ2V4LCBmbGFnKTtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5yZWdFeHBzW2tleV0gPSBuZXcgUmVnRXhwKFwiKFwiICsgcnVsZVJlZ0V4cHMuam9pbihcIil8KFwiKSArIFwiKXwoJClcIiwgZmxhZyk7XG4gICAgfVxufTtcblxuKGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJGFwcGx5VG9rZW4gPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IHRoaXMuc3BsaXRSZWdleC5leGVjKHN0cikuc2xpY2UoMSk7XG4gICAgICAgIHZhciB0eXBlcyA9IHRoaXMudG9rZW4uYXBwbHkodGhpcywgdmFsdWVzKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0eXBlcyA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIHJldHVybiBbe3R5cGU6IHR5cGVzLCB2YWx1ZTogc3RyfV07XG5cbiAgICAgICAgdmFyIHRva2VucyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHR5cGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYgKHZhbHVlc1tpXSlcbiAgICAgICAgICAgICAgICB0b2tlbnNbdG9rZW5zLmxlbmd0aF0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGVzW2ldLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVzW2ldXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgIH0sXG5cbiAgICB0aGlzLiRhcnJheVRva2VucyA9IGZ1bmN0aW9uKHN0cikge1xuICAgICAgICBpZiAoIXN0cilcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgdmFyIHZhbHVlcyA9IHRoaXMuc3BsaXRSZWdleC5leGVjKHN0cik7XG4gICAgICAgIGlmICghdmFsdWVzKVxuICAgICAgICAgICAgcmV0dXJuIFwidGV4dFwiO1xuICAgICAgICB2YXIgdG9rZW5zID0gW107XG4gICAgICAgIHZhciB0eXBlcyA9IHRoaXMudG9rZW5BcnJheTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0eXBlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZXNbaSArIDFdKVxuICAgICAgICAgICAgICAgIHRva2Vuc1t0b2tlbnMubGVuZ3RoXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZXNbaV0sXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZXNbaSArIDFdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbW92ZUNhcHR1cmluZ0dyb3VwcyA9IGZ1bmN0aW9uKHNyYykge1xuICAgICAgICB2YXIgciA9IHNyYy5yZXBsYWNlKFxuICAgICAgICAgICAgL1xcWyg/OlxcXFwufFteXFxdXSkqP1xcXXxcXFxcLnxcXChcXD9bOj0hXXwoXFwoKS9nLFxuICAgICAgICAgICAgZnVuY3Rpb24oeCwgeSkge3JldHVybiB5ID8gXCIoPzpcIiA6IHg7fVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9O1xuXG4gICAgdGhpcy5jcmVhdGVTcGxpdHRlclJlZ2V4cCA9IGZ1bmN0aW9uKHNyYywgZmxhZykge1xuICAgICAgICBpZiAoc3JjLmluZGV4T2YoXCIoPz1cIikgIT0gLTEpIHtcbiAgICAgICAgICAgIHZhciBzdGFjayA9IDA7XG4gICAgICAgICAgICB2YXIgaW5DaENsYXNzID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgbGFzdENhcHR1cmUgPSB7fTtcbiAgICAgICAgICAgIHNyYy5yZXBsYWNlKC8oXFxcXC4pfChcXCgoPzpcXD9bPSFdKT8pfChcXCkpfChbXFxbXFxdXSkvZywgZnVuY3Rpb24oXG4gICAgICAgICAgICAgICAgbSwgZXNjLCBwYXJlbk9wZW4sIHBhcmVuQ2xvc2UsIHNxdWFyZSwgaW5kZXhcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGlmIChpbkNoQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5DaENsYXNzID0gc3F1YXJlICE9IFwiXVwiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3F1YXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGluQ2hDbGFzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJlbkNsb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFjayA9PSBsYXN0Q2FwdHVyZS5zdGFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdENhcHR1cmUuZW5kID0gaW5kZXgrMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RDYXB0dXJlLnN0YWNrID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3RhY2stLTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcmVuT3Blbikge1xuICAgICAgICAgICAgICAgICAgICBzdGFjaysrO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW5PcGVuLmxlbmd0aCAhPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0Q2FwdHVyZS5zdGFjayA9IHN0YWNrXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0Q2FwdHVyZS5zdGFydCA9IGluZGV4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBtO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChsYXN0Q2FwdHVyZS5lbmQgIT0gbnVsbCAmJiAvXlxcKSokLy50ZXN0KHNyYy5zdWJzdHIobGFzdENhcHR1cmUuZW5kKSkpXG4gICAgICAgICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZygwLCBsYXN0Q2FwdHVyZS5zdGFydCkgKyBzcmMuc3Vic3RyKGxhc3RDYXB0dXJlLmVuZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoc3JjLCAoZmxhZ3x8XCJcIikucmVwbGFjZShcImdcIiwgXCJcIikpO1xuICAgIH07XG4gICAgdGhpcy5nZXRMaW5lVG9rZW5zID0gZnVuY3Rpb24obGluZSwgc3RhcnRTdGF0ZSkge1xuICAgICAgICBpZiAoc3RhcnRTdGF0ZSAmJiB0eXBlb2Ygc3RhcnRTdGF0ZSAhPSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB2YXIgc3RhY2sgPSBzdGFydFN0YXRlLnNsaWNlKDApO1xuICAgICAgICAgICAgc3RhcnRTdGF0ZSA9IHN0YWNrWzBdO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIHZhciBzdGFjayA9IFtdO1xuXG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSBzdGFydFN0YXRlIHx8IFwic3RhcnRcIjtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZXNbY3VycmVudFN0YXRlXTtcbiAgICAgICAgdmFyIG1hcHBpbmcgPSB0aGlzLm1hdGNoTWFwcGluZ3NbY3VycmVudFN0YXRlXTtcbiAgICAgICAgdmFyIHJlID0gdGhpcy5yZWdFeHBzW2N1cnJlbnRTdGF0ZV07XG4gICAgICAgIHJlLmxhc3RJbmRleCA9IDA7XG5cbiAgICAgICAgdmFyIG1hdGNoLCB0b2tlbnMgPSBbXTtcbiAgICAgICAgdmFyIGxhc3RJbmRleCA9IDA7XG5cbiAgICAgICAgdmFyIHRva2VuID0ge3R5cGU6IG51bGwsIHZhbHVlOiBcIlwifTtcblxuICAgICAgICB3aGlsZSAobWF0Y2ggPSByZS5leGVjKGxpbmUpKSB7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IG1hcHBpbmcuZGVmYXVsdFRva2VuO1xuICAgICAgICAgICAgdmFyIHJ1bGUgPSBudWxsO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gbWF0Y2hbMF07XG4gICAgICAgICAgICB2YXIgaW5kZXggPSByZS5sYXN0SW5kZXg7XG5cbiAgICAgICAgICAgIGlmIChpbmRleCAtIHZhbHVlLmxlbmd0aCA+IGxhc3RJbmRleCkge1xuICAgICAgICAgICAgICAgIHZhciBza2lwcGVkID0gbGluZS5zdWJzdHJpbmcobGFzdEluZGV4LCBpbmRleCAtIHZhbHVlLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT0gdHlwZSkge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbi52YWx1ZSArPSBza2lwcGVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IHt0eXBlOiB0eXBlLCB2YWx1ZTogc2tpcHBlZH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hdGNoLmxlbmd0aC0yOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hbaSArIDFdID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgcnVsZSA9IHN0YXRlW21hcHBpbmdbaV1dO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJ1bGUub25NYXRjaClcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IHJ1bGUub25NYXRjaCh2YWx1ZSwgY3VycmVudFN0YXRlLCBzdGFjayk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gcnVsZS50b2tlbjtcblxuICAgICAgICAgICAgICAgIGlmIChydWxlLm5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBydWxlLm5leHQgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IHJ1bGUubmV4dDtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlID0gcnVsZS5uZXh0KGN1cnJlbnRTdGF0ZSwgc3RhY2spO1xuXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gdGhpcy5zdGF0ZXNbY3VycmVudFN0YXRlXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUgJiYgY29uc29sZS5lcnJvciAmJiBjb25zb2xlLmVycm9yKGN1cnJlbnRTdGF0ZSwgXCJkb2Vzbid0IGV4aXN0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlID0gXCJzdGFydFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSB0aGlzLnN0YXRlc1tjdXJyZW50U3RhdGVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1hcHBpbmcgPSB0aGlzLm1hdGNoTWFwcGluZ3NbY3VycmVudFN0YXRlXTtcbiAgICAgICAgICAgICAgICAgICAgbGFzdEluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIHJlID0gdGhpcy5yZWdFeHBzW2N1cnJlbnRTdGF0ZV07XG4gICAgICAgICAgICAgICAgICAgIHJlLmxhc3RJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0eXBlID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCghcnVsZSB8fCBydWxlLm1lcmdlICE9PSBmYWxzZSkgJiYgdG9rZW4udHlwZSA9PT0gdHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4udmFsdWUgKz0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4udHlwZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IHt0eXBlOiB0eXBlLCB2YWx1ZTogdmFsdWV9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IHt0eXBlOiBudWxsLCB2YWx1ZTogXCJcIn07XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZS5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHR5cGVbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGxhc3RJbmRleCA9PSBsaW5lLmxlbmd0aClcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgbGFzdEluZGV4ID0gaW5kZXg7XG5cbiAgICAgICAgICAgIGlmICh0b2tlbnMubGVuZ3RoID4gTUFYX1RPS0VOX0NPVU5UKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGxhc3RJbmRleCA8IGxpbmUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBsaW5lLnN1YnN0cmluZyhsYXN0SW5kZXgsIGxhc3RJbmRleCArPSAyMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwib3ZlcmZsb3dcIlxuICAgICAgICAgICAgICAgICAgICB9ICAgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSBcInN0YXJ0XCI7XG4gICAgICAgICAgICAgICAgc3RhY2sgPSBbXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0b2tlbi50eXBlKVxuICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b2tlbnMgOiB0b2tlbnMsXG4gICAgICAgICAgICBzdGF0ZSA6IHN0YWNrLmxlbmd0aCA/IHN0YWNrIDogY3VycmVudFN0YXRlXG4gICAgICAgIH07XG4gICAgfTtcblxufSkuY2FsbChUb2tlbml6ZXIucHJvdG90eXBlKTtcblxuZXhwb3J0cy5Ub2tlbml6ZXIgPSBUb2tlbml6ZXI7XG59KTtcblxuYWNlLmRlZmluZSgnYWNlL21vZGUvdGV4dF9oaWdobGlnaHRfcnVsZXMnLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgLCAnYWNlL2xpYi9sYW5nJ10sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuXG52YXIgbGFuZyA9IGFjZXF1aXJlKFwiLi4vbGliL2xhbmdcIik7XG5cbnZhciBUZXh0SGlnaGxpZ2h0UnVsZXMgPSBmdW5jdGlvbigpIHtcblxuICAgIHRoaXMuJHJ1bGVzID0ge1xuICAgICAgICBcInN0YXJ0XCIgOiBbe1xuICAgICAgICAgICAgdG9rZW4gOiBcImVtcHR5X2xpbmVcIixcbiAgICAgICAgICAgIHJlZ2V4IDogJ14kJ1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICBkZWZhdWx0VG9rZW4gOiBcInRleHRcIlxuICAgICAgICB9XVxuICAgIH07XG59O1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLmFkZFJ1bGVzID0gZnVuY3Rpb24ocnVsZXMsIHByZWZpeCkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gcnVsZXMpIHtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHJ1bGVzW2tleV07XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJ1bGUgPSBzdGF0ZVtpXTtcbiAgICAgICAgICAgICAgICBpZiAocnVsZS5uZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcnVsZS5uZXh0ICE9IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBydWxlLm5leHRTdGF0ZSA9IHByZWZpeCArIHJ1bGUubmV4dFN0YXRlO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBydWxlLm5leHQgPSBwcmVmaXggKyBydWxlLm5leHQ7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLiRydWxlc1twcmVmaXggKyBrZXldID0gc3RhdGU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5nZXRSdWxlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kcnVsZXM7XG4gICAgfTtcblxuICAgIHRoaXMuZW1iZWRSdWxlcyA9IGZ1bmN0aW9uIChIaWdobGlnaHRSdWxlcywgcHJlZml4LCBlc2NhcGVSdWxlcywgc3RhdGVzLCBhcHBlbmQpIHtcbiAgICAgICAgdmFyIGVtYmVkUnVsZXMgPSBuZXcgSGlnaGxpZ2h0UnVsZXMoKS5nZXRSdWxlcygpO1xuICAgICAgICBpZiAoc3RhdGVzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXRlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICBzdGF0ZXNbaV0gPSBwcmVmaXggKyBzdGF0ZXNbaV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGF0ZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBlbWJlZFJ1bGVzKVxuICAgICAgICAgICAgICAgIHN0YXRlcy5wdXNoKHByZWZpeCArIGtleSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFkZFJ1bGVzKGVtYmVkUnVsZXMsIHByZWZpeCk7XG5cbiAgICAgICAgaWYgKGVzY2FwZVJ1bGVzKSB7XG4gICAgICAgICAgICB2YXIgYWRkUnVsZXMgPSBBcnJheS5wcm90b3R5cGVbYXBwZW5kID8gXCJwdXNoXCIgOiBcInVuc2hpZnRcIl07XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXRlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICBhZGRSdWxlcy5hcHBseSh0aGlzLiRydWxlc1tzdGF0ZXNbaV1dLCBsYW5nLmRlZXBDb3B5KGVzY2FwZVJ1bGVzKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuJGVtYmVkcylcbiAgICAgICAgICAgIHRoaXMuJGVtYmVkcyA9IFtdO1xuICAgICAgICB0aGlzLiRlbWJlZHMucHVzaChwcmVmaXgpO1xuICAgIH1cblxuICAgIHRoaXMuZ2V0RW1iZWRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRlbWJlZHM7XG4gICAgfTtcblxuICAgIHZhciBwdXNoU3RhdGUgPSBmdW5jdGlvbihjdXJyZW50U3RhdGUsIHN0YWNrKSB7XG4gICAgICAgIGlmIChjdXJyZW50U3RhdGUgIT0gXCJzdGFydFwiKVxuICAgICAgICAgICAgc3RhY2sudW5zaGlmdCh0aGlzLm5leHRTdGF0ZSwgY3VycmVudFN0YXRlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dFN0YXRlO1xuICAgIH07XG4gICAgdmFyIHBvcFN0YXRlID0gZnVuY3Rpb24oY3VycmVudFN0YXRlLCBzdGFjaykge1xuICAgICAgICBpZiAoc3RhY2tbMF0gIT09IGN1cnJlbnRTdGF0ZSlcbiAgICAgICAgICAgIHJldHVybiBcInN0YXJ0XCI7XG4gICAgICAgIHN0YWNrLnNoaWZ0KCk7XG4gICAgICAgIHJldHVybiBzdGFjay5zaGlmdCgpO1xuICAgIH07XG5cbiAgICB0aGlzLm5vcm1hbGl6ZVJ1bGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBpZCA9IDA7XG4gICAgICAgIHZhciBydWxlcyA9IHRoaXMuJHJ1bGVzO1xuICAgICAgICBmdW5jdGlvbiBwcm9jZXNzU3RhdGUoa2V5KSB7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSBydWxlc1trZXldO1xuICAgICAgICAgICAgc3RhdGUucHJvY2Vzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcnVsZSA9IHN0YXRlW2ldO1xuICAgICAgICAgICAgICAgIGlmICghcnVsZS5yZWdleCAmJiBydWxlLnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bGUucmVnZXggPSBydWxlLnN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXJ1bGUubmV4dClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGUubmV4dCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBydWxlLm5leHQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VG9rZW46IHJ1bGUudG9rZW5cbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHJ1bGUudG9rZW4gKyBcIi5lbmRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2V4OiBydWxlLmVuZCB8fCBydWxlLnN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dDogXCJwb3BcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcnVsZS50b2tlbiA9IHJ1bGUudG9rZW4gKyBcIi5zdGFydFwiO1xuICAgICAgICAgICAgICAgICAgICBydWxlLnB1c2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IHJ1bGUubmV4dCB8fCBydWxlLnB1c2g7XG4gICAgICAgICAgICAgICAgaWYgKG5leHQgJiYgQXJyYXkuaXNBcnJheShuZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGVOYW1lID0gcnVsZS5zdGF0ZU5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc3RhdGVOYW1lKSAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVOYW1lID0gcnVsZS50b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhdGVOYW1lICE9IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVOYW1lID0gc3RhdGVOYW1lWzBdIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVsZXNbc3RhdGVOYW1lXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZU5hbWUgKz0gaWQrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBydWxlc1tzdGF0ZU5hbWVdID0gbmV4dDtcbiAgICAgICAgICAgICAgICAgICAgcnVsZS5uZXh0ID0gc3RhdGVOYW1lO1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzU3RhdGUoc3RhdGVOYW1lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5leHQgPT0gXCJwb3BcIikge1xuICAgICAgICAgICAgICAgICAgICBydWxlLm5leHQgPSBwb3BTdGF0ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocnVsZS5wdXNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bGUubmV4dFN0YXRlID0gcnVsZS5uZXh0IHx8IHJ1bGUucHVzaDtcbiAgICAgICAgICAgICAgICAgICAgcnVsZS5uZXh0ID0gcHVzaFN0YXRlO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcnVsZS5wdXNoO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChydWxlLnJ1bGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHIgaW4gcnVsZS5ydWxlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGVzW3JdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGVzW3JdLnB1c2gpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzW3JdLnB1c2guYXBwbHkocnVsZXNbcl0sIHJ1bGUucnVsZXNbcl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlc1tyXSA9IHJ1bGUucnVsZXNbcl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJ1bGUuaW5jbHVkZSB8fCB0eXBlb2YgcnVsZSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmNsdWRlTmFtZSA9IHJ1bGUuaW5jbHVkZSB8fCBydWxlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG9JbnNlcnQgPSBydWxlc1tpbmNsdWRlTmFtZV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHJ1bGUpKVxuICAgICAgICAgICAgICAgICAgICB0b0luc2VydCA9IHJ1bGU7XG5cbiAgICAgICAgICAgICAgICBpZiAodG9JbnNlcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbaSwgMV0uY29uY2F0KHRvSW5zZXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGUubm9Fc2NhcGUpXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzID0gYXJncy5maWx0ZXIoZnVuY3Rpb24oeCkge3JldHVybiAheC5uZXh0O30pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5zcGxpY2UuYXBwbHkoc3RhdGUsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgICAgIHRvSW5zZXJ0ID0gbnVsbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAocnVsZS5rZXl3b3JkTWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bGUudG9rZW4gPSB0aGlzLmNyZWF0ZUtleXdvcmRNYXBwZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICBydWxlLmtleXdvcmRNYXAsIHJ1bGUuZGVmYXVsdFRva2VuIHx8IFwidGV4dFwiLCBydWxlLmNhc2VJbnNlbnNpdGl2ZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcnVsZS5kZWZhdWx0VG9rZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBPYmplY3Qua2V5cyhydWxlcykuZm9yRWFjaChwcm9jZXNzU3RhdGUsIHRoaXMpO1xuICAgIH07XG5cbiAgICB0aGlzLmNyZWF0ZUtleXdvcmRNYXBwZXIgPSBmdW5jdGlvbihtYXAsIGRlZmF1bHRUb2tlbiwgaWdub3JlQ2FzZSwgc3BsaXRDaGFyKSB7XG4gICAgICAgIHZhciBrZXl3b3JkcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIE9iamVjdC5rZXlzKG1hcCkuZm9yRWFjaChmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHZhciBhID0gbWFwW2NsYXNzTmFtZV07XG4gICAgICAgICAgICBpZiAoaWdub3JlQ2FzZSlcbiAgICAgICAgICAgICAgICBhID0gYS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdmFyIGxpc3QgPSBhLnNwbGl0KHNwbGl0Q2hhciB8fCBcInxcIik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gbGlzdC5sZW5ndGg7IGktLTsgKVxuICAgICAgICAgICAgICAgIGtleXdvcmRzW2xpc3RbaV1dID0gY2xhc3NOYW1lO1xuICAgICAgICB9KTtcbiAgICAgICAgbWFwID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGlnbm9yZUNhc2VcbiAgICAgICAgICAgID8gZnVuY3Rpb24odmFsdWUpIHtyZXR1cm4ga2V5d29yZHNbdmFsdWUudG9Mb3dlckNhc2UoKV0gfHwgZGVmYXVsdFRva2VuIH1cbiAgICAgICAgICAgIDogZnVuY3Rpb24odmFsdWUpIHtyZXR1cm4ga2V5d29yZHNbdmFsdWVdIHx8IGRlZmF1bHRUb2tlbiB9O1xuICAgIH1cblxuICAgIHRoaXMuZ2V0S2V5d29yZHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGtleXdvcmRzO1xuICAgIH07XG5cbn0pLmNhbGwoVGV4dEhpZ2hsaWdodFJ1bGVzLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuVGV4dEhpZ2hsaWdodFJ1bGVzID0gVGV4dEhpZ2hsaWdodFJ1bGVzO1xufSk7XG5cbmFjZS5kZWZpbmUoJ2FjZS9tb2RlL2JlaGF2aW91cicsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyBdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cblxudmFyIEJlaGF2aW91ciA9IGZ1bmN0aW9uKCkge1xuICAgdGhpcy4kYmVoYXZpb3VycyA9IHt9O1xufTtcblxuKGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuYWRkID0gZnVuY3Rpb24gKG5hbWUsIGFjdGlvbiwgY2FsbGJhY2spIHtcbiAgICAgICAgc3dpdGNoICh1bmRlZmluZWQpIHtcbiAgICAgICAgICBjYXNlIHRoaXMuJGJlaGF2aW91cnM6XG4gICAgICAgICAgICAgIHRoaXMuJGJlaGF2aW91cnMgPSB7fTtcbiAgICAgICAgICBjYXNlIHRoaXMuJGJlaGF2aW91cnNbbmFtZV06XG4gICAgICAgICAgICAgIHRoaXMuJGJlaGF2aW91cnNbbmFtZV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRiZWhhdmlvdXJzW25hbWVdW2FjdGlvbl0gPSBjYWxsYmFjaztcbiAgICB9XG4gICAgXG4gICAgdGhpcy5hZGRCZWhhdmlvdXJzID0gZnVuY3Rpb24gKGJlaGF2aW91cnMpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGJlaGF2aW91cnMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGFjdGlvbiBpbiBiZWhhdmlvdXJzW2tleV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZChrZXksIGFjdGlvbiwgYmVoYXZpb3Vyc1trZXldW2FjdGlvbl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHRoaXMucmVtb3ZlID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuJGJlaGF2aW91cnMgJiYgdGhpcy4kYmVoYXZpb3Vyc1tuYW1lXSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuJGJlaGF2aW91cnNbbmFtZV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgdGhpcy5pbmhlcml0ID0gZnVuY3Rpb24gKG1vZGUsIGZpbHRlcikge1xuICAgICAgICBpZiAodHlwZW9mIG1vZGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdmFyIGJlaGF2aW91cnMgPSBuZXcgbW9kZSgpLmdldEJlaGF2aW91cnMoZmlsdGVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBiZWhhdmlvdXJzID0gbW9kZS5nZXRCZWhhdmlvdXJzKGZpbHRlcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGRCZWhhdmlvdXJzKGJlaGF2aW91cnMpO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLmdldEJlaGF2aW91cnMgPSBmdW5jdGlvbiAoZmlsdGVyKSB7XG4gICAgICAgIGlmICghZmlsdGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kYmVoYXZpb3VycztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciByZXQgPSB7fVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy4kYmVoYXZpb3Vyc1tmaWx0ZXJbaV1dKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldFtmaWx0ZXJbaV1dID0gdGhpcy4kYmVoYXZpb3Vyc1tmaWx0ZXJbaV1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH1cbiAgICB9XG5cbn0pLmNhbGwoQmVoYXZpb3VyLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuQmVoYXZpb3VyID0gQmVoYXZpb3VyO1xufSk7XG5hY2UuZGVmaW5lKCdhY2UvdW5pY29kZScsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyBdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5leHBvcnRzLnBhY2thZ2VzID0ge307XG5cbmFkZFVuaWNvZGVQYWNrYWdlKHtcbiAgICBMOiAgXCIwMDQxLTAwNUEwMDYxLTAwN0EwMEFBMDBCNTAwQkEwMEMwLTAwRDYwMEQ4LTAwRjYwMEY4LTAyQzEwMkM2LTAyRDEwMkUwLTAyRTQwMkVDMDJFRTAzNzAtMDM3NDAzNzYwMzc3MDM3QS0wMzdEMDM4NjAzODgtMDM4QTAzOEMwMzhFLTAzQTEwM0EzLTAzRjUwM0Y3LTA0ODEwNDhBLTA1MjUwNTMxLTA1NTYwNTU5MDU2MS0wNTg3MDVEMC0wNUVBMDVGMC0wNUYyMDYyMS0wNjRBMDY2RTA2NkYwNjcxLTA2RDMwNkQ1MDZFNTA2RTYwNkVFMDZFRjA2RkEtMDZGQzA2RkYwNzEwMDcxMi0wNzJGMDc0RC0wN0E1MDdCMTA3Q0EtMDdFQTA3RjQwN0Y1MDdGQTA4MDAtMDgxNTA4MUEwODI0MDgyODA5MDQtMDkzOTA5M0QwOTUwMDk1OC0wOTYxMDk3MTA5NzIwOTc5LTA5N0YwOTg1LTA5OEMwOThGMDk5MDA5OTMtMDlBODA5QUEtMDlCMDA5QjIwOUI2LTA5QjkwOUJEMDlDRTA5REMwOUREMDlERi0wOUUxMDlGMDA5RjEwQTA1LTBBMEEwQTBGMEExMDBBMTMtMEEyODBBMkEtMEEzMDBBMzIwQTMzMEEzNTBBMzYwQTM4MEEzOTBBNTktMEE1QzBBNUUwQTcyLTBBNzQwQTg1LTBBOEQwQThGLTBBOTEwQTkzLTBBQTgwQUFBLTBBQjAwQUIyMEFCMzBBQjUtMEFCOTBBQkQwQUQwMEFFMDBBRTEwQjA1LTBCMEMwQjBGMEIxMDBCMTMtMEIyODBCMkEtMEIzMDBCMzIwQjMzMEIzNS0wQjM5MEIzRDBCNUMwQjVEMEI1Ri0wQjYxMEI3MTBCODMwQjg1LTBCOEEwQjhFLTBCOTAwQjkyLTBCOTUwQjk5MEI5QTBCOUMwQjlFMEI5RjBCQTMwQkE0MEJBOC0wQkFBMEJBRS0wQkI5MEJEMDBDMDUtMEMwQzBDMEUtMEMxMDBDMTItMEMyODBDMkEtMEMzMzBDMzUtMEMzOTBDM0QwQzU4MEM1OTBDNjAwQzYxMEM4NS0wQzhDMEM4RS0wQzkwMEM5Mi0wQ0E4MENBQS0wQ0IzMENCNS0wQ0I5MENCRDBDREUwQ0UwMENFMTBEMDUtMEQwQzBEMEUtMEQxMDBEMTItMEQyODBEMkEtMEQzOTBEM0QwRDYwMEQ2MTBEN0EtMEQ3RjBEODUtMEQ5NjBEOUEtMERCMTBEQjMtMERCQjBEQkQwREMwLTBEQzYwRTAxLTBFMzAwRTMyMEUzMzBFNDAtMEU0NjBFODEwRTgyMEU4NDBFODcwRTg4MEU4QTBFOEQwRTk0LTBFOTcwRTk5LTBFOUYwRUExLTBFQTMwRUE1MEVBNzBFQUEwRUFCMEVBRC0wRUIwMEVCMjBFQjMwRUJEMEVDMC0wRUM0MEVDNjBFREMwRUREMEYwMDBGNDAtMEY0NzBGNDktMEY2QzBGODgtMEY4QjEwMDAtMTAyQTEwM0YxMDUwLTEwNTUxMDVBLTEwNUQxMDYxMTA2NTEwNjYxMDZFLTEwNzAxMDc1LTEwODExMDhFMTBBMC0xMEM1MTBEMC0xMEZBMTBGQzExMDAtMTI0ODEyNEEtMTI0RDEyNTAtMTI1NjEyNTgxMjVBLTEyNUQxMjYwLTEyODgxMjhBLTEyOEQxMjkwLTEyQjAxMkIyLTEyQjUxMkI4LTEyQkUxMkMwMTJDMi0xMkM1MTJDOC0xMkQ2MTJEOC0xMzEwMTMxMi0xMzE1MTMxOC0xMzVBMTM4MC0xMzhGMTNBMC0xM0Y0MTQwMS0xNjZDMTY2Ri0xNjdGMTY4MS0xNjlBMTZBMC0xNkVBMTcwMC0xNzBDMTcwRS0xNzExMTcyMC0xNzMxMTc0MC0xNzUxMTc2MC0xNzZDMTc2RS0xNzcwMTc4MC0xN0IzMTdENzE3REMxODIwLTE4NzcxODgwLTE4QTgxOEFBMThCMC0xOEY1MTkwMC0xOTFDMTk1MC0xOTZEMTk3MC0xOTc0MTk4MC0xOUFCMTlDMS0xOUM3MUEwMC0xQTE2MUEyMC0xQTU0MUFBNzFCMDUtMUIzMzFCNDUtMUI0QjFCODMtMUJBMDFCQUUxQkFGMUMwMC0xQzIzMUM0RC0xQzRGMUM1QS0xQzdEMUNFOS0xQ0VDMUNFRS0xQ0YxMUQwMC0xREJGMUUwMC0xRjE1MUYxOC0xRjFEMUYyMC0xRjQ1MUY0OC0xRjREMUY1MC0xRjU3MUY1OTFGNUIxRjVEMUY1Ri0xRjdEMUY4MC0xRkI0MUZCNi0xRkJDMUZCRTFGQzItMUZDNDFGQzYtMUZDQzFGRDAtMUZEMzFGRDYtMUZEQjFGRTAtMUZFQzFGRjItMUZGNDFGRjYtMUZGQzIwNzEyMDdGMjA5MC0yMDk0MjEwMjIxMDcyMTBBLTIxMTMyMTE1MjExOS0yMTFEMjEyNDIxMjYyMTI4MjEyQS0yMTJEMjEyRi0yMTM5MjEzQy0yMTNGMjE0NS0yMTQ5MjE0RTIxODMyMTg0MkMwMC0yQzJFMkMzMC0yQzVFMkM2MC0yQ0U0MkNFQi0yQ0VFMkQwMC0yRDI1MkQzMC0yRDY1MkQ2RjJEODAtMkQ5NjJEQTAtMkRBNjJEQTgtMkRBRTJEQjAtMkRCNjJEQjgtMkRCRTJEQzAtMkRDNjJEQzgtMkRDRTJERDAtMkRENjJERDgtMkRERTJFMkYzMDA1MzAwNjMwMzEtMzAzNTMwM0IzMDNDMzA0MS0zMDk2MzA5RC0zMDlGMzBBMS0zMEZBMzBGQy0zMEZGMzEwNS0zMTJEMzEzMS0zMThFMzFBMC0zMUI3MzFGMC0zMUZGMzQwMC00REI1NEUwMC05RkNCQTAwMC1BNDhDQTREMC1BNEZEQTUwMC1BNjBDQTYxMC1BNjFGQTYyQUE2MkJBNjQwLUE2NUZBNjYyLUE2NkVBNjdGLUE2OTdBNkEwLUE2RTVBNzE3LUE3MUZBNzIyLUE3ODhBNzhCQTc4Q0E3RkItQTgwMUE4MDMtQTgwNUE4MDctQTgwQUE4MEMtQTgyMkE4NDAtQTg3M0E4ODItQThCM0E4RjItQThGN0E4RkJBOTBBLUE5MjVBOTMwLUE5NDZBOTYwLUE5N0NBOTg0LUE5QjJBOUNGQUEwMC1BQTI4QUE0MC1BQTQyQUE0NC1BQTRCQUE2MC1BQTc2QUE3QUFBODAtQUFBRkFBQjFBQUI1QUFCNkFBQjktQUFCREFBQzBBQUMyQUFEQi1BQUREQUJDMC1BQkUyQUMwMC1EN0EzRDdCMC1EN0M2RDdDQi1EN0ZCRjkwMC1GQTJERkEzMC1GQTZERkE3MC1GQUQ5RkIwMC1GQjA2RkIxMy1GQjE3RkIxREZCMUYtRkIyOEZCMkEtRkIzNkZCMzgtRkIzQ0ZCM0VGQjQwRkI0MUZCNDNGQjQ0RkI0Ni1GQkIxRkJEMy1GRDNERkQ1MC1GRDhGRkQ5Mi1GREM3RkRGMC1GREZCRkU3MC1GRTc0RkU3Ni1GRUZDRkYyMS1GRjNBRkY0MS1GRjVBRkY2Ni1GRkJFRkZDMi1GRkM3RkZDQS1GRkNGRkZEMi1GRkQ3RkZEQS1GRkRDXCIsXG4gICAgTGw6IFwiMDA2MS0wMDdBMDBBQTAwQjUwMEJBMDBERi0wMEY2MDBGOC0wMEZGMDEwMTAxMDMwMTA1MDEwNzAxMDkwMTBCMDEwRDAxMEYwMTExMDExMzAxMTUwMTE3MDExOTAxMUIwMTFEMDExRjAxMjEwMTIzMDEyNTAxMjcwMTI5MDEyQjAxMkQwMTJGMDEzMTAxMzMwMTM1MDEzNzAxMzgwMTNBMDEzQzAxM0UwMTQwMDE0MjAxNDQwMTQ2MDE0ODAxNDkwMTRCMDE0RDAxNEYwMTUxMDE1MzAxNTUwMTU3MDE1OTAxNUIwMTVEMDE1RjAxNjEwMTYzMDE2NTAxNjcwMTY5MDE2QjAxNkQwMTZGMDE3MTAxNzMwMTc1MDE3NzAxN0EwMTdDMDE3RS0wMTgwMDE4MzAxODUwMTg4MDE4QzAxOEQwMTkyMDE5NTAxOTktMDE5QjAxOUUwMUExMDFBMzAxQTUwMUE4MDFBQTAxQUIwMUFEMDFCMDAxQjQwMUI2MDFCOTAxQkEwMUJELTAxQkYwMUM2MDFDOTAxQ0MwMUNFMDFEMDAxRDIwMUQ0MDFENjAxRDgwMURBMDFEQzAxREQwMURGMDFFMTAxRTMwMUU1MDFFNzAxRTkwMUVCMDFFRDAxRUYwMUYwMDFGMzAxRjUwMUY5MDFGQjAxRkQwMUZGMDIwMTAyMDMwMjA1MDIwNzAyMDkwMjBCMDIwRDAyMEYwMjExMDIxMzAyMTUwMjE3MDIxOTAyMUIwMjFEMDIxRjAyMjEwMjIzMDIyNTAyMjcwMjI5MDIyQjAyMkQwMjJGMDIzMTAyMzMtMDIzOTAyM0MwMjNGMDI0MDAyNDIwMjQ3MDI0OTAyNEIwMjREMDI0Ri0wMjkzMDI5NS0wMkFGMDM3MTAzNzMwMzc3MDM3Qi0wMzdEMDM5MDAzQUMtMDNDRTAzRDAwM0QxMDNENS0wM0Q3MDNEOTAzREIwM0REMDNERjAzRTEwM0UzMDNFNTAzRTcwM0U5MDNFQjAzRUQwM0VGLTAzRjMwM0Y1MDNGODAzRkIwM0ZDMDQzMC0wNDVGMDQ2MTA0NjMwNDY1MDQ2NzA0NjkwNDZCMDQ2RDA0NkYwNDcxMDQ3MzA0NzUwNDc3MDQ3OTA0N0IwNDdEMDQ3RjA0ODEwNDhCMDQ4RDA0OEYwNDkxMDQ5MzA0OTUwNDk3MDQ5OTA0OUIwNDlEMDQ5RjA0QTEwNEEzMDRBNTA0QTcwNEE5MDRBQjA0QUQwNEFGMDRCMTA0QjMwNEI1MDRCNzA0QjkwNEJCMDRCRDA0QkYwNEMyMDRDNDA0QzYwNEM4MDRDQTA0Q0MwNENFMDRDRjA0RDEwNEQzMDRENTA0RDcwNEQ5MDREQjA0REQwNERGMDRFMTA0RTMwNEU1MDRFNzA0RTkwNEVCMDRFRDA0RUYwNEYxMDRGMzA0RjUwNEY3MDRGOTA0RkIwNEZEMDRGRjA1MDEwNTAzMDUwNTA1MDcwNTA5MDUwQjA1MEQwNTBGMDUxMTA1MTMwNTE1MDUxNzA1MTkwNTFCMDUxRDA1MUYwNTIxMDUyMzA1MjUwNTYxLTA1ODcxRDAwLTFEMkIxRDYyLTFENzcxRDc5LTFEOUExRTAxMUUwMzFFMDUxRTA3MUUwOTFFMEIxRTBEMUUwRjFFMTExRTEzMUUxNTFFMTcxRTE5MUUxQjFFMUQxRTFGMUUyMTFFMjMxRTI1MUUyNzFFMjkxRTJCMUUyRDFFMkYxRTMxMUUzMzFFMzUxRTM3MUUzOTFFM0IxRTNEMUUzRjFFNDExRTQzMUU0NTFFNDcxRTQ5MUU0QjFFNEQxRTRGMUU1MTFFNTMxRTU1MUU1NzFFNTkxRTVCMUU1RDFFNUYxRTYxMUU2MzFFNjUxRTY3MUU2OTFFNkIxRTZEMUU2RjFFNzExRTczMUU3NTFFNzcxRTc5MUU3QjFFN0QxRTdGMUU4MTFFODMxRTg1MUU4NzFFODkxRThCMUU4RDFFOEYxRTkxMUU5MzFFOTUtMUU5RDFFOUYxRUExMUVBMzFFQTUxRUE3MUVBOTFFQUIxRUFEMUVBRjFFQjExRUIzMUVCNTFFQjcxRUI5MUVCQjFFQkQxRUJGMUVDMTFFQzMxRUM1MUVDNzFFQzkxRUNCMUVDRDFFQ0YxRUQxMUVEMzFFRDUxRUQ3MUVEOTFFREIxRUREMUVERjFFRTExRUUzMUVFNTFFRTcxRUU5MUVFQjFFRUQxRUVGMUVGMTFFRjMxRUY1MUVGNzFFRjkxRUZCMUVGRDFFRkYtMUYwNzFGMTAtMUYxNTFGMjAtMUYyNzFGMzAtMUYzNzFGNDAtMUY0NTFGNTAtMUY1NzFGNjAtMUY2NzFGNzAtMUY3RDFGODAtMUY4NzFGOTAtMUY5NzFGQTAtMUZBNzFGQjAtMUZCNDFGQjYxRkI3MUZCRTFGQzItMUZDNDFGQzYxRkM3MUZEMC0xRkQzMUZENjFGRDcxRkUwLTFGRTcxRkYyLTFGRjQxRkY2MUZGNzIxMEEyMTBFMjEwRjIxMTMyMTJGMjEzNDIxMzkyMTNDMjEzRDIxNDYtMjE0OTIxNEUyMTg0MkMzMC0yQzVFMkM2MTJDNjUyQzY2MkM2ODJDNkEyQzZDMkM3MTJDNzMyQzc0MkM3Ni0yQzdDMkM4MTJDODMyQzg1MkM4NzJDODkyQzhCMkM4RDJDOEYyQzkxMkM5MzJDOTUyQzk3MkM5OTJDOUIyQzlEMkM5RjJDQTEyQ0EzMkNBNTJDQTcyQ0E5MkNBQjJDQUQyQ0FGMkNCMTJDQjMyQ0I1MkNCNzJDQjkyQ0JCMkNCRDJDQkYyQ0MxMkNDMzJDQzUyQ0M3MkNDOTJDQ0IyQ0NEMkNDRjJDRDEyQ0QzMkNENTJDRDcyQ0Q5MkNEQjJDREQyQ0RGMkNFMTJDRTMyQ0U0MkNFQzJDRUUyRDAwLTJEMjVBNjQxQTY0M0E2NDVBNjQ3QTY0OUE2NEJBNjREQTY0RkE2NTFBNjUzQTY1NUE2NTdBNjU5QTY1QkE2NURBNjVGQTY2M0E2NjVBNjY3QTY2OUE2NkJBNjZEQTY4MUE2ODNBNjg1QTY4N0E2ODlBNjhCQTY4REE2OEZBNjkxQTY5M0E2OTVBNjk3QTcyM0E3MjVBNzI3QTcyOUE3MkJBNzJEQTcyRi1BNzMxQTczM0E3MzVBNzM3QTczOUE3M0JBNzNEQTczRkE3NDFBNzQzQTc0NUE3NDdBNzQ5QTc0QkE3NERBNzRGQTc1MUE3NTNBNzU1QTc1N0E3NTlBNzVCQTc1REE3NUZBNzYxQTc2M0E3NjVBNzY3QTc2OUE3NkJBNzZEQTc2RkE3NzEtQTc3OEE3N0FBNzdDQTc3RkE3ODFBNzgzQTc4NUE3ODdBNzhDRkIwMC1GQjA2RkIxMy1GQjE3RkY0MS1GRjVBXCIsXG4gICAgTHU6IFwiMDA0MS0wMDVBMDBDMC0wMEQ2MDBEOC0wMERFMDEwMDAxMDIwMTA0MDEwNjAxMDgwMTBBMDEwQzAxMEUwMTEwMDExMjAxMTQwMTE2MDExODAxMUEwMTFDMDExRTAxMjAwMTIyMDEyNDAxMjYwMTI4MDEyQTAxMkMwMTJFMDEzMDAxMzIwMTM0MDEzNjAxMzkwMTNCMDEzRDAxM0YwMTQxMDE0MzAxNDUwMTQ3MDE0QTAxNEMwMTRFMDE1MDAxNTIwMTU0MDE1NjAxNTgwMTVBMDE1QzAxNUUwMTYwMDE2MjAxNjQwMTY2MDE2ODAxNkEwMTZDMDE2RTAxNzAwMTcyMDE3NDAxNzYwMTc4MDE3OTAxN0IwMTdEMDE4MTAxODIwMTg0MDE4NjAxODcwMTg5LTAxOEIwMThFLTAxOTEwMTkzMDE5NDAxOTYtMDE5ODAxOUMwMTlEMDE5RjAxQTAwMUEyMDFBNDAxQTYwMUE3MDFBOTAxQUMwMUFFMDFBRjAxQjEtMDFCMzAxQjUwMUI3MDFCODAxQkMwMUM0MDFDNzAxQ0EwMUNEMDFDRjAxRDEwMUQzMDFENTAxRDcwMUQ5MDFEQjAxREUwMUUwMDFFMjAxRTQwMUU2MDFFODAxRUEwMUVDMDFFRTAxRjEwMUY0MDFGNi0wMUY4MDFGQTAxRkMwMUZFMDIwMDAyMDIwMjA0MDIwNjAyMDgwMjBBMDIwQzAyMEUwMjEwMDIxMjAyMTQwMjE2MDIxODAyMUEwMjFDMDIxRTAyMjAwMjIyMDIyNDAyMjYwMjI4MDIyQTAyMkMwMjJFMDIzMDAyMzIwMjNBMDIzQjAyM0QwMjNFMDI0MTAyNDMtMDI0NjAyNDgwMjRBMDI0QzAyNEUwMzcwMDM3MjAzNzYwMzg2MDM4OC0wMzhBMDM4QzAzOEUwMzhGMDM5MS0wM0ExMDNBMy0wM0FCMDNDRjAzRDItMDNENDAzRDgwM0RBMDNEQzAzREUwM0UwMDNFMjAzRTQwM0U2MDNFODAzRUEwM0VDMDNFRTAzRjQwM0Y3MDNGOTAzRkEwM0ZELTA0MkYwNDYwMDQ2MjA0NjQwNDY2MDQ2ODA0NkEwNDZDMDQ2RTA0NzAwNDcyMDQ3NDA0NzYwNDc4MDQ3QTA0N0MwNDdFMDQ4MDA0OEEwNDhDMDQ4RTA0OTAwNDkyMDQ5NDA0OTYwNDk4MDQ5QTA0OUMwNDlFMDRBMDA0QTIwNEE0MDRBNjA0QTgwNEFBMDRBQzA0QUUwNEIwMDRCMjA0QjQwNEI2MDRCODA0QkEwNEJDMDRCRTA0QzAwNEMxMDRDMzA0QzUwNEM3MDRDOTA0Q0IwNENEMDREMDA0RDIwNEQ0MDRENjA0RDgwNERBMDREQzA0REUwNEUwMDRFMjA0RTQwNEU2MDRFODA0RUEwNEVDMDRFRTA0RjAwNEYyMDRGNDA0RjYwNEY4MDRGQTA0RkMwNEZFMDUwMDA1MDIwNTA0MDUwNjA1MDgwNTBBMDUwQzA1MEUwNTEwMDUxMjA1MTQwNTE2MDUxODA1MUEwNTFDMDUxRTA1MjAwNTIyMDUyNDA1MzEtMDU1NjEwQTAtMTBDNTFFMDAxRTAyMUUwNDFFMDYxRTA4MUUwQTFFMEMxRTBFMUUxMDFFMTIxRTE0MUUxNjFFMTgxRTFBMUUxQzFFMUUxRTIwMUUyMjFFMjQxRTI2MUUyODFFMkExRTJDMUUyRTFFMzAxRTMyMUUzNDFFMzYxRTM4MUUzQTFFM0MxRTNFMUU0MDFFNDIxRTQ0MUU0NjFFNDgxRTRBMUU0QzFFNEUxRTUwMUU1MjFFNTQxRTU2MUU1ODFFNUExRTVDMUU1RTFFNjAxRTYyMUU2NDFFNjYxRTY4MUU2QTFFNkMxRTZFMUU3MDFFNzIxRTc0MUU3NjFFNzgxRTdBMUU3QzFFN0UxRTgwMUU4MjFFODQxRTg2MUU4ODFFOEExRThDMUU4RTFFOTAxRTkyMUU5NDFFOUUxRUEwMUVBMjFFQTQxRUE2MUVBODFFQUExRUFDMUVBRTFFQjAxRUIyMUVCNDFFQjYxRUI4MUVCQTFFQkMxRUJFMUVDMDFFQzIxRUM0MUVDNjFFQzgxRUNBMUVDQzFFQ0UxRUQwMUVEMjFFRDQxRUQ2MUVEODFFREExRURDMUVERTFFRTAxRUUyMUVFNDFFRTYxRUU4MUVFQTFFRUMxRUVFMUVGMDFFRjIxRUY0MUVGNjFFRjgxRUZBMUVGQzFFRkUxRjA4LTFGMEYxRjE4LTFGMUQxRjI4LTFGMkYxRjM4LTFGM0YxRjQ4LTFGNEQxRjU5MUY1QjFGNUQxRjVGMUY2OC0xRjZGMUZCOC0xRkJCMUZDOC0xRkNCMUZEOC0xRkRCMUZFOC0xRkVDMUZGOC0xRkZCMjEwMjIxMDcyMTBCLTIxMEQyMTEwLTIxMTIyMTE1MjExOS0yMTFEMjEyNDIxMjYyMTI4MjEyQS0yMTJEMjEzMC0yMTMzMjEzRTIxM0YyMTQ1MjE4MzJDMDAtMkMyRTJDNjAyQzYyLTJDNjQyQzY3MkM2OTJDNkIyQzZELTJDNzAyQzcyMkM3NTJDN0UtMkM4MDJDODIyQzg0MkM4NjJDODgyQzhBMkM4QzJDOEUyQzkwMkM5MjJDOTQyQzk2MkM5ODJDOUEyQzlDMkM5RTJDQTAyQ0EyMkNBNDJDQTYyQ0E4MkNBQTJDQUMyQ0FFMkNCMDJDQjIyQ0I0MkNCNjJDQjgyQ0JBMkNCQzJDQkUyQ0MwMkNDMjJDQzQyQ0M2MkNDODJDQ0EyQ0NDMkNDRTJDRDAyQ0QyMkNENDJDRDYyQ0Q4MkNEQTJDREMyQ0RFMkNFMDJDRTIyQ0VCMkNFREE2NDBBNjQyQTY0NEE2NDZBNjQ4QTY0QUE2NENBNjRFQTY1MEE2NTJBNjU0QTY1NkE2NThBNjVBQTY1Q0E2NUVBNjYyQTY2NEE2NjZBNjY4QTY2QUE2NkNBNjgwQTY4MkE2ODRBNjg2QTY4OEE2OEFBNjhDQTY4RUE2OTBBNjkyQTY5NEE2OTZBNzIyQTcyNEE3MjZBNzI4QTcyQUE3MkNBNzJFQTczMkE3MzRBNzM2QTczOEE3M0FBNzNDQTczRUE3NDBBNzQyQTc0NEE3NDZBNzQ4QTc0QUE3NENBNzRFQTc1MEE3NTJBNzU0QTc1NkE3NThBNzVBQTc1Q0E3NUVBNzYwQTc2MkE3NjRBNzY2QTc2OEE3NkFBNzZDQTc2RUE3NzlBNzdCQTc3REE3N0VBNzgwQTc4MkE3ODRBNzg2QTc4QkZGMjEtRkYzQVwiLFxuICAgIEx0OiBcIjAxQzUwMUM4MDFDQjAxRjIxRjg4LTFGOEYxRjk4LTFGOUYxRkE4LTFGQUYxRkJDMUZDQzFGRkNcIixcbiAgICBMbTogXCIwMkIwLTAyQzEwMkM2LTAyRDEwMkUwLTAyRTQwMkVDMDJFRTAzNzQwMzdBMDU1OTA2NDAwNkU1MDZFNjA3RjQwN0Y1MDdGQTA4MUEwODI0MDgyODA5NzEwRTQ2MEVDNjEwRkMxN0Q3MTg0MzFBQTcxQzc4LTFDN0QxRDJDLTFENjExRDc4MUQ5Qi0xREJGMjA3MTIwN0YyMDkwLTIwOTQyQzdEMkQ2RjJFMkYzMDA1MzAzMS0zMDM1MzAzQjMwOUQzMDlFMzBGQy0zMEZFQTAxNUE0RjgtQTRGREE2MENBNjdGQTcxNy1BNzFGQTc3MEE3ODhBOUNGQUE3MEFBRERGRjcwRkY5RUZGOUZcIixcbiAgICBMbzogXCIwMUJCMDFDMC0wMUMzMDI5NDA1RDAtMDVFQTA1RjAtMDVGMjA2MjEtMDYzRjA2NDEtMDY0QTA2NkUwNjZGMDY3MS0wNkQzMDZENTA2RUUwNkVGMDZGQS0wNkZDMDZGRjA3MTAwNzEyLTA3MkYwNzRELTA3QTUwN0IxMDdDQS0wN0VBMDgwMC0wODE1MDkwNC0wOTM5MDkzRDA5NTAwOTU4LTA5NjEwOTcyMDk3OS0wOTdGMDk4NS0wOThDMDk4RjA5OTAwOTkzLTA5QTgwOUFBLTA5QjAwOUIyMDlCNi0wOUI5MDlCRDA5Q0UwOURDMDlERDA5REYtMDlFMTA5RjAwOUYxMEEwNS0wQTBBMEEwRjBBMTAwQTEzLTBBMjgwQTJBLTBBMzAwQTMyMEEzMzBBMzUwQTM2MEEzODBBMzkwQTU5LTBBNUMwQTVFMEE3Mi0wQTc0MEE4NS0wQThEMEE4Ri0wQTkxMEE5My0wQUE4MEFBQS0wQUIwMEFCMjBBQjMwQUI1LTBBQjkwQUJEMEFEMDBBRTAwQUUxMEIwNS0wQjBDMEIwRjBCMTAwQjEzLTBCMjgwQjJBLTBCMzAwQjMyMEIzMzBCMzUtMEIzOTBCM0QwQjVDMEI1RDBCNUYtMEI2MTBCNzEwQjgzMEI4NS0wQjhBMEI4RS0wQjkwMEI5Mi0wQjk1MEI5OTBCOUEwQjlDMEI5RTBCOUYwQkEzMEJBNDBCQTgtMEJBQTBCQUUtMEJCOTBCRDAwQzA1LTBDMEMwQzBFLTBDMTAwQzEyLTBDMjgwQzJBLTBDMzMwQzM1LTBDMzkwQzNEMEM1ODBDNTkwQzYwMEM2MTBDODUtMEM4QzBDOEUtMEM5MDBDOTItMENBODBDQUEtMENCMzBDQjUtMENCOTBDQkQwQ0RFMENFMDBDRTEwRDA1LTBEMEMwRDBFLTBEMTAwRDEyLTBEMjgwRDJBLTBEMzkwRDNEMEQ2MDBENjEwRDdBLTBEN0YwRDg1LTBEOTYwRDlBLTBEQjEwREIzLTBEQkIwREJEMERDMC0wREM2MEUwMS0wRTMwMEUzMjBFMzMwRTQwLTBFNDUwRTgxMEU4MjBFODQwRTg3MEU4ODBFOEEwRThEMEU5NC0wRTk3MEU5OS0wRTlGMEVBMS0wRUEzMEVBNTBFQTcwRUFBMEVBQjBFQUQtMEVCMDBFQjIwRUIzMEVCRDBFQzAtMEVDNDBFREMwRUREMEYwMDBGNDAtMEY0NzBGNDktMEY2QzBGODgtMEY4QjEwMDAtMTAyQTEwM0YxMDUwLTEwNTUxMDVBLTEwNUQxMDYxMTA2NTEwNjYxMDZFLTEwNzAxMDc1LTEwODExMDhFMTBEMC0xMEZBMTEwMC0xMjQ4MTI0QS0xMjREMTI1MC0xMjU2MTI1ODEyNUEtMTI1RDEyNjAtMTI4ODEyOEEtMTI4RDEyOTAtMTJCMDEyQjItMTJCNTEyQjgtMTJCRTEyQzAxMkMyLTEyQzUxMkM4LTEyRDYxMkQ4LTEzMTAxMzEyLTEzMTUxMzE4LTEzNUExMzgwLTEzOEYxM0EwLTEzRjQxNDAxLTE2NkMxNjZGLTE2N0YxNjgxLTE2OUExNkEwLTE2RUExNzAwLTE3MEMxNzBFLTE3MTExNzIwLTE3MzExNzQwLTE3NTExNzYwLTE3NkMxNzZFLTE3NzAxNzgwLTE3QjMxN0RDMTgyMC0xODQyMTg0NC0xODc3MTg4MC0xOEE4MThBQTE4QjAtMThGNTE5MDAtMTkxQzE5NTAtMTk2RDE5NzAtMTk3NDE5ODAtMTlBQjE5QzEtMTlDNzFBMDAtMUExNjFBMjAtMUE1NDFCMDUtMUIzMzFCNDUtMUI0QjFCODMtMUJBMDFCQUUxQkFGMUMwMC0xQzIzMUM0RC0xQzRGMUM1QS0xQzc3MUNFOS0xQ0VDMUNFRS0xQ0YxMjEzNS0yMTM4MkQzMC0yRDY1MkQ4MC0yRDk2MkRBMC0yREE2MkRBOC0yREFFMkRCMC0yREI2MkRCOC0yREJFMkRDMC0yREM2MkRDOC0yRENFMkREMC0yREQ2MkREOC0yRERFMzAwNjMwM0MzMDQxLTMwOTYzMDlGMzBBMS0zMEZBMzBGRjMxMDUtMzEyRDMxMzEtMzE4RTMxQTAtMzFCNzMxRjAtMzFGRjM0MDAtNERCNTRFMDAtOUZDQkEwMDAtQTAxNEEwMTYtQTQ4Q0E0RDAtQTRGN0E1MDAtQTYwQkE2MTAtQTYxRkE2MkFBNjJCQTY2RUE2QTAtQTZFNUE3RkItQTgwMUE4MDMtQTgwNUE4MDctQTgwQUE4MEMtQTgyMkE4NDAtQTg3M0E4ODItQThCM0E4RjItQThGN0E4RkJBOTBBLUE5MjVBOTMwLUE5NDZBOTYwLUE5N0NBOTg0LUE5QjJBQTAwLUFBMjhBQTQwLUFBNDJBQTQ0LUFBNEJBQTYwLUFBNkZBQTcxLUFBNzZBQTdBQUE4MC1BQUFGQUFCMUFBQjVBQUI2QUFCOS1BQUJEQUFDMEFBQzJBQURCQUFEQ0FCQzAtQUJFMkFDMDAtRDdBM0Q3QjAtRDdDNkQ3Q0ItRDdGQkY5MDAtRkEyREZBMzAtRkE2REZBNzAtRkFEOUZCMURGQjFGLUZCMjhGQjJBLUZCMzZGQjM4LUZCM0NGQjNFRkI0MEZCNDFGQjQzRkI0NEZCNDYtRkJCMUZCRDMtRkQzREZENTAtRkQ4RkZEOTItRkRDN0ZERjAtRkRGQkZFNzAtRkU3NEZFNzYtRkVGQ0ZGNjYtRkY2RkZGNzEtRkY5REZGQTAtRkZCRUZGQzItRkZDN0ZGQ0EtRkZDRkZGRDItRkZEN0ZGREEtRkZEQ1wiLFxuICAgIE06ICBcIjAzMDAtMDM2RjA0ODMtMDQ4OTA1OTEtMDVCRDA1QkYwNUMxMDVDMjA1QzQwNUM1MDVDNzA2MTAtMDYxQTA2NEItMDY1RTA2NzAwNkQ2LTA2REMwNkRFLTA2RTQwNkU3MDZFODA2RUEtMDZFRDA3MTEwNzMwLTA3NEEwN0E2LTA3QjAwN0VCLTA3RjMwODE2LTA4MTkwODFCLTA4MjMwODI1LTA4MjcwODI5LTA4MkQwOTAwLTA5MDMwOTNDMDkzRS0wOTRFMDk1MS0wOTU1MDk2MjA5NjMwOTgxLTA5ODMwOUJDMDlCRS0wOUM0MDlDNzA5QzgwOUNCLTA5Q0QwOUQ3MDlFMjA5RTMwQTAxLTBBMDMwQTNDMEEzRS0wQTQyMEE0NzBBNDgwQTRCLTBBNEQwQTUxMEE3MDBBNzEwQTc1MEE4MS0wQTgzMEFCQzBBQkUtMEFDNTBBQzctMEFDOTBBQ0ItMEFDRDBBRTIwQUUzMEIwMS0wQjAzMEIzQzBCM0UtMEI0NDBCNDcwQjQ4MEI0Qi0wQjREMEI1NjBCNTcwQjYyMEI2MzBCODIwQkJFLTBCQzIwQkM2LTBCQzgwQkNBLTBCQ0QwQkQ3MEMwMS0wQzAzMEMzRS0wQzQ0MEM0Ni0wQzQ4MEM0QS0wQzREMEM1NTBDNTYwQzYyMEM2MzBDODIwQzgzMENCQzBDQkUtMENDNDBDQzYtMENDODBDQ0EtMENDRDBDRDUwQ0Q2MENFMjBDRTMwRDAyMEQwMzBEM0UtMEQ0NDBENDYtMEQ0ODBENEEtMEQ0RDBENTcwRDYyMEQ2MzBEODIwRDgzMERDQTBEQ0YtMERENDBERDYwREQ4LTBEREYwREYyMERGMzBFMzEwRTM0LTBFM0EwRTQ3LTBFNEUwRUIxMEVCNC0wRUI5MEVCQjBFQkMwRUM4LTBFQ0QwRjE4MEYxOTBGMzUwRjM3MEYzOTBGM0UwRjNGMEY3MS0wRjg0MEY4NjBGODcwRjkwLTBGOTcwRjk5LTBGQkMwRkM2MTAyQi0xMDNFMTA1Ni0xMDU5MTA1RS0xMDYwMTA2Mi0xMDY0MTA2Ny0xMDZEMTA3MS0xMDc0MTA4Mi0xMDhEMTA4RjEwOUEtMTA5RDEzNUYxNzEyLTE3MTQxNzMyLTE3MzQxNzUyMTc1MzE3NzIxNzczMTdCNi0xN0QzMTdERDE4MEItMTgwRDE4QTkxOTIwLTE5MkIxOTMwLTE5M0IxOUIwLTE5QzAxOUM4MTlDOTFBMTctMUExQjFBNTUtMUE1RTFBNjAtMUE3QzFBN0YxQjAwLTFCMDQxQjM0LTFCNDQxQjZCLTFCNzMxQjgwLTFCODIxQkExLTFCQUExQzI0LTFDMzcxQ0QwLTFDRDIxQ0Q0LTFDRTgxQ0VEMUNGMjFEQzAtMURFNjFERkQtMURGRjIwRDAtMjBGMDJDRUYtMkNGMTJERTAtMkRGRjMwMkEtMzAyRjMwOTkzMDlBQTY2Ri1BNjcyQTY3Q0E2N0RBNkYwQTZGMUE4MDJBODA2QTgwQkE4MjMtQTgyN0E4ODBBODgxQThCNC1BOEM0QThFMC1BOEYxQTkyNi1BOTJEQTk0Ny1BOTUzQTk4MC1BOTgzQTlCMy1BOUMwQUEyOS1BQTM2QUE0M0FBNENBQTREQUE3QkFBQjBBQUIyLUFBQjRBQUI3QUFCOEFBQkVBQUJGQUFDMUFCRTMtQUJFQUFCRUNBQkVERkIxRUZFMDAtRkUwRkZFMjAtRkUyNlwiLFxuICAgIE1uOiBcIjAzMDAtMDM2RjA0ODMtMDQ4NzA1OTEtMDVCRDA1QkYwNUMxMDVDMjA1QzQwNUM1MDVDNzA2MTAtMDYxQTA2NEItMDY1RTA2NzAwNkQ2LTA2REMwNkRGLTA2RTQwNkU3MDZFODA2RUEtMDZFRDA3MTEwNzMwLTA3NEEwN0E2LTA3QjAwN0VCLTA3RjMwODE2LTA4MTkwODFCLTA4MjMwODI1LTA4MjcwODI5LTA4MkQwOTAwLTA5MDIwOTNDMDk0MS0wOTQ4MDk0RDA5NTEtMDk1NTA5NjIwOTYzMDk4MTA5QkMwOUMxLTA5QzQwOUNEMDlFMjA5RTMwQTAxMEEwMjBBM0MwQTQxMEE0MjBBNDcwQTQ4MEE0Qi0wQTREMEE1MTBBNzAwQTcxMEE3NTBBODEwQTgyMEFCQzBBQzEtMEFDNTBBQzcwQUM4MEFDRDBBRTIwQUUzMEIwMTBCM0MwQjNGMEI0MS0wQjQ0MEI0RDBCNTYwQjYyMEI2MzBCODIwQkMwMEJDRDBDM0UtMEM0MDBDNDYtMEM0ODBDNEEtMEM0RDBDNTUwQzU2MEM2MjBDNjMwQ0JDMENCRjBDQzYwQ0NDMENDRDBDRTIwQ0UzMEQ0MS0wRDQ0MEQ0RDBENjIwRDYzMERDQTBERDItMERENDBERDYwRTMxMEUzNC0wRTNBMEU0Ny0wRTRFMEVCMTBFQjQtMEVCOTBFQkIwRUJDMEVDOC0wRUNEMEYxODBGMTkwRjM1MEYzNzBGMzkwRjcxLTBGN0UwRjgwLTBGODQwRjg2MEY4NzBGOTAtMEY5NzBGOTktMEZCQzBGQzYxMDJELTEwMzAxMDMyLTEwMzcxMDM5MTAzQTEwM0QxMDNFMTA1ODEwNTkxMDVFLTEwNjAxMDcxLTEwNzQxMDgyMTA4NTEwODYxMDhEMTA5RDEzNUYxNzEyLTE3MTQxNzMyLTE3MzQxNzUyMTc1MzE3NzIxNzczMTdCNy0xN0JEMTdDNjE3QzktMTdEMzE3REQxODBCLTE4MEQxOEE5MTkyMC0xOTIyMTkyNzE5MjgxOTMyMTkzOS0xOTNCMUExNzFBMTgxQTU2MUE1OC0xQTVFMUE2MDFBNjIxQTY1LTFBNkMxQTczLTFBN0MxQTdGMUIwMC0xQjAzMUIzNDFCMzYtMUIzQTFCM0MxQjQyMUI2Qi0xQjczMUI4MDFCODExQkEyLTFCQTUxQkE4MUJBOTFDMkMtMUMzMzFDMzYxQzM3MUNEMC0xQ0QyMUNENC0xQ0UwMUNFMi0xQ0U4MUNFRDFEQzAtMURFNjFERkQtMURGRjIwRDAtMjBEQzIwRTEyMEU1LTIwRjAyQ0VGLTJDRjEyREUwLTJERkYzMDJBLTMwMkYzMDk5MzA5QUE2NkZBNjdDQTY3REE2RjBBNkYxQTgwMkE4MDZBODBCQTgyNUE4MjZBOEM0QThFMC1BOEYxQTkyNi1BOTJEQTk0Ny1BOTUxQTk4MC1BOTgyQTlCM0E5QjYtQTlCOUE5QkNBQTI5LUFBMkVBQTMxQUEzMkFBMzVBQTM2QUE0M0FBNENBQUIwQUFCMi1BQUI0QUFCN0FBQjhBQUJFQUFCRkFBQzFBQkU1QUJFOEFCRURGQjFFRkUwMC1GRTBGRkUyMC1GRTI2XCIsXG4gICAgTWM6IFwiMDkwMzA5M0UtMDk0MDA5NDktMDk0QzA5NEUwOTgyMDk4MzA5QkUtMDlDMDA5QzcwOUM4MDlDQjA5Q0MwOUQ3MEEwMzBBM0UtMEE0MDBBODMwQUJFLTBBQzAwQUM5MEFDQjBBQ0MwQjAyMEIwMzBCM0UwQjQwMEI0NzBCNDgwQjRCMEI0QzBCNTcwQkJFMEJCRjBCQzEwQkMyMEJDNi0wQkM4MEJDQS0wQkNDMEJENzBDMDEtMEMwMzBDNDEtMEM0NDBDODIwQzgzMENCRTBDQzAtMENDNDBDQzcwQ0M4MENDQTBDQ0IwQ0Q1MENENjBEMDIwRDAzMEQzRS0wRDQwMEQ0Ni0wRDQ4MEQ0QS0wRDRDMEQ1NzBEODIwRDgzMERDRi0wREQxMEREOC0wRERGMERGMjBERjMwRjNFMEYzRjBGN0YxMDJCMTAyQzEwMzExMDM4MTAzQjEwM0MxMDU2MTA1NzEwNjItMTA2NDEwNjctMTA2RDEwODMxMDg0MTA4Ny0xMDhDMTA4RjEwOUEtMTA5QzE3QjYxN0JFLTE3QzUxN0M3MTdDODE5MjMtMTkyNjE5MjktMTkyQjE5MzAxOTMxMTkzMy0xOTM4MTlCMC0xOUMwMTlDODE5QzkxQTE5LTFBMUIxQTU1MUE1NzFBNjExQTYzMUE2NDFBNkQtMUE3MjFCMDQxQjM1MUIzQjFCM0QtMUI0MTFCNDMxQjQ0MUI4MjFCQTExQkE2MUJBNzFCQUExQzI0LTFDMkIxQzM0MUMzNTFDRTExQ0YyQTgyM0E4MjRBODI3QTg4MEE4ODFBOEI0LUE4QzNBOTUyQTk1M0E5ODNBOUI0QTlCNUE5QkFBOUJCQTlCRC1BOUMwQUEyRkFBMzBBQTMzQUEzNEFBNERBQTdCQUJFM0FCRTRBQkU2QUJFN0FCRTlBQkVBQUJFQ1wiLFxuICAgIE1lOiBcIjA0ODgwNDg5MDZERTIwREQtMjBFMDIwRTItMjBFNEE2NzAtQTY3MlwiLFxuICAgIE46ICBcIjAwMzAtMDAzOTAwQjIwMEIzMDBCOTAwQkMtMDBCRTA2NjAtMDY2OTA2RjAtMDZGOTA3QzAtMDdDOTA5NjYtMDk2RjA5RTYtMDlFRjA5RjQtMDlGOTBBNjYtMEE2RjBBRTYtMEFFRjBCNjYtMEI2RjBCRTYtMEJGMjBDNjYtMEM2RjBDNzgtMEM3RTBDRTYtMENFRjBENjYtMEQ3NTBFNTAtMEU1OTBFRDAtMEVEOTBGMjAtMEYzMzEwNDAtMTA0OTEwOTAtMTA5OTEzNjktMTM3QzE2RUUtMTZGMDE3RTAtMTdFOTE3RjAtMTdGOTE4MTAtMTgxOTE5NDYtMTk0RjE5RDAtMTlEQTFBODAtMUE4OTFBOTAtMUE5OTFCNTAtMUI1OTFCQjAtMUJCOTFDNDAtMUM0OTFDNTAtMUM1OTIwNzAyMDc0LTIwNzkyMDgwLTIwODkyMTUwLTIxODIyMTg1LTIxODkyNDYwLTI0OUIyNEVBLTI0RkYyNzc2LTI3OTMyQ0ZEMzAwNzMwMjEtMzAyOTMwMzgtMzAzQTMxOTItMzE5NTMyMjAtMzIyOTMyNTEtMzI1RjMyODAtMzI4OTMyQjEtMzJCRkE2MjAtQTYyOUE2RTYtQTZFRkE4MzAtQTgzNUE4RDAtQThEOUE5MDAtQTkwOUE5RDAtQTlEOUFBNTAtQUE1OUFCRjAtQUJGOUZGMTAtRkYxOVwiLFxuICAgIE5kOiBcIjAwMzAtMDAzOTA2NjAtMDY2OTA2RjAtMDZGOTA3QzAtMDdDOTA5NjYtMDk2RjA5RTYtMDlFRjBBNjYtMEE2RjBBRTYtMEFFRjBCNjYtMEI2RjBCRTYtMEJFRjBDNjYtMEM2RjBDRTYtMENFRjBENjYtMEQ2RjBFNTAtMEU1OTBFRDAtMEVEOTBGMjAtMEYyOTEwNDAtMTA0OTEwOTAtMTA5OTE3RTAtMTdFOTE4MTAtMTgxOTE5NDYtMTk0RjE5RDAtMTlEQTFBODAtMUE4OTFBOTAtMUE5OTFCNTAtMUI1OTFCQjAtMUJCOTFDNDAtMUM0OTFDNTAtMUM1OUE2MjAtQTYyOUE4RDAtQThEOUE5MDAtQTkwOUE5RDAtQTlEOUFBNTAtQUE1OUFCRjAtQUJGOUZGMTAtRkYxOVwiLFxuICAgIE5sOiBcIjE2RUUtMTZGMDIxNjAtMjE4MjIxODUtMjE4ODMwMDczMDIxLTMwMjkzMDM4LTMwM0FBNkU2LUE2RUZcIixcbiAgICBObzogXCIwMEIyMDBCMzAwQjkwMEJDLTAwQkUwOUY0LTA5RjkwQkYwLTBCRjIwQzc4LTBDN0UwRDcwLTBENzUwRjJBLTBGMzMxMzY5LTEzN0MxN0YwLTE3RjkyMDcwMjA3NC0yMDc5MjA4MC0yMDg5MjE1MC0yMTVGMjE4OTI0NjAtMjQ5QjI0RUEtMjRGRjI3NzYtMjc5MzJDRkQzMTkyLTMxOTUzMjIwLTMyMjkzMjUxLTMyNUYzMjgwLTMyODkzMkIxLTMyQkZBODMwLUE4MzVcIixcbiAgICBQOiAgXCIwMDIxLTAwMjMwMDI1LTAwMkEwMDJDLTAwMkYwMDNBMDAzQjAwM0YwMDQwMDA1Qi0wMDVEMDA1RjAwN0IwMDdEMDBBMTAwQUIwMEI3MDBCQjAwQkYwMzdFMDM4NzA1NUEtMDU1RjA1ODkwNThBMDVCRTA1QzAwNUMzMDVDNjA1RjMwNUY0MDYwOTA2MEEwNjBDMDYwRDA2MUIwNjFFMDYxRjA2NkEtMDY2RDA2RDQwNzAwLTA3MEQwN0Y3LTA3RjkwODMwLTA4M0UwOTY0MDk2NTA5NzAwREY0MEU0RjBFNUEwRTVCMEYwNC0wRjEyMEYzQS0wRjNEMEY4NTBGRDAtMEZENDEwNEEtMTA0RjEwRkIxMzYxLTEzNjgxNDAwMTY2RDE2NkUxNjlCMTY5QzE2RUItMTZFRDE3MzUxNzM2MTdENC0xN0Q2MTdEOC0xN0RBMTgwMC0xODBBMTk0NDE5NDUxOURFMTlERjFBMUUxQTFGMUFBMC0xQUE2MUFBOC0xQUFEMUI1QS0xQjYwMUMzQi0xQzNGMUM3RTFDN0YxQ0QzMjAxMC0yMDI3MjAzMC0yMDQzMjA0NS0yMDUxMjA1My0yMDVFMjA3RDIwN0UyMDhEMjA4RTIzMjkyMzJBMjc2OC0yNzc1MjdDNTI3QzYyN0U2LTI3RUYyOTgzLTI5OTgyOUQ4LTI5REIyOUZDMjlGRDJDRjktMkNGQzJDRkUyQ0ZGMkUwMC0yRTJFMkUzMDJFMzEzMDAxLTMwMDMzMDA4LTMwMTEzMDE0LTMwMUYzMDMwMzAzRDMwQTAzMEZCQTRGRUE0RkZBNjBELUE2MEZBNjczQTY3RUE2RjItQTZGN0E4NzQtQTg3N0E4Q0VBOENGQThGOC1BOEZBQTkyRUE5MkZBOTVGQTlDMS1BOUNEQTlERUE5REZBQTVDLUFBNUZBQURFQUFERkFCRUJGRDNFRkQzRkZFMTAtRkUxOUZFMzAtRkU1MkZFNTQtRkU2MUZFNjNGRTY4RkU2QUZFNkJGRjAxLUZGMDNGRjA1LUZGMEFGRjBDLUZGMEZGRjFBRkYxQkZGMUZGRjIwRkYzQi1GRjNERkYzRkZGNUJGRjVERkY1Ri1GRjY1XCIsXG4gICAgUGQ6IFwiMDAyRDA1OEEwNUJFMTQwMDE4MDYyMDEwLTIwMTUyRTE3MkUxQTMwMUMzMDMwMzBBMEZFMzFGRTMyRkU1OEZFNjNGRjBEXCIsXG4gICAgUHM6IFwiMDAyODAwNUIwMDdCMEYzQTBGM0MxNjlCMjAxQTIwMUUyMDQ1MjA3RDIwOEQyMzI5Mjc2ODI3NkEyNzZDMjc2RTI3NzAyNzcyMjc3NDI3QzUyN0U2MjdFODI3RUEyN0VDMjdFRTI5ODMyOTg1Mjk4NzI5ODkyOThCMjk4RDI5OEYyOTkxMjk5MzI5OTUyOTk3MjlEODI5REEyOUZDMkUyMjJFMjQyRTI2MkUyODMwMDgzMDBBMzAwQzMwMEUzMDEwMzAxNDMwMTYzMDE4MzAxQTMwMURGRDNFRkUxN0ZFMzVGRTM3RkUzOUZFM0JGRTNERkUzRkZFNDFGRTQzRkU0N0ZFNTlGRTVCRkU1REZGMDhGRjNCRkY1QkZGNUZGRjYyXCIsXG4gICAgUGU6IFwiMDAyOTAwNUQwMDdEMEYzQjBGM0QxNjlDMjA0NjIwN0UyMDhFMjMyQTI3NjkyNzZCMjc2RDI3NkYyNzcxMjc3MzI3NzUyN0M2MjdFNzI3RTkyN0VCMjdFRDI3RUYyOTg0Mjk4NjI5ODgyOThBMjk4QzI5OEUyOTkwMjk5MjI5OTQyOTk2Mjk5ODI5RDkyOURCMjlGRDJFMjMyRTI1MkUyNzJFMjkzMDA5MzAwQjMwMEQzMDBGMzAxMTMwMTUzMDE3MzAxOTMwMUIzMDFFMzAxRkZEM0ZGRTE4RkUzNkZFMzhGRTNBRkUzQ0ZFM0VGRTQwRkU0MkZFNDRGRTQ4RkU1QUZFNUNGRTVFRkYwOUZGM0RGRjVERkY2MEZGNjNcIixcbiAgICBQaTogXCIwMEFCMjAxODIwMUIyMDFDMjAxRjIwMzkyRTAyMkUwNDJFMDkyRTBDMkUxQzJFMjBcIixcbiAgICBQZjogXCIwMEJCMjAxOTIwMUQyMDNBMkUwMzJFMDUyRTBBMkUwRDJFMUQyRTIxXCIsXG4gICAgUGM6IFwiMDA1RjIwM0YyMDQwMjA1NEZFMzNGRTM0RkU0RC1GRTRGRkYzRlwiLFxuICAgIFBvOiBcIjAwMjEtMDAyMzAwMjUtMDAyNzAwMkEwMDJDMDAyRTAwMkYwMDNBMDAzQjAwM0YwMDQwMDA1QzAwQTEwMEI3MDBCRjAzN0UwMzg3MDU1QS0wNTVGMDU4OTA1QzAwNUMzMDVDNjA1RjMwNUY0MDYwOTA2MEEwNjBDMDYwRDA2MUIwNjFFMDYxRjA2NkEtMDY2RDA2RDQwNzAwLTA3MEQwN0Y3LTA3RjkwODMwLTA4M0UwOTY0MDk2NTA5NzAwREY0MEU0RjBFNUEwRTVCMEYwNC0wRjEyMEY4NTBGRDAtMEZENDEwNEEtMTA0RjEwRkIxMzYxLTEzNjgxNjZEMTY2RTE2RUItMTZFRDE3MzUxNzM2MTdENC0xN0Q2MTdEOC0xN0RBMTgwMC0xODA1MTgwNy0xODBBMTk0NDE5NDUxOURFMTlERjFBMUUxQTFGMUFBMC0xQUE2MUFBOC0xQUFEMUI1QS0xQjYwMUMzQi0xQzNGMUM3RTFDN0YxQ0QzMjAxNjIwMTcyMDIwLTIwMjcyMDMwLTIwMzgyMDNCLTIwM0UyMDQxLTIwNDMyMDQ3LTIwNTEyMDUzMjA1NS0yMDVFMkNGOS0yQ0ZDMkNGRTJDRkYyRTAwMkUwMTJFMDYtMkUwODJFMEIyRTBFLTJFMTYyRTE4MkUxOTJFMUIyRTFFMkUxRjJFMkEtMkUyRTJFMzAyRTMxMzAwMS0zMDAzMzAzRDMwRkJBNEZFQTRGRkE2MEQtQTYwRkE2NzNBNjdFQTZGMi1BNkY3QTg3NC1BODc3QThDRUE4Q0ZBOEY4LUE4RkFBOTJFQTkyRkE5NUZBOUMxLUE5Q0RBOURFQTlERkFBNUMtQUE1RkFBREVBQURGQUJFQkZFMTAtRkUxNkZFMTlGRTMwRkU0NUZFNDZGRTQ5LUZFNENGRTUwLUZFNTJGRTU0LUZFNTdGRTVGLUZFNjFGRTY4RkU2QUZFNkJGRjAxLUZGMDNGRjA1LUZGMDdGRjBBRkYwQ0ZGMEVGRjBGRkYxQUZGMUJGRjFGRkYyMEZGM0NGRjYxRkY2NEZGNjVcIixcbiAgICBTOiAgXCIwMDI0MDAyQjAwM0MtMDAzRTAwNUUwMDYwMDA3QzAwN0UwMEEyLTAwQTkwMEFDMDBBRS0wMEIxMDBCNDAwQjYwMEI4MDBENzAwRjcwMkMyLTAyQzUwMkQyLTAyREYwMkU1LTAyRUIwMkVEMDJFRi0wMkZGMDM3NTAzODQwMzg1MDNGNjA0ODIwNjA2LTA2MDgwNjBCMDYwRTA2MEYwNkU5MDZGRDA2RkUwN0Y2MDlGMjA5RjMwOUZBMDlGQjBBRjEwQjcwMEJGMy0wQkZBMEM3RjBDRjEwQ0YyMEQ3OTBFM0YwRjAxLTBGMDMwRjEzLTBGMTcwRjFBLTBGMUYwRjM0MEYzNjBGMzgwRkJFLTBGQzUwRkM3LTBGQ0MwRkNFMEZDRjBGRDUtMEZEODEwOUUxMDlGMTM2MDEzOTAtMTM5OTE3REIxOTQwMTlFMC0xOUZGMUI2MS0xQjZBMUI3NC0xQjdDMUZCRDFGQkYtMUZDMTFGQ0QtMUZDRjFGREQtMUZERjFGRUQtMUZFRjFGRkQxRkZFMjA0NDIwNTIyMDdBLTIwN0MyMDhBLTIwOEMyMEEwLTIwQjgyMTAwMjEwMTIxMDMtMjEwNjIxMDgyMTA5MjExNDIxMTYtMjExODIxMUUtMjEyMzIxMjUyMTI3MjEyOTIxMkUyMTNBMjEzQjIxNDAtMjE0NDIxNEEtMjE0RDIxNEYyMTkwLTIzMjgyMzJCLTIzRTgyNDAwLTI0MjYyNDQwLTI0NEEyNDlDLTI0RTkyNTAwLTI2Q0QyNkNGLTI2RTEyNkUzMjZFOC0yNkZGMjcwMS0yNzA0MjcwNi0yNzA5MjcwQy0yNzI3MjcyOS0yNzRCMjc0RDI3NEYtMjc1MjI3NTYtMjc1RTI3NjEtMjc2NzI3OTQyNzk4LTI3QUYyN0IxLTI3QkUyN0MwLTI3QzQyN0M3LTI3Q0EyN0NDMjdEMC0yN0U1MjdGMC0yOTgyMjk5OS0yOUQ3MjlEQy0yOUZCMjlGRS0yQjRDMkI1MC0yQjU5MkNFNS0yQ0VBMkU4MC0yRTk5MkU5Qi0yRUYzMkYwMC0yRkQ1MkZGMC0yRkZCMzAwNDMwMTIzMDEzMzAyMDMwMzYzMDM3MzAzRTMwM0YzMDlCMzA5QzMxOTAzMTkxMzE5Ni0zMTlGMzFDMC0zMUUzMzIwMC0zMjFFMzIyQS0zMjUwMzI2MC0zMjdGMzI4QS0zMkIwMzJDMC0zMkZFMzMwMC0zM0ZGNERDMC00REZGQTQ5MC1BNEM2QTcwMC1BNzE2QTcyMEE3MjFBNzg5QTc4QUE4MjgtQTgyQkE4MzYtQTgzOUFBNzctQUE3OUZCMjlGREZDRkRGREZFNjJGRTY0LUZFNjZGRTY5RkYwNEZGMEJGRjFDLUZGMUVGRjNFRkY0MEZGNUNGRjVFRkZFMC1GRkU2RkZFOC1GRkVFRkZGQ0ZGRkRcIixcbiAgICBTbTogXCIwMDJCMDAzQy0wMDNFMDA3QzAwN0UwMEFDMDBCMTAwRDcwMEY3MDNGNjA2MDYtMDYwODIwNDQyMDUyMjA3QS0yMDdDMjA4QS0yMDhDMjE0MC0yMTQ0MjE0QjIxOTAtMjE5NDIxOUEyMTlCMjFBMDIxQTMyMUE2MjFBRTIxQ0UyMUNGMjFEMjIxRDQyMUY0LTIyRkYyMzA4LTIzMEIyMzIwMjMyMTIzN0MyMzlCLTIzQjMyM0RDLTIzRTEyNUI3MjVDMTI1RjgtMjVGRjI2NkYyN0MwLTI3QzQyN0M3LTI3Q0EyN0NDMjdEMC0yN0U1MjdGMC0yN0ZGMjkwMC0yOTgyMjk5OS0yOUQ3MjlEQy0yOUZCMjlGRS0yQUZGMkIzMC0yQjQ0MkI0Ny0yQjRDRkIyOUZFNjJGRTY0LUZFNjZGRjBCRkYxQy1GRjFFRkY1Q0ZGNUVGRkUyRkZFOS1GRkVDXCIsXG4gICAgU2M6IFwiMDAyNDAwQTItMDBBNTA2MEIwOUYyMDlGMzA5RkIwQUYxMEJGOTBFM0YxN0RCMjBBMC0yMEI4QTgzOEZERkNGRTY5RkYwNEZGRTBGRkUxRkZFNUZGRTZcIixcbiAgICBTazogXCIwMDVFMDA2MDAwQTgwMEFGMDBCNDAwQjgwMkMyLTAyQzUwMkQyLTAyREYwMkU1LTAyRUIwMkVEMDJFRi0wMkZGMDM3NTAzODQwMzg1MUZCRDFGQkYtMUZDMTFGQ0QtMUZDRjFGREQtMUZERjFGRUQtMUZFRjFGRkQxRkZFMzA5QjMwOUNBNzAwLUE3MTZBNzIwQTcyMUE3ODlBNzhBRkYzRUZGNDBGRkUzXCIsXG4gICAgU286IFwiMDBBNjAwQTcwMEE5MDBBRTAwQjAwMEI2MDQ4MjA2MEUwNjBGMDZFOTA2RkQwNkZFMDdGNjA5RkEwQjcwMEJGMy0wQkY4MEJGQTBDN0YwQ0YxMENGMjBENzkwRjAxLTBGMDMwRjEzLTBGMTcwRjFBLTBGMUYwRjM0MEYzNjBGMzgwRkJFLTBGQzUwRkM3LTBGQ0MwRkNFMEZDRjBGRDUtMEZEODEwOUUxMDlGMTM2MDEzOTAtMTM5OTE5NDAxOUUwLTE5RkYxQjYxLTFCNkExQjc0LTFCN0MyMTAwMjEwMTIxMDMtMjEwNjIxMDgyMTA5MjExNDIxMTYtMjExODIxMUUtMjEyMzIxMjUyMTI3MjEyOTIxMkUyMTNBMjEzQjIxNEEyMTRDMjE0RDIxNEYyMTk1LTIxOTkyMTlDLTIxOUYyMUExMjFBMjIxQTQyMUE1MjFBNy0yMUFEMjFBRi0yMUNEMjFEMDIxRDEyMUQzMjFENS0yMUYzMjMwMC0yMzA3MjMwQy0yMzFGMjMyMi0yMzI4MjMyQi0yMzdCMjM3RC0yMzlBMjNCNC0yM0RCMjNFMi0yM0U4MjQwMC0yNDI2MjQ0MC0yNDRBMjQ5Qy0yNEU5MjUwMC0yNUI2MjVCOC0yNUMwMjVDMi0yNUY3MjYwMC0yNjZFMjY3MC0yNkNEMjZDRi0yNkUxMjZFMzI2RTgtMjZGRjI3MDEtMjcwNDI3MDYtMjcwOTI3MEMtMjcyNzI3MjktMjc0QjI3NEQyNzRGLTI3NTIyNzU2LTI3NUUyNzYxLTI3NjcyNzk0Mjc5OC0yN0FGMjdCMS0yN0JFMjgwMC0yOEZGMkIwMC0yQjJGMkI0NTJCNDYyQjUwLTJCNTkyQ0U1LTJDRUEyRTgwLTJFOTkyRTlCLTJFRjMyRjAwLTJGRDUyRkYwLTJGRkIzMDA0MzAxMjMwMTMzMDIwMzAzNjMwMzczMDNFMzAzRjMxOTAzMTkxMzE5Ni0zMTlGMzFDMC0zMUUzMzIwMC0zMjFFMzIyQS0zMjUwMzI2MC0zMjdGMzI4QS0zMkIwMzJDMC0zMkZFMzMwMC0zM0ZGNERDMC00REZGQTQ5MC1BNEM2QTgyOC1BODJCQTgzNkE4MzdBODM5QUE3Ny1BQTc5RkRGREZGRTRGRkU4RkZFREZGRUVGRkZDRkZGRFwiLFxuICAgIFo6ICBcIjAwMjAwMEEwMTY4MDE4MEUyMDAwLTIwMEEyMDI4MjAyOTIwMkYyMDVGMzAwMFwiLFxuICAgIFpzOiBcIjAwMjAwMEEwMTY4MDE4MEUyMDAwLTIwMEEyMDJGMjA1RjMwMDBcIixcbiAgICBabDogXCIyMDI4XCIsXG4gICAgWnA6IFwiMjAyOVwiLFxuICAgIEM6ICBcIjAwMDAtMDAxRjAwN0YtMDA5RjAwQUQwMzc4MDM3OTAzN0YtMDM4MzAzOEIwMzhEMDNBMjA1MjYtMDUzMDA1NTcwNTU4MDU2MDA1ODgwNThCLTA1OTAwNUM4LTA1Q0YwNUVCLTA1RUYwNUY1LTA2MDUwNjFDMDYxRDA2MjAwNjVGMDZERDA3MEUwNzBGMDc0QjA3NEMwN0IyLTA3QkYwN0ZCLTA3RkYwODJFMDgyRjA4M0YtMDhGRjA5M0EwOTNCMDk0RjA5NTYwOTU3MDk3My0wOTc4MDk4MDA5ODQwOThEMDk4RTA5OTEwOTkyMDlBOTA5QjEwOUIzLTA5QjUwOUJBMDlCQjA5QzUwOUM2MDlDOTA5Q0EwOUNGLTA5RDYwOUQ4LTA5REIwOURFMDlFNDA5RTUwOUZDLTBBMDAwQTA0MEEwQi0wQTBFMEExMTBBMTIwQTI5MEEzMTBBMzQwQTM3MEEzQTBBM0IwQTNEMEE0My0wQTQ2MEE0OTBBNEEwQTRFLTBBNTAwQTUyLTBBNTgwQTVEMEE1Ri0wQTY1MEE3Ni0wQTgwMEE4NDBBOEUwQTkyMEFBOTBBQjEwQUI0MEFCQTBBQkIwQUM2MEFDQTBBQ0UwQUNGMEFEMS0wQURGMEFFNDBBRTUwQUYwMEFGMi0wQjAwMEIwNDBCMEQwQjBFMEIxMTBCMTIwQjI5MEIzMTBCMzQwQjNBMEIzQjBCNDUwQjQ2MEI0OTBCNEEwQjRFLTBCNTUwQjU4LTBCNUIwQjVFMEI2NDBCNjUwQjcyLTBCODEwQjg0MEI4Qi0wQjhEMEI5MTBCOTYtMEI5ODBCOUIwQjlEMEJBMC0wQkEyMEJBNS0wQkE3MEJBQi0wQkFEMEJCQS0wQkJEMEJDMy0wQkM1MEJDOTBCQ0UwQkNGMEJEMS0wQkQ2MEJEOC0wQkU1MEJGQi0wQzAwMEMwNDBDMEQwQzExMEMyOTBDMzQwQzNBLTBDM0MwQzQ1MEM0OTBDNEUtMEM1NDBDNTcwQzVBLTBDNUYwQzY0MEM2NTBDNzAtMEM3NzBDODAwQzgxMEM4NDBDOEQwQzkxMENBOTBDQjQwQ0JBMENCQjBDQzUwQ0M5MENDRS0wQ0Q0MENENy0wQ0REMENERjBDRTQwQ0U1MENGMDBDRjMtMEQwMTBEMDQwRDBEMEQxMTBEMjkwRDNBLTBEM0MwRDQ1MEQ0OTBENEUtMEQ1NjBENTgtMEQ1RjBENjQwRDY1MEQ3Ni0wRDc4MEQ4MDBEODEwRDg0MEQ5Ny0wRDk5MERCMjBEQkMwREJFMERCRjBEQzctMERDOTBEQ0ItMERDRTBERDUwREQ3MERFMC0wREYxMERGNS0wRTAwMEUzQi0wRTNFMEU1Qy0wRTgwMEU4MzBFODUwRTg2MEU4OTBFOEIwRThDMEU4RS0wRTkzMEU5ODBFQTAwRUE0MEVBNjBFQTgwRUE5MEVBQzBFQkEwRUJFMEVCRjBFQzUwRUM3MEVDRTBFQ0YwRURBMEVEQjBFREUtMEVGRjBGNDgwRjZELTBGNzAwRjhDLTBGOEYwRjk4MEZCRDBGQ0QwRkQ5LTBGRkYxMEM2LTEwQ0YxMEZELTEwRkYxMjQ5MTI0RTEyNEYxMjU3MTI1OTEyNUUxMjVGMTI4OTEyOEUxMjhGMTJCMTEyQjYxMkI3MTJCRjEyQzExMkM2MTJDNzEyRDcxMzExMTMxNjEzMTcxMzVCLTEzNUUxMzdELTEzN0YxMzlBLTEzOUYxM0Y1LTEzRkYxNjlELTE2OUYxNkYxLTE2RkYxNzBEMTcxNS0xNzFGMTczNy0xNzNGMTc1NC0xNzVGMTc2RDE3NzExNzc0LTE3N0YxN0I0MTdCNTE3REUxN0RGMTdFQS0xN0VGMTdGQS0xN0ZGMTgwRjE4MUEtMTgxRjE4NzgtMTg3RjE4QUItMThBRjE4RjYtMThGRjE5MUQtMTkxRjE5MkMtMTkyRjE5M0MtMTkzRjE5NDEtMTk0MzE5NkUxOTZGMTk3NS0xOTdGMTlBQy0xOUFGMTlDQS0xOUNGMTlEQi0xOUREMUExQzFBMUQxQTVGMUE3RDFBN0UxQThBLTFBOEYxQTlBLTFBOUYxQUFFLTFBRkYxQjRDLTFCNEYxQjdELTFCN0YxQkFCLTFCQUQxQkJBLTFCRkYxQzM4LTFDM0ExQzRBLTFDNEMxQzgwLTFDQ0YxQ0YzLTFDRkYxREU3LTFERkMxRjE2MUYxNzFGMUUxRjFGMUY0NjFGNDcxRjRFMUY0RjFGNTgxRjVBMUY1QzFGNUUxRjdFMUY3RjFGQjUxRkM1MUZENDFGRDUxRkRDMUZGMDFGRjExRkY1MUZGRjIwMEItMjAwRjIwMkEtMjAyRTIwNjAtMjA2RjIwNzIyMDczMjA4RjIwOTUtMjA5RjIwQjktMjBDRjIwRjEtMjBGRjIxOEEtMjE4RjIzRTktMjNGRjI0MjctMjQzRjI0NEItMjQ1RjI2Q0UyNkUyMjZFNC0yNkU3MjcwMDI3MDUyNzBBMjcwQjI3MjgyNzRDMjc0RTI3NTMtMjc1NTI3NUYyNzYwMjc5NS0yNzk3MjdCMDI3QkYyN0NCMjdDRC0yN0NGMkI0RC0yQjRGMkI1QS0yQkZGMkMyRjJDNUYyQ0YyLTJDRjgyRDI2LTJEMkYyRDY2LTJENkUyRDcwLTJEN0YyRDk3LTJEOUYyREE3MkRBRjJEQjcyREJGMkRDNzJEQ0YyREQ3MkRERjJFMzItMkU3RjJFOUEyRUY0LTJFRkYyRkQ2LTJGRUYyRkZDLTJGRkYzMDQwMzA5NzMwOTgzMTAwLTMxMDQzMTJFLTMxMzAzMThGMzFCOC0zMUJGMzFFNC0zMUVGMzIxRjMyRkY0REI2LTREQkY5RkNDLTlGRkZBNDhELUE0OEZBNEM3LUE0Q0ZBNjJDLUE2M0ZBNjYwQTY2MUE2NzQtQTY3QkE2OTgtQTY5RkE2RjgtQTZGRkE3OEQtQTdGQUE4MkMtQTgyRkE4M0EtQTgzRkE4NzgtQTg3RkE4QzUtQThDREE4REEtQThERkE4RkMtQThGRkE5NTQtQTk1RUE5N0QtQTk3RkE5Q0VBOURBLUE5RERBOUUwLUE5RkZBQTM3LUFBM0ZBQTRFQUE0RkFBNUFBQTVCQUE3Qy1BQTdGQUFDMy1BQURBQUFFMC1BQkJGQUJFRUFCRUZBQkZBLUFCRkZEN0E0LUQ3QUZEN0M3LUQ3Q0FEN0ZDLUY4RkZGQTJFRkEyRkZBNkVGQTZGRkFEQS1GQUZGRkIwNy1GQjEyRkIxOC1GQjFDRkIzN0ZCM0RGQjNGRkI0MkZCNDVGQkIyLUZCRDJGRDQwLUZENEZGRDkwRkQ5MUZEQzgtRkRFRkZERkVGREZGRkUxQS1GRTFGRkUyNy1GRTJGRkU1M0ZFNjdGRTZDLUZFNkZGRTc1RkVGRC1GRjAwRkZCRi1GRkMxRkZDOEZGQzlGRkQwRkZEMUZGRDhGRkQ5RkZERC1GRkRGRkZFN0ZGRUYtRkZGQkZGRkVGRkZGXCIsXG4gICAgQ2M6IFwiMDAwMC0wMDFGMDA3Ri0wMDlGXCIsXG4gICAgQ2Y6IFwiMDBBRDA2MDAtMDYwMzA2REQwNzBGMTdCNDE3QjUyMDBCLTIwMEYyMDJBLTIwMkUyMDYwLTIwNjQyMDZBLTIwNkZGRUZGRkZGOS1GRkZCXCIsXG4gICAgQ286IFwiRTAwMC1GOEZGXCIsXG4gICAgQ3M6IFwiRDgwMC1ERkZGXCIsXG4gICAgQ246IFwiMDM3ODAzNzkwMzdGLTAzODMwMzhCMDM4RDAzQTIwNTI2LTA1MzAwNTU3MDU1ODA1NjAwNTg4MDU4Qi0wNTkwMDVDOC0wNUNGMDVFQi0wNUVGMDVGNS0wNUZGMDYwNDA2MDUwNjFDMDYxRDA2MjAwNjVGMDcwRTA3NEIwNzRDMDdCMi0wN0JGMDdGQi0wN0ZGMDgyRTA4MkYwODNGLTA4RkYwOTNBMDkzQjA5NEYwOTU2MDk1NzA5NzMtMDk3ODA5ODAwOTg0MDk4RDA5OEUwOTkxMDk5MjA5QTkwOUIxMDlCMy0wOUI1MDlCQTA5QkIwOUM1MDlDNjA5QzkwOUNBMDlDRi0wOUQ2MDlEOC0wOURCMDlERTA5RTQwOUU1MDlGQy0wQTAwMEEwNDBBMEItMEEwRTBBMTEwQTEyMEEyOTBBMzEwQTM0MEEzNzBBM0EwQTNCMEEzRDBBNDMtMEE0NjBBNDkwQTRBMEE0RS0wQTUwMEE1Mi0wQTU4MEE1RDBBNUYtMEE2NTBBNzYtMEE4MDBBODQwQThFMEE5MjBBQTkwQUIxMEFCNDBBQkEwQUJCMEFDNjBBQ0EwQUNFMEFDRjBBRDEtMEFERjBBRTQwQUU1MEFGMDBBRjItMEIwMDBCMDQwQjBEMEIwRTBCMTEwQjEyMEIyOTBCMzEwQjM0MEIzQTBCM0IwQjQ1MEI0NjBCNDkwQjRBMEI0RS0wQjU1MEI1OC0wQjVCMEI1RTBCNjQwQjY1MEI3Mi0wQjgxMEI4NDBCOEItMEI4RDBCOTEwQjk2LTBCOTgwQjlCMEI5RDBCQTAtMEJBMjBCQTUtMEJBNzBCQUItMEJBRDBCQkEtMEJCRDBCQzMtMEJDNTBCQzkwQkNFMEJDRjBCRDEtMEJENjBCRDgtMEJFNTBCRkItMEMwMDBDMDQwQzBEMEMxMTBDMjkwQzM0MEMzQS0wQzNDMEM0NTBDNDkwQzRFLTBDNTQwQzU3MEM1QS0wQzVGMEM2NDBDNjUwQzcwLTBDNzcwQzgwMEM4MTBDODQwQzhEMEM5MTBDQTkwQ0I0MENCQTBDQkIwQ0M1MENDOTBDQ0UtMENENDBDRDctMENERDBDREYwQ0U0MENFNTBDRjAwQ0YzLTBEMDEwRDA0MEQwRDBEMTEwRDI5MEQzQS0wRDNDMEQ0NTBENDkwRDRFLTBENTYwRDU4LTBENUYwRDY0MEQ2NTBENzYtMEQ3ODBEODAwRDgxMEQ4NDBEOTctMEQ5OTBEQjIwREJDMERCRTBEQkYwREM3LTBEQzkwRENCLTBEQ0UwREQ1MERENzBERTAtMERGMTBERjUtMEUwMDBFM0ItMEUzRTBFNUMtMEU4MDBFODMwRTg1MEU4NjBFODkwRThCMEU4QzBFOEUtMEU5MzBFOTgwRUEwMEVBNDBFQTYwRUE4MEVBOTBFQUMwRUJBMEVCRTBFQkYwRUM1MEVDNzBFQ0UwRUNGMEVEQTBFREIwRURFLTBFRkYwRjQ4MEY2RC0wRjcwMEY4Qy0wRjhGMEY5ODBGQkQwRkNEMEZEOS0wRkZGMTBDNi0xMENGMTBGRC0xMEZGMTI0OTEyNEUxMjRGMTI1NzEyNTkxMjVFMTI1RjEyODkxMjhFMTI4RjEyQjExMkI2MTJCNzEyQkYxMkMxMTJDNjEyQzcxMkQ3MTMxMTEzMTYxMzE3MTM1Qi0xMzVFMTM3RC0xMzdGMTM5QS0xMzlGMTNGNS0xM0ZGMTY5RC0xNjlGMTZGMS0xNkZGMTcwRDE3MTUtMTcxRjE3MzctMTczRjE3NTQtMTc1RjE3NkQxNzcxMTc3NC0xNzdGMTdERTE3REYxN0VBLTE3RUYxN0ZBLTE3RkYxODBGMTgxQS0xODFGMTg3OC0xODdGMThBQi0xOEFGMThGNi0xOEZGMTkxRC0xOTFGMTkyQy0xOTJGMTkzQy0xOTNGMTk0MS0xOTQzMTk2RTE5NkYxOTc1LTE5N0YxOUFDLTE5QUYxOUNBLTE5Q0YxOURCLTE5REQxQTFDMUExRDFBNUYxQTdEMUE3RTFBOEEtMUE4RjFBOUEtMUE5RjFBQUUtMUFGRjFCNEMtMUI0RjFCN0QtMUI3RjFCQUItMUJBRDFCQkEtMUJGRjFDMzgtMUMzQTFDNEEtMUM0QzFDODAtMUNDRjFDRjMtMUNGRjFERTctMURGQzFGMTYxRjE3MUYxRTFGMUYxRjQ2MUY0NzFGNEUxRjRGMUY1ODFGNUExRjVDMUY1RTFGN0UxRjdGMUZCNTFGQzUxRkQ0MUZENTFGREMxRkYwMUZGMTFGRjUxRkZGMjA2NS0yMDY5MjA3MjIwNzMyMDhGMjA5NS0yMDlGMjBCOS0yMENGMjBGMS0yMEZGMjE4QS0yMThGMjNFOS0yM0ZGMjQyNy0yNDNGMjQ0Qi0yNDVGMjZDRTI2RTIyNkU0LTI2RTcyNzAwMjcwNTI3MEEyNzBCMjcyODI3NEMyNzRFMjc1My0yNzU1Mjc1RjI3NjAyNzk1LTI3OTcyN0IwMjdCRjI3Q0IyN0NELTI3Q0YyQjRELTJCNEYyQjVBLTJCRkYyQzJGMkM1RjJDRjItMkNGODJEMjYtMkQyRjJENjYtMkQ2RTJENzAtMkQ3RjJEOTctMkQ5RjJEQTcyREFGMkRCNzJEQkYyREM3MkRDRjJERDcyRERGMkUzMi0yRTdGMkU5QTJFRjQtMkVGRjJGRDYtMkZFRjJGRkMtMkZGRjMwNDAzMDk3MzA5ODMxMDAtMzEwNDMxMkUtMzEzMDMxOEYzMUI4LTMxQkYzMUU0LTMxRUYzMjFGMzJGRjREQjYtNERCRjlGQ0MtOUZGRkE0OEQtQTQ4RkE0QzctQTRDRkE2MkMtQTYzRkE2NjBBNjYxQTY3NC1BNjdCQTY5OC1BNjlGQTZGOC1BNkZGQTc4RC1BN0ZBQTgyQy1BODJGQTgzQS1BODNGQTg3OC1BODdGQThDNS1BOENEQThEQS1BOERGQThGQy1BOEZGQTk1NC1BOTVFQTk3RC1BOTdGQTlDRUE5REEtQTlEREE5RTAtQTlGRkFBMzctQUEzRkFBNEVBQTRGQUE1QUFBNUJBQTdDLUFBN0ZBQUMzLUFBREFBQUUwLUFCQkZBQkVFQUJFRkFCRkEtQUJGRkQ3QTQtRDdBRkQ3QzctRDdDQUQ3RkMtRDdGRkZBMkVGQTJGRkE2RUZBNkZGQURBLUZBRkZGQjA3LUZCMTJGQjE4LUZCMUNGQjM3RkIzREZCM0ZGQjQyRkI0NUZCQjItRkJEMkZENDAtRkQ0RkZEOTBGRDkxRkRDOC1GREVGRkRGRUZERkZGRTFBLUZFMUZGRTI3LUZFMkZGRTUzRkU2N0ZFNkMtRkU2RkZFNzVGRUZERkVGRUZGMDBGRkJGLUZGQzFGRkM4RkZDOUZGRDBGRkQxRkZEOEZGRDlGRkRELUZGREZGRkU3RkZFRi1GRkY4RkZGRUZGRkZcIlxufSk7XG5cbmZ1bmN0aW9uIGFkZFVuaWNvZGVQYWNrYWdlIChwYWNrKSB7XG4gICAgdmFyIGNvZGVQb2ludCA9IC9cXHd7NH0vZztcbiAgICBmb3IgKHZhciBuYW1lIGluIHBhY2spXG4gICAgICAgIGV4cG9ydHMucGFja2FnZXNbbmFtZV0gPSBwYWNrW25hbWVdLnJlcGxhY2UoY29kZVBvaW50LCBcIlxcXFx1JCZcIik7XG59O1xuXG59KTtcblxuYWNlLmRlZmluZSgnYWNlL3Rva2VuX2l0ZXJhdG9yJywgW1wicmVxdWlyZVwiLCAnZXhwb3J0cycsICdtb2R1bGUnIF0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbnZhciBUb2tlbkl0ZXJhdG9yID0gZnVuY3Rpb24oc2Vzc2lvbiwgaW5pdGlhbFJvdywgaW5pdGlhbENvbHVtbikge1xuICAgIHRoaXMuJHNlc3Npb24gPSBzZXNzaW9uO1xuICAgIHRoaXMuJHJvdyA9IGluaXRpYWxSb3c7XG4gICAgdGhpcy4kcm93VG9rZW5zID0gc2Vzc2lvbi5nZXRUb2tlbnMoaW5pdGlhbFJvdyk7XG5cbiAgICB2YXIgdG9rZW4gPSBzZXNzaW9uLmdldFRva2VuQXQoaW5pdGlhbFJvdywgaW5pdGlhbENvbHVtbik7XG4gICAgdGhpcy4kdG9rZW5JbmRleCA9IHRva2VuID8gdG9rZW4uaW5kZXggOiAtMTtcbn07XG5cbihmdW5jdGlvbigpIHsgXG4gICAgdGhpcy5zdGVwQmFja3dhcmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kdG9rZW5JbmRleCAtPSAxO1xuICAgICAgICBcbiAgICAgICAgd2hpbGUgKHRoaXMuJHRva2VuSW5kZXggPCAwKSB7XG4gICAgICAgICAgICB0aGlzLiRyb3cgLT0gMTtcbiAgICAgICAgICAgIGlmICh0aGlzLiRyb3cgPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kcm93ID0gMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuJHJvd1Rva2VucyA9IHRoaXMuJHNlc3Npb24uZ2V0VG9rZW5zKHRoaXMuJHJvdyk7XG4gICAgICAgICAgICB0aGlzLiR0b2tlbkluZGV4ID0gdGhpcy4kcm93VG9rZW5zLmxlbmd0aCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICByZXR1cm4gdGhpcy4kcm93VG9rZW5zW3RoaXMuJHRva2VuSW5kZXhdO1xuICAgIH07ICAgXG4gICAgdGhpcy5zdGVwRm9yd2FyZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiR0b2tlbkluZGV4ICs9IDE7XG4gICAgICAgIHZhciByb3dDb3VudDtcbiAgICAgICAgd2hpbGUgKHRoaXMuJHRva2VuSW5kZXggPj0gdGhpcy4kcm93VG9rZW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy4kcm93ICs9IDE7XG4gICAgICAgICAgICBpZiAoIXJvd0NvdW50KVxuICAgICAgICAgICAgICAgIHJvd0NvdW50ID0gdGhpcy4kc2Vzc2lvbi5nZXRMZW5ndGgoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLiRyb3cgPj0gcm93Q291bnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRyb3cgPSByb3dDb3VudCAtIDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuJHJvd1Rva2VucyA9IHRoaXMuJHNlc3Npb24uZ2V0VG9rZW5zKHRoaXMuJHJvdyk7XG4gICAgICAgICAgICB0aGlzLiR0b2tlbkluZGV4ID0gMDtcbiAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIHJldHVybiB0aGlzLiRyb3dUb2tlbnNbdGhpcy4kdG9rZW5JbmRleF07XG4gICAgfTsgICAgICBcbiAgICB0aGlzLmdldEN1cnJlbnRUb2tlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHJvd1Rva2Vuc1t0aGlzLiR0b2tlbkluZGV4XTtcbiAgICB9OyAgICAgIFxuICAgIHRoaXMuZ2V0Q3VycmVudFRva2VuUm93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kcm93O1xuICAgIH07ICAgICBcbiAgICB0aGlzLmdldEN1cnJlbnRUb2tlbkNvbHVtbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcm93VG9rZW5zID0gdGhpcy4kcm93VG9rZW5zO1xuICAgICAgICB2YXIgdG9rZW5JbmRleCA9IHRoaXMuJHRva2VuSW5kZXg7XG4gICAgICAgIHZhciBjb2x1bW4gPSByb3dUb2tlbnNbdG9rZW5JbmRleF0uc3RhcnQ7XG4gICAgICAgIGlmIChjb2x1bW4gIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiBjb2x1bW47XG4gICAgICAgICAgICBcbiAgICAgICAgY29sdW1uID0gMDtcbiAgICAgICAgd2hpbGUgKHRva2VuSW5kZXggPiAwKSB7XG4gICAgICAgICAgICB0b2tlbkluZGV4IC09IDE7XG4gICAgICAgICAgICBjb2x1bW4gKz0gcm93VG9rZW5zW3Rva2VuSW5kZXhdLnZhbHVlLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGNvbHVtbjsgIFxuICAgIH07XG4gICAgICAgICAgICBcbn0pLmNhbGwoVG9rZW5JdGVyYXRvci5wcm90b3R5cGUpO1xuXG5leHBvcnRzLlRva2VuSXRlcmF0b3IgPSBUb2tlbkl0ZXJhdG9yO1xufSk7XG5cbmFjZS5kZWZpbmUoJ2FjZS9kb2N1bWVudCcsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyAsICdhY2UvbGliL29vcCcsICdhY2UvbGliL2V2ZW50X2VtaXR0ZXInLCAnYWNlL3JhbmdlJywgJ2FjZS9hbmNob3InXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4vbGliL29vcFwiKTtcbnZhciBFdmVudEVtaXR0ZXIgPSBhY2VxdWlyZShcIi4vbGliL2V2ZW50X2VtaXR0ZXJcIikuRXZlbnRFbWl0dGVyO1xudmFyIFJhbmdlID0gYWNlcXVpcmUoXCIuL3JhbmdlXCIpLlJhbmdlO1xudmFyIEFuY2hvciA9IGFjZXF1aXJlKFwiLi9hbmNob3JcIikuQW5jaG9yO1xuXG52YXIgRG9jdW1lbnQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgdGhpcy4kbGluZXMgPSBbXTtcbiAgICBpZiAodGV4dC5sZW5ndGggPT0gMCkge1xuICAgICAgICB0aGlzLiRsaW5lcyA9IFtcIlwiXTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodGV4dCkpIHtcbiAgICAgICAgdGhpcy5faW5zZXJ0TGluZXMoMCwgdGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pbnNlcnQoe3JvdzogMCwgY29sdW1uOjB9LCB0ZXh0KTtcbiAgICB9XG59O1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7XG4gICAgdGhpcy5zZXRWYWx1ZSA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgdmFyIGxlbiA9IHRoaXMuZ2V0TGVuZ3RoKCk7XG4gICAgICAgIHRoaXMucmVtb3ZlKG5ldyBSYW5nZSgwLCAwLCBsZW4sIHRoaXMuZ2V0TGluZShsZW4tMSkubGVuZ3RoKSk7XG4gICAgICAgIHRoaXMuaW5zZXJ0KHtyb3c6IDAsIGNvbHVtbjowfSwgdGV4dCk7XG4gICAgfTtcbiAgICB0aGlzLmdldFZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEFsbExpbmVzKCkuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSk7XG4gICAgfTtcbiAgICB0aGlzLmNyZWF0ZUFuY2hvciA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIHJldHVybiBuZXcgQW5jaG9yKHRoaXMsIHJvdywgY29sdW1uKTtcbiAgICB9O1xuICAgIGlmIChcImFhYVwiLnNwbGl0KC9hLykubGVuZ3RoID09IDApXG4gICAgICAgIHRoaXMuJHNwbGl0ID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIHRleHQucmVwbGFjZSgvXFxyXFxufFxcci9nLCBcIlxcblwiKS5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgfVxuICAgIGVsc2VcbiAgICAgICAgdGhpcy4kc3BsaXQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGV4dC5zcGxpdCgvXFxyXFxufFxccnxcXG4vKTtcbiAgICAgICAgfTtcblxuXG4gICAgdGhpcy4kZGV0ZWN0TmV3TGluZSA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgdmFyIG1hdGNoID0gdGV4dC5tYXRjaCgvXi4qPyhcXHJcXG58XFxyfFxcbikvbSk7XG4gICAgICAgIHRoaXMuJGF1dG9OZXdMaW5lID0gbWF0Y2ggPyBtYXRjaFsxXSA6IFwiXFxuXCI7XG4gICAgfTtcbiAgICB0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLiRuZXdMaW5lTW9kZSkge1xuICAgICAgICAgIGNhc2UgXCJ3aW5kb3dzXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJcXHJcXG5cIjtcbiAgICAgICAgICBjYXNlIFwidW5peFwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiXFxuXCI7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRhdXRvTmV3TGluZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLiRhdXRvTmV3TGluZSA9IFwiXFxuXCI7XG4gICAgdGhpcy4kbmV3TGluZU1vZGUgPSBcImF1dG9cIjtcbiAgICB0aGlzLnNldE5ld0xpbmVNb2RlID0gZnVuY3Rpb24obmV3TGluZU1vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuJG5ld0xpbmVNb2RlID09PSBuZXdMaW5lTW9kZSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB0aGlzLiRuZXdMaW5lTW9kZSA9IG5ld0xpbmVNb2RlO1xuICAgIH07XG4gICAgdGhpcy5nZXROZXdMaW5lTW9kZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kbmV3TGluZU1vZGU7XG4gICAgfTtcbiAgICB0aGlzLmlzTmV3TGluZSA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgcmV0dXJuICh0ZXh0ID09IFwiXFxyXFxuXCIgfHwgdGV4dCA9PSBcIlxcclwiIHx8IHRleHQgPT0gXCJcXG5cIik7XG4gICAgfTtcbiAgICB0aGlzLmdldExpbmUgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzW3Jvd10gfHwgXCJcIjtcbiAgICB9O1xuICAgIHRoaXMuZ2V0TGluZXMgPSBmdW5jdGlvbihmaXJzdFJvdywgbGFzdFJvdykge1xuICAgICAgICByZXR1cm4gdGhpcy4kbGluZXMuc2xpY2UoZmlyc3RSb3csIGxhc3RSb3cgKyAxKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0QWxsTGluZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGluZXMoMCwgdGhpcy5nZXRMZW5ndGgoKSk7XG4gICAgfTtcbiAgICB0aGlzLmdldExlbmd0aCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kbGluZXMubGVuZ3RoO1xuICAgIH07XG4gICAgdGhpcy5nZXRUZXh0UmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICBpZiAocmFuZ2Uuc3RhcnQucm93ID09IHJhbmdlLmVuZC5yb3cpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRsaW5lc1tyYW5nZS5zdGFydC5yb3ddXG4gICAgICAgICAgICAgICAgLnN1YnN0cmluZyhyYW5nZS5zdGFydC5jb2x1bW4sIHJhbmdlLmVuZC5jb2x1bW4pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaW5lcyA9IHRoaXMuZ2V0TGluZXMocmFuZ2Uuc3RhcnQucm93LCByYW5nZS5lbmQucm93KTtcbiAgICAgICAgbGluZXNbMF0gPSAobGluZXNbMF0gfHwgXCJcIikuc3Vic3RyaW5nKHJhbmdlLnN0YXJ0LmNvbHVtbik7XG4gICAgICAgIHZhciBsID0gbGluZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgaWYgKHJhbmdlLmVuZC5yb3cgLSByYW5nZS5zdGFydC5yb3cgPT0gbClcbiAgICAgICAgICAgIGxpbmVzW2xdID0gbGluZXNbbF0uc3Vic3RyaW5nKDAsIHJhbmdlLmVuZC5jb2x1bW4pO1xuICAgICAgICByZXR1cm4gbGluZXMuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSk7XG4gICAgfTtcblxuICAgIHRoaXMuJGNsaXBQb3NpdGlvbiA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldExlbmd0aCgpO1xuICAgICAgICBpZiAocG9zaXRpb24ucm93ID49IGxlbmd0aCkge1xuICAgICAgICAgICAgcG9zaXRpb24ucm93ID0gTWF0aC5tYXgoMCwgbGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICBwb3NpdGlvbi5jb2x1bW4gPSB0aGlzLmdldExpbmUobGVuZ3RoLTEpLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIGlmIChwb3NpdGlvbi5yb3cgPCAwKVxuICAgICAgICAgICAgcG9zaXRpb24ucm93ID0gMDtcbiAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xuICAgIH07XG4gICAgdGhpcy5pbnNlcnQgPSBmdW5jdGlvbihwb3NpdGlvbiwgdGV4dCkge1xuICAgICAgICBpZiAoIXRleHQgfHwgdGV4dC5sZW5ndGggPT09IDApXG4gICAgICAgICAgICByZXR1cm4gcG9zaXRpb247XG5cbiAgICAgICAgcG9zaXRpb24gPSB0aGlzLiRjbGlwUG9zaXRpb24ocG9zaXRpb24pO1xuICAgICAgICBpZiAodGhpcy5nZXRMZW5ndGgoKSA8PSAxKVxuICAgICAgICAgICAgdGhpcy4kZGV0ZWN0TmV3TGluZSh0ZXh0KTtcblxuICAgICAgICB2YXIgbGluZXMgPSB0aGlzLiRzcGxpdCh0ZXh0KTtcbiAgICAgICAgdmFyIGZpcnN0TGluZSA9IGxpbmVzLnNwbGljZSgwLCAxKVswXTtcbiAgICAgICAgdmFyIGxhc3RMaW5lID0gbGluZXMubGVuZ3RoID09IDAgPyBudWxsIDogbGluZXMuc3BsaWNlKGxpbmVzLmxlbmd0aCAtIDEsIDEpWzBdO1xuXG4gICAgICAgIHBvc2l0aW9uID0gdGhpcy5pbnNlcnRJbkxpbmUocG9zaXRpb24sIGZpcnN0TGluZSk7XG4gICAgICAgIGlmIChsYXN0TGluZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLmluc2VydE5ld0xpbmUocG9zaXRpb24pOyAvLyB0ZXJtaW5hdGUgZmlyc3QgbGluZVxuICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLl9pbnNlcnRMaW5lcyhwb3NpdGlvbi5yb3csIGxpbmVzKTtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy5pbnNlcnRJbkxpbmUocG9zaXRpb24sIGxhc3RMaW5lIHx8IFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwb3NpdGlvbjtcbiAgICB9O1xuICAgIHRoaXMuaW5zZXJ0TGluZXMgPSBmdW5jdGlvbihyb3csIGxpbmVzKSB7XG4gICAgICAgIGlmIChyb3cgPj0gdGhpcy5nZXRMZW5ndGgoKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmluc2VydCh7cm93OiByb3csIGNvbHVtbjogMH0sIFwiXFxuXCIgKyBsaW5lcy5qb2luKFwiXFxuXCIpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc2VydExpbmVzKE1hdGgubWF4KHJvdywgMCksIGxpbmVzKTtcbiAgICB9O1xuICAgIHRoaXMuX2luc2VydExpbmVzID0gZnVuY3Rpb24ocm93LCBsaW5lcykge1xuICAgICAgICBpZiAobGluZXMubGVuZ3RoID09IDApXG4gICAgICAgICAgICByZXR1cm4ge3Jvdzogcm93LCBjb2x1bW46IDB9O1xuICAgICAgICBpZiAobGluZXMubGVuZ3RoID4gMHhGRkZGKSB7XG4gICAgICAgICAgICB2YXIgZW5kID0gdGhpcy5faW5zZXJ0TGluZXMocm93LCBsaW5lcy5zbGljZSgweEZGRkYpKTtcbiAgICAgICAgICAgIGxpbmVzID0gbGluZXMuc2xpY2UoMCwgMHhGRkZGKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhcmdzID0gW3JvdywgMF07XG4gICAgICAgIGFyZ3MucHVzaC5hcHBseShhcmdzLCBsaW5lcyk7XG4gICAgICAgIHRoaXMuJGxpbmVzLnNwbGljZS5hcHBseSh0aGlzLiRsaW5lcywgYXJncyk7XG5cbiAgICAgICAgdmFyIHJhbmdlID0gbmV3IFJhbmdlKHJvdywgMCwgcm93ICsgbGluZXMubGVuZ3RoLCAwKTtcbiAgICAgICAgdmFyIGRlbHRhID0ge1xuICAgICAgICAgICAgYWN0aW9uOiBcImluc2VydExpbmVzXCIsXG4gICAgICAgICAgICByYW5nZTogcmFuZ2UsXG4gICAgICAgICAgICBsaW5lczogbGluZXNcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fZW1pdChcImNoYW5nZVwiLCB7IGRhdGE6IGRlbHRhIH0pO1xuICAgICAgICByZXR1cm4gZW5kIHx8IHJhbmdlLmVuZDtcbiAgICB9O1xuICAgIHRoaXMuaW5zZXJ0TmV3TGluZSA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgIHBvc2l0aW9uID0gdGhpcy4kY2xpcFBvc2l0aW9uKHBvc2l0aW9uKTtcbiAgICAgICAgdmFyIGxpbmUgPSB0aGlzLiRsaW5lc1twb3NpdGlvbi5yb3ddIHx8IFwiXCI7XG5cbiAgICAgICAgdGhpcy4kbGluZXNbcG9zaXRpb24ucm93XSA9IGxpbmUuc3Vic3RyaW5nKDAsIHBvc2l0aW9uLmNvbHVtbik7XG4gICAgICAgIHRoaXMuJGxpbmVzLnNwbGljZShwb3NpdGlvbi5yb3cgKyAxLCAwLCBsaW5lLnN1YnN0cmluZyhwb3NpdGlvbi5jb2x1bW4sIGxpbmUubGVuZ3RoKSk7XG5cbiAgICAgICAgdmFyIGVuZCA9IHtcbiAgICAgICAgICAgIHJvdyA6IHBvc2l0aW9uLnJvdyArIDEsXG4gICAgICAgICAgICBjb2x1bW4gOiAwXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGRlbHRhID0ge1xuICAgICAgICAgICAgYWN0aW9uOiBcImluc2VydFRleHRcIixcbiAgICAgICAgICAgIHJhbmdlOiBSYW5nZS5mcm9tUG9pbnRzKHBvc2l0aW9uLCBlbmQpLFxuICAgICAgICAgICAgdGV4dDogdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKClcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fZW1pdChcImNoYW5nZVwiLCB7IGRhdGE6IGRlbHRhIH0pO1xuXG4gICAgICAgIHJldHVybiBlbmQ7XG4gICAgfTtcbiAgICB0aGlzLmluc2VydEluTGluZSA9IGZ1bmN0aW9uKHBvc2l0aW9uLCB0ZXh0KSB7XG4gICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xuXG4gICAgICAgIHZhciBsaW5lID0gdGhpcy4kbGluZXNbcG9zaXRpb24ucm93XSB8fCBcIlwiO1xuXG4gICAgICAgIHRoaXMuJGxpbmVzW3Bvc2l0aW9uLnJvd10gPSBsaW5lLnN1YnN0cmluZygwLCBwb3NpdGlvbi5jb2x1bW4pICsgdGV4dFxuICAgICAgICAgICAgICAgICsgbGluZS5zdWJzdHJpbmcocG9zaXRpb24uY29sdW1uKTtcblxuICAgICAgICB2YXIgZW5kID0ge1xuICAgICAgICAgICAgcm93IDogcG9zaXRpb24ucm93LFxuICAgICAgICAgICAgY29sdW1uIDogcG9zaXRpb24uY29sdW1uICsgdGV4dC5sZW5ndGhcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZGVsdGEgPSB7XG4gICAgICAgICAgICBhY3Rpb246IFwiaW5zZXJ0VGV4dFwiLFxuICAgICAgICAgICAgcmFuZ2U6IFJhbmdlLmZyb21Qb2ludHMocG9zaXRpb24sIGVuZCksXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2VtaXQoXCJjaGFuZ2VcIiwgeyBkYXRhOiBkZWx0YSB9KTtcblxuICAgICAgICByZXR1cm4gZW5kO1xuICAgIH07XG4gICAgdGhpcy5yZW1vdmUgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICByYW5nZS5zdGFydCA9IHRoaXMuJGNsaXBQb3NpdGlvbihyYW5nZS5zdGFydCk7XG4gICAgICAgIHJhbmdlLmVuZCA9IHRoaXMuJGNsaXBQb3NpdGlvbihyYW5nZS5lbmQpO1xuXG4gICAgICAgIGlmIChyYW5nZS5pc0VtcHR5KCkpXG4gICAgICAgICAgICByZXR1cm4gcmFuZ2Uuc3RhcnQ7XG5cbiAgICAgICAgdmFyIGZpcnN0Um93ID0gcmFuZ2Uuc3RhcnQucm93O1xuICAgICAgICB2YXIgbGFzdFJvdyA9IHJhbmdlLmVuZC5yb3c7XG5cbiAgICAgICAgaWYgKHJhbmdlLmlzTXVsdGlMaW5lKCkpIHtcbiAgICAgICAgICAgIHZhciBmaXJzdEZ1bGxSb3cgPSByYW5nZS5zdGFydC5jb2x1bW4gPT0gMCA/IGZpcnN0Um93IDogZmlyc3RSb3cgKyAxO1xuICAgICAgICAgICAgdmFyIGxhc3RGdWxsUm93ID0gbGFzdFJvdyAtIDE7XG5cbiAgICAgICAgICAgIGlmIChyYW5nZS5lbmQuY29sdW1uID4gMClcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUluTGluZShsYXN0Um93LCAwLCByYW5nZS5lbmQuY29sdW1uKTtcblxuICAgICAgICAgICAgaWYgKGxhc3RGdWxsUm93ID49IGZpcnN0RnVsbFJvdylcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVMaW5lcyhmaXJzdEZ1bGxSb3csIGxhc3RGdWxsUm93KTtcblxuICAgICAgICAgICAgaWYgKGZpcnN0RnVsbFJvdyAhPSBmaXJzdFJvdykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlSW5MaW5lKGZpcnN0Um93LCByYW5nZS5zdGFydC5jb2x1bW4sIHRoaXMuZ2V0TGluZShmaXJzdFJvdykubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZU5ld0xpbmUocmFuZ2Uuc3RhcnQucm93KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlSW5MaW5lKGZpcnN0Um93LCByYW5nZS5zdGFydC5jb2x1bW4sIHJhbmdlLmVuZC5jb2x1bW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByYW5nZS5zdGFydDtcbiAgICB9O1xuICAgIHRoaXMucmVtb3ZlSW5MaW5lID0gZnVuY3Rpb24ocm93LCBzdGFydENvbHVtbiwgZW5kQ29sdW1uKSB7XG4gICAgICAgIGlmIChzdGFydENvbHVtbiA9PSBlbmRDb2x1bW4pXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIHJhbmdlID0gbmV3IFJhbmdlKHJvdywgc3RhcnRDb2x1bW4sIHJvdywgZW5kQ29sdW1uKTtcbiAgICAgICAgdmFyIGxpbmUgPSB0aGlzLmdldExpbmUocm93KTtcbiAgICAgICAgdmFyIHJlbW92ZWQgPSBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbiwgZW5kQ29sdW1uKTtcbiAgICAgICAgdmFyIG5ld0xpbmUgPSBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBsaW5lLnN1YnN0cmluZyhlbmRDb2x1bW4sIGxpbmUubGVuZ3RoKTtcbiAgICAgICAgdGhpcy4kbGluZXMuc3BsaWNlKHJvdywgMSwgbmV3TGluZSk7XG5cbiAgICAgICAgdmFyIGRlbHRhID0ge1xuICAgICAgICAgICAgYWN0aW9uOiBcInJlbW92ZVRleHRcIixcbiAgICAgICAgICAgIHJhbmdlOiByYW5nZSxcbiAgICAgICAgICAgIHRleHQ6IHJlbW92ZWRcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fZW1pdChcImNoYW5nZVwiLCB7IGRhdGE6IGRlbHRhIH0pO1xuICAgICAgICByZXR1cm4gcmFuZ2Uuc3RhcnQ7XG4gICAgfTtcbiAgICB0aGlzLnJlbW92ZUxpbmVzID0gZnVuY3Rpb24oZmlyc3RSb3csIGxhc3RSb3cpIHtcbiAgICAgICAgaWYgKGZpcnN0Um93IDwgMCB8fCBsYXN0Um93ID49IHRoaXMuZ2V0TGVuZ3RoKCkpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZW1vdmUobmV3IFJhbmdlKGZpcnN0Um93LCAwLCBsYXN0Um93ICsgMSwgMCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVtb3ZlTGluZXMoZmlyc3RSb3csIGxhc3RSb3cpO1xuICAgIH07XG5cbiAgICB0aGlzLl9yZW1vdmVMaW5lcyA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KSB7XG4gICAgICAgIHZhciByYW5nZSA9IG5ldyBSYW5nZShmaXJzdFJvdywgMCwgbGFzdFJvdyArIDEsIDApO1xuICAgICAgICB2YXIgcmVtb3ZlZCA9IHRoaXMuJGxpbmVzLnNwbGljZShmaXJzdFJvdywgbGFzdFJvdyAtIGZpcnN0Um93ICsgMSk7XG5cbiAgICAgICAgdmFyIGRlbHRhID0ge1xuICAgICAgICAgICAgYWN0aW9uOiBcInJlbW92ZUxpbmVzXCIsXG4gICAgICAgICAgICByYW5nZTogcmFuZ2UsXG4gICAgICAgICAgICBubDogdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCksXG4gICAgICAgICAgICBsaW5lczogcmVtb3ZlZFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9lbWl0KFwiY2hhbmdlXCIsIHsgZGF0YTogZGVsdGEgfSk7XG4gICAgICAgIHJldHVybiByZW1vdmVkO1xuICAgIH07XG4gICAgdGhpcy5yZW1vdmVOZXdMaW5lID0gZnVuY3Rpb24ocm93KSB7XG4gICAgICAgIHZhciBmaXJzdExpbmUgPSB0aGlzLmdldExpbmUocm93KTtcbiAgICAgICAgdmFyIHNlY29uZExpbmUgPSB0aGlzLmdldExpbmUocm93KzEpO1xuXG4gICAgICAgIHZhciByYW5nZSA9IG5ldyBSYW5nZShyb3csIGZpcnN0TGluZS5sZW5ndGgsIHJvdysxLCAwKTtcbiAgICAgICAgdmFyIGxpbmUgPSBmaXJzdExpbmUgKyBzZWNvbmRMaW5lO1xuXG4gICAgICAgIHRoaXMuJGxpbmVzLnNwbGljZShyb3csIDIsIGxpbmUpO1xuXG4gICAgICAgIHZhciBkZWx0YSA9IHtcbiAgICAgICAgICAgIGFjdGlvbjogXCJyZW1vdmVUZXh0XCIsXG4gICAgICAgICAgICByYW5nZTogcmFuZ2UsXG4gICAgICAgICAgICB0ZXh0OiB0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9lbWl0KFwiY2hhbmdlXCIsIHsgZGF0YTogZGVsdGEgfSk7XG4gICAgfTtcbiAgICB0aGlzLnJlcGxhY2UgPSBmdW5jdGlvbihyYW5nZSwgdGV4dCkge1xuICAgICAgICBpZiAodGV4dC5sZW5ndGggPT0gMCAmJiByYW5nZS5pc0VtcHR5KCkpXG4gICAgICAgICAgICByZXR1cm4gcmFuZ2Uuc3RhcnQ7XG4gICAgICAgIGlmICh0ZXh0ID09IHRoaXMuZ2V0VGV4dFJhbmdlKHJhbmdlKSlcbiAgICAgICAgICAgIHJldHVybiByYW5nZS5lbmQ7XG5cbiAgICAgICAgdGhpcy5yZW1vdmUocmFuZ2UpO1xuICAgICAgICBpZiAodGV4dCkge1xuICAgICAgICAgICAgdmFyIGVuZCA9IHRoaXMuaW5zZXJ0KHJhbmdlLnN0YXJ0LCB0ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVuZCA9IHJhbmdlLnN0YXJ0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVuZDtcbiAgICB9O1xuICAgIHRoaXMuYXBwbHlEZWx0YXMgPSBmdW5jdGlvbihkZWx0YXMpIHtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPGRlbHRhcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGRlbHRhID0gZGVsdGFzW2ldO1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhkZWx0YS5yYW5nZS5zdGFydCwgZGVsdGEucmFuZ2UuZW5kKTtcblxuICAgICAgICAgICAgaWYgKGRlbHRhLmFjdGlvbiA9PSBcImluc2VydExpbmVzXCIpXG4gICAgICAgICAgICAgICAgdGhpcy5pbnNlcnRMaW5lcyhyYW5nZS5zdGFydC5yb3csIGRlbHRhLmxpbmVzKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGRlbHRhLmFjdGlvbiA9PSBcImluc2VydFRleHRcIilcbiAgICAgICAgICAgICAgICB0aGlzLmluc2VydChyYW5nZS5zdGFydCwgZGVsdGEudGV4dCk7XG4gICAgICAgICAgICBlbHNlIGlmIChkZWx0YS5hY3Rpb24gPT0gXCJyZW1vdmVMaW5lc1wiKVxuICAgICAgICAgICAgICAgIHRoaXMuX3JlbW92ZUxpbmVzKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2UuZW5kLnJvdyAtIDEpO1xuICAgICAgICAgICAgZWxzZSBpZiAoZGVsdGEuYWN0aW9uID09IFwicmVtb3ZlVGV4dFwiKVxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlKHJhbmdlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5yZXZlcnREZWx0YXMgPSBmdW5jdGlvbihkZWx0YXMpIHtcbiAgICAgICAgZm9yICh2YXIgaT1kZWx0YXMubGVuZ3RoLTE7IGk+PTA7IGktLSkge1xuICAgICAgICAgICAgdmFyIGRlbHRhID0gZGVsdGFzW2ldO1xuXG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBSYW5nZS5mcm9tUG9pbnRzKGRlbHRhLnJhbmdlLnN0YXJ0LCBkZWx0YS5yYW5nZS5lbmQpO1xuXG4gICAgICAgICAgICBpZiAoZGVsdGEuYWN0aW9uID09IFwiaW5zZXJ0TGluZXNcIilcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVMaW5lcyhyYW5nZS5zdGFydC5yb3csIHJhbmdlLmVuZC5yb3cgLSAxKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGRlbHRhLmFjdGlvbiA9PSBcImluc2VydFRleHRcIilcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZShyYW5nZSk7XG4gICAgICAgICAgICBlbHNlIGlmIChkZWx0YS5hY3Rpb24gPT0gXCJyZW1vdmVMaW5lc1wiKVxuICAgICAgICAgICAgICAgIHRoaXMuX2luc2VydExpbmVzKHJhbmdlLnN0YXJ0LnJvdywgZGVsdGEubGluZXMpO1xuICAgICAgICAgICAgZWxzZSBpZiAoZGVsdGEuYWN0aW9uID09IFwicmVtb3ZlVGV4dFwiKVxuICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0KHJhbmdlLnN0YXJ0LCBkZWx0YS50ZXh0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5pbmRleFRvUG9zaXRpb24gPSBmdW5jdGlvbihpbmRleCwgc3RhcnRSb3cpIHtcbiAgICAgICAgdmFyIGxpbmVzID0gdGhpcy4kbGluZXMgfHwgdGhpcy5nZXRBbGxMaW5lcygpO1xuICAgICAgICB2YXIgbmV3bGluZUxlbmd0aCA9IHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0Um93IHx8IDAsIGwgPSBsaW5lcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGluZGV4IC09IGxpbmVzW2ldLmxlbmd0aCArIG5ld2xpbmVMZW5ndGg7XG4gICAgICAgICAgICBpZiAoaW5kZXggPCAwKVxuICAgICAgICAgICAgICAgIHJldHVybiB7cm93OiBpLCBjb2x1bW46IGluZGV4ICsgbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtyb3c6IGwtMSwgY29sdW1uOiBsaW5lc1tsLTFdLmxlbmd0aH07XG4gICAgfTtcbiAgICB0aGlzLnBvc2l0aW9uVG9JbmRleCA9IGZ1bmN0aW9uKHBvcywgc3RhcnRSb3cpIHtcbiAgICAgICAgdmFyIGxpbmVzID0gdGhpcy4kbGluZXMgfHwgdGhpcy5nZXRBbGxMaW5lcygpO1xuICAgICAgICB2YXIgbmV3bGluZUxlbmd0aCA9IHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aDtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIHJvdyA9IE1hdGgubWluKHBvcy5yb3csIGxpbmVzLmxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydFJvdyB8fCAwOyBpIDwgcm93OyArK2kpXG4gICAgICAgICAgICBpbmRleCArPSBsaW5lc1tpXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RoO1xuXG4gICAgICAgIHJldHVybiBpbmRleCArIHBvcy5jb2x1bW47XG4gICAgfTtcblxufSkuY2FsbChEb2N1bWVudC5wcm90b3R5cGUpO1xuXG5leHBvcnRzLkRvY3VtZW50ID0gRG9jdW1lbnQ7XG59KTtcblxuYWNlLmRlZmluZSgnYWNlL2FuY2hvcicsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyAsICdhY2UvbGliL29vcCcsICdhY2UvbGliL2V2ZW50X2VtaXR0ZXInXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4vbGliL29vcFwiKTtcbnZhciBFdmVudEVtaXR0ZXIgPSBhY2VxdWlyZShcIi4vbGliL2V2ZW50X2VtaXR0ZXJcIikuRXZlbnRFbWl0dGVyO1xuXG52YXIgQW5jaG9yID0gZXhwb3J0cy5BbmNob3IgPSBmdW5jdGlvbihkb2MsIHJvdywgY29sdW1uKSB7XG4gICAgdGhpcy5kb2N1bWVudCA9IGRvYztcblxuICAgIGlmICh0eXBlb2YgY29sdW1uID09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHRoaXMuc2V0UG9zaXRpb24ocm93LnJvdywgcm93LmNvbHVtbik7XG4gICAgZWxzZVxuICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHJvdywgY29sdW1uKTtcblxuICAgIHRoaXMuJG9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpO1xuICAgIGRvYy5vbihcImNoYW5nZVwiLCB0aGlzLiRvbkNoYW5nZSk7XG59O1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7XG5cbiAgICB0aGlzLmdldFBvc2l0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50KHRoaXMucm93LCB0aGlzLmNvbHVtbik7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0RG9jdW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQ7XG4gICAgfTtcblxuICAgIHRoaXMub25DaGFuZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBkZWx0YSA9IGUuZGF0YTtcbiAgICAgICAgdmFyIHJhbmdlID0gZGVsdGEucmFuZ2U7XG5cbiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyA9PSByYW5nZS5lbmQucm93ICYmIHJhbmdlLnN0YXJ0LnJvdyAhPSB0aGlzLnJvdylcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBpZiAocmFuZ2Uuc3RhcnQucm93ID4gdGhpcy5yb3cpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyA9PSB0aGlzLnJvdyAmJiByYW5nZS5zdGFydC5jb2x1bW4gPiB0aGlzLmNvbHVtbilcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgcm93ID0gdGhpcy5yb3c7XG4gICAgICAgIHZhciBjb2x1bW4gPSB0aGlzLmNvbHVtbjtcbiAgICAgICAgdmFyIHN0YXJ0ID0gcmFuZ2Uuc3RhcnQ7XG4gICAgICAgIHZhciBlbmQgPSByYW5nZS5lbmQ7XG5cbiAgICAgICAgaWYgKGRlbHRhLmFjdGlvbiA9PT0gXCJpbnNlcnRUZXh0XCIpIHtcbiAgICAgICAgICAgIGlmIChzdGFydC5yb3cgPT09IHJvdyAmJiBzdGFydC5jb2x1bW4gPD0gY29sdW1uKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0LnJvdyA9PT0gZW5kLnJvdykge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gKz0gZW5kLmNvbHVtbiAtIHN0YXJ0LmNvbHVtbjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gLT0gc3RhcnQuY29sdW1uO1xuICAgICAgICAgICAgICAgICAgICByb3cgKz0gZW5kLnJvdyAtIHN0YXJ0LnJvdztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXJ0LnJvdyAhPT0gZW5kLnJvdyAmJiBzdGFydC5yb3cgPCByb3cpIHtcbiAgICAgICAgICAgICAgICByb3cgKz0gZW5kLnJvdyAtIHN0YXJ0LnJvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChkZWx0YS5hY3Rpb24gPT09IFwiaW5zZXJ0TGluZXNcIikge1xuICAgICAgICAgICAgaWYgKHN0YXJ0LnJvdyA8PSByb3cpIHtcbiAgICAgICAgICAgICAgICByb3cgKz0gZW5kLnJvdyAtIHN0YXJ0LnJvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChkZWx0YS5hY3Rpb24gPT09IFwicmVtb3ZlVGV4dFwiKSB7XG4gICAgICAgICAgICBpZiAoc3RhcnQucm93ID09PSByb3cgJiYgc3RhcnQuY29sdW1uIDwgY29sdW1uKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVuZC5jb2x1bW4gPj0gY29sdW1uKVxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBzdGFydC5jb2x1bW47XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBNYXRoLm1heCgwLCBjb2x1bW4gLSAoZW5kLmNvbHVtbiAtIHN0YXJ0LmNvbHVtbikpO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXJ0LnJvdyAhPT0gZW5kLnJvdyAmJiBzdGFydC5yb3cgPCByb3cpIHtcbiAgICAgICAgICAgICAgICBpZiAoZW5kLnJvdyA9PT0gcm93KVxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBNYXRoLm1heCgwLCBjb2x1bW4gLSBlbmQuY29sdW1uKSArIHN0YXJ0LmNvbHVtbjtcbiAgICAgICAgICAgICAgICByb3cgLT0gKGVuZC5yb3cgLSBzdGFydC5yb3cpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlbmQucm93ID09PSByb3cpIHtcbiAgICAgICAgICAgICAgICByb3cgLT0gZW5kLnJvdyAtIHN0YXJ0LnJvdztcbiAgICAgICAgICAgICAgICBjb2x1bW4gPSBNYXRoLm1heCgwLCBjb2x1bW4gLSBlbmQuY29sdW1uKSArIHN0YXJ0LmNvbHVtbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChkZWx0YS5hY3Rpb24gPT0gXCJyZW1vdmVMaW5lc1wiKSB7XG4gICAgICAgICAgICBpZiAoc3RhcnQucm93IDw9IHJvdykge1xuICAgICAgICAgICAgICAgIGlmIChlbmQucm93IDw9IHJvdylcbiAgICAgICAgICAgICAgICAgICAgcm93IC09IGVuZC5yb3cgLSBzdGFydC5yb3c7XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJvdyA9IHN0YXJ0LnJvdztcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHJvdywgY29sdW1uLCB0cnVlKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKHJvdywgY29sdW1uLCBub0NsaXApIHtcbiAgICAgICAgdmFyIHBvcztcbiAgICAgICAgaWYgKG5vQ2xpcCkge1xuICAgICAgICAgICAgcG9zID0ge1xuICAgICAgICAgICAgICAgIHJvdzogcm93LFxuICAgICAgICAgICAgICAgIGNvbHVtbjogY29sdW1uXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9zID0gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudChyb3csIGNvbHVtbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5yb3cgPT0gcG9zLnJvdyAmJiB0aGlzLmNvbHVtbiA9PSBwb3MuY29sdW1uKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciBvbGQgPSB7XG4gICAgICAgICAgICByb3c6IHRoaXMucm93LFxuICAgICAgICAgICAgY29sdW1uOiB0aGlzLmNvbHVtblxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMucm93ID0gcG9zLnJvdztcbiAgICAgICAgdGhpcy5jb2x1bW4gPSBwb3MuY29sdW1uO1xuICAgICAgICB0aGlzLl9lbWl0KFwiY2hhbmdlXCIsIHtcbiAgICAgICAgICAgIG9sZDogb2xkLFxuICAgICAgICAgICAgdmFsdWU6IHBvc1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5kZXRhY2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIHRoaXMuJG9uQ2hhbmdlKTtcbiAgICB9O1xuICAgIHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICB2YXIgcG9zID0ge307XG5cbiAgICAgICAgaWYgKHJvdyA+PSB0aGlzLmRvY3VtZW50LmdldExlbmd0aCgpKSB7XG4gICAgICAgICAgICBwb3Mucm93ID0gTWF0aC5tYXgoMCwgdGhpcy5kb2N1bWVudC5nZXRMZW5ndGgoKSAtIDEpO1xuICAgICAgICAgICAgcG9zLmNvbHVtbiA9IHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocm93IDwgMCkge1xuICAgICAgICAgICAgcG9zLnJvdyA9IDA7XG4gICAgICAgICAgICBwb3MuY29sdW1uID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBvcy5yb3cgPSByb3c7XG4gICAgICAgICAgICBwb3MuY29sdW1uID0gTWF0aC5taW4odGhpcy5kb2N1bWVudC5nZXRMaW5lKHBvcy5yb3cpLmxlbmd0aCwgTWF0aC5tYXgoMCwgY29sdW1uKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29sdW1uIDwgMClcbiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSAwO1xuXG4gICAgICAgIHJldHVybiBwb3M7XG4gICAgfTtcblxufSkuY2FsbChBbmNob3IucHJvdG90eXBlKTtcblxufSk7XG5cbmFjZS5kZWZpbmUoJ2FjZS9iYWNrZ3JvdW5kX3Rva2VuaXplcicsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyAsICdhY2UvbGliL29vcCcsICdhY2UvbGliL2V2ZW50X2VtaXR0ZXInXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4vbGliL29vcFwiKTtcbnZhciBFdmVudEVtaXR0ZXIgPSBhY2VxdWlyZShcIi4vbGliL2V2ZW50X2VtaXR0ZXJcIikuRXZlbnRFbWl0dGVyO1xuXG52YXIgQmFja2dyb3VuZFRva2VuaXplciA9IGZ1bmN0aW9uKHRva2VuaXplciwgZWRpdG9yKSB7XG4gICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgdGhpcy5saW5lcyA9IFtdO1xuICAgIHRoaXMuc3RhdGVzID0gW107XG4gICAgdGhpcy5jdXJyZW50TGluZSA9IDA7XG4gICAgdGhpcy50b2tlbml6ZXIgPSB0b2tlbml6ZXI7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB0aGlzLiR3b3JrZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFzZWxmLnJ1bm5pbmcpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgdmFyIHdvcmtlclN0YXJ0ID0gbmV3IERhdGUoKTtcbiAgICAgICAgdmFyIHN0YXJ0TGluZSA9IHNlbGYuY3VycmVudExpbmU7XG4gICAgICAgIHZhciBkb2MgPSBzZWxmLmRvYztcblxuICAgICAgICB2YXIgcHJvY2Vzc2VkTGluZXMgPSAwO1xuXG4gICAgICAgIHZhciBsZW4gPSBkb2MuZ2V0TGVuZ3RoKCk7XG4gICAgICAgIHdoaWxlIChzZWxmLmN1cnJlbnRMaW5lIDwgbGVuKSB7XG4gICAgICAgICAgICBzZWxmLiR0b2tlbml6ZVJvdyhzZWxmLmN1cnJlbnRMaW5lKTtcbiAgICAgICAgICAgIHdoaWxlIChzZWxmLmxpbmVzW3NlbGYuY3VycmVudExpbmVdKVxuICAgICAgICAgICAgICAgIHNlbGYuY3VycmVudExpbmUrKztcbiAgICAgICAgICAgIHByb2Nlc3NlZExpbmVzICsrO1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzZWRMaW5lcyAlIDUgPT0gMCkgJiYgKG5ldyBEYXRlKCkgLSB3b3JrZXJTdGFydCkgPiAyMCkge1xuICAgICAgICAgICAgICAgIHNlbGYuZmlyZVVwZGF0ZUV2ZW50KHN0YXJ0TGluZSwgc2VsZi5jdXJyZW50TGluZS0xKTtcbiAgICAgICAgICAgICAgICBzZWxmLnJ1bm5pbmcgPSBzZXRUaW1lb3V0KHNlbGYuJHdvcmtlciwgMjApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYucnVubmluZyA9IGZhbHNlO1xuXG4gICAgICAgIHNlbGYuZmlyZVVwZGF0ZUV2ZW50KHN0YXJ0TGluZSwgbGVuIC0gMSk7XG4gICAgfTtcbn07XG5cbihmdW5jdGlvbigpe1xuXG4gICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpO1xuICAgIHRoaXMuc2V0VG9rZW5pemVyID0gZnVuY3Rpb24odG9rZW5pemVyKSB7XG4gICAgICAgIHRoaXMudG9rZW5pemVyID0gdG9rZW5pemVyO1xuICAgICAgICB0aGlzLmxpbmVzID0gW107XG4gICAgICAgIHRoaXMuc3RhdGVzID0gW107XG5cbiAgICAgICAgdGhpcy5zdGFydCgwKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0RG9jdW1lbnQgPSBmdW5jdGlvbihkb2MpIHtcbiAgICAgICAgdGhpcy5kb2MgPSBkb2M7XG4gICAgICAgIHRoaXMubGluZXMgPSBbXTtcbiAgICAgICAgdGhpcy5zdGF0ZXMgPSBbXTtcblxuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICB9O1xuICAgIHRoaXMuZmlyZVVwZGF0ZUV2ZW50ID0gZnVuY3Rpb24oZmlyc3RSb3csIGxhc3RSb3cpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgICBmaXJzdDogZmlyc3RSb3csXG4gICAgICAgICAgICBsYXN0OiBsYXN0Um93XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2VtaXQoXCJ1cGRhdGVcIiwge2RhdGE6IGRhdGF9KTtcbiAgICB9O1xuICAgIHRoaXMuc3RhcnQgPSBmdW5jdGlvbihzdGFydFJvdykge1xuICAgICAgICB0aGlzLmN1cnJlbnRMaW5lID0gTWF0aC5taW4oc3RhcnRSb3cgfHwgMCwgdGhpcy5jdXJyZW50TGluZSwgdGhpcy5kb2MuZ2V0TGVuZ3RoKCkpO1xuICAgICAgICB0aGlzLmxpbmVzLnNwbGljZSh0aGlzLmN1cnJlbnRMaW5lLCB0aGlzLmxpbmVzLmxlbmd0aCk7XG4gICAgICAgIHRoaXMuc3RhdGVzLnNwbGljZSh0aGlzLmN1cnJlbnRMaW5lLCB0aGlzLnN0YXRlcy5sZW5ndGgpO1xuXG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICB0aGlzLnJ1bm5pbmcgPSBzZXRUaW1lb3V0KHRoaXMuJHdvcmtlciwgNzAwKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kdXBkYXRlT25DaGFuZ2UgPSBmdW5jdGlvbihkZWx0YSkge1xuICAgICAgICB2YXIgcmFuZ2UgPSBkZWx0YS5yYW5nZTtcbiAgICAgICAgdmFyIHN0YXJ0Um93ID0gcmFuZ2Uuc3RhcnQucm93O1xuICAgICAgICB2YXIgbGVuID0gcmFuZ2UuZW5kLnJvdyAtIHN0YXJ0Um93O1xuXG4gICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMubGluZXNbc3RhcnRSb3ddID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmIChkZWx0YS5hY3Rpb24gPT0gXCJyZW1vdmVUZXh0XCIgfHwgZGVsdGEuYWN0aW9uID09IFwicmVtb3ZlTGluZXNcIikge1xuICAgICAgICAgICAgdGhpcy5saW5lcy5zcGxpY2Uoc3RhcnRSb3csIGxlbiArIDEsIG51bGwpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZXMuc3BsaWNlKHN0YXJ0Um93LCBsZW4gKyAxLCBudWxsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkobGVuICsgMSk7XG4gICAgICAgICAgICBhcmdzLnVuc2hpZnQoc3RhcnRSb3csIDEpO1xuICAgICAgICAgICAgdGhpcy5saW5lcy5zcGxpY2UuYXBwbHkodGhpcy5saW5lcywgYXJncyk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlcy5zcGxpY2UuYXBwbHkodGhpcy5zdGF0ZXMsIGFyZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJyZW50TGluZSA9IE1hdGgubWluKHN0YXJ0Um93LCB0aGlzLmN1cnJlbnRMaW5lLCB0aGlzLmRvYy5nZXRMZW5ndGgoKSk7XG5cbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIHRoaXMucnVubmluZyA9IHNldFRpbWVvdXQodGhpcy4kd29ya2VyLCA3MDApO1xuICAgIH07XG4gICAgdGhpcy5zdG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnJ1bm5pbmcpXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5ydW5uaW5nKTtcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgfTtcbiAgICB0aGlzLmdldFRva2VucyA9IGZ1bmN0aW9uKHJvdykge1xuICAgICAgICByZXR1cm4gdGhpcy5saW5lc1tyb3ddIHx8IHRoaXMuJHRva2VuaXplUm93KHJvdyk7XG4gICAgfTtcbiAgICB0aGlzLmdldFN0YXRlID0gZnVuY3Rpb24ocm93KSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRMaW5lID09IHJvdylcbiAgICAgICAgICAgIHRoaXMuJHRva2VuaXplUm93KHJvdyk7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlc1tyb3ddIHx8IFwic3RhcnRcIjtcbiAgICB9O1xuXG4gICAgdGhpcy4kdG9rZW5pemVSb3cgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgdmFyIGxpbmUgPSB0aGlzLmRvYy5nZXRMaW5lKHJvdyk7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGVzW3JvdyAtIDFdO1xuXG4gICAgICAgIHZhciBkYXRhID0gdGhpcy50b2tlbml6ZXIuZ2V0TGluZVRva2VucyhsaW5lLCBzdGF0ZSwgcm93KTtcblxuICAgICAgICBpZiAodGhpcy5zdGF0ZXNbcm93XSArIFwiXCIgIT09IGRhdGEuc3RhdGUgKyBcIlwiKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlc1tyb3ddID0gZGF0YS5zdGF0ZTtcbiAgICAgICAgICAgIHRoaXMubGluZXNbcm93ICsgMV0gPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudExpbmUgPiByb3cgKyAxKVxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExpbmUgPSByb3cgKyAxO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY3VycmVudExpbmUgPT0gcm93KSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRMaW5lID0gcm93ICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVzW3Jvd10gPSBkYXRhLnRva2VucztcbiAgICB9O1xuXG59KS5jYWxsKEJhY2tncm91bmRUb2tlbml6ZXIucHJvdG90eXBlKTtcblxuZXhwb3J0cy5CYWNrZ3JvdW5kVG9rZW5pemVyID0gQmFja2dyb3VuZFRva2VuaXplcjtcbn0pO1xuXG5hY2UuZGVmaW5lKCdhY2Uvc2VhcmNoX2hpZ2hsaWdodCcsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyAsICdhY2UvbGliL2xhbmcnLCAnYWNlL2xpYi9vb3AnLCAnYWNlL3JhbmdlJ10sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuXG52YXIgbGFuZyA9IGFjZXF1aXJlKFwiLi9saWIvbGFuZ1wiKTtcbnZhciBvb3AgPSBhY2VxdWlyZShcIi4vbGliL29vcFwiKTtcbnZhciBSYW5nZSA9IGFjZXF1aXJlKFwiLi9yYW5nZVwiKS5SYW5nZTtcblxudmFyIFNlYXJjaEhpZ2hsaWdodCA9IGZ1bmN0aW9uKHJlZ0V4cCwgY2xhenosIHR5cGUpIHtcbiAgICB0aGlzLnNldFJlZ2V4cChyZWdFeHApO1xuICAgIHRoaXMuY2xhenogPSBjbGF6ejtcbiAgICB0aGlzLnR5cGUgPSB0eXBlIHx8IFwidGV4dFwiO1xufTtcblxuKGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuTUFYX1JBTkdFUyA9IDUwMDtcbiAgICBcbiAgICB0aGlzLnNldFJlZ2V4cCA9IGZ1bmN0aW9uKHJlZ0V4cCkge1xuICAgICAgICBpZiAodGhpcy5yZWdFeHArXCJcIiA9PSByZWdFeHArXCJcIilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5yZWdFeHAgPSByZWdFeHA7XG4gICAgICAgIHRoaXMuY2FjaGUgPSBbXTtcbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbihodG1sLCBtYXJrZXJMYXllciwgc2Vzc2lvbiwgY29uZmlnKSB7XG4gICAgICAgIGlmICghdGhpcy5yZWdFeHApXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBzdGFydCA9IGNvbmZpZy5maXJzdFJvdywgZW5kID0gY29uZmlnLmxhc3RSb3c7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDw9IGVuZDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2VzID0gdGhpcy5jYWNoZVtpXTtcbiAgICAgICAgICAgIGlmIChyYW5nZXMgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJhbmdlcyA9IGxhbmcuZ2V0TWF0Y2hPZmZzZXRzKHNlc3Npb24uZ2V0TGluZShpKSwgdGhpcy5yZWdFeHApO1xuICAgICAgICAgICAgICAgIGlmIChyYW5nZXMubGVuZ3RoID4gdGhpcy5NQVhfUkFOR0VTKVxuICAgICAgICAgICAgICAgICAgICByYW5nZXMgPSByYW5nZXMuc2xpY2UoMCwgdGhpcy5NQVhfUkFOR0VTKTtcbiAgICAgICAgICAgICAgICByYW5nZXMgPSByYW5nZXMubWFwKGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmFuZ2UoaSwgbWF0Y2gub2Zmc2V0LCBpLCBtYXRjaC5vZmZzZXQgKyBtYXRjaC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVbaV0gPSByYW5nZXMubGVuZ3RoID8gcmFuZ2VzIDogXCJcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IHJhbmdlcy5sZW5ndGg7IGogLS07ICkge1xuICAgICAgICAgICAgICAgIG1hcmtlckxheWVyLmRyYXdTaW5nbGVMaW5lTWFya2VyKFxuICAgICAgICAgICAgICAgICAgICBodG1sLCByYW5nZXNbal0udG9TY3JlZW5SYW5nZShzZXNzaW9uKSwgdGhpcy5jbGF6eiwgY29uZmlnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbn0pLmNhbGwoU2VhcmNoSGlnaGxpZ2h0LnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuU2VhcmNoSGlnaGxpZ2h0ID0gU2VhcmNoSGlnaGxpZ2h0O1xufSk7XG5cbmFjZS5kZWZpbmUoJ2FjZS9lZGl0X3Nlc3Npb24vZm9sZGluZycsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyAsICdhY2UvcmFuZ2UnLCAnYWNlL2VkaXRfc2Vzc2lvbi9mb2xkX2xpbmUnLCAnYWNlL2VkaXRfc2Vzc2lvbi9mb2xkJywgJ2FjZS90b2tlbl9pdGVyYXRvciddLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cblxudmFyIFJhbmdlID0gYWNlcXVpcmUoXCIuLi9yYW5nZVwiKS5SYW5nZTtcbnZhciBGb2xkTGluZSA9IGFjZXF1aXJlKFwiLi9mb2xkX2xpbmVcIikuRm9sZExpbmU7XG52YXIgRm9sZCA9IGFjZXF1aXJlKFwiLi9mb2xkXCIpLkZvbGQ7XG52YXIgVG9rZW5JdGVyYXRvciA9IGFjZXF1aXJlKFwiLi4vdG9rZW5faXRlcmF0b3JcIikuVG9rZW5JdGVyYXRvcjtcblxuZnVuY3Rpb24gRm9sZGluZygpIHtcbiAgICB0aGlzLmdldEZvbGRBdCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uLCBzaWRlKSB7XG4gICAgICAgIHZhciBmb2xkTGluZSA9IHRoaXMuZ2V0Rm9sZExpbmUocm93KTtcbiAgICAgICAgaWYgKCFmb2xkTGluZSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgIHZhciBmb2xkcyA9IGZvbGRMaW5lLmZvbGRzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZm9sZCA9IGZvbGRzW2ldO1xuICAgICAgICAgICAgaWYgKGZvbGQucmFuZ2UuY29udGFpbnMocm93LCBjb2x1bW4pKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNpZGUgPT0gMSAmJiBmb2xkLnJhbmdlLmlzRW5kKHJvdywgY29sdW1uKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNpZGUgPT0gLTEgJiYgZm9sZC5yYW5nZS5pc1N0YXJ0KHJvdywgY29sdW1uKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZ2V0Rm9sZHNJblJhbmdlID0gZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gcmFuZ2Uuc3RhcnQ7XG4gICAgICAgIHZhciBlbmQgPSByYW5nZS5lbmQ7XG4gICAgICAgIHZhciBmb2xkTGluZXMgPSB0aGlzLiRmb2xkRGF0YTtcbiAgICAgICAgdmFyIGZvdW5kRm9sZHMgPSBbXTtcblxuICAgICAgICBzdGFydC5jb2x1bW4gKz0gMTtcbiAgICAgICAgZW5kLmNvbHVtbiAtPSAxO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9sZExpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY21wID0gZm9sZExpbmVzW2ldLnJhbmdlLmNvbXBhcmVSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICBpZiAoY21wID09IDIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNtcCA9PSAtMikge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZm9sZHMgPSBmb2xkTGluZXNbaV0uZm9sZHM7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGZvbGRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZvbGQgPSBmb2xkc1tqXTtcbiAgICAgICAgICAgICAgICBjbXAgPSBmb2xkLnJhbmdlLmNvbXBhcmVSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICAgICAgaWYgKGNtcCA9PSAtMikge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNtcCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgIGlmIChjbXAgPT0gNDIpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvdW5kRm9sZHMucHVzaChmb2xkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdGFydC5jb2x1bW4gLT0gMTtcbiAgICAgICAgZW5kLmNvbHVtbiArPSAxO1xuXG4gICAgICAgIHJldHVybiBmb3VuZEZvbGRzO1xuICAgIH07XG4gICAgdGhpcy5nZXRBbGxGb2xkcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZm9sZHMgPSBbXTtcbiAgICAgICAgdmFyIGZvbGRMaW5lcyA9IHRoaXMuJGZvbGREYXRhO1xuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gYWRkRm9sZChmb2xkKSB7XG4gICAgICAgICAgICBmb2xkcy5wdXNoKGZvbGQpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvbGRMaW5lcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZm9sZExpbmVzW2ldLmZvbGRzLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgICAgIGFkZEZvbGQoZm9sZExpbmVzW2ldLmZvbGRzW2pdKTtcblxuICAgICAgICByZXR1cm4gZm9sZHM7XG4gICAgfTtcbiAgICB0aGlzLmdldEZvbGRTdHJpbmdBdCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uLCB0cmltLCBmb2xkTGluZSkge1xuICAgICAgICBmb2xkTGluZSA9IGZvbGRMaW5lIHx8IHRoaXMuZ2V0Rm9sZExpbmUocm93KTtcbiAgICAgICAgaWYgKCFmb2xkTGluZSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgIHZhciBsYXN0Rm9sZCA9IHtcbiAgICAgICAgICAgIGVuZDogeyBjb2x1bW46IDAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgc3RyLCBmb2xkO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvbGRMaW5lLmZvbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb2xkID0gZm9sZExpbmUuZm9sZHNbaV07XG4gICAgICAgICAgICB2YXIgY21wID0gZm9sZC5yYW5nZS5jb21wYXJlRW5kKHJvdywgY29sdW1uKTtcbiAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBzdHIgPSB0aGlzXG4gICAgICAgICAgICAgICAgICAgIC5nZXRMaW5lKGZvbGQuc3RhcnQucm93KVxuICAgICAgICAgICAgICAgICAgICAuc3Vic3RyaW5nKGxhc3RGb2xkLmVuZC5jb2x1bW4sIGZvbGQuc3RhcnQuY29sdW1uKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNtcCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdEZvbGQgPSBmb2xkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc3RyKVxuICAgICAgICAgICAgc3RyID0gdGhpcy5nZXRMaW5lKGZvbGQuc3RhcnQucm93KS5zdWJzdHJpbmcobGFzdEZvbGQuZW5kLmNvbHVtbik7XG5cbiAgICAgICAgaWYgKHRyaW0gPT0gLTEpXG4gICAgICAgICAgICByZXR1cm4gc3RyLnN1YnN0cmluZygwLCBjb2x1bW4gLSBsYXN0Rm9sZC5lbmQuY29sdW1uKTtcbiAgICAgICAgZWxzZSBpZiAodHJpbSA9PSAxKVxuICAgICAgICAgICAgcmV0dXJuIHN0ci5zdWJzdHJpbmcoY29sdW1uIC0gbGFzdEZvbGQuZW5kLmNvbHVtbik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Rm9sZExpbmUgPSBmdW5jdGlvbihkb2NSb3csIHN0YXJ0Rm9sZExpbmUpIHtcbiAgICAgICAgdmFyIGZvbGREYXRhID0gdGhpcy4kZm9sZERhdGE7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgaWYgKHN0YXJ0Rm9sZExpbmUpXG4gICAgICAgICAgICBpID0gZm9sZERhdGEuaW5kZXhPZihzdGFydEZvbGRMaW5lKTtcbiAgICAgICAgaWYgKGkgPT0gLTEpXG4gICAgICAgICAgICBpID0gMDtcbiAgICAgICAgZm9yIChpOyBpIDwgZm9sZERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBmb2xkTGluZSA9IGZvbGREYXRhW2ldO1xuICAgICAgICAgICAgaWYgKGZvbGRMaW5lLnN0YXJ0LnJvdyA8PSBkb2NSb3cgJiYgZm9sZExpbmUuZW5kLnJvdyA+PSBkb2NSb3cpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9sZExpbmU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZvbGRMaW5lLmVuZC5yb3cgPiBkb2NSb3cpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIHRoaXMuZ2V0TmV4dEZvbGRMaW5lID0gZnVuY3Rpb24oZG9jUm93LCBzdGFydEZvbGRMaW5lKSB7XG4gICAgICAgIHZhciBmb2xkRGF0YSA9IHRoaXMuJGZvbGREYXRhO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIGlmIChzdGFydEZvbGRMaW5lKVxuICAgICAgICAgICAgaSA9IGZvbGREYXRhLmluZGV4T2Yoc3RhcnRGb2xkTGluZSk7XG4gICAgICAgIGlmIChpID09IC0xKVxuICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgIGZvciAoaTsgaSA8IGZvbGREYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZm9sZExpbmUgPSBmb2xkRGF0YVtpXTtcbiAgICAgICAgICAgIGlmIChmb2xkTGluZS5lbmQucm93ID49IGRvY1Jvdykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmb2xkTGluZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRGb2xkZWRSb3dDb3VudCA9IGZ1bmN0aW9uKGZpcnN0LCBsYXN0KSB7XG4gICAgICAgIHZhciBmb2xkRGF0YSA9IHRoaXMuJGZvbGREYXRhLCByb3dDb3VudCA9IGxhc3QtZmlyc3QrMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb2xkRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGZvbGRMaW5lID0gZm9sZERhdGFbaV0sXG4gICAgICAgICAgICAgICAgZW5kID0gZm9sZExpbmUuZW5kLnJvdyxcbiAgICAgICAgICAgICAgICBzdGFydCA9IGZvbGRMaW5lLnN0YXJ0LnJvdztcbiAgICAgICAgICAgIGlmIChlbmQgPj0gbGFzdCkge1xuICAgICAgICAgICAgICAgIGlmKHN0YXJ0IDwgbGFzdCkge1xuICAgICAgICAgICAgICAgICAgICBpZihzdGFydCA+PSBmaXJzdClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd0NvdW50IC09IGxhc3Qtc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd0NvdW50ID0gMDsvL2luIG9uZSBmb2xkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIGlmKGVuZCA+PSBmaXJzdCl7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0ID49IGZpcnN0KSAvL2ZvbGQgaW5zaWRlIHJhbmdlXG4gICAgICAgICAgICAgICAgICAgIHJvd0NvdW50IC09ICBlbmQtc3RhcnQ7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByb3dDb3VudCAtPSAgZW5kLWZpcnN0KzE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJvd0NvdW50O1xuICAgIH07XG5cbiAgICB0aGlzLiRhZGRGb2xkTGluZSA9IGZ1bmN0aW9uKGZvbGRMaW5lKSB7XG4gICAgICAgIHRoaXMuJGZvbGREYXRhLnB1c2goZm9sZExpbmUpO1xuICAgICAgICB0aGlzLiRmb2xkRGF0YS5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBhLnN0YXJ0LnJvdyAtIGIuc3RhcnQucm93O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZvbGRMaW5lO1xuICAgIH07XG4gICAgdGhpcy5hZGRGb2xkID0gZnVuY3Rpb24ocGxhY2Vob2xkZXIsIHJhbmdlKSB7XG4gICAgICAgIHZhciBmb2xkRGF0YSA9IHRoaXMuJGZvbGREYXRhO1xuICAgICAgICB2YXIgYWRkZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGZvbGQ7XG4gICAgICAgIFxuICAgICAgICBpZiAocGxhY2Vob2xkZXIgaW5zdGFuY2VvZiBGb2xkKVxuICAgICAgICAgICAgZm9sZCA9IHBsYWNlaG9sZGVyO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvbGQgPSBuZXcgRm9sZChyYW5nZSwgcGxhY2Vob2xkZXIpO1xuICAgICAgICAgICAgZm9sZC5jb2xsYXBzZUNoaWxkcmVuID0gcmFuZ2UuY29sbGFwc2VDaGlsZHJlbjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRjbGlwUmFuZ2VUb0RvY3VtZW50KGZvbGQucmFuZ2UpO1xuXG4gICAgICAgIHZhciBzdGFydFJvdyA9IGZvbGQuc3RhcnQucm93O1xuICAgICAgICB2YXIgc3RhcnRDb2x1bW4gPSBmb2xkLnN0YXJ0LmNvbHVtbjtcbiAgICAgICAgdmFyIGVuZFJvdyA9IGZvbGQuZW5kLnJvdztcbiAgICAgICAgdmFyIGVuZENvbHVtbiA9IGZvbGQuZW5kLmNvbHVtbjtcbiAgICAgICAgaWYgKHN0YXJ0Um93ID09IGVuZFJvdyAmJiBlbmRDb2x1bW4gLSBzdGFydENvbHVtbiA8IDIpXG4gICAgICAgICAgICB0aHJvdyBcIlRoZSByYW5nZSBoYXMgdG8gYmUgYXQgbGVhc3QgMiBjaGFyYWN0ZXJzIHdpZHRoXCI7XG5cbiAgICAgICAgdmFyIHN0YXJ0Rm9sZCA9IHRoaXMuZ2V0Rm9sZEF0KHN0YXJ0Um93LCBzdGFydENvbHVtbiwgMSk7XG4gICAgICAgIHZhciBlbmRGb2xkID0gdGhpcy5nZXRGb2xkQXQoZW5kUm93LCBlbmRDb2x1bW4sIC0xKTtcbiAgICAgICAgaWYgKHN0YXJ0Rm9sZCAmJiBlbmRGb2xkID09IHN0YXJ0Rm9sZClcbiAgICAgICAgICAgIHJldHVybiBzdGFydEZvbGQuYWRkU3ViRm9sZChmb2xkKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICAoc3RhcnRGb2xkICYmICFzdGFydEZvbGQucmFuZ2UuaXNTdGFydChzdGFydFJvdywgc3RhcnRDb2x1bW4pKVxuICAgICAgICAgICAgfHwgKGVuZEZvbGQgJiYgIWVuZEZvbGQucmFuZ2UuaXNFbmQoZW5kUm93LCBlbmRDb2x1bW4pKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRocm93IFwiQSBmb2xkIGNhbid0IGludGVyc2VjdCBhbHJlYWR5IGV4aXN0aW5nIGZvbGRcIiArIGZvbGQucmFuZ2UgKyBzdGFydEZvbGQucmFuZ2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZvbGRzID0gdGhpcy5nZXRGb2xkc0luUmFuZ2UoZm9sZC5yYW5nZSk7XG4gICAgICAgIGlmIChmb2xkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUZvbGRzKGZvbGRzKTtcbiAgICAgICAgICAgIGZvbGRzLmZvckVhY2goZnVuY3Rpb24oc3ViRm9sZCkge1xuICAgICAgICAgICAgICAgIGZvbGQuYWRkU3ViRm9sZChzdWJGb2xkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb2xkRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGZvbGRMaW5lID0gZm9sZERhdGFbaV07XG4gICAgICAgICAgICBpZiAoZW5kUm93ID09IGZvbGRMaW5lLnN0YXJ0LnJvdykge1xuICAgICAgICAgICAgICAgIGZvbGRMaW5lLmFkZEZvbGQoZm9sZCk7XG4gICAgICAgICAgICAgICAgYWRkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdGFydFJvdyA9PSBmb2xkTGluZS5lbmQucm93KSB7XG4gICAgICAgICAgICAgICAgZm9sZExpbmUuYWRkRm9sZChmb2xkKTtcbiAgICAgICAgICAgICAgICBhZGRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKCFmb2xkLnNhbWVSb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvbGRMaW5lTmV4dCA9IGZvbGREYXRhW2kgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvbGRMaW5lTmV4dCAmJiBmb2xkTGluZU5leHQuc3RhcnQucm93ID09IGVuZFJvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9sZExpbmUubWVyZ2UoZm9sZExpbmVOZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlbmRSb3cgPD0gZm9sZExpbmUuc3RhcnQucm93KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWFkZGVkKVxuICAgICAgICAgICAgZm9sZExpbmUgPSB0aGlzLiRhZGRGb2xkTGluZShuZXcgRm9sZExpbmUodGhpcy4kZm9sZERhdGEsIGZvbGQpKTtcblxuICAgICAgICBpZiAodGhpcy4kdXNlV3JhcE1vZGUpXG4gICAgICAgICAgICB0aGlzLiR1cGRhdGVXcmFwRGF0YShmb2xkTGluZS5zdGFydC5yb3csIGZvbGRMaW5lLnN0YXJ0LnJvdyk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuJHVwZGF0ZVJvd0xlbmd0aENhY2hlKGZvbGRMaW5lLnN0YXJ0LnJvdywgZm9sZExpbmUuc3RhcnQucm93KTtcbiAgICAgICAgdGhpcy4kbW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9lbWl0KFwiY2hhbmdlRm9sZFwiLCB7IGRhdGE6IGZvbGQsIGFjdGlvbjogXCJhZGRcIiB9KTtcblxuICAgICAgICByZXR1cm4gZm9sZDtcbiAgICB9O1xuXG4gICAgdGhpcy5hZGRGb2xkcyA9IGZ1bmN0aW9uKGZvbGRzKSB7XG4gICAgICAgIGZvbGRzLmZvckVhY2goZnVuY3Rpb24oZm9sZCkge1xuICAgICAgICAgICAgdGhpcy5hZGRGb2xkKGZvbGQpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9O1xuXG4gICAgdGhpcy5yZW1vdmVGb2xkID0gZnVuY3Rpb24oZm9sZCkge1xuICAgICAgICB2YXIgZm9sZExpbmUgPSBmb2xkLmZvbGRMaW5lO1xuICAgICAgICB2YXIgc3RhcnRSb3cgPSBmb2xkTGluZS5zdGFydC5yb3c7XG4gICAgICAgIHZhciBlbmRSb3cgPSBmb2xkTGluZS5lbmQucm93O1xuXG4gICAgICAgIHZhciBmb2xkTGluZXMgPSB0aGlzLiRmb2xkRGF0YTtcbiAgICAgICAgdmFyIGZvbGRzID0gZm9sZExpbmUuZm9sZHM7XG4gICAgICAgIGlmIChmb2xkcy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgZm9sZExpbmVzLnNwbGljZShmb2xkTGluZXMuaW5kZXhPZihmb2xkTGluZSksIDEpO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgaWYgKGZvbGRMaW5lLnJhbmdlLmlzRW5kKGZvbGQuZW5kLnJvdywgZm9sZC5lbmQuY29sdW1uKSkge1xuICAgICAgICAgICAgZm9sZHMucG9wKCk7XG4gICAgICAgICAgICBmb2xkTGluZS5lbmQucm93ID0gZm9sZHNbZm9sZHMubGVuZ3RoIC0gMV0uZW5kLnJvdztcbiAgICAgICAgICAgIGZvbGRMaW5lLmVuZC5jb2x1bW4gPSBmb2xkc1tmb2xkcy5sZW5ndGggLSAxXS5lbmQuY29sdW1uO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgaWYgKGZvbGRMaW5lLnJhbmdlLmlzU3RhcnQoZm9sZC5zdGFydC5yb3csIGZvbGQuc3RhcnQuY29sdW1uKSkge1xuICAgICAgICAgICAgZm9sZHMuc2hpZnQoKTtcbiAgICAgICAgICAgIGZvbGRMaW5lLnN0YXJ0LnJvdyA9IGZvbGRzWzBdLnN0YXJ0LnJvdztcbiAgICAgICAgICAgIGZvbGRMaW5lLnN0YXJ0LmNvbHVtbiA9IGZvbGRzWzBdLnN0YXJ0LmNvbHVtbjtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgIGlmIChmb2xkLnNhbWVSb3cpIHtcbiAgICAgICAgICAgIGZvbGRzLnNwbGljZShmb2xkcy5pbmRleE9mKGZvbGQpLCAxKTtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBuZXdGb2xkTGluZSA9IGZvbGRMaW5lLnNwbGl0KGZvbGQuc3RhcnQucm93LCBmb2xkLnN0YXJ0LmNvbHVtbik7XG4gICAgICAgICAgICBmb2xkcyA9IG5ld0ZvbGRMaW5lLmZvbGRzO1xuICAgICAgICAgICAgZm9sZHMuc2hpZnQoKTtcbiAgICAgICAgICAgIG5ld0ZvbGRMaW5lLnN0YXJ0LnJvdyA9IGZvbGRzWzBdLnN0YXJ0LnJvdztcbiAgICAgICAgICAgIG5ld0ZvbGRMaW5lLnN0YXJ0LmNvbHVtbiA9IGZvbGRzWzBdLnN0YXJ0LmNvbHVtbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy4kdXBkYXRpbmcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiR1c2VXcmFwTW9kZSlcbiAgICAgICAgICAgICAgICB0aGlzLiR1cGRhdGVXcmFwRGF0YShzdGFydFJvdywgZW5kUm93KTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLiR1cGRhdGVSb3dMZW5ndGhDYWNoZShzdGFydFJvdywgZW5kUm93KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRtb2RpZmllZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2VtaXQoXCJjaGFuZ2VGb2xkXCIsIHsgZGF0YTogZm9sZCwgYWN0aW9uOiBcInJlbW92ZVwiIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbW92ZUZvbGRzID0gZnVuY3Rpb24oZm9sZHMpIHtcbiAgICAgICAgdmFyIGNsb25lRm9sZHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb2xkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2xvbmVGb2xkcy5wdXNoKGZvbGRzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsb25lRm9sZHMuZm9yRWFjaChmdW5jdGlvbihmb2xkKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUZvbGQoZm9sZCk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB0aGlzLiRtb2RpZmllZCA9IHRydWU7XG4gICAgfTtcblxuICAgIHRoaXMuZXhwYW5kRm9sZCA9IGZ1bmN0aW9uKGZvbGQpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVGb2xkKGZvbGQpOyAgICAgICAgXG4gICAgICAgIGZvbGQuc3ViRm9sZHMuZm9yRWFjaChmdW5jdGlvbihzdWJGb2xkKSB7XG4gICAgICAgICAgICBmb2xkLnJlc3RvcmVSYW5nZShzdWJGb2xkKTtcbiAgICAgICAgICAgIHRoaXMuYWRkRm9sZChzdWJGb2xkKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIGlmIChmb2xkLmNvbGxhcHNlQ2hpbGRyZW4gPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmZvbGRBbGwoZm9sZC5zdGFydC5yb3crMSwgZm9sZC5lbmQucm93LCBmb2xkLmNvbGxhcHNlQ2hpbGRyZW4tMSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9sZC5zdWJGb2xkcyA9IFtdO1xuICAgIH07XG5cbiAgICB0aGlzLmV4cGFuZEZvbGRzID0gZnVuY3Rpb24oZm9sZHMpIHtcbiAgICAgICAgZm9sZHMuZm9yRWFjaChmdW5jdGlvbihmb2xkKSB7XG4gICAgICAgICAgICB0aGlzLmV4cGFuZEZvbGQoZm9sZCk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH07XG5cbiAgICB0aGlzLnVuZm9sZCA9IGZ1bmN0aW9uKGxvY2F0aW9uLCBleHBhbmRJbm5lcikge1xuICAgICAgICB2YXIgcmFuZ2UsIGZvbGRzO1xuICAgICAgICBpZiAobG9jYXRpb24gPT0gbnVsbCkge1xuICAgICAgICAgICAgcmFuZ2UgPSBuZXcgUmFuZ2UoMCwgMCwgdGhpcy5nZXRMZW5ndGgoKSwgMCk7XG4gICAgICAgICAgICBleHBhbmRJbm5lciA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGxvY2F0aW9uID09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICByYW5nZSA9IG5ldyBSYW5nZShsb2NhdGlvbiwgMCwgbG9jYXRpb24sIHRoaXMuZ2V0TGluZShsb2NhdGlvbikubGVuZ3RoKTtcbiAgICAgICAgZWxzZSBpZiAoXCJyb3dcIiBpbiBsb2NhdGlvbilcbiAgICAgICAgICAgIHJhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhsb2NhdGlvbiwgbG9jYXRpb24pO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByYW5nZSA9IGxvY2F0aW9uO1xuXG4gICAgICAgIGZvbGRzID0gdGhpcy5nZXRGb2xkc0luUmFuZ2UocmFuZ2UpO1xuICAgICAgICBpZiAoZXhwYW5kSW5uZXIpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRm9sZHMoZm9sZHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2hpbGUgKGZvbGRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXhwYW5kRm9sZHMoZm9sZHMpO1xuICAgICAgICAgICAgICAgIGZvbGRzID0gdGhpcy5nZXRGb2xkc0luUmFuZ2UocmFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmlzUm93Rm9sZGVkID0gZnVuY3Rpb24oZG9jUm93LCBzdGFydEZvbGRSb3cpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5nZXRGb2xkTGluZShkb2NSb3csIHN0YXJ0Rm9sZFJvdyk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Um93Rm9sZEVuZCA9IGZ1bmN0aW9uKGRvY1Jvdywgc3RhcnRGb2xkUm93KSB7XG4gICAgICAgIHZhciBmb2xkTGluZSA9IHRoaXMuZ2V0Rm9sZExpbmUoZG9jUm93LCBzdGFydEZvbGRSb3cpO1xuICAgICAgICByZXR1cm4gZm9sZExpbmUgPyBmb2xkTGluZS5lbmQucm93IDogZG9jUm93O1xuICAgIH07XG5cbiAgICB0aGlzLmdldFJvd0ZvbGRTdGFydCA9IGZ1bmN0aW9uKGRvY1Jvdywgc3RhcnRGb2xkUm93KSB7XG4gICAgICAgIHZhciBmb2xkTGluZSA9IHRoaXMuZ2V0Rm9sZExpbmUoZG9jUm93LCBzdGFydEZvbGRSb3cpO1xuICAgICAgICByZXR1cm4gZm9sZExpbmUgPyBmb2xkTGluZS5zdGFydC5yb3cgOiBkb2NSb3c7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Rm9sZERpc3BsYXlMaW5lID0gZnVuY3Rpb24oZm9sZExpbmUsIGVuZFJvdywgZW5kQ29sdW1uLCBzdGFydFJvdywgc3RhcnRDb2x1bW4pIHtcbiAgICAgICAgaWYgKHN0YXJ0Um93ID09IG51bGwpIHtcbiAgICAgICAgICAgIHN0YXJ0Um93ID0gZm9sZExpbmUuc3RhcnQucm93O1xuICAgICAgICAgICAgc3RhcnRDb2x1bW4gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVuZFJvdyA9PSBudWxsKSB7XG4gICAgICAgICAgICBlbmRSb3cgPSBmb2xkTGluZS5lbmQucm93O1xuICAgICAgICAgICAgZW5kQ29sdW1uID0gdGhpcy5nZXRMaW5lKGVuZFJvdykubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkb2MgPSB0aGlzLmRvYztcbiAgICAgICAgdmFyIHRleHRMaW5lID0gXCJcIjtcblxuICAgICAgICBmb2xkTGluZS53YWxrKGZ1bmN0aW9uKHBsYWNlaG9sZGVyLCByb3csIGNvbHVtbiwgbGFzdENvbHVtbikge1xuICAgICAgICAgICAgaWYgKHJvdyA8IHN0YXJ0Um93KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmIChyb3cgPT0gc3RhcnRSb3cpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uIDwgc3RhcnRDb2x1bW4pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBsYXN0Q29sdW1uID0gTWF0aC5tYXgoc3RhcnRDb2x1bW4sIGxhc3RDb2x1bW4pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGxhY2Vob2xkZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRleHRMaW5lICs9IHBsYWNlaG9sZGVyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZXh0TGluZSArPSBkb2MuZ2V0TGluZShyb3cpLnN1YnN0cmluZyhsYXN0Q29sdW1uLCBjb2x1bW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBlbmRSb3csIGVuZENvbHVtbik7XG4gICAgICAgIHJldHVybiB0ZXh0TGluZTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXREaXNwbGF5TGluZSA9IGZ1bmN0aW9uKHJvdywgZW5kQ29sdW1uLCBzdGFydFJvdywgc3RhcnRDb2x1bW4pIHtcbiAgICAgICAgdmFyIGZvbGRMaW5lID0gdGhpcy5nZXRGb2xkTGluZShyb3cpO1xuXG4gICAgICAgIGlmICghZm9sZExpbmUpIHtcbiAgICAgICAgICAgIHZhciBsaW5lO1xuICAgICAgICAgICAgbGluZSA9IHRoaXMuZG9jLmdldExpbmUocm93KTtcbiAgICAgICAgICAgIHJldHVybiBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbiB8fCAwLCBlbmRDb2x1bW4gfHwgbGluZS5sZW5ndGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Rm9sZERpc3BsYXlMaW5lKFxuICAgICAgICAgICAgICAgIGZvbGRMaW5lLCByb3csIGVuZENvbHVtbiwgc3RhcnRSb3csIHN0YXJ0Q29sdW1uKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLiRjbG9uZUZvbGREYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBmZCA9IFtdO1xuICAgICAgICBmZCA9IHRoaXMuJGZvbGREYXRhLm1hcChmdW5jdGlvbihmb2xkTGluZSkge1xuICAgICAgICAgICAgdmFyIGZvbGRzID0gZm9sZExpbmUuZm9sZHMubWFwKGZ1bmN0aW9uKGZvbGQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9sZC5jbG9uZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZvbGRMaW5lKGZkLCBmb2xkcyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBmZDtcbiAgICB9O1xuXG4gICAgdGhpcy50b2dnbGVGb2xkID0gZnVuY3Rpb24odHJ5VG9VbmZvbGQpIHtcbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMuc2VsZWN0aW9uO1xuICAgICAgICB2YXIgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2UoKTtcbiAgICAgICAgdmFyIGZvbGQ7XG4gICAgICAgIHZhciBicmFja2V0UG9zO1xuXG4gICAgICAgIGlmIChyYW5nZS5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHZhciBjdXJzb3IgPSByYW5nZS5zdGFydDtcbiAgICAgICAgICAgIGZvbGQgPSB0aGlzLmdldEZvbGRBdChjdXJzb3Iucm93LCBjdXJzb3IuY29sdW1uKTtcblxuICAgICAgICAgICAgaWYgKGZvbGQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV4cGFuZEZvbGQoZm9sZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChicmFja2V0UG9zID0gdGhpcy5maW5kTWF0Y2hpbmdCcmFja2V0KGN1cnNvcikpIHtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2UuY29tcGFyZVBvaW50KGJyYWNrZXRQb3MpID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UuZW5kID0gYnJhY2tldFBvcztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5zdGFydCA9IGJyYWNrZXRQb3M7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnN0YXJ0LmNvbHVtbisrO1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5lbmQuY29sdW1uLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChicmFja2V0UG9zID0gdGhpcy5maW5kTWF0Y2hpbmdCcmFja2V0KHtyb3c6IGN1cnNvci5yb3csIGNvbHVtbjogY3Vyc29yLmNvbHVtbiArIDF9KSkge1xuICAgICAgICAgICAgICAgIGlmIChyYW5nZS5jb21wYXJlUG9pbnQoYnJhY2tldFBvcykgPT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UuZW5kID0gYnJhY2tldFBvcztcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnN0YXJ0ID0gYnJhY2tldFBvcztcblxuICAgICAgICAgICAgICAgIHJhbmdlLnN0YXJ0LmNvbHVtbisrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByYW5nZSA9IHRoaXMuZ2V0Q29tbWVudEZvbGRSYW5nZShjdXJzb3Iucm93LCBjdXJzb3IuY29sdW1uKSB8fCByYW5nZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBmb2xkcyA9IHRoaXMuZ2V0Rm9sZHNJblJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgIGlmICh0cnlUb1VuZm9sZCAmJiBmb2xkcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV4cGFuZEZvbGRzKGZvbGRzKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZvbGRzLmxlbmd0aCA9PSAxICkge1xuICAgICAgICAgICAgICAgIGZvbGQgPSBmb2xkc1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZm9sZClcbiAgICAgICAgICAgIGZvbGQgPSB0aGlzLmdldEZvbGRBdChyYW5nZS5zdGFydC5yb3csIHJhbmdlLnN0YXJ0LmNvbHVtbik7XG5cbiAgICAgICAgaWYgKGZvbGQgJiYgZm9sZC5yYW5nZS50b1N0cmluZygpID09IHJhbmdlLnRvU3RyaW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZXhwYW5kRm9sZChmb2xkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwbGFjZWhvbGRlciA9IFwiLi4uXCI7XG4gICAgICAgIGlmICghcmFuZ2UuaXNNdWx0aUxpbmUoKSkge1xuICAgICAgICAgICAgcGxhY2Vob2xkZXIgPSB0aGlzLmdldFRleHRSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICBpZihwbGFjZWhvbGRlci5sZW5ndGggPCA0KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXIudHJpbSgpLnN1YnN0cmluZygwLCAyKSArIFwiLi5cIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWRkRm9sZChwbGFjZWhvbGRlciwgcmFuZ2UpO1xuICAgIH07XG5cbiAgICB0aGlzLmdldENvbW1lbnRGb2xkUmFuZ2UgPSBmdW5jdGlvbihyb3csIGNvbHVtbiwgZGlyKSB7XG4gICAgICAgIHZhciBpdGVyYXRvciA9IG5ldyBUb2tlbkl0ZXJhdG9yKHRoaXMsIHJvdywgY29sdW1uKTtcbiAgICAgICAgdmFyIHRva2VuID0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuKCk7XG4gICAgICAgIGlmICh0b2tlbiAmJiAvXmNvbW1lbnR8c3RyaW5nLy50ZXN0KHRva2VuLnR5cGUpKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgUmFuZ2UoKTtcbiAgICAgICAgICAgIHZhciByZSA9IG5ldyBSZWdFeHAodG9rZW4udHlwZS5yZXBsYWNlKC9cXC4uKi8sIFwiXFxcXC5cIikpO1xuICAgICAgICAgICAgaWYgKGRpciAhPSAxKSB7XG4gICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IGl0ZXJhdG9yLnN0ZXBCYWNrd2FyZCgpO1xuICAgICAgICAgICAgICAgIH0gd2hpbGUodG9rZW4gJiYgcmUudGVzdCh0b2tlbi50eXBlKSk7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3Iuc3RlcEZvcndhcmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmFuZ2Uuc3RhcnQucm93ID0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuUm93KCk7XG4gICAgICAgICAgICByYW5nZS5zdGFydC5jb2x1bW4gPSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKSArIDI7XG5cbiAgICAgICAgICAgIGl0ZXJhdG9yID0gbmV3IFRva2VuSXRlcmF0b3IodGhpcywgcm93LCBjb2x1bW4pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoZGlyICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IGl0ZXJhdG9yLnN0ZXBGb3J3YXJkKCk7XG4gICAgICAgICAgICAgICAgfSB3aGlsZSh0b2tlbiAmJiByZS50ZXN0KHRva2VuLnR5cGUpKTtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IGl0ZXJhdG9yLnN0ZXBCYWNrd2FyZCgpO1xuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgdG9rZW4gPSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW4oKTtcblxuICAgICAgICAgICAgcmFuZ2UuZW5kLnJvdyA9IGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlblJvdygpO1xuICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbiA9IGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpICsgdG9rZW4udmFsdWUubGVuZ3RoIC0gMjtcbiAgICAgICAgICAgIHJldHVybiByYW5nZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmZvbGRBbGwgPSBmdW5jdGlvbihzdGFydFJvdywgZW5kUm93LCBkZXB0aCkge1xuICAgICAgICBpZiAoZGVwdGggPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgZGVwdGggPSAxMDAwMDA7IC8vIEpTT04uc3RyaW5naWZ5IGRvZXNuJ3QgaGFubGUgSW5maW5pdHlcbiAgICAgICAgdmFyIGZvbGRXaWRnZXRzID0gdGhpcy5mb2xkV2lkZ2V0cztcbiAgICAgICAgZW5kUm93ID0gZW5kUm93IHx8IHRoaXMuZ2V0TGVuZ3RoKCk7XG4gICAgICAgIGZvciAodmFyIHJvdyA9IHN0YXJ0Um93IHx8IDA7IHJvdyA8IGVuZFJvdzsgcm93KyspIHtcbiAgICAgICAgICAgIGlmIChmb2xkV2lkZ2V0c1tyb3ddID09IG51bGwpXG4gICAgICAgICAgICAgICAgZm9sZFdpZGdldHNbcm93XSA9IHRoaXMuZ2V0Rm9sZFdpZGdldChyb3cpO1xuICAgICAgICAgICAgaWYgKGZvbGRXaWRnZXRzW3Jvd10gIT0gXCJzdGFydFwiKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLmdldEZvbGRXaWRnZXRSYW5nZShyb3cpO1xuICAgICAgICAgICAgaWYgKHJhbmdlICYmIHJhbmdlLmVuZC5yb3cgPD0gZW5kUm93KSB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBmb2xkID0gdGhpcy5hZGRGb2xkKFwiLi4uXCIsIHJhbmdlKTtcbiAgICAgICAgICAgICAgICBmb2xkLmNvbGxhcHNlQ2hpbGRyZW4gPSBkZXB0aDtcbiAgICAgICAgICAgIH0gY2F0Y2goZSkge31cbiAgICAgICAgICAgIHJvdyA9IHJhbmdlLmVuZC5yb3c7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuJGZvbGRTdHlsZXMgPSB7XG4gICAgICAgIFwibWFudWFsXCI6IDEsXG4gICAgICAgIFwibWFya2JlZ2luXCI6IDEsXG4gICAgICAgIFwibWFya2JlZ2luZW5kXCI6IDFcbiAgICB9O1xuICAgIHRoaXMuJGZvbGRTdHlsZSA9IFwibWFya2JlZ2luXCI7XG4gICAgdGhpcy5zZXRGb2xkU3R5bGUgPSBmdW5jdGlvbihzdHlsZSkge1xuICAgICAgICBpZiAoIXRoaXMuJGZvbGRTdHlsZXNbc3R5bGVdKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmb2xkIHN0eWxlOiBcIiArIHN0eWxlICsgXCJbXCIgKyBPYmplY3Qua2V5cyh0aGlzLiRmb2xkU3R5bGVzKS5qb2luKFwiLCBcIikgKyBcIl1cIik7XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy4kZm9sZFN0eWxlID09IHN0eWxlKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuJGZvbGRTdHlsZSA9IHN0eWxlO1xuICAgICAgICBcbiAgICAgICAgaWYgKHN0eWxlID09IFwibWFudWFsXCIpXG4gICAgICAgICAgICB0aGlzLnVuZm9sZCgpO1xuICAgICAgICB2YXIgbW9kZSA9IHRoaXMuJGZvbGRNb2RlO1xuICAgICAgICB0aGlzLiRzZXRGb2xkaW5nKG51bGwpO1xuICAgICAgICB0aGlzLiRzZXRGb2xkaW5nKG1vZGUpO1xuICAgIH07XG5cbiAgICB0aGlzLiRzZXRGb2xkaW5nID0gZnVuY3Rpb24oZm9sZE1vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuJGZvbGRNb2RlID09IGZvbGRNb2RlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgXG4gICAgICAgIHRoaXMuJGZvbGRNb2RlID0gZm9sZE1vZGU7XG4gICAgICAgIFxuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLiR1cGRhdGVGb2xkV2lkZ2V0cyk7XG4gICAgICAgIHRoaXMuX2VtaXQoXCJjaGFuZ2VBbm5vdGF0aW9uXCIpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFmb2xkTW9kZSB8fCB0aGlzLiRmb2xkU3R5bGUgPT0gXCJtYW51YWxcIikge1xuICAgICAgICAgICAgdGhpcy5mb2xkV2lkZ2V0cyA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMuZm9sZFdpZGdldHMgPSBbXTtcbiAgICAgICAgdGhpcy5nZXRGb2xkV2lkZ2V0ID0gZm9sZE1vZGUuZ2V0Rm9sZFdpZGdldC5iaW5kKGZvbGRNb2RlLCB0aGlzLCB0aGlzLiRmb2xkU3R5bGUpO1xuICAgICAgICB0aGlzLmdldEZvbGRXaWRnZXRSYW5nZSA9IGZvbGRNb2RlLmdldEZvbGRXaWRnZXRSYW5nZS5iaW5kKGZvbGRNb2RlLCB0aGlzLCB0aGlzLiRmb2xkU3R5bGUpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy4kdXBkYXRlRm9sZFdpZGdldHMgPSB0aGlzLnVwZGF0ZUZvbGRXaWRnZXRzLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub24oJ2NoYW5nZScsIHRoaXMuJHVwZGF0ZUZvbGRXaWRnZXRzKTtcbiAgICAgICAgXG4gICAgfTtcblxuICAgIHRoaXMuZ2V0UGFyZW50Rm9sZFJhbmdlRGF0YSA9IGZ1bmN0aW9uIChyb3csIGlnbm9yZUN1cnJlbnQpIHtcbiAgICAgICAgdmFyIGZ3ID0gdGhpcy5mb2xkV2lkZ2V0cztcbiAgICAgICAgaWYgKCFmdyB8fCAoaWdub3JlQ3VycmVudCAmJiBmd1tyb3ddKSlcbiAgICAgICAgICAgIHJldHVybiB7fTtcblxuICAgICAgICB2YXIgaSA9IHJvdyAtIDEsIGZpcnN0UmFuZ2U7XG4gICAgICAgIHdoaWxlIChpID49IDApIHtcbiAgICAgICAgICAgIHZhciBjID0gZndbaV07XG4gICAgICAgICAgICBpZiAoYyA9PSBudWxsKVxuICAgICAgICAgICAgICAgIGMgPSBmd1tpXSA9IHRoaXMuZ2V0Rm9sZFdpZGdldChpKTtcblxuICAgICAgICAgICAgaWYgKGMgPT0gXCJzdGFydFwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2UoaSk7XG4gICAgICAgICAgICAgICAgaWYgKCFmaXJzdFJhbmdlKVxuICAgICAgICAgICAgICAgICAgICBmaXJzdFJhbmdlID0gcmFuZ2U7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlICYmIHJhbmdlLmVuZC5yb3cgPj0gcm93KVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByYW5nZTogaSAhPT0gLTEgJiYgcmFuZ2UsXG4gICAgICAgICAgICBmaXJzdFJhbmdlOiBmaXJzdFJhbmdlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdGhpcy5vbkZvbGRXaWRnZXRDbGljayA9IGZ1bmN0aW9uKHJvdywgZSkge1xuICAgICAgICB2YXIgdHlwZSA9IHRoaXMuZ2V0Rm9sZFdpZGdldChyb3cpO1xuICAgICAgICB2YXIgbGluZSA9IHRoaXMuZ2V0TGluZShyb3cpO1xuICAgICAgICBlID0gZS5kb21FdmVudDtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gZS5zaGlmdEtleTtcbiAgICAgICAgdmFyIGFsbCA9IGUuY3RybEtleSB8fCBlLm1ldGFLZXk7XG4gICAgICAgIHZhciBzaWJsaW5ncyA9IGUuYWx0S2V5O1xuXG4gICAgICAgIHZhciBkaXIgPSB0eXBlID09PSBcImVuZFwiID8gLTEgOiAxO1xuICAgICAgICB2YXIgZm9sZCA9IHRoaXMuZ2V0Rm9sZEF0KHJvdywgZGlyID09PSAtMSA/IDAgOiBsaW5lLmxlbmd0aCwgZGlyKTtcblxuICAgICAgICBpZiAoZm9sZCkge1xuICAgICAgICAgICAgaWYgKGNoaWxkcmVuIHx8IGFsbClcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUZvbGQoZm9sZCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy5leHBhbmRGb2xkKGZvbGQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2Uocm93KTtcbiAgICAgICAgaWYgKHJhbmdlICYmICFyYW5nZS5pc011bHRpTGluZSgpKSB7XG4gICAgICAgICAgICBmb2xkID0gdGhpcy5nZXRGb2xkQXQocmFuZ2Uuc3RhcnQucm93LCByYW5nZS5zdGFydC5jb2x1bW4sIDEpO1xuICAgICAgICAgICAgaWYgKGZvbGQgJiYgcmFuZ2UuaXNFcXVhbChmb2xkLnJhbmdlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRm9sZChmb2xkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChzaWJsaW5ncykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdldFBhcmVudEZvbGRSYW5nZURhdGEocm93KTtcbiAgICAgICAgICAgIGlmIChkYXRhLnJhbmdlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0Um93ID0gZGF0YS5yYW5nZS5zdGFydC5yb3cgKyAxO1xuICAgICAgICAgICAgICAgIHZhciBlbmRSb3cgPSBkYXRhLnJhbmdlLmVuZC5yb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmZvbGRBbGwoc3RhcnRSb3csIGVuZFJvdywgYWxsID8gMTAwMDAgOiAwKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGlsZHJlbikge1xuICAgICAgICAgICAgdmFyIGVuZFJvdyA9IHJhbmdlID8gcmFuZ2UuZW5kLnJvdyA6IHRoaXMuZ2V0TGVuZ3RoKCk7XG4gICAgICAgICAgICB0aGlzLmZvbGRBbGwocm93ICsgMSwgcmFuZ2UuZW5kLnJvdywgYWxsID8gMTAwMDAgOiAwKTtcbiAgICAgICAgfSBlbHNlIGlmIChyYW5nZSkge1xuICAgICAgICAgICAgaWYgKGFsbCkgXG4gICAgICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2VDaGlsZHJlbiA9IDEwMDAwO1xuICAgICAgICAgICAgdGhpcy5hZGRGb2xkKFwiLi4uXCIsIHJhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKCFyYW5nZSlcbiAgICAgICAgICAgIChlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQpLmNsYXNzTmFtZSArPSBcIiBhY2VfaW52YWxpZFwiXG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlRm9sZFdpZGdldHMgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBkZWx0YSA9IGUuZGF0YTtcbiAgICAgICAgdmFyIHJhbmdlID0gZGVsdGEucmFuZ2U7XG4gICAgICAgIHZhciBmaXJzdFJvdyA9IHJhbmdlLnN0YXJ0LnJvdztcbiAgICAgICAgdmFyIGxlbiA9IHJhbmdlLmVuZC5yb3cgLSBmaXJzdFJvdztcblxuICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmZvbGRXaWRnZXRzW2ZpcnN0Um93XSA9IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoZGVsdGEuYWN0aW9uID09IFwicmVtb3ZlVGV4dFwiIHx8IGRlbHRhLmFjdGlvbiA9PSBcInJlbW92ZUxpbmVzXCIpIHtcbiAgICAgICAgICAgIHRoaXMuZm9sZFdpZGdldHMuc3BsaWNlKGZpcnN0Um93LCBsZW4gKyAxLCBudWxsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkobGVuICsgMSk7XG4gICAgICAgICAgICBhcmdzLnVuc2hpZnQoZmlyc3RSb3csIDEpO1xuICAgICAgICAgICAgdGhpcy5mb2xkV2lkZ2V0cy5zcGxpY2UuYXBwbHkodGhpcy5mb2xkV2lkZ2V0cywgYXJncyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG59XG5cbmV4cG9ydHMuRm9sZGluZyA9IEZvbGRpbmc7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKCdhY2UvZWRpdF9zZXNzaW9uL2ZvbGRfbGluZScsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyAsICdhY2UvcmFuZ2UnXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5cbnZhciBSYW5nZSA9IGFjZXF1aXJlKFwiLi4vcmFuZ2VcIikuUmFuZ2U7XG5mdW5jdGlvbiBGb2xkTGluZShmb2xkRGF0YSwgZm9sZHMpIHtcbiAgICB0aGlzLmZvbGREYXRhID0gZm9sZERhdGE7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZm9sZHMpKSB7XG4gICAgICAgIHRoaXMuZm9sZHMgPSBmb2xkcztcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb2xkcyA9IHRoaXMuZm9sZHMgPSBbIGZvbGRzIF07XG4gICAgfVxuXG4gICAgdmFyIGxhc3QgPSBmb2xkc1tmb2xkcy5sZW5ndGggLSAxXVxuICAgIHRoaXMucmFuZ2UgPSBuZXcgUmFuZ2UoZm9sZHNbMF0uc3RhcnQucm93LCBmb2xkc1swXS5zdGFydC5jb2x1bW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0LmVuZC5yb3csIGxhc3QuZW5kLmNvbHVtbik7XG4gICAgdGhpcy5zdGFydCA9IHRoaXMucmFuZ2Uuc3RhcnQ7XG4gICAgdGhpcy5lbmQgICA9IHRoaXMucmFuZ2UuZW5kO1xuXG4gICAgdGhpcy5mb2xkcy5mb3JFYWNoKGZ1bmN0aW9uKGZvbGQpIHtcbiAgICAgICAgZm9sZC5zZXRGb2xkTGluZSh0aGlzKTtcbiAgICB9LCB0aGlzKTtcbn1cblxuKGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc2hpZnRSb3cgPSBmdW5jdGlvbihzaGlmdCkge1xuICAgICAgICB0aGlzLnN0YXJ0LnJvdyArPSBzaGlmdDtcbiAgICAgICAgdGhpcy5lbmQucm93ICs9IHNoaWZ0O1xuICAgICAgICB0aGlzLmZvbGRzLmZvckVhY2goZnVuY3Rpb24oZm9sZCkge1xuICAgICAgICAgICAgZm9sZC5zdGFydC5yb3cgKz0gc2hpZnQ7XG4gICAgICAgICAgICBmb2xkLmVuZC5yb3cgKz0gc2hpZnQ7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuYWRkRm9sZCA9IGZ1bmN0aW9uKGZvbGQpIHtcbiAgICAgICAgaWYgKGZvbGQuc2FtZVJvdykge1xuICAgICAgICAgICAgaWYgKGZvbGQuc3RhcnQucm93IDwgdGhpcy5zdGFydFJvdyB8fCBmb2xkLmVuZFJvdyA+IHRoaXMuZW5kUm93KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgXCJDYW4ndCBhZGQgYSBmb2xkIHRvIHRoaXMgRm9sZExpbmUgYXMgaXQgaGFzIG5vIGNvbm5lY3Rpb25cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZm9sZHMucHVzaChmb2xkKTtcbiAgICAgICAgICAgIHRoaXMuZm9sZHMuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC1hLnJhbmdlLmNvbXBhcmVFbmQoYi5zdGFydC5yb3csIGIuc3RhcnQuY29sdW1uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMucmFuZ2UuY29tcGFyZUVuZChmb2xkLnN0YXJ0LnJvdywgZm9sZC5zdGFydC5jb2x1bW4pID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW5kLnJvdyA9IGZvbGQuZW5kLnJvdztcbiAgICAgICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPSAgZm9sZC5lbmQuY29sdW1uO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJhbmdlLmNvbXBhcmVTdGFydChmb2xkLmVuZC5yb3csIGZvbGQuZW5kLmNvbHVtbikgPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydC5yb3cgPSBmb2xkLnN0YXJ0LnJvdztcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IGZvbGQuc3RhcnQuY29sdW1uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGZvbGQuc3RhcnQucm93ID09IHRoaXMuZW5kLnJvdykge1xuICAgICAgICAgICAgdGhpcy5mb2xkcy5wdXNoKGZvbGQpO1xuICAgICAgICAgICAgdGhpcy5lbmQucm93ID0gZm9sZC5lbmQucm93O1xuICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID0gZm9sZC5lbmQuY29sdW1uO1xuICAgICAgICB9IGVsc2UgaWYgKGZvbGQuZW5kLnJvdyA9PSB0aGlzLnN0YXJ0LnJvdykge1xuICAgICAgICAgICAgdGhpcy5mb2xkcy51bnNoaWZ0KGZvbGQpO1xuICAgICAgICAgICAgdGhpcy5zdGFydC5yb3cgPSBmb2xkLnN0YXJ0LnJvdztcbiAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uID0gZm9sZC5zdGFydC5jb2x1bW47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBcIlRyeWluZyB0byBhZGQgZm9sZCB0byBGb2xkUm93IHRoYXQgZG9lc24ndCBoYXZlIGEgbWF0Y2hpbmcgcm93XCI7XG4gICAgICAgIH1cbiAgICAgICAgZm9sZC5mb2xkTGluZSA9IHRoaXM7XG4gICAgfVxuXG4gICAgdGhpcy5jb250YWluc1JvdyA9IGZ1bmN0aW9uKHJvdykge1xuICAgICAgICByZXR1cm4gcm93ID49IHRoaXMuc3RhcnQucm93ICYmIHJvdyA8PSB0aGlzLmVuZC5yb3c7XG4gICAgfVxuXG4gICAgdGhpcy53YWxrID0gZnVuY3Rpb24oY2FsbGJhY2ssIGVuZFJvdywgZW5kQ29sdW1uKSB7XG4gICAgICAgIHZhciBsYXN0RW5kID0gMCxcbiAgICAgICAgICAgIGZvbGRzID0gdGhpcy5mb2xkcyxcbiAgICAgICAgICAgIGZvbGQsXG4gICAgICAgICAgICBjb21wLCBzdG9wLCBpc05ld1JvdyA9IHRydWU7XG5cbiAgICAgICAgaWYgKGVuZFJvdyA9PSBudWxsKSB7XG4gICAgICAgICAgICBlbmRSb3cgPSB0aGlzLmVuZC5yb3c7XG4gICAgICAgICAgICBlbmRDb2x1bW4gPSB0aGlzLmVuZC5jb2x1bW47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb2xkID0gZm9sZHNbaV07XG5cbiAgICAgICAgICAgIGNvbXAgPSBmb2xkLnJhbmdlLmNvbXBhcmVTdGFydChlbmRSb3csIGVuZENvbHVtbik7XG4gICAgICAgICAgICBpZiAoY29tcCA9PSAtMSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIGVuZFJvdywgZW5kQ29sdW1uLCBsYXN0RW5kLCBpc05ld1Jvdyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdG9wID0gY2FsbGJhY2sobnVsbCwgZm9sZC5zdGFydC5yb3csIGZvbGQuc3RhcnQuY29sdW1uLCBsYXN0RW5kLCBpc05ld1Jvdyk7XG4gICAgICAgICAgICBzdG9wID0gIXN0b3AgJiYgY2FsbGJhY2soZm9sZC5wbGFjZWhvbGRlciwgZm9sZC5zdGFydC5yb3csIGZvbGQuc3RhcnQuY29sdW1uLCBsYXN0RW5kKTtcbiAgICAgICAgICAgIGlmIChzdG9wIHx8IGNvbXAgPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlzTmV3Um93ID0gIWZvbGQuc2FtZVJvdztcbiAgICAgICAgICAgIGxhc3RFbmQgPSBmb2xkLmVuZC5jb2x1bW47XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2sobnVsbCwgZW5kUm93LCBlbmRDb2x1bW4sIGxhc3RFbmQsIGlzTmV3Um93KTtcbiAgICB9XG5cbiAgICB0aGlzLmdldE5leHRGb2xkVG8gPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICB2YXIgZm9sZCwgY21wO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZm9sZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZvbGQgPSB0aGlzLmZvbGRzW2ldO1xuICAgICAgICAgICAgY21wID0gZm9sZC5yYW5nZS5jb21wYXJlRW5kKHJvdywgY29sdW1uKTtcbiAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBmb2xkOiBmb2xkLFxuICAgICAgICAgICAgICAgICAgICBraW5kOiBcImFmdGVyXCJcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjbXAgPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGZvbGQ6IGZvbGQsXG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IFwiaW5zaWRlXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdGhpcy5hZGRSZW1vdmVDaGFycyA9IGZ1bmN0aW9uKHJvdywgY29sdW1uLCBsZW4pIHtcbiAgICAgICAgdmFyIHJldCA9IHRoaXMuZ2V0TmV4dEZvbGRUbyhyb3csIGNvbHVtbiksXG4gICAgICAgICAgICBmb2xkLCBmb2xkcztcbiAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgICAgZm9sZCA9IHJldC5mb2xkO1xuICAgICAgICAgICAgaWYgKHJldC5raW5kID09IFwiaW5zaWRlXCJcbiAgICAgICAgICAgICAgICAmJiBmb2xkLnN0YXJ0LmNvbHVtbiAhPSBjb2x1bW5cbiAgICAgICAgICAgICAgICAmJiBmb2xkLnN0YXJ0LnJvdyAhPSByb3cpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUubG9nKHJvdywgY29sdW1uLCBmb2xkKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZm9sZC5zdGFydC5yb3cgPT0gcm93KSB7XG4gICAgICAgICAgICAgICAgZm9sZHMgPSB0aGlzLmZvbGRzO1xuICAgICAgICAgICAgICAgIHZhciBpID0gZm9sZHMuaW5kZXhPZihmb2xkKTtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uICs9IGxlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChpOyBpIDwgZm9sZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9sZCA9IGZvbGRzW2ldO1xuICAgICAgICAgICAgICAgICAgICBmb2xkLnN0YXJ0LmNvbHVtbiArPSBsZW47XG4gICAgICAgICAgICAgICAgICAgIGlmICghZm9sZC5zYW1lUm93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9sZC5lbmQuY29sdW1uICs9IGxlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uICs9IGxlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc3BsaXQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICB2YXIgZm9sZCA9IHRoaXMuZ2V0TmV4dEZvbGRUbyhyb3csIGNvbHVtbikuZm9sZDtcbiAgICAgICAgdmFyIGZvbGRzID0gdGhpcy5mb2xkcztcbiAgICAgICAgdmFyIGZvbGREYXRhID0gdGhpcy5mb2xkRGF0YTtcblxuICAgICAgICBpZiAoIWZvbGQpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICB2YXIgaSA9IGZvbGRzLmluZGV4T2YoZm9sZCk7XG4gICAgICAgIHZhciBmb2xkQmVmb3JlID0gZm9sZHNbaSAtIDFdO1xuICAgICAgICB0aGlzLmVuZC5yb3cgPSBmb2xkQmVmb3JlLmVuZC5yb3c7XG4gICAgICAgIHRoaXMuZW5kLmNvbHVtbiA9IGZvbGRCZWZvcmUuZW5kLmNvbHVtbjtcbiAgICAgICAgZm9sZHMgPSBmb2xkcy5zcGxpY2UoaSwgZm9sZHMubGVuZ3RoIC0gaSk7XG5cbiAgICAgICAgdmFyIG5ld0ZvbGRMaW5lID0gbmV3IEZvbGRMaW5lKGZvbGREYXRhLCBmb2xkcyk7XG4gICAgICAgIGZvbGREYXRhLnNwbGljZShmb2xkRGF0YS5pbmRleE9mKHRoaXMpICsgMSwgMCwgbmV3Rm9sZExpbmUpO1xuICAgICAgICByZXR1cm4gbmV3Rm9sZExpbmU7XG4gICAgfVxuXG4gICAgdGhpcy5tZXJnZSA9IGZ1bmN0aW9uKGZvbGRMaW5lTmV4dCkge1xuICAgICAgICB2YXIgZm9sZHMgPSBmb2xkTGluZU5leHQuZm9sZHM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9sZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYWRkRm9sZChmb2xkc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZvbGREYXRhID0gdGhpcy5mb2xkRGF0YTtcbiAgICAgICAgZm9sZERhdGEuc3BsaWNlKGZvbGREYXRhLmluZGV4T2YoZm9sZExpbmVOZXh0KSwgMSk7XG4gICAgfVxuXG4gICAgdGhpcy50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmV0ID0gW3RoaXMucmFuZ2UudG9TdHJpbmcoKSArIFwiOiBbXCIgXTtcblxuICAgICAgICB0aGlzLmZvbGRzLmZvckVhY2goZnVuY3Rpb24oZm9sZCkge1xuICAgICAgICAgICAgcmV0LnB1c2goXCIgIFwiICsgZm9sZC50b1N0cmluZygpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldC5wdXNoKFwiXVwiKVxuICAgICAgICByZXR1cm4gcmV0LmpvaW4oXCJcXG5cIik7XG4gICAgfVxuXG4gICAgdGhpcy5pZHhUb1Bvc2l0aW9uID0gZnVuY3Rpb24oaWR4KSB7XG4gICAgICAgIHZhciBsYXN0Rm9sZEVuZENvbHVtbiA9IDA7XG4gICAgICAgIHZhciBmb2xkO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5mb2xkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGZvbGQgPSB0aGlzLmZvbGRzW2ldO1xuXG4gICAgICAgICAgICBpZHggLT0gZm9sZC5zdGFydC5jb2x1bW4gLSBsYXN0Rm9sZEVuZENvbHVtbjtcbiAgICAgICAgICAgIGlmIChpZHggPCAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcm93OiBmb2xkLnN0YXJ0LnJvdyxcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiBmb2xkLnN0YXJ0LmNvbHVtbiArIGlkeFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlkeCAtPSBmb2xkLnBsYWNlaG9sZGVyLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChpZHggPCAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvbGQuc3RhcnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxhc3RGb2xkRW5kQ29sdW1uID0gZm9sZC5lbmQuY29sdW1uO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJvdzogdGhpcy5lbmQucm93LFxuICAgICAgICAgICAgY29sdW1uOiB0aGlzLmVuZC5jb2x1bW4gKyBpZHhcbiAgICAgICAgfTtcbiAgICB9XG59KS5jYWxsKEZvbGRMaW5lLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuRm9sZExpbmUgPSBGb2xkTGluZTtcbn0pO1xuXG5hY2UuZGVmaW5lKCdhY2UvZWRpdF9zZXNzaW9uL2ZvbGQnLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgLCAnYWNlL3JhbmdlJywgJ2FjZS9yYW5nZV9saXN0JywgJ2FjZS9saWIvb29wJ10sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuXG52YXIgUmFuZ2UgPSBhY2VxdWlyZShcIi4uL3JhbmdlXCIpLlJhbmdlO1xudmFyIFJhbmdlTGlzdCA9IGFjZXF1aXJlKFwiLi4vcmFuZ2VfbGlzdFwiKS5SYW5nZUxpc3Q7XG52YXIgb29wID0gYWNlcXVpcmUoXCIuLi9saWIvb29wXCIpXG52YXIgRm9sZCA9IGV4cG9ydHMuRm9sZCA9IGZ1bmN0aW9uKHJhbmdlLCBwbGFjZWhvbGRlcikge1xuICAgIHRoaXMuZm9sZExpbmUgPSBudWxsO1xuICAgIHRoaXMucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlcjtcbiAgICB0aGlzLnJhbmdlID0gcmFuZ2U7XG4gICAgdGhpcy5zdGFydCA9IHJhbmdlLnN0YXJ0O1xuICAgIHRoaXMuZW5kID0gcmFuZ2UuZW5kO1xuXG4gICAgdGhpcy5zYW1lUm93ID0gcmFuZ2Uuc3RhcnQucm93ID09IHJhbmdlLmVuZC5yb3c7XG4gICAgdGhpcy5zdWJGb2xkcyA9IHRoaXMucmFuZ2VzID0gW107XG59O1xuXG5vb3AuaW5oZXJpdHMoRm9sZCwgUmFuZ2VMaXN0KTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJ1wiJyArIHRoaXMucGxhY2Vob2xkZXIgKyAnXCIgJyArIHRoaXMucmFuZ2UudG9TdHJpbmcoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zZXRGb2xkTGluZSA9IGZ1bmN0aW9uKGZvbGRMaW5lKSB7XG4gICAgICAgIHRoaXMuZm9sZExpbmUgPSBmb2xkTGluZTtcbiAgICAgICAgdGhpcy5zdWJGb2xkcy5mb3JFYWNoKGZ1bmN0aW9uKGZvbGQpIHtcbiAgICAgICAgICAgIGZvbGQuc2V0Rm9sZExpbmUoZm9sZExpbmUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLnJhbmdlLmNsb25lKCk7XG4gICAgICAgIHZhciBmb2xkID0gbmV3IEZvbGQocmFuZ2UsIHRoaXMucGxhY2Vob2xkZXIpO1xuICAgICAgICB0aGlzLnN1YkZvbGRzLmZvckVhY2goZnVuY3Rpb24oc3ViRm9sZCkge1xuICAgICAgICAgICAgZm9sZC5zdWJGb2xkcy5wdXNoKHN1YkZvbGQuY2xvbmUoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBmb2xkLmNvbGxhcHNlQ2hpbGRyZW4gPSB0aGlzLmNvbGxhcHNlQ2hpbGRyZW47XG4gICAgICAgIHJldHVybiBmb2xkO1xuICAgIH07XG5cbiAgICB0aGlzLmFkZFN1YkZvbGQgPSBmdW5jdGlvbihmb2xkKSB7XG4gICAgICAgIGlmICh0aGlzLnJhbmdlLmlzRXF1YWwoZm9sZCkpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKCF0aGlzLnJhbmdlLmNvbnRhaW5zUmFuZ2UoZm9sZCkpXG4gICAgICAgICAgICB0aHJvdyBcIkEgZm9sZCBjYW4ndCBpbnRlcnNlY3QgYWxyZWFkeSBleGlzdGluZyBmb2xkXCIgKyBmb2xkLnJhbmdlICsgdGhpcy5yYW5nZTtcbiAgICAgICAgY29uc3VtZVJhbmdlKGZvbGQsIHRoaXMuc3RhcnQpO1xuXG4gICAgICAgIHZhciByb3cgPSBmb2xkLnN0YXJ0LnJvdywgY29sdW1uID0gZm9sZC5zdGFydC5jb2x1bW47XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBjbXAgPSAtMTsgaSA8IHRoaXMuc3ViRm9sZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNtcCA9IHRoaXMuc3ViRm9sZHNbaV0ucmFuZ2UuY29tcGFyZShyb3csIGNvbHVtbik7XG4gICAgICAgICAgICBpZiAoY21wICE9IDEpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFmdGVyU3RhcnQgPSB0aGlzLnN1YkZvbGRzW2ldO1xuXG4gICAgICAgIGlmIChjbXAgPT0gMClcbiAgICAgICAgICAgIHJldHVybiBhZnRlclN0YXJ0LmFkZFN1YkZvbGQoZm9sZCk7XG4gICAgICAgIHZhciByb3cgPSBmb2xkLnJhbmdlLmVuZC5yb3csIGNvbHVtbiA9IGZvbGQucmFuZ2UuZW5kLmNvbHVtbjtcbiAgICAgICAgZm9yICh2YXIgaiA9IGksIGNtcCA9IC0xOyBqIDwgdGhpcy5zdWJGb2xkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgY21wID0gdGhpcy5zdWJGb2xkc1tqXS5yYW5nZS5jb21wYXJlKHJvdywgY29sdW1uKTtcbiAgICAgICAgICAgIGlmIChjbXAgIT0gMSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWZ0ZXJFbmQgPSB0aGlzLnN1YkZvbGRzW2pdO1xuXG4gICAgICAgIGlmIChjbXAgPT0gMClcbiAgICAgICAgICAgIHRocm93IFwiQSBmb2xkIGNhbid0IGludGVyc2VjdCBhbHJlYWR5IGV4aXN0aW5nIGZvbGRcIiArIGZvbGQucmFuZ2UgKyB0aGlzLnJhbmdlO1xuXG4gICAgICAgIHZhciBjb25zdW1lZEZvbGRzID0gdGhpcy5zdWJGb2xkcy5zcGxpY2UoaSwgaiAtIGksIGZvbGQpO1xuICAgICAgICBmb2xkLnNldEZvbGRMaW5lKHRoaXMuZm9sZExpbmUpO1xuXG4gICAgICAgIHJldHVybiBmb2xkO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5yZXN0b3JlUmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICByZXR1cm4gcmVzdG9yZVJhbmdlKHJhbmdlLCB0aGlzLnN0YXJ0KTtcbiAgICB9O1xuXG59KS5jYWxsKEZvbGQucHJvdG90eXBlKTtcblxuZnVuY3Rpb24gY29uc3VtZVBvaW50KHBvaW50LCBhbmNob3IpIHtcbiAgICBwb2ludC5yb3cgLT0gYW5jaG9yLnJvdztcbiAgICBpZiAocG9pbnQucm93ID09IDApXG4gICAgICAgIHBvaW50LmNvbHVtbiAtPSBhbmNob3IuY29sdW1uO1xufVxuZnVuY3Rpb24gY29uc3VtZVJhbmdlKHJhbmdlLCBhbmNob3IpIHtcbiAgICBjb25zdW1lUG9pbnQocmFuZ2Uuc3RhcnQsIGFuY2hvcik7XG4gICAgY29uc3VtZVBvaW50KHJhbmdlLmVuZCwgYW5jaG9yKTtcbn1cbmZ1bmN0aW9uIHJlc3RvcmVQb2ludChwb2ludCwgYW5jaG9yKSB7XG4gICAgaWYgKHBvaW50LnJvdyA9PSAwKVxuICAgICAgICBwb2ludC5jb2x1bW4gKz0gYW5jaG9yLmNvbHVtbjtcbiAgICBwb2ludC5yb3cgKz0gYW5jaG9yLnJvdztcbn1cbmZ1bmN0aW9uIHJlc3RvcmVSYW5nZShyYW5nZSwgYW5jaG9yKSB7XG4gICAgcmVzdG9yZVBvaW50KHJhbmdlLnN0YXJ0LCBhbmNob3IpO1xuICAgIHJlc3RvcmVQb2ludChyYW5nZS5lbmQsIGFuY2hvcik7XG59XG5cbn0pO1xuXG5hY2UuZGVmaW5lKCdhY2UvcmFuZ2VfbGlzdCcsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyAsICdhY2UvcmFuZ2UnXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG52YXIgUmFuZ2UgPSBhY2VxdWlyZShcIi4vcmFuZ2VcIikuUmFuZ2U7XG52YXIgY29tcGFyZVBvaW50cyA9IFJhbmdlLmNvbXBhcmVQb2ludHM7XG5cbnZhciBSYW5nZUxpc3QgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJhbmdlcyA9IFtdO1xufTtcblxuKGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY29tcGFyZVBvaW50cyA9IGNvbXBhcmVQb2ludHM7XG5cbiAgICB0aGlzLnBvaW50SW5kZXggPSBmdW5jdGlvbihwb3MsIGV4Y2x1ZGVFZGdlcywgc3RhcnRJbmRleCkge1xuICAgICAgICB2YXIgbGlzdCA9IHRoaXMucmFuZ2VzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydEluZGV4IHx8IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBsaXN0W2ldO1xuICAgICAgICAgICAgdmFyIGNtcEVuZCA9IGNvbXBhcmVQb2ludHMocG9zLCByYW5nZS5lbmQpO1xuICAgICAgICAgICAgaWYgKGNtcEVuZCA+IDApXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB2YXIgY21wU3RhcnQgPSBjb21wYXJlUG9pbnRzKHBvcywgcmFuZ2Uuc3RhcnQpO1xuICAgICAgICAgICAgaWYgKGNtcEVuZCA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhjbHVkZUVkZ2VzICYmIGNtcFN0YXJ0ICE9PSAwID8gLWktMiA6IGk7XG4gICAgICAgICAgICBpZiAoY21wU3RhcnQgPiAwIHx8IChjbXBTdGFydCA9PT0gMCAmJiAhZXhjbHVkZUVkZ2VzKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcblxuICAgICAgICAgICAgcmV0dXJuIC1pLTE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC1pIC0gMTtcbiAgICB9O1xuXG4gICAgdGhpcy5hZGQgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICB2YXIgZXhjbHVkZUVkZ2VzID0gIXJhbmdlLmlzRW1wdHkoKTtcbiAgICAgICAgdmFyIHN0YXJ0SW5kZXggPSB0aGlzLnBvaW50SW5kZXgocmFuZ2Uuc3RhcnQsIGV4Y2x1ZGVFZGdlcyk7XG4gICAgICAgIGlmIChzdGFydEluZGV4IDwgMClcbiAgICAgICAgICAgIHN0YXJ0SW5kZXggPSAtc3RhcnRJbmRleCAtIDE7XG5cbiAgICAgICAgdmFyIGVuZEluZGV4ID0gdGhpcy5wb2ludEluZGV4KHJhbmdlLmVuZCwgZXhjbHVkZUVkZ2VzLCBzdGFydEluZGV4KTtcblxuICAgICAgICBpZiAoZW5kSW5kZXggPCAwKVxuICAgICAgICAgICAgZW5kSW5kZXggPSAtZW5kSW5kZXggLSAxO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBlbmRJbmRleCsrO1xuICAgICAgICByZXR1cm4gdGhpcy5yYW5nZXMuc3BsaWNlKHN0YXJ0SW5kZXgsIGVuZEluZGV4IC0gc3RhcnRJbmRleCwgcmFuZ2UpO1xuICAgIH07XG5cbiAgICB0aGlzLmFkZExpc3QgPSBmdW5jdGlvbihsaXN0KSB7XG4gICAgICAgIHZhciByZW1vdmVkID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSBsaXN0Lmxlbmd0aDsgaS0tOyApIHtcbiAgICAgICAgICAgIHJlbW92ZWQucHVzaC5jYWxsKHJlbW92ZWQsIHRoaXMuYWRkKGxpc3RbaV0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVtb3ZlZDtcbiAgICB9O1xuXG4gICAgdGhpcy5zdWJzdHJhY3RQb2ludCA9IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICB2YXIgaSA9IHRoaXMucG9pbnRJbmRleChwb3MpO1xuXG4gICAgICAgIGlmIChpID49IDApXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yYW5nZXMuc3BsaWNlKGksIDEpO1xuICAgIH07XG4gICAgdGhpcy5tZXJnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVtb3ZlZCA9IFtdO1xuICAgICAgICB2YXIgbGlzdCA9IHRoaXMucmFuZ2VzO1xuICAgICAgICBcbiAgICAgICAgbGlzdCA9IGxpc3Quc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcGFyZVBvaW50cyhhLnN0YXJ0LCBiLnN0YXJ0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICB2YXIgbmV4dCA9IGxpc3RbMF0sIHJhbmdlO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJhbmdlID0gbmV4dDtcbiAgICAgICAgICAgIG5leHQgPSBsaXN0W2ldO1xuICAgICAgICAgICAgdmFyIGNtcCA9IGNvbXBhcmVQb2ludHMocmFuZ2UuZW5kLCBuZXh0LnN0YXJ0KTtcbiAgICAgICAgICAgIGlmIChjbXAgPCAwKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBpZiAoY21wID09IDAgJiYgIXJhbmdlLmlzRW1wdHkoKSAmJiAhbmV4dC5pc0VtcHR5KCkpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIGlmIChjb21wYXJlUG9pbnRzKHJhbmdlLmVuZCwgbmV4dC5lbmQpIDwgMCkge1xuICAgICAgICAgICAgICAgIHJhbmdlLmVuZC5yb3cgPSBuZXh0LmVuZC5yb3c7XG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbiA9IG5leHQuZW5kLmNvbHVtbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGlzdC5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICByZW1vdmVkLnB1c2gobmV4dCk7XG4gICAgICAgICAgICBuZXh0ID0gcmFuZ2U7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMucmFuZ2VzID0gbGlzdDtcblxuICAgICAgICByZXR1cm4gcmVtb3ZlZDtcbiAgICB9O1xuXG4gICAgdGhpcy5jb250YWlucyA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvaW50SW5kZXgoe3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn0pID49IDA7XG4gICAgfTtcblxuICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICByZXR1cm4gdGhpcy5wb2ludEluZGV4KHBvcykgPj0gMDtcbiAgICB9O1xuXG4gICAgdGhpcy5yYW5nZUF0UG9pbnQgPSBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgdmFyIGkgPSB0aGlzLnBvaW50SW5kZXgocG9zKTtcbiAgICAgICAgaWYgKGkgPj0gMClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJhbmdlc1tpXTtcbiAgICB9O1xuXG5cbiAgICB0aGlzLmNsaXBSb3dzID0gZnVuY3Rpb24oc3RhcnRSb3csIGVuZFJvdykge1xuICAgICAgICB2YXIgbGlzdCA9IHRoaXMucmFuZ2VzO1xuICAgICAgICBpZiAobGlzdFswXS5zdGFydC5yb3cgPiBlbmRSb3cgfHwgbGlzdFtsaXN0Lmxlbmd0aCAtIDFdLnN0YXJ0LnJvdyA8IHN0YXJ0Um93KVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuXG4gICAgICAgIHZhciBzdGFydEluZGV4ID0gdGhpcy5wb2ludEluZGV4KHtyb3c6IHN0YXJ0Um93LCBjb2x1bW46IDB9KTtcbiAgICAgICAgaWYgKHN0YXJ0SW5kZXggPCAwKVxuICAgICAgICAgICAgc3RhcnRJbmRleCA9IC1zdGFydEluZGV4IC0gMTtcbiAgICAgICAgdmFyIGVuZEluZGV4ID0gdGhpcy5wb2ludEluZGV4KHtyb3c6IGVuZFJvdywgY29sdW1uOiAwfSwgc3RhcnRJbmRleCk7XG4gICAgICAgIGlmIChlbmRJbmRleCA8IDApXG4gICAgICAgICAgICBlbmRJbmRleCA9IC1lbmRJbmRleCAtIDE7XG5cbiAgICAgICAgdmFyIGNsaXBwZWQgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0SW5kZXg7IGkgPCBlbmRJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICBjbGlwcGVkLnB1c2gobGlzdFtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNsaXBwZWQ7XG4gICAgfTtcblxuICAgIHRoaXMucmVtb3ZlQWxsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhbmdlcy5zcGxpY2UoMCwgdGhpcy5yYW5nZXMubGVuZ3RoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5hdHRhY2ggPSBmdW5jdGlvbihzZXNzaW9uKSB7XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24pXG4gICAgICAgICAgICB0aGlzLmRldGFjaCgpO1xuXG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgICAgIHRoaXMub25DaGFuZ2UgPSB0aGlzLiRvbkNoYW5nZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc2Vzc2lvbi5vbignY2hhbmdlJywgdGhpcy5vbkNoYW5nZSk7XG4gICAgfTtcblxuICAgIHRoaXMuZGV0YWNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy5zZXNzaW9uKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlTGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMub25DaGFuZ2UpO1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBudWxsO1xuICAgIH07XG5cbiAgICB0aGlzLiRvbkNoYW5nZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIGNoYW5nZVJhbmdlID0gZS5kYXRhLnJhbmdlO1xuICAgICAgICBpZiAoZS5kYXRhLmFjdGlvblswXSA9PSBcImlcIil7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBjaGFuZ2VSYW5nZS5zdGFydDtcbiAgICAgICAgICAgIHZhciBlbmQgPSBjaGFuZ2VSYW5nZS5lbmQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZW5kID0gY2hhbmdlUmFuZ2Uuc3RhcnQ7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBjaGFuZ2VSYW5nZS5lbmQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXJ0Um93ID0gc3RhcnQucm93O1xuICAgICAgICB2YXIgZW5kUm93ID0gZW5kLnJvdztcbiAgICAgICAgdmFyIGxpbmVEaWYgPSBlbmRSb3cgLSBzdGFydFJvdztcblxuICAgICAgICB2YXIgY29sRGlmZiA9IC1zdGFydC5jb2x1bW4gKyBlbmQuY29sdW1uO1xuICAgICAgICB2YXIgcmFuZ2VzID0gdGhpcy5yYW5nZXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIG4gPSByYW5nZXMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgciA9IHJhbmdlc1tpXTtcbiAgICAgICAgICAgIGlmIChyLmVuZC5yb3cgPCBzdGFydFJvdylcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChyLnN0YXJ0LnJvdyA+IHN0YXJ0Um93KVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBpZiAoci5zdGFydC5yb3cgPT0gc3RhcnRSb3cgJiYgci5zdGFydC5jb2x1bW4gPj0gc3RhcnQuY29sdW1uICkge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHIuc3RhcnQuY29sdW1uICs9IGNvbERpZmY7XG4gICAgICAgICAgICAgICAgci5zdGFydC5yb3cgKz0gbGluZURpZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyLmVuZC5yb3cgPT0gc3RhcnRSb3cgJiYgci5lbmQuY29sdW1uID49IHN0YXJ0LmNvbHVtbikge1xuICAgICAgICAgICAgICAgIGlmIChyLmVuZC5jb2x1bW4gPT0gc3RhcnQuY29sdW1uICYmIGNvbERpZmYgPiAwICYmIGkgPCBuIC0gMSkgeyAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKHIuZW5kLmNvbHVtbiA+IHIuc3RhcnQuY29sdW1uICYmIHIuZW5kLmNvbHVtbiA9PSByYW5nZXNbaSsxXS5zdGFydC5jb2x1bW4pXG4gICAgICAgICAgICAgICAgICAgICAgICByLmVuZC5jb2x1bW4gLT0gY29sRGlmZjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgci5lbmQuY29sdW1uICs9IGNvbERpZmY7XG4gICAgICAgICAgICAgICAgci5lbmQucm93ICs9IGxpbmVEaWY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGluZURpZiAhPSAwICYmIGkgPCBuKSB7XG4gICAgICAgICAgICBmb3IgKDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciByID0gcmFuZ2VzW2ldO1xuICAgICAgICAgICAgICAgIHIuc3RhcnQucm93ICs9IGxpbmVEaWY7XG4gICAgICAgICAgICAgICAgci5lbmQucm93ICs9IGxpbmVEaWY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG59KS5jYWxsKFJhbmdlTGlzdC5wcm90b3R5cGUpO1xuXG5leHBvcnRzLlJhbmdlTGlzdCA9IFJhbmdlTGlzdDtcbn0pO1xuXG5hY2UuZGVmaW5lKCdhY2UvZWRpdF9zZXNzaW9uL2JyYWNrZXRfbWF0Y2gnLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgLCAnYWNlL3Rva2VuX2l0ZXJhdG9yJywgJ2FjZS9yYW5nZSddLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cblxudmFyIFRva2VuSXRlcmF0b3IgPSBhY2VxdWlyZShcIi4uL3Rva2VuX2l0ZXJhdG9yXCIpLlRva2VuSXRlcmF0b3I7XG52YXIgUmFuZ2UgPSBhY2VxdWlyZShcIi4uL3JhbmdlXCIpLlJhbmdlO1xuXG5cbmZ1bmN0aW9uIEJyYWNrZXRNYXRjaCgpIHtcblxuICAgIHRoaXMuZmluZE1hdGNoaW5nQnJhY2tldCA9IGZ1bmN0aW9uKHBvc2l0aW9uLCBjaHIpIHtcbiAgICAgICAgaWYgKHBvc2l0aW9uLmNvbHVtbiA9PSAwKSByZXR1cm4gbnVsbDtcblxuICAgICAgICB2YXIgY2hhckJlZm9yZUN1cnNvciA9IGNociB8fCB0aGlzLmdldExpbmUocG9zaXRpb24ucm93KS5jaGFyQXQocG9zaXRpb24uY29sdW1uLTEpO1xuICAgICAgICBpZiAoY2hhckJlZm9yZUN1cnNvciA9PSBcIlwiKSByZXR1cm4gbnVsbDtcblxuICAgICAgICB2YXIgbWF0Y2ggPSBjaGFyQmVmb3JlQ3Vyc29yLm1hdGNoKC8oW1xcKFxcW1xce10pfChbXFwpXFxdXFx9XSkvKTtcbiAgICAgICAgaWYgKCFtYXRjaClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgIGlmIChtYXRjaFsxXSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRmaW5kQ2xvc2luZ0JyYWNrZXQobWF0Y2hbMV0sIHBvc2l0aW9uKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGZpbmRPcGVuaW5nQnJhY2tldChtYXRjaFsyXSwgcG9zaXRpb24pO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5nZXRCcmFja2V0UmFuZ2UgPSBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgdmFyIGxpbmUgPSB0aGlzLmdldExpbmUocG9zLnJvdyk7XG4gICAgICAgIHZhciBiZWZvcmUgPSB0cnVlLCByYW5nZTtcblxuICAgICAgICB2YXIgY2hyID0gbGluZS5jaGFyQXQocG9zLmNvbHVtbi0xKTtcbiAgICAgICAgdmFyIG1hdGNoID0gY2hyICYmIGNoci5tYXRjaCgvKFtcXChcXFtcXHtdKXwoW1xcKVxcXVxcfV0pLyk7XG4gICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgIGNociA9IGxpbmUuY2hhckF0KHBvcy5jb2x1bW4pO1xuICAgICAgICAgICAgcG9zID0ge3JvdzogcG9zLnJvdywgY29sdW1uOiBwb3MuY29sdW1uICsgMX07XG4gICAgICAgICAgICBtYXRjaCA9IGNociAmJiBjaHIubWF0Y2goLyhbXFwoXFxbXFx7XSl8KFtcXClcXF1cXH1dKS8pO1xuICAgICAgICAgICAgYmVmb3JlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtYXRjaClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgIGlmIChtYXRjaFsxXSkge1xuICAgICAgICAgICAgdmFyIGJyYWNrZXRQb3MgPSB0aGlzLiRmaW5kQ2xvc2luZ0JyYWNrZXQobWF0Y2hbMV0sIHBvcyk7XG4gICAgICAgICAgICBpZiAoIWJyYWNrZXRQb3MpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICByYW5nZSA9IFJhbmdlLmZyb21Qb2ludHMocG9zLCBicmFja2V0UG9zKTtcbiAgICAgICAgICAgIGlmICghYmVmb3JlKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbisrO1xuICAgICAgICAgICAgICAgIHJhbmdlLnN0YXJ0LmNvbHVtbi0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmFuZ2UuY3Vyc29yID0gcmFuZ2UuZW5kO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGJyYWNrZXRQb3MgPSB0aGlzLiRmaW5kT3BlbmluZ0JyYWNrZXQobWF0Y2hbMl0sIHBvcyk7XG4gICAgICAgICAgICBpZiAoIWJyYWNrZXRQb3MpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICByYW5nZSA9IFJhbmdlLmZyb21Qb2ludHMoYnJhY2tldFBvcywgcG9zKTtcbiAgICAgICAgICAgIGlmICghYmVmb3JlKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2Uuc3RhcnQuY29sdW1uKys7XG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbi0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmFuZ2UuY3Vyc29yID0gcmFuZ2Uuc3RhcnQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiByYW5nZTtcbiAgICB9O1xuXG4gICAgdGhpcy4kYnJhY2tldHMgPSB7XG4gICAgICAgIFwiKVwiOiBcIihcIixcbiAgICAgICAgXCIoXCI6IFwiKVwiLFxuICAgICAgICBcIl1cIjogXCJbXCIsXG4gICAgICAgIFwiW1wiOiBcIl1cIixcbiAgICAgICAgXCJ7XCI6IFwifVwiLFxuICAgICAgICBcIn1cIjogXCJ7XCJcbiAgICB9O1xuXG4gICAgdGhpcy4kZmluZE9wZW5pbmdCcmFja2V0ID0gZnVuY3Rpb24oYnJhY2tldCwgcG9zaXRpb24sIHR5cGVSZSkge1xuICAgICAgICB2YXIgb3BlbkJyYWNrZXQgPSB0aGlzLiRicmFja2V0c1ticmFja2V0XTtcbiAgICAgICAgdmFyIGRlcHRoID0gMTtcblxuICAgICAgICB2YXIgaXRlcmF0b3IgPSBuZXcgVG9rZW5JdGVyYXRvcih0aGlzLCBwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbik7XG4gICAgICAgIHZhciB0b2tlbiA9IGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlbigpO1xuICAgICAgICBpZiAoIXRva2VuKVxuICAgICAgICAgICAgdG9rZW4gPSBpdGVyYXRvci5zdGVwRm9yd2FyZCgpO1xuICAgICAgICBpZiAoIXRva2VuKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgIGlmICghdHlwZVJlKXtcbiAgICAgICAgICAgIHR5cGVSZSA9IG5ldyBSZWdFeHAoXG4gICAgICAgICAgICAgICAgXCIoXFxcXC4/XCIgK1xuICAgICAgICAgICAgICAgIHRva2VuLnR5cGUucmVwbGFjZShcIi5cIiwgXCJcXFxcLlwiKS5yZXBsYWNlKFwicnBhcmVuXCIsIFwiLnBhcmVuXCIpXG4gICAgICAgICAgICAgICAgKyBcIikrXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlSW5kZXggPSBwb3NpdGlvbi5jb2x1bW4gLSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKSAtIDI7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRva2VuLnZhbHVlO1xuICAgICAgICBcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgXG4gICAgICAgICAgICB3aGlsZSAodmFsdWVJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNociA9IHZhbHVlLmNoYXJBdCh2YWx1ZUluZGV4KTtcbiAgICAgICAgICAgICAgICBpZiAoY2hyID09IG9wZW5CcmFja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcHRoIC09IDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXB0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge3JvdzogaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuUm93KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uOiB2YWx1ZUluZGV4ICsgaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCl9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNociA9PSBicmFja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcHRoICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlSW5kZXggLT0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IGl0ZXJhdG9yLnN0ZXBCYWNrd2FyZCgpO1xuICAgICAgICAgICAgfSB3aGlsZSAodG9rZW4gJiYgIXR5cGVSZS50ZXN0KHRva2VuLnR5cGUpKTtcblxuICAgICAgICAgICAgaWYgKHRva2VuID09IG51bGwpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB2YWx1ZSA9IHRva2VuLnZhbHVlO1xuICAgICAgICAgICAgdmFsdWVJbmRleCA9IHZhbHVlLmxlbmd0aCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICB0aGlzLiRmaW5kQ2xvc2luZ0JyYWNrZXQgPSBmdW5jdGlvbihicmFja2V0LCBwb3NpdGlvbiwgdHlwZVJlKSB7XG4gICAgICAgIHZhciBjbG9zaW5nQnJhY2tldCA9IHRoaXMuJGJyYWNrZXRzW2JyYWNrZXRdO1xuICAgICAgICB2YXIgZGVwdGggPSAxO1xuXG4gICAgICAgIHZhciBpdGVyYXRvciA9IG5ldyBUb2tlbkl0ZXJhdG9yKHRoaXMsIHBvc2l0aW9uLnJvdywgcG9zaXRpb24uY29sdW1uKTtcbiAgICAgICAgdmFyIHRva2VuID0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuKCk7XG4gICAgICAgIGlmICghdG9rZW4pXG4gICAgICAgICAgICB0b2tlbiA9IGl0ZXJhdG9yLnN0ZXBGb3J3YXJkKCk7XG4gICAgICAgIGlmICghdG9rZW4pXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKCF0eXBlUmUpe1xuICAgICAgICAgICAgdHlwZVJlID0gbmV3IFJlZ0V4cChcbiAgICAgICAgICAgICAgICBcIihcXFxcLj9cIiArXG4gICAgICAgICAgICAgICAgdG9rZW4udHlwZS5yZXBsYWNlKFwiLlwiLCBcIlxcXFwuXCIpLnJlcGxhY2UoXCJscGFyZW5cIiwgXCIucGFyZW5cIilcbiAgICAgICAgICAgICAgICArIFwiKStcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsdWVJbmRleCA9IHBvc2l0aW9uLmNvbHVtbiAtIGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpO1xuXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG5cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRva2VuLnZhbHVlO1xuICAgICAgICAgICAgdmFyIHZhbHVlTGVuZ3RoID0gdmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKHZhbHVlSW5kZXggPCB2YWx1ZUxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciBjaHIgPSB2YWx1ZS5jaGFyQXQodmFsdWVJbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKGNociA9PSBjbG9zaW5nQnJhY2tldCkge1xuICAgICAgICAgICAgICAgICAgICBkZXB0aCAtPSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVwdGggPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtyb3c6IGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlblJvdygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbjogdmFsdWVJbmRleCArIGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaHIgPT0gYnJhY2tldCkge1xuICAgICAgICAgICAgICAgICAgICBkZXB0aCArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YWx1ZUluZGV4ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSBpdGVyYXRvci5zdGVwRm9yd2FyZCgpO1xuICAgICAgICAgICAgfSB3aGlsZSAodG9rZW4gJiYgIXR5cGVSZS50ZXN0KHRva2VuLnR5cGUpKTtcblxuICAgICAgICAgICAgaWYgKHRva2VuID09IG51bGwpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIHZhbHVlSW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xufVxuZXhwb3J0cy5CcmFja2V0TWF0Y2ggPSBCcmFja2V0TWF0Y2g7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKCdhY2Uvc2VhcmNoJywgW1wicmVxdWlyZVwiLCAnZXhwb3J0cycsICdtb2R1bGUnICwgJ2FjZS9saWIvbGFuZycsICdhY2UvbGliL29vcCcsICdhY2UvcmFuZ2UnXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5cbnZhciBsYW5nID0gYWNlcXVpcmUoXCIuL2xpYi9sYW5nXCIpO1xudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi9saWIvb29wXCIpO1xudmFyIFJhbmdlID0gYWNlcXVpcmUoXCIuL3JhbmdlXCIpLlJhbmdlO1xuXG52YXIgU2VhcmNoID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kb3B0aW9ucyA9IHt9O1xufTtcblxuKGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc2V0ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBvb3AubWl4aW4odGhpcy4kb3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgdGhpcy5nZXRPcHRpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBsYW5nLmNvcHlPYmplY3QodGhpcy4kb3B0aW9ucyk7XG4gICAgfTtcbiAgICB0aGlzLnNldE9wdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuJG9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH07XG4gICAgdGhpcy5maW5kID0gZnVuY3Rpb24oc2Vzc2lvbikge1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLiRtYXRjaEl0ZXJhdG9yKHNlc3Npb24sIHRoaXMuJG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICghaXRlcmF0b3IpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgdmFyIGZpcnN0UmFuZ2UgPSBudWxsO1xuICAgICAgICBpdGVyYXRvci5mb3JFYWNoKGZ1bmN0aW9uKHJhbmdlLCByb3csIG9mZnNldCkge1xuICAgICAgICAgICAgaWYgKCFyYW5nZS5zdGFydCkge1xuICAgICAgICAgICAgICAgIHZhciBjb2x1bW4gPSByYW5nZS5vZmZzZXQgKyAob2Zmc2V0IHx8IDApO1xuICAgICAgICAgICAgICAgIGZpcnN0UmFuZ2UgPSBuZXcgUmFuZ2Uocm93LCBjb2x1bW4sIHJvdywgY29sdW1uK3JhbmdlLmxlbmd0aCk7XG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICBmaXJzdFJhbmdlID0gcmFuZ2U7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGZpcnN0UmFuZ2U7XG4gICAgfTtcbiAgICB0aGlzLmZpbmRBbGwgPSBmdW5jdGlvbihzZXNzaW9uKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy4kb3B0aW9ucztcbiAgICAgICAgaWYgKCFvcHRpb25zLm5lZWRsZSlcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgdGhpcy4kYXNzZW1ibGVSZWdFeHAob3B0aW9ucyk7XG5cbiAgICAgICAgdmFyIHJhbmdlID0gb3B0aW9ucy5yYW5nZTtcbiAgICAgICAgdmFyIGxpbmVzID0gcmFuZ2VcbiAgICAgICAgICAgID8gc2Vzc2lvbi5nZXRMaW5lcyhyYW5nZS5zdGFydC5yb3csIHJhbmdlLmVuZC5yb3cpXG4gICAgICAgICAgICA6IHNlc3Npb24uZG9jLmdldEFsbExpbmVzKCk7XG5cbiAgICAgICAgdmFyIHJhbmdlcyA9IFtdO1xuICAgICAgICB2YXIgcmUgPSBvcHRpb25zLnJlO1xuICAgICAgICBpZiAob3B0aW9ucy4kaXNNdWx0aUxpbmUpIHtcbiAgICAgICAgICAgIHZhciBsZW4gPSByZS5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgbWF4Um93ID0gbGluZXMubGVuZ3RoIC0gbGVuO1xuICAgICAgICAgICAgZm9yICh2YXIgcm93ID0gcmUub2Zmc2V0IHx8IDA7IHJvdyA8PSBtYXhSb3c7IHJvdysrKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsZW47IGorKylcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmVzW3JvdyArIGpdLnNlYXJjaChyZVtqXSkgPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRMaW5lID0gbGluZXNbcm93XTtcbiAgICAgICAgICAgICAgICB2YXIgbGluZSA9IGxpbmVzW3JvdyArIGxlbiAtIDFdO1xuICAgICAgICAgICAgICAgIHZhciBzdGFydEluZGV4ID0gc3RhcnRMaW5lLm1hdGNoKHJlWzBdKVswXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdmFyIGVuZEluZGV4ID0gbGluZS5tYXRjaChyZVtsZW4gLSAxXSlbMF0ubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2gobmV3IFJhbmdlKFxuICAgICAgICAgICAgICAgICAgICByb3csIHN0YXJ0TGluZS5sZW5ndGggLSBzdGFydEluZGV4LFxuICAgICAgICAgICAgICAgICAgICByb3cgKyBsZW4gLSAxLCBlbmRJbmRleFxuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzID0gbGFuZy5nZXRNYXRjaE9mZnNldHMobGluZXNbaV0sIHJlKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1hdGNoZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gbWF0Y2hlc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2gobmV3IFJhbmdlKGksIG1hdGNoLm9mZnNldCwgaSwgbWF0Y2gub2Zmc2V0ICsgbWF0Y2gubGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJhbmdlKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnRDb2x1bW4gPSByYW5nZS5zdGFydC5jb2x1bW47XG4gICAgICAgICAgICB2YXIgZW5kQ29sdW1uID0gcmFuZ2Uuc3RhcnQuY29sdW1uO1xuICAgICAgICAgICAgdmFyIGkgPSAwLCBqID0gcmFuZ2VzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB3aGlsZSAoaSA8IGogJiYgcmFuZ2VzW2ldLnN0YXJ0LmNvbHVtbiA8IHN0YXJ0Q29sdW1uICYmIHJhbmdlc1tpXS5zdGFydC5yb3cgPT0gcmFuZ2Uuc3RhcnQucm93KVxuICAgICAgICAgICAgICAgIGkrKztcblxuICAgICAgICAgICAgd2hpbGUgKGkgPCBqICYmIHJhbmdlc1tqXS5lbmQuY29sdW1uID4gZW5kQ29sdW1uICYmIHJhbmdlc1tqXS5lbmQucm93ID09IHJhbmdlLmVuZC5yb3cpXG4gICAgICAgICAgICAgICAgai0tO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByYW5nZXMgPSByYW5nZXMuc2xpY2UoaSwgaiArIDEpO1xuICAgICAgICAgICAgZm9yIChpID0gMCwgaiA9IHJhbmdlcy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgICAgICByYW5nZXNbaV0uc3RhcnQucm93ICs9IHJhbmdlLnN0YXJ0LnJvdztcbiAgICAgICAgICAgICAgICByYW5nZXNbaV0uZW5kLnJvdyArPSByYW5nZS5zdGFydC5yb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmFuZ2VzO1xuICAgIH07XG4gICAgdGhpcy5yZXBsYWNlID0gZnVuY3Rpb24oaW5wdXQsIHJlcGxhY2VtZW50KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy4kb3B0aW9ucztcblxuICAgICAgICB2YXIgcmUgPSB0aGlzLiRhc3NlbWJsZVJlZ0V4cChvcHRpb25zKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuJGlzTXVsdGlMaW5lKVxuICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2VtZW50O1xuXG4gICAgICAgIGlmICghcmUpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIG1hdGNoID0gcmUuZXhlYyhpbnB1dCk7XG4gICAgICAgIGlmICghbWF0Y2ggfHwgbWF0Y2hbMF0ubGVuZ3RoICE9IGlucHV0Lmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBcbiAgICAgICAgcmVwbGFjZW1lbnQgPSBpbnB1dC5yZXBsYWNlKHJlLCByZXBsYWNlbWVudCk7XG4gICAgICAgIGlmIChvcHRpb25zLnByZXNlcnZlQ2FzZSkge1xuICAgICAgICAgICAgcmVwbGFjZW1lbnQgPSByZXBsYWNlbWVudC5zcGxpdChcIlwiKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBNYXRoLm1pbihpbnB1dC5sZW5ndGgsIGlucHV0Lmxlbmd0aCk7IGktLTsgKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoID0gaW5wdXRbaV07XG4gICAgICAgICAgICAgICAgaWYgKGNoICYmIGNoLnRvTG93ZXJDYXNlKCkgIT0gY2gpXG4gICAgICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50W2ldID0gcmVwbGFjZW1lbnRbaV0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50W2ldID0gcmVwbGFjZW1lbnRbaV0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcGxhY2VtZW50ID0gcmVwbGFjZW1lbnQuam9pbihcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlcGxhY2VtZW50O1xuICAgIH07XG5cbiAgICB0aGlzLiRtYXRjaEl0ZXJhdG9yID0gZnVuY3Rpb24oc2Vzc2lvbiwgb3B0aW9ucykge1xuICAgICAgICB2YXIgcmUgPSB0aGlzLiRhc3NlbWJsZVJlZ0V4cChvcHRpb25zKTtcbiAgICAgICAgaWYgKCFyZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICB2YXIgc2VsZiA9IHRoaXMsIGNhbGxiYWNrLCBiYWNrd2FyZHMgPSBvcHRpb25zLmJhY2t3YXJkcztcblxuICAgICAgICBpZiAob3B0aW9ucy4kaXNNdWx0aUxpbmUpIHtcbiAgICAgICAgICAgIHZhciBsZW4gPSByZS5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgbWF0Y2hJdGVyYXRvciA9IGZ1bmN0aW9uKGxpbmUsIHJvdywgb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0SW5kZXggPSBsaW5lLnNlYXJjaChyZVswXSk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0SW5kZXggPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocm93ICsgaSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5lLnNlYXJjaChyZVtpXSkgPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGVuZEluZGV4ID0gbGluZS5tYXRjaChyZVtsZW4gLSAxXSlbMF0ubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gbmV3IFJhbmdlKHJvdywgc3RhcnRJbmRleCwgcm93ICsgbGVuIC0gMSwgZW5kSW5kZXgpO1xuICAgICAgICAgICAgICAgIGlmIChyZS5vZmZzZXQgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5zdGFydC5yb3ctLTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc3RhcnQuY29sdW1uID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9mZnNldClcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc3RhcnQuY29sdW1uICs9IG9mZnNldDtcblxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayhyYW5nZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChiYWNrd2FyZHMpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaEl0ZXJhdG9yID0gZnVuY3Rpb24obGluZSwgcm93LCBzdGFydEluZGV4KSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBsYW5nLmdldE1hdGNoT2Zmc2V0cyhsaW5lLCByZSk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IG1hdGNoZXMubGVuZ3RoLTE7IGkgPj0gMDsgaS0tKVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2sobWF0Y2hlc1tpXSwgcm93LCBzdGFydEluZGV4KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBtYXRjaEl0ZXJhdG9yID0gZnVuY3Rpb24obGluZSwgcm93LCBzdGFydEluZGV4KSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBsYW5nLmdldE1hdGNoT2Zmc2V0cyhsaW5lLCByZSk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXRjaGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2sobWF0Y2hlc1tpXSwgcm93LCBzdGFydEluZGV4KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmb3JFYWNoOiBmdW5jdGlvbihfY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IF9jYWxsYmFjaztcbiAgICAgICAgICAgICAgICBzZWxmLiRsaW5lSXRlcmF0b3Ioc2Vzc2lvbiwgb3B0aW9ucykuZm9yRWFjaChtYXRjaEl0ZXJhdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdGhpcy4kYXNzZW1ibGVSZWdFeHAgPSBmdW5jdGlvbihvcHRpb25zLCAkZGlzYWJsZUZha2VNdWx0aWxpbmUpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMubmVlZGxlIGluc3RhbmNlb2YgUmVnRXhwKVxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMucmUgPSBvcHRpb25zLm5lZWRsZTtcblxuICAgICAgICB2YXIgbmVlZGxlID0gb3B0aW9ucy5uZWVkbGU7XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLm5lZWRsZSlcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLnJlID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLnJlZ0V4cClcbiAgICAgICAgICAgIG5lZWRsZSA9IGxhbmcuZXNjYXBlUmVnRXhwKG5lZWRsZSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMud2hvbGVXb3JkKVxuICAgICAgICAgICAgbmVlZGxlID0gXCJcXFxcYlwiICsgbmVlZGxlICsgXCJcXFxcYlwiO1xuXG4gICAgICAgIHZhciBtb2RpZmllciA9IG9wdGlvbnMuY2FzZVNlbnNpdGl2ZSA/IFwiZ1wiIDogXCJnaVwiO1xuXG4gICAgICAgIG9wdGlvbnMuJGlzTXVsdGlMaW5lID0gISRkaXNhYmxlRmFrZU11bHRpbGluZSAmJiAvW1xcblxccl0vLnRlc3QobmVlZGxlKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuJGlzTXVsdGlMaW5lKVxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMucmUgPSB0aGlzLiRhc3NlbWJsZU11bHRpbGluZVJlZ0V4cChuZWVkbGUsIG1vZGlmaWVyKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHJlID0gbmV3IFJlZ0V4cChuZWVkbGUsIG1vZGlmaWVyKTtcbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICByZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcHRpb25zLnJlID0gcmU7XG4gICAgfTtcblxuICAgIHRoaXMuJGFzc2VtYmxlTXVsdGlsaW5lUmVnRXhwID0gZnVuY3Rpb24obmVlZGxlLCBtb2RpZmllcikge1xuICAgICAgICB2YXIgcGFydHMgPSBuZWVkbGUucmVwbGFjZSgvXFxyXFxufFxccnxcXG4vZywgXCIkXFxuXlwiKS5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgdmFyIHJlID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHRyeSB7XG4gICAgICAgICAgICByZS5wdXNoKG5ldyBSZWdFeHAocGFydHNbaV0sIG1vZGlmaWVyKSk7XG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0c1swXSA9PSBcIlwiKSB7XG4gICAgICAgICAgICByZS5zaGlmdCgpO1xuICAgICAgICAgICAgcmUub2Zmc2V0ID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlLm9mZnNldCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlO1xuICAgIH07XG5cbiAgICB0aGlzLiRsaW5lSXRlcmF0b3IgPSBmdW5jdGlvbihzZXNzaW9uLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBiYWNrd2FyZHMgPSBvcHRpb25zLmJhY2t3YXJkcyA9PSB0cnVlO1xuICAgICAgICB2YXIgc2tpcEN1cnJlbnQgPSBvcHRpb25zLnNraXBDdXJyZW50ICE9IGZhbHNlO1xuXG4gICAgICAgIHZhciByYW5nZSA9IG9wdGlvbnMucmFuZ2U7XG4gICAgICAgIHZhciBzdGFydCA9IG9wdGlvbnMuc3RhcnQ7XG4gICAgICAgIGlmICghc3RhcnQpXG4gICAgICAgICAgICBzdGFydCA9IHJhbmdlID8gcmFuZ2VbYmFja3dhcmRzID8gXCJlbmRcIiA6IFwic3RhcnRcIl0gOiBzZXNzaW9uLnNlbGVjdGlvbi5nZXRSYW5nZSgpO1xuICAgICAgICAgXG4gICAgICAgIGlmIChzdGFydC5zdGFydClcbiAgICAgICAgICAgIHN0YXJ0ID0gc3RhcnRbc2tpcEN1cnJlbnQgIT0gYmFja3dhcmRzID8gXCJlbmRcIiA6IFwic3RhcnRcIl07XG5cbiAgICAgICAgdmFyIGZpcnN0Um93ID0gcmFuZ2UgPyByYW5nZS5zdGFydC5yb3cgOiAwO1xuICAgICAgICB2YXIgbGFzdFJvdyA9IHJhbmdlID8gcmFuZ2UuZW5kLnJvdyA6IHNlc3Npb24uZ2V0TGVuZ3RoKCkgLSAxO1xuXG4gICAgICAgIHZhciBmb3JFYWNoID0gYmFja3dhcmRzID8gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB2YXIgcm93ID0gc3RhcnQucm93O1xuXG4gICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocm93KS5zdWJzdHJpbmcoMCwgc3RhcnQuY29sdW1uKTtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2sobGluZSwgcm93KSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgZm9yIChyb3ctLTsgcm93ID49IGZpcnN0Um93OyByb3ctLSlcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKHNlc3Npb24uZ2V0TGluZShyb3cpLCByb3cpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMud3JhcCA9PSBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgZm9yIChyb3cgPSBsYXN0Um93LCBmaXJzdFJvdyA9IHN0YXJ0LnJvdzsgcm93ID49IGZpcnN0Um93OyByb3ctLSlcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKHNlc3Npb24uZ2V0TGluZShyb3cpLCByb3cpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSA6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJvdyA9IHN0YXJ0LnJvdztcblxuICAgICAgICAgICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdykuc3Vic3RyKHN0YXJ0LmNvbHVtbik7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKGxpbmUsIHJvdywgc3RhcnQuY29sdW1uKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgZm9yIChyb3cgPSByb3crMTsgcm93IDw9IGxhc3RSb3c7IHJvdysrKVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2soc2Vzc2lvbi5nZXRMaW5lKHJvdyksIHJvdykpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy53cmFwID09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBmb3IgKHJvdyA9IGZpcnN0Um93LCBsYXN0Um93ID0gc3RhcnQucm93OyByb3cgPD0gbGFzdFJvdzsgcm93KyspXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayhzZXNzaW9uLmdldExpbmUocm93KSwgcm93KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICByZXR1cm4ge2ZvckVhY2g6IGZvckVhY2h9O1xuICAgIH07XG5cbn0pLmNhbGwoU2VhcmNoLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuU2VhcmNoID0gU2VhcmNoO1xufSk7XG5hY2UuZGVmaW5lKCdhY2UvY29tbWFuZHMvY29tbWFuZF9tYW5hZ2VyJywgW1wicmVxdWlyZVwiLCAnZXhwb3J0cycsICdtb2R1bGUnICwgJ2FjZS9saWIvb29wJywgJ2FjZS9rZXlib2FyZC9oYXNoX2hhbmRsZXInLCAnYWNlL2xpYi9ldmVudF9lbWl0dGVyJ10sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuXG52YXIgb29wID0gYWNlcXVpcmUoXCIuLi9saWIvb29wXCIpO1xudmFyIEhhc2hIYW5kbGVyID0gYWNlcXVpcmUoXCIuLi9rZXlib2FyZC9oYXNoX2hhbmRsZXJcIikuSGFzaEhhbmRsZXI7XG52YXIgRXZlbnRFbWl0dGVyID0gYWNlcXVpcmUoXCIuLi9saWIvZXZlbnRfZW1pdHRlclwiKS5FdmVudEVtaXR0ZXI7XG5cbnZhciBDb21tYW5kTWFuYWdlciA9IGZ1bmN0aW9uKHBsYXRmb3JtLCBjb21tYW5kcykge1xuICAgIHRoaXMucGxhdGZvcm0gPSBwbGF0Zm9ybTtcbiAgICB0aGlzLmNvbW1hbmRzID0gdGhpcy5ieU5hbWUgPSB7fTtcbiAgICB0aGlzLmNvbW1tYW5kS2V5QmluZGluZyA9IHt9O1xuXG4gICAgdGhpcy5hZGRDb21tYW5kcyhjb21tYW5kcyk7XG5cbiAgICB0aGlzLnNldERlZmF1bHRIYW5kbGVyKFwiZXhlY1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHJldHVybiBlLmNvbW1hbmQuZXhlYyhlLmVkaXRvciwgZS5hcmdzIHx8IHt9KTtcbiAgICB9KTtcbn07XG5cbm9vcC5pbmhlcml0cyhDb21tYW5kTWFuYWdlciwgSGFzaEhhbmRsZXIpO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7XG5cbiAgICB0aGlzLmV4ZWMgPSBmdW5jdGlvbihjb21tYW5kLCBlZGl0b3IsIGFyZ3MpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjb21tYW5kID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgIGNvbW1hbmQgPSB0aGlzLmNvbW1hbmRzW2NvbW1hbmRdO1xuXG4gICAgICAgIGlmICghY29tbWFuZClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICBpZiAoZWRpdG9yICYmIGVkaXRvci4kcmVhZE9ubHkgJiYgIWNvbW1hbmQucmVhZE9ubHkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgdmFyIGUgPSB7ZWRpdG9yOiBlZGl0b3IsIGNvbW1hbmQ6IGNvbW1hbmQsIGFyZ3M6IGFyZ3N9O1xuICAgICAgICB2YXIgcmV0dmFsdWUgPSB0aGlzLl9lbWl0KFwiZXhlY1wiLCBlKTtcbiAgICAgICAgdGhpcy5fc2lnbmFsKFwiYWZ0ZXJFeGVjXCIsIGUpO1xuXG4gICAgICAgIHJldHVybiByZXR2YWx1ZSA9PT0gZmFsc2UgPyBmYWxzZSA6IHRydWU7XG4gICAgfTtcblxuICAgIHRoaXMudG9nZ2xlUmVjb3JkaW5nID0gZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIGlmICh0aGlzLiRpblJlcGxheSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBlZGl0b3IgJiYgZWRpdG9yLl9lbWl0KFwiY2hhbmdlU3RhdHVzXCIpO1xuICAgICAgICBpZiAodGhpcy5yZWNvcmRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMubWFjcm8ucG9wKCk7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJleGVjXCIsIHRoaXMuJGFkZENvbW1hbmRUb01hY3JvKTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLm1hY3JvLmxlbmd0aClcbiAgICAgICAgICAgICAgICB0aGlzLm1hY3JvID0gdGhpcy5vbGRNYWNybztcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVjb3JkaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLiRhZGRDb21tYW5kVG9NYWNybykge1xuICAgICAgICAgICAgdGhpcy4kYWRkQ29tbWFuZFRvTWFjcm8gPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYWNyby5wdXNoKFtlLmNvbW1hbmQsIGUuYXJnc10pO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vbGRNYWNybyA9IHRoaXMubWFjcm87XG4gICAgICAgIHRoaXMubWFjcm8gPSBbXTtcbiAgICAgICAgdGhpcy5vbihcImV4ZWNcIiwgdGhpcy4kYWRkQ29tbWFuZFRvTWFjcm8pO1xuICAgICAgICByZXR1cm4gdGhpcy5yZWNvcmRpbmcgPSB0cnVlO1xuICAgIH07XG5cbiAgICB0aGlzLnJlcGxheSA9IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICBpZiAodGhpcy4kaW5SZXBsYXkgfHwgIXRoaXMubWFjcm8pXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKHRoaXMucmVjb3JkaW5nKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9nZ2xlUmVjb3JkaW5nKGVkaXRvcik7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuJGluUmVwbGF5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubWFjcm8uZm9yRWFjaChmdW5jdGlvbih4KSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB4ID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXhlYyh4LCBlZGl0b3IpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5leGVjKHhbMF0sIGVkaXRvciwgeFsxXSk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuJGluUmVwbGF5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy50cmltTWFjcm8gPSBmdW5jdGlvbihtKSB7XG4gICAgICAgIHJldHVybiBtLm1hcChmdW5jdGlvbih4KXtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgeFswXSAhPSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgIHhbMF0gPSB4WzBdLm5hbWU7XG4gICAgICAgICAgICBpZiAoIXhbMV0pXG4gICAgICAgICAgICAgICAgeCA9IHhbMF07XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfSk7XG4gICAgfTtcblxufSkuY2FsbChDb21tYW5kTWFuYWdlci5wcm90b3R5cGUpO1xuXG5leHBvcnRzLkNvbW1hbmRNYW5hZ2VyID0gQ29tbWFuZE1hbmFnZXI7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKCdhY2Uva2V5Ym9hcmQvaGFzaF9oYW5kbGVyJywgW1wicmVxdWlyZVwiLCAnZXhwb3J0cycsICdtb2R1bGUnICwgJ2FjZS9saWIva2V5cycsICdhY2UvbGliL3VzZXJhZ2VudCddLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cblxudmFyIGtleVV0aWwgPSBhY2VxdWlyZShcIi4uL2xpYi9rZXlzXCIpO1xudmFyIHVzZXJhZ2VudCA9IGFjZXF1aXJlKFwiLi4vbGliL3VzZXJhZ2VudFwiKTtcblxuZnVuY3Rpb24gSGFzaEhhbmRsZXIoY29uZmlnLCBwbGF0Zm9ybSkge1xuICAgIHRoaXMucGxhdGZvcm0gPSBwbGF0Zm9ybSB8fCAodXNlcmFnZW50LmlzTWFjID8gXCJtYWNcIiA6IFwid2luXCIpO1xuICAgIHRoaXMuY29tbWFuZHMgPSB7fTtcbiAgICB0aGlzLmNvbW1tYW5kS2V5QmluZGluZyA9IHt9O1xuXG4gICAgdGhpcy5hZGRDb21tYW5kcyhjb25maWcpO1xufTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy5hZGRDb21tYW5kID0gZnVuY3Rpb24oY29tbWFuZCkge1xuICAgICAgICBpZiAodGhpcy5jb21tYW5kc1tjb21tYW5kLm5hbWVdKVxuICAgICAgICAgICAgdGhpcy5yZW1vdmVDb21tYW5kKGNvbW1hbmQpO1xuXG4gICAgICAgIHRoaXMuY29tbWFuZHNbY29tbWFuZC5uYW1lXSA9IGNvbW1hbmQ7XG5cbiAgICAgICAgaWYgKGNvbW1hbmQuYmluZEtleSlcbiAgICAgICAgICAgIHRoaXMuX2J1aWxkS2V5SGFzaChjb21tYW5kKTtcbiAgICB9O1xuXG4gICAgdGhpcy5yZW1vdmVDb21tYW5kID0gZnVuY3Rpb24oY29tbWFuZCkge1xuICAgICAgICB2YXIgbmFtZSA9ICh0eXBlb2YgY29tbWFuZCA9PT0gJ3N0cmluZycgPyBjb21tYW5kIDogY29tbWFuZC5uYW1lKTtcbiAgICAgICAgY29tbWFuZCA9IHRoaXMuY29tbWFuZHNbbmFtZV07XG4gICAgICAgIGRlbGV0ZSB0aGlzLmNvbW1hbmRzW25hbWVdO1xuICAgICAgICB2YXIgY2tiID0gdGhpcy5jb21tbWFuZEtleUJpbmRpbmc7XG4gICAgICAgIGZvciAodmFyIGhhc2hJZCBpbiBja2IpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBja2JbaGFzaElkXSkge1xuICAgICAgICAgICAgICAgIGlmIChja2JbaGFzaElkXVtrZXldID09IGNvbW1hbmQpXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBja2JbaGFzaElkXVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuYmluZEtleSA9IGZ1bmN0aW9uKGtleSwgY29tbWFuZCkge1xuICAgICAgICBpZigha2V5KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAodHlwZW9mIGNvbW1hbmQgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzLmFkZENvbW1hbmQoe2V4ZWM6IGNvbW1hbmQsIGJpbmRLZXk6IGtleSwgbmFtZTogY29tbWFuZC5uYW1lIHx8IGtleX0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNrYiA9IHRoaXMuY29tbW1hbmRLZXlCaW5kaW5nO1xuICAgICAgICBrZXkuc3BsaXQoXCJ8XCIpLmZvckVhY2goZnVuY3Rpb24oa2V5UGFydCkge1xuICAgICAgICAgICAgdmFyIGJpbmRpbmcgPSB0aGlzLnBhcnNlS2V5cyhrZXlQYXJ0LCBjb21tYW5kKTtcbiAgICAgICAgICAgIHZhciBoYXNoSWQgPSBiaW5kaW5nLmhhc2hJZDtcbiAgICAgICAgICAgIChja2JbaGFzaElkXSB8fCAoY2tiW2hhc2hJZF0gPSB7fSkpW2JpbmRpbmcua2V5XSA9IGNvbW1hbmQ7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH07XG5cbiAgICB0aGlzLmFkZENvbW1hbmRzID0gZnVuY3Rpb24oY29tbWFuZHMpIHtcbiAgICAgICAgY29tbWFuZHMgJiYgT2JqZWN0LmtleXMoY29tbWFuZHMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSBjb21tYW5kc1tuYW1lXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29tbWFuZCA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5iaW5kS2V5KGNvbW1hbmQsIG5hbWUpO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbW1hbmQgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgICAgICBjb21tYW5kID0geyBleGVjOiBjb21tYW5kIH07XG5cbiAgICAgICAgICAgIGlmICghY29tbWFuZC5uYW1lKVxuICAgICAgICAgICAgICAgIGNvbW1hbmQubmFtZSA9IG5hbWU7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkQ29tbWFuZChjb21tYW5kKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfTtcblxuICAgIHRoaXMucmVtb3ZlQ29tbWFuZHMgPSBmdW5jdGlvbihjb21tYW5kcykge1xuICAgICAgICBPYmplY3Qua2V5cyhjb21tYW5kcykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUNvbW1hbmQoY29tbWFuZHNbbmFtZV0pO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9O1xuXG4gICAgdGhpcy5iaW5kS2V5cyA9IGZ1bmN0aW9uKGtleUxpc3QpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoa2V5TGlzdCkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgIHRoaXMuYmluZEtleShrZXksIGtleUxpc3Rba2V5XSk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH07XG5cbiAgICB0aGlzLl9idWlsZEtleUhhc2ggPSBmdW5jdGlvbihjb21tYW5kKSB7XG4gICAgICAgIHZhciBiaW5kaW5nID0gY29tbWFuZC5iaW5kS2V5O1xuICAgICAgICBpZiAoIWJpbmRpbmcpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIGtleSA9IHR5cGVvZiBiaW5kaW5nID09IFwic3RyaW5nXCIgPyBiaW5kaW5nOiBiaW5kaW5nW3RoaXMucGxhdGZvcm1dO1xuICAgICAgICB0aGlzLmJpbmRLZXkoa2V5LCBjb21tYW5kKTtcbiAgICB9O1xuICAgIHRoaXMucGFyc2VLZXlzID0gZnVuY3Rpb24oa2V5cykge1xuICAgICAgICBpZiAoa2V5cy5pbmRleE9mKFwiIFwiKSAhPSAtMSlcbiAgICAgICAgICAgIGtleXMgPSBrZXlzLnNwbGl0KC9cXHMrLykucG9wKCk7XG5cbiAgICAgICAgdmFyIHBhcnRzID0ga2V5cy50b0xvd2VyQ2FzZSgpLnNwbGl0KC9bXFwtXFwrXShbXFwtXFwrXSk/LykuZmlsdGVyKGZ1bmN0aW9uKHgpe3JldHVybiB4fSk7XG4gICAgICAgIHZhciBrZXkgPSBwYXJ0cy5wb3AoKTtcblxuICAgICAgICB2YXIga2V5Q29kZSA9IGtleVV0aWxba2V5XTtcbiAgICAgICAgaWYgKGtleVV0aWwuRlVOQ1RJT05fS0VZU1trZXlDb2RlXSlcbiAgICAgICAgICAgIGtleSA9IGtleVV0aWwuRlVOQ1RJT05fS0VZU1trZXlDb2RlXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBlbHNlIGlmICghcGFydHMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHtrZXk6IGtleSwgaGFzaElkOiAtMX07XG4gICAgICAgIGVsc2UgaWYgKHBhcnRzLmxlbmd0aCA9PSAxICYmIHBhcnRzWzBdID09IFwic2hpZnRcIilcbiAgICAgICAgICAgIHJldHVybiB7a2V5OiBrZXkudG9VcHBlckNhc2UoKSwgaGFzaElkOiAtMX07XG5cbiAgICAgICAgdmFyIGhhc2hJZCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSBwYXJ0cy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgICAgIHZhciBtb2RpZmllciA9IGtleVV0aWwuS0VZX01PRFNbcGFydHNbaV1dO1xuICAgICAgICAgICAgaWYgKG1vZGlmaWVyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiaW52YWxpZCBtb2RpZmllciBcIiArIHBhcnRzW2ldICsgXCIgaW4gXCIgKyBrZXlzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoYXNoSWQgfD0gbW9kaWZpZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtrZXk6IGtleSwgaGFzaElkOiBoYXNoSWR9O1xuICAgIH07XG5cbiAgICB0aGlzLmZpbmRLZXlDb21tYW5kID0gZnVuY3Rpb24gZmluZEtleUNvbW1hbmQoaGFzaElkLCBrZXlTdHJpbmcpIHtcbiAgICAgICAgdmFyIGNrYnIgPSB0aGlzLmNvbW1tYW5kS2V5QmluZGluZztcbiAgICAgICAgcmV0dXJuIGNrYnJbaGFzaElkXSAmJiBja2JyW2hhc2hJZF1ba2V5U3RyaW5nXTtcbiAgICB9O1xuXG4gICAgdGhpcy5oYW5kbGVLZXlib2FyZCA9IGZ1bmN0aW9uKGRhdGEsIGhhc2hJZCwga2V5U3RyaW5nLCBrZXlDb2RlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb21tYW5kOiB0aGlzLmZpbmRLZXlDb21tYW5kKGhhc2hJZCwga2V5U3RyaW5nKVxuICAgICAgICB9O1xuICAgIH07XG5cbn0pLmNhbGwoSGFzaEhhbmRsZXIucHJvdG90eXBlKVxuXG5leHBvcnRzLkhhc2hIYW5kbGVyID0gSGFzaEhhbmRsZXI7XG59KTtcblxuYWNlLmRlZmluZSgnYWNlL2NvbW1hbmRzL2RlZmF1bHRfY29tbWFuZHMnLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgLCAnYWNlL2xpYi9sYW5nJywgJ2FjZS9jb25maWcnXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5cbnZhciBsYW5nID0gYWNlcXVpcmUoXCIuLi9saWIvbGFuZ1wiKTtcbnZhciBjb25maWcgPSBhY2VxdWlyZShcIi4uL2NvbmZpZ1wiKTtcblxuZnVuY3Rpb24gYmluZEtleSh3aW4sIG1hYykge1xuICAgIHJldHVybiB7XG4gICAgICAgIHdpbjogd2luLFxuICAgICAgICBtYWM6IG1hY1xuICAgIH07XG59XG5cbmV4cG9ydHMuY29tbWFuZHMgPSBbe1xuICAgIG5hbWU6IFwic2hvd1NldHRpbmdzTWVudVwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLSxcIiwgXCJDb21tYW5kLSxcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIGNvbmZpZy5sb2FkTW9kdWxlKFwiYWNlL2V4dC9zZXR0aW5nc19tZW51XCIsIGZ1bmN0aW9uKG1vZHVsZSkge1xuICAgICAgICAgICAgbW9kdWxlLmluaXQoZWRpdG9yKTtcbiAgICAgICAgICAgIGVkaXRvci5zaG93U2V0dGluZ3NNZW51KCk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInNlbGVjdGFsbFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLUFcIiwgXCJDb21tYW5kLUFcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5zZWxlY3RBbGwoKTsgfSxcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwiY2VudGVyc2VsZWN0aW9uXCIsXG4gICAgYmluZEtleTogYmluZEtleShudWxsLCBcIkN0cmwtTFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmNlbnRlclNlbGVjdGlvbigpOyB9LFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJnb3RvbGluZVwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLUxcIiwgXCJDb21tYW5kLUxcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIHZhciBsaW5lID0gcGFyc2VJbnQocHJvbXB0KFwiRW50ZXIgbGluZSBudW1iZXI6XCIpLCAxMCk7XG4gICAgICAgIGlmICghaXNOYU4obGluZSkpIHtcbiAgICAgICAgICAgIGVkaXRvci5nb3RvTGluZShsaW5lKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImZvbGRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQWx0LUx8Q3RybC1GMVwiLCBcIkNvbW1hbmQtQWx0LUx8Q29tbWFuZC1GMVwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnNlc3Npb24udG9nZ2xlRm9sZChmYWxzZSk7IH0sXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInVuZm9sZFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJBbHQtU2hpZnQtTHxDdHJsLVNoaWZ0LUYxXCIsIFwiQ29tbWFuZC1BbHQtU2hpZnQtTHxDb21tYW5kLVNoaWZ0LUYxXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3Iuc2Vzc2lvbi50b2dnbGVGb2xkKHRydWUpOyB9LFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJmb2xkYWxsXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkFsdC0wXCIsIFwiQ29tbWFuZC1PcHRpb24tMFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnNlc3Npb24uZm9sZEFsbCgpOyB9LFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJ1bmZvbGRhbGxcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQWx0LVNoaWZ0LTBcIiwgXCJDb21tYW5kLU9wdGlvbi1TaGlmdC0wXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3Iuc2Vzc2lvbi51bmZvbGQoKTsgfSxcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwiZmluZG5leHRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1LXCIsIFwiQ29tbWFuZC1HXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuZmluZE5leHQoKTsgfSxcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwiZmluZHByZXZpb3VzXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtU2hpZnQtS1wiLCBcIkNvbW1hbmQtU2hpZnQtR1wiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmZpbmRQcmV2aW91cygpOyB9LFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJmaW5kXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtRlwiLCBcIkNvbW1hbmQtRlwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgY29uZmlnLmxvYWRNb2R1bGUoXCJhY2UvZXh0L3NlYXJjaGJveFwiLCBmdW5jdGlvbihlKSB7ZS5TZWFyY2goZWRpdG9yKX0pO1xuICAgIH0sXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcIm92ZXJ3cml0ZVwiLFxuICAgIGJpbmRLZXk6IFwiSW5zZXJ0XCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci50b2dnbGVPdmVyd3JpdGUoKTsgfSxcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwic2VsZWN0dG9zdGFydFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVNoaWZ0LUhvbWVcIiwgXCJDb21tYW5kLVNoaWZ0LVVwXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0RmlsZVN0YXJ0KCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJnb3Rvc3RhcnRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1Ib21lXCIsIFwiQ29tbWFuZC1Ib21lfENvbW1hbmQtVXBcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5uYXZpZ2F0ZUZpbGVTdGFydCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwic2VsZWN0dXBcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiU2hpZnQtVXBcIiwgXCJTaGlmdC1VcFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmdldFNlbGVjdGlvbigpLnNlbGVjdFVwKCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJnb2xpbmV1cFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJVcFwiLCBcIlVwfEN0cmwtUFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IsIGFyZ3MpIHsgZWRpdG9yLm5hdmlnYXRlVXAoYXJncy50aW1lcyk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJzZWxlY3R0b2VuZFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVNoaWZ0LUVuZFwiLCBcIkNvbW1hbmQtU2hpZnQtRG93blwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmdldFNlbGVjdGlvbigpLnNlbGVjdEZpbGVFbmQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImdvdG9lbmRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1FbmRcIiwgXCJDb21tYW5kLUVuZHxDb21tYW5kLURvd25cIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5uYXZpZ2F0ZUZpbGVFbmQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInNlbGVjdGRvd25cIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiU2hpZnQtRG93blwiLCBcIlNoaWZ0LURvd25cIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5nZXRTZWxlY3Rpb24oKS5zZWxlY3REb3duKCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJnb2xpbmVkb3duXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkRvd25cIiwgXCJEb3dufEN0cmwtTlwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IsIGFyZ3MpIHsgZWRpdG9yLm5hdmlnYXRlRG93bihhcmdzLnRpbWVzKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInNlbGVjdHdvcmRsZWZ0XCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtU2hpZnQtTGVmdFwiLCBcIk9wdGlvbi1TaGlmdC1MZWZ0XCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0V29yZExlZnQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImdvdG93b3JkbGVmdFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLUxlZnRcIiwgXCJPcHRpb24tTGVmdFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLm5hdmlnYXRlV29yZExlZnQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInNlbGVjdHRvbGluZXN0YXJ0XCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkFsdC1TaGlmdC1MZWZ0XCIsIFwiQ29tbWFuZC1TaGlmdC1MZWZ0XCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0TGluZVN0YXJ0KCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJnb3RvbGluZXN0YXJ0XCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkFsdC1MZWZ0fEhvbWVcIiwgXCJDb21tYW5kLUxlZnR8SG9tZXxDdHJsLUFcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5uYXZpZ2F0ZUxpbmVTdGFydCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwic2VsZWN0bGVmdFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJTaGlmdC1MZWZ0XCIsIFwiU2hpZnQtTGVmdFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmdldFNlbGVjdGlvbigpLnNlbGVjdExlZnQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImdvdG9sZWZ0XCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkxlZnRcIiwgXCJMZWZ0fEN0cmwtQlwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IsIGFyZ3MpIHsgZWRpdG9yLm5hdmlnYXRlTGVmdChhcmdzLnRpbWVzKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInNlbGVjdHdvcmRyaWdodFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVNoaWZ0LVJpZ2h0XCIsIFwiT3B0aW9uLVNoaWZ0LVJpZ2h0XCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0V29yZFJpZ2h0KCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJnb3Rvd29yZHJpZ2h0XCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtUmlnaHRcIiwgXCJPcHRpb24tUmlnaHRcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5uYXZpZ2F0ZVdvcmRSaWdodCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwic2VsZWN0dG9saW5lZW5kXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkFsdC1TaGlmdC1SaWdodFwiLCBcIkNvbW1hbmQtU2hpZnQtUmlnaHRcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5nZXRTZWxlY3Rpb24oKS5zZWxlY3RMaW5lRW5kKCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJnb3RvbGluZWVuZFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJBbHQtUmlnaHR8RW5kXCIsIFwiQ29tbWFuZC1SaWdodHxFbmR8Q3RybC1FXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IubmF2aWdhdGVMaW5lRW5kKCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJzZWxlY3RyaWdodFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJTaGlmdC1SaWdodFwiLCBcIlNoaWZ0LVJpZ2h0XCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmlnaHQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImdvdG9yaWdodFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJSaWdodFwiLCBcIlJpZ2h0fEN0cmwtRlwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IsIGFyZ3MpIHsgZWRpdG9yLm5hdmlnYXRlUmlnaHQoYXJncy50aW1lcyk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJzZWxlY3RwYWdlZG93blwiLFxuICAgIGJpbmRLZXk6IFwiU2hpZnQtUGFnZURvd25cIixcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnNlbGVjdFBhZ2VEb3duKCk7IH0sXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInBhZ2Vkb3duXCIsXG4gICAgYmluZEtleTogYmluZEtleShudWxsLCBcIk9wdGlvbi1QYWdlRG93blwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnNjcm9sbFBhZ2VEb3duKCk7IH0sXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImdvdG9wYWdlZG93blwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJQYWdlRG93blwiLCBcIlBhZ2VEb3dufEN0cmwtVlwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmdvdG9QYWdlRG93bigpOyB9LFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJzZWxlY3RwYWdldXBcIixcbiAgICBiaW5kS2V5OiBcIlNoaWZ0LVBhZ2VVcFwiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3Iuc2VsZWN0UGFnZVVwKCk7IH0sXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInBhZ2V1cFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkobnVsbCwgXCJPcHRpb24tUGFnZVVwXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3Iuc2Nyb2xsUGFnZVVwKCk7IH0sXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImdvdG9wYWdldXBcIixcbiAgICBiaW5kS2V5OiBcIlBhZ2VVcFwiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuZ290b1BhZ2VVcCgpOyB9LFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJzY3JvbGx1cFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVVwXCIsIG51bGwpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGUpIHsgZS5yZW5kZXJlci5zY3JvbGxCeSgwLCAtMiAqIGUucmVuZGVyZXIubGF5ZXJDb25maWcubGluZUhlaWdodCk7IH0sXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInNjcm9sbGRvd25cIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1Eb3duXCIsIG51bGwpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGUpIHsgZS5yZW5kZXJlci5zY3JvbGxCeSgwLCAyICogZS5yZW5kZXJlci5sYXllckNvbmZpZy5saW5lSGVpZ2h0KTsgfSxcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwic2VsZWN0bGluZXN0YXJ0XCIsXG4gICAgYmluZEtleTogXCJTaGlmdC1Ib21lXCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5nZXRTZWxlY3Rpb24oKS5zZWxlY3RMaW5lU3RhcnQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInNlbGVjdGxpbmVlbmRcIixcbiAgICBiaW5kS2V5OiBcIlNoaWZ0LUVuZFwiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0TGluZUVuZCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwidG9nZ2xlcmVjb3JkaW5nXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtQWx0LUVcIiwgXCJDb21tYW5kLU9wdGlvbi1FXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuY29tbWFuZHMudG9nZ2xlUmVjb3JkaW5nKGVkaXRvcik7IH0sXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInJlcGxheW1hY3JvXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtU2hpZnQtRVwiLCBcIkNvbW1hbmQtU2hpZnQtRVwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmNvbW1hbmRzLnJlcGxheShlZGl0b3IpOyB9LFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJqdW1wdG9tYXRjaGluZ1wiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVBcIiwgXCJDdHJsLVNoaWZ0LVBcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5qdW1wVG9NYXRjaGluZygpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwic2VsZWN0dG9tYXRjaGluZ1wiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVNoaWZ0LVBcIiwgbnVsbCksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5qdW1wVG9NYXRjaGluZyh0cnVlKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIFxue1xuICAgIG5hbWU6IFwiY3V0XCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIHZhciByYW5nZSA9IGVkaXRvci5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICBlZGl0b3IuX2VtaXQoXCJjdXRcIiwgcmFuZ2UpO1xuXG4gICAgICAgIGlmICghZWRpdG9yLnNlbGVjdGlvbi5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIGVkaXRvci5zZXNzaW9uLnJlbW92ZShyYW5nZSk7XG4gICAgICAgICAgICBlZGl0b3IuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiXG59LCB7XG4gICAgbmFtZTogXCJyZW1vdmVsaW5lXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtRFwiLCBcIkNvbW1hbmQtRFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnJlbW92ZUxpbmVzKCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaExpbmVcIlxufSwge1xuICAgIG5hbWU6IFwiZHVwbGljYXRlU2VsZWN0aW9uXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtU2hpZnQtRFwiLCBcIkNvbW1hbmQtU2hpZnQtRFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmR1cGxpY2F0ZVNlbGVjdGlvbigpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIlxufSwge1xuICAgIG5hbWU6IFwic29ydGxpbmVzXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtQWx0LVNcIiwgXCJDb21tYW5kLUFsdC1TXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3Iuc29ydExpbmVzKCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaExpbmVcIlxufSwge1xuICAgIG5hbWU6IFwidG9nZ2xlY29tbWVudFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLS9cIiwgXCJDb21tYW5kLS9cIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci50b2dnbGVDb21tZW50TGluZXMoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoTGluZVwiXG59LCB7XG4gICAgbmFtZTogXCJ0b2dnbGVCbG9ja0NvbW1lbnRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1TaGlmdC0vXCIsIFwiQ29tbWFuZC1TaGlmdC0vXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IudG9nZ2xlQmxvY2tDb21tZW50KCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiXG59LCB7XG4gICAgbmFtZTogXCJtb2RpZnlOdW1iZXJVcFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVNoaWZ0LVVwXCIsIFwiQWx0LVNoaWZ0LVVwXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IubW9kaWZ5TnVtYmVyKDEpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIlxufSwge1xuICAgIG5hbWU6IFwibW9kaWZ5TnVtYmVyRG93blwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVNoaWZ0LURvd25cIiwgXCJBbHQtU2hpZnQtRG93blwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLm1vZGlmeU51bWJlcigtMSk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiXG59LCB7XG4gICAgbmFtZTogXCJyZXBsYWNlXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtSFwiLCBcIkNvbW1hbmQtT3B0aW9uLUZcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIGNvbmZpZy5sb2FkTW9kdWxlKFwiYWNlL2V4dC9zZWFyY2hib3hcIiwgZnVuY3Rpb24oZSkge2UuU2VhcmNoKGVkaXRvciwgdHJ1ZSl9KTtcbiAgICB9XG59LCB7XG4gICAgbmFtZTogXCJ1bmRvXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtWlwiLCBcIkNvbW1hbmQtWlwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnVuZG8oKTsgfVxufSwge1xuICAgIG5hbWU6IFwicmVkb1wiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVNoaWZ0LVp8Q3RybC1ZXCIsIFwiQ29tbWFuZC1TaGlmdC1afENvbW1hbmQtWVwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnJlZG8oKTsgfVxufSwge1xuICAgIG5hbWU6IFwiY29weWxpbmVzdXBcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQWx0LVNoaWZ0LVVwXCIsIFwiQ29tbWFuZC1PcHRpb24tVXBcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5jb3B5TGluZXNVcCgpOyB9XG59LCB7XG4gICAgbmFtZTogXCJtb3ZlbGluZXN1cFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJBbHQtVXBcIiwgXCJPcHRpb24tVXBcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5tb3ZlTGluZXNVcCgpOyB9XG59LCB7XG4gICAgbmFtZTogXCJjb3B5bGluZXNkb3duXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkFsdC1TaGlmdC1Eb3duXCIsIFwiQ29tbWFuZC1PcHRpb24tRG93blwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmNvcHlMaW5lc0Rvd24oKTsgfVxufSwge1xuICAgIG5hbWU6IFwibW92ZWxpbmVzZG93blwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJBbHQtRG93blwiLCBcIk9wdGlvbi1Eb3duXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IubW92ZUxpbmVzRG93bigpOyB9XG59LCB7XG4gICAgbmFtZTogXCJkZWxcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiRGVsZXRlXCIsIFwiRGVsZXRlfEN0cmwtRFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnJlbW92ZShcInJpZ2h0XCIpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIlxufSwge1xuICAgIG5hbWU6IFwiYmFja3NwYWNlXCIsXG4gICAgYmluZEtleTogYmluZEtleShcbiAgICAgICAgXCJDb21tYW5kLUJhY2tzcGFjZXxPcHRpb24tQmFja3NwYWNlfFNoaWZ0LUJhY2tzcGFjZXxCYWNrc3BhY2VcIixcbiAgICAgICAgXCJDdHJsLUJhY2tzcGFjZXxDb21tYW5kLUJhY2tzcGFjZXxTaGlmdC1CYWNrc3BhY2V8QmFja3NwYWNlfEN0cmwtSFwiXG4gICAgKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnJlbW92ZShcImxlZnRcIik7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiXG59LCB7XG4gICAgbmFtZTogXCJyZW1vdmV0b2xpbmVzdGFydFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJBbHQtQmFja3NwYWNlXCIsIFwiQ29tbWFuZC1CYWNrc3BhY2VcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5yZW1vdmVUb0xpbmVTdGFydCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIlxufSwge1xuICAgIG5hbWU6IFwicmVtb3ZldG9saW5lZW5kXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkFsdC1EZWxldGVcIiwgXCJDdHJsLUtcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5yZW1vdmVUb0xpbmVFbmQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCJcbn0sIHtcbiAgICBuYW1lOiBcInJlbW92ZXdvcmRsZWZ0XCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtQmFja3NwYWNlXCIsIFwiQWx0LUJhY2tzcGFjZXxDdHJsLUFsdC1CYWNrc3BhY2VcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5yZW1vdmVXb3JkTGVmdCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIlxufSwge1xuICAgIG5hbWU6IFwicmVtb3Zld29yZHJpZ2h0XCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtRGVsZXRlXCIsIFwiQWx0LURlbGV0ZVwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnJlbW92ZVdvcmRSaWdodCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIlxufSwge1xuICAgIG5hbWU6IFwib3V0ZGVudFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJTaGlmdC1UYWJcIiwgXCJTaGlmdC1UYWJcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5ibG9ja091dGRlbnQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCJcbn0sIHtcbiAgICBuYW1lOiBcImluZGVudFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJUYWJcIiwgXCJUYWJcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5pbmRlbnQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCJcbn0se1xuICAgIG5hbWU6IFwiYmxvY2tvdXRkZW50XCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtW1wiLCBcIkN0cmwtW1wiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmJsb2NrT3V0ZGVudCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hMaW5lXCJcbn0se1xuICAgIG5hbWU6IFwiYmxvY2tpbmRlbnRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1dXCIsIFwiQ3RybC1dXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuYmxvY2tJbmRlbnQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoTGluZVwiXG59LCB7XG4gICAgbmFtZTogXCJpbnNlcnRzdHJpbmdcIixcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IsIHN0cikgeyBlZGl0b3IuaW5zZXJ0KHN0cik7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiXG59LCB7XG4gICAgbmFtZTogXCJpbnNlcnR0ZXh0XCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yLCBhcmdzKSB7XG4gICAgICAgIGVkaXRvci5pbnNlcnQobGFuZy5zdHJpbmdSZXBlYXQoYXJncy50ZXh0ICB8fCBcIlwiLCBhcmdzLnRpbWVzIHx8IDEpKTtcbiAgICB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIlxufSwge1xuICAgIG5hbWU6IFwic3BsaXRsaW5lXCIsXG4gICAgYmluZEtleTogYmluZEtleShudWxsLCBcIkN0cmwtT1wiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnNwbGl0TGluZSgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIlxufSwge1xuICAgIG5hbWU6IFwidHJhbnNwb3NlbGV0dGVyc1wiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVRcIiwgXCJDdHJsLVRcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci50cmFuc3Bvc2VMZXR0ZXJzKCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IGZ1bmN0aW9uKGVkaXRvcikge2VkaXRvci50cmFuc3Bvc2VTZWxlY3Rpb25zKDEpOyB9XG59LCB7XG4gICAgbmFtZTogXCJ0b3VwcGVyY2FzZVwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVVcIiwgXCJDdHJsLVVcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci50b1VwcGVyQ2FzZSgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIlxufSwge1xuICAgIG5hbWU6IFwidG9sb3dlcmNhc2VcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1TaGlmdC1VXCIsIFwiQ3RybC1TaGlmdC1VXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IudG9Mb3dlckNhc2UoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCJcbn1dO1xuXG59KTtcblxuYWNlLmRlZmluZSgnYWNlL3VuZG9tYW5hZ2VyJywgW1wicmVxdWlyZVwiLCAnZXhwb3J0cycsICdtb2R1bGUnIF0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbnZhciBVbmRvTWFuYWdlciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVzZXQoKTtcbn07XG5cbihmdW5jdGlvbigpIHtcbiAgICB0aGlzLmV4ZWN1dGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBkZWx0YXMgPSBvcHRpb25zLmFyZ3NbMF07XG4gICAgICAgIHRoaXMuJGRvYyAgPSBvcHRpb25zLmFyZ3NbMV07XG4gICAgICAgIHRoaXMuJHVuZG9TdGFjay5wdXNoKGRlbHRhcyk7XG4gICAgICAgIHRoaXMuJHJlZG9TdGFjayA9IFtdO1xuXG4gICAgICAgIGlmICh0aGlzLmRpcnR5Q291bnRlciA8IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHlDb3VudGVyID0gTmFOO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlydHlDb3VudGVyKys7XG4gICAgfTtcbiAgICB0aGlzLnVuZG8gPSBmdW5jdGlvbihkb250U2VsZWN0KSB7XG4gICAgICAgIHZhciBkZWx0YXMgPSB0aGlzLiR1bmRvU3RhY2sucG9wKCk7XG4gICAgICAgIHZhciB1bmRvU2VsZWN0aW9uUmFuZ2UgPSBudWxsO1xuICAgICAgICBpZiAoZGVsdGFzKSB7XG4gICAgICAgICAgICB1bmRvU2VsZWN0aW9uUmFuZ2UgPVxuICAgICAgICAgICAgICAgIHRoaXMuJGRvYy51bmRvQ2hhbmdlcyhkZWx0YXMsIGRvbnRTZWxlY3QpO1xuICAgICAgICAgICAgdGhpcy4kcmVkb1N0YWNrLnB1c2goZGVsdGFzKTtcbiAgICAgICAgICAgIHRoaXMuZGlydHlDb3VudGVyLS07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdW5kb1NlbGVjdGlvblJhbmdlO1xuICAgIH07XG4gICAgdGhpcy5yZWRvID0gZnVuY3Rpb24oZG9udFNlbGVjdCkge1xuICAgICAgICB2YXIgZGVsdGFzID0gdGhpcy4kcmVkb1N0YWNrLnBvcCgpO1xuICAgICAgICB2YXIgcmVkb1NlbGVjdGlvblJhbmdlID0gbnVsbDtcbiAgICAgICAgaWYgKGRlbHRhcykge1xuICAgICAgICAgICAgcmVkb1NlbGVjdGlvblJhbmdlID1cbiAgICAgICAgICAgICAgICB0aGlzLiRkb2MucmVkb0NoYW5nZXMoZGVsdGFzLCBkb250U2VsZWN0KTtcbiAgICAgICAgICAgIHRoaXMuJHVuZG9TdGFjay5wdXNoKGRlbHRhcyk7XG4gICAgICAgICAgICB0aGlzLmRpcnR5Q291bnRlcisrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlZG9TZWxlY3Rpb25SYW5nZTtcbiAgICB9O1xuICAgIHRoaXMucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kdW5kb1N0YWNrID0gW107XG4gICAgICAgIHRoaXMuJHJlZG9TdGFjayA9IFtdO1xuICAgICAgICB0aGlzLmRpcnR5Q291bnRlciA9IDA7XG4gICAgfTtcbiAgICB0aGlzLmhhc1VuZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHVuZG9TdGFjay5sZW5ndGggPiAwO1xuICAgIH07XG4gICAgdGhpcy5oYXNSZWRvID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRyZWRvU3RhY2subGVuZ3RoID4gMDtcbiAgICB9O1xuICAgIHRoaXMubWFya0NsZWFuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZGlydHlDb3VudGVyID0gMDtcbiAgICB9O1xuICAgIHRoaXMuaXNDbGVhbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXJ0eUNvdW50ZXIgPT09IDA7XG4gICAgfTtcblxufSkuY2FsbChVbmRvTWFuYWdlci5wcm90b3R5cGUpO1xuXG5leHBvcnRzLlVuZG9NYW5hZ2VyID0gVW5kb01hbmFnZXI7XG59KTtcblxuYWNlLmRlZmluZSgnYWNlL3ZpcnR1YWxfcmVuZGVyZXInLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgLCAnYWNlL2xpYi9vb3AnLCAnYWNlL2xpYi9kb20nLCAnYWNlL2xpYi9ldmVudCcsICdhY2UvbGliL3VzZXJhZ2VudCcsICdhY2UvY29uZmlnJywgJ2FjZS9sYXllci9ndXR0ZXInLCAnYWNlL2xheWVyL21hcmtlcicsICdhY2UvbGF5ZXIvdGV4dCcsICdhY2UvbGF5ZXIvY3Vyc29yJywgJ2FjZS9zY3JvbGxiYXInLCAnYWNlL3JlbmRlcmxvb3AnLCAnYWNlL2xpYi9ldmVudF9lbWl0dGVyJ10sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuXG52YXIgb29wID0gYWNlcXVpcmUoXCIuL2xpYi9vb3BcIik7XG52YXIgZG9tID0gYWNlcXVpcmUoXCIuL2xpYi9kb21cIik7XG52YXIgZXZlbnQgPSBhY2VxdWlyZShcIi4vbGliL2V2ZW50XCIpO1xudmFyIHVzZXJhZ2VudCA9IGFjZXF1aXJlKFwiLi9saWIvdXNlcmFnZW50XCIpO1xudmFyIGNvbmZpZyA9IGFjZXF1aXJlKFwiLi9jb25maWdcIik7XG52YXIgR3V0dGVyTGF5ZXIgPSBhY2VxdWlyZShcIi4vbGF5ZXIvZ3V0dGVyXCIpLkd1dHRlcjtcbnZhciBNYXJrZXJMYXllciA9IGFjZXF1aXJlKFwiLi9sYXllci9tYXJrZXJcIikuTWFya2VyO1xudmFyIFRleHRMYXllciA9IGFjZXF1aXJlKFwiLi9sYXllci90ZXh0XCIpLlRleHQ7XG52YXIgQ3Vyc29yTGF5ZXIgPSBhY2VxdWlyZShcIi4vbGF5ZXIvY3Vyc29yXCIpLkN1cnNvcjtcbnZhciBTY3JvbGxCYXIgPSBhY2VxdWlyZShcIi4vc2Nyb2xsYmFyXCIpLlNjcm9sbEJhcjtcbnZhciBSZW5kZXJMb29wID0gYWNlcXVpcmUoXCIuL3JlbmRlcmxvb3BcIikuUmVuZGVyTG9vcDtcbnZhciBFdmVudEVtaXR0ZXIgPSBhY2VxdWlyZShcIi4vbGliL2V2ZW50X2VtaXR0ZXJcIikuRXZlbnRFbWl0dGVyO1xudmFyIGVkaXRvckNzcyA9IFwiLmFjZV9lZGl0b3Ige1xcXG5wb3NpdGlvbjogcmVsYXRpdmU7XFxcbm92ZXJmbG93OiBoaWRkZW47XFxcbmZvbnQtZmFtaWx5OiAnTW9uYWNvJywgJ01lbmxvJywgJ1VidW50dSBNb25vJywgJ0NvbnNvbGFzJywgJ3NvdXJjZS1jb2RlLXBybycsIG1vbm9zcGFjZTtcXFxuZm9udC1zaXplOiAxMnB4O1xcXG5saW5lLWhlaWdodDogbm9ybWFsO1xcXG5jb2xvcjogYmxhY2s7XFxcbn1cXFxuLmFjZV9zY3JvbGxlciB7XFxcbnBvc2l0aW9uOiBhYnNvbHV0ZTtcXFxub3ZlcmZsb3c6IGhpZGRlbjtcXFxudG9wOiAwO1xcXG5ib3R0b206IDA7XFxcbmJhY2tncm91bmQtY29sb3I6IGluaGVyaXQ7XFxcbn1cXFxuLmFjZV9jb250ZW50IHtcXFxucG9zaXRpb246IGFic29sdXRlO1xcXG4tbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxcbi13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXFxuYm94LXNpemluZzogYm9yZGVyLWJveDtcXFxuY3Vyc29yOiB0ZXh0O1xcXG59XFxcbi5hY2VfZ3V0dGVyIHtcXFxucG9zaXRpb246IGFic29sdXRlO1xcXG5vdmVyZmxvdyA6IGhpZGRlbjtcXFxud2lkdGg6IGF1dG87XFxcbnRvcDogMDtcXFxuYm90dG9tOiAwO1xcXG5sZWZ0OiAwO1xcXG5jdXJzb3I6IGRlZmF1bHQ7XFxcbnotaW5kZXg6IDQ7XFxcbn1cXFxuLmFjZV9ndXR0ZXItYWN0aXZlLWxpbmUge1xcXG5wb3NpdGlvbjogYWJzb2x1dGU7XFxcbmxlZnQ6IDA7XFxcbnJpZ2h0OiAwO1xcXG59XFxcbi5hY2Vfc2Nyb2xsZXIuYWNlX3Njcm9sbC1sZWZ0IHtcXFxuYm94LXNoYWRvdzogMTdweCAwIDE2cHggLTE2cHggcmdiYSgwLCAwLCAwLCAwLjQpIGluc2V0O1xcXG59XFxcbi5hY2VfZ3V0dGVyLWNlbGwge1xcXG5wYWRkaW5nLWxlZnQ6IDE5cHg7XFxcbnBhZGRpbmctcmlnaHQ6IDZweDtcXFxuYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXFxufVxcXG4uYWNlX2d1dHRlci1jZWxsLmFjZV9lcnJvciB7XFxcbmJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQ0FZQUFBQWY4LzloQUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUF5SnBWRmgwV0UxTU9tTnZiUzVoWkc5aVpTNTRiWEFBQUFBQUFEdy9lSEJoWTJ0bGRDQmlaV2RwYmowaTc3dS9JaUJwWkQwaVZ6Vk5NRTF3UTJWb2FVaDZjbVZUZWs1VVkzcHJZemxrSWo4K0lEeDRPbmh0Y0cxbGRHRWdlRzFzYm5NNmVEMGlZV1J2WW1VNmJuTTZiV1YwWVM4aUlIZzZlRzF3ZEdzOUlrRmtiMkpsSUZoTlVDQkRiM0psSURVdU1DMWpNRFl3SURZeExqRXpORGMzTnl3Z01qQXhNQzh3TWk4eE1pMHhOem96TWpvd01DQWdJQ0FnSUNBZ0lqNGdQSEprWmpwU1JFWWdlRzFzYm5NNmNtUm1QU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh4T1RrNUx6QXlMekl5TFhKa1ppMXplVzUwWVhndGJuTWpJajRnUEhKa1pqcEVaWE5qY21sd2RHbHZiaUJ5WkdZNllXSnZkWFE5SWlJZ2VHMXNibk02ZUcxd1BTSm9kSFJ3T2k4dmJuTXVZV1J2WW1VdVkyOXRMM2hoY0M4eExqQXZJaUI0Yld4dWN6cDRiWEJOVFQwaWFIUjBjRG92TDI1ekxtRmtiMkpsTG1OdmJTOTRZWEF2TVM0d0wyMXRMeUlnZUcxc2JuTTZjM1JTWldZOUltaDBkSEE2THk5dWN5NWhaRzlpWlM1amIyMHZlR0Z3THpFdU1DOXpWSGx3WlM5U1pYTnZkWEpqWlZKbFppTWlJSGh0Y0RwRGNtVmhkRzl5Vkc5dmJEMGlRV1J2WW1VZ1VHaHZkRzl6YUc5d0lFTlROU0JOWVdOcGJuUnZjMmdpSUhodGNFMU5Pa2x1YzNSaGJtTmxTVVE5SW5odGNDNXBhV1E2UVVNMk9FWkRRVFE0UlRVME1URkZNVUV6TTBWRlJUTTJSVVkxTTBSQk1qWWlJSGh0Y0UxTk9rUnZZM1Z0Wlc1MFNVUTlJbmh0Y0M1a2FXUTZRVU0yT0VaRFFUVTRSVFUwTVRGRk1VRXpNMFZGUlRNMlJVWTFNMFJCTWpZaVBpQThlRzF3VFUwNlJHVnlhWFpsWkVaeWIyMGdjM1JTWldZNmFXNXpkR0Z1WTJWSlJEMGllRzF3TG1scFpEcEJRelk0UmtOQk1qaEZOVFF4TVVVeFFUTXpSVVZGTXpaRlJqVXpSRUV5TmlJZ2MzUlNaV1k2Wkc5amRXMWxiblJKUkQwaWVHMXdMbVJwWkRwQlF6WTRSa05CTXpoRk5UUXhNVVV4UVRNelJVVkZNelpGUmpVelJFRXlOaUl2UGlBOEwzSmtaanBFWlhOamNtbHdkR2x2Ymo0Z1BDOXlaR1k2VWtSR1BpQThMM2c2ZUcxd2JXVjBZVDRnUEQ5NGNHRmphMlYwSUdWdVpEMGljaUkvUGtnWHhiQUFBQUpiU1VSQlZIamFwRk5OYUJOQkZINHpzNXZkWkxQNXNRbU5wVDgyUVkyMDloZWgxaW9XaXNhRFJjU0tGMFdLSjBHUW5yenJ4YXNIc1I2RW5scndEMFRhZ3hKYWJhVkVwRll4TFdsTFNTODIydHI4N202NmNjZmQyR0t5VmhBNk1NeWJnZmU5Ny92bVBVUXBoZDBzWmp0bzlYSW45T09zdmx1Mm5rcVJ6VlUrNnZ2bHpQZjhXNmJrOGR4UTBOUGJ4QUFMZ0NnZzJKa2FRdWh6UWF1L0VsMHpibVVBN1UwRXM4djJDaVltS1FKSEdPMVFJQ0NMb3FpbE1oa211ckRBeWFwS2dxSXRlemkvVVNSZEpxRVlZNEQ1akN5MDNodDJ5TWtrdkw5MWpUVFgxMHF6eXl1MmhydVBSTjdqZ2JIK0VPc1hjTUxnWWlUaEVnQU1oQUJXODVvcXkxRFhkUklkdlAxQUhKMmFjUVh2RElyVkhjZFFOckVLTllTVk1TWkdNakV6SUlBd0RYSW8rNkcvRnhjR256a0MzVDJvTWhManJlNDlzQkIrUlJjSExxZGFmSzZzWWRFL0dHQndVMVZwRk5qMGFOOHBKYmUrQmtaeWV2VXJ2TGw2WG1tMFc5SXVUYzBEeHJETkFKZDVvRXZJL0tSc05DM2JReU5qUE85eVExWUhjZmoyUXZmUWMvNVRVaEpUQmMyaU0wVTdBV0RRdGMxbkpIdkQvY2ZPMnM3amFHa2lURWZhL0VwOGNvTHU3em1ObWg4K2RjNWxaRHVVZUZBR1VOQS9PWTZKVmF5cFEwdmpyN1hZalV2Sk0zN3Z0K2oxdnVUSzVEZ1ZmVlVvVGpWZSt5My9MeE14WTJHZ1UrQ1NMeTRjcGZzWW9yUlh1WElPaTBWdDQwaDY3dVpGVGRJbzZuTGFaY3dVSldBendOUzB0Qm5xcUt6UURuamRHL2lQeVp4bzQ2SGFLVXBidllrajhxWVJUWnNCaGdlK0pIaFp5aDB4OWI5NUpxalZKa1QwODRrWklQd3UvbVBXcVBnZlE1alhoMis5MkF5N0hlZGZBZ3dBNktEV2FmYjR3M2NBQUFBQVNVVk9SSzVDWUlJPVxcXCIpO1xcXG5iYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcXG5iYWNrZ3JvdW5kLXBvc2l0aW9uOiAycHggY2VudGVyO1xcXG59XFxcbi5hY2VfZ3V0dGVyLWNlbGwuYWNlX3dhcm5pbmcge1xcXG5iYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBWUFBQUFmOC85aEFBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBeUpwVkZoMFdFMU1PbU52YlM1aFpHOWlaUzU0YlhBQUFBQUFBRHcvZUhCaFkydGxkQ0JpWldkcGJqMGk3N3UvSWlCcFpEMGlWelZOTUUxd1EyVm9hVWg2Y21WVGVrNVVZM3ByWXpsa0lqOCtJRHg0T25odGNHMWxkR0VnZUcxc2JuTTZlRDBpWVdSdlltVTZibk02YldWMFlTOGlJSGc2ZUcxd2RHczlJa0ZrYjJKbElGaE5VQ0JEYjNKbElEVXVNQzFqTURZd0lEWXhMakV6TkRjM055d2dNakF4TUM4d01pOHhNaTB4Tnpvek1qb3dNQ0FnSUNBZ0lDQWdJajRnUEhKa1pqcFNSRVlnZUcxc2JuTTZjbVJtUFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eE9UazVMekF5THpJeUxYSmtaaTF6ZVc1MFlYZ3Ribk1qSWo0Z1BISmtaanBFWlhOamNtbHdkR2x2YmlCeVpHWTZZV0p2ZFhROUlpSWdlRzFzYm5NNmVHMXdQU0pvZEhSd09pOHZibk11WVdSdlltVXVZMjl0TDNoaGNDOHhMakF2SWlCNGJXeHVjenA0YlhCTlRUMGlhSFIwY0RvdkwyNXpMbUZrYjJKbExtTnZiUzk0WVhBdk1TNHdMMjF0THlJZ2VHMXNibk02YzNSU1pXWTlJbWgwZEhBNkx5OXVjeTVoWkc5aVpTNWpiMjB2ZUdGd0x6RXVNQzl6Vkhsd1pTOVNaWE52ZFhKalpWSmxaaU1pSUhodGNEcERjbVZoZEc5eVZHOXZiRDBpUVdSdlltVWdVR2h2ZEc5emFHOXdJRU5UTlNCTllXTnBiblJ2YzJnaUlIaHRjRTFOT2tsdWMzUmhibU5sU1VROUluaHRjQzVwYVdRNlFVTTJPRVpEUVRnNFJUVTBNVEZGTVVFek0wVkZSVE0yUlVZMU0wUkJNallpSUhodGNFMU5Pa1J2WTNWdFpXNTBTVVE5SW5odGNDNWthV1E2UVVNMk9FWkRRVGs0UlRVME1URkZNVUV6TTBWRlJUTTJSVVkxTTBSQk1qWWlQaUE4ZUcxd1RVMDZSR1Z5YVhabFpFWnliMjBnYzNSU1pXWTZhVzV6ZEdGdVkyVkpSRDBpZUcxd0xtbHBaRHBCUXpZNFJrTkJOamhGTlRReE1VVXhRVE16UlVWRk16WkZSalV6UkVFeU5pSWdjM1JTWldZNlpHOWpkVzFsYm5SSlJEMGllRzF3TG1ScFpEcEJRelk0UmtOQk56aEZOVFF4TVVVeFFUTXpSVVZGTXpaRlJqVXpSRUV5TmlJdlBpQThMM0prWmpwRVpYTmpjbWx3ZEdsdmJqNGdQQzl5WkdZNlVrUkdQaUE4TDNnNmVHMXdiV1YwWVQ0Z1BEOTRjR0ZqYTJWMElHVnVaRDBpY2lJL1BnZDdQZklBQUFHbVNVUkJWSGphWXZyLy96OERKWmlKZ1VJQU5vQ1JrUkViOWdMaVNWQWFReDRPUU03QUFrd2Q3WFUyL3YrKy9yT3R0ZFlHRUI5ZEFTRXZPTXlkR0tmSDhHdi9wNFhUa3ZSQmZMeGVRQVArMWNVaFhvcHl2emhQN1AvSW9TajdnN013MDljTktPNkoxUVEwTDRnSUNQSXYvdmVnLzhXK0pkRnZRTkxIVnNXOS9ubW45ems3QitjQ2tEd2hMN2d0NmtuU1pueDkvTHVDRU9jdmtJQU1QK2N2dG85bmZxeVptbVVBa3NmbkJVdGJNNjBnWC8zL2tneXYzL3hTRk9MNURaVCtMOHZQK1lmaDVjdmZQdnAveFVIeVFIWEd5QVl3Z3B3QmpaWUZUM1kxT0VsL09mQ0g0ZmZ2M3d6YzRpd012TklzREorZi9tSDQrdklQQXhzYjYzMVdXMFlsbjZacFFMWGRNSy9EWEdEZmxoK3NJdjM3RWl2RDV4Ly9HYjcrWVdUNHk4NnNsN0JDQ2tTRCtaKysvMWRrdnNGUmwrSG5EMVJ2amU0Rjh3aGpNWG1HajU4WUdmNXpzRE13Y25Bd2ZQdktjbWw2MkRzUURlYUR4TisvWTBxd2xwRUhxcmRCOTRJUk5JRFVnZmdmS0pDaEdLNE9pa0VXM2dUaVhVQjk1MEFTTEZBRjU0QUM5NEEwRzlRQWZPbm1GOURDRHpBQkZxUzA4SUhZRElTY2Rpak9qUUFCQmdDKy85YXdCSDk2andBQUFBQkpSVTVFcmtKZ2dnPT1cXFwiKTtcXFxuYmFja2dyb3VuZC1wb3NpdGlvbjogMnB4IGNlbnRlcjtcXFxufVxcXG4uYWNlX2d1dHRlci1jZWxsLmFjZV9pbmZvIHtcXFxuYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhFQUFRQU1RQUFBQUFBRUZCUVZKU1VsNWVYbVJrWkd0cmEzOS9mNFdGaFltSmlaR1JrYWFtcHJ5OHZNUER3OHpNek5YVjFkemMzT1RrNU9ycTZ2RHc4UC8vL3dBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUNINUJBa0FBQlFBTEFBQUFBQVFBQkFBQUFVdUlDV09aR21lYUJtbDVYR3dGQ1FTQkd5WFJTQXd0cVFJaVJ1aXdJTTVCb1lWYkVGSXlHQ1FvZUpHclZwdElRQTdcXFwiKTtcXFxuYmFja2dyb3VuZC1wb3NpdGlvbjogMnB4IGNlbnRlcjtcXFxufVxcXG4uYWNlX2RhcmsgLmFjZV9ndXR0ZXItY2VsbC5hY2VfaW5mbyB7XFxcbmJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQ0FZQUFBQWY4LzloQUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUF5UnBWRmgwV0UxTU9tTnZiUzVoWkc5aVpTNTRiWEFBQUFBQUFEdy9lSEJoWTJ0bGRDQmlaV2RwYmowaTc3dS9JaUJwWkQwaVZ6Vk5NRTF3UTJWb2FVaDZjbVZUZWs1VVkzcHJZemxrSWo4K0lEeDRPbmh0Y0cxbGRHRWdlRzFzYm5NNmVEMGlZV1J2WW1VNmJuTTZiV1YwWVM4aUlIZzZlRzF3ZEdzOUlrRmtiMkpsSUZoTlVDQkRiM0psSURVdU15MWpNREV4SURZMkxqRTBOVFkyTVN3Z01qQXhNaTh3TWk4d05pMHhORG8xTmpveU55QWdJQ0FnSUNBZ0lqNGdQSEprWmpwU1JFWWdlRzFzYm5NNmNtUm1QU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh4T1RrNUx6QXlMekl5TFhKa1ppMXplVzUwWVhndGJuTWpJajRnUEhKa1pqcEVaWE5qY21sd2RHbHZiaUJ5WkdZNllXSnZkWFE5SWlJZ2VHMXNibk02ZUcxd1BTSm9kSFJ3T2k4dmJuTXVZV1J2WW1VdVkyOXRMM2hoY0M4eExqQXZJaUI0Yld4dWN6cDRiWEJOVFQwaWFIUjBjRG92TDI1ekxtRmtiMkpsTG1OdmJTOTRZWEF2TVM0d0wyMXRMeUlnZUcxc2JuTTZjM1JTWldZOUltaDBkSEE2THk5dWN5NWhaRzlpWlM1amIyMHZlR0Z3THpFdU1DOXpWSGx3WlM5U1pYTnZkWEpqWlZKbFppTWlJSGh0Y0RwRGNtVmhkRzl5Vkc5dmJEMGlRV1J2WW1VZ1VHaHZkRzl6YUc5d0lFTlROaUFvVFdGamFXNTBiM05vS1NJZ2VHMXdUVTA2U1c1emRHRnVZMlZKUkQwaWVHMXdMbWxwWkRwR1JUazVNVFZHUkVJeE5Ea3hNVVV4T1RjNVEwRkZSRVF5TVROR01qQkZReUlnZUcxd1RVMDZSRzlqZFcxbGJuUkpSRDBpZUcxd0xtUnBaRHBHUlRrNU1UVkdSVUl4TkRreE1VVXhPVGM1UTBGRlJFUXlNVE5HTWpCRlF5SStJRHg0YlhCTlRUcEVaWEpwZG1Wa1JuSnZiU0J6ZEZKbFpqcHBibk4wWVc1alpVbEVQU0o0YlhBdWFXbGtPa1pGT1RreE5VWkNRakUwT1RFeFJURTVOemxEUVVWRVJESXhNMFl5TUVWRElpQnpkRkpsWmpwa2IyTjFiV1Z1ZEVsRVBTSjRiWEF1Wkdsa09rWkZPVGt4TlVaRFFqRTBPVEV4UlRFNU56bERRVVZFUkRJeE0wWXlNRVZESWk4K0lEd3ZjbVJtT2tSbGMyTnlhWEIwYVc5dVBpQThMM0prWmpwU1JFWStJRHd2ZURwNGJYQnRaWFJoUGlBOFAzaHdZV05yWlhRZ1pXNWtQU0p5SWo4K1NJRGtqQUFBQUoxSlJFRlVlTnBpL1AvL1B3TWxnSW1CUWtCN0E2cXJxLytETUM1NUZrSUdLQ29xNHBWbnBGa2dUcDA2OWYvKy9mdi9yMXUzN3IrdHJlMS9rZzBBK3B0bjl1elpZTGFSa1JIcEx2anc0Y05YV1ZsWmh1ZlBuek9jTzNlT2RBTzB0YlZQQWpIRG16ZHZHQTRmUHN4SXNnR1NrcEptdjM3OVluajM3aDJEakl5TUNNa0czTGh4US9UMjdkc01hbXBxREhaMmRxL3BINDFEeHdDQUFBTUFGZGM2OGRVc0ZaZ0FBQUFBU1VWT1JLNUNZSUk9XFxcIik7XFxcbn1cXFxuLmFjZV9zY3JvbGxiYXIge1xcXG5wb3NpdGlvbjogYWJzb2x1dGU7XFxcbm92ZXJmbG93LXg6IGhpZGRlbjtcXFxub3ZlcmZsb3cteTogc2Nyb2xsO1xcXG5yaWdodDogMDtcXFxudG9wOiAwO1xcXG5ib3R0b206IDA7XFxcbn1cXFxuLmFjZV9zY3JvbGxiYXItaW5uZXIge1xcXG5wb3NpdGlvbjogYWJzb2x1dGU7XFxcbndpZHRoOiAxcHg7XFxcbmxlZnQ6IDA7XFxcbn1cXFxuLmFjZV9wcmludC1tYXJnaW4ge1xcXG5wb3NpdGlvbjogYWJzb2x1dGU7XFxcbmhlaWdodDogMTAwJTtcXFxufVxcXG4uYWNlX3RleHQtaW5wdXQge1xcXG5wb3NpdGlvbjogYWJzb2x1dGU7XFxcbnotaW5kZXg6IDA7XFxcbndpZHRoOiAwLjVlbTtcXFxuaGVpZ2h0OiAxZW07XFxcbm9wYWNpdHk6IDA7XFxcbmJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xcXG4tbW96LWFwcGVhcmFuY2U6IG5vbmU7XFxcbmFwcGVhcmFuY2U6IG5vbmU7XFxcbmJvcmRlcjogbm9uZTtcXFxucmVzaXplOiBub25lO1xcXG5vdXRsaW5lOiBub25lO1xcXG5vdmVyZmxvdzogaGlkZGVuO1xcXG5mb250OiBpbmhlcml0O1xcXG5wYWRkaW5nOiAwIDFweDtcXFxubWFyZ2luOiAwIC0xcHg7XFxcbn1cXFxuLmFjZV90ZXh0LWlucHV0LmFjZV9jb21wb3NpdGlvbiB7XFxcbmJhY2tncm91bmQ6ICNmOGY4Zjg7XFxcbmNvbG9yOiAjMTExO1xcXG56LWluZGV4OiAxMDAwO1xcXG5vcGFjaXR5OiAxO1xcXG59XFxcbi5hY2VfbGF5ZXIge1xcXG56LWluZGV4OiAxO1xcXG5wb3NpdGlvbjogYWJzb2x1dGU7XFxcbm92ZXJmbG93OiBoaWRkZW47XFxcbndoaXRlLXNwYWNlOiBub3dyYXA7XFxcbmhlaWdodDogMTAwJTtcXFxud2lkdGg6IDEwMCU7XFxcbi1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDtcXFxuLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcXG5ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcXG4vKiBzZXR0aW5nIHBvaW50ZXItZXZlbnRzOiBhdXRvOyBvbiBub2RlIHVuZGVyIHRoZSBtb3VzZSwgd2hpY2ggY2hhbmdlc1xcXG5kdXJpbmcgc2Nyb2xsLCB3aWxsIGJyZWFrIG1vdXNlIHdoZWVsIHNjcm9sbGluZyBpbiBTYWZhcmkgKi9cXFxucG9pbnRlci1ldmVudHM6IG5vbmU7XFxcbn1cXFxuLmFjZV9ndXR0ZXItbGF5ZXIge1xcXG5wb3NpdGlvbjogcmVsYXRpdmU7XFxcbndpZHRoOiBhdXRvO1xcXG50ZXh0LWFsaWduOiByaWdodDtcXFxucG9pbnRlci1ldmVudHM6IGF1dG87XFxcbn1cXFxuLmFjZV90ZXh0LWxheWVyIHtcXFxuZm9udDogaW5oZXJpdCAhaW1wb3J0YW50O1xcXG59XFxcbi5hY2VfY2prIHtcXFxuZGlzcGxheTogaW5saW5lLWJsb2NrO1xcXG50ZXh0LWFsaWduOiBjZW50ZXI7XFxcbn1cXFxuLmFjZV9jdXJzb3ItbGF5ZXIge1xcXG56LWluZGV4OiA0O1xcXG59XFxcbi5hY2VfY3Vyc29yIHtcXFxuei1pbmRleDogNDtcXFxucG9zaXRpb246IGFic29sdXRlO1xcXG4tbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxcbi13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXFxuYm94LXNpemluZzogYm9yZGVyLWJveDtcXFxufVxcXG4uYWNlX2hpZGRlbi1jdXJzb3JzIC5hY2VfY3Vyc29yIHtcXFxub3BhY2l0eTogMC4yO1xcXG59XFxcbi5hY2Vfc21vb3RoLWJsaW5raW5nIC5hY2VfY3Vyc29yIHtcXFxuLW1vei10cmFuc2l0aW9uOiBvcGFjaXR5IDAuMThzO1xcXG4td2Via2l0LXRyYW5zaXRpb246IG9wYWNpdHkgMC4xOHM7XFxcbi1vLXRyYW5zaXRpb246IG9wYWNpdHkgMC4xOHM7XFxcbi1tcy10cmFuc2l0aW9uOiBvcGFjaXR5IDAuMThzO1xcXG50cmFuc2l0aW9uOiBvcGFjaXR5IDAuMThzO1xcXG59XFxcbi5hY2VfY3Vyc29yW3N0eWxlKj1cXFwib3BhY2l0eTogMFxcXCJde1xcXG4tbXMtZmlsdGVyOiBcXFwicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkFscGhhKE9wYWNpdHk9MClcXFwiO1xcXG59XFxcbi5hY2VfZWRpdG9yLmFjZV9tdWx0aXNlbGVjdCAuYWNlX2N1cnNvciB7XFxcbmJvcmRlci1sZWZ0LXdpZHRoOiAxcHg7XFxcbn1cXFxuLmFjZV9saW5lIHtcXFxud2hpdGUtc3BhY2U6IG5vd3JhcDtcXFxufVxcXG4uYWNlX21hcmtlci1sYXllciAuYWNlX3N0ZXAge1xcXG5wb3NpdGlvbjogYWJzb2x1dGU7XFxcbnotaW5kZXg6IDM7XFxcbn1cXFxuLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zZWxlY3Rpb24ge1xcXG5wb3NpdGlvbjogYWJzb2x1dGU7XFxcbnotaW5kZXg6IDU7XFxcbn1cXFxuLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9icmFja2V0IHtcXFxucG9zaXRpb246IGFic29sdXRlO1xcXG56LWluZGV4OiA2O1xcXG59XFxcbi5hY2VfbWFya2VyLWxheWVyIC5hY2VfYWN0aXZlLWxpbmUge1xcXG5wb3NpdGlvbjogYWJzb2x1dGU7XFxcbnotaW5kZXg6IDI7XFxcbn1cXFxuLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zZWxlY3RlZC13b3JkIHtcXFxucG9zaXRpb246IGFic29sdXRlO1xcXG56LWluZGV4OiA0O1xcXG4tbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxcbi13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXFxuYm94LXNpemluZzogYm9yZGVyLWJveDtcXFxufVxcXG4uYWNlX2xpbmUgLmFjZV9mb2xkIHtcXFxuLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcXG4td2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxcbmJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxcbmRpc3BsYXk6IGlubGluZS1ibG9jaztcXFxuaGVpZ2h0OiAxMXB4O1xcXG5tYXJnaW4tdG9wOiAtMnB4O1xcXG52ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcXG5iYWNrZ3JvdW5kLWltYWdlOlxcXG51cmwoXFxcImRhdGE6aW1hZ2UvcG5nLCU4OVBORyUwRCUwQSUxQSUwQSUwMCUwMCUwMCUwRElIRFIlMDAlMDAlMDAlMTElMDAlMDAlMDAlMDklMDglMDYlMDAlMDAlMDAlRDQlRTglQzclMEMlMDAlMDAlMDMlMUVpQ0NQSUNDJTIwUHJvZmlsZSUwMCUwMHglMDElODVUJURGayVEM1AlMTQlRkUlREFlJTlEJUIwJUUxJThCJTNBZyUxMSUwOSUzRWglOTFuZFN0QyU5QyVCNmtXJUJBJUNEWiVFQTYlQjchSCU5QiVBNm0lNUMlOUElQzYlMjQlRUR+JUIwJTA3JUQ5JThCbyUzQSVDNXclRjElMDclM0UlRjklMDclMEMlRDklODNvJTdCJTkyJTBEJUM2JTE0YSVGOCVBQyU4OCUyMkwlRjYlMjIlQjMlOUUlOUI0TSdTJTAzJUI5JUY3JUJCJURGJUY5JUVFOSclRTclRTQlNUUlQTAlRjlxWiVEMyUxNCUyRiUwRiUxNFVTTyVDNSVDMiVGQyVDNCVFNCUxNCVERiVGMiUwMSU1RSUxQ0MlMkIlRkNoTSU4QiU4NiUxNkolMjZHJTQwJTBGJUQzJUIyeSVFRiVCMyVGMyUwRSUxRSVDNmx0JUVFbyVERiVBQiVGRWMlRDUlOUElOTUlMEMlMTElRjAlMUMlMjAlQkUlOTQ1JUM0JTIyJUUxWSVBMGklNUMlRDR0JTEzJUUwJUQ2JTg5JUVGJTlEMTUlQzIlQ0RMc1glQTclMDQlMDklMUZnOG9jJTgxJUUxJThDJThEJTIzJTk2ZjQ1JTQwJTlBJTA5JUMyJTA3JUM1QiUzQUslQjglNDA4JTk4aSVFMCVGMyUwRCVEOCVDRSU4MSUxNCVFNCclMjYlQTklOTIuJThCJTNDJUFCRVIlMkYlRTVkRSVCMiUwQyVGNiVGMCUxRnMlODMlRjJfJUIwJUE4JTk0JUU5JTlCJUFEJUU3JTEwJThEbSU5QSUxOU4lRDElN0MlOEElREUlMUY5JTdEcCU4QyVFNiUwMCVENSVDMSUzRl8lMTglQkRBJUI4JTlEcFg2JUUzJUEzNX5CJUNEJTI0JUFFJTExJTI2JUJEJUU3JUVFdGklOTglRURlJTlBJTk3WSklMTIlMjUlMUMlMjQlQkNiVCVBRTNsaSVFNiUwQiUwMyU4OSU5QSVFNiVEMyVFRCVGNFAlOTIlQjAlOUY0JUJGNDNZJUYzJUUzJUVEUCU5NSUwNCVFQjElQzUlRjUlRjZLRiVGNCVCQSVCRCVENyVEQiU5MSU5MyUwNyVFMzUlM0UlQTcpJUQ2JTdGJTQwJUZFJUJEJUY3JUY1ciU4QSVFNXklOTIlRjAlRUIlQjQlMUUlOEQlRDUlRjQlNUIlOTIlM0FWJURCJURCJUU0JUNEJUE2JTIzJUMzJUM0d1ElM0YlMDNIQiU4MiU4RSUxQ2QoJUUwJTkxQiUwQ2ElOUFjJUM0JUFBJUY4TCUxNiUxOSUyMkolQTQlRDJpdFR5JUIyOCVENiUzQiglOTMlOTYlRUQlMUNHeCVDOV8lMEUlQjglNUUlMTYlRjUlNUIlQjIlQjglRjYlRTAlRkIlOUUlREQlMjUlRDclOEUlQkMlMTUlODUlQzUlQjclQTMlRDhRJUVEJUI1JTgxJUU5JUJBJUIyJTEzJTlBJTFCJTdGdWElQTUlQTNuJUUxNyVCOSVFNSU5QiUxQm0lQUIlMEIlMDhRJUZFJThBJUU1JUIxSCU1RWUlQ0FPJTgyUSVEN3U2JUU2JTkwUyU5NyVGQ3UlMEIlQ0YyJTk0JUVFJTI1diUxMlglMEMlQkElQUMlRjAlNUUlRjgqbCUwQU8lODUlMTclQzIlOTclQkYlRDQlQzglQ0UlREUlQUQlMTElQ0IlODBxJTJDJTNFJUFCJTlFUyVDRCVDNiVFQyUyNSVEMkwlRDIlRUJkJUI4JUJGJThBJUY1QiVDNiUxOCVGOSU5MDFDWiU5RCVCRSUyNE0lOUMlOEE5JUYyJURBUCUwQiclMDZ3JTgyJUVCJUU2JUUyJTVDJTJGJUQ3JTA3JTlFJUJCJUNDJTVEJUUxJUZBJUI5JTA4JUFELnIlMjMlOEUlQzIlMTclRjVFJTdDISVGMCVCRTMlQkUlM0VfJUI3byU4OGElQTclREIlQkUlRDNkJUVCJUEzMVolRUIlQkIlRDMlOTElQkElQTIlQjF6JTk0JThGJURCJyVGNiUzRCU4RSVBQSUxMyUxOSVCMiVCMSVCRSVCMX5WJTA4JTJCJUI0JUEyY2pKJUIzdE8lMDAlMDMlMjVtTiU5NyVGMyUwNSU5MyVFRiUxMSU4NCUwQiU3QyU4OCVBRS0lODklOEYlQUJiVyU5ME8lMkIlMEFvJTk5JTBDJTVFJTk3JTBDSSVBRkglRDkuJUIwJTNCJThGJUVEJTAzJUI2UyVENiU1RCVFNmlfczklRjMqcCVFOSUxQiVGRCVDMyVFQi43VSUwNiU1RSUxOSVDMCVEMXMuJTE3JUEwM3UlRTQlMDklQjAlN0MlNUUlMkMlRUIlMTUlREIlMUYlM0MlOUUlQjclODAlOTElM0IlREJjJUFEJTNEbWElQkElOEIlM0VWJUFCJURCdC4lNUIlMUUlMDElQkIlMEYlQUIlRDUlOUYlQ0YlQUElRDUlREQlRTclRTQlN0YlMEJ4JUEzJUZDJTA2JUE5JTIzJTBBJUQ2JUMyJUExXzIlMDAlMDAlMDAlMDlwSFlzJTAwJTAwJTBCJTEzJTAwJTAwJTBCJTEzJTAxJTAwJTlBJTlDJTE4JTAwJTAwJTAwJUI1SURBVCglMTUlQTUlOTElM0QlMEUlMDIhJTEwJTg1YWMlRTElMDUlRDYlQ0UlRDYlQzYlQ0UlRDIlRTglRUQlQ0QlREUlQzAlQzYlRDZOLiVFMFYlRjglM0QlOUNhJTg5MVhIJUMyJUJFJUQ5eSUzRiU5MCElRTYlOUMlQzMlQkZrJUU1JTAxMSVDNi0lRjUlQzhOJTA0JURGJUJEJUZGJTg5JURGdCU4M0ROJTYwJTNFJUYzJUFCJUEwJURFJTFBJTVEZyVCRSUxMFElOTclMUIlNDAlOUMlQThvJTEwJThGJTVFJTgyOCVCNCUxQiU2MCU4NyVGNiUwMiUyNiU4NSUxQ2glMUUlQzElMkIlNUJrJUZGJTg2JUVFJUI3aiUwOSU5QSVEQSU5QiVBQ2UlQTMlRjklRUMlREEhOSVCNCVENSVBNiU4MSU4NiU4NiU5OCVDQyUzQyU1QiU0MCVGQSU4MSVCMyVFOSVDQiUyMyU5NCVDMTZBem8lMDUlRDQlRTElQzElOTVhJTNCJThBJyVBMCVFOCVDQyUxNyUyMiU4NSUxRCVCQSUwMCVBMiVGQSVEQyUwQSU5NCVEMSVEMSU4RCU4QiUzQSU4NCUxN0IlQzclNjAlMUElMjVaJUZDJThEJTAwJTAwJTAwJTAwSUVORCVBRUIlNjAlODJcXFwiKSxcXFxudXJsKFxcXCJkYXRhOmltYWdlL3BuZywlODlQTkclMEQlMEElMUElMEElMDAlMDAlMDAlMERJSERSJTAwJTAwJTAwJTA1JTAwJTAwJTAwNyUwOCUwNiUwMCUwMCUwMCVDNCVERCU4MEMlMDAlMDAlMDMlMUVpQ0NQSUNDJTIwUHJvZmlsZSUwMCUwMHglMDElODVUJURGayVEM1AlMTQlRkUlREFlJTlEJUIwJUUxJThCJTNBZyUxMSUwOSUzRWglOTFuZFN0QyU5QyVCNmtXJUJBJUNEWiVFQTYlQjchSCU5QiVBNm0lNUMlOUElQzYlMjQlRUR+JUIwJTA3JUQ5JThCbyUzQSVDNXclRjElMDclM0UlRjklMDclMEMlRDklODNvJTdCJTkyJTBEJUM2JTE0YSVGOCVBQyU4OCUyMkwlRjYlMjIlQjMlOUUlOUI0TSdTJTAzJUI5JUY3JUJCJURGJUY5JUVFOSclRTclRTQlNUUlQTAlRjlxWiVEMyUxNCUyRiUwRiUxNFVTTyVDNSVDMiVGQyVDNCVFNCUxNCVERiVGMiUwMSU1RSUxQ0MlMkIlRkNoTSU4QiU4NiUxNkolMjZHJTQwJTBGJUQzJUIyeSVFRiVCMyVGMyUwRSUxRSVDNmx0JUVFbyVERiVBQiVGRWMlRDUlOUElOTUlMEMlMTElRjAlMUMlMjAlQkUlOTQ1JUM0JTIyJUUxWSVBMGklNUMlRDR0JTEzJUUwJUQ2JTg5JUVGJTlEMTUlQzIlQ0RMc1glQTclMDQlMDklMUZnOG9jJTgxJUUxJThDJThEJTIzJTk2ZjQ1JTQwJTlBJTA5JUMyJTA3JUM1QiUzQUslQjglNDA4JTk4aSVFMCVGMyUwRCVEOCVDRSU4MSUxNCVFNCclMjYlQTklOTIuJThCJTNDJUFCRVIlMkYlRTVkRSVCMiUwQyVGNiVGMCUxRnMlODMlRjJfJUIwJUE4JTk0JUU5JTlCJUFEJUU3JTEwJThEbSU5QSUxOU4lRDElN0MlOEElREUlMUY5JTdEcCU4QyVFNiUwMCVENSVDMSUzRl8lMTglQkRBJUI4JTlEcFg2JUUzJUEzNX5CJUNEJTI0JUFFJTExJTI2JUJEJUU3JUVFdGklOTglRURlJTlBJTk3WSklMTIlMjUlMUMlMjQlQkNiVCVBRTNsaSVFNiUwQiUwMyU4OSU5QSVFNiVEMyVFRCVGNFAlOTIlQjAlOUY0JUJGNDNZJUYzJUUzJUVEUCU5NSUwNCVFQjElQzUlRjUlRjZLRiVGNCVCQSVCRCVENyVEQiU5MSU5MyUwNyVFMzUlM0UlQTcpJUQ2JTdGJTQwJUZFJUJEJUY3JUY1ciU4QSVFNXklOTIlRjAlRUIlQjQlMUUlOEQlRDUlRjQlNUIlOTIlM0FWJURCJURCJUU0JUNEJUE2JTIzJUMzJUM0d1ElM0YlMDNIQiU4MiU4RSUxQ2QoJUUwJTkxQiUwQ2ElOUFjJUM0JUFBJUY4TCUxNiUxOSUyMkolQTQlRDJpdFR5JUIyOCVENiUzQiglOTMlOTYlRUQlMUNHeCVDOV8lMEUlQjglNUUlMTYlRjUlNUIlQjIlQjglRjYlRTAlRkIlOUUlREQlMjUlRDclOEUlQkMlMTUlODUlQzUlQjclQTMlRDhRJUVEJUI1JTgxJUU5JUJBJUIyJTEzJTlBJTFCJTdGdWElQTUlQTNuJUUxNyVCOSVFNSU5QiUxQm0lQUIlMEIlMDhRJUZFJThBJUU1JUIxSCU1RWUlQ0FPJTgyUSVEN3U2JUU2JTkwUyU5NyVGQ3UlMEIlQ0YyJTk0JUVFJTI1diUxMlglMEMlQkElQUMlRjAlNUUlRjgqbCUwQU8lODUlMTclQzIlOTclQkYlRDQlQzglQ0UlREUlQUQlMTElQ0IlODBxJTJDJTNFJUFCJTlFUyVDRCVDNiVFQyUyNSVEMkwlRDIlRUJkJUI4JUJGJThBJUY1QiVDNiUxOCVGOSU5MDFDWiU5RCVCRSUyNE0lOUMlOEE5JUYyJURBUCUwQiclMDZ3JTgyJUVCJUU2JUUyJTVDJTJGJUQ3JTA3JTlFJUJCJUNDJTVEJUUxJUZBJUI5JTA4JUFELnIlMjMlOEUlQzIlMTclRjVFJTdDISVGMCVCRTMlQkUlM0VfJUI3byU4OGElQTclREIlQkUlRDNkJUVCJUEzMVolRUIlQkIlRDMlOTElQkElQTIlQjF6JTk0JThGJURCJyVGNiUzRCU4RSVBQSUxMyUxOSVCMiVCMSVCRSVCMX5WJTA4JTJCJUI0JUEyY2pKJUIzdE8lMDAlMDMlMjVtTiU5NyVGMyUwNSU5MyVFRiUxMSU4NCUwQiU3QyU4OCVBRS0lODklOEYlQUJiVyU5ME8lMkIlMEFvJTk5JTBDJTVFJTk3JTBDSSVBRkglRDkuJUIwJTNCJThGJUVEJTAzJUI2UyVENiU1RCVFNmlfczklRjMqcCVFOSUxQiVGRCVDMyVFQi43VSUwNiU1RSUxOSVDMCVEMXMuJTE3JUEwM3UlRTQlMDklQjAlN0MlNUUlMkMlRUIlMTUlREIlMUYlM0MlOUUlQjclODAlOTElM0IlREJjJUFEJTNEbWElQkElOEIlM0VWJUFCJURCdC4lNUIlMUUlMDElQkIlMEYlQUIlRDUlOUYlQ0YlQUElRDUlREQlRTclRTQlN0YlMEJ4JUEzJUZDJTA2JUE5JTIzJTBBJUQ2JUMyJUExXzIlMDAlMDAlMDAlMDlwSFlzJTAwJTAwJTBCJTEzJTAwJTAwJTBCJTEzJTAxJTAwJTlBJTlDJTE4JTAwJTAwJTAwJTNBSURBVDglMTFjJUZDJUZGJUZGJTdGJTE4JTAzJTFBJTYwJTAxJUYyJTNGJUEwJTg5MSU4MCUwNCVGRiUxMS0lRjglMTclOUJKJUUyJTA1JUIxWkQlODF2JTI2dCVFNyU4MCVGOCVBMyU4MmglQTEyJTFBJTIwJUEzJTAxJTAyJTBGJTAxJUJBJTI1JTA2JTAwJTE5JUMwJTBEJUFFRiVENSUzRVMlMDAlMDAlMDAlMDBJRU5EJUFFQiU2MCU4MlxcXCIpO1xcXG5iYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0LCByZXBlYXQteDtcXFxuYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIGNlbnRlciwgdG9wIGxlZnQ7XFxcbmNvbG9yOiB0cmFuc3BhcmVudDtcXFxuYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XFxcbi1tb3otYm9yZGVyLXJhZGl1czogMnB4O1xcXG4td2Via2l0LWJvcmRlci1yYWRpdXM6IDJweDtcXFxuYm9yZGVyLXJhZGl1czogMnB4O1xcXG5jdXJzb3I6IHBvaW50ZXI7XFxcbnBvaW50ZXItZXZlbnRzOiBhdXRvO1xcXG59XFxcbi5hY2VfZGFyayAuYWNlX2ZvbGQge1xcXG59XFxcbi5hY2VfZm9sZDpob3ZlcntcXFxuYmFja2dyb3VuZC1pbWFnZTpcXFxudXJsKFxcXCJkYXRhOmltYWdlL3BuZywlODlQTkclMEQlMEElMUElMEElMDAlMDAlMDAlMERJSERSJTAwJTAwJTAwJTExJTAwJTAwJTAwJTA5JTA4JTA2JTAwJTAwJTAwJUQ0JUU4JUM3JTBDJTAwJTAwJTAzJTFFaUNDUElDQyUyMFByb2ZpbGUlMDAlMDB4JTAxJTg1VCVERmslRDNQJTE0JUZFJURBZSU5RCVCMCVFMSU4QiUzQWclMTElMDklM0VoJTkxbmRTdEMlOUMlQjZrVyVCQSVDRFolRUE2JUI3IUglOUIlQTZtJTVDJTlBJUM2JTI0JUVEfiVCMCUwNyVEOSU4Qm8lM0ElQzV3JUYxJTA3JTNFJUY5JTA3JTBDJUQ5JTgzbyU3QiU5MiUwRCVDNiUxNGElRjglQUMlODglMjJMJUY2JTIyJUIzJTlFJTlCNE0nUyUwMyVCOSVGNyVCQiVERiVGOSVFRTknJUU3JUU0JTVFJUEwJUY5cVolRDMlMTQlMkYlMEYlMTRVU08lQzUlQzIlRkMlQzQlRTQlMTQlREYlRjIlMDElNUUlMUNDJTJCJUZDaE0lOEIlODYlMTZKJTI2RyU0MCUwRiVEMyVCMnklRUYlQjMlRjMlMEUlMUUlQzZsdCVFRW8lREYlQUIlRkVjJUQ1JTlBJTk1JTBDJTExJUYwJTFDJTIwJUJFJTk0NSVDNCUyMiVFMVklQTBpJTVDJUQ0dCUxMyVFMCVENiU4OSVFRiU5RDE1JUMyJUNETHNYJUE3JTA0JTA5JTFGZzhvYyU4MSVFMSU4QyU4RCUyMyU5NmY0NSU0MCU5QSUwOSVDMiUwNyVDNUIlM0FLJUI4JTQwOCU5OGklRTAlRjMlMEQlRDglQ0UlODElMTQlRTQnJTI2JUE5JTkyLiU4QiUzQyVBQkVSJTJGJUU1ZEUlQjIlMEMlRjYlRjAlMUZzJTgzJUYyXyVCMCVBOCU5NCVFOSU5QiVBRCVFNyUxMCU4RG0lOUElMTlOJUQxJTdDJThBJURFJTFGOSU3RHAlOEMlRTYlMDAlRDUlQzElM0ZfJTE4JUJEQSVCOCU5RHBYNiVFMyVBMzV+QiVDRCUyNCVBRSUxMSUyNiVCRCVFNyVFRXRpJTk4JUVEZSU5QSU5N1kpJTEyJTI1JTFDJTI0JUJDYlQlQUUzbGklRTYlMEIlMDMlODklOUElRTYlRDMlRUQlRjRQJTkyJUIwJTlGNCVCRjQzWSVGMyVFMyVFRFAlOTUlMDQlRUIxJUM1JUY1JUY2S0YlRjQlQkElQkQlRDclREIlOTElOTMlMDclRTM1JTNFJUE3KSVENiU3RiU0MCVGRSVCRCVGNyVGNXIlOEElRTV5JTkyJUYwJUVCJUI0JTFFJThEJUQ1JUY0JTVCJTkyJTNBViVEQiVEQiVFNCVDRCVBNiUyMyVDMyVDNHdRJTNGJTAzSEIlODIlOEUlMUNkKCVFMCU5MUIlMENhJTlBYyVDNCVBQSVGOEwlMTYlMTklMjJKJUE0JUQyaXRUeSVCMjglRDYlM0IoJTkzJTk2JUVEJTFDR3glQzlfJTBFJUI4JTVFJTE2JUY1JTVCJUIyJUI4JUY2JUUwJUZCJTlFJUREJTI1JUQ3JThFJUJDJTE1JTg1JUM1JUI3JUEzJUQ4USVFRCVCNSU4MSVFOSVCQSVCMiUxMyU5QSUxQiU3RnVhJUE1JUEzbiVFMTclQjklRTUlOUIlMUJtJUFCJTBCJTA4USVGRSU4QSVFNSVCMUglNUVlJUNBTyU4MlElRDd1NiVFNiU5MFMlOTclRkN1JTBCJUNGMiU5NCVFRSUyNXYlMTJYJTBDJUJBJUFDJUYwJTVFJUY4KmwlMEFPJTg1JTE3JUMyJTk3JUJGJUQ0JUM4JUNFJURFJUFEJTExJUNCJTgwcSUyQyUzRSVBQiU5RVMlQ0QlQzYlRUMlMjUlRDJMJUQyJUVCZCVCOCVCRiU4QSVGNUIlQzYlMTglRjklOTAxQ1olOUQlQkUlMjRNJTlDJThBOSVGMiVEQVAlMEInJTA2dyU4MiVFQiVFNiVFMiU1QyUyRiVENyUwNyU5RSVCQiVDQyU1RCVFMSVGQSVCOSUwOCVBRC5yJTIzJThFJUMyJTE3JUY1RSU3QyElRjAlQkUzJUJFJTNFXyVCN28lODhhJUE3JURCJUJFJUQzZCVFQiVBMzFaJUVCJUJCJUQzJTkxJUJBJUEyJUIxeiU5NCU4RiVEQiclRjYlM0QlOEUlQUElMTMlMTklQjIlQjElQkUlQjF+ViUwOCUyQiVCNCVBMmNqSiVCM3RPJTAwJTAzJTI1bU4lOTclRjMlMDUlOTMlRUYlMTElODQlMEIlN0MlODglQUUtJTg5JThGJUFCYlclOTBPJTJCJTBBbyU5OSUwQyU1RSU5NyUwQ0klQUZIJUQ5LiVCMCUzQiU4RiVFRCUwMyVCNlMlRDYlNUQlRTZpX3M5JUYzKnAlRTklMUIlRkQlQzMlRUIuN1UlMDYlNUUlMTklQzAlRDFzLiUxNyVBMDN1JUU0JTA5JUIwJTdDJTVFJTJDJUVCJTE1JURCJTFGJTNDJTlFJUI3JTgwJTkxJTNCJURCYyVBRCUzRG1hJUJBJThCJTNFViVBQiVEQnQuJTVCJTFFJTAxJUJCJTBGJUFCJUQ1JTlGJUNGJUFBJUQ1JUREJUU3JUU0JTdGJTBCeCVBMyVGQyUwNiVBOSUyMyUwQSVENiVDMiVBMV8yJTAwJTAwJTAwJTA5cEhZcyUwMCUwMCUwQiUxMyUwMCUwMCUwQiUxMyUwMSUwMCU5QSU5QyUxOCUwMCUwMCUwMCVCNUlEQVQoJTE1JUE1JTkxJTNEJTBFJTAyISUxMCU4NWFjJUUxJTA1JUQ2JUNFJUQ2JUM2JUNFJUQyJUU4JUVEJUNEJURFJUMwJUM2JUQ2Ti4lRTBWJUY4JTNEJTlDYSU4OTFYSCVDMiVCRSVEOXklM0YlOTAhJUU2JTlDJUMzJUJGayVFNSUwMTElQzYtJUY1JUM4TiUwNCVERiVCRCVGRiU4OSVERnQlODNETiU2MCUzRSVGMyVBQiVBMCVERSUxQSU1RGclQkUlMTBRJTk3JTFCJTQwJTlDJUE4byUxMCU4RiU1RSU4MjglQjQlMUIlNjAlODclRjYlMDIlMjYlODUlMUNoJTFFJUMxJTJCJTVCayVGRiU4NiVFRSVCN2olMDklOUElREElOUIlQUNlJUEzJUY5JUVDJURBITklQjQlRDUlQTYlODElODYlODYlOTglQ0MlM0MlNUIlNDAlRkElODElQjMlRTklQ0IlMjMlOTQlQzE2QXpvJTA1JUQ0JUUxJUMxJTk1YSUzQiU4QSclQTAlRTglQ0MlMTclMjIlODUlMUQlQkElMDAlQTIlRkElREMlMEElOTQlRDElRDElOEQlOEIlM0ElODQlMTdCJUM3JTYwJTFBJTI1WiVGQyU4RCUwMCUwMCUwMCUwMElFTkQlQUVCJTYwJTgyXFxcIiksXFxcbnVybChcXFwiZGF0YTppbWFnZS9wbmcsJTg5UE5HJTBEJTBBJTFBJTBBJTAwJTAwJTAwJTBESUhEUiUwMCUwMCUwMCUwNSUwMCUwMCUwMDclMDglMDYlMDAlMDAlMDAlQzQlREQlODBDJTAwJTAwJTAzJTFFaUNDUElDQyUyMFByb2ZpbGUlMDAlMDB4JTAxJTg1VCVERmslRDNQJTE0JUZFJURBZSU5RCVCMCVFMSU4QiUzQWclMTElMDklM0VoJTkxbmRTdEMlOUMlQjZrVyVCQSVDRFolRUE2JUI3IUglOUIlQTZtJTVDJTlBJUM2JTI0JUVEfiVCMCUwNyVEOSU4Qm8lM0ElQzV3JUYxJTA3JTNFJUY5JTA3JTBDJUQ5JTgzbyU3QiU5MiUwRCVDNiUxNGElRjglQUMlODglMjJMJUY2JTIyJUIzJTlFJTlCNE0nUyUwMyVCOSVGNyVCQiVERiVGOSVFRTknJUU3JUU0JTVFJUEwJUY5cVolRDMlMTQlMkYlMEYlMTRVU08lQzUlQzIlRkMlQzQlRTQlMTQlREYlRjIlMDElNUUlMUNDJTJCJUZDaE0lOEIlODYlMTZKJTI2RyU0MCUwRiVEMyVCMnklRUYlQjMlRjMlMEUlMUUlQzZsdCVFRW8lREYlQUIlRkVjJUQ1JTlBJTk1JTBDJTExJUYwJTFDJTIwJUJFJTk0NSVDNCUyMiVFMVklQTBpJTVDJUQ0dCUxMyVFMCVENiU4OSVFRiU5RDE1JUMyJUNETHNYJUE3JTA0JTA5JTFGZzhvYyU4MSVFMSU4QyU4RCUyMyU5NmY0NSU0MCU5QSUwOSVDMiUwNyVDNUIlM0FLJUI4JTQwOCU5OGklRTAlRjMlMEQlRDglQ0UlODElMTQlRTQnJTI2JUE5JTkyLiU4QiUzQyVBQkVSJTJGJUU1ZEUlQjIlMEMlRjYlRjAlMUZzJTgzJUYyXyVCMCVBOCU5NCVFOSU5QiVBRCVFNyUxMCU4RG0lOUElMTlOJUQxJTdDJThBJURFJTFGOSU3RHAlOEMlRTYlMDAlRDUlQzElM0ZfJTE4JUJEQSVCOCU5RHBYNiVFMyVBMzV+QiVDRCUyNCVBRSUxMSUyNiVCRCVFNyVFRXRpJTk4JUVEZSU5QSU5N1kpJTEyJTI1JTFDJTI0JUJDYlQlQUUzbGklRTYlMEIlMDMlODklOUElRTYlRDMlRUQlRjRQJTkyJUIwJTlGNCVCRjQzWSVGMyVFMyVFRFAlOTUlMDQlRUIxJUM1JUY1JUY2S0YlRjQlQkElQkQlRDclREIlOTElOTMlMDclRTM1JTNFJUE3KSVENiU3RiU0MCVGRSVCRCVGNyVGNXIlOEElRTV5JTkyJUYwJUVCJUI0JTFFJThEJUQ1JUY0JTVCJTkyJTNBViVEQiVEQiVFNCVDRCVBNiUyMyVDMyVDNHdRJTNGJTAzSEIlODIlOEUlMUNkKCVFMCU5MUIlMENhJTlBYyVDNCVBQSVGOEwlMTYlMTklMjJKJUE0JUQyaXRUeSVCMjglRDYlM0IoJTkzJTk2JUVEJTFDR3glQzlfJTBFJUI4JTVFJTE2JUY1JTVCJUIyJUI4JUY2JUUwJUZCJTlFJUREJTI1JUQ3JThFJUJDJTE1JTg1JUM1JUI3JUEzJUQ4USVFRCVCNSU4MSVFOSVCQSVCMiUxMyU5QSUxQiU3RnVhJUE1JUEzbiVFMTclQjklRTUlOUIlMUJtJUFCJTBCJTA4USVGRSU4QSVFNSVCMUglNUVlJUNBTyU4MlElRDd1NiVFNiU5MFMlOTclRkN1JTBCJUNGMiU5NCVFRSUyNXYlMTJYJTBDJUJBJUFDJUYwJTVFJUY4KmwlMEFPJTg1JTE3JUMyJTk3JUJGJUQ0JUM4JUNFJURFJUFEJTExJUNCJTgwcSUyQyUzRSVBQiU5RVMlQ0QlQzYlRUMlMjUlRDJMJUQyJUVCZCVCOCVCRiU4QSVGNUIlQzYlMTglRjklOTAxQ1olOUQlQkUlMjRNJTlDJThBOSVGMiVEQVAlMEInJTA2dyU4MiVFQiVFNiVFMiU1QyUyRiVENyUwNyU5RSVCQiVDQyU1RCVFMSVGQSVCOSUwOCVBRC5yJTIzJThFJUMyJTE3JUY1RSU3QyElRjAlQkUzJUJFJTNFXyVCN28lODhhJUE3JURCJUJFJUQzZCVFQiVBMzFaJUVCJUJCJUQzJTkxJUJBJUEyJUIxeiU5NCU4RiVEQiclRjYlM0QlOEUlQUElMTMlMTklQjIlQjElQkUlQjF+ViUwOCUyQiVCNCVBMmNqSiVCM3RPJTAwJTAzJTI1bU4lOTclRjMlMDUlOTMlRUYlMTElODQlMEIlN0MlODglQUUtJTg5JThGJUFCYlclOTBPJTJCJTBBbyU5OSUwQyU1RSU5NyUwQ0klQUZIJUQ5LiVCMCUzQiU4RiVFRCUwMyVCNlMlRDYlNUQlRTZpX3M5JUYzKnAlRTklMUIlRkQlQzMlRUIuN1UlMDYlNUUlMTklQzAlRDFzLiUxNyVBMDN1JUU0JTA5JUIwJTdDJTVFJTJDJUVCJTE1JURCJTFGJTNDJTlFJUI3JTgwJTkxJTNCJURCYyVBRCUzRG1hJUJBJThCJTNFViVBQiVEQnQuJTVCJTFFJTAxJUJCJTBGJUFCJUQ1JTlGJUNGJUFBJUQ1JUREJUU3JUU0JTdGJTBCeCVBMyVGQyUwNiVBOSUyMyUwQSVENiVDMiVBMV8yJTAwJTAwJTAwJTA5cEhZcyUwMCUwMCUwQiUxMyUwMCUwMCUwQiUxMyUwMSUwMCU5QSU5QyUxOCUwMCUwMCUwMDNJREFUOCUxMWMlRkMlRkYlRkYlN0YlM0UlMDMlMUElNjAlMDElRjIlM0YlQTMlODkxJTgwJTA0JUZGUSUyNiVGOHclQzAlQjQzJUExJURCJTBDJUUyJThGJTBBJUEyJTg1JUNBaCU4MCU4QyUwNiUwOCUzQyUwNCVFOCU5NiUxOCUwMCVBM1MlMEQlQ0QlQ0YlRDglQzElOUQlMDAlMDAlMDAlMDBJRU5EJUFFQiU2MCU4MlxcXCIpO1xcXG5iYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0LCByZXBlYXQteDtcXFxuYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIGNlbnRlciwgdG9wIGxlZnQ7XFxcbn1cXFxuLmFjZV9lZGl0b3IuYWNlX2RyYWdnaW5nIC5hY2VfY29udGVudCB7XFxcbmN1cnNvcjogbW92ZTtcXFxufVxcXG4uYWNlX2d1dHRlci10b29sdGlwIHtcXFxuYmFja2dyb3VuZC1jb2xvcjogI0ZGRjtcXFxuYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCB0cmFuc3BhcmVudCwgcmdiYSgwLCAwLCAwLCAwLjEpKTtcXFxuYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgdHJhbnNwYXJlbnQsIHJnYmEoMCwgMCwgMCwgMC4xKSk7XFxcbmJvcmRlcjogMXB4IHNvbGlkIGdyYXk7XFxcbmJvcmRlci1yYWRpdXM6IDFweDtcXFxuYm94LXNoYWRvdzogMCAxcHggMnB4IHJnYmEoMCwgMCwgMCwgMC4zKTtcXFxuY29sb3I6IGJsYWNrO1xcXG5kaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxcbm1heC13aWR0aDogNTAwcHg7XFxcbnBhZGRpbmc6IDRweDtcXFxucG9zaXRpb246IGZpeGVkO1xcXG56LWluZGV4OiAzMDA7XFxcbi1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDtcXFxuLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcXG5ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcXG5jdXJzb3I6IGRlZmF1bHQ7XFxcbndoaXRlLXNwYWNlOiBwcmUtbGluZTtcXFxud29yZC13cmFwOiBicmVhay13b3JkO1xcXG5saW5lLWhlaWdodDogbm9ybWFsO1xcXG5mb250LXN0eWxlOiBub3JtYWw7XFxcbmZvbnQtd2VpZ2h0OiBub3JtYWw7XFxcbmxldHRlci1zcGFjaW5nOiBub3JtYWw7XFxcbn1cXFxuLmFjZV9mb2xkaW5nLWVuYWJsZWQgPiAuYWNlX2d1dHRlci1jZWxsIHtcXFxucGFkZGluZy1yaWdodDogMTNweDtcXFxufVxcXG4uYWNlX2ZvbGQtd2lkZ2V0IHtcXFxuLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcXG4td2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxcbmJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxcbm1hcmdpbjogMCAtMTJweCAwIDFweDtcXFxuZGlzcGxheTogbm9uZTtcXFxud2lkdGg6IDExcHg7XFxcbnZlcnRpY2FsLWFsaWduOiB0b3A7XFxcbmJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9wbmcsJTg5UE5HJTBEJTBBJTFBJTBBJTAwJTAwJTAwJTBESUhEUiUwMCUwMCUwMCUwNSUwMCUwMCUwMCUwNSUwOCUwNiUwMCUwMCUwMCU4RG8lMjYlRTUlMDAlMDAlMDA0SURBVHglREFlJThBJUIxJTBEJTAwMCUwQyVDMiVGMiUyQ0slOTYlQkMlRDAlOEY5JTgxJTg4SCVFOSVEMCUwRSU5NiVDMCUxMCU5MiUzRSUwMiU4MCU1RSU4MiVFNCVBOSotJUVFc3clQzglQ0MlMTElRUUlOTZ3JUQ4JURDJUU5KkVoJTBDJTE1MSglMDAlMDAlMDAlMDBJRU5EJUFFQiU2MCU4MlxcXCIpO1xcXG5iYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcXG5iYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XFxcbmJvcmRlci1yYWRpdXM6IDNweDtcXFxuYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XFxcbmN1cnNvcjogcG9pbnRlcjtcXFxufVxcXG4uYWNlX2ZvbGRpbmctZW5hYmxlZCAuYWNlX2ZvbGQtd2lkZ2V0IHtcXFxuZGlzcGxheTogaW5saW5lLWJsb2NrOyAgIFxcXG59XFxcbi5hY2VfZm9sZC13aWRnZXQuYWNlX2VuZCB7XFxcbmJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9wbmcsJTg5UE5HJTBEJTBBJTFBJTBBJTAwJTAwJTAwJTBESUhEUiUwMCUwMCUwMCUwNSUwMCUwMCUwMCUwNSUwOCUwNiUwMCUwMCUwMCU4RG8lMjYlRTUlMDAlMDAlMDA0SURBVHglREFtJUM3JUMxJTA5JTAwMCUwOEMlRDElOEMlRUNFJUM4RSglOEUlRUMlMDIpJTFFWkolRjElQzEnJTA0JTA3SSVFMSVFNSVFRSVDQUwlRjUlQTIlOTklOTklMjIlRTIlRDYlMUZVJUI1JUZFMCVEOXglQTclMjZXejUlMEUlRDUlMDAlMDAlMDAlMDBJRU5EJUFFQiU2MCU4MlxcXCIpO1xcXG59XFxcbi5hY2VfZm9sZC13aWRnZXQuYWNlX2Nsb3NlZCB7XFxcbmJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9wbmcsJTg5UE5HJTBEJTBBJTFBJTBBJTAwJTAwJTAwJTBESUhEUiUwMCUwMCUwMCUwMyUwMCUwMCUwMCUwNiUwOCUwNiUwMCUwMCUwMCUwNiVFNSUyNCUwQyUwMCUwMCUwMDlJREFUeCVEQTUlQ0ElQzElMDklMDAwJTA4JTAzJUMwJUFDKiglM0UlMDQlQzElMEQlQkElQjElMjMlQTRVaCVFMCUyMCU4MSVDMCVDQyVGOCU4MiU4MSVBQSVBMiVBQXJHZnIlODglMDglMTElMTElMUMlREQlN0QlRTAlRUUlNUIlRjYlRjYlQ0IlQjglMDVRJTJGJUU5dGFpJUQ5JTAwJTAwJTAwJTAwSUVORCVBRUIlNjAlODJcXFwiKTtcXFxufVxcXG4uYWNlX2ZvbGQtd2lkZ2V0OmhvdmVyIHtcXFxuYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjMpO1xcXG5iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XFxcbi1tb3otYm94LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KTtcXFxuLXdlYmtpdC1ib3gtc2hhZG93OiAwIDFweCAxcHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpO1xcXG5ib3gtc2hhZG93OiAwIDFweCAxcHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpO1xcXG59XFxcbi5hY2VfZm9sZC13aWRnZXQ6YWN0aXZlIHtcXFxuYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjQpO1xcXG5iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMDUpO1xcXG4tbW96LWJveC1zaGFkb3c6IDAgMXB4IDFweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCk7XFxcbi13ZWJraXQtYm94LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KTtcXFxuYm94LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KTtcXFxufVxcXG4vKipcXFxuKiBEYXJrIHZlcnNpb24gZm9yIGZvbGQgd2lkZ2V0c1xcXG4qL1xcXG4uYWNlX2RhcmsgLmFjZV9mb2xkLXdpZGdldCB7XFxcbmJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBVUFBQUFGQ0FZQUFBQ05ieWJsQUFBQUhrbEVRVlFJVzJQNC8vOC9Bem9HRVE3b0dDYUxMQWhXaVN3QjE0NkJBUUNTVFBZb2NxVDBBQUFBQUVsRlRrU3VRbUNDXFxcIik7XFxcbn1cXFxuLmFjZV9kYXJrIC5hY2VfZm9sZC13aWRnZXQuYWNlX2VuZCB7XFxcbmJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBVUFBQUFGQ0FZQUFBQ05ieWJsQUFBQUgwbEVRVlFJVzJQNC8vOC9BeFE3d05qSUFqRE1nQzRBeGpDVktCaXJJQUFGMGt6MnJsaHhwQUFBQUFCSlJVNUVya0pnZ2c9PVxcXCIpO1xcXG59XFxcbi5hY2VfZGFyayAuYWNlX2ZvbGQtd2lkZ2V0LmFjZV9jbG9zZWQge1xcXG5iYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQU1BQUFBRkNBWUFBQUNBY1ZhaUFBQUFIRWxFUVZRSVcyUDQvLysvQXhBemdEQURsT09Bem5IQUtnUFdBd0FSamk4VUlEVGZRUUFBQUFCSlJVNUVya0pnZ2c9PVxcXCIpO1xcXG59XFxcbi5hY2VfZGFyayAuYWNlX2ZvbGQtd2lkZ2V0OmhvdmVyIHtcXFxuYm94LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcXFxuYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xcXG59XFxcbi5hY2VfZGFyayAuYWNlX2ZvbGQtd2lkZ2V0OmFjdGl2ZSB7XFxcbi1tb3otYm94LXNoYWRvdzogMCAxcHggMXB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcXFxuLXdlYmtpdC1ib3gtc2hhZG93OiAwIDFweCAxcHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xcXG5ib3gtc2hhZG93OiAwIDFweCAxcHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xcXG59XFxcbi5hY2VfZm9sZC13aWRnZXQuYWNlX2ludmFsaWQge1xcXG5iYWNrZ3JvdW5kLWNvbG9yOiAjRkZCNEI0O1xcXG5ib3JkZXItY29sb3I6ICNERTU1NTU7XFxcbn1cXFxuLmFjZV9mYWRlLWZvbGQtd2lkZ2V0cyAuYWNlX2ZvbGQtd2lkZ2V0IHtcXFxuLW1vei10cmFuc2l0aW9uOiBvcGFjaXR5IDAuNHMgZWFzZSAwLjA1cztcXFxuLXdlYmtpdC10cmFuc2l0aW9uOiBvcGFjaXR5IDAuNHMgZWFzZSAwLjA1cztcXFxuLW8tdHJhbnNpdGlvbjogb3BhY2l0eSAwLjRzIGVhc2UgMC4wNXM7XFxcbi1tcy10cmFuc2l0aW9uOiBvcGFjaXR5IDAuNHMgZWFzZSAwLjA1cztcXFxudHJhbnNpdGlvbjogb3BhY2l0eSAwLjRzIGVhc2UgMC4wNXM7XFxcbm9wYWNpdHk6IDA7XFxcbn1cXFxuLmFjZV9mYWRlLWZvbGQtd2lkZ2V0czpob3ZlciAuYWNlX2ZvbGQtd2lkZ2V0IHtcXFxuLW1vei10cmFuc2l0aW9uOiBvcGFjaXR5IDAuMDVzIGVhc2UgMC4wNXM7XFxcbi13ZWJraXQtdHJhbnNpdGlvbjogb3BhY2l0eSAwLjA1cyBlYXNlIDAuMDVzO1xcXG4tby10cmFuc2l0aW9uOiBvcGFjaXR5IDAuMDVzIGVhc2UgMC4wNXM7XFxcbi1tcy10cmFuc2l0aW9uOiBvcGFjaXR5IDAuMDVzIGVhc2UgMC4wNXM7XFxcbnRyYW5zaXRpb246IG9wYWNpdHkgMC4wNXMgZWFzZSAwLjA1cztcXFxub3BhY2l0eToxO1xcXG59XFxcbi5hY2VfdW5kZXJsaW5lIHtcXFxudGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XFxcbn1cXFxuLmFjZV9ib2xkIHtcXFxuZm9udC13ZWlnaHQ6IGJvbGQ7XFxcbn1cXFxuLmFjZV9ub2JvbGQgLmFjZV9ib2xkIHtcXFxuZm9udC13ZWlnaHQ6IG5vcm1hbDtcXFxufVxcXG4uYWNlX2l0YWxpYyB7XFxcbmZvbnQtc3R5bGU6IGl0YWxpYztcXFxufVxcXG5cIjtcblxuZG9tLmltcG9ydENzc1N0cmluZyhlZGl0b3JDc3MsIFwiYWNlX2VkaXRvclwiKTtcblxudmFyIFZpcnR1YWxSZW5kZXJlciA9IGZ1bmN0aW9uKGNvbnRhaW5lciwgdGhlbWUpIHtcbiAgICB2YXIgX3NlbGYgPSB0aGlzO1xuXG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXIgfHwgZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy4ka2VlcFRleHRBcmVhQXRDdXJzb3IgPSAhdXNlcmFnZW50LmlzSUU7XG5cbiAgICBkb20uYWRkQ3NzQ2xhc3ModGhpcy5jb250YWluZXIsIFwiYWNlX2VkaXRvclwiKTtcblxuICAgIHRoaXMuc2V0VGhlbWUodGhlbWUpO1xuXG4gICAgdGhpcy4kZ3V0dGVyID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy4kZ3V0dGVyLmNsYXNzTmFtZSA9IFwiYWNlX2d1dHRlclwiO1xuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuJGd1dHRlcik7XG5cbiAgICB0aGlzLnNjcm9sbGVyID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy5zY3JvbGxlci5jbGFzc05hbWUgPSBcImFjZV9zY3JvbGxlclwiO1xuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuc2Nyb2xsZXIpO1xuXG4gICAgdGhpcy5jb250ZW50ID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy5jb250ZW50LmNsYXNzTmFtZSA9IFwiYWNlX2NvbnRlbnRcIjtcbiAgICB0aGlzLnNjcm9sbGVyLmFwcGVuZENoaWxkKHRoaXMuY29udGVudCk7XG5cbiAgICB0aGlzLiRndXR0ZXJMYXllciA9IG5ldyBHdXR0ZXJMYXllcih0aGlzLiRndXR0ZXIpO1xuICAgIHRoaXMuJGd1dHRlckxheWVyLm9uKFwiY2hhbmdlR3V0dGVyV2lkdGhcIiwgdGhpcy5vbkd1dHRlclJlc2l6ZS5iaW5kKHRoaXMpKTtcblxuICAgIHRoaXMuJG1hcmtlckJhY2sgPSBuZXcgTWFya2VyTGF5ZXIodGhpcy5jb250ZW50KTtcblxuICAgIHZhciB0ZXh0TGF5ZXIgPSB0aGlzLiR0ZXh0TGF5ZXIgPSBuZXcgVGV4dExheWVyKHRoaXMuY29udGVudCk7XG4gICAgdGhpcy5jYW52YXMgPSB0ZXh0TGF5ZXIuZWxlbWVudDtcblxuICAgIHRoaXMuJG1hcmtlckZyb250ID0gbmV3IE1hcmtlckxheWVyKHRoaXMuY29udGVudCk7XG5cbiAgICB0aGlzLiRjdXJzb3JMYXllciA9IG5ldyBDdXJzb3JMYXllcih0aGlzLmNvbnRlbnQpO1xuICAgIHRoaXMuJGhvcml6U2Nyb2xsID0gZmFsc2U7XG5cbiAgICB0aGlzLnNjcm9sbEJhciA9IG5ldyBTY3JvbGxCYXIodGhpcy5jb250YWluZXIpO1xuICAgIHRoaXMuc2Nyb2xsQmFyLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoIV9zZWxmLiRzY3JvbGxBbmltYXRpb24pXG4gICAgICAgICAgICBfc2VsZi5zZXNzaW9uLnNldFNjcm9sbFRvcChlLmRhdGEpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zY3JvbGxUb3AgPSAwO1xuICAgIHRoaXMuc2Nyb2xsTGVmdCA9IDA7XG5cbiAgICBldmVudC5hZGRMaXN0ZW5lcih0aGlzLnNjcm9sbGVyLCBcInNjcm9sbFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNjcm9sbExlZnQgPSBfc2VsZi5zY3JvbGxlci5zY3JvbGxMZWZ0O1xuICAgICAgICBfc2VsZi5zY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdDtcbiAgICAgICAgX3NlbGYuc2Vzc2lvbi5zZXRTY3JvbGxMZWZ0KHNjcm9sbExlZnQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5jdXJzb3JQb3MgPSB7XG4gICAgICAgIHJvdyA6IDAsXG4gICAgICAgIGNvbHVtbiA6IDBcbiAgICB9O1xuXG4gICAgdGhpcy4kdGV4dExheWVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VDaGFyYWN0ZXJTaXplXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBfc2VsZi51cGRhdGVDaGFyYWN0ZXJTaXplKCk7XG4gICAgICAgIF9zZWxmLm9uUmVzaXplKHRydWUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy4kc2l6ZSA9IHtcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgc2Nyb2xsZXJIZWlnaHQ6IDAsXG4gICAgICAgIHNjcm9sbGVyV2lkdGg6IDBcbiAgICB9O1xuXG4gICAgdGhpcy5sYXllckNvbmZpZyA9IHtcbiAgICAgICAgd2lkdGggOiAxLFxuICAgICAgICBwYWRkaW5nIDogMCxcbiAgICAgICAgZmlyc3RSb3cgOiAwLFxuICAgICAgICBmaXJzdFJvd1NjcmVlbjogMCxcbiAgICAgICAgbGFzdFJvdyA6IDAsXG4gICAgICAgIGxpbmVIZWlnaHQgOiAxLFxuICAgICAgICBjaGFyYWN0ZXJXaWR0aCA6IDEsXG4gICAgICAgIG1pbkhlaWdodCA6IDEsXG4gICAgICAgIG1heEhlaWdodCA6IDEsXG4gICAgICAgIG9mZnNldCA6IDAsXG4gICAgICAgIGhlaWdodCA6IDFcbiAgICB9O1xuXG4gICAgdGhpcy4kbG9vcCA9IG5ldyBSZW5kZXJMb29wKFxuICAgICAgICB0aGlzLiRyZW5kZXJDaGFuZ2VzLmJpbmQodGhpcyksXG4gICAgICAgIHRoaXMuY29udGFpbmVyLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXdcbiAgICApO1xuICAgIHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfRlVMTCk7XG5cbiAgICB0aGlzLnVwZGF0ZUNoYXJhY3RlclNpemUoKTtcbiAgICB0aGlzLnNldFBhZGRpbmcoNCk7XG4gICAgY29uZmlnLnJlc2V0T3B0aW9ucyh0aGlzKTtcbiAgICBjb25maWcuX2VtaXQoXCJyZW5kZXJlclwiLCB0aGlzKTtcbn07XG5cbihmdW5jdGlvbigpIHtcblxuICAgIHRoaXMuQ0hBTkdFX0NVUlNPUiA9IDE7XG4gICAgdGhpcy5DSEFOR0VfTUFSS0VSID0gMjtcbiAgICB0aGlzLkNIQU5HRV9HVVRURVIgPSA0O1xuICAgIHRoaXMuQ0hBTkdFX1NDUk9MTCA9IDg7XG4gICAgdGhpcy5DSEFOR0VfTElORVMgPSAxNjtcbiAgICB0aGlzLkNIQU5HRV9URVhUID0gMzI7XG4gICAgdGhpcy5DSEFOR0VfU0laRSA9IDY0O1xuICAgIHRoaXMuQ0hBTkdFX01BUktFUl9CQUNLID0gMTI4O1xuICAgIHRoaXMuQ0hBTkdFX01BUktFUl9GUk9OVCA9IDI1NjtcbiAgICB0aGlzLkNIQU5HRV9GVUxMID0gNTEyO1xuICAgIHRoaXMuQ0hBTkdFX0hfU0NST0xMID0gMTAyNDtcblxuICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTtcblxuICAgIHRoaXMudXBkYXRlQ2hhcmFjdGVyU2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy4kdGV4dExheWVyLmFsbG93Qm9sZEZvbnRzICE9IHRoaXMuJGFsbG93Qm9sZEZvbnRzKSB7XG4gICAgICAgICAgICB0aGlzLiRhbGxvd0JvbGRGb250cyA9IHRoaXMuJHRleHRMYXllci5hbGxvd0JvbGRGb250cztcbiAgICAgICAgICAgIHRoaXMuc2V0U3R5bGUoXCJhY2Vfbm9ib2xkXCIsICF0aGlzLiRhbGxvd0JvbGRGb250cyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNoYXJhY3RlcldpZHRoID0gdGhpcy4kdGV4dExheWVyLmdldENoYXJhY3RlcldpZHRoKCk7XG4gICAgICAgIHRoaXMubGluZUhlaWdodCA9IHRoaXMuJHRleHRMYXllci5nZXRMaW5lSGVpZ2h0KCk7XG4gICAgICAgIHRoaXMuJHVwZGF0ZVByaW50TWFyZ2luKCk7XG4gICAgfTtcbiAgICB0aGlzLnNldFNlc3Npb24gPSBmdW5jdGlvbihzZXNzaW9uKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG5cbiAgICAgICAgdGhpcy5zY3JvbGxlci5jbGFzc05hbWUgPSBcImFjZV9zY3JvbGxlclwiO1xuXG4gICAgICAgIHRoaXMuJGN1cnNvckxheWVyLnNldFNlc3Npb24oc2Vzc2lvbik7XG4gICAgICAgIHRoaXMuJG1hcmtlckJhY2suc2V0U2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgICAgdGhpcy4kbWFya2VyRnJvbnQuc2V0U2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgICAgdGhpcy4kZ3V0dGVyTGF5ZXIuc2V0U2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgICAgdGhpcy4kdGV4dExheWVyLnNldFNlc3Npb24oc2Vzc2lvbik7XG4gICAgICAgIHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfRlVMTCk7XG5cbiAgICB9O1xuICAgIHRoaXMudXBkYXRlTGluZXMgPSBmdW5jdGlvbihmaXJzdFJvdywgbGFzdFJvdykge1xuICAgICAgICBpZiAobGFzdFJvdyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgbGFzdFJvdyA9IEluZmluaXR5O1xuXG4gICAgICAgIGlmICghdGhpcy4kY2hhbmdlZExpbmVzKSB7XG4gICAgICAgICAgICB0aGlzLiRjaGFuZ2VkTGluZXMgPSB7XG4gICAgICAgICAgICAgICAgZmlyc3RSb3c6IGZpcnN0Um93LFxuICAgICAgICAgICAgICAgIGxhc3RSb3c6IGxhc3RSb3dcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kY2hhbmdlZExpbmVzLmZpcnN0Um93ID4gZmlyc3RSb3cpXG4gICAgICAgICAgICAgICAgdGhpcy4kY2hhbmdlZExpbmVzLmZpcnN0Um93ID0gZmlyc3RSb3c7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLiRjaGFuZ2VkTGluZXMubGFzdFJvdyA8IGxhc3RSb3cpXG4gICAgICAgICAgICAgICAgdGhpcy4kY2hhbmdlZExpbmVzLmxhc3RSb3cgPSBsYXN0Um93O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuJGNoYW5nZWRMaW5lcy5maXJzdFJvdyA+IHRoaXMubGF5ZXJDb25maWcubGFzdFJvdyB8fFxuICAgICAgICAgICAgdGhpcy4kY2hhbmdlZExpbmVzLmxhc3RSb3cgPCB0aGlzLmxheWVyQ29uZmlnLmZpcnN0Um93KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0xJTkVTKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbkNoYW5nZVRhYlNpemUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9URVhUIHwgdGhpcy5DSEFOR0VfTUFSS0VSKTtcbiAgICAgICAgdGhpcy4kdGV4dExheWVyLm9uQ2hhbmdlVGFiU2l6ZSgpO1xuICAgIH07XG4gICAgdGhpcy51cGRhdGVUZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfVEVYVCk7XG4gICAgfTtcbiAgICB0aGlzLnVwZGF0ZUZ1bGwgPSBmdW5jdGlvbihmb3JjZSkge1xuICAgICAgICBpZiAoZm9yY2UpXG4gICAgICAgICAgICB0aGlzLiRyZW5kZXJDaGFuZ2VzKHRoaXMuQ0hBTkdFX0ZVTEwsIHRydWUpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0ZVTEwpO1xuICAgIH07XG4gICAgdGhpcy51cGRhdGVGb250U2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiR0ZXh0TGF5ZXIuY2hlY2tGb3JTaXplQ2hhbmdlcygpO1xuICAgIH07XG4gICAgdGhpcy5vblJlc2l6ZSA9IGZ1bmN0aW9uKGZvcmNlLCBndXR0ZXJXaWR0aCwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICB2YXIgY2hhbmdlcyA9IDA7XG4gICAgICAgIHZhciBzaXplID0gdGhpcy4kc2l6ZTtcblxuICAgICAgICBpZiAodGhpcy5yZXNpemluZyA+IDIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucmVzaXppbmcgPiAxKVxuICAgICAgICAgICAgdGhpcy5yZXNpemluZysrO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLnJlc2l6aW5nID0gZm9yY2UgPyAxIDogMDtcbiAgICAgICAgaWYgKCFoZWlnaHQpXG4gICAgICAgICAgICBoZWlnaHQgPSBkb20uZ2V0SW5uZXJIZWlnaHQodGhpcy5jb250YWluZXIpO1xuXG4gICAgICAgIGlmIChoZWlnaHQgJiYgKGZvcmNlIHx8IHNpemUuaGVpZ2h0ICE9IGhlaWdodCkpIHtcbiAgICAgICAgICAgIHNpemUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgY2hhbmdlcyA9IHRoaXMuQ0hBTkdFX1NJWkU7XG5cbiAgICAgICAgICAgIHNpemUuc2Nyb2xsZXJIZWlnaHQgPSB0aGlzLnNjcm9sbGVyLmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgIGlmIChmb3JjZSB8fCAhc2l6ZS5zY3JvbGxlckhlaWdodCkge1xuICAgICAgICAgICAgICAgIHNpemUuc2Nyb2xsZXJIZWlnaHQgPSBzaXplLmhlaWdodDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy4kaG9yaXpTY3JvbGwpXG4gICAgICAgICAgICAgICAgICAgIHNpemUuc2Nyb2xsZXJIZWlnaHQgLT0gdGhpcy5zY3JvbGxCYXIuZ2V0V2lkdGgoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsQmFyLnNldEhlaWdodChzaXplLnNjcm9sbGVySGVpZ2h0KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5zZXRTY3JvbGxUb3AodGhpcy5nZXRTY3JvbGxUb3AoKSk7XG4gICAgICAgICAgICAgICAgY2hhbmdlcyA9IGNoYW5nZXMgfCB0aGlzLkNIQU5HRV9GVUxMO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF3aWR0aClcbiAgICAgICAgICAgIHdpZHRoID0gZG9tLmdldElubmVyV2lkdGgodGhpcy5jb250YWluZXIpO1xuXG4gICAgICAgIGlmICh3aWR0aCAmJiAoZm9yY2UgfHwgdGhpcy5yZXNpemluZyA+IDEgfHwgc2l6ZS53aWR0aCAhPSB3aWR0aCkpIHtcbiAgICAgICAgICAgIGNoYW5nZXMgPSB0aGlzLkNIQU5HRV9TSVpFO1xuICAgICAgICAgICAgc2l6ZS53aWR0aCA9IHdpZHRoO1xuXG4gICAgICAgICAgICB2YXIgZ3V0dGVyV2lkdGggPSB0aGlzLiRzaG93R3V0dGVyID8gdGhpcy4kZ3V0dGVyLm9mZnNldFdpZHRoIDogMDtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsZXIuc3R5bGUubGVmdCA9IGd1dHRlcldpZHRoICsgXCJweFwiO1xuICAgICAgICAgICAgc2l6ZS5zY3JvbGxlcldpZHRoID0gTWF0aC5tYXgoMCwgd2lkdGggLSBndXR0ZXJXaWR0aCAtIHRoaXMuc2Nyb2xsQmFyLmdldFdpZHRoKCkpO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxlci5zdHlsZS5yaWdodCA9IHRoaXMuc2Nyb2xsQmFyLmdldFdpZHRoKCkgKyBcInB4XCI7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNlc3Npb24gJiYgdGhpcy5zZXNzaW9uLmdldFVzZVdyYXBNb2RlKCkgJiYgdGhpcy5hZGp1c3RXcmFwTGltaXQoKSB8fCBmb3JjZSlcbiAgICAgICAgICAgICAgICBjaGFuZ2VzID0gY2hhbmdlcyB8IHRoaXMuQ0hBTkdFX0ZVTEw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuJHNpemUuc2Nyb2xsZXJIZWlnaHQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKGZvcmNlKVxuICAgICAgICAgICAgdGhpcy4kcmVuZGVyQ2hhbmdlcyhjaGFuZ2VzLCB0cnVlKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZShjaGFuZ2VzKTtcblxuICAgICAgICBpZiAoZm9yY2UpXG4gICAgICAgICAgICB0aGlzLiRndXR0ZXJMYXllci4kcGFkZGluZyA9IG51bGw7XG5cbiAgICAgICAgaWYgKGZvcmNlKVxuICAgICAgICAgICAgZGVsZXRlIHRoaXMucmVzaXppbmc7XG4gICAgfTtcblxuICAgIHRoaXMub25HdXR0ZXJSZXNpemUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy4kc2l6ZS53aWR0aDtcbiAgICAgICAgdmFyIGd1dHRlcldpZHRoID0gdGhpcy4kc2hvd0d1dHRlciA/IHRoaXMuJGd1dHRlci5vZmZzZXRXaWR0aCA6IDA7XG4gICAgICAgIHRoaXMuc2Nyb2xsZXIuc3R5bGUubGVmdCA9IGd1dHRlcldpZHRoICsgXCJweFwiO1xuICAgICAgICB0aGlzLiRzaXplLnNjcm9sbGVyV2lkdGggPSBNYXRoLm1heCgwLCB3aWR0aCAtIGd1dHRlcldpZHRoIC0gdGhpcy5zY3JvbGxCYXIuZ2V0V2lkdGgoKSk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbi5nZXRVc2VXcmFwTW9kZSgpICYmIHRoaXMuYWRqdXN0V3JhcExpbWl0KCkpXG4gICAgICAgICAgICB0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0ZVTEwpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX01BUktFUik7XG4gICAgfTtcbiAgICB0aGlzLmFkanVzdFdyYXBMaW1pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXZhaWxhYmxlV2lkdGggPSB0aGlzLiRzaXplLnNjcm9sbGVyV2lkdGggLSB0aGlzLiRwYWRkaW5nICogMjtcbiAgICAgICAgdmFyIGxpbWl0ID0gTWF0aC5mbG9vcihhdmFpbGFibGVXaWR0aCAvIHRoaXMuY2hhcmFjdGVyV2lkdGgpO1xuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uLmFkanVzdFdyYXBMaW1pdChsaW1pdCwgdGhpcy4kc2hvd1ByaW50TWFyZ2luICYmIHRoaXMuJHByaW50TWFyZ2luQ29sdW1uKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0QW5pbWF0ZWRTY3JvbGwgPSBmdW5jdGlvbihzaG91bGRBbmltYXRlKXtcbiAgICAgICAgdGhpcy5zZXRPcHRpb24oXCJhbmltYXRlZFNjcm9sbFwiLCBzaG91bGRBbmltYXRlKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0QW5pbWF0ZWRTY3JvbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGFuaW1hdGVkU2Nyb2xsO1xuICAgIH07XG4gICAgdGhpcy5zZXRTaG93SW52aXNpYmxlcyA9IGZ1bmN0aW9uKHNob3dJbnZpc2libGVzKSB7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9uKFwic2hvd0ludmlzaWJsZXNcIiwgc2hvd0ludmlzaWJsZXMpO1xuICAgIH07XG4gICAgdGhpcy5nZXRTaG93SW52aXNpYmxlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPcHRpb24oXCJzaG93SW52aXNpYmxlc1wiKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0RGlzcGxheUluZGVudEd1aWRlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPcHRpb24oXCJkaXNwbGF5SW5kZW50R3VpZGVzXCIpO1xuICAgIH07XG5cbiAgICB0aGlzLnNldERpc3BsYXlJbmRlbnRHdWlkZXMgPSBmdW5jdGlvbihkaXNwbGF5KSB7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9uKFwiZGlzcGxheUluZGVudEd1aWRlc1wiLCBkaXNwbGF5KTtcbiAgICB9O1xuICAgIHRoaXMuc2V0U2hvd1ByaW50TWFyZ2luID0gZnVuY3Rpb24oc2hvd1ByaW50TWFyZ2luKSB7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9uKFwic2hvd1ByaW50TWFyZ2luXCIsIHNob3dQcmludE1hcmdpbik7XG4gICAgfTtcbiAgICB0aGlzLmdldFNob3dQcmludE1hcmdpbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPcHRpb24oXCJzaG93UHJpbnRNYXJnaW5cIik7XG4gICAgfTtcbiAgICB0aGlzLnNldFByaW50TWFyZ2luQ29sdW1uID0gZnVuY3Rpb24oc2hvd1ByaW50TWFyZ2luKSB7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9uKFwicHJpbnRNYXJnaW5Db2x1bW5cIiwgc2hvd1ByaW50TWFyZ2luKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0UHJpbnRNYXJnaW5Db2x1bW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwicHJpbnRNYXJnaW5Db2x1bW5cIik7XG4gICAgfTtcbiAgICB0aGlzLmdldFNob3dHdXR0ZXIgPSBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPcHRpb24oXCJzaG93R3V0dGVyXCIpO1xuICAgIH07XG4gICAgdGhpcy5zZXRTaG93R3V0dGVyID0gZnVuY3Rpb24oc2hvdyl7XG4gICAgICAgIHJldHVybiB0aGlzLnNldE9wdGlvbihcInNob3dHdXR0ZXJcIiwgc2hvdyk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0RmFkZUZvbGRXaWRnZXRzID0gZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwiZmFkZUZvbGRXaWRnZXRzXCIpXG4gICAgfTtcblxuICAgIHRoaXMuc2V0RmFkZUZvbGRXaWRnZXRzID0gZnVuY3Rpb24oc2hvdykge1xuICAgICAgICB0aGlzLnNldE9wdGlvbihcImZhZGVGb2xkV2lkZ2V0c1wiLCBzaG93KTtcbiAgICB9O1xuXG4gICAgdGhpcy5zZXRIaWdobGlnaHRHdXR0ZXJMaW5lID0gZnVuY3Rpb24oc2hvdWxkSGlnaGxpZ2h0KSB7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9uKFwiaGlnaGxpZ2h0R3V0dGVyTGluZVwiLCBzaG91bGRIaWdobGlnaHQpO1xuICAgIH07XG5cbiAgICB0aGlzLmdldEhpZ2hsaWdodEd1dHRlckxpbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwiaGlnaGxpZ2h0R3V0dGVyTGluZVwiKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kdXBkYXRlR3V0dGVyTGluZUhpZ2hsaWdodCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcG9zID0gdGhpcy4kY3Vyc29yTGF5ZXIuJHBpeGVsUG9zO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5sYXllckNvbmZpZy5saW5lSGVpZ2h0O1xuICAgICAgICBpZiAodGhpcy5zZXNzaW9uLmdldFVzZVdyYXBNb2RlKCkpIHtcbiAgICAgICAgICAgIHZhciBjdXJzb3IgPSB0aGlzLnNlc3Npb24uc2VsZWN0aW9uLmdldEN1cnNvcigpO1xuICAgICAgICAgICAgY3Vyc29yLmNvbHVtbiA9IDA7XG4gICAgICAgICAgICBwb3MgPSB0aGlzLiRjdXJzb3JMYXllci5nZXRQaXhlbFBvc2l0aW9uKGN1cnNvciwgdHJ1ZSk7XG4gICAgICAgICAgICBoZWlnaHQgKj0gdGhpcy5zZXNzaW9uLmdldFJvd0xlbmd0aChjdXJzb3Iucm93KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRndXR0ZXJMaW5lSGlnaGxpZ2h0LnN0eWxlLnRvcCA9IHBvcy50b3AgLSB0aGlzLmxheWVyQ29uZmlnLm9mZnNldCArIFwicHhcIjtcbiAgICAgICAgdGhpcy4kZ3V0dGVyTGluZUhpZ2hsaWdodC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyBcInB4XCI7XG4gICAgfTtcblxuICAgIHRoaXMuJHVwZGF0ZVByaW50TWFyZ2luID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy4kc2hvd1ByaW50TWFyZ2luICYmICF0aGlzLiRwcmludE1hcmdpbkVsKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGlmICghdGhpcy4kcHJpbnRNYXJnaW5FbCkge1xuICAgICAgICAgICAgdmFyIGNvbnRhaW5lckVsID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBjb250YWluZXJFbC5jbGFzc05hbWUgPSBcImFjZV9sYXllciBhY2VfcHJpbnQtbWFyZ2luLWxheWVyXCI7XG4gICAgICAgICAgICB0aGlzLiRwcmludE1hcmdpbkVsID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0aGlzLiRwcmludE1hcmdpbkVsLmNsYXNzTmFtZSA9IFwiYWNlX3ByaW50LW1hcmdpblwiO1xuICAgICAgICAgICAgY29udGFpbmVyRWwuYXBwZW5kQ2hpbGQodGhpcy4kcHJpbnRNYXJnaW5FbCk7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQuaW5zZXJ0QmVmb3JlKGNvbnRhaW5lckVsLCB0aGlzLmNvbnRlbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLiRwcmludE1hcmdpbkVsLnN0eWxlO1xuICAgICAgICBzdHlsZS5sZWZ0ID0gKCh0aGlzLmNoYXJhY3RlcldpZHRoICogdGhpcy4kcHJpbnRNYXJnaW5Db2x1bW4pICsgdGhpcy4kcGFkZGluZykgKyBcInB4XCI7XG4gICAgICAgIHN0eWxlLnZpc2liaWxpdHkgPSB0aGlzLiRzaG93UHJpbnRNYXJnaW4gPyBcInZpc2libGVcIiA6IFwiaGlkZGVuXCI7XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5zZXNzaW9uICYmIHRoaXMuc2Vzc2lvbi4kd3JhcCA9PSAtMSlcbiAgICAgICAgICAgIHRoaXMuYWRqdXN0V3JhcExpbWl0KCk7XG4gICAgfTtcbiAgICB0aGlzLmdldENvbnRhaW5lckVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyO1xuICAgIH07XG4gICAgdGhpcy5nZXRNb3VzZUV2ZW50VGFyZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnQ7XG4gICAgfTtcbiAgICB0aGlzLmdldFRleHRBcmVhQ29udGFpbmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lcjtcbiAgICB9O1xuICAgIHRoaXMuJG1vdmVUZXh0QXJlYVRvQ3Vyc29yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy4ka2VlcFRleHRBcmVhQXRDdXJzb3IpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmxheWVyQ29uZmlnO1xuICAgICAgICB2YXIgcG9zVG9wID0gdGhpcy4kY3Vyc29yTGF5ZXIuJHBpeGVsUG9zLnRvcDtcbiAgICAgICAgdmFyIHBvc0xlZnQgPSB0aGlzLiRjdXJzb3JMYXllci4kcGl4ZWxQb3MubGVmdDtcbiAgICAgICAgcG9zVG9wIC09IGNvbmZpZy5vZmZzZXQ7XG5cbiAgICAgICAgdmFyIGggPSB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgICAgIGlmIChwb3NUb3AgPCAwIHx8IHBvc1RvcCA+IGNvbmZpZy5oZWlnaHQgLSBoKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciB3ID0gdGhpcy5jaGFyYWN0ZXJXaWR0aDtcbiAgICAgICAgaWYgKHRoaXMuJGNvbXBvc2l0aW9uKSB7XG4gICAgICAgICAgICB2YXIgdmFsID0gdGhpcy50ZXh0YXJlYS52YWx1ZS5yZXBsYWNlKC9eXFx4MDErLywgXCJcIik7XG4gICAgICAgICAgICB3ICo9ICh0aGlzLnNlc3Npb24uJGdldFN0cmluZ1NjcmVlbldpZHRoKHZhbClbMF0rMik7XG4gICAgICAgICAgICBoICs9IDI7XG4gICAgICAgICAgICBwb3NUb3AgLT0gMTtcbiAgICAgICAgfVxuICAgICAgICBwb3NMZWZ0IC09IHRoaXMuc2Nyb2xsTGVmdDtcbiAgICAgICAgaWYgKHBvc0xlZnQgPiB0aGlzLiRzaXplLnNjcm9sbGVyV2lkdGggLSB3KVxuICAgICAgICAgICAgcG9zTGVmdCA9IHRoaXMuJHNpemUuc2Nyb2xsZXJXaWR0aCAtIHc7XG5cbiAgICAgICAgcG9zTGVmdCAtPSB0aGlzLnNjcm9sbEJhci53aWR0aDtcblxuICAgICAgICB0aGlzLnRleHRhcmVhLnN0eWxlLmhlaWdodCA9IGggKyBcInB4XCI7XG4gICAgICAgIHRoaXMudGV4dGFyZWEuc3R5bGUud2lkdGggPSB3ICsgXCJweFwiO1xuICAgICAgICB0aGlzLnRleHRhcmVhLnN0eWxlLnJpZ2h0ID0gTWF0aC5tYXgoMCwgdGhpcy4kc2l6ZS5zY3JvbGxlcldpZHRoIC0gcG9zTGVmdCAtIHcpICsgXCJweFwiO1xuICAgICAgICB0aGlzLnRleHRhcmVhLnN0eWxlLmJvdHRvbSA9IE1hdGgubWF4KDAsIHRoaXMuJHNpemUuaGVpZ2h0IC0gcG9zVG9wIC0gaCkgKyBcInB4XCI7XG4gICAgfTtcbiAgICB0aGlzLmdldEZpcnN0VmlzaWJsZVJvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXllckNvbmZpZy5maXJzdFJvdztcbiAgICB9O1xuICAgIHRoaXMuZ2V0Rmlyc3RGdWxseVZpc2libGVSb3cgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGF5ZXJDb25maWcuZmlyc3RSb3cgKyAodGhpcy5sYXllckNvbmZpZy5vZmZzZXQgPT09IDAgPyAwIDogMSk7XG4gICAgfTtcbiAgICB0aGlzLmdldExhc3RGdWxseVZpc2libGVSb3cgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGZsaW50ID0gTWF0aC5mbG9vcigodGhpcy5sYXllckNvbmZpZy5oZWlnaHQgKyB0aGlzLmxheWVyQ29uZmlnLm9mZnNldCkgLyB0aGlzLmxheWVyQ29uZmlnLmxpbmVIZWlnaHQpO1xuICAgICAgICByZXR1cm4gdGhpcy5sYXllckNvbmZpZy5maXJzdFJvdyAtIDEgKyBmbGludDtcbiAgICB9O1xuICAgIHRoaXMuZ2V0TGFzdFZpc2libGVSb3cgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGF5ZXJDb25maWcubGFzdFJvdztcbiAgICB9O1xuXG4gICAgdGhpcy4kcGFkZGluZyA9IG51bGw7XG4gICAgdGhpcy5zZXRQYWRkaW5nID0gZnVuY3Rpb24ocGFkZGluZykge1xuICAgICAgICB0aGlzLiRwYWRkaW5nID0gcGFkZGluZztcbiAgICAgICAgdGhpcy4kdGV4dExheWVyLnNldFBhZGRpbmcocGFkZGluZyk7XG4gICAgICAgIHRoaXMuJGN1cnNvckxheWVyLnNldFBhZGRpbmcocGFkZGluZyk7XG4gICAgICAgIHRoaXMuJG1hcmtlckZyb250LnNldFBhZGRpbmcocGFkZGluZyk7XG4gICAgICAgIHRoaXMuJG1hcmtlckJhY2suc2V0UGFkZGluZyhwYWRkaW5nKTtcbiAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9GVUxMKTtcbiAgICAgICAgdGhpcy4kdXBkYXRlUHJpbnRNYXJnaW4oKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0SFNjcm9sbEJhckFsd2F5c1Zpc2libGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGhTY3JvbGxCYXJBbHdheXNWaXNpYmxlO1xuICAgIH07XG4gICAgdGhpcy5zZXRIU2Nyb2xsQmFyQWx3YXlzVmlzaWJsZSA9IGZ1bmN0aW9uKGFsd2F5c1Zpc2libGUpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb24oXCJoU2Nyb2xsQmFyQWx3YXlzVmlzaWJsZVwiLCBhbHdheXNWaXNpYmxlKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kdXBkYXRlU2Nyb2xsQmFyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsQmFyLnNldElubmVySGVpZ2h0KHRoaXMubGF5ZXJDb25maWcubWF4SGVpZ2h0KTtcbiAgICAgICAgdGhpcy5zY3JvbGxCYXIuc2V0U2Nyb2xsVG9wKHRoaXMuc2Nyb2xsVG9wKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kcmVuZGVyQ2hhbmdlcyA9IGZ1bmN0aW9uKGNoYW5nZXMsIGZvcmNlKSB7XG4gICAgICAgIGlmICghZm9yY2UgJiYgKCFjaGFuZ2VzIHx8ICF0aGlzLnNlc3Npb24gfHwgIXRoaXMuY29udGFpbmVyLm9mZnNldFdpZHRoKSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB0aGlzLl9zaWduYWwoXCJiZWZvcmVSZW5kZXJcIik7XG4gICAgICAgIGlmIChjaGFuZ2VzICYgdGhpcy5DSEFOR0VfRlVMTCB8fFxuICAgICAgICAgICAgY2hhbmdlcyAmIHRoaXMuQ0hBTkdFX1NJWkUgfHxcbiAgICAgICAgICAgIGNoYW5nZXMgJiB0aGlzLkNIQU5HRV9URVhUIHx8XG4gICAgICAgICAgICBjaGFuZ2VzICYgdGhpcy5DSEFOR0VfTElORVMgfHxcbiAgICAgICAgICAgIGNoYW5nZXMgJiB0aGlzLkNIQU5HRV9TQ1JPTExcbiAgICAgICAgKVxuICAgICAgICAgICAgdGhpcy4kY29tcHV0ZUxheWVyQ29uZmlnKCk7XG4gICAgICAgIGlmIChjaGFuZ2VzICYgdGhpcy5DSEFOR0VfSF9TQ1JPTEwpIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsZXIuc2Nyb2xsTGVmdCA9IHRoaXMuc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgIHZhciBzY3JvbGxMZWZ0ID0gdGhpcy5zY3JvbGxlci5zY3JvbGxMZWZ0O1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5zZXRTY3JvbGxMZWZ0KHNjcm9sbExlZnQpO1xuXG4gICAgICAgICAgICB0aGlzLnNjcm9sbGVyLmNsYXNzTmFtZSA9IHRoaXMuc2Nyb2xsTGVmdCA9PSAwID8gXCJhY2Vfc2Nyb2xsZXJcIiA6IFwiYWNlX3Njcm9sbGVyIGFjZV9zY3JvbGwtbGVmdFwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VzICYgdGhpcy5DSEFOR0VfRlVMTCkge1xuICAgICAgICAgICAgdGhpcy4kdGV4dExheWVyLmNoZWNrRm9yU2l6ZUNoYW5nZXMoKTtcbiAgICAgICAgICAgIHRoaXMuJHVwZGF0ZVNjcm9sbEJhcigpO1xuICAgICAgICAgICAgdGhpcy4kdGV4dExheWVyLnVwZGF0ZSh0aGlzLmxheWVyQ29uZmlnKTtcbiAgICAgICAgICAgIGlmICh0aGlzLiRzaG93R3V0dGVyKVxuICAgICAgICAgICAgICAgIHRoaXMuJGd1dHRlckxheWVyLnVwZGF0ZSh0aGlzLmxheWVyQ29uZmlnKTtcbiAgICAgICAgICAgIHRoaXMuJG1hcmtlckJhY2sudXBkYXRlKHRoaXMubGF5ZXJDb25maWcpO1xuICAgICAgICAgICAgdGhpcy4kbWFya2VyRnJvbnQudXBkYXRlKHRoaXMubGF5ZXJDb25maWcpO1xuICAgICAgICAgICAgdGhpcy4kY3Vyc29yTGF5ZXIudXBkYXRlKHRoaXMubGF5ZXJDb25maWcpO1xuICAgICAgICAgICAgdGhpcy4kbW92ZVRleHRBcmVhVG9DdXJzb3IoKTtcbiAgICAgICAgICAgIHRoaXMuJGhpZ2hsaWdodEd1dHRlckxpbmUgJiYgdGhpcy4kdXBkYXRlR3V0dGVyTGluZUhpZ2hsaWdodCgpO1xuICAgICAgICAgICAgdGhpcy5fc2lnbmFsKFwiYWZ0ZXJSZW5kZXJcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZXMgJiB0aGlzLkNIQU5HRV9TQ1JPTEwpIHtcbiAgICAgICAgICAgIGlmIChjaGFuZ2VzICYgdGhpcy5DSEFOR0VfVEVYVCB8fCBjaGFuZ2VzICYgdGhpcy5DSEFOR0VfTElORVMpXG4gICAgICAgICAgICAgICAgdGhpcy4kdGV4dExheWVyLnVwZGF0ZSh0aGlzLmxheWVyQ29uZmlnKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLiR0ZXh0TGF5ZXIuc2Nyb2xsTGluZXModGhpcy5sYXllckNvbmZpZyk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLiRzaG93R3V0dGVyKVxuICAgICAgICAgICAgICAgIHRoaXMuJGd1dHRlckxheWVyLnVwZGF0ZSh0aGlzLmxheWVyQ29uZmlnKTtcbiAgICAgICAgICAgIHRoaXMuJG1hcmtlckJhY2sudXBkYXRlKHRoaXMubGF5ZXJDb25maWcpO1xuICAgICAgICAgICAgdGhpcy4kbWFya2VyRnJvbnQudXBkYXRlKHRoaXMubGF5ZXJDb25maWcpO1xuICAgICAgICAgICAgdGhpcy4kY3Vyc29yTGF5ZXIudXBkYXRlKHRoaXMubGF5ZXJDb25maWcpO1xuICAgICAgICAgICAgdGhpcy4kaGlnaGxpZ2h0R3V0dGVyTGluZSAmJiB0aGlzLiR1cGRhdGVHdXR0ZXJMaW5lSGlnaGxpZ2h0KCk7XG4gICAgICAgICAgICB0aGlzLiRtb3ZlVGV4dEFyZWFUb0N1cnNvcigpO1xuICAgICAgICAgICAgdGhpcy4kdXBkYXRlU2Nyb2xsQmFyKCk7XG4gICAgICAgICAgICB0aGlzLl9zaWduYWwoXCJhZnRlclJlbmRlclwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFuZ2VzICYgdGhpcy5DSEFOR0VfVEVYVCkge1xuICAgICAgICAgICAgdGhpcy4kdGV4dExheWVyLnVwZGF0ZSh0aGlzLmxheWVyQ29uZmlnKTtcbiAgICAgICAgICAgIGlmICh0aGlzLiRzaG93R3V0dGVyKVxuICAgICAgICAgICAgICAgIHRoaXMuJGd1dHRlckxheWVyLnVwZGF0ZSh0aGlzLmxheWVyQ29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGFuZ2VzICYgdGhpcy5DSEFOR0VfTElORVMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiR1cGRhdGVMaW5lcygpIHx8IChjaGFuZ2VzICYgdGhpcy5DSEFOR0VfR1VUVEVSKSAmJiB0aGlzLiRzaG93R3V0dGVyKVxuICAgICAgICAgICAgICAgIHRoaXMuJGd1dHRlckxheWVyLnVwZGF0ZSh0aGlzLmxheWVyQ29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGFuZ2VzICYgdGhpcy5DSEFOR0VfVEVYVCB8fCBjaGFuZ2VzICYgdGhpcy5DSEFOR0VfR1VUVEVSKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kc2hvd0d1dHRlcilcbiAgICAgICAgICAgICAgICB0aGlzLiRndXR0ZXJMYXllci51cGRhdGUodGhpcy5sYXllckNvbmZpZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hhbmdlcyAmIHRoaXMuQ0hBTkdFX0NVUlNPUikge1xuICAgICAgICAgICAgdGhpcy4kY3Vyc29yTGF5ZXIudXBkYXRlKHRoaXMubGF5ZXJDb25maWcpO1xuICAgICAgICAgICAgdGhpcy4kbW92ZVRleHRBcmVhVG9DdXJzb3IoKTtcbiAgICAgICAgICAgIHRoaXMuJGhpZ2hsaWdodEd1dHRlckxpbmUgJiYgdGhpcy4kdXBkYXRlR3V0dGVyTGluZUhpZ2hsaWdodCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYW5nZXMgJiAodGhpcy5DSEFOR0VfTUFSS0VSIHwgdGhpcy5DSEFOR0VfTUFSS0VSX0ZST05UKSkge1xuICAgICAgICAgICAgdGhpcy4kbWFya2VyRnJvbnQudXBkYXRlKHRoaXMubGF5ZXJDb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYW5nZXMgJiAodGhpcy5DSEFOR0VfTUFSS0VSIHwgdGhpcy5DSEFOR0VfTUFSS0VSX0JBQ0spKSB7XG4gICAgICAgICAgICB0aGlzLiRtYXJrZXJCYWNrLnVwZGF0ZSh0aGlzLmxheWVyQ29uZmlnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFuZ2VzICYgdGhpcy5DSEFOR0VfU0laRSlcbiAgICAgICAgICAgIHRoaXMuJHVwZGF0ZVNjcm9sbEJhcigpO1xuXG4gICAgICAgIHRoaXMuX3NpZ25hbChcImFmdGVyUmVuZGVyXCIpO1xuICAgIH07XG5cbiAgICB0aGlzLiRjb21wdXRlTGF5ZXJDb25maWcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub25SZXNpemUodHJ1ZSk7XG5cbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLnNlc3Npb247XG5cbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMuc2Nyb2xsVG9wICUgdGhpcy5saW5lSGVpZ2h0O1xuICAgICAgICB2YXIgbWluSGVpZ2h0ID0gdGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodCArIHRoaXMubGluZUhlaWdodDtcblxuICAgICAgICB2YXIgbG9uZ2VzdExpbmUgPSB0aGlzLiRnZXRMb25nZXN0TGluZSgpO1xuXG4gICAgICAgIHZhciBob3JpelNjcm9sbCA9IHRoaXMuJGhTY3JvbGxCYXJBbHdheXNWaXNpYmxlIHx8IHRoaXMuJHNpemUuc2Nyb2xsZXJXaWR0aCAtIGxvbmdlc3RMaW5lIDwgMDtcbiAgICAgICAgdmFyIGhvcml6U2Nyb2xsQ2hhbmdlZCA9IHRoaXMuJGhvcml6U2Nyb2xsICE9PSBob3JpelNjcm9sbDtcbiAgICAgICAgdGhpcy4kaG9yaXpTY3JvbGwgPSBob3JpelNjcm9sbDtcbiAgICAgICAgaWYgKGhvcml6U2Nyb2xsQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxlci5zdHlsZS5vdmVyZmxvd1ggPSBob3JpelNjcm9sbCA/IFwic2Nyb2xsXCIgOiBcImhpZGRlblwiO1xuICAgICAgICAgICAgaWYgKCFob3JpelNjcm9sbClcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb24uc2V0U2Nyb2xsTGVmdCgwKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWF4SGVpZ2h0ID0gdGhpcy5zZXNzaW9uLmdldFNjcmVlbkxlbmd0aCgpICogdGhpcy5saW5lSGVpZ2h0O1xuICAgICAgICB0aGlzLnNlc3Npb24uc2V0U2Nyb2xsVG9wKE1hdGgubWF4KDAsIE1hdGgubWluKHRoaXMuc2Nyb2xsVG9wLCBtYXhIZWlnaHQgLSB0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0KSkpO1xuXG4gICAgICAgIHZhciBsaW5lQ291bnQgPSBNYXRoLmNlaWwobWluSGVpZ2h0IC8gdGhpcy5saW5lSGVpZ2h0KSAtIDE7XG4gICAgICAgIHZhciBmaXJzdFJvdyA9IE1hdGgubWF4KDAsIE1hdGgucm91bmQoKHRoaXMuc2Nyb2xsVG9wIC0gb2Zmc2V0KSAvIHRoaXMubGluZUhlaWdodCkpO1xuICAgICAgICB2YXIgbGFzdFJvdyA9IGZpcnN0Um93ICsgbGluZUNvdW50O1xuICAgICAgICB2YXIgZmlyc3RSb3dTY3JlZW4sIGZpcnN0Um93SGVpZ2h0O1xuICAgICAgICB2YXIgbGluZUhlaWdodCA9IHRoaXMubGluZUhlaWdodDtcbiAgICAgICAgZmlyc3RSb3cgPSBzZXNzaW9uLnNjcmVlblRvRG9jdW1lbnRSb3coZmlyc3RSb3csIDApO1xuICAgICAgICB2YXIgZm9sZExpbmUgPSBzZXNzaW9uLmdldEZvbGRMaW5lKGZpcnN0Um93KTtcbiAgICAgICAgaWYgKGZvbGRMaW5lKSB7XG4gICAgICAgICAgICBmaXJzdFJvdyA9IGZvbGRMaW5lLnN0YXJ0LnJvdztcbiAgICAgICAgfVxuXG4gICAgICAgIGZpcnN0Um93U2NyZWVuID0gc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUm93KGZpcnN0Um93LCAwKTtcbiAgICAgICAgZmlyc3RSb3dIZWlnaHQgPSBzZXNzaW9uLmdldFJvd0xlbmd0aChmaXJzdFJvdykgKiBsaW5lSGVpZ2h0O1xuXG4gICAgICAgIGxhc3RSb3cgPSBNYXRoLm1pbihzZXNzaW9uLnNjcmVlblRvRG9jdW1lbnRSb3cobGFzdFJvdywgMCksIHNlc3Npb24uZ2V0TGVuZ3RoKCkgLSAxKTtcbiAgICAgICAgbWluSGVpZ2h0ID0gdGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodCArIHNlc3Npb24uZ2V0Um93TGVuZ3RoKGxhc3RSb3cpICogbGluZUhlaWdodCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdFJvd0hlaWdodDtcblxuICAgICAgICBvZmZzZXQgPSB0aGlzLnNjcm9sbFRvcCAtIGZpcnN0Um93U2NyZWVuICogbGluZUhlaWdodDtcblxuICAgICAgICB0aGlzLmxheWVyQ29uZmlnID0ge1xuICAgICAgICAgICAgd2lkdGggOiBsb25nZXN0TGluZSxcbiAgICAgICAgICAgIHBhZGRpbmcgOiB0aGlzLiRwYWRkaW5nLFxuICAgICAgICAgICAgZmlyc3RSb3cgOiBmaXJzdFJvdyxcbiAgICAgICAgICAgIGZpcnN0Um93U2NyZWVuOiBmaXJzdFJvd1NjcmVlbixcbiAgICAgICAgICAgIGxhc3RSb3cgOiBsYXN0Um93LFxuICAgICAgICAgICAgbGluZUhlaWdodCA6IGxpbmVIZWlnaHQsXG4gICAgICAgICAgICBjaGFyYWN0ZXJXaWR0aCA6IHRoaXMuY2hhcmFjdGVyV2lkdGgsXG4gICAgICAgICAgICBtaW5IZWlnaHQgOiBtaW5IZWlnaHQsXG4gICAgICAgICAgICBtYXhIZWlnaHQgOiBtYXhIZWlnaHQsXG4gICAgICAgICAgICBvZmZzZXQgOiBvZmZzZXQsXG4gICAgICAgICAgICBoZWlnaHQgOiB0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy4kZ3V0dGVyTGF5ZXIuZWxlbWVudC5zdHlsZS5tYXJnaW5Ub3AgPSAoLW9mZnNldCkgKyBcInB4XCI7XG4gICAgICAgIHRoaXMuY29udGVudC5zdHlsZS5tYXJnaW5Ub3AgPSAoLW9mZnNldCkgKyBcInB4XCI7XG4gICAgICAgIHRoaXMuY29udGVudC5zdHlsZS53aWR0aCA9IGxvbmdlc3RMaW5lICsgMiAqIHRoaXMuJHBhZGRpbmcgKyBcInB4XCI7XG4gICAgICAgIHRoaXMuY29udGVudC5zdHlsZS5oZWlnaHQgPSBtaW5IZWlnaHQgKyBcInB4XCI7XG4gICAgICAgIGlmIChob3JpelNjcm9sbENoYW5nZWQpXG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplKHRydWUpO1xuICAgIH07XG5cbiAgICB0aGlzLiR1cGRhdGVMaW5lcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZmlyc3RSb3cgPSB0aGlzLiRjaGFuZ2VkTGluZXMuZmlyc3RSb3c7XG4gICAgICAgIHZhciBsYXN0Um93ID0gdGhpcy4kY2hhbmdlZExpbmVzLmxhc3RSb3c7XG4gICAgICAgIHRoaXMuJGNoYW5nZWRMaW5lcyA9IG51bGw7XG5cbiAgICAgICAgdmFyIGxheWVyQ29uZmlnID0gdGhpcy5sYXllckNvbmZpZztcblxuICAgICAgICBpZiAoZmlyc3RSb3cgPiBsYXllckNvbmZpZy5sYXN0Um93ICsgMSkgeyByZXR1cm47IH1cbiAgICAgICAgaWYgKGxhc3RSb3cgPCBsYXllckNvbmZpZy5maXJzdFJvdykgeyByZXR1cm47IH1cbiAgICAgICAgaWYgKGxhc3RSb3cgPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kc2hvd0d1dHRlcilcbiAgICAgICAgICAgICAgICB0aGlzLiRndXR0ZXJMYXllci51cGRhdGUobGF5ZXJDb25maWcpO1xuICAgICAgICAgICAgdGhpcy4kdGV4dExheWVyLnVwZGF0ZShsYXllckNvbmZpZyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kdGV4dExheWVyLnVwZGF0ZUxpbmVzKGxheWVyQ29uZmlnLCBmaXJzdFJvdywgbGFzdFJvdyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICB0aGlzLiRnZXRMb25nZXN0TGluZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY2hhckNvdW50ID0gdGhpcy5zZXNzaW9uLmdldFNjcmVlbldpZHRoKCk7XG4gICAgICAgIGlmICh0aGlzLiR0ZXh0TGF5ZXIuc2hvd0ludmlzaWJsZXMpXG4gICAgICAgICAgICBjaGFyQ291bnQgKz0gMTtcblxuICAgICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy4kc2l6ZS5zY3JvbGxlcldpZHRoIC0gMiAqIHRoaXMuJHBhZGRpbmcsIE1hdGgucm91bmQoY2hhckNvdW50ICogdGhpcy5jaGFyYWN0ZXJXaWR0aCkpO1xuICAgIH07XG4gICAgdGhpcy51cGRhdGVGcm9udE1hcmtlcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbWFya2VyRnJvbnQuc2V0TWFya2Vycyh0aGlzLnNlc3Npb24uZ2V0TWFya2Vycyh0cnVlKSk7XG4gICAgICAgIHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfTUFSS0VSX0ZST05UKTtcbiAgICB9O1xuICAgIHRoaXMudXBkYXRlQmFja01hcmtlcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbWFya2VyQmFjay5zZXRNYXJrZXJzKHRoaXMuc2Vzc2lvbi5nZXRNYXJrZXJzKCkpO1xuICAgICAgICB0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX01BUktFUl9CQUNLKTtcbiAgICB9O1xuICAgIHRoaXMuYWRkR3V0dGVyRGVjb3JhdGlvbiA9IGZ1bmN0aW9uKHJvdywgY2xhc3NOYW1lKXtcbiAgICAgICAgdGhpcy4kZ3V0dGVyTGF5ZXIuYWRkR3V0dGVyRGVjb3JhdGlvbihyb3csIGNsYXNzTmFtZSk7XG4gICAgfTtcbiAgICB0aGlzLnJlbW92ZUd1dHRlckRlY29yYXRpb24gPSBmdW5jdGlvbihyb3csIGNsYXNzTmFtZSl7XG4gICAgICAgIHRoaXMuJGd1dHRlckxheWVyLnJlbW92ZUd1dHRlckRlY29yYXRpb24ocm93LCBjbGFzc05hbWUpO1xuICAgIH07XG4gICAgdGhpcy51cGRhdGVCcmVha3BvaW50cyA9IGZ1bmN0aW9uKHJvd3MpIHtcbiAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9HVVRURVIpO1xuICAgIH07XG4gICAgdGhpcy5zZXRBbm5vdGF0aW9ucyA9IGZ1bmN0aW9uKGFubm90YXRpb25zKSB7XG4gICAgICAgIHRoaXMuJGd1dHRlckxheWVyLnNldEFubm90YXRpb25zKGFubm90YXRpb25zKTtcbiAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9HVVRURVIpO1xuICAgIH07XG4gICAgdGhpcy51cGRhdGVDdXJzb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9DVVJTT1IpO1xuICAgIH07XG4gICAgdGhpcy5oaWRlQ3Vyc29yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJGN1cnNvckxheWVyLmhpZGVDdXJzb3IoKTtcbiAgICB9O1xuICAgIHRoaXMuc2hvd0N1cnNvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRjdXJzb3JMYXllci5zaG93Q3Vyc29yKCk7XG4gICAgfTtcblxuICAgIHRoaXMuc2Nyb2xsU2VsZWN0aW9uSW50b1ZpZXcgPSBmdW5jdGlvbihhbmNob3IsIGxlYWQsIG9mZnNldCkge1xuICAgICAgICB0aGlzLnNjcm9sbEN1cnNvckludG9WaWV3KGFuY2hvciwgb2Zmc2V0KTtcbiAgICAgICAgdGhpcy5zY3JvbGxDdXJzb3JJbnRvVmlldyhsZWFkLCBvZmZzZXQpO1xuICAgIH07XG4gICAgdGhpcy5zY3JvbGxDdXJzb3JJbnRvVmlldyA9IGZ1bmN0aW9uKGN1cnNvciwgb2Zmc2V0KSB7XG4gICAgICAgIGlmICh0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0ID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciBwb3MgPSB0aGlzLiRjdXJzb3JMYXllci5nZXRQaXhlbFBvc2l0aW9uKGN1cnNvcik7XG5cbiAgICAgICAgdmFyIGxlZnQgPSBwb3MubGVmdDtcbiAgICAgICAgdmFyIHRvcCA9IHBvcy50b3A7XG5cbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsVG9wID4gdG9wKSB7XG4gICAgICAgICAgICBpZiAob2Zmc2V0KVxuICAgICAgICAgICAgICAgIHRvcCAtPSBvZmZzZXQgKiB0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnNldFNjcm9sbFRvcCh0b3ApO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2Nyb2xsVG9wICsgdGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodCA8IHRvcCArIHRoaXMubGluZUhlaWdodCkge1xuICAgICAgICAgICAgaWYgKG9mZnNldClcbiAgICAgICAgICAgICAgICB0b3AgKz0gb2Zmc2V0ICogdGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5zZXRTY3JvbGxUb3AodG9wICsgdGhpcy5saW5lSGVpZ2h0IC0gdGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2Nyb2xsTGVmdCA9IHRoaXMuc2Nyb2xsTGVmdDtcblxuICAgICAgICBpZiAoc2Nyb2xsTGVmdCA+IGxlZnQpIHtcbiAgICAgICAgICAgIGlmIChsZWZ0IDwgdGhpcy4kcGFkZGluZyArIDIgKiB0aGlzLmxheWVyQ29uZmlnLmNoYXJhY3RlcldpZHRoKVxuICAgICAgICAgICAgICAgIGxlZnQgPSAwO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnNldFNjcm9sbExlZnQobGVmdCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2Nyb2xsTGVmdCArIHRoaXMuJHNpemUuc2Nyb2xsZXJXaWR0aCA8IGxlZnQgKyB0aGlzLmNoYXJhY3RlcldpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24uc2V0U2Nyb2xsTGVmdChNYXRoLnJvdW5kKGxlZnQgKyB0aGlzLmNoYXJhY3RlcldpZHRoIC0gdGhpcy4kc2l6ZS5zY3JvbGxlcldpZHRoKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZ2V0U2Nyb2xsVG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24uZ2V0U2Nyb2xsVG9wKCk7XG4gICAgfTtcbiAgICB0aGlzLmdldFNjcm9sbExlZnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5nZXRTY3JvbGxMZWZ0KCk7XG4gICAgfTtcbiAgICB0aGlzLmdldFNjcm9sbFRvcFJvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY3JvbGxUb3AgLyB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgfTtcbiAgICB0aGlzLmdldFNjcm9sbEJvdHRvbVJvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcigodGhpcy5zY3JvbGxUb3AgKyB0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0KSAvIHRoaXMubGluZUhlaWdodCkgLSAxKTtcbiAgICB9O1xuICAgIHRoaXMuc2Nyb2xsVG9Sb3cgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnNldFNjcm9sbFRvcChyb3cgKiB0aGlzLmxpbmVIZWlnaHQpO1xuICAgIH07XG5cbiAgICB0aGlzLmFsaWduQ3Vyc29yID0gZnVuY3Rpb24oY3Vyc29yLCBhbGlnbm1lbnQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjdXJzb3IgPT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgIGN1cnNvciA9IHtyb3c6IGN1cnNvciwgY29sdW1uOiAwfTtcblxuICAgICAgICB2YXIgcG9zID0gdGhpcy4kY3Vyc29yTGF5ZXIuZ2V0UGl4ZWxQb3NpdGlvbihjdXJzb3IpO1xuICAgICAgICB2YXIgaCA9IHRoaXMuJHNpemUuc2Nyb2xsZXJIZWlnaHQgLSB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgICAgIHZhciBvZmZzZXQgPSBwb3MudG9wIC0gaCAqIChhbGlnbm1lbnQgfHwgMCk7XG5cbiAgICAgICAgdGhpcy5zZXNzaW9uLnNldFNjcm9sbFRvcChvZmZzZXQpO1xuICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH07XG5cbiAgICB0aGlzLlNURVBTID0gODtcbiAgICB0aGlzLiRjYWxjU3RlcHMgPSBmdW5jdGlvbihmcm9tVmFsdWUsIHRvVmFsdWUpe1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciBsID0gdGhpcy5TVEVQUztcbiAgICAgICAgdmFyIHN0ZXBzID0gW107XG5cbiAgICAgICAgdmFyIGZ1bmMgID0gZnVuY3Rpb24odCwgeF9taW4sIGR4KSB7XG4gICAgICAgICAgICByZXR1cm4gZHggKiAoTWF0aC5wb3codCAtIDEsIDMpICsgMSkgKyB4X21pbjtcbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgKytpKVxuICAgICAgICAgICAgc3RlcHMucHVzaChmdW5jKGkgLyB0aGlzLlNURVBTLCBmcm9tVmFsdWUsIHRvVmFsdWUgLSBmcm9tVmFsdWUpKTtcblxuICAgICAgICByZXR1cm4gc3RlcHM7XG4gICAgfTtcbiAgICB0aGlzLnNjcm9sbFRvTGluZSA9IGZ1bmN0aW9uKGxpbmUsIGNlbnRlciwgYW5pbWF0ZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHBvcyA9IHRoaXMuJGN1cnNvckxheWVyLmdldFBpeGVsUG9zaXRpb24oe3JvdzogbGluZSwgY29sdW1uOiAwfSk7XG4gICAgICAgIHZhciBvZmZzZXQgPSBwb3MudG9wO1xuICAgICAgICBpZiAoY2VudGVyKVxuICAgICAgICAgICAgb2Zmc2V0IC09IHRoaXMuJHNpemUuc2Nyb2xsZXJIZWlnaHQgLyAyO1xuXG4gICAgICAgIHZhciBpbml0aWFsU2Nyb2xsID0gdGhpcy5zY3JvbGxUb3A7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5zZXRTY3JvbGxUb3Aob2Zmc2V0KTtcbiAgICAgICAgaWYgKGFuaW1hdGUgIT09IGZhbHNlKVxuICAgICAgICAgICAgdGhpcy5hbmltYXRlU2Nyb2xsaW5nKGluaXRpYWxTY3JvbGwsIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgdGhpcy5hbmltYXRlU2Nyb2xsaW5nID0gZnVuY3Rpb24oZnJvbVZhbHVlLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgdG9WYWx1ZSA9IHRoaXMuc2Nyb2xsVG9wO1xuICAgICAgICBpZiAodGhpcy4kYW5pbWF0ZWRTY3JvbGwpIHtcbiAgICAgICAgICAgIHZhciBfc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgc3RlcHMgPSBfc2VsZi4kY2FsY1N0ZXBzKGZyb21WYWx1ZSwgdG9WYWx1ZSk7XG4gICAgICAgICAgICB0aGlzLiRzY3JvbGxBbmltYXRpb24gPSB7ZnJvbTogZnJvbVZhbHVlLCB0bzogdG9WYWx1ZX07XG5cbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy4kdGltZXIpO1xuXG4gICAgICAgICAgICBfc2VsZi5zZXNzaW9uLnNldFNjcm9sbFRvcChzdGVwcy5zaGlmdCgpKTtcbiAgICAgICAgICAgIHRoaXMuJHRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0ZXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBfc2VsZi5zZXNzaW9uLnNldFNjcm9sbFRvcChzdGVwcy5zaGlmdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgX3NlbGYuc2Vzc2lvbi4kc2Nyb2xsVG9wID0gdG9WYWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRvVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBfc2VsZi5zZXNzaW9uLiRzY3JvbGxUb3AgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgX3NlbGYuc2Vzc2lvbi5zZXRTY3JvbGxUb3AodG9WYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRvVmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF9zZWxmLiR0aW1lciA9IGNsZWFySW50ZXJ2YWwoX3NlbGYuJHRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgX3NlbGYuJHNjcm9sbEFuaW1hdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnNjcm9sbFRvWSA9IGZ1bmN0aW9uKHNjcm9sbFRvcCkge1xuICAgICAgICBpZiAodGhpcy5zY3JvbGxUb3AgIT09IHNjcm9sbFRvcCkge1xuICAgICAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9TQ1JPTEwpO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuc2Nyb2xsVG9YID0gZnVuY3Rpb24oc2Nyb2xsTGVmdCkge1xuICAgICAgICBpZiAoc2Nyb2xsTGVmdCA8IDApXG4gICAgICAgICAgICBzY3JvbGxMZWZ0ID0gMDtcblxuICAgICAgICBpZiAodGhpcy5zY3JvbGxMZWZ0ICE9PSBzY3JvbGxMZWZ0KVxuICAgICAgICAgICAgdGhpcy5zY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdDtcbiAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9IX1NDUk9MTCk7XG4gICAgfTtcbiAgICB0aGlzLnNjcm9sbEJ5ID0gZnVuY3Rpb24oZGVsdGFYLCBkZWx0YVkpIHtcbiAgICAgICAgZGVsdGFZICYmIHRoaXMuc2Vzc2lvbi5zZXRTY3JvbGxUb3AodGhpcy5zZXNzaW9uLmdldFNjcm9sbFRvcCgpICsgZGVsdGFZKTtcbiAgICAgICAgZGVsdGFYICYmIHRoaXMuc2Vzc2lvbi5zZXRTY3JvbGxMZWZ0KHRoaXMuc2Vzc2lvbi5nZXRTY3JvbGxMZWZ0KCkgKyBkZWx0YVgpO1xuICAgIH07XG4gICAgdGhpcy5pc1Njcm9sbGFibGVCeSA9IGZ1bmN0aW9uKGRlbHRhWCwgZGVsdGFZKSB7XG4gICAgICAgIGlmIChkZWx0YVkgPCAwICYmIHRoaXMuc2Vzc2lvbi5nZXRTY3JvbGxUb3AoKSA+PSAxKVxuICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKGRlbHRhWSA+IDAgJiYgdGhpcy5zZXNzaW9uLmdldFNjcm9sbFRvcCgpICsgdGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodCAtIHRoaXMubGF5ZXJDb25maWcubWF4SGVpZ2h0IDwgLTEpXG4gICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICB0aGlzLnBpeGVsVG9TY3JlZW5Db29yZGluYXRlcyA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgICAgdmFyIGNhbnZhc1BvcyA9IHRoaXMuc2Nyb2xsZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgdmFyIG9mZnNldCA9ICh4ICsgdGhpcy5zY3JvbGxMZWZ0IC0gY2FudmFzUG9zLmxlZnQgLSB0aGlzLiRwYWRkaW5nKSAvIHRoaXMuY2hhcmFjdGVyV2lkdGg7XG4gICAgICAgIHZhciByb3cgPSBNYXRoLmZsb29yKCh5ICsgdGhpcy5zY3JvbGxUb3AgLSBjYW52YXNQb3MudG9wKSAvIHRoaXMubGluZUhlaWdodCk7XG4gICAgICAgIHZhciBjb2wgPSBNYXRoLnJvdW5kKG9mZnNldCk7XG5cbiAgICAgICAgcmV0dXJuIHtyb3c6IHJvdywgY29sdW1uOiBjb2wsIHNpZGU6IG9mZnNldCAtIGNvbCA+IDAgPyAxIDogLTF9O1xuICAgIH07XG5cbiAgICB0aGlzLnNjcmVlblRvVGV4dENvb3JkaW5hdGVzID0gZnVuY3Rpb24oeCwgeSkge1xuICAgICAgICB2YXIgY2FudmFzUG9zID0gdGhpcy5zY3JvbGxlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICB2YXIgY29sID0gTWF0aC5yb3VuZChcbiAgICAgICAgICAgICh4ICsgdGhpcy5zY3JvbGxMZWZ0IC0gY2FudmFzUG9zLmxlZnQgLSB0aGlzLiRwYWRkaW5nKSAvIHRoaXMuY2hhcmFjdGVyV2lkdGhcbiAgICAgICAgKTtcbiAgICAgICAgdmFyIHJvdyA9IE1hdGguZmxvb3IoXG4gICAgICAgICAgICAoeSArIHRoaXMuc2Nyb2xsVG9wIC0gY2FudmFzUG9zLnRvcCkgLyB0aGlzLmxpbmVIZWlnaHRcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uLnNjcmVlblRvRG9jdW1lbnRQb3NpdGlvbihyb3csIE1hdGgubWF4KGNvbCwgMCkpO1xuICAgIH07XG4gICAgdGhpcy50ZXh0VG9TY3JlZW5Db29yZGluYXRlcyA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIHZhciBjYW52YXNQb3MgPSB0aGlzLnNjcm9sbGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgcG9zID0gdGhpcy5zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbihyb3csIGNvbHVtbik7XG5cbiAgICAgICAgdmFyIHggPSB0aGlzLiRwYWRkaW5nICsgTWF0aC5yb3VuZChwb3MuY29sdW1uICogdGhpcy5jaGFyYWN0ZXJXaWR0aCk7XG4gICAgICAgIHZhciB5ID0gcG9zLnJvdyAqIHRoaXMubGluZUhlaWdodDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcGFnZVg6IGNhbnZhc1Bvcy5sZWZ0ICsgeCAtIHRoaXMuc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgIHBhZ2VZOiBjYW52YXNQb3MudG9wICsgeSAtIHRoaXMuc2Nyb2xsVG9wXG4gICAgICAgIH07XG4gICAgfTtcbiAgICB0aGlzLnZpc3VhbGl6ZUZvY3VzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGRvbS5hZGRDc3NDbGFzcyh0aGlzLmNvbnRhaW5lciwgXCJhY2VfZm9jdXNcIik7XG4gICAgfTtcbiAgICB0aGlzLnZpc3VhbGl6ZUJsdXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZG9tLnJlbW92ZUNzc0NsYXNzKHRoaXMuY29udGFpbmVyLCBcImFjZV9mb2N1c1wiKTtcbiAgICB9O1xuICAgIHRoaXMuc2hvd0NvbXBvc2l0aW9uID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgaWYgKCF0aGlzLiRjb21wb3NpdGlvbilcbiAgICAgICAgICAgIHRoaXMuJGNvbXBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgIGtlZXBUZXh0QXJlYUF0Q3Vyc29yOiB0aGlzLiRrZWVwVGV4dEFyZWFBdEN1cnNvcixcbiAgICAgICAgICAgICAgICBjc3NUZXh0OiB0aGlzLnRleHRhcmVhLnN0eWxlLmNzc1RleHRcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgdGhpcy4ka2VlcFRleHRBcmVhQXRDdXJzb3IgPSB0cnVlO1xuICAgICAgICBkb20uYWRkQ3NzQ2xhc3ModGhpcy50ZXh0YXJlYSwgXCJhY2VfY29tcG9zaXRpb25cIik7XG4gICAgICAgIHRoaXMudGV4dGFyZWEuc3R5bGUuY3NzVGV4dCA9IFwiXCI7XG4gICAgICAgIHRoaXMuJG1vdmVUZXh0QXJlYVRvQ3Vyc29yKCk7XG4gICAgfTtcbiAgICB0aGlzLnNldENvbXBvc2l0aW9uVGV4dCA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgdGhpcy4kbW92ZVRleHRBcmVhVG9DdXJzb3IoKTtcbiAgICB9O1xuICAgIHRoaXMuaGlkZUNvbXBvc2l0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy4kY29tcG9zaXRpb24pXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgZG9tLnJlbW92ZUNzc0NsYXNzKHRoaXMudGV4dGFyZWEsIFwiYWNlX2NvbXBvc2l0aW9uXCIpO1xuICAgICAgICB0aGlzLiRrZWVwVGV4dEFyZWFBdEN1cnNvciA9IHRoaXMuJGNvbXBvc2l0aW9uLmtlZXBUZXh0QXJlYUF0Q3Vyc29yO1xuICAgICAgICB0aGlzLnRleHRhcmVhLnN0eWxlLmNzc1RleHQgPSB0aGlzLiRjb21wb3NpdGlvbi5jc3NUZXh0O1xuICAgICAgICB0aGlzLiRjb21wb3NpdGlvbiA9IG51bGw7XG4gICAgfTtcbiAgICB0aGlzLnNldFRoZW1lID0gZnVuY3Rpb24odGhlbWUpIHtcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy4kdGhlbWVWYWx1ZSA9IHRoZW1lO1xuICAgICAgICBfc2VsZi5fZGlzcGF0Y2hFdmVudCgndGhlbWVDaGFuZ2UnLHt0aGVtZTp0aGVtZX0pO1xuXG4gICAgICAgIGlmICghdGhlbWUgfHwgdHlwZW9mIHRoZW1lID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHZhciBtb2R1bGVOYW1lID0gdGhlbWUgfHwgXCJhY2UvdGhlbWUvdGV4dG1hdGVcIjtcbiAgICAgICAgICAgIGNvbmZpZy5sb2FkTW9kdWxlKFtcInRoZW1lXCIsIG1vZHVsZU5hbWVdLCBhZnRlckxvYWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWZ0ZXJMb2FkKHRoZW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGFmdGVyTG9hZChtb2R1bGUpIHtcbiAgICAgICAgICAgIGlmIChfc2VsZi4kdGhlbWVWYWx1ZSAhPSB0aGVtZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAoIW1vZHVsZS5jc3NDbGFzcylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBkb20uaW1wb3J0Q3NzU3RyaW5nKFxuICAgICAgICAgICAgICAgIG1vZHVsZS5jc3NUZXh0LFxuICAgICAgICAgICAgICAgIG1vZHVsZS5jc3NDbGFzcyxcbiAgICAgICAgICAgICAgICBfc2VsZi5jb250YWluZXIub3duZXJEb2N1bWVudFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKF9zZWxmLnRoZW1lKVxuICAgICAgICAgICAgICAgIGRvbS5yZW1vdmVDc3NDbGFzcyhfc2VsZi5jb250YWluZXIsIF9zZWxmLnRoZW1lLmNzc0NsYXNzKTtcbiAgICAgICAgICAgIF9zZWxmLiR0aGVtZSA9IG1vZHVsZS5jc3NDbGFzcztcblxuICAgICAgICAgICAgX3NlbGYudGhlbWUgPSBtb2R1bGU7XG4gICAgICAgICAgICBkb20uYWRkQ3NzQ2xhc3MoX3NlbGYuY29udGFpbmVyLCBtb2R1bGUuY3NzQ2xhc3MpO1xuICAgICAgICAgICAgZG9tLnNldENzc0NsYXNzKF9zZWxmLmNvbnRhaW5lciwgXCJhY2VfZGFya1wiLCBtb2R1bGUuaXNEYXJrKTtcblxuICAgICAgICAgICAgdmFyIHBhZGRpbmcgPSBtb2R1bGUucGFkZGluZyB8fCA0O1xuICAgICAgICAgICAgaWYgKF9zZWxmLiRwYWRkaW5nICYmIHBhZGRpbmcgIT0gX3NlbGYuJHBhZGRpbmcpXG4gICAgICAgICAgICAgICAgX3NlbGYuc2V0UGFkZGluZyhwYWRkaW5nKTtcbiAgICAgICAgICAgIGlmIChfc2VsZi4kc2l6ZSkge1xuICAgICAgICAgICAgICAgIF9zZWxmLiRzaXplLndpZHRoID0gMDtcbiAgICAgICAgICAgICAgICBfc2VsZi5vblJlc2l6ZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfc2VsZi5fZGlzcGF0Y2hFdmVudCgndGhlbWVMb2FkZWQnLHt0aGVtZTptb2R1bGV9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5nZXRUaGVtZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kdGhlbWVWYWx1ZTtcbiAgICB9O1xuICAgIHRoaXMuc2V0U3R5bGUgPSBmdW5jdGlvbiBzZXRTdHlsZShzdHlsZSwgaW5jbHVkZSkge1xuICAgICAgICBkb20uc2V0Q3NzQ2xhc3ModGhpcy5jb250YWluZXIsIHN0eWxlLCBpbmNsdWRlICE9IGZhbHNlKTtcbiAgICB9O1xuICAgIHRoaXMudW5zZXRTdHlsZSA9IGZ1bmN0aW9uIHVuc2V0U3R5bGUoc3R5bGUpIHtcbiAgICAgICAgZG9tLnJlbW92ZUNzc0NsYXNzKHRoaXMuY29udGFpbmVyLCBzdHlsZSk7XG4gICAgfTtcbiAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kdGV4dExheWVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy4kY3Vyc29yTGF5ZXIuZGVzdHJveSgpO1xuICAgIH07XG5cbn0pLmNhbGwoVmlydHVhbFJlbmRlcmVyLnByb3RvdHlwZSk7XG5cblxuY29uZmlnLmRlZmluZU9wdGlvbnMoVmlydHVhbFJlbmRlcmVyLnByb3RvdHlwZSwgXCJyZW5kZXJlclwiLCB7XG4gICAgYW5pbWF0ZWRTY3JvbGw6IHtpbml0aWFsVmFsdWU6IGZhbHNlfSxcbiAgICBzaG93SW52aXNpYmxlczoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kdGV4dExheWVyLnNldFNob3dJbnZpc2libGVzKHZhbHVlKSlcbiAgICAgICAgICAgICAgICB0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX1RFWFQpO1xuICAgICAgICB9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IGZhbHNlXG4gICAgfSxcbiAgICBzaG93UHJpbnRNYXJnaW46IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbigpIHsgdGhpcy4kdXBkYXRlUHJpbnRNYXJnaW4oKTsgfSxcbiAgICAgICAgaW5pdGlhbFZhbHVlOiB0cnVlXG4gICAgfSxcbiAgICBwcmludE1hcmdpbkNvbHVtbjoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKCkgeyB0aGlzLiR1cGRhdGVQcmludE1hcmdpbigpOyB9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IDgwXG4gICAgfSxcbiAgICBwcmludE1hcmdpbjoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICB0aGlzLiRwcmludE1hcmdpbkNvbHVtbiA9IHZhbDtcbiAgICAgICAgICAgIHRoaXMuJHNob3dQcmludE1hcmdpbiA9ICEhdmFsO1xuICAgICAgICAgICAgdGhpcy4kdXBkYXRlUHJpbnRNYXJnaW4oKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRzaG93UHJpbnRNYXJnaW4gJiYgdGhpcy4kcHJpbnRNYXJnaW5Db2x1bW47IFxuICAgICAgICB9XG4gICAgfSxcbiAgICBzaG93R3V0dGVyOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24oc2hvdyl7XG4gICAgICAgICAgICB0aGlzLiRndXR0ZXIuc3R5bGUuZGlzcGxheSA9IHNob3cgPyBcImJsb2NrXCIgOiBcIm5vbmVcIjtcbiAgICAgICAgICAgIHRoaXMub25HdXR0ZXJSZXNpemUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5pdGlhbFZhbHVlOiB0cnVlXG4gICAgfSxcbiAgICBmYWRlRm9sZFdpZGdldHM6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbihzaG93KSB7XG4gICAgICAgICAgICBkb20uc2V0Q3NzQ2xhc3ModGhpcy4kZ3V0dGVyLCBcImFjZV9mYWRlLWZvbGQtd2lkZ2V0c1wiLCBzaG93KTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5pdGlhbFZhbHVlOiBmYWxzZVxuICAgIH0sXG4gICAgc2hvd0ZvbGRXaWRnZXRzOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24oc2hvdykge3RoaXMuJGd1dHRlckxheWVyLnNldFNob3dGb2xkV2lkZ2V0cyhzaG93KX0sXG4gICAgICAgIGluaXRpYWxWYWx1ZTogdHJ1ZVxuICAgIH0sXG4gICAgZGlzcGxheUluZGVudEd1aWRlczoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHNob3cpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiR0ZXh0TGF5ZXIuc2V0RGlzcGxheUluZGVudEd1aWRlcyhzaG93KSlcbiAgICAgICAgICAgICAgICB0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX1RFWFQpO1xuICAgICAgICB9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IHRydWVcbiAgICB9LFxuICAgIGhpZ2hsaWdodEd1dHRlckxpbmU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbihzaG91bGRIaWdobGlnaHQpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy4kZ3V0dGVyTGluZUhpZ2hsaWdodCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGd1dHRlckxpbmVIaWdobGlnaHQgPSBkb20uY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRndXR0ZXJMaW5lSGlnaGxpZ2h0LmNsYXNzTmFtZSA9IFwiYWNlX2d1dHRlci1hY3RpdmUtbGluZVwiO1xuICAgICAgICAgICAgICAgIHRoaXMuJGd1dHRlci5hcHBlbmRDaGlsZCh0aGlzLiRndXR0ZXJMaW5lSGlnaGxpZ2h0KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuJGd1dHRlckxpbmVIaWdobGlnaHQuc3R5bGUuZGlzcGxheSA9IHNob3VsZEhpZ2hsaWdodCA/IFwiXCIgOiBcIm5vbmVcIjtcbiAgICAgICAgICAgIGlmICh0aGlzLiRjdXJzb3JMYXllci4kcGl4ZWxQb3MpXG4gICAgICAgICAgICAgICAgdGhpcy4kdXBkYXRlR3V0dGVyTGluZUhpZ2hsaWdodCgpO1xuICAgICAgICB9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IGZhbHNlLFxuICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0sXG4gICAgaFNjcm9sbEJhckFsd2F5c1Zpc2libGU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbihhbHdheXNWaXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLiRoU2Nyb2xsQmFyQWx3YXlzVmlzaWJsZSA9IGFsd2F5c1Zpc2libGU7XG4gICAgICAgICAgICBpZiAoIXRoaXMuJGhTY3JvbGxCYXJBbHdheXNWaXNpYmxlIHx8ICF0aGlzLiRob3JpelNjcm9sbClcbiAgICAgICAgICAgICAgICB0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX1NDUk9MTCk7XG4gICAgICAgIH0sXG4gICAgICAgIGluaXRpYWxWYWx1ZTogZmFsc2VcbiAgICB9LFxuICAgIGZvbnRTaXplOiAge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHNpemUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2l6ZSA9PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgIHNpemUgPSBzaXplICsgXCJweFwiO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuZm9udFNpemUgPSBzaXplO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVGb250U2l6ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IDEyXG4gICAgfSxcbiAgICBmb250RmFtaWx5OiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuZm9udEZhbWlseSA9IG5hbWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUZvbnRTaXplKCk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuZXhwb3J0cy5WaXJ0dWFsUmVuZGVyZXIgPSBWaXJ0dWFsUmVuZGVyZXI7XG59KTtcblxuYWNlLmRlZmluZSgnYWNlL2xheWVyL2d1dHRlcicsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyAsICdhY2UvbGliL2RvbScsICdhY2UvbGliL29vcCcsICdhY2UvbGliL2xhbmcnLCAnYWNlL2xpYi9ldmVudF9lbWl0dGVyJ10sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuXG52YXIgZG9tID0gYWNlcXVpcmUoXCIuLi9saWIvZG9tXCIpO1xudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi4vbGliL29vcFwiKTtcbnZhciBsYW5nID0gYWNlcXVpcmUoXCIuLi9saWIvbGFuZ1wiKTtcbnZhciBFdmVudEVtaXR0ZXIgPSBhY2VxdWlyZShcIi4uL2xpYi9ldmVudF9lbWl0dGVyXCIpLkV2ZW50RW1pdHRlcjtcblxudmFyIEd1dHRlciA9IGZ1bmN0aW9uKHBhcmVudEVsKSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNlX2xheWVyIGFjZV9ndXR0ZXItbGF5ZXJcIjtcbiAgICBwYXJlbnRFbC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgIHRoaXMuc2V0U2hvd0ZvbGRXaWRnZXRzKHRoaXMuJHNob3dGb2xkV2lkZ2V0cyk7XG4gICAgXG4gICAgdGhpcy5ndXR0ZXJXaWR0aCA9IDA7XG5cbiAgICB0aGlzLiRhbm5vdGF0aW9ucyA9IFtdO1xuICAgIHRoaXMuJHVwZGF0ZUFubm90YXRpb25zID0gdGhpcy4kdXBkYXRlQW5ub3RhdGlvbnMuYmluZCh0aGlzKTtcbn07XG5cbihmdW5jdGlvbigpIHtcblxuICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTtcblxuICAgIHRoaXMuc2V0U2Vzc2lvbiA9IGZ1bmN0aW9uKHNlc3Npb24pIHtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbilcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIHRoaXMuJHVwZGF0ZUFubm90YXRpb25zKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgICAgc2Vzc2lvbi5vbihcImNoYW5nZVwiLCB0aGlzLiR1cGRhdGVBbm5vdGF0aW9ucyk7XG4gICAgfTtcblxuICAgIHRoaXMuYWRkR3V0dGVyRGVjb3JhdGlvbiA9IGZ1bmN0aW9uKHJvdywgY2xhc3NOYW1lKXtcbiAgICAgICAgaWYgKHdpbmRvdy5jb25zb2xlKVxuICAgICAgICAgICAgY29uc29sZS53YXJuICYmIGNvbnNvbGUud2FybihcImRlcHJlY2F0ZWQgdXNlIHNlc3Npb24uYWRkR3V0dGVyRGVjb3JhdGlvblwiKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLmFkZEd1dHRlckRlY29yYXRpb24ocm93LCBjbGFzc05hbWUpO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbW92ZUd1dHRlckRlY29yYXRpb24gPSBmdW5jdGlvbihyb3csIGNsYXNzTmFtZSl7XG4gICAgICAgIGlmICh3aW5kb3cuY29uc29sZSlcbiAgICAgICAgICAgIGNvbnNvbGUud2FybiAmJiBjb25zb2xlLndhcm4oXCJkZXByZWNhdGVkIHVzZSBzZXNzaW9uLnJlbW92ZUd1dHRlckRlY29yYXRpb25cIik7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5yZW1vdmVHdXR0ZXJEZWNvcmF0aW9uKHJvdywgY2xhc3NOYW1lKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zZXRBbm5vdGF0aW9ucyA9IGZ1bmN0aW9uKGFubm90YXRpb25zKSB7XG4gICAgICAgIHRoaXMuJGFubm90YXRpb25zID0gW11cbiAgICAgICAgdmFyIHJvd0luZm8sIHJvdztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbm5vdGF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGFubm90YXRpb24gPSBhbm5vdGF0aW9uc1tpXTtcbiAgICAgICAgICAgIHZhciByb3cgPSBhbm5vdGF0aW9uLnJvdztcbiAgICAgICAgICAgIHZhciByb3dJbmZvID0gdGhpcy4kYW5ub3RhdGlvbnNbcm93XTtcbiAgICAgICAgICAgIGlmICghcm93SW5mbylcbiAgICAgICAgICAgICAgICByb3dJbmZvID0gdGhpcy4kYW5ub3RhdGlvbnNbcm93XSA9IHt0ZXh0OiBbXX07XG4gICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGFubm9UZXh0ID0gYW5ub3RhdGlvbi50ZXh0O1xuICAgICAgICAgICAgYW5ub1RleHQgPSBhbm5vVGV4dCA/IGxhbmcuZXNjYXBlSFRNTChhbm5vVGV4dCkgOiBhbm5vdGF0aW9uLmh0bWwgfHwgXCJcIjtcblxuICAgICAgICAgICAgaWYgKHJvd0luZm8udGV4dC5pbmRleE9mKGFubm9UZXh0KSA9PT0gLTEpXG4gICAgICAgICAgICAgICAgcm93SW5mby50ZXh0LnB1c2goYW5ub1RleHQpO1xuXG4gICAgICAgICAgICB2YXIgdHlwZSA9IGFubm90YXRpb24udHlwZTtcbiAgICAgICAgICAgIGlmICh0eXBlID09IFwiZXJyb3JcIilcbiAgICAgICAgICAgICAgICByb3dJbmZvLmNsYXNzTmFtZSA9IFwiIGFjZV9lcnJvclwiO1xuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PSBcIndhcm5pbmdcIiAmJiByb3dJbmZvLmNsYXNzTmFtZSAhPSBcIiBhY2VfZXJyb3JcIilcbiAgICAgICAgICAgICAgICByb3dJbmZvLmNsYXNzTmFtZSA9IFwiIGFjZV93YXJuaW5nXCI7XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09IFwiaW5mb1wiICYmICghcm93SW5mby5jbGFzc05hbWUpKVxuICAgICAgICAgICAgICAgIHJvd0luZm8uY2xhc3NOYW1lID0gXCIgYWNlX2luZm9cIjtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLiR1cGRhdGVBbm5vdGF0aW9ucyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICghdGhpcy4kYW5ub3RhdGlvbnMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgZGVsdGEgPSBlLmRhdGE7XG4gICAgICAgIHZhciByYW5nZSA9IGRlbHRhLnJhbmdlO1xuICAgICAgICB2YXIgZmlyc3RSb3cgPSByYW5nZS5zdGFydC5yb3c7XG4gICAgICAgIHZhciBsZW4gPSByYW5nZS5lbmQucm93IC0gZmlyc3RSb3c7XG4gICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgfSBlbHNlIGlmIChkZWx0YS5hY3Rpb24gPT0gXCJyZW1vdmVUZXh0XCIgfHwgZGVsdGEuYWN0aW9uID09IFwicmVtb3ZlTGluZXNcIikge1xuICAgICAgICAgICAgdGhpcy4kYW5ub3RhdGlvbnMuc3BsaWNlKGZpcnN0Um93LCBsZW4gKyAxLCBudWxsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkobGVuICsgMSk7XG4gICAgICAgICAgICBhcmdzLnVuc2hpZnQoZmlyc3RSb3csIDEpO1xuICAgICAgICAgICAgdGhpcy4kYW5ub3RhdGlvbnMuc3BsaWNlLmFwcGx5KHRoaXMuJGFubm90YXRpb25zLCBhcmdzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICB2YXIgZW1wdHlBbm5vID0ge2NsYXNzTmFtZTogXCJcIn07XG4gICAgICAgIHZhciBodG1sID0gW107XG4gICAgICAgIHZhciBpID0gY29uZmlnLmZpcnN0Um93O1xuICAgICAgICB2YXIgbGFzdFJvdyA9IGNvbmZpZy5sYXN0Um93O1xuICAgICAgICB2YXIgZm9sZCA9IHRoaXMuc2Vzc2lvbi5nZXROZXh0Rm9sZExpbmUoaSk7XG4gICAgICAgIHZhciBmb2xkU3RhcnQgPSBmb2xkID8gZm9sZC5zdGFydC5yb3cgOiBJbmZpbml0eTtcbiAgICAgICAgdmFyIGZvbGRXaWRnZXRzID0gdGhpcy4kc2hvd0ZvbGRXaWRnZXRzICYmIHRoaXMuc2Vzc2lvbi5mb2xkV2lkZ2V0cztcbiAgICAgICAgdmFyIGJyZWFrcG9pbnRzID0gdGhpcy5zZXNzaW9uLiRicmVha3BvaW50cztcbiAgICAgICAgdmFyIGRlY29yYXRpb25zID0gdGhpcy5zZXNzaW9uLiRkZWNvcmF0aW9ucztcbiAgICAgICAgdmFyIGZpcnN0TGluZU51bWJlciA9IHRoaXMuc2Vzc2lvbi4kZmlyc3RMaW5lTnVtYmVyO1xuICAgICAgICB2YXIgbGFzdExpbmVOdW1iZXIgPSAwO1xuXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBpZihpID4gZm9sZFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgaSA9IGZvbGQuZW5kLnJvdyArIDE7XG4gICAgICAgICAgICAgICAgZm9sZCA9IHRoaXMuc2Vzc2lvbi5nZXROZXh0Rm9sZExpbmUoaSwgZm9sZCk7XG4gICAgICAgICAgICAgICAgZm9sZFN0YXJ0ID0gZm9sZCA/Zm9sZC5zdGFydC5yb3cgOkluZmluaXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoaSA+IGxhc3RSb3cpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIHZhciBhbm5vdGF0aW9uID0gdGhpcy4kYW5ub3RhdGlvbnNbaV0gfHwgZW1wdHlBbm5vO1xuICAgICAgICAgICAgaHRtbC5wdXNoKFxuICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nYWNlX2d1dHRlci1jZWxsIFwiLFxuICAgICAgICAgICAgICAgIGJyZWFrcG9pbnRzW2ldIHx8IFwiXCIsIGRlY29yYXRpb25zW2ldIHx8IFwiXCIsIGFubm90YXRpb24uY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgIFwiJyBzdHlsZT0naGVpZ2h0OlwiLCB0aGlzLnNlc3Npb24uZ2V0Um93TGVuZ3RoKGkpICogY29uZmlnLmxpbmVIZWlnaHQsIFwicHg7Jz5cIiwgXG4gICAgICAgICAgICAgICAgbGFzdExpbmVOdW1iZXIgPSBpICsgZmlyc3RMaW5lTnVtYmVyXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZiAoZm9sZFdpZGdldHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgYyA9IGZvbGRXaWRnZXRzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChjID09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIGMgPSBmb2xkV2lkZ2V0c1tpXSA9IHRoaXMuc2Vzc2lvbi5nZXRGb2xkV2lkZ2V0KGkpO1xuICAgICAgICAgICAgICAgIGlmIChjKVxuICAgICAgICAgICAgICAgICAgICBodG1sLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjxzcGFuIGNsYXNzPSdhY2VfZm9sZC13aWRnZXQgYWNlX1wiLCBjLFxuICAgICAgICAgICAgICAgICAgICAgICAgYyA9PSBcInN0YXJ0XCIgJiYgaSA9PSBmb2xkU3RhcnQgJiYgaSA8IGZvbGQuZW5kLnJvdyA/IFwiIGFjZV9jbG9zZWRcIiA6IFwiIGFjZV9vcGVuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIicgc3R5bGU9J2hlaWdodDpcIiwgY29uZmlnLmxpbmVIZWlnaHQsIFwicHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiJz48L3NwYW4+XCJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaHRtbC5wdXNoKFwiPC9kaXY+XCIpO1xuXG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBkb20uc2V0SW5uZXJIdG1sKHRoaXMuZWxlbWVudCwgaHRtbC5qb2luKFwiXCIpKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodCA9IGNvbmZpZy5taW5IZWlnaHQgKyBcInB4XCI7XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5zZXNzaW9uLiR1c2VXcmFwTW9kZSlcbiAgICAgICAgICAgIGxhc3RMaW5lTnVtYmVyID0gdGhpcy5zZXNzaW9uLmdldExlbmd0aCgpO1xuICAgICAgICBcbiAgICAgICAgdmFyIGd1dHRlcldpZHRoID0gKFwiXCIgKyBsYXN0TGluZU51bWJlcikubGVuZ3RoICogY29uZmlnLmNoYXJhY3RlcldpZHRoO1xuICAgICAgICB2YXIgcGFkZGluZyA9IHRoaXMuJHBhZGRpbmcgfHwgdGhpcy4kY29tcHV0ZVBhZGRpbmcoKTtcbiAgICAgICAgZ3V0dGVyV2lkdGggKz0gcGFkZGluZy5sZWZ0ICsgcGFkZGluZy5yaWdodDtcbiAgICAgICAgaWYgKGd1dHRlcldpZHRoICE9PSB0aGlzLmd1dHRlcldpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLmd1dHRlcldpZHRoID0gZ3V0dGVyV2lkdGg7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGggPSBNYXRoLmNlaWwodGhpcy5ndXR0ZXJXaWR0aCkgKyBcInB4XCI7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KFwiY2hhbmdlR3V0dGVyV2lkdGhcIiwgZ3V0dGVyV2lkdGgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuJHNob3dGb2xkV2lkZ2V0cyA9IHRydWU7XG4gICAgdGhpcy5zZXRTaG93Rm9sZFdpZGdldHMgPSBmdW5jdGlvbihzaG93KSB7XG4gICAgICAgIGlmIChzaG93KVxuICAgICAgICAgICAgZG9tLmFkZENzc0NsYXNzKHRoaXMuZWxlbWVudCwgXCJhY2VfZm9sZGluZy1lbmFibGVkXCIpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBkb20ucmVtb3ZlQ3NzQ2xhc3ModGhpcy5lbGVtZW50LCBcImFjZV9mb2xkaW5nLWVuYWJsZWRcIik7XG5cbiAgICAgICAgdGhpcy4kc2hvd0ZvbGRXaWRnZXRzID0gc2hvdztcbiAgICAgICAgdGhpcy4kcGFkZGluZyA9IG51bGw7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmdldFNob3dGb2xkV2lkZ2V0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kc2hvd0ZvbGRXaWRnZXRzO1xuICAgIH07XG5cbiAgICB0aGlzLiRjb21wdXRlUGFkZGluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudC5maXJzdENoaWxkKVxuICAgICAgICAgICAgcmV0dXJuIHtsZWZ0OiAwLCByaWdodDogMH07XG4gICAgICAgIHZhciBzdHlsZSA9IGRvbS5jb21wdXRlZFN0eWxlKHRoaXMuZWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgdGhpcy4kcGFkZGluZyA9IHt9XG4gICAgICAgIHRoaXMuJHBhZGRpbmcubGVmdCA9IHBhcnNlSW50KHN0eWxlLnBhZGRpbmdMZWZ0KSArIDE7XG4gICAgICAgIHRoaXMuJHBhZGRpbmcucmlnaHQgPSBwYXJzZUludChzdHlsZS5wYWRkaW5nUmlnaHQpOyAgXG4gICAgICAgIHJldHVybiB0aGlzLiRwYWRkaW5nO1xuICAgIH07XG5cbiAgICB0aGlzLmdldFJlZ2lvbiA9IGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICAgIHZhciBwYWRkaW5nID0gdGhpcy4kcGFkZGluZyB8fCB0aGlzLiRjb21wdXRlUGFkZGluZygpO1xuICAgICAgICB2YXIgcmVjdCA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgaWYgKHBvaW50LnggPCBwYWRkaW5nLmxlZnQgKyByZWN0LmxlZnQpXG4gICAgICAgICAgICByZXR1cm4gXCJtYXJrZXJzXCI7XG4gICAgICAgIGlmICh0aGlzLiRzaG93Rm9sZFdpZGdldHMgJiYgcG9pbnQueCA+IHJlY3QucmlnaHQgLSBwYWRkaW5nLnJpZ2h0KVxuICAgICAgICAgICAgcmV0dXJuIFwiZm9sZFdpZGdldHNcIjtcbiAgICB9O1xuXG59KS5jYWxsKEd1dHRlci5wcm90b3R5cGUpO1xuXG5leHBvcnRzLkd1dHRlciA9IEd1dHRlcjtcblxufSk7XG5cbmFjZS5kZWZpbmUoJ2FjZS9sYXllci9tYXJrZXInLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgLCAnYWNlL3JhbmdlJywgJ2FjZS9saWIvZG9tJ10sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuXG52YXIgUmFuZ2UgPSBhY2VxdWlyZShcIi4uL3JhbmdlXCIpLlJhbmdlO1xudmFyIGRvbSA9IGFjZXF1aXJlKFwiLi4vbGliL2RvbVwiKTtcblxudmFyIE1hcmtlciA9IGZ1bmN0aW9uKHBhcmVudEVsKSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNlX2xheWVyIGFjZV9tYXJrZXItbGF5ZXJcIjtcbiAgICBwYXJlbnRFbC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xufTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy4kcGFkZGluZyA9IDA7XG5cbiAgICB0aGlzLnNldFBhZGRpbmcgPSBmdW5jdGlvbihwYWRkaW5nKSB7XG4gICAgICAgIHRoaXMuJHBhZGRpbmcgPSBwYWRkaW5nO1xuICAgIH07XG4gICAgdGhpcy5zZXRTZXNzaW9uID0gZnVuY3Rpb24oc2Vzc2lvbikge1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5zZXRNYXJrZXJzID0gZnVuY3Rpb24obWFya2Vycykge1xuICAgICAgICB0aGlzLm1hcmtlcnMgPSBtYXJrZXJzO1xuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICB2YXIgY29uZmlnID0gY29uZmlnIHx8IHRoaXMuY29uZmlnO1xuICAgICAgICBpZiAoIWNvbmZpZylcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcblxuXG4gICAgICAgIHZhciBodG1sID0gW107XG4gICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLm1hcmtlcnMpIHtcbiAgICAgICAgICAgIHZhciBtYXJrZXIgPSB0aGlzLm1hcmtlcnNba2V5XTtcblxuICAgICAgICAgICAgaWYgKCFtYXJrZXIucmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBtYXJrZXIudXBkYXRlKGh0bWwsIHRoaXMsIHRoaXMuc2Vzc2lvbiwgY29uZmlnKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHJhbmdlID0gbWFya2VyLnJhbmdlLmNsaXBSb3dzKGNvbmZpZy5maXJzdFJvdywgY29uZmlnLmxhc3RSb3cpO1xuICAgICAgICAgICAgaWYgKHJhbmdlLmlzRW1wdHkoKSkgY29udGludWU7XG5cbiAgICAgICAgICAgIHJhbmdlID0gcmFuZ2UudG9TY3JlZW5SYW5nZSh0aGlzLnNlc3Npb24pO1xuICAgICAgICAgICAgaWYgKG1hcmtlci5yZW5kZXJlcikge1xuICAgICAgICAgICAgICAgIHZhciB0b3AgPSB0aGlzLiRnZXRUb3AocmFuZ2Uuc3RhcnQucm93LCBjb25maWcpO1xuICAgICAgICAgICAgICAgIHZhciBsZWZ0ID0gdGhpcy4kcGFkZGluZyArIHJhbmdlLnN0YXJ0LmNvbHVtbiAqIGNvbmZpZy5jaGFyYWN0ZXJXaWR0aDtcbiAgICAgICAgICAgICAgICBtYXJrZXIucmVuZGVyZXIoaHRtbCwgcmFuZ2UsIGxlZnQsIHRvcCwgY29uZmlnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWFya2VyLnR5cGUgPT0gXCJmdWxsTGluZVwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3RnVsbExpbmVNYXJrZXIoaHRtbCwgcmFuZ2UsIG1hcmtlci5jbGF6eiwgY29uZmlnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWFya2VyLnR5cGUgPT0gXCJzY3JlZW5MaW5lXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdTY3JlZW5MaW5lTWFya2VyKGh0bWwsIHJhbmdlLCBtYXJrZXIuY2xhenosIGNvbmZpZyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJhbmdlLmlzTXVsdGlMaW5lKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAobWFya2VyLnR5cGUgPT0gXCJ0ZXh0XCIpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd1RleHRNYXJrZXIoaHRtbCwgcmFuZ2UsIG1hcmtlci5jbGF6eiwgY29uZmlnKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd011bHRpTGluZU1hcmtlcihodG1sLCByYW5nZSwgbWFya2VyLmNsYXp6LCBjb25maWcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdTaW5nbGVMaW5lTWFya2VyKGh0bWwsIHJhbmdlLCBtYXJrZXIuY2xhenogKyBcIiBhY2Vfc3RhcnRcIiwgY29uZmlnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBkb20uc2V0SW5uZXJIdG1sKHRoaXMuZWxlbWVudCwgaHRtbC5qb2luKFwiXCIpKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kZ2V0VG9wID0gZnVuY3Rpb24ocm93LCBsYXllckNvbmZpZykge1xuICAgICAgICByZXR1cm4gKHJvdyAtIGxheWVyQ29uZmlnLmZpcnN0Um93U2NyZWVuKSAqIGxheWVyQ29uZmlnLmxpbmVIZWlnaHQ7XG4gICAgfTtcbiAgICB0aGlzLmRyYXdUZXh0TWFya2VyID0gZnVuY3Rpb24oc3RyaW5nQnVpbGRlciwgcmFuZ2UsIGNsYXp6LCBsYXllckNvbmZpZywgZXh0cmFTdHlsZSkge1xuICAgICAgICB2YXIgcm93ID0gcmFuZ2Uuc3RhcnQucm93O1xuXG4gICAgICAgIHZhciBsaW5lUmFuZ2UgPSBuZXcgUmFuZ2UoXG4gICAgICAgICAgICByb3csIHJhbmdlLnN0YXJ0LmNvbHVtbixcbiAgICAgICAgICAgIHJvdywgdGhpcy5zZXNzaW9uLmdldFNjcmVlbkxhc3RSb3dDb2x1bW4ocm93KVxuICAgICAgICApO1xuICAgICAgICB0aGlzLmRyYXdTaW5nbGVMaW5lTWFya2VyKHN0cmluZ0J1aWxkZXIsIGxpbmVSYW5nZSwgY2xhenogKyBcIiBhY2Vfc3RhcnRcIiwgbGF5ZXJDb25maWcsIDEsIGV4dHJhU3R5bGUpO1xuICAgICAgICByb3cgPSByYW5nZS5lbmQucm93O1xuICAgICAgICBsaW5lUmFuZ2UgPSBuZXcgUmFuZ2Uocm93LCAwLCByb3csIHJhbmdlLmVuZC5jb2x1bW4pO1xuICAgICAgICB0aGlzLmRyYXdTaW5nbGVMaW5lTWFya2VyKHN0cmluZ0J1aWxkZXIsIGxpbmVSYW5nZSwgY2xhenosIGxheWVyQ29uZmlnLCAwLCBleHRyYVN0eWxlKTtcblxuICAgICAgICBmb3IgKHJvdyA9IHJhbmdlLnN0YXJ0LnJvdyArIDE7IHJvdyA8IHJhbmdlLmVuZC5yb3c7IHJvdysrKSB7XG4gICAgICAgICAgICBsaW5lUmFuZ2Uuc3RhcnQucm93ID0gcm93O1xuICAgICAgICAgICAgbGluZVJhbmdlLmVuZC5yb3cgPSByb3c7XG4gICAgICAgICAgICBsaW5lUmFuZ2UuZW5kLmNvbHVtbiA9IHRoaXMuc2Vzc2lvbi5nZXRTY3JlZW5MYXN0Um93Q29sdW1uKHJvdyk7XG4gICAgICAgICAgICB0aGlzLmRyYXdTaW5nbGVMaW5lTWFya2VyKHN0cmluZ0J1aWxkZXIsIGxpbmVSYW5nZSwgY2xhenosIGxheWVyQ29uZmlnLCAxLCBleHRyYVN0eWxlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5kcmF3TXVsdGlMaW5lTWFya2VyID0gZnVuY3Rpb24oc3RyaW5nQnVpbGRlciwgcmFuZ2UsIGNsYXp6LCBjb25maWcsIGV4dHJhU3R5bGUpIHtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSB0aGlzLiRwYWRkaW5nO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gY29uZmlnLmxpbmVIZWlnaHQ7XG4gICAgICAgIHZhciB0b3AgPSB0aGlzLiRnZXRUb3AocmFuZ2Uuc3RhcnQucm93LCBjb25maWcpO1xuICAgICAgICB2YXIgbGVmdCA9IHBhZGRpbmcgKyByYW5nZS5zdGFydC5jb2x1bW4gKiBjb25maWcuY2hhcmFjdGVyV2lkdGg7XG4gICAgICAgIGV4dHJhU3R5bGUgPSBleHRyYVN0eWxlIHx8IFwiXCI7XG5cbiAgICAgICAgc3RyaW5nQnVpbGRlci5wdXNoKFxuICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdcIiwgY2xhenosIFwiIGFjZV9zdGFydCcgc3R5bGU9J1wiLFxuICAgICAgICAgICAgXCJoZWlnaHQ6XCIsIGhlaWdodCwgXCJweDtcIixcbiAgICAgICAgICAgIFwicmlnaHQ6MDtcIixcbiAgICAgICAgICAgIFwidG9wOlwiLCB0b3AsIFwicHg7XCIsXG4gICAgICAgICAgICBcImxlZnQ6XCIsIGxlZnQsIFwicHg7XCIsIGV4dHJhU3R5bGUsIFwiJz48L2Rpdj5cIlxuICAgICAgICApO1xuICAgICAgICB0b3AgPSB0aGlzLiRnZXRUb3AocmFuZ2UuZW5kLnJvdywgY29uZmlnKTtcbiAgICAgICAgdmFyIHdpZHRoID0gcmFuZ2UuZW5kLmNvbHVtbiAqIGNvbmZpZy5jaGFyYWN0ZXJXaWR0aDtcblxuICAgICAgICBzdHJpbmdCdWlsZGVyLnB1c2goXG4gICAgICAgICAgICBcIjxkaXYgY2xhc3M9J1wiLCBjbGF6eiwgXCInIHN0eWxlPSdcIixcbiAgICAgICAgICAgIFwiaGVpZ2h0OlwiLCBoZWlnaHQsIFwicHg7XCIsXG4gICAgICAgICAgICBcIndpZHRoOlwiLCB3aWR0aCwgXCJweDtcIixcbiAgICAgICAgICAgIFwidG9wOlwiLCB0b3AsIFwicHg7XCIsXG4gICAgICAgICAgICBcImxlZnQ6XCIsIHBhZGRpbmcsIFwicHg7XCIsIGV4dHJhU3R5bGUsIFwiJz48L2Rpdj5cIlxuICAgICAgICApO1xuICAgICAgICBoZWlnaHQgPSAocmFuZ2UuZW5kLnJvdyAtIHJhbmdlLnN0YXJ0LnJvdyAtIDEpICogY29uZmlnLmxpbmVIZWlnaHQ7XG4gICAgICAgIGlmIChoZWlnaHQgPCAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0b3AgPSB0aGlzLiRnZXRUb3AocmFuZ2Uuc3RhcnQucm93ICsgMSwgY29uZmlnKTtcblxuICAgICAgICBzdHJpbmdCdWlsZGVyLnB1c2goXG4gICAgICAgICAgICBcIjxkaXYgY2xhc3M9J1wiLCBjbGF6eiwgXCInIHN0eWxlPSdcIixcbiAgICAgICAgICAgIFwiaGVpZ2h0OlwiLCBoZWlnaHQsIFwicHg7XCIsXG4gICAgICAgICAgICBcInJpZ2h0OjA7XCIsXG4gICAgICAgICAgICBcInRvcDpcIiwgdG9wLCBcInB4O1wiLFxuICAgICAgICAgICAgXCJsZWZ0OlwiLCBwYWRkaW5nLCBcInB4O1wiLCBleHRyYVN0eWxlLCBcIic+PC9kaXY+XCJcbiAgICAgICAgKTtcbiAgICB9O1xuICAgIHRoaXMuZHJhd1NpbmdsZUxpbmVNYXJrZXIgPSBmdW5jdGlvbihzdHJpbmdCdWlsZGVyLCByYW5nZSwgY2xhenosIGNvbmZpZywgZXh0cmFMZW5ndGgsIGV4dHJhU3R5bGUpIHtcbiAgICAgICAgdmFyIGhlaWdodCA9IGNvbmZpZy5saW5lSGVpZ2h0O1xuICAgICAgICB2YXIgd2lkdGggPSAocmFuZ2UuZW5kLmNvbHVtbiArIChleHRyYUxlbmd0aCB8fCAwKSAtIHJhbmdlLnN0YXJ0LmNvbHVtbikgKiBjb25maWcuY2hhcmFjdGVyV2lkdGg7XG5cbiAgICAgICAgdmFyIHRvcCA9IHRoaXMuJGdldFRvcChyYW5nZS5zdGFydC5yb3csIGNvbmZpZyk7XG4gICAgICAgIHZhciBsZWZ0ID0gdGhpcy4kcGFkZGluZyArIHJhbmdlLnN0YXJ0LmNvbHVtbiAqIGNvbmZpZy5jaGFyYWN0ZXJXaWR0aDtcblxuICAgICAgICBzdHJpbmdCdWlsZGVyLnB1c2goXG4gICAgICAgICAgICBcIjxkaXYgY2xhc3M9J1wiLCBjbGF6eiwgXCInIHN0eWxlPSdcIixcbiAgICAgICAgICAgIFwiaGVpZ2h0OlwiLCBoZWlnaHQsIFwicHg7XCIsXG4gICAgICAgICAgICBcIndpZHRoOlwiLCB3aWR0aCwgXCJweDtcIixcbiAgICAgICAgICAgIFwidG9wOlwiLCB0b3AsIFwicHg7XCIsXG4gICAgICAgICAgICBcImxlZnQ6XCIsIGxlZnQsIFwicHg7XCIsIGV4dHJhU3R5bGUgfHwgXCJcIiwgXCInPjwvZGl2PlwiXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIHRoaXMuZHJhd0Z1bGxMaW5lTWFya2VyID0gZnVuY3Rpb24oc3RyaW5nQnVpbGRlciwgcmFuZ2UsIGNsYXp6LCBjb25maWcsIGV4dHJhU3R5bGUpIHtcbiAgICAgICAgdmFyIHRvcCA9IHRoaXMuJGdldFRvcChyYW5nZS5zdGFydC5yb3csIGNvbmZpZyk7XG4gICAgICAgIHZhciBoZWlnaHQgPSBjb25maWcubGluZUhlaWdodDtcbiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyAhPSByYW5nZS5lbmQucm93KVxuICAgICAgICAgICAgaGVpZ2h0ICs9IHRoaXMuJGdldFRvcChyYW5nZS5lbmQucm93LCBjb25maWcpIC0gdG9wO1xuXG4gICAgICAgIHN0cmluZ0J1aWxkZXIucHVzaChcbiAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nXCIsIGNsYXp6LCBcIicgc3R5bGU9J1wiLFxuICAgICAgICAgICAgXCJoZWlnaHQ6XCIsIGhlaWdodCwgXCJweDtcIixcbiAgICAgICAgICAgIFwidG9wOlwiLCB0b3AsIFwicHg7XCIsXG4gICAgICAgICAgICBcImxlZnQ6MDtyaWdodDowO1wiLCBleHRyYVN0eWxlIHx8IFwiXCIsIFwiJz48L2Rpdj5cIlxuICAgICAgICApO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5kcmF3U2NyZWVuTGluZU1hcmtlciA9IGZ1bmN0aW9uKHN0cmluZ0J1aWxkZXIsIHJhbmdlLCBjbGF6eiwgY29uZmlnLCBleHRyYVN0eWxlKSB7XG4gICAgICAgIHZhciB0b3AgPSB0aGlzLiRnZXRUb3AocmFuZ2Uuc3RhcnQucm93LCBjb25maWcpO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gY29uZmlnLmxpbmVIZWlnaHQ7XG5cbiAgICAgICAgc3RyaW5nQnVpbGRlci5wdXNoKFxuICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdcIiwgY2xhenosIFwiJyBzdHlsZT0nXCIsXG4gICAgICAgICAgICBcImhlaWdodDpcIiwgaGVpZ2h0LCBcInB4O1wiLFxuICAgICAgICAgICAgXCJ0b3A6XCIsIHRvcCwgXCJweDtcIixcbiAgICAgICAgICAgIFwibGVmdDowO3JpZ2h0OjA7XCIsIGV4dHJhU3R5bGUgfHwgXCJcIiwgXCInPjwvZGl2PlwiXG4gICAgICAgICk7XG4gICAgfTtcblxufSkuY2FsbChNYXJrZXIucHJvdG90eXBlKTtcblxuZXhwb3J0cy5NYXJrZXIgPSBNYXJrZXI7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKCdhY2UvbGF5ZXIvdGV4dCcsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyAsICdhY2UvbGliL29vcCcsICdhY2UvbGliL2RvbScsICdhY2UvbGliL2xhbmcnLCAnYWNlL2xpYi91c2VyYWdlbnQnLCAnYWNlL2xpYi9ldmVudF9lbWl0dGVyJ10sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuXG52YXIgb29wID0gYWNlcXVpcmUoXCIuLi9saWIvb29wXCIpO1xudmFyIGRvbSA9IGFjZXF1aXJlKFwiLi4vbGliL2RvbVwiKTtcbnZhciBsYW5nID0gYWNlcXVpcmUoXCIuLi9saWIvbGFuZ1wiKTtcbnZhciB1c2VyYWdlbnQgPSBhY2VxdWlyZShcIi4uL2xpYi91c2VyYWdlbnRcIik7XG52YXIgRXZlbnRFbWl0dGVyID0gYWNlcXVpcmUoXCIuLi9saWIvZXZlbnRfZW1pdHRlclwiKS5FdmVudEVtaXR0ZXI7XG5cbnZhciBUZXh0ID0gZnVuY3Rpb24ocGFyZW50RWwpIHtcbiAgICB0aGlzLmVsZW1lbnQgPSBkb20uY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2VfbGF5ZXIgYWNlX3RleHQtbGF5ZXJcIjtcbiAgICBwYXJlbnRFbC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xuXG4gICAgdGhpcy4kY2hhcmFjdGVyU2l6ZSA9IHt3aWR0aDogMCwgaGVpZ2h0OiAwfTtcbiAgICB0aGlzLmNoZWNrRm9yU2l6ZUNoYW5nZXMoKTtcbiAgICB0aGlzLiRwb2xsU2l6ZUNoYW5nZXMoKTtcbn07XG5cbihmdW5jdGlvbigpIHtcblxuICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTtcblxuICAgIHRoaXMuRU9GX0NIQVIgPSBcIlxceEI2XCI7IC8vXCImcGFyYTtcIjtcbiAgICB0aGlzLkVPTF9DSEFSID0gXCJcXHhBQ1wiOyAvL1wiJm5vdDtcIjtcbiAgICB0aGlzLlRBQl9DSEFSID0gXCJcXHUyMTkyXCI7IC8vXCImcmFycjtcIiBcIlxcdTIxRTVcIjtcbiAgICB0aGlzLlNQQUNFX0NIQVIgPSBcIlxceEI3XCI7IC8vXCImbWlkZG90O1wiO1xuICAgIHRoaXMuJHBhZGRpbmcgPSAwO1xuXG4gICAgdGhpcy5zZXRQYWRkaW5nID0gZnVuY3Rpb24ocGFkZGluZykge1xuICAgICAgICB0aGlzLiRwYWRkaW5nID0gcGFkZGluZztcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLnBhZGRpbmcgPSBcIjAgXCIgKyBwYWRkaW5nICsgXCJweFwiO1xuICAgIH07XG5cbiAgICB0aGlzLmdldExpbmVIZWlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGNoYXJhY3RlclNpemUuaGVpZ2h0IHx8IDE7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Q2hhcmFjdGVyV2lkdGggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGNoYXJhY3RlclNpemUud2lkdGggfHwgMTtcbiAgICB9O1xuXG4gICAgdGhpcy5jaGVja0ZvclNpemVDaGFuZ2VzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzaXplID0gdGhpcy4kbWVhc3VyZVNpemVzKCk7XG4gICAgICAgIGlmIChzaXplICYmICh0aGlzLiRjaGFyYWN0ZXJTaXplLndpZHRoICE9PSBzaXplLndpZHRoIHx8IHRoaXMuJGNoYXJhY3RlclNpemUuaGVpZ2h0ICE9PSBzaXplLmhlaWdodCkpIHtcbiAgICAgICAgICAgIHRoaXMuJG1lYXN1cmVOb2RlLnN0eWxlLmZvbnRXZWlnaHQgPSBcImJvbGRcIjtcbiAgICAgICAgICAgIHZhciBib2xkU2l6ZSA9IHRoaXMuJG1lYXN1cmVTaXplcygpO1xuICAgICAgICAgICAgdGhpcy4kbWVhc3VyZU5vZGUuc3R5bGUuZm9udFdlaWdodCA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLiRjaGFyYWN0ZXJTaXplID0gc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuYWxsb3dCb2xkRm9udHMgPSBib2xkU2l6ZSAmJiBib2xkU2l6ZS53aWR0aCA9PT0gc2l6ZS53aWR0aCAmJiBib2xkU2l6ZS5oZWlnaHQgPT09IHNpemUuaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5fZW1pdChcImNoYW5nZUNoYXJhY3RlclNpemVcIiwge2RhdGE6IHNpemV9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLiRwb2xsU2l6ZUNoYW5nZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLiRwb2xsU2l6ZUNoYW5nZXNUaW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5jaGVja0ZvclNpemVDaGFuZ2VzKCk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgfTtcblxuICAgIHRoaXMuJGZvbnRTdHlsZXMgPSB7XG4gICAgICAgIGZvbnRGYW1pbHkgOiAxLFxuICAgICAgICBmb250U2l6ZSA6IDEsXG4gICAgICAgIGZvbnRXZWlnaHQgOiAxLFxuICAgICAgICBmb250U3R5bGUgOiAxLFxuICAgICAgICBsaW5lSGVpZ2h0IDogMVxuICAgIH07XG5cbiAgICB0aGlzLiRtZWFzdXJlU2l6ZXMgPSB1c2VyYWdlbnQuaXNJRSB8fCB1c2VyYWdlbnQuaXNPbGRHZWNrbyA/IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbiA9IDEwMDA7XG4gICAgICAgIGlmICghdGhpcy4kbWVhc3VyZU5vZGUpIHtcbiAgICAgICAgICAgIHZhciBtZWFzdXJlTm9kZSA9IHRoaXMuJG1lYXN1cmVOb2RlID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBtZWFzdXJlTm9kZS5zdHlsZTtcblxuICAgICAgICAgICAgc3R5bGUud2lkdGggPSBzdHlsZS5oZWlnaHQgPSBcImF1dG9cIjtcbiAgICAgICAgICAgIHN0eWxlLmxlZnQgPSBzdHlsZS50b3AgPSAoLW4gKiA0MCkgICsgXCJweFwiO1xuXG4gICAgICAgICAgICBzdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgICAgIHN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiO1xuICAgICAgICAgICAgc3R5bGUub3ZlcmZsb3cgPSBcInZpc2libGVcIjtcbiAgICAgICAgICAgIHN0eWxlLndoaXRlU3BhY2UgPSBcIm5vd3JhcFwiO1xuICAgICAgICAgICAgbWVhc3VyZU5vZGUuaW5uZXJIVE1MID0gbGFuZy5zdHJpbmdSZXBlYXQoXCJYeVwiLCBuKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5vd25lckRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQub3duZXJEb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1lYXN1cmVOb2RlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuZWxlbWVudC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgIHdoaWxlICghZG9tLmhhc0Nzc0NsYXNzKGNvbnRhaW5lciwgXCJhY2VfZWRpdG9yXCIpKVxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIgPSBjb250YWluZXIucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobWVhc3VyZU5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50Lm9mZnNldFdpZHRoKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy4kbWVhc3VyZU5vZGUuc3R5bGU7XG4gICAgICAgIHZhciBjb21wdXRlZFN0eWxlID0gZG9tLmNvbXB1dGVkU3R5bGUodGhpcy5lbGVtZW50KTtcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiB0aGlzLiRmb250U3R5bGVzKVxuICAgICAgICAgICAgc3R5bGVbcHJvcF0gPSBjb21wdXRlZFN0eWxlW3Byb3BdO1xuXG4gICAgICAgIHZhciBzaXplID0ge1xuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLiRtZWFzdXJlTm9kZS5vZmZzZXRIZWlnaHQsXG4gICAgICAgICAgICB3aWR0aDogdGhpcy4kbWVhc3VyZU5vZGUub2Zmc2V0V2lkdGggLyAobiAqIDIpXG4gICAgICAgIH07XG4gICAgICAgIGlmIChzaXplLndpZHRoID09IDAgfHwgc2l6ZS5oZWlnaHQgPT0gMClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgIHJldHVybiBzaXplO1xuICAgIH1cbiAgICA6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuJG1lYXN1cmVOb2RlKSB7XG4gICAgICAgICAgICB2YXIgbWVhc3VyZU5vZGUgPSB0aGlzLiRtZWFzdXJlTm9kZSA9IGRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgdmFyIHN0eWxlID0gbWVhc3VyZU5vZGUuc3R5bGU7XG5cbiAgICAgICAgICAgIHN0eWxlLndpZHRoID0gc3R5bGUuaGVpZ2h0ID0gXCJhdXRvXCI7XG4gICAgICAgICAgICBzdHlsZS5sZWZ0ID0gc3R5bGUudG9wID0gLTEwMCArIFwicHhcIjtcblxuICAgICAgICAgICAgc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgICAgICAgICBzdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcbiAgICAgICAgICAgIHN0eWxlLm92ZXJmbG93ID0gXCJ2aXNpYmxlXCI7XG4gICAgICAgICAgICBzdHlsZS53aGl0ZVNwYWNlID0gXCJub3dyYXBcIjtcblxuICAgICAgICAgICAgbWVhc3VyZU5vZGUuaW5uZXJIVE1MID0gXCJYXCI7XG5cbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIHdoaWxlIChjb250YWluZXIgJiYgIWRvbS5oYXNDc3NDbGFzcyhjb250YWluZXIsIFwiYWNlX2VkaXRvclwiKSlcbiAgICAgICAgICAgICAgICBjb250YWluZXIgPSBjb250YWluZXIucGFyZW50Tm9kZTtcblxuICAgICAgICAgICAgaWYgKCFjb250YWluZXIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG1lYXN1cmVOb2RlID0gbnVsbDtcblxuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG1lYXN1cmVOb2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZWN0ID0gdGhpcy4kbWVhc3VyZU5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgdmFyIHNpemUgPSB7XG4gICAgICAgICAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGg6IHJlY3Qud2lkdGhcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHNpemUud2lkdGggPT0gMCB8fCBzaXplLmhlaWdodCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgfTtcblxuICAgIHRoaXMuc2V0U2Vzc2lvbiA9IGZ1bmN0aW9uKHNlc3Npb24pIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgICAgdGhpcy4kY29tcHV0ZVRhYlN0cmluZygpO1xuICAgIH07XG5cbiAgICB0aGlzLnNob3dJbnZpc2libGVzID0gZmFsc2U7XG4gICAgdGhpcy5zZXRTaG93SW52aXNpYmxlcyA9IGZ1bmN0aW9uKHNob3dJbnZpc2libGVzKSB7XG4gICAgICAgIGlmICh0aGlzLnNob3dJbnZpc2libGVzID09IHNob3dJbnZpc2libGVzKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHRoaXMuc2hvd0ludmlzaWJsZXMgPSBzaG93SW52aXNpYmxlcztcbiAgICAgICAgdGhpcy4kY29tcHV0ZVRhYlN0cmluZygpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgdGhpcy5kaXNwbGF5SW5kZW50R3VpZGVzID0gdHJ1ZTtcbiAgICB0aGlzLnNldERpc3BsYXlJbmRlbnRHdWlkZXMgPSBmdW5jdGlvbihkaXNwbGF5KSB7XG4gICAgICAgIGlmICh0aGlzLmRpc3BsYXlJbmRlbnRHdWlkZXMgPT0gZGlzcGxheSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICB0aGlzLmRpc3BsYXlJbmRlbnRHdWlkZXMgPSBkaXNwbGF5O1xuICAgICAgICB0aGlzLiRjb21wdXRlVGFiU3RyaW5nKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICB0aGlzLiR0YWJTdHJpbmdzID0gW107XG4gICAgdGhpcy5vbkNoYW5nZVRhYlNpemUgPVxuICAgIHRoaXMuJGNvbXB1dGVUYWJTdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHRhYlNpemUgPSB0aGlzLnNlc3Npb24uZ2V0VGFiU2l6ZSgpO1xuICAgICAgICB0aGlzLnRhYlNpemUgPSB0YWJTaXplO1xuICAgICAgICB2YXIgdGFiU3RyID0gdGhpcy4kdGFiU3RyaW5ncyA9IFswXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0YWJTaXplICsgMTsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zaG93SW52aXNpYmxlcykge1xuICAgICAgICAgICAgICAgIHRhYlN0ci5wdXNoKFwiPHNwYW4gY2xhc3M9J2FjZV9pbnZpc2libGUnPlwiXG4gICAgICAgICAgICAgICAgICAgICsgdGhpcy5UQUJfQ0hBUlxuICAgICAgICAgICAgICAgICAgICArIGxhbmcuc3RyaW5nUmVwZWF0KFwiXFx4YTBcIiwgaSAtIDEpXG4gICAgICAgICAgICAgICAgICAgICsgXCI8L3NwYW4+XCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YWJTdHIucHVzaChsYW5nLnN0cmluZ1JlcGVhdChcIlxceGEwXCIsIGkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kaXNwbGF5SW5kZW50R3VpZGVzKSB7XG4gICAgICAgICAgICB0aGlzLiRpbmRlbnRHdWlkZVJlID0gIC9cXHNcXFN8IFxcdHxcXHQgfFxccyQvO1xuICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IFwiYWNlX2luZGVudC1ndWlkZVwiO1xuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0ludmlzaWJsZXMpIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgKz0gXCIgYWNlX2ludmlzaWJsZVwiO1xuICAgICAgICAgICAgICAgIHZhciBzcGFjZUNvbnRlbnQgPSBsYW5nLnN0cmluZ1JlcGVhdCh0aGlzLlNQQUNFX0NIQVIsIHRoaXMudGFiU2l6ZSk7XG4gICAgICAgICAgICAgICAgdmFyIHRhYkNvbnRlbnQgPSB0aGlzLlRBQl9DSEFSICsgbGFuZy5zdHJpbmdSZXBlYXQoXCJcXHhhMFwiLCB0aGlzLnRhYlNpemUgLSAxKTtcbiAgICAgICAgICAgIH0gZWxzZXtcbiAgICAgICAgICAgICAgICB2YXIgc3BhY2VDb250ZW50ID0gbGFuZy5zdHJpbmdSZXBlYXQoXCJcXHhhMFwiLCB0aGlzLnRhYlNpemUpO1xuICAgICAgICAgICAgICAgIHZhciB0YWJDb250ZW50ID0gc3BhY2VDb250ZW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLiR0YWJTdHJpbmdzW1wiIFwiXSA9IFwiPHNwYW4gY2xhc3M9J1wiICsgY2xhc3NOYW1lICsgXCInPlwiICsgc3BhY2VDb250ZW50ICsgXCI8L3NwYW4+XCI7XG4gICAgICAgICAgICB0aGlzLiR0YWJTdHJpbmdzW1wiXFx0XCJdID0gXCI8c3BhbiBjbGFzcz0nXCIgKyBjbGFzc05hbWUgKyBcIic+XCIgKyB0YWJDb250ZW50ICsgXCI8L3NwYW4+XCI7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGVMaW5lcyA9IGZ1bmN0aW9uKGNvbmZpZywgZmlyc3RSb3csIGxhc3RSb3cpIHtcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmxhc3RSb3cgIT0gY29uZmlnLmxhc3RSb3cgfHxcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmZpcnN0Um93ICE9IGNvbmZpZy5maXJzdFJvdykge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxMaW5lcyhjb25maWcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuXG4gICAgICAgIHZhciBmaXJzdCA9IE1hdGgubWF4KGZpcnN0Um93LCBjb25maWcuZmlyc3RSb3cpO1xuICAgICAgICB2YXIgbGFzdCA9IE1hdGgubWluKGxhc3RSb3csIGNvbmZpZy5sYXN0Um93KTtcblxuICAgICAgICB2YXIgbGluZUVsZW1lbnRzID0gdGhpcy5lbGVtZW50LmNoaWxkTm9kZXM7XG4gICAgICAgIHZhciBsaW5lRWxlbWVudHNJZHggPSAwO1xuXG4gICAgICAgIGZvciAodmFyIHJvdyA9IGNvbmZpZy5maXJzdFJvdzsgcm93IDwgZmlyc3Q7IHJvdysrKSB7XG4gICAgICAgICAgICB2YXIgZm9sZExpbmUgPSB0aGlzLnNlc3Npb24uZ2V0Rm9sZExpbmUocm93KTtcbiAgICAgICAgICAgIGlmIChmb2xkTGluZSkge1xuICAgICAgICAgICAgICAgIGlmIChmb2xkTGluZS5jb250YWluc1JvdyhmaXJzdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyc3QgPSBmb2xkTGluZS5zdGFydC5yb3c7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJvdyA9IGZvbGRMaW5lLmVuZC5yb3c7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGluZUVsZW1lbnRzSWR4ICsrO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJvdyA9IGZpcnN0O1xuICAgICAgICB2YXIgZm9sZExpbmUgPSB0aGlzLnNlc3Npb24uZ2V0TmV4dEZvbGRMaW5lKHJvdyk7XG4gICAgICAgIHZhciBmb2xkU3RhcnQgPSBmb2xkTGluZSA/IGZvbGRMaW5lLnN0YXJ0LnJvdyA6IEluZmluaXR5O1xuXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBpZiAocm93ID4gZm9sZFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgcm93ID0gZm9sZExpbmUuZW5kLnJvdysxO1xuICAgICAgICAgICAgICAgIGZvbGRMaW5lID0gdGhpcy5zZXNzaW9uLmdldE5leHRGb2xkTGluZShyb3csIGZvbGRMaW5lKTtcbiAgICAgICAgICAgICAgICBmb2xkU3RhcnQgPSBmb2xkTGluZSA/IGZvbGRMaW5lLnN0YXJ0LnJvdyA6SW5maW5pdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocm93ID4gbGFzdClcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgdmFyIGxpbmVFbGVtZW50ID0gbGluZUVsZW1lbnRzW2xpbmVFbGVtZW50c0lkeCsrXTtcbiAgICAgICAgICAgIGlmIChsaW5lRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBodG1sID0gW107XG4gICAgICAgICAgICAgICAgdGhpcy4kcmVuZGVyTGluZShcbiAgICAgICAgICAgICAgICAgICAgaHRtbCwgcm93LCAhdGhpcy4kdXNlTGluZUdyb3VwcygpLCByb3cgPT0gZm9sZFN0YXJ0ID8gZm9sZExpbmUgOiBmYWxzZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgZG9tLnNldElubmVySHRtbChsaW5lRWxlbWVudCwgaHRtbC5qb2luKFwiXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvdysrO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuc2Nyb2xsTGluZXMgPSBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgdmFyIG9sZENvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcblxuICAgICAgICBpZiAoIW9sZENvbmZpZyB8fCBvbGRDb25maWcubGFzdFJvdyA8IGNvbmZpZy5maXJzdFJvdylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZShjb25maWcpO1xuXG4gICAgICAgIGlmIChjb25maWcubGFzdFJvdyA8IG9sZENvbmZpZy5maXJzdFJvdylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZShjb25maWcpO1xuXG4gICAgICAgIHZhciBlbCA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgaWYgKG9sZENvbmZpZy5maXJzdFJvdyA8IGNvbmZpZy5maXJzdFJvdylcbiAgICAgICAgICAgIGZvciAodmFyIHJvdz10aGlzLnNlc3Npb24uZ2V0Rm9sZGVkUm93Q291bnQob2xkQ29uZmlnLmZpcnN0Um93LCBjb25maWcuZmlyc3RSb3cgLSAxKTsgcm93PjA7IHJvdy0tKVxuICAgICAgICAgICAgICAgIGVsLnJlbW92ZUNoaWxkKGVsLmZpcnN0Q2hpbGQpO1xuXG4gICAgICAgIGlmIChvbGRDb25maWcubGFzdFJvdyA+IGNvbmZpZy5sYXN0Um93KVxuICAgICAgICAgICAgZm9yICh2YXIgcm93PXRoaXMuc2Vzc2lvbi5nZXRGb2xkZWRSb3dDb3VudChjb25maWcubGFzdFJvdyArIDEsIG9sZENvbmZpZy5sYXN0Um93KTsgcm93PjA7IHJvdy0tKVxuICAgICAgICAgICAgICAgIGVsLnJlbW92ZUNoaWxkKGVsLmxhc3RDaGlsZCk7XG5cbiAgICAgICAgaWYgKGNvbmZpZy5maXJzdFJvdyA8IG9sZENvbmZpZy5maXJzdFJvdykge1xuICAgICAgICAgICAgdmFyIGZyYWdtZW50ID0gdGhpcy4kcmVuZGVyTGluZXNGcmFnbWVudChjb25maWcsIGNvbmZpZy5maXJzdFJvdywgb2xkQ29uZmlnLmZpcnN0Um93IC0gMSk7XG4gICAgICAgICAgICBpZiAoZWwuZmlyc3RDaGlsZClcbiAgICAgICAgICAgICAgICBlbC5pbnNlcnRCZWZvcmUoZnJhZ21lbnQsIGVsLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGVsLmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25maWcubGFzdFJvdyA+IG9sZENvbmZpZy5sYXN0Um93KSB7XG4gICAgICAgICAgICB2YXIgZnJhZ21lbnQgPSB0aGlzLiRyZW5kZXJMaW5lc0ZyYWdtZW50KGNvbmZpZywgb2xkQ29uZmlnLmxhc3RSb3cgKyAxLCBjb25maWcubGFzdFJvdyk7XG4gICAgICAgICAgICBlbC5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy4kcmVuZGVyTGluZXNGcmFnbWVudCA9IGZ1bmN0aW9uKGNvbmZpZywgZmlyc3RSb3csIGxhc3RSb3cpIHtcbiAgICAgICAgdmFyIGZyYWdtZW50ID0gdGhpcy5lbGVtZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgICB2YXIgcm93ID0gZmlyc3RSb3c7XG4gICAgICAgIHZhciBmb2xkTGluZSA9IHRoaXMuc2Vzc2lvbi5nZXROZXh0Rm9sZExpbmUocm93KTtcbiAgICAgICAgdmFyIGZvbGRTdGFydCA9IGZvbGRMaW5lID8gZm9sZExpbmUuc3RhcnQucm93IDogSW5maW5pdHk7XG5cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGlmIChyb3cgPiBmb2xkU3RhcnQpIHtcbiAgICAgICAgICAgICAgICByb3cgPSBmb2xkTGluZS5lbmQucm93KzE7XG4gICAgICAgICAgICAgICAgZm9sZExpbmUgPSB0aGlzLnNlc3Npb24uZ2V0TmV4dEZvbGRMaW5lKHJvdywgZm9sZExpbmUpO1xuICAgICAgICAgICAgICAgIGZvbGRTdGFydCA9IGZvbGRMaW5lID8gZm9sZExpbmUuc3RhcnQucm93IDogSW5maW5pdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocm93ID4gbGFzdFJvdylcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IGRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgICAgICAgICB2YXIgaHRtbCA9IFtdO1xuICAgICAgICAgICAgdGhpcy4kcmVuZGVyTGluZShodG1sLCByb3csIGZhbHNlLCByb3cgPT0gZm9sZFN0YXJ0ID8gZm9sZExpbmUgOiBmYWxzZSk7XG4gICAgICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gaHRtbC5qb2luKFwiXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuJHVzZUxpbmVHcm91cHMoKSkge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSAnYWNlX2xpbmVfZ3JvdXAnO1xuICAgICAgICAgICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBsaW5lcyA9IGNvbnRhaW5lci5jaGlsZE5vZGVzXG4gICAgICAgICAgICAgICAgd2hpbGUobGluZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChsaW5lc1swXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJvdysrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmcmFnbWVudDtcbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG5cbiAgICAgICAgdmFyIGh0bWwgPSBbXTtcbiAgICAgICAgdmFyIGZpcnN0Um93ID0gY29uZmlnLmZpcnN0Um93LCBsYXN0Um93ID0gY29uZmlnLmxhc3RSb3c7XG5cbiAgICAgICAgdmFyIHJvdyA9IGZpcnN0Um93O1xuICAgICAgICB2YXIgZm9sZExpbmUgPSB0aGlzLnNlc3Npb24uZ2V0TmV4dEZvbGRMaW5lKHJvdyk7XG4gICAgICAgIHZhciBmb2xkU3RhcnQgPSBmb2xkTGluZSA/IGZvbGRMaW5lLnN0YXJ0LnJvdyA6IEluZmluaXR5O1xuXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBpZiAocm93ID4gZm9sZFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgcm93ID0gZm9sZExpbmUuZW5kLnJvdysxO1xuICAgICAgICAgICAgICAgIGZvbGRMaW5lID0gdGhpcy5zZXNzaW9uLmdldE5leHRGb2xkTGluZShyb3csIGZvbGRMaW5lKTtcbiAgICAgICAgICAgICAgICBmb2xkU3RhcnQgPSBmb2xkTGluZSA/IGZvbGRMaW5lLnN0YXJ0LnJvdyA6SW5maW5pdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocm93ID4gbGFzdFJvdylcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgaWYgKHRoaXMuJHVzZUxpbmVHcm91cHMoKSlcbiAgICAgICAgICAgICAgICBodG1sLnB1c2goXCI8ZGl2IGNsYXNzPSdhY2VfbGluZV9ncm91cCc+XCIpXG5cbiAgICAgICAgICAgIHRoaXMuJHJlbmRlckxpbmUoaHRtbCwgcm93LCBmYWxzZSwgcm93ID09IGZvbGRTdGFydCA/IGZvbGRMaW5lIDogZmFsc2UpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy4kdXNlTGluZUdyb3VwcygpKVxuICAgICAgICAgICAgICAgIGh0bWwucHVzaChcIjwvZGl2PlwiKTsgLy8gZW5kIHRoZSBsaW5lIGdyb3VwXG5cbiAgICAgICAgICAgIHJvdysrO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGRvbS5zZXRJbm5lckh0bWwodGhpcy5lbGVtZW50LCBodG1sLmpvaW4oXCJcIikpO1xuICAgIH07XG5cbiAgICB0aGlzLiR0ZXh0VG9rZW4gPSB7XG4gICAgICAgIFwidGV4dFwiOiB0cnVlLFxuICAgICAgICBcInJwYXJlblwiOiB0cnVlLFxuICAgICAgICBcImxwYXJlblwiOiB0cnVlXG4gICAgfTtcblxuICAgIHRoaXMuJHJlbmRlclRva2VuID0gZnVuY3Rpb24oc3RyaW5nQnVpbGRlciwgc2NyZWVuQ29sdW1uLCB0b2tlbiwgdmFsdWUpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgcmVwbGFjZVJlZyA9IC9cXHR8Jnw8fCggKyl8KFtcXHgwMC1cXHgxZlxceDgwLVxceGEwXFx1MTY4MFxcdTE4MEVcXHUyMDAwLVxcdTIwMGZcXHUyMDI4XFx1MjAyOVxcdTIwMkZcXHUyMDVGXFx1MzAwMFxcdUZFRkZdKXxbXFx1MTEwMC1cXHUxMTVGXFx1MTFBMy1cXHUxMUE3XFx1MTFGQS1cXHUxMUZGXFx1MjMyOS1cXHUyMzJBXFx1MkU4MC1cXHUyRTk5XFx1MkU5Qi1cXHUyRUYzXFx1MkYwMC1cXHUyRkQ1XFx1MkZGMC1cXHUyRkZCXFx1MzAwMC1cXHUzMDNFXFx1MzA0MS1cXHUzMDk2XFx1MzA5OS1cXHUzMEZGXFx1MzEwNS1cXHUzMTJEXFx1MzEzMS1cXHUzMThFXFx1MzE5MC1cXHUzMUJBXFx1MzFDMC1cXHUzMUUzXFx1MzFGMC1cXHUzMjFFXFx1MzIyMC1cXHUzMjQ3XFx1MzI1MC1cXHUzMkZFXFx1MzMwMC1cXHU0REJGXFx1NEUwMC1cXHVBNDhDXFx1QTQ5MC1cXHVBNEM2XFx1QTk2MC1cXHVBOTdDXFx1QUMwMC1cXHVEN0EzXFx1RDdCMC1cXHVEN0M2XFx1RDdDQi1cXHVEN0ZCXFx1RjkwMC1cXHVGQUZGXFx1RkUxMC1cXHVGRTE5XFx1RkUzMC1cXHVGRTUyXFx1RkU1NC1cXHVGRTY2XFx1RkU2OC1cXHVGRTZCXFx1RkYwMS1cXHVGRjYwXFx1RkZFMC1cXHVGRkU2XS9nO1xuICAgICAgICB2YXIgcmVwbGFjZUZ1bmMgPSBmdW5jdGlvbihjLCBhLCBiLCB0YWJJZHgsIGlkeDQpIHtcbiAgICAgICAgICAgIGlmIChhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuc2hvd0ludmlzaWJsZXMgP1xuICAgICAgICAgICAgICAgICAgICBcIjxzcGFuIGNsYXNzPSdhY2VfaW52aXNpYmxlJz5cIiArIGxhbmcuc3RyaW5nUmVwZWF0KHNlbGYuU1BBQ0VfQ0hBUiwgYy5sZW5ndGgpICsgXCI8L3NwYW4+XCIgOlxuICAgICAgICAgICAgICAgICAgICBsYW5nLnN0cmluZ1JlcGVhdChcIlxceGEwXCIsIGMubGVuZ3RoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PSBcIiZcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIiYjMzg7XCI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGMgPT0gXCI8XCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCImIzYwO1wiO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjID09IFwiXFx0XCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFiU2l6ZSA9IHNlbGYuc2Vzc2lvbi5nZXRTY3JlZW5UYWJTaXplKHNjcmVlbkNvbHVtbiArIHRhYklkeCk7XG4gICAgICAgICAgICAgICAgc2NyZWVuQ29sdW1uICs9IHRhYlNpemUgLSAxO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLiR0YWJTdHJpbmdzW3RhYlNpemVdO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjID09IFwiXFx1MzAwMFwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNsYXNzVG9Vc2UgPSBzZWxmLnNob3dJbnZpc2libGVzID8gXCJhY2VfY2prIGFjZV9pbnZpc2libGVcIiA6IFwiYWNlX2Nqa1wiO1xuICAgICAgICAgICAgICAgIHZhciBzcGFjZSA9IHNlbGYuc2hvd0ludmlzaWJsZXMgPyBzZWxmLlNQQUNFX0NIQVIgOiBcIlwiO1xuICAgICAgICAgICAgICAgIHNjcmVlbkNvbHVtbiArPSAxO1xuICAgICAgICAgICAgICAgIHJldHVybiBcIjxzcGFuIGNsYXNzPSdcIiArIGNsYXNzVG9Vc2UgKyBcIicgc3R5bGU9J3dpZHRoOlwiICtcbiAgICAgICAgICAgICAgICAgICAgKHNlbGYuY29uZmlnLmNoYXJhY3RlcldpZHRoICogMikgK1xuICAgICAgICAgICAgICAgICAgICBcInB4Jz5cIiArIHNwYWNlICsgXCI8L3NwYW4+XCI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCI8c3BhbiBjbGFzcz0nYWNlX2ludmlzaWJsZSBhY2VfaW52YWxpZCc+XCIgKyBzZWxmLlNQQUNFX0NIQVIgKyBcIjwvc3Bhbj5cIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2NyZWVuQ29sdW1uICs9IDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiPHNwYW4gY2xhc3M9J2FjZV9jamsnIHN0eWxlPSd3aWR0aDpcIiArXG4gICAgICAgICAgICAgICAgICAgIChzZWxmLmNvbmZpZy5jaGFyYWN0ZXJXaWR0aCAqIDIpICtcbiAgICAgICAgICAgICAgICAgICAgXCJweCc+XCIgKyBjICsgXCI8L3NwYW4+XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIG91dHB1dCA9IHZhbHVlLnJlcGxhY2UocmVwbGFjZVJlZywgcmVwbGFjZUZ1bmMpO1xuXG4gICAgICAgIGlmICghdGhpcy4kdGV4dFRva2VuW3Rva2VuLnR5cGVdKSB7XG4gICAgICAgICAgICB2YXIgY2xhc3NlcyA9IFwiYWNlX1wiICsgdG9rZW4udHlwZS5yZXBsYWNlKC9cXC4vZywgXCIgYWNlX1wiKTtcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IFwiXCI7XG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PSBcImZvbGRcIilcbiAgICAgICAgICAgICAgICBzdHlsZSA9IFwiIHN0eWxlPSd3aWR0aDpcIiArICh0b2tlbi52YWx1ZS5sZW5ndGggKiB0aGlzLmNvbmZpZy5jaGFyYWN0ZXJXaWR0aCkgKyBcInB4OycgXCI7XG4gICAgICAgICAgICBzdHJpbmdCdWlsZGVyLnB1c2goXCI8c3BhbiBjbGFzcz0nXCIsIGNsYXNzZXMsIFwiJ1wiLCBzdHlsZSwgXCI+XCIsIG91dHB1dCwgXCI8L3NwYW4+XCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RyaW5nQnVpbGRlci5wdXNoKG91dHB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNjcmVlbkNvbHVtbiArIHZhbHVlLmxlbmd0aDtcbiAgICB9O1xuXG4gICAgdGhpcy5yZW5kZXJJbmRlbnRHdWlkZSA9IGZ1bmN0aW9uKHN0cmluZ0J1aWxkZXIsIHZhbHVlKSB7XG4gICAgICAgIHZhciBjb2xzID0gdmFsdWUuc2VhcmNoKHRoaXMuJGluZGVudEd1aWRlUmUpO1xuICAgICAgICBpZiAoY29scyA8PSAwKVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICBpZiAodmFsdWVbMF0gPT0gXCIgXCIpIHtcbiAgICAgICAgICAgIGNvbHMgLT0gY29scyAlIHRoaXMudGFiU2l6ZTtcbiAgICAgICAgICAgIHN0cmluZ0J1aWxkZXIucHVzaChsYW5nLnN0cmluZ1JlcGVhdCh0aGlzLiR0YWJTdHJpbmdzW1wiIFwiXSwgY29scy90aGlzLnRhYlNpemUpKTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5zdWJzdHIoY29scyk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWVbMF0gPT0gXCJcXHRcIikge1xuICAgICAgICAgICAgc3RyaW5nQnVpbGRlci5wdXNoKGxhbmcuc3RyaW5nUmVwZWF0KHRoaXMuJHRhYlN0cmluZ3NbXCJcXHRcIl0sIGNvbHMpKTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5zdWJzdHIoY29scyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG5cbiAgICB0aGlzLiRyZW5kZXJXcmFwcGVkTGluZSA9IGZ1bmN0aW9uKHN0cmluZ0J1aWxkZXIsIHRva2Vucywgc3BsaXRzLCBvbmx5Q29udGVudHMpIHtcbiAgICAgICAgdmFyIGNoYXJzID0gMDtcbiAgICAgICAgdmFyIHNwbGl0ID0gMDtcbiAgICAgICAgdmFyIHNwbGl0Q2hhcnMgPSBzcGxpdHNbMF07XG4gICAgICAgIHZhciBzY3JlZW5Db2x1bW4gPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0b2tlbi52YWx1ZTtcbiAgICAgICAgICAgIGlmIChpID09IDAgJiYgdGhpcy5kaXNwbGF5SW5kZW50R3VpZGVzKSB7XG4gICAgICAgICAgICAgICAgY2hhcnMgPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLnJlbmRlckluZGVudEd1aWRlKHN0cmluZ0J1aWxkZXIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjaGFycyAtPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjaGFycyArIHZhbHVlLmxlbmd0aCA8IHNwbGl0Q2hhcnMpIHtcbiAgICAgICAgICAgICAgICBzY3JlZW5Db2x1bW4gPSB0aGlzLiRyZW5kZXJUb2tlbihzdHJpbmdCdWlsZGVyLCBzY3JlZW5Db2x1bW4sIHRva2VuLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgY2hhcnMgKz0gdmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAoY2hhcnMgKyB2YWx1ZS5sZW5ndGggPj0gc3BsaXRDaGFycykge1xuICAgICAgICAgICAgICAgICAgICBzY3JlZW5Db2x1bW4gPSB0aGlzLiRyZW5kZXJUb2tlbihcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZ0J1aWxkZXIsIHNjcmVlbkNvbHVtbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuLCB2YWx1ZS5zdWJzdHJpbmcoMCwgc3BsaXRDaGFycyAtIGNoYXJzKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZyhzcGxpdENoYXJzIC0gY2hhcnMpO1xuICAgICAgICAgICAgICAgICAgICBjaGFycyA9IHNwbGl0Q2hhcnM7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvbmx5Q29udGVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZ0J1aWxkZXIucHVzaChcIjwvZGl2PlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nYWNlX2xpbmUnIHN0eWxlPSdoZWlnaHQ6XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcubGluZUhlaWdodCwgXCJweCc+XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBzcGxpdCArKztcbiAgICAgICAgICAgICAgICAgICAgc2NyZWVuQ29sdW1uID0gMDtcbiAgICAgICAgICAgICAgICAgICAgc3BsaXRDaGFycyA9IHNwbGl0c1tzcGxpdF0gfHwgTnVtYmVyLk1BWF9WQUxVRTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCAhPSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYXJzICs9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgc2NyZWVuQ29sdW1uID0gdGhpcy4kcmVuZGVyVG9rZW4oXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmdCdWlsZGVyLCBzY3JlZW5Db2x1bW4sIHRva2VuLCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLiRyZW5kZXJTaW1wbGVMaW5lID0gZnVuY3Rpb24oc3RyaW5nQnVpbGRlciwgdG9rZW5zKSB7XG4gICAgICAgIHZhciBzY3JlZW5Db2x1bW4gPSAwO1xuICAgICAgICB2YXIgdG9rZW4gPSB0b2tlbnNbMF07XG4gICAgICAgIHZhciB2YWx1ZSA9IHRva2VuLnZhbHVlO1xuICAgICAgICBpZiAodGhpcy5kaXNwbGF5SW5kZW50R3VpZGVzKVxuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLnJlbmRlckluZGVudEd1aWRlKHN0cmluZ0J1aWxkZXIsIHZhbHVlKTtcbiAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICAgICAgc2NyZWVuQ29sdW1uID0gdGhpcy4kcmVuZGVyVG9rZW4oc3RyaW5nQnVpbGRlciwgc2NyZWVuQ29sdW1uLCB0b2tlbiwgdmFsdWUpO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgICAgICB2YWx1ZSA9IHRva2VuLnZhbHVlO1xuICAgICAgICAgICAgc2NyZWVuQ29sdW1uID0gdGhpcy4kcmVuZGVyVG9rZW4oc3RyaW5nQnVpbGRlciwgc2NyZWVuQ29sdW1uLCB0b2tlbiwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLiRyZW5kZXJMaW5lID0gZnVuY3Rpb24oc3RyaW5nQnVpbGRlciwgcm93LCBvbmx5Q29udGVudHMsIGZvbGRMaW5lKSB7XG4gICAgICAgIGlmICghZm9sZExpbmUgJiYgZm9sZExpbmUgIT0gZmFsc2UpXG4gICAgICAgICAgICBmb2xkTGluZSA9IHRoaXMuc2Vzc2lvbi5nZXRGb2xkTGluZShyb3cpO1xuXG4gICAgICAgIGlmIChmb2xkTGluZSlcbiAgICAgICAgICAgIHZhciB0b2tlbnMgPSB0aGlzLiRnZXRGb2xkTGluZVRva2Vucyhyb3csIGZvbGRMaW5lKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdmFyIHRva2VucyA9IHRoaXMuc2Vzc2lvbi5nZXRUb2tlbnMocm93KTtcblxuXG4gICAgICAgIGlmICghb25seUNvbnRlbnRzKSB7XG4gICAgICAgICAgICBzdHJpbmdCdWlsZGVyLnB1c2goXG4gICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdhY2VfbGluZScgc3R5bGU9J2hlaWdodDpcIiwgdGhpcy5jb25maWcubGluZUhlaWdodCwgXCJweCc+XCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHNwbGl0cyA9IHRoaXMuc2Vzc2lvbi5nZXRSb3dTcGxpdERhdGEocm93KTtcbiAgICAgICAgICAgIGlmIChzcGxpdHMgJiYgc3BsaXRzLmxlbmd0aClcbiAgICAgICAgICAgICAgICB0aGlzLiRyZW5kZXJXcmFwcGVkTGluZShzdHJpbmdCdWlsZGVyLCB0b2tlbnMsIHNwbGl0cywgb25seUNvbnRlbnRzKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLiRyZW5kZXJTaW1wbGVMaW5lKHN0cmluZ0J1aWxkZXIsIHRva2Vucyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zaG93SW52aXNpYmxlcykge1xuICAgICAgICAgICAgaWYgKGZvbGRMaW5lKVxuICAgICAgICAgICAgICAgIHJvdyA9IGZvbGRMaW5lLmVuZC5yb3dcblxuICAgICAgICAgICAgc3RyaW5nQnVpbGRlci5wdXNoKFxuICAgICAgICAgICAgICAgIFwiPHNwYW4gY2xhc3M9J2FjZV9pbnZpc2libGUnPlwiLFxuICAgICAgICAgICAgICAgIHJvdyA9PSB0aGlzLnNlc3Npb24uZ2V0TGVuZ3RoKCkgLSAxID8gdGhpcy5FT0ZfQ0hBUiA6IHRoaXMuRU9MX0NIQVIsXG4gICAgICAgICAgICAgICAgXCI8L3NwYW4+XCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvbmx5Q29udGVudHMpXG4gICAgICAgICAgICBzdHJpbmdCdWlsZGVyLnB1c2goXCI8L2Rpdj5cIik7XG4gICAgfTtcblxuICAgIHRoaXMuJGdldEZvbGRMaW5lVG9rZW5zID0gZnVuY3Rpb24ocm93LCBmb2xkTGluZSkge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgdmFyIHJlbmRlclRva2VucyA9IFtdO1xuXG4gICAgICAgIGZ1bmN0aW9uIGFkZFRva2Vucyh0b2tlbnMsIGZyb20sIHRvKSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0gMCwgY29sID0gMDtcbiAgICAgICAgICAgIHdoaWxlICgoY29sICsgdG9rZW5zW2lkeF0udmFsdWUubGVuZ3RoKSA8IGZyb20pIHtcbiAgICAgICAgICAgICAgICBjb2wgKz0gdG9rZW5zW2lkeF0udmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlkeCsrO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlkeCA9PSB0b2tlbnMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29sICE9IGZyb20pIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB0b2tlbnNbaWR4XS52YWx1ZS5zdWJzdHJpbmcoZnJvbSAtIGNvbCk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA+ICh0byAtIGZyb20pKVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygwLCB0byAtIGZyb20pO1xuXG4gICAgICAgICAgICAgICAgcmVuZGVyVG9rZW5zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0b2tlbnNbaWR4XS50eXBlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNvbCA9IGZyb20gKyB2YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaWR4ICs9IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdoaWxlIChjb2wgPCB0byAmJiBpZHggPCB0b2tlbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdG9rZW5zW2lkeF0udmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCArIGNvbCA+IHRvKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlclRva2Vucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHRva2Vuc1tpZHhdLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUuc3Vic3RyaW5nKDAsIHRvIC0gY29sKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyVG9rZW5zLnB1c2godG9rZW5zW2lkeF0pO1xuICAgICAgICAgICAgICAgIGNvbCArPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaWR4ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdG9rZW5zID0gc2Vzc2lvbi5nZXRUb2tlbnMocm93KTtcbiAgICAgICAgZm9sZExpbmUud2FsayhmdW5jdGlvbihwbGFjZWhvbGRlciwgcm93LCBjb2x1bW4sIGxhc3RDb2x1bW4sIGlzTmV3Um93KSB7XG4gICAgICAgICAgICBpZiAocGxhY2Vob2xkZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlbmRlclRva2Vucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJmb2xkXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBwbGFjZWhvbGRlclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNOZXdSb3cpXG4gICAgICAgICAgICAgICAgICAgIHRva2VucyA9IHNlc3Npb24uZ2V0VG9rZW5zKHJvdyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodG9rZW5zLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgYWRkVG9rZW5zKHRva2VucywgbGFzdENvbHVtbiwgY29sdW1uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZm9sZExpbmUuZW5kLnJvdywgdGhpcy5zZXNzaW9uLmdldExpbmUoZm9sZExpbmUuZW5kLnJvdykubGVuZ3RoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyVG9rZW5zO1xuICAgIH07XG5cbiAgICB0aGlzLiR1c2VMaW5lR3JvdXBzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24uZ2V0VXNlV3JhcE1vZGUoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy4kcG9sbFNpemVDaGFuZ2VzVGltZXIpO1xuICAgICAgICBpZiAodGhpcy4kbWVhc3VyZU5vZGUpXG4gICAgICAgICAgICB0aGlzLiRtZWFzdXJlTm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuJG1lYXN1cmVOb2RlKTtcbiAgICAgICAgZGVsZXRlIHRoaXMuJG1lYXN1cmVOb2RlO1xuICAgIH07XG5cbn0pLmNhbGwoVGV4dC5wcm90b3R5cGUpO1xuXG5leHBvcnRzLlRleHQgPSBUZXh0O1xuXG59KTtcblxuYWNlLmRlZmluZSgnYWNlL2xheWVyL2N1cnNvcicsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyAsICdhY2UvbGliL2RvbSddLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cblxudmFyIGRvbSA9IGFjZXF1aXJlKFwiLi4vbGliL2RvbVwiKTtcblxudmFyIEN1cnNvciA9IGZ1bmN0aW9uKHBhcmVudEVsKSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNlX2xheWVyIGFjZV9jdXJzb3ItbGF5ZXJcIjtcbiAgICBwYXJlbnRFbC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xuXG4gICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICB0aGlzLmlzQmxpbmtpbmcgPSB0cnVlO1xuICAgIHRoaXMuYmxpbmtJbnRlcnZhbCA9IDEwMDA7XG4gICAgdGhpcy5zbW9vdGhCbGlua2luZyA9IGZhbHNlO1xuXG4gICAgdGhpcy5jdXJzb3JzID0gW107XG4gICAgdGhpcy5jdXJzb3IgPSB0aGlzLmFkZEN1cnNvcigpO1xuICAgIGRvbS5hZGRDc3NDbGFzcyh0aGlzLmVsZW1lbnQsIFwiYWNlX2hpZGRlbi1jdXJzb3JzXCIpO1xufTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy4kcGFkZGluZyA9IDA7XG4gICAgdGhpcy5zZXRQYWRkaW5nID0gZnVuY3Rpb24ocGFkZGluZykge1xuICAgICAgICB0aGlzLiRwYWRkaW5nID0gcGFkZGluZztcbiAgICB9O1xuXG4gICAgdGhpcy5zZXRTZXNzaW9uID0gZnVuY3Rpb24oc2Vzc2lvbikge1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgIH07XG5cbiAgICB0aGlzLnNldEJsaW5raW5nID0gZnVuY3Rpb24oYmxpbmtpbmcpIHtcbiAgICAgICAgaWYgKGJsaW5raW5nICE9IHRoaXMuaXNCbGlua2luZyl7XG4gICAgICAgICAgICB0aGlzLmlzQmxpbmtpbmcgPSBibGlua2luZztcbiAgICAgICAgICAgIHRoaXMucmVzdGFydFRpbWVyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5zZXRCbGlua0ludGVydmFsID0gZnVuY3Rpb24oYmxpbmtJbnRlcnZhbCkge1xuICAgICAgICBpZiAoYmxpbmtJbnRlcnZhbCAhPSB0aGlzLmJsaW5rSW50ZXJ2YWwpe1xuICAgICAgICAgICAgdGhpcy5ibGlua0ludGVydmFsID0gYmxpbmtJbnRlcnZhbDtcbiAgICAgICAgICAgIHRoaXMucmVzdGFydFRpbWVyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5zZXRTbW9vdGhCbGlua2luZyA9IGZ1bmN0aW9uKHNtb290aEJsaW5raW5nKSB7XG4gICAgICAgIGlmIChzbW9vdGhCbGlua2luZyAhPSB0aGlzLnNtb290aEJsaW5raW5nKSB7XG4gICAgICAgICAgICB0aGlzLnNtb290aEJsaW5raW5nID0gc21vb3RoQmxpbmtpbmc7XG4gICAgICAgICAgICBpZiAoc21vb3RoQmxpbmtpbmcpXG4gICAgICAgICAgICAgICAgZG9tLmFkZENzc0NsYXNzKHRoaXMuZWxlbWVudCwgXCJhY2Vfc21vb3RoLWJsaW5raW5nXCIpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGRvbS5yZW1vdmVDc3NDbGFzcyh0aGlzLmVsZW1lbnQsIFwiYWNlX3Ntb290aC1ibGlua2luZ1wiKTtcbiAgICAgICAgICAgIHRoaXMucmVzdGFydFRpbWVyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5hZGRDdXJzb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGVsID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGVsLmNsYXNzTmFtZSA9IFwiYWNlX2N1cnNvclwiO1xuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICB0aGlzLmN1cnNvcnMucHVzaChlbCk7XG4gICAgICAgIHJldHVybiBlbDtcbiAgICB9O1xuXG4gICAgdGhpcy5yZW1vdmVDdXJzb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuY3Vyc29ycy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB2YXIgZWwgPSB0aGlzLmN1cnNvcnMucG9wKCk7XG4gICAgICAgICAgICBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtcbiAgICAgICAgICAgIHJldHVybiBlbDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmhpZGVDdXJzb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgZG9tLmFkZENzc0NsYXNzKHRoaXMuZWxlbWVudCwgXCJhY2VfaGlkZGVuLWN1cnNvcnNcIik7XG4gICAgICAgIHRoaXMucmVzdGFydFRpbWVyKCk7XG4gICAgfTtcblxuICAgIHRoaXMuc2hvd0N1cnNvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IHRydWU7XG4gICAgICAgIGRvbS5yZW1vdmVDc3NDbGFzcyh0aGlzLmVsZW1lbnQsIFwiYWNlX2hpZGRlbi1jdXJzb3JzXCIpO1xuICAgICAgICB0aGlzLnJlc3RhcnRUaW1lcigpO1xuICAgIH07XG5cbiAgICB0aGlzLnJlc3RhcnRUaW1lciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRJZCk7XG4gICAgICAgIGlmICh0aGlzLnNtb290aEJsaW5raW5nKVxuICAgICAgICAgICAgZG9tLnJlbW92ZUNzc0NsYXNzKHRoaXMuZWxlbWVudCwgXCJhY2Vfc21vb3RoLWJsaW5raW5nXCIpO1xuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5jdXJzb3JzLmxlbmd0aDsgaS0tOyApXG4gICAgICAgICAgICB0aGlzLmN1cnNvcnNbaV0uc3R5bGUub3BhY2l0eSA9IFwiXCI7XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzQmxpbmtpbmcgfHwgIXRoaXMuYmxpbmtJbnRlcnZhbCB8fCAhdGhpcy5pc1Zpc2libGUpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKHRoaXMuc21vb3RoQmxpbmtpbmcpXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgZG9tLmFkZENzc0NsYXNzKHRoaXMuZWxlbWVudCwgXCJhY2Vfc21vb3RoLWJsaW5raW5nXCIpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcblxuICAgICAgICB2YXIgYmxpbmsgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdGhpcy50aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSB0aGlzLmN1cnNvcnMubGVuZ3RoOyBpLS07ICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnNvcnNbaV0uc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpLCAwLjYgKiB0aGlzLmJsaW5rSW50ZXJ2YWwpO1xuICAgICAgICB9LmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5jdXJzb3JzLmxlbmd0aDsgaS0tOyApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvcnNbaV0uc3R5bGUub3BhY2l0eSA9IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBibGluaygpO1xuICAgICAgICB9LmJpbmQodGhpcyksIHRoaXMuYmxpbmtJbnRlcnZhbCk7XG5cbiAgICAgICAgYmxpbmsoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRQaXhlbFBvc2l0aW9uID0gZnVuY3Rpb24ocG9zaXRpb24sIG9uU2NyZWVuKSB7XG4gICAgICAgIGlmICghdGhpcy5jb25maWcgfHwgIXRoaXMuc2Vzc2lvbilcbiAgICAgICAgICAgIHJldHVybiB7bGVmdCA6IDAsIHRvcCA6IDB9O1xuXG4gICAgICAgIGlmICghcG9zaXRpb24pXG4gICAgICAgICAgICBwb3NpdGlvbiA9IHRoaXMuc2Vzc2lvbi5zZWxlY3Rpb24uZ2V0Q3Vyc29yKCk7XG4gICAgICAgIHZhciBwb3MgPSB0aGlzLnNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHBvc2l0aW9uKTtcbiAgICAgICAgdmFyIGN1cnNvckxlZnQgPSB0aGlzLiRwYWRkaW5nICsgcG9zLmNvbHVtbiAqIHRoaXMuY29uZmlnLmNoYXJhY3RlcldpZHRoO1xuICAgICAgICB2YXIgY3Vyc29yVG9wID0gKHBvcy5yb3cgLSAob25TY3JlZW4gPyB0aGlzLmNvbmZpZy5maXJzdFJvd1NjcmVlbiA6IDApKSAqXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5saW5lSGVpZ2h0O1xuXG4gICAgICAgIHJldHVybiB7bGVmdCA6IGN1cnNvckxlZnQsIHRvcCA6IGN1cnNvclRvcH07XG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlID0gZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuXG4gICAgICAgIHZhciBzZWxlY3Rpb25zID0gdGhpcy5zZXNzaW9uLiRzZWxlY3Rpb25NYXJrZXJzO1xuICAgICAgICB2YXIgaSA9IDAsIGN1cnNvckluZGV4ID0gMDtcblxuICAgICAgICBpZiAoc2VsZWN0aW9ucyA9PT0gdW5kZWZpbmVkIHx8IHNlbGVjdGlvbnMubGVuZ3RoID09PSAwKXtcbiAgICAgICAgICAgIHNlbGVjdGlvbnMgPSBbe2N1cnNvcjogbnVsbH1dO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIG4gPSBzZWxlY3Rpb25zLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgdmFyIHBpeGVsUG9zID0gdGhpcy5nZXRQaXhlbFBvc2l0aW9uKHNlbGVjdGlvbnNbaV0uY3Vyc29yLCB0cnVlKTtcbiAgICAgICAgICAgIGlmICgocGl4ZWxQb3MudG9wID4gY29uZmlnLmhlaWdodCArIGNvbmZpZy5vZmZzZXQgfHxcbiAgICAgICAgICAgICAgICAgcGl4ZWxQb3MudG9wIDwgLWNvbmZpZy5vZmZzZXQpICYmIGkgPiAxKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBzdHlsZSA9ICh0aGlzLmN1cnNvcnNbY3Vyc29ySW5kZXgrK10gfHwgdGhpcy5hZGRDdXJzb3IoKSkuc3R5bGU7XG5cbiAgICAgICAgICAgIHN0eWxlLmxlZnQgPSBwaXhlbFBvcy5sZWZ0ICsgXCJweFwiO1xuICAgICAgICAgICAgc3R5bGUudG9wID0gcGl4ZWxQb3MudG9wICsgXCJweFwiO1xuICAgICAgICAgICAgc3R5bGUud2lkdGggPSBjb25maWcuY2hhcmFjdGVyV2lkdGggKyBcInB4XCI7XG4gICAgICAgICAgICBzdHlsZS5oZWlnaHQgPSBjb25maWcubGluZUhlaWdodCArIFwicHhcIjtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAodGhpcy5jdXJzb3JzLmxlbmd0aCA+IGN1cnNvckluZGV4KVxuICAgICAgICAgICAgdGhpcy5yZW1vdmVDdXJzb3IoKTtcblxuICAgICAgICB2YXIgb3ZlcndyaXRlID0gdGhpcy5zZXNzaW9uLmdldE92ZXJ3cml0ZSgpO1xuICAgICAgICB0aGlzLiRzZXRPdmVyd3JpdGUob3ZlcndyaXRlKTtcbiAgICAgICAgdGhpcy4kcGl4ZWxQb3MgPSBwaXhlbFBvcztcbiAgICAgICAgdGhpcy5yZXN0YXJ0VGltZXIoKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kc2V0T3ZlcndyaXRlID0gZnVuY3Rpb24ob3ZlcndyaXRlKSB7XG4gICAgICAgIGlmIChvdmVyd3JpdGUgIT0gdGhpcy5vdmVyd3JpdGUpIHtcbiAgICAgICAgICAgIHRoaXMub3ZlcndyaXRlID0gb3ZlcndyaXRlO1xuICAgICAgICAgICAgaWYgKG92ZXJ3cml0ZSlcbiAgICAgICAgICAgICAgICBkb20uYWRkQ3NzQ2xhc3ModGhpcy5lbGVtZW50LCBcImFjZV9vdmVyd3JpdGUtY3Vyc29yc1wiKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBkb20ucmVtb3ZlQ3NzQ2xhc3ModGhpcy5lbGVtZW50LCBcImFjZV9vdmVyd3JpdGUtY3Vyc29yc1wiKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SWQpO1xuICAgIH07XG5cbn0pLmNhbGwoQ3Vyc29yLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuQ3Vyc29yID0gQ3Vyc29yO1xuXG59KTtcblxuYWNlLmRlZmluZSgnYWNlL3Njcm9sbGJhcicsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyAsICdhY2UvbGliL29vcCcsICdhY2UvbGliL2RvbScsICdhY2UvbGliL2V2ZW50JywgJ2FjZS9saWIvZXZlbnRfZW1pdHRlciddLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cblxudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi9saWIvb29wXCIpO1xudmFyIGRvbSA9IGFjZXF1aXJlKFwiLi9saWIvZG9tXCIpO1xudmFyIGV2ZW50ID0gYWNlcXVpcmUoXCIuL2xpYi9ldmVudFwiKTtcbnZhciBFdmVudEVtaXR0ZXIgPSBhY2VxdWlyZShcIi4vbGliL2V2ZW50X2VtaXR0ZXJcIikuRXZlbnRFbWl0dGVyO1xudmFyIFNjcm9sbEJhciA9IGZ1bmN0aW9uKHBhcmVudCkge1xuICAgIHRoaXMuZWxlbWVudCA9IGRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc05hbWUgPSBcImFjZV9zY3JvbGxiYXJcIjtcblxuICAgIHRoaXMuaW5uZXIgPSBkb20uY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLmlubmVyLmNsYXNzTmFtZSA9IFwiYWNlX3Njcm9sbGJhci1pbm5lclwiO1xuICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmlubmVyKTtcblxuICAgIHBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgIHRoaXMud2lkdGggPSBkb20uc2Nyb2xsYmFyV2lkdGgocGFyZW50Lm93bmVyRG9jdW1lbnQpO1xuICAgIHRoaXMuZWxlbWVudC5zdHlsZS53aWR0aCA9ICh0aGlzLndpZHRoIHx8IDE1KSArIDUgKyBcInB4XCI7XG5cbiAgICBldmVudC5hZGRMaXN0ZW5lcih0aGlzLmVsZW1lbnQsIFwic2Nyb2xsXCIsIHRoaXMub25TY3JvbGwuYmluZCh0aGlzKSk7XG59O1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpO1xuICAgIHRoaXMub25TY3JvbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNraXBFdmVudCkge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxUb3AgPSB0aGlzLmVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICAgICAgdGhpcy5fZW1pdChcInNjcm9sbFwiLCB7ZGF0YTogdGhpcy5zY3JvbGxUb3B9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNraXBFdmVudCA9IGZhbHNlO1xuICAgIH07XG4gICAgdGhpcy5nZXRXaWR0aCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aWR0aDtcbiAgICB9O1xuICAgIHRoaXMuc2V0SGVpZ2h0ID0gZnVuY3Rpb24oaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyBcInB4XCI7XG4gICAgfTtcbiAgICB0aGlzLnNldElubmVySGVpZ2h0ID0gZnVuY3Rpb24oaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuaW5uZXIuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgXCJweFwiO1xuICAgIH07XG4gICAgdGhpcy5zZXRTY3JvbGxUb3AgPSBmdW5jdGlvbihzY3JvbGxUb3ApIHtcbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsVG9wICE9IHNjcm9sbFRvcCkge1xuICAgICAgICAgICAgdGhpcy5za2lwRXZlbnQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxUb3AgPSB0aGlzLmVsZW1lbnQuc2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuICAgICAgICB9XG4gICAgfTtcblxufSkuY2FsbChTY3JvbGxCYXIucHJvdG90eXBlKTtcblxuZXhwb3J0cy5TY3JvbGxCYXIgPSBTY3JvbGxCYXI7XG59KTtcblxuYWNlLmRlZmluZSgnYWNlL3JlbmRlcmxvb3AnLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgLCAnYWNlL2xpYi9ldmVudCddLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cblxudmFyIGV2ZW50ID0gYWNlcXVpcmUoXCIuL2xpYi9ldmVudFwiKTtcblxuXG52YXIgUmVuZGVyTG9vcCA9IGZ1bmN0aW9uKG9uUmVuZGVyLCB3aW4pIHtcbiAgICB0aGlzLm9uUmVuZGVyID0gb25SZW5kZXI7XG4gICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgdGhpcy5jaGFuZ2VzID0gMDtcbiAgICB0aGlzLndpbmRvdyA9IHdpbiB8fCB3aW5kb3c7XG59O1xuXG4oZnVuY3Rpb24oKSB7XG5cblxuICAgIHRoaXMuc2NoZWR1bGUgPSBmdW5jdGlvbihjaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VzID0gdGhpcy5jaGFuZ2VzIHwgY2hhbmdlO1xuICAgICAgICBpZiAoIXRoaXMucGVuZGluZykge1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBfc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBldmVudC5uZXh0RnJhbWUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX3NlbGYucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBjaGFuZ2VzO1xuICAgICAgICAgICAgICAgIHdoaWxlIChjaGFuZ2VzID0gX3NlbGYuY2hhbmdlcykge1xuICAgICAgICAgICAgICAgICAgICBfc2VsZi5jaGFuZ2VzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgX3NlbGYub25SZW5kZXIoY2hhbmdlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgdGhpcy53aW5kb3cpO1xuICAgICAgICB9XG4gICAgfTtcblxufSkuY2FsbChSZW5kZXJMb29wLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuUmVuZGVyTG9vcCA9IFJlbmRlckxvb3A7XG59KTtcblxuYWNlLmRlZmluZSgnYWNlL211bHRpX3NlbGVjdCcsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyAsICdhY2UvcmFuZ2VfbGlzdCcsICdhY2UvcmFuZ2UnLCAnYWNlL3NlbGVjdGlvbicsICdhY2UvbW91c2UvbXVsdGlfc2VsZWN0X2hhbmRsZXInLCAnYWNlL2xpYi9ldmVudCcsICdhY2UvbGliL2xhbmcnLCAnYWNlL2NvbW1hbmRzL211bHRpX3NlbGVjdF9jb21tYW5kcycsICdhY2Uvc2VhcmNoJywgJ2FjZS9lZGl0X3Nlc3Npb24nLCAnYWNlL2VkaXRvciddLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cbnZhciBSYW5nZUxpc3QgPSBhY2VxdWlyZShcIi4vcmFuZ2VfbGlzdFwiKS5SYW5nZUxpc3Q7XG52YXIgUmFuZ2UgPSBhY2VxdWlyZShcIi4vcmFuZ2VcIikuUmFuZ2U7XG52YXIgU2VsZWN0aW9uID0gYWNlcXVpcmUoXCIuL3NlbGVjdGlvblwiKS5TZWxlY3Rpb247XG52YXIgb25Nb3VzZURvd24gPSBhY2VxdWlyZShcIi4vbW91c2UvbXVsdGlfc2VsZWN0X2hhbmRsZXJcIikub25Nb3VzZURvd247XG52YXIgZXZlbnQgPSBhY2VxdWlyZShcIi4vbGliL2V2ZW50XCIpO1xudmFyIGxhbmcgPSBhY2VxdWlyZShcIi4vbGliL2xhbmdcIik7XG52YXIgY29tbWFuZHMgPSBhY2VxdWlyZShcIi4vY29tbWFuZHMvbXVsdGlfc2VsZWN0X2NvbW1hbmRzXCIpO1xuZXhwb3J0cy5jb21tYW5kcyA9IGNvbW1hbmRzLmRlZmF1bHRDb21tYW5kcy5jb25jYXQoY29tbWFuZHMubXVsdGlTZWxlY3RDb21tYW5kcyk7XG52YXIgU2VhcmNoID0gYWNlcXVpcmUoXCIuL3NlYXJjaFwiKS5TZWFyY2g7XG52YXIgc2VhcmNoID0gbmV3IFNlYXJjaCgpO1xuXG5mdW5jdGlvbiBmaW5kKHNlc3Npb24sIG5lZWRsZSwgZGlyKSB7XG4gICAgc2VhcmNoLiRvcHRpb25zLndyYXAgPSB0cnVlO1xuICAgIHNlYXJjaC4kb3B0aW9ucy5uZWVkbGUgPSBuZWVkbGU7XG4gICAgc2VhcmNoLiRvcHRpb25zLmJhY2t3YXJkcyA9IGRpciA9PSAtMTtcbiAgICByZXR1cm4gc2VhcmNoLmZpbmQoc2Vzc2lvbik7XG59XG52YXIgRWRpdFNlc3Npb24gPSBhY2VxdWlyZShcIi4vZWRpdF9zZXNzaW9uXCIpLkVkaXRTZXNzaW9uO1xuKGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZ2V0U2VsZWN0aW9uTWFya2VycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kc2VsZWN0aW9uTWFya2VycztcbiAgICB9O1xufSkuY2FsbChFZGl0U2Vzc2lvbi5wcm90b3R5cGUpO1xuKGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmFuZ2VzID0gbnVsbDtcbiAgICB0aGlzLnJhbmdlTGlzdCA9IG51bGw7XG4gICAgdGhpcy5hZGRSYW5nZSA9IGZ1bmN0aW9uKHJhbmdlLCAkYmxvY2tDaGFuZ2VFdmVudHMpIHtcbiAgICAgICAgaWYgKCFyYW5nZSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBpZiAoIXRoaXMuaW5NdWx0aVNlbGVjdE1vZGUgJiYgdGhpcy5yYW5nZUNvdW50ID09IDApIHtcbiAgICAgICAgICAgIHZhciBvbGRSYW5nZSA9IHRoaXMudG9PcmllbnRlZFJhbmdlKCk7XG4gICAgICAgICAgICB0aGlzLnJhbmdlTGlzdC5hZGQob2xkUmFuZ2UpO1xuICAgICAgICAgICAgdGhpcy5yYW5nZUxpc3QuYWRkKHJhbmdlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJhbmdlTGlzdC5yYW5nZXMubGVuZ3RoICE9IDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJhbmdlTGlzdC5yZW1vdmVBbGwoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gJGJsb2NrQ2hhbmdlRXZlbnRzIHx8IHRoaXMuZnJvbU9yaWVudGVkUmFuZ2UocmFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yYW5nZUxpc3QucmVtb3ZlQWxsKCk7XG4gICAgICAgICAgICB0aGlzLnJhbmdlTGlzdC5hZGQob2xkUmFuZ2UpO1xuICAgICAgICAgICAgdGhpcy4kb25BZGRSYW5nZShvbGRSYW5nZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXJhbmdlLmN1cnNvcilcbiAgICAgICAgICAgIHJhbmdlLmN1cnNvciA9IHJhbmdlLmVuZDtcblxuICAgICAgICB2YXIgcmVtb3ZlZCA9IHRoaXMucmFuZ2VMaXN0LmFkZChyYW5nZSk7XG5cbiAgICAgICAgdGhpcy4kb25BZGRSYW5nZShyYW5nZSk7XG5cbiAgICAgICAgaWYgKHJlbW92ZWQubGVuZ3RoKVxuICAgICAgICAgICAgdGhpcy4kb25SZW1vdmVSYW5nZShyZW1vdmVkKTtcblxuICAgICAgICBpZiAodGhpcy5yYW5nZUNvdW50ID4gMSAmJiAhdGhpcy5pbk11bHRpU2VsZWN0TW9kZSkge1xuICAgICAgICAgICAgdGhpcy5fZW1pdChcIm11bHRpU2VsZWN0XCIpO1xuICAgICAgICAgICAgdGhpcy5pbk11bHRpU2VsZWN0TW9kZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24uJHVuZG9TZWxlY3QgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucmFuZ2VMaXN0LmF0dGFjaCh0aGlzLnNlc3Npb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICRibG9ja0NoYW5nZUV2ZW50cyB8fCB0aGlzLmZyb21PcmllbnRlZFJhbmdlKHJhbmdlKTtcbiAgICB9O1xuXG4gICAgdGhpcy50b1NpbmdsZVJhbmdlID0gZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgcmFuZ2UgPSByYW5nZSB8fCB0aGlzLnJhbmdlc1swXTtcbiAgICAgICAgdmFyIHJlbW92ZWQgPSB0aGlzLnJhbmdlTGlzdC5yZW1vdmVBbGwoKTtcbiAgICAgICAgaWYgKHJlbW92ZWQubGVuZ3RoKVxuICAgICAgICAgICAgdGhpcy4kb25SZW1vdmVSYW5nZShyZW1vdmVkKTtcblxuICAgICAgICByYW5nZSAmJiB0aGlzLmZyb21PcmllbnRlZFJhbmdlKHJhbmdlKTtcbiAgICB9O1xuICAgIHRoaXMuc3Vic3RyYWN0UG9pbnQgPSBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgdmFyIHJlbW92ZWQgPSB0aGlzLnJhbmdlTGlzdC5zdWJzdHJhY3RQb2ludChwb3MpO1xuICAgICAgICBpZiAocmVtb3ZlZCkge1xuICAgICAgICAgICAgdGhpcy4kb25SZW1vdmVSYW5nZShyZW1vdmVkKTtcbiAgICAgICAgICAgIHJldHVybiByZW1vdmVkWzBdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLm1lcmdlT3ZlcmxhcHBpbmdSYW5nZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlbW92ZWQgPSB0aGlzLnJhbmdlTGlzdC5tZXJnZSgpO1xuICAgICAgICBpZiAocmVtb3ZlZC5sZW5ndGgpXG4gICAgICAgICAgICB0aGlzLiRvblJlbW92ZVJhbmdlKHJlbW92ZWQpO1xuICAgICAgICBlbHNlIGlmKHRoaXMucmFuZ2VzWzBdKVxuICAgICAgICAgICAgdGhpcy5mcm9tT3JpZW50ZWRSYW5nZSh0aGlzLnJhbmdlc1swXSk7XG4gICAgfTtcblxuICAgIHRoaXMuJG9uQWRkUmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICB0aGlzLnJhbmdlQ291bnQgPSB0aGlzLnJhbmdlTGlzdC5yYW5nZXMubGVuZ3RoO1xuICAgICAgICB0aGlzLnJhbmdlcy51bnNoaWZ0KHJhbmdlKTtcbiAgICAgICAgdGhpcy5fZW1pdChcImFkZFJhbmdlXCIsIHtyYW5nZTogcmFuZ2V9KTtcbiAgICB9O1xuXG4gICAgdGhpcy4kb25SZW1vdmVSYW5nZSA9IGZ1bmN0aW9uKHJlbW92ZWQpIHtcbiAgICAgICAgdGhpcy5yYW5nZUNvdW50ID0gdGhpcy5yYW5nZUxpc3QucmFuZ2VzLmxlbmd0aDtcbiAgICAgICAgaWYgKHRoaXMucmFuZ2VDb3VudCA9PSAxICYmIHRoaXMuaW5NdWx0aVNlbGVjdE1vZGUpIHtcbiAgICAgICAgICAgIHZhciBsYXN0UmFuZ2UgPSB0aGlzLnJhbmdlTGlzdC5yYW5nZXMucG9wKCk7XG4gICAgICAgICAgICByZW1vdmVkLnB1c2gobGFzdFJhbmdlKTtcbiAgICAgICAgICAgIHRoaXMucmFuZ2VDb3VudCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gcmVtb3ZlZC5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLnJhbmdlcy5pbmRleE9mKHJlbW92ZWRbaV0pO1xuICAgICAgICAgICAgdGhpcy5yYW5nZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2VtaXQoXCJyZW1vdmVSYW5nZVwiLCB7cmFuZ2VzOiByZW1vdmVkfSk7XG5cbiAgICAgICAgaWYgKHRoaXMucmFuZ2VDb3VudCA9PSAwICYmIHRoaXMuaW5NdWx0aVNlbGVjdE1vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuaW5NdWx0aVNlbGVjdE1vZGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoXCJzaW5nbGVTZWxlY3RcIik7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24uJHVuZG9TZWxlY3QgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5yYW5nZUxpc3QuZGV0YWNoKHRoaXMuc2Vzc2lvbik7XG4gICAgICAgIH1cblxuICAgICAgICBsYXN0UmFuZ2UgPSBsYXN0UmFuZ2UgfHwgdGhpcy5yYW5nZXNbMF07XG4gICAgICAgIGlmIChsYXN0UmFuZ2UgJiYgIWxhc3RSYW5nZS5pc0VxdWFsKHRoaXMuZ2V0UmFuZ2UoKSkpXG4gICAgICAgICAgICB0aGlzLmZyb21PcmllbnRlZFJhbmdlKGxhc3RSYW5nZSk7XG4gICAgfTtcbiAgICB0aGlzLiRpbml0UmFuZ2VMaXN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnJhbmdlTGlzdClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB0aGlzLnJhbmdlTGlzdCA9IG5ldyBSYW5nZUxpc3QoKTtcbiAgICAgICAgdGhpcy5yYW5nZXMgPSBbXTtcbiAgICAgICAgdGhpcy5yYW5nZUNvdW50ID0gMDtcbiAgICB9O1xuICAgIHRoaXMuZ2V0QWxsUmFuZ2VzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhbmdlTGlzdC5yYW5nZXMuY29uY2F0KCk7XG4gICAgfTtcblxuICAgIHRoaXMuc3BsaXRJbnRvTGluZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJhbmdlQ291bnQgPiAxKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2VzID0gdGhpcy5yYW5nZUxpc3QucmFuZ2VzO1xuICAgICAgICAgICAgdmFyIGxhc3RSYW5nZSA9IHJhbmdlc1tyYW5nZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBSYW5nZS5mcm9tUG9pbnRzKHJhbmdlc1swXS5zdGFydCwgbGFzdFJhbmdlLmVuZCk7XG5cbiAgICAgICAgICAgIHRoaXMudG9TaW5nbGVSYW5nZSgpO1xuICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb25SYW5nZShyYW5nZSwgbGFzdFJhbmdlLmN1cnNvciA9PSBsYXN0UmFuZ2Uuc3RhcnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5nZXRSYW5nZSgpO1xuICAgICAgICAgICAgdmFyIGlzQmFja3dhcmRzID0gdGhpcy5pc0JhY2t3YXJkcygpO1xuICAgICAgICAgICAgdmFyIHN0YXJ0Um93ID0gcmFuZ2Uuc3RhcnQucm93O1xuICAgICAgICAgICAgdmFyIGVuZFJvdyA9IHJhbmdlLmVuZC5yb3c7XG4gICAgICAgICAgICBpZiAoc3RhcnRSb3cgPT0gZW5kUm93KSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzQmFja3dhcmRzKVxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSByYW5nZS5lbmQsIGVuZCA9IHJhbmdlLnN0YXJ0O1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gcmFuZ2Uuc3RhcnQsIGVuZCA9IHJhbmdlLmVuZDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFJhbmdlKFJhbmdlLmZyb21Qb2ludHMoZW5kLCBlbmQpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFJhbmdlKFJhbmdlLmZyb21Qb2ludHMoc3RhcnQsIHN0YXJ0KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcmVjdFNlbCA9IFtdO1xuICAgICAgICAgICAgdmFyIHIgPSB0aGlzLmdldExpbmVSYW5nZShzdGFydFJvdywgdHJ1ZSk7XG4gICAgICAgICAgICByLnN0YXJ0LmNvbHVtbiA9IHJhbmdlLnN0YXJ0LmNvbHVtbjtcbiAgICAgICAgICAgIHJlY3RTZWwucHVzaChyKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0Um93ICsgMTsgaSA8IGVuZFJvdzsgaSsrKVxuICAgICAgICAgICAgICAgIHJlY3RTZWwucHVzaCh0aGlzLmdldExpbmVSYW5nZShpLCB0cnVlKSk7XG5cbiAgICAgICAgICAgIHIgPSB0aGlzLmdldExpbmVSYW5nZShlbmRSb3csIHRydWUpO1xuICAgICAgICAgICAgci5lbmQuY29sdW1uID0gcmFuZ2UuZW5kLmNvbHVtbjtcbiAgICAgICAgICAgIHJlY3RTZWwucHVzaChyKTtcblxuICAgICAgICAgICAgcmVjdFNlbC5mb3JFYWNoKHRoaXMuYWRkUmFuZ2UsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnRvZ2dsZUJsb2NrU2VsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5yYW5nZUNvdW50ID4gMSkge1xuICAgICAgICAgICAgdmFyIHJhbmdlcyA9IHRoaXMucmFuZ2VMaXN0LnJhbmdlcztcbiAgICAgICAgICAgIHZhciBsYXN0UmFuZ2UgPSByYW5nZXNbcmFuZ2VzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhyYW5nZXNbMF0uc3RhcnQsIGxhc3RSYW5nZS5lbmQpO1xuXG4gICAgICAgICAgICB0aGlzLnRvU2luZ2xlUmFuZ2UoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0aW9uUmFuZ2UocmFuZ2UsIGxhc3RSYW5nZS5jdXJzb3IgPT0gbGFzdFJhbmdlLnN0YXJ0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjdXJzb3IgPSB0aGlzLnNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuc2VsZWN0aW9uTGVhZCk7XG4gICAgICAgICAgICB2YXIgYW5jaG9yID0gdGhpcy5zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLnNlbGVjdGlvbkFuY2hvcik7XG5cbiAgICAgICAgICAgIHZhciByZWN0U2VsID0gdGhpcy5yZWN0YW5ndWxhclJhbmdlQmxvY2soY3Vyc29yLCBhbmNob3IpO1xuICAgICAgICAgICAgcmVjdFNlbC5mb3JFYWNoKHRoaXMuYWRkUmFuZ2UsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnJlY3Rhbmd1bGFyUmFuZ2VCbG9jayA9IGZ1bmN0aW9uKHNjcmVlbkN1cnNvciwgc2NyZWVuQW5jaG9yLCBpbmNsdWRlRW1wdHlMaW5lcykge1xuICAgICAgICB2YXIgcmVjdFNlbCA9IFtdO1xuXG4gICAgICAgIHZhciB4QmFja3dhcmRzID0gc2NyZWVuQ3Vyc29yLmNvbHVtbiA8IHNjcmVlbkFuY2hvci5jb2x1bW47XG4gICAgICAgIGlmICh4QmFja3dhcmRzKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnRDb2x1bW4gPSBzY3JlZW5DdXJzb3IuY29sdW1uO1xuICAgICAgICAgICAgdmFyIGVuZENvbHVtbiA9IHNjcmVlbkFuY2hvci5jb2x1bW47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgc3RhcnRDb2x1bW4gPSBzY3JlZW5BbmNob3IuY29sdW1uO1xuICAgICAgICAgICAgdmFyIGVuZENvbHVtbiA9IHNjcmVlbkN1cnNvci5jb2x1bW47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeUJhY2t3YXJkcyA9IHNjcmVlbkN1cnNvci5yb3cgPCBzY3JlZW5BbmNob3Iucm93O1xuICAgICAgICBpZiAoeUJhY2t3YXJkcykge1xuICAgICAgICAgICAgdmFyIHN0YXJ0Um93ID0gc2NyZWVuQ3Vyc29yLnJvdztcbiAgICAgICAgICAgIHZhciBlbmRSb3cgPSBzY3JlZW5BbmNob3Iucm93O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHN0YXJ0Um93ID0gc2NyZWVuQW5jaG9yLnJvdztcbiAgICAgICAgICAgIHZhciBlbmRSb3cgPSBzY3JlZW5DdXJzb3Iucm93O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXJ0Q29sdW1uIDwgMClcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uID0gMDtcbiAgICAgICAgaWYgKHN0YXJ0Um93IDwgMClcbiAgICAgICAgICAgIHN0YXJ0Um93ID0gMDtcblxuICAgICAgICBpZiAoc3RhcnRSb3cgPT0gZW5kUm93KVxuICAgICAgICAgICAgaW5jbHVkZUVtcHR5TGluZXMgPSB0cnVlO1xuXG4gICAgICAgIGZvciAodmFyIHJvdyA9IHN0YXJ0Um93OyByb3cgPD0gZW5kUm93OyByb3crKykge1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb24uc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uKHJvdywgc3RhcnRDb2x1bW4pLFxuICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24ocm93LCBlbmRDb2x1bW4pXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHJhbmdlLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgIGlmIChkb2NFbmQgJiYgaXNTYW1lUG9pbnQocmFuZ2UuZW5kLCBkb2NFbmQpKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB2YXIgZG9jRW5kID0gcmFuZ2UuZW5kO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmFuZ2UuY3Vyc29yID0geEJhY2t3YXJkcyA/IHJhbmdlLnN0YXJ0IDogcmFuZ2UuZW5kO1xuICAgICAgICAgICAgcmVjdFNlbC5wdXNoKHJhbmdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh5QmFja3dhcmRzKVxuICAgICAgICAgICAgcmVjdFNlbC5yZXZlcnNlKCk7XG5cbiAgICAgICAgaWYgKCFpbmNsdWRlRW1wdHlMaW5lcykge1xuICAgICAgICAgICAgdmFyIGVuZCA9IHJlY3RTZWwubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHdoaWxlIChyZWN0U2VsW2VuZF0uaXNFbXB0eSgpICYmIGVuZCA+IDApXG4gICAgICAgICAgICAgICAgZW5kLS07XG4gICAgICAgICAgICBpZiAoZW5kID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IDA7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHJlY3RTZWxbc3RhcnRdLmlzRW1wdHkoKSlcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBlbmQ7IGkgPj0gc3RhcnQ7IGktLSkge1xuICAgICAgICAgICAgICAgIGlmIChyZWN0U2VsW2ldLmlzRW1wdHkoKSlcbiAgICAgICAgICAgICAgICAgICAgcmVjdFNlbC5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVjdFNlbDtcbiAgICB9O1xufSkuY2FsbChTZWxlY3Rpb24ucHJvdG90eXBlKTtcbnZhciBFZGl0b3IgPSBhY2VxdWlyZShcIi4vZWRpdG9yXCIpLkVkaXRvcjtcbihmdW5jdGlvbigpIHtcbiAgICB0aGlzLnVwZGF0ZVNlbGVjdGlvbk1hcmtlcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGVDdXJzb3IoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGVCYWNrTWFya2VycygpO1xuICAgIH07XG4gICAgdGhpcy5hZGRTZWxlY3Rpb25NYXJrZXIgPSBmdW5jdGlvbihvcmllbnRlZFJhbmdlKSB7XG4gICAgICAgIGlmICghb3JpZW50ZWRSYW5nZS5jdXJzb3IpXG4gICAgICAgICAgICBvcmllbnRlZFJhbmdlLmN1cnNvciA9IG9yaWVudGVkUmFuZ2UuZW5kO1xuXG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZ2V0U2VsZWN0aW9uU3R5bGUoKTtcbiAgICAgICAgb3JpZW50ZWRSYW5nZS5tYXJrZXIgPSB0aGlzLnNlc3Npb24uYWRkTWFya2VyKG9yaWVudGVkUmFuZ2UsIFwiYWNlX3NlbGVjdGlvblwiLCBzdHlsZSk7XG5cbiAgICAgICAgdGhpcy5zZXNzaW9uLiRzZWxlY3Rpb25NYXJrZXJzLnB1c2gob3JpZW50ZWRSYW5nZSk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5zZWxlY3Rpb25NYXJrZXJDb3VudCA9IHRoaXMuc2Vzc2lvbi4kc2VsZWN0aW9uTWFya2Vycy5sZW5ndGg7XG4gICAgICAgIHJldHVybiBvcmllbnRlZFJhbmdlO1xuICAgIH07XG4gICAgdGhpcy5yZW1vdmVTZWxlY3Rpb25NYXJrZXIgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICBpZiAoIXJhbmdlLm1hcmtlcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnJlbW92ZU1hcmtlcihyYW5nZS5tYXJrZXIpO1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLnNlc3Npb24uJHNlbGVjdGlvbk1hcmtlcnMuaW5kZXhPZihyYW5nZSk7XG4gICAgICAgIGlmIChpbmRleCAhPSAtMSlcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi4kc2VsZWN0aW9uTWFya2Vycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB0aGlzLnNlc3Npb24uc2VsZWN0aW9uTWFya2VyQ291bnQgPSB0aGlzLnNlc3Npb24uJHNlbGVjdGlvbk1hcmtlcnMubGVuZ3RoO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbW92ZVNlbGVjdGlvbk1hcmtlcnMgPSBmdW5jdGlvbihyYW5nZXMpIHtcbiAgICAgICAgdmFyIG1hcmtlckxpc3QgPSB0aGlzLnNlc3Npb24uJHNlbGVjdGlvbk1hcmtlcnM7XG4gICAgICAgIGZvciAodmFyIGkgPSByYW5nZXMubGVuZ3RoOyBpLS07ICkge1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gcmFuZ2VzW2ldO1xuICAgICAgICAgICAgaWYgKCFyYW5nZS5tYXJrZXIpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlTWFya2VyKHJhbmdlLm1hcmtlcik7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBtYXJrZXJMaXN0LmluZGV4T2YocmFuZ2UpO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9IC0xKVxuICAgICAgICAgICAgICAgIG1hcmtlckxpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlc3Npb24uc2VsZWN0aW9uTWFya2VyQ291bnQgPSBtYXJrZXJMaXN0Lmxlbmd0aDtcbiAgICB9O1xuXG4gICAgdGhpcy4kb25BZGRSYW5nZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdGhpcy5hZGRTZWxlY3Rpb25NYXJrZXIoZS5yYW5nZSk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlQ3Vyc29yKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlQmFja01hcmtlcnMoKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kb25SZW1vdmVSYW5nZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVTZWxlY3Rpb25NYXJrZXJzKGUucmFuZ2VzKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGVDdXJzb3IoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGVCYWNrTWFya2VycygpO1xuICAgIH07XG5cbiAgICB0aGlzLiRvbk11bHRpU2VsZWN0ID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAodGhpcy5pbk11bHRpU2VsZWN0TW9kZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5pbk11bHRpU2VsZWN0TW9kZSA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5zZXRTdHlsZShcImFjZV9tdWx0aXNlbGVjdFwiKTtcbiAgICAgICAgdGhpcy5rZXlCaW5kaW5nLmFkZEtleWJvYXJkSGFuZGxlcihjb21tYW5kcy5rZXlib2FyZEhhbmRsZXIpO1xuICAgICAgICB0aGlzLmNvbW1hbmRzLnNldERlZmF1bHRIYW5kbGVyKFwiZXhlY1wiLCB0aGlzLiRvbk11bHRpU2VsZWN0RXhlYyk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGVDdXJzb3IoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGVCYWNrTWFya2VycygpO1xuICAgIH07XG5cbiAgICB0aGlzLiRvblNpbmdsZVNlbGVjdCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbi5tdWx0aVNlbGVjdC5pblZpcnR1YWxNb2RlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLmluTXVsdGlTZWxlY3RNb2RlID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy51bnNldFN0eWxlKFwiYWNlX211bHRpc2VsZWN0XCIpO1xuICAgICAgICB0aGlzLmtleUJpbmRpbmcucmVtb3ZlS2V5Ym9hcmRIYW5kbGVyKGNvbW1hbmRzLmtleWJvYXJkSGFuZGxlcik7XG5cbiAgICAgICAgdGhpcy5jb21tYW5kcy5yZW1vdmVEZWZhdWx0SGFuZGxlcihcImV4ZWNcIiwgdGhpcy4kb25NdWx0aVNlbGVjdEV4ZWMpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnVwZGF0ZUN1cnNvcigpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnVwZGF0ZUJhY2tNYXJrZXJzKCk7XG4gICAgfTtcblxuICAgIHRoaXMuJG9uTXVsdGlTZWxlY3RFeGVjID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgY29tbWFuZCA9IGUuY29tbWFuZDtcbiAgICAgICAgdmFyIGVkaXRvciA9IGUuZWRpdG9yO1xuICAgICAgICBpZiAoIWVkaXRvci5tdWx0aVNlbGVjdClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKCFjb21tYW5kLm11bHRpU2VsZWN0QWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gY29tbWFuZC5leGVjKGVkaXRvciwgZS5hcmdzIHx8IHt9KTtcbiAgICAgICAgICAgIGVkaXRvci5tdWx0aVNlbGVjdC5hZGRSYW5nZShlZGl0b3IubXVsdGlTZWxlY3QudG9PcmllbnRlZFJhbmdlKCkpO1xuICAgICAgICAgICAgZWRpdG9yLm11bHRpU2VsZWN0Lm1lcmdlT3ZlcmxhcHBpbmdSYW5nZXMoKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb21tYW5kLm11bHRpU2VsZWN0QWN0aW9uID09IFwiZm9yRWFjaFwiKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBlZGl0b3IuZm9yRWFjaFNlbGVjdGlvbihjb21tYW5kLCBlLmFyZ3MpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbW1hbmQubXVsdGlTZWxlY3RBY3Rpb24gPT0gXCJmb3JFYWNoTGluZVwiKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBlZGl0b3IuZm9yRWFjaFNlbGVjdGlvbihjb21tYW5kLCBlLmFyZ3MsIHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbW1hbmQubXVsdGlTZWxlY3RBY3Rpb24gPT0gXCJzaW5nbGVcIikge1xuICAgICAgICAgICAgZWRpdG9yLmV4aXRNdWx0aVNlbGVjdE1vZGUoKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGNvbW1hbmQuZXhlYyhlZGl0b3IsIGUuYXJncyB8fCB7fSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBjb21tYW5kLm11bHRpU2VsZWN0QWN0aW9uKGVkaXRvciwgZS5hcmdzIHx8IHt9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07IFxuICAgIHRoaXMuZm9yRWFjaFNlbGVjdGlvbiA9IGZ1bmN0aW9uKGNtZCwgYXJncywgJGJ5TGluZXMpIHtcbiAgICAgICAgaWYgKHRoaXMuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMuc2VsZWN0aW9uO1xuICAgICAgICB2YXIgcmFuZ2VMaXN0ID0gc2VsZWN0aW9uLnJhbmdlTGlzdDtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgXG4gICAgICAgIHZhciByZWcgPSBzZWxlY3Rpb24uX2V2ZW50UmVnaXN0cnk7XG4gICAgICAgIHNlbGVjdGlvbi5fZXZlbnRSZWdpc3RyeSA9IHt9O1xuXG4gICAgICAgIHZhciB0bXBTZWwgPSBuZXcgU2VsZWN0aW9uKHNlc3Npb24pO1xuICAgICAgICB0aGlzLmluVmlydHVhbFNlbGVjdGlvbk1vZGUgPSB0cnVlO1xuICAgICAgICBmb3IgKHZhciBpID0gcmFuZ2VMaXN0LnJhbmdlcy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgICAgIGlmICgkYnlMaW5lcykge1xuICAgICAgICAgICAgICAgIHdoaWxlIChpID4gMCAmJiByYW5nZUxpc3QucmFuZ2VzW2ldLnN0YXJ0LnJvdyA9PSByYW5nZUxpc3QucmFuZ2VzW2kgLSAxXS5lbmQucm93KVxuICAgICAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0bXBTZWwuZnJvbU9yaWVudGVkUmFuZ2UocmFuZ2VMaXN0LnJhbmdlc1tpXSk7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbiA9IHNlc3Npb24uc2VsZWN0aW9uID0gdG1wU2VsO1xuICAgICAgICAgICAgdmFyIGNtZFJlc3VsdCA9IGNtZC5leGVjKHRoaXMsIGFyZ3MgfHwge30pO1xuICAgICAgICAgICAgaWYgKCFyZXN1bHQgPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGNtZFJlc3VsdDtcbiAgICAgICAgICAgIHRtcFNlbC50b09yaWVudGVkUmFuZ2UocmFuZ2VMaXN0LnJhbmdlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdG1wU2VsLmRldGFjaCgpO1xuXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uID0gc2Vzc2lvbi5zZWxlY3Rpb24gPSBzZWxlY3Rpb247XG4gICAgICAgIHRoaXMuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSA9IGZhbHNlO1xuICAgICAgICBzZWxlY3Rpb24uX2V2ZW50UmVnaXN0cnkgPSByZWc7XG4gICAgICAgIHNlbGVjdGlvbi5tZXJnZU92ZXJsYXBwaW5nUmFuZ2VzKCk7XG4gICAgICAgIFxuICAgICAgICB2YXIgYW5pbSA9IHRoaXMucmVuZGVyZXIuJHNjcm9sbEFuaW1hdGlvbjtcbiAgICAgICAgdGhpcy5vbkN1cnNvckNoYW5nZSgpO1xuICAgICAgICB0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlKCk7XG4gICAgICAgIGlmIChhbmltICYmIGFuaW0uZnJvbSA9PSBhbmltLnRvKVxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5hbmltYXRlU2Nyb2xsaW5nKGFuaW0uZnJvbSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgdGhpcy5leGl0TXVsdGlTZWxlY3RNb2RlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy5pbk11bHRpU2VsZWN0TW9kZSB8fCB0aGlzLmluVmlydHVhbFNlbGVjdGlvbk1vZGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMubXVsdGlTZWxlY3QudG9TaW5nbGVSYW5nZSgpO1xuICAgIH07XG5cbiAgICB0aGlzLmdldENvcHlUZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0ZXh0ID0gXCJcIjtcbiAgICAgICAgaWYgKHRoaXMuaW5NdWx0aVNlbGVjdE1vZGUgJiYgIXRoaXMuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSkge1xuICAgICAgICAgICAgdmFyIHJhbmdlcyA9IHRoaXMubXVsdGlTZWxlY3QucmFuZ2VMaXN0LnJhbmdlcztcbiAgICAgICAgICAgIHZhciBidWYgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYnVmLnB1c2godGhpcy5zZXNzaW9uLmdldFRleHRSYW5nZShyYW5nZXNbaV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBubCA9IHRoaXMuc2Vzc2lvbi5nZXREb2N1bWVudCgpLmdldE5ld0xpbmVDaGFyYWN0ZXIoKTtcbiAgICAgICAgICAgIHRleHQgPSBidWYuam9pbihubCk7XG4gICAgICAgICAgICBpZiAodGV4dC5sZW5ndGggPT0gKGJ1Zi5sZW5ndGggLSAxKSAqIG5sLmxlbmd0aClcbiAgICAgICAgICAgICAgICB0ZXh0ID0gXCJcIjtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICB0ZXh0ID0gdGhpcy5zZXNzaW9uLmdldFRleHRSYW5nZSh0aGlzLmdldFNlbGVjdGlvblJhbmdlKCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NpZ25hbChcImNvcHlcIiwgdGV4dCk7XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH07XG4gICAgdGhpcy5vblBhc3RlID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgICBpZiAodGhpcy4kcmVhZE9ubHkpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdGhpcy5fc2lnbmFsKFwicGFzdGVcIiwgdGV4dCk7XG4gICAgICAgIGlmICghdGhpcy5pbk11bHRpU2VsZWN0TW9kZSB8fCB0aGlzLmluVmlydHVhbFNlbGVjdGlvbk1vZGUpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnQodGV4dCk7XG5cbiAgICAgICAgdmFyIGxpbmVzID0gdGV4dC5zcGxpdCgvXFxyXFxufFxccnxcXG4vKTtcbiAgICAgICAgdmFyIHJhbmdlcyA9IHRoaXMuc2VsZWN0aW9uLnJhbmdlTGlzdC5yYW5nZXM7XG5cbiAgICAgICAgaWYgKGxpbmVzLmxlbmd0aCA+IHJhbmdlcy5sZW5ndGggfHwgbGluZXMubGVuZ3RoIDwgMiB8fCAhbGluZXNbMV0pXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb21tYW5kcy5leGVjKFwiaW5zZXJ0c3RyaW5nXCIsIHRoaXMsIHRleHQpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSByYW5nZXMubGVuZ3RoOyBpLS07KSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSByYW5nZXNbaV07XG4gICAgICAgICAgICBpZiAoIXJhbmdlLmlzRW1wdHkoKSlcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlKHJhbmdlKTtcblxuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLmluc2VydChyYW5nZS5zdGFydCwgbGluZXNbaV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmZpbmRBbGwgPSBmdW5jdGlvbihuZWVkbGUsIG9wdGlvbnMsIGFkZGl0aXZlKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBvcHRpb25zLm5lZWRsZSA9IG5lZWRsZSB8fCBvcHRpb25zLm5lZWRsZTtcbiAgICAgICAgdGhpcy4kc2VhcmNoLnNldChvcHRpb25zKTtcblxuICAgICAgICB2YXIgcmFuZ2VzID0gdGhpcy4kc2VhcmNoLmZpbmRBbGwodGhpcy5zZXNzaW9uKTtcbiAgICAgICAgaWYgKCFyYW5nZXMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIDA7XG5cbiAgICAgICAgdGhpcy4kYmxvY2tTY3JvbGxpbmcgKz0gMTtcbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMubXVsdGlTZWxlY3Q7XG5cbiAgICAgICAgaWYgKCFhZGRpdGl2ZSlcbiAgICAgICAgICAgIHNlbGVjdGlvbi50b1NpbmdsZVJhbmdlKHJhbmdlc1swXSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IHJhbmdlcy5sZW5ndGg7IGktLTsgKVxuICAgICAgICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlc1tpXSwgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy4kYmxvY2tTY3JvbGxpbmcgLT0gMTtcblxuICAgICAgICByZXR1cm4gcmFuZ2VzLmxlbmd0aDtcbiAgICB9O1xuICAgIHRoaXMuc2VsZWN0TW9yZUxpbmVzID0gZnVuY3Rpb24oZGlyLCBza2lwKSB7XG4gICAgICAgIHZhciByYW5nZSA9IHRoaXMuc2VsZWN0aW9uLnRvT3JpZW50ZWRSYW5nZSgpO1xuICAgICAgICB2YXIgaXNCYWNrd2FyZHMgPSByYW5nZS5jdXJzb3IgPT0gcmFuZ2UuZW5kO1xuXG4gICAgICAgIHZhciBzY3JlZW5MZWFkID0gdGhpcy5zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbihyYW5nZS5jdXJzb3IpO1xuICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb24uJGRlc2lyZWRDb2x1bW4pXG4gICAgICAgICAgICBzY3JlZW5MZWFkLmNvbHVtbiA9IHRoaXMuc2VsZWN0aW9uLiRkZXNpcmVkQ29sdW1uO1xuXG4gICAgICAgIHZhciBsZWFkID0gdGhpcy5zZXNzaW9uLnNjcmVlblRvRG9jdW1lbnRQb3NpdGlvbihzY3JlZW5MZWFkLnJvdyArIGRpciwgc2NyZWVuTGVhZC5jb2x1bW4pO1xuXG4gICAgICAgIGlmICghcmFuZ2UuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICB2YXIgc2NyZWVuQW5jaG9yID0gdGhpcy5zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbihpc0JhY2t3YXJkcyA/IHJhbmdlLmVuZCA6IHJhbmdlLnN0YXJ0KTtcbiAgICAgICAgICAgIHZhciBhbmNob3IgPSB0aGlzLnNlc3Npb24uc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uKHNjcmVlbkFuY2hvci5yb3cgKyBkaXIsIHNjcmVlbkFuY2hvci5jb2x1bW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGFuY2hvciA9IGxlYWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNCYWNrd2FyZHMpIHtcbiAgICAgICAgICAgIHZhciBuZXdSYW5nZSA9IFJhbmdlLmZyb21Qb2ludHMobGVhZCwgYW5jaG9yKTtcbiAgICAgICAgICAgIG5ld1JhbmdlLmN1cnNvciA9IG5ld1JhbmdlLnN0YXJ0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIG5ld1JhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhhbmNob3IsIGxlYWQpO1xuICAgICAgICAgICAgbmV3UmFuZ2UuY3Vyc29yID0gbmV3UmFuZ2UuZW5kO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3UmFuZ2UuZGVzaXJlZENvbHVtbiA9IHNjcmVlbkxlYWQuY29sdW1uO1xuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0aW9uLmluTXVsdGlTZWxlY3RNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoc2tpcClcbiAgICAgICAgICAgICAgICB2YXIgdG9SZW1vdmUgPSByYW5nZS5jdXJzb3I7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNlbGVjdGlvbi5hZGRSYW5nZShuZXdSYW5nZSk7XG4gICAgICAgIGlmICh0b1JlbW92ZSlcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnN1YnN0cmFjdFBvaW50KHRvUmVtb3ZlKTtcbiAgICB9O1xuICAgIHRoaXMudHJhbnNwb3NlU2VsZWN0aW9ucyA9IGZ1bmN0aW9uKGRpcikge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgdmFyIHNlbCA9IHNlc3Npb24ubXVsdGlTZWxlY3Q7XG4gICAgICAgIHZhciBhbGwgPSBzZWwucmFuZ2VzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBhbGwubGVuZ3RoOyBpLS07ICkge1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gYWxsW2ldO1xuICAgICAgICAgICAgaWYgKHJhbmdlLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgIHZhciB0bXAgPSBzZXNzaW9uLmdldFdvcmRSYW5nZShyYW5nZS5zdGFydC5yb3csIHJhbmdlLnN0YXJ0LmNvbHVtbik7XG4gICAgICAgICAgICAgICAgcmFuZ2Uuc3RhcnQucm93ID0gdG1wLnN0YXJ0LnJvdztcbiAgICAgICAgICAgICAgICByYW5nZS5zdGFydC5jb2x1bW4gPSB0bXAuc3RhcnQuY29sdW1uO1xuICAgICAgICAgICAgICAgIHJhbmdlLmVuZC5yb3cgPSB0bXAuZW5kLnJvdztcbiAgICAgICAgICAgICAgICByYW5nZS5lbmQuY29sdW1uID0gdG1wLmVuZC5jb2x1bW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2VsLm1lcmdlT3ZlcmxhcHBpbmdSYW5nZXMoKTtcblxuICAgICAgICB2YXIgd29yZHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IGFsbC5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBhbGxbaV07XG4gICAgICAgICAgICB3b3Jkcy51bnNoaWZ0KHNlc3Npb24uZ2V0VGV4dFJhbmdlKHJhbmdlKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlyIDwgMClcbiAgICAgICAgICAgIHdvcmRzLnVuc2hpZnQod29yZHMucG9wKCkpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB3b3Jkcy5wdXNoKHdvcmRzLnNoaWZ0KCkpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBhbGwubGVuZ3RoOyBpLS07ICkge1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gYWxsW2ldO1xuICAgICAgICAgICAgdmFyIHRtcCA9IHJhbmdlLmNsb25lKCk7XG4gICAgICAgICAgICBzZXNzaW9uLnJlcGxhY2UocmFuZ2UsIHdvcmRzW2ldKTtcbiAgICAgICAgICAgIHJhbmdlLnN0YXJ0LnJvdyA9IHRtcC5zdGFydC5yb3c7XG4gICAgICAgICAgICByYW5nZS5zdGFydC5jb2x1bW4gPSB0bXAuc3RhcnQuY29sdW1uO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnNlbGVjdE1vcmUgPSBmdW5jdGlvbihkaXIsIHNraXApIHtcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLnNlc3Npb247XG4gICAgICAgIHZhciBzZWwgPSBzZXNzaW9uLm11bHRpU2VsZWN0O1xuXG4gICAgICAgIHZhciByYW5nZSA9IHNlbC50b09yaWVudGVkUmFuZ2UoKTtcbiAgICAgICAgaWYgKHJhbmdlLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gc2Vzc2lvbi5nZXRXb3JkUmFuZ2UocmFuZ2Uuc3RhcnQucm93LCByYW5nZS5zdGFydC5jb2x1bW4pO1xuICAgICAgICAgICAgcmFuZ2UuY3Vyc29yID0gcmFuZ2UuZW5kO1xuICAgICAgICAgICAgdGhpcy5tdWx0aVNlbGVjdC5hZGRSYW5nZShyYW5nZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5lZWRsZSA9IHNlc3Npb24uZ2V0VGV4dFJhbmdlKHJhbmdlKTtcblxuICAgICAgICB2YXIgbmV3UmFuZ2UgPSBmaW5kKHNlc3Npb24sIG5lZWRsZSwgZGlyKTtcbiAgICAgICAgaWYgKG5ld1JhbmdlKSB7XG4gICAgICAgICAgICBuZXdSYW5nZS5jdXJzb3IgPSBkaXIgPT0gLTEgPyBuZXdSYW5nZS5zdGFydCA6IG5ld1JhbmdlLmVuZDtcbiAgICAgICAgICAgIHRoaXMubXVsdGlTZWxlY3QuYWRkUmFuZ2UobmV3UmFuZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChza2lwKVxuICAgICAgICAgICAgdGhpcy5tdWx0aVNlbGVjdC5zdWJzdHJhY3RQb2ludChyYW5nZS5jdXJzb3IpO1xuICAgIH07XG4gICAgdGhpcy5hbGlnbkN1cnNvcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLnNlc3Npb247XG4gICAgICAgIHZhciBzZWwgPSBzZXNzaW9uLm11bHRpU2VsZWN0O1xuICAgICAgICB2YXIgcmFuZ2VzID0gc2VsLnJhbmdlcztcblxuICAgICAgICBpZiAoIXJhbmdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCk7XG4gICAgICAgICAgICB2YXIgZnIgPSByYW5nZS5zdGFydC5yb3csIGxyID0gcmFuZ2UuZW5kLnJvdztcbiAgICAgICAgICAgIHZhciBsaW5lcyA9IHRoaXMuc2Vzc2lvbi5kb2MucmVtb3ZlTGluZXMoZnIsIGxyKTtcbiAgICAgICAgICAgIGxpbmVzID0gdGhpcy4kcmVBbGlnblRleHQobGluZXMpO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLmRvYy5pbnNlcnRMaW5lcyhmciwgbGluZXMpO1xuICAgICAgICAgICAgcmFuZ2Uuc3RhcnQuY29sdW1uID0gMDtcbiAgICAgICAgICAgIHJhbmdlLmVuZC5jb2x1bW4gPSBsaW5lc1tsaW5lcy5sZW5ndGggLSAxXS5sZW5ndGg7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5zZXRSYW5nZShyYW5nZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgcm93ID0gLTE7XG4gICAgICAgICAgICB2YXIgc2FtZVJvd1JhbmdlcyA9IHJhbmdlcy5maWx0ZXIoZnVuY3Rpb24ocikge1xuICAgICAgICAgICAgICAgIGlmIChyLmN1cnNvci5yb3cgPT0gcm93KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICByb3cgPSByLmN1cnNvci5yb3c7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNlbC4kb25SZW1vdmVSYW5nZShzYW1lUm93UmFuZ2VzKTtcblxuICAgICAgICAgICAgdmFyIG1heENvbCA9IDA7XG4gICAgICAgICAgICB2YXIgbWluU3BhY2UgPSBJbmZpbml0eTtcbiAgICAgICAgICAgIHZhciBzcGFjZU9mZnNldHMgPSByYW5nZXMubWFwKGZ1bmN0aW9uKHIpIHtcbiAgICAgICAgICAgICAgICB2YXIgcCA9IHIuY3Vyc29yO1xuICAgICAgICAgICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHAucm93KTtcbiAgICAgICAgICAgICAgICB2YXIgc3BhY2VPZmZzZXQgPSBsaW5lLnN1YnN0cihwLmNvbHVtbikuc2VhcmNoKC9cXFMvZyk7XG4gICAgICAgICAgICAgICAgaWYgKHNwYWNlT2Zmc2V0ID09IC0xKVxuICAgICAgICAgICAgICAgICAgICBzcGFjZU9mZnNldCA9IDA7XG5cbiAgICAgICAgICAgICAgICBpZiAocC5jb2x1bW4gPiBtYXhDb2wpXG4gICAgICAgICAgICAgICAgICAgIG1heENvbCA9IHAuY29sdW1uO1xuICAgICAgICAgICAgICAgIGlmIChzcGFjZU9mZnNldCA8IG1pblNwYWNlKVxuICAgICAgICAgICAgICAgICAgICBtaW5TcGFjZSA9IHNwYWNlT2Zmc2V0O1xuICAgICAgICAgICAgICAgIHJldHVybiBzcGFjZU9mZnNldDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmFuZ2VzLmZvckVhY2goZnVuY3Rpb24ociwgaSkge1xuICAgICAgICAgICAgICAgIHZhciBwID0gci5jdXJzb3I7XG4gICAgICAgICAgICAgICAgdmFyIGwgPSBtYXhDb2wgLSBwLmNvbHVtbjtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IHNwYWNlT2Zmc2V0c1tpXSAtIG1pblNwYWNlO1xuICAgICAgICAgICAgICAgIGlmIChsID4gZClcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5pbnNlcnQocCwgbGFuZy5zdHJpbmdSZXBlYXQoXCIgXCIsIGwgLSBkKSk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLnJlbW92ZShuZXcgUmFuZ2UocC5yb3csIHAuY29sdW1uLCBwLnJvdywgcC5jb2x1bW4gLSBsICsgZCkpO1xuXG4gICAgICAgICAgICAgICAgci5zdGFydC5jb2x1bW4gPSByLmVuZC5jb2x1bW4gPSBtYXhDb2w7XG4gICAgICAgICAgICAgICAgci5zdGFydC5yb3cgPSByLmVuZC5yb3cgPSBwLnJvdztcbiAgICAgICAgICAgICAgICByLmN1cnNvciA9IHIuZW5kO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZWwuZnJvbU9yaWVudGVkUmFuZ2UocmFuZ2VzWzBdKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlQ3Vyc29yKCk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnVwZGF0ZUJhY2tNYXJrZXJzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy4kcmVBbGlnblRleHQgPSBmdW5jdGlvbihsaW5lcykge1xuICAgICAgICB2YXIgaXNMZWZ0QWxpZ25lZCA9IHRydWUsIGlzUmlnaHRBbGlnbmVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIHN0YXJ0VywgdGV4dFcsIGVuZFc7XG5cbiAgICAgICAgcmV0dXJuIGxpbmVzLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICB2YXIgbSA9IGxpbmUubWF0Y2goLyhcXHMqKSguKj8pKFxccyopKFs9Ol0uKikvKTtcbiAgICAgICAgICAgIGlmICghbSlcbiAgICAgICAgICAgICAgICByZXR1cm4gW2xpbmVdO1xuXG4gICAgICAgICAgICBpZiAoc3RhcnRXID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzdGFydFcgPSBtWzFdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB0ZXh0VyA9IG1bMl0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGVuZFcgPSBtWzNdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICByZXR1cm4gbTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN0YXJ0VyArIHRleHRXICsgZW5kVyAhPSBtWzFdLmxlbmd0aCArIG1bMl0ubGVuZ3RoICsgbVszXS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgaXNSaWdodEFsaWduZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChzdGFydFcgIT0gbVsxXS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgaXNMZWZ0QWxpZ25lZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoc3RhcnRXID4gbVsxXS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgc3RhcnRXID0gbVsxXS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAodGV4dFcgPCBtWzJdLmxlbmd0aClcbiAgICAgICAgICAgICAgICB0ZXh0VyA9IG1bMl0ubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGVuZFcgPiBtWzNdLmxlbmd0aClcbiAgICAgICAgICAgICAgICBlbmRXID0gbVszXS5sZW5ndGg7XG5cbiAgICAgICAgICAgIHJldHVybiBtO1xuICAgICAgICB9KS5tYXAoaXNMZWZ0QWxpZ25lZCA/IGlzUmlnaHRBbGlnbmVkID8gYWxpZ25SaWdodCA6IGFsaWduTGVmdCA6IHVuQWxpZ24pO1xuXG4gICAgICAgIGZ1bmN0aW9uIHNwYWNlcyhuKSB7XG4gICAgICAgICAgICByZXR1cm4gbGFuZy5zdHJpbmdSZXBlYXQoXCIgXCIsIG4pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWxpZ25MZWZ0KG0pIHtcbiAgICAgICAgICAgIHJldHVybiAhbVsyXSA/IG1bMF0gOiBzcGFjZXMoc3RhcnRXKSArIG1bMl1cbiAgICAgICAgICAgICAgICArIHNwYWNlcyh0ZXh0VyAtIG1bMl0ubGVuZ3RoICsgZW5kVylcbiAgICAgICAgICAgICAgICArIG1bNF0ucmVwbGFjZSgvXihbPTpdKVxccysvLCBcIiQxIFwiKVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGFsaWduUmlnaHQobSkge1xuICAgICAgICAgICAgcmV0dXJuICFtWzJdID8gbVswXSA6IHNwYWNlcyhzdGFydFcgKyB0ZXh0VyAtIG1bMl0ubGVuZ3RoKSArIG1bMl1cbiAgICAgICAgICAgICAgICArIHNwYWNlcyhlbmRXLCBcIiBcIilcbiAgICAgICAgICAgICAgICArIG1bNF0ucmVwbGFjZSgvXihbPTpdKVxccysvLCBcIiQxIFwiKVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHVuQWxpZ24obSkge1xuICAgICAgICAgICAgcmV0dXJuICFtWzJdID8gbVswXSA6IHNwYWNlcyhzdGFydFcpICsgbVsyXVxuICAgICAgICAgICAgICAgICsgc3BhY2VzKGVuZFcpXG4gICAgICAgICAgICAgICAgKyBtWzRdLnJlcGxhY2UoL14oWz06XSlcXHMrLywgXCIkMSBcIilcbiAgICAgICAgfVxuICAgIH1cbn0pLmNhbGwoRWRpdG9yLnByb3RvdHlwZSk7XG5cblxuZnVuY3Rpb24gaXNTYW1lUG9pbnQocDEsIHAyKSB7XG4gICAgcmV0dXJuIHAxLnJvdyA9PSBwMi5yb3cgJiYgcDEuY29sdW1uID09IHAyLmNvbHVtbjtcbn1cbmV4cG9ydHMub25TZXNzaW9uQ2hhbmdlID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciBzZXNzaW9uID0gZS5zZXNzaW9uO1xuICAgIGlmICghc2Vzc2lvbi5tdWx0aVNlbGVjdCkge1xuICAgICAgICBzZXNzaW9uLiRzZWxlY3Rpb25NYXJrZXJzID0gW107XG4gICAgICAgIHNlc3Npb24uc2VsZWN0aW9uLiRpbml0UmFuZ2VMaXN0KCk7XG4gICAgICAgIHNlc3Npb24ubXVsdGlTZWxlY3QgPSBzZXNzaW9uLnNlbGVjdGlvbjtcbiAgICB9XG4gICAgdGhpcy5tdWx0aVNlbGVjdCA9IHNlc3Npb24ubXVsdGlTZWxlY3Q7XG5cbiAgICB2YXIgb2xkU2Vzc2lvbiA9IGUub2xkU2Vzc2lvbjtcbiAgICBpZiAob2xkU2Vzc2lvbikge1xuICAgICAgICBvbGRTZXNzaW9uLm11bHRpU2VsZWN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhZGRSYW5nZVwiLCB0aGlzLiRvbkFkZFJhbmdlKTtcbiAgICAgICAgb2xkU2Vzc2lvbi5tdWx0aVNlbGVjdC5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVtb3ZlUmFuZ2VcIiwgdGhpcy4kb25SZW1vdmVSYW5nZSk7XG4gICAgICAgIG9sZFNlc3Npb24ubXVsdGlTZWxlY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm11bHRpU2VsZWN0XCIsIHRoaXMuJG9uTXVsdGlTZWxlY3QpO1xuICAgICAgICBvbGRTZXNzaW9uLm11bHRpU2VsZWN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzaW5nbGVTZWxlY3RcIiwgdGhpcy4kb25TaW5nbGVTZWxlY3QpO1xuICAgIH1cblxuICAgIHNlc3Npb24ubXVsdGlTZWxlY3Qub24oXCJhZGRSYW5nZVwiLCB0aGlzLiRvbkFkZFJhbmdlKTtcbiAgICBzZXNzaW9uLm11bHRpU2VsZWN0Lm9uKFwicmVtb3ZlUmFuZ2VcIiwgdGhpcy4kb25SZW1vdmVSYW5nZSk7XG4gICAgc2Vzc2lvbi5tdWx0aVNlbGVjdC5vbihcIm11bHRpU2VsZWN0XCIsIHRoaXMuJG9uTXVsdGlTZWxlY3QpO1xuICAgIHNlc3Npb24ubXVsdGlTZWxlY3Qub24oXCJzaW5nbGVTZWxlY3RcIiwgdGhpcy4kb25TaW5nbGVTZWxlY3QpO1xuXG4gICAgaWYgKHRoaXMuaW5NdWx0aVNlbGVjdE1vZGUgIT0gc2Vzc2lvbi5zZWxlY3Rpb24uaW5NdWx0aVNlbGVjdE1vZGUpIHtcbiAgICAgICAgaWYgKHNlc3Npb24uc2VsZWN0aW9uLmluTXVsdGlTZWxlY3RNb2RlKVxuICAgICAgICAgICAgdGhpcy4kb25NdWx0aVNlbGVjdCgpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLiRvblNpbmdsZVNlbGVjdCgpO1xuICAgIH1cbn07XG5mdW5jdGlvbiBNdWx0aVNlbGVjdChlZGl0b3IpIHtcbiAgICBlZGl0b3IuJG9uQWRkUmFuZ2UgPSBlZGl0b3IuJG9uQWRkUmFuZ2UuYmluZChlZGl0b3IpO1xuICAgIGVkaXRvci4kb25SZW1vdmVSYW5nZSA9IGVkaXRvci4kb25SZW1vdmVSYW5nZS5iaW5kKGVkaXRvcik7XG4gICAgZWRpdG9yLiRvbk11bHRpU2VsZWN0ID0gZWRpdG9yLiRvbk11bHRpU2VsZWN0LmJpbmQoZWRpdG9yKTtcbiAgICBlZGl0b3IuJG9uU2luZ2xlU2VsZWN0ID0gZWRpdG9yLiRvblNpbmdsZVNlbGVjdC5iaW5kKGVkaXRvcik7XG5cbiAgICBleHBvcnRzLm9uU2Vzc2lvbkNoYW5nZS5jYWxsKGVkaXRvciwgZWRpdG9yKTtcbiAgICBlZGl0b3Iub24oXCJjaGFuZ2VTZXNzaW9uXCIsIGV4cG9ydHMub25TZXNzaW9uQ2hhbmdlLmJpbmQoZWRpdG9yKSk7XG5cbiAgICBlZGl0b3Iub24oXCJtb3VzZWRvd25cIiwgb25Nb3VzZURvd24pO1xuICAgIGVkaXRvci5jb21tYW5kcy5hZGRDb21tYW5kcyhjb21tYW5kcy5kZWZhdWx0Q29tbWFuZHMpO1xuXG4gICAgYWRkQWx0Q3Vyc29yTGlzdGVuZXJzKGVkaXRvcik7XG59XG5cbmZ1bmN0aW9uIGFkZEFsdEN1cnNvckxpc3RlbmVycyhlZGl0b3Ipe1xuICAgIHZhciBlbCA9IGVkaXRvci50ZXh0SW5wdXQuZ2V0RWxlbWVudCgpO1xuICAgIHZhciBhbHRDdXJzb3IgPSBmYWxzZTtcbiAgICB2YXIgY29udGVudEVsID0gZWRpdG9yLnJlbmRlcmVyLmNvbnRlbnQ7XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIoZWwsIFwia2V5ZG93blwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlLmtleUNvZGUgPT0gMTggJiYgIShlLmN0cmxLZXkgfHwgZS5zaGlmdEtleSB8fCBlLm1ldGFLZXkpKSB7XG4gICAgICAgICAgICBpZiAoIWFsdEN1cnNvcikge1xuICAgICAgICAgICAgICAgIGNvbnRlbnRFbC5zdHlsZS5jdXJzb3IgPSBcImNyb3NzaGFpclwiO1xuICAgICAgICAgICAgICAgIGFsdEN1cnNvciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYWx0Q3Vyc29yKSB7XG4gICAgICAgICAgICBjb250ZW50RWwuc3R5bGUuY3Vyc29yID0gXCJcIjtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgZXZlbnQuYWRkTGlzdGVuZXIoZWwsIFwia2V5dXBcIiwgcmVzZXQpO1xuICAgIGV2ZW50LmFkZExpc3RlbmVyKGVsLCBcImJsdXJcIiwgcmVzZXQpO1xuICAgIGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgICBpZiAoYWx0Q3Vyc29yKSB7XG4gICAgICAgICAgICBjb250ZW50RWwuc3R5bGUuY3Vyc29yID0gXCJcIjtcbiAgICAgICAgICAgIGFsdEN1cnNvciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnRzLk11bHRpU2VsZWN0ID0gTXVsdGlTZWxlY3Q7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKCdhY2UvbW91c2UvbXVsdGlfc2VsZWN0X2hhbmRsZXInLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgLCAnYWNlL2xpYi9ldmVudCddLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cbnZhciBldmVudCA9IGFjZXF1aXJlKFwiLi4vbGliL2V2ZW50XCIpO1xuZnVuY3Rpb24gaXNTYW1lUG9pbnQocDEsIHAyKSB7XG4gICAgcmV0dXJuIHAxLnJvdyA9PSBwMi5yb3cgJiYgcDEuY29sdW1uID09IHAyLmNvbHVtbjtcbn1cblxuZnVuY3Rpb24gb25Nb3VzZURvd24oZSkge1xuICAgIHZhciBldiA9IGUuZG9tRXZlbnQ7XG4gICAgdmFyIGFsdCA9IGV2LmFsdEtleTtcbiAgICB2YXIgc2hpZnQgPSBldi5zaGlmdEtleTtcbiAgICB2YXIgY3RybCA9IGUuZ2V0QWNjZWxLZXkoKTtcbiAgICB2YXIgYnV0dG9uID0gZS5nZXRCdXR0b24oKTtcblxuICAgIGlmIChlLmVkaXRvci5pbk11bHRpU2VsZWN0TW9kZSAmJiBidXR0b24gPT0gMikge1xuICAgICAgICBlLmVkaXRvci50ZXh0SW5wdXQub25Db250ZXh0TWVudShlLmRvbUV2ZW50KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBpZiAoIWN0cmwgJiYgIWFsdCkge1xuICAgICAgICBpZiAoYnV0dG9uID09IDAgJiYgZS5lZGl0b3IuaW5NdWx0aVNlbGVjdE1vZGUpXG4gICAgICAgICAgICBlLmVkaXRvci5leGl0TXVsdGlTZWxlY3RNb2RlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZWRpdG9yID0gZS5lZGl0b3I7XG4gICAgdmFyIHNlbGVjdGlvbiA9IGVkaXRvci5zZWxlY3Rpb247XG4gICAgdmFyIGlzTXVsdGlTZWxlY3QgPSBlZGl0b3IuaW5NdWx0aVNlbGVjdE1vZGU7XG4gICAgdmFyIHBvcyA9IGUuZ2V0RG9jdW1lbnRQb3NpdGlvbigpO1xuICAgIHZhciBjdXJzb3IgPSBzZWxlY3Rpb24uZ2V0Q3Vyc29yKCk7XG4gICAgdmFyIGluU2VsZWN0aW9uID0gZS5pblNlbGVjdGlvbigpIHx8IChzZWxlY3Rpb24uaXNFbXB0eSgpICYmIGlzU2FtZVBvaW50KHBvcywgY3Vyc29yKSk7XG5cblxuICAgIHZhciBtb3VzZVggPSBlLngsIG1vdXNlWSA9IGUueTtcbiAgICB2YXIgb25Nb3VzZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgbW91c2VYID0gZS5jbGllbnRYO1xuICAgICAgICBtb3VzZVkgPSBlLmNsaWVudFk7XG4gICAgfTtcblxuICAgIHZhciBibG9ja1NlbGVjdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbmV3Q3Vyc29yID0gZWRpdG9yLnJlbmRlcmVyLnBpeGVsVG9TY3JlZW5Db29yZGluYXRlcyhtb3VzZVgsIG1vdXNlWSk7XG4gICAgICAgIHZhciBjdXJzb3IgPSBzZXNzaW9uLnNjcmVlblRvRG9jdW1lbnRQb3NpdGlvbihuZXdDdXJzb3Iucm93LCBuZXdDdXJzb3IuY29sdW1uKTtcblxuICAgICAgICBpZiAoaXNTYW1lUG9pbnQoc2NyZWVuQ3Vyc29yLCBuZXdDdXJzb3IpXG4gICAgICAgICAgICAmJiBpc1NhbWVQb2ludChjdXJzb3IsIHNlbGVjdGlvbi5zZWxlY3Rpb25MZWFkKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgc2NyZWVuQ3Vyc29yID0gbmV3Q3Vyc29yO1xuXG4gICAgICAgIGVkaXRvci5zZWxlY3Rpb24ubW92ZUN1cnNvclRvUG9zaXRpb24oY3Vyc29yKTtcbiAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgICBlZGl0b3IucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcoKTtcblxuICAgICAgICBlZGl0b3IucmVtb3ZlU2VsZWN0aW9uTWFya2VycyhyZWN0U2VsKTtcbiAgICAgICAgcmVjdFNlbCA9IHNlbGVjdGlvbi5yZWN0YW5ndWxhclJhbmdlQmxvY2soc2NyZWVuQ3Vyc29yLCBzY3JlZW5BbmNob3IpO1xuICAgICAgICByZWN0U2VsLmZvckVhY2goZWRpdG9yLmFkZFNlbGVjdGlvbk1hcmtlciwgZWRpdG9yKTtcbiAgICAgICAgZWRpdG9yLnVwZGF0ZVNlbGVjdGlvbk1hcmtlcnMoKTtcbiAgICB9O1xuICAgIFxuICAgIHZhciBzZXNzaW9uID0gZWRpdG9yLnNlc3Npb247XG4gICAgdmFyIHNjcmVlbkFuY2hvciA9IGVkaXRvci5yZW5kZXJlci5waXhlbFRvU2NyZWVuQ29vcmRpbmF0ZXMobW91c2VYLCBtb3VzZVkpO1xuICAgIHZhciBzY3JlZW5DdXJzb3IgPSBzY3JlZW5BbmNob3I7XG5cbiAgICBcblxuICAgIGlmIChjdHJsICYmICFzaGlmdCAmJiAhYWx0ICYmIGJ1dHRvbiA9PSAwKSB7XG4gICAgICAgIGlmICghaXNNdWx0aVNlbGVjdCAmJiBpblNlbGVjdGlvbilcbiAgICAgICAgICAgIHJldHVybjsgLy8gZHJhZ2dpbmdcblxuICAgICAgICBpZiAoIWlzTXVsdGlTZWxlY3QpIHtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IHNlbGVjdGlvbi50b09yaWVudGVkUmFuZ2UoKTtcbiAgICAgICAgICAgIGVkaXRvci5hZGRTZWxlY3Rpb25NYXJrZXIocmFuZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG9sZFJhbmdlID0gc2VsZWN0aW9uLnJhbmdlTGlzdC5yYW5nZUF0UG9pbnQocG9zKTtcblxuICAgICAgICBlZGl0b3Iub25jZShcIm1vdXNldXBcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgdG1wU2VsID0gc2VsZWN0aW9uLnRvT3JpZW50ZWRSYW5nZSgpO1xuXG4gICAgICAgICAgICBpZiAob2xkUmFuZ2UgJiYgdG1wU2VsLmlzRW1wdHkoKSAmJiBpc1NhbWVQb2ludChvbGRSYW5nZS5jdXJzb3IsIHRtcFNlbC5jdXJzb3IpKVxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5zdWJzdHJhY3RQb2ludCh0bXBTZWwuY3Vyc29yKTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChyYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICBlZGl0b3IucmVtb3ZlU2VsZWN0aW9uTWFya2VyKHJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHRtcFNlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfSBlbHNlIGlmIChhbHQgJiYgYnV0dG9uID09IDApIHtcbiAgICAgICAgZS5zdG9wKCk7XG5cbiAgICAgICAgaWYgKGlzTXVsdGlTZWxlY3QgJiYgIWN0cmwpXG4gICAgICAgICAgICBzZWxlY3Rpb24udG9TaW5nbGVSYW5nZSgpO1xuICAgICAgICBlbHNlIGlmICghaXNNdWx0aVNlbGVjdCAmJiBjdHJsKVxuICAgICAgICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKCk7XG5cbiAgICAgICAgdmFyIHJlY3RTZWwgPSBbXTtcbiAgICAgICAgaWYgKHNoaWZ0KSB7XG4gICAgICAgICAgICBzY3JlZW5BbmNob3IgPSBzZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbihzZWxlY3Rpb24ubGVhZCk7XG4gICAgICAgICAgICBibG9ja1NlbGVjdCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZWN0aW9uLm1vdmVDdXJzb3JUb1Bvc2l0aW9uKHBvcyk7XG4gICAgICAgICAgICBzZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgdmFyIG9uTW91c2VTZWxlY3Rpb25FbmQgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xuICAgICAgICAgICAgZWRpdG9yLnJlbW92ZVNlbGVjdGlvbk1hcmtlcnMocmVjdFNlbCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlY3RTZWwubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJlY3RTZWxbaV0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBvblNlbGVjdGlvbkludGVydmFsID0gYmxvY2tTZWxlY3Q7XG5cbiAgICAgICAgZXZlbnQuY2FwdHVyZShlZGl0b3IuY29udGFpbmVyLCBvbk1vdXNlU2VsZWN0aW9uLCBvbk1vdXNlU2VsZWN0aW9uRW5kKTtcbiAgICAgICAgdmFyIHRpbWVySWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtvblNlbGVjdGlvbkludGVydmFsKCk7fSwgMjApO1xuXG4gICAgICAgIHJldHVybiBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxufVxuXG5cbmV4cG9ydHMub25Nb3VzZURvd24gPSBvbk1vdXNlRG93bjtcblxufSk7XG5cbmFjZS5kZWZpbmUoJ2FjZS9jb21tYW5kcy9tdWx0aV9zZWxlY3RfY29tbWFuZHMnLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgLCAnYWNlL2tleWJvYXJkL2hhc2hfaGFuZGxlciddLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5leHBvcnRzLmRlZmF1bHRDb21tYW5kcyA9IFt7XG4gICAgbmFtZTogXCJhZGRDdXJzb3JBYm92ZVwiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3Iuc2VsZWN0TW9yZUxpbmVzKC0xKTsgfSxcbiAgICBiaW5kS2V5OiB7d2luOiBcIkN0cmwtQWx0LVVwXCIsIG1hYzogXCJDdHJsLUFsdC1VcFwifSxcbiAgICByZWFkb25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwiYWRkQ3Vyc29yQmVsb3dcIixcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnNlbGVjdE1vcmVMaW5lcygxKTsgfSxcbiAgICBiaW5kS2V5OiB7d2luOiBcIkN0cmwtQWx0LURvd25cIiwgbWFjOiBcIkN0cmwtQWx0LURvd25cIn0sXG4gICAgcmVhZG9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImFkZEN1cnNvckFib3ZlU2tpcEN1cnJlbnRcIixcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnNlbGVjdE1vcmVMaW5lcygtMSwgdHJ1ZSk7IH0sXG4gICAgYmluZEtleToge3dpbjogXCJDdHJsLUFsdC1TaGlmdC1VcFwiLCBtYWM6IFwiQ3RybC1BbHQtU2hpZnQtVXBcIn0sXG4gICAgcmVhZG9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImFkZEN1cnNvckJlbG93U2tpcEN1cnJlbnRcIixcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnNlbGVjdE1vcmVMaW5lcygxLCB0cnVlKTsgfSxcbiAgICBiaW5kS2V5OiB7d2luOiBcIkN0cmwtQWx0LVNoaWZ0LURvd25cIiwgbWFjOiBcIkN0cmwtQWx0LVNoaWZ0LURvd25cIn0sXG4gICAgcmVhZG9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInNlbGVjdE1vcmVCZWZvcmVcIixcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnNlbGVjdE1vcmUoLTEpOyB9LFxuICAgIGJpbmRLZXk6IHt3aW46IFwiQ3RybC1BbHQtTGVmdFwiLCBtYWM6IFwiQ3RybC1BbHQtTGVmdFwifSxcbiAgICByZWFkb25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwic2VsZWN0TW9yZUFmdGVyXCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5zZWxlY3RNb3JlKDEpOyB9LFxuICAgIGJpbmRLZXk6IHt3aW46IFwiQ3RybC1BbHQtUmlnaHRcIiwgbWFjOiBcIkN0cmwtQWx0LVJpZ2h0XCJ9LFxuICAgIHJlYWRvbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJzZWxlY3ROZXh0QmVmb3JlXCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5zZWxlY3RNb3JlKC0xLCB0cnVlKTsgfSxcbiAgICBiaW5kS2V5OiB7d2luOiBcIkN0cmwtQWx0LVNoaWZ0LUxlZnRcIiwgbWFjOiBcIkN0cmwtQWx0LVNoaWZ0LUxlZnRcIn0sXG4gICAgcmVhZG9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInNlbGVjdE5leHRBZnRlclwiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3Iuc2VsZWN0TW9yZSgxLCB0cnVlKTsgfSxcbiAgICBiaW5kS2V5OiB7d2luOiBcIkN0cmwtQWx0LVNoaWZ0LVJpZ2h0XCIsIG1hYzogXCJDdHJsLUFsdC1TaGlmdC1SaWdodFwifSxcbiAgICByZWFkb25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwic3BsaXRJbnRvTGluZXNcIixcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLm11bHRpU2VsZWN0LnNwbGl0SW50b0xpbmVzKCk7IH0sXG4gICAgYmluZEtleToge3dpbjogXCJDdHJsLUFsdC1MXCIsIG1hYzogXCJDdHJsLUFsdC1MXCJ9LFxuICAgIHJlYWRvbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJhbGlnbkN1cnNvcnNcIixcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmFsaWduQ3Vyc29ycygpOyB9LFxuICAgIGJpbmRLZXk6IHt3aW46IFwiQ3RybC1BbHQtQVwiLCBtYWM6IFwiQ3RybC1BbHQtQVwifVxufV07XG5leHBvcnRzLm11bHRpU2VsZWN0Q29tbWFuZHMgPSBbe1xuICAgIG5hbWU6IFwic2luZ2xlU2VsZWN0aW9uXCIsXG4gICAgYmluZEtleTogXCJlc2NcIixcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmV4aXRNdWx0aVNlbGVjdE1vZGUoKTsgfSxcbiAgICByZWFkb25seTogdHJ1ZSxcbiAgICBpc0F2YWlsYWJsZTogZnVuY3Rpb24oZWRpdG9yKSB7cmV0dXJuIGVkaXRvciAmJiBlZGl0b3IuaW5NdWx0aVNlbGVjdE1vZGV9XG59XTtcblxudmFyIEhhc2hIYW5kbGVyID0gYWNlcXVpcmUoXCIuLi9rZXlib2FyZC9oYXNoX2hhbmRsZXJcIikuSGFzaEhhbmRsZXI7XG5leHBvcnRzLmtleWJvYXJkSGFuZGxlciA9IG5ldyBIYXNoSGFuZGxlcihleHBvcnRzLm11bHRpU2VsZWN0Q29tbWFuZHMpO1xuXG59KTtcblxuYWNlLmRlZmluZSgnYWNlL3dvcmtlci93b3JrZXJfY2xpZW50JywgW1wicmVxdWlyZVwiLCAnZXhwb3J0cycsICdtb2R1bGUnICwgJ2FjZS9saWIvb29wJywgJ2FjZS9saWIvZXZlbnRfZW1pdHRlcicsICdhY2UvY29uZmlnJ10sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuXG52YXIgb29wID0gYWNlcXVpcmUoXCIuLi9saWIvb29wXCIpO1xudmFyIEV2ZW50RW1pdHRlciA9IGFjZXF1aXJlKFwiLi4vbGliL2V2ZW50X2VtaXR0ZXJcIikuRXZlbnRFbWl0dGVyO1xudmFyIGNvbmZpZyA9IGFjZXF1aXJlKFwiLi4vY29uZmlnXCIpO1xuXG52YXIgV29ya2VyQ2xpZW50ID0gZnVuY3Rpb24odG9wTGV2ZWxOYW1lc3BhY2VzLCBtb2QsIGNsYXNzbmFtZSkge1xuICAgIHRoaXMuJHNlbmREZWx0YVF1ZXVlID0gdGhpcy4kc2VuZERlbHRhUXVldWUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNoYW5nZUxpc3RlbmVyID0gdGhpcy5jaGFuZ2VMaXN0ZW5lci5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25NZXNzYWdlID0gdGhpcy5vbk1lc3NhZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uRXJyb3IgPSB0aGlzLm9uRXJyb3IuYmluZCh0aGlzKTtcbiAgICBpZiAoYWNlcXVpcmUubmFtZVRvVXJsICYmICFhY2VxdWlyZS50b1VybClcbiAgICAgICAgYWNlcXVpcmUudG9VcmwgPSBhY2VxdWlyZS5uYW1lVG9Vcmw7XG5cbiAgICB2YXIgd29ya2VyVXJsO1xuICAgIGlmIChjb25maWcuZ2V0KFwicGFja2FnZWRcIikgfHwgIWFjZXF1aXJlLnRvVXJsKSB7XG4gICAgICAgIHdvcmtlclVybCA9IGNvbmZpZy5tb2R1bGVVcmwobW9kLmlkLCBcIndvcmtlclwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbm9ybWFsaXplUGF0aCA9IHRoaXMuJG5vcm1hbGl6ZVBhdGg7XG4gICAgICAgIHdvcmtlclVybCA9IG5vcm1hbGl6ZVBhdGgoYWNlcXVpcmUudG9VcmwoXCJhY2Uvd29ya2VyL3dvcmtlci5qc1wiLCBudWxsLCBcIl9cIikpO1xuXG4gICAgICAgIHZhciB0bG5zID0ge307XG4gICAgICAgIHRvcExldmVsTmFtZXNwYWNlcy5mb3JFYWNoKGZ1bmN0aW9uKG5zKSB7XG4gICAgICAgICAgICB0bG5zW25zXSA9IG5vcm1hbGl6ZVBhdGgoYWNlcXVpcmUudG9VcmwobnMsIG51bGwsIFwiX1wiKS5yZXBsYWNlKC8oXFwuanMpPyhcXD8uKik/JC8sIFwiXCIpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgICAgIHZhciB3b3JrZXJTcmMgPSBtb2Quc3JjO1xuICAgIHZhciBCbG9iID0gcmVxdWlyZSgndzNjLWJsb2InKTtcbiAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFsgd29ya2VyU3JjIF0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQnIH0pO1xuICAgIHZhciBibG9iVXJsID0gKHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTCkuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG4gICAgdGhpcy4kd29ya2VyID0gbmV3IFdvcmtlcihibG9iVXJsKTtcblxuICAgIHRoaXMuJHdvcmtlci5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGluaXQgOiB0cnVlLFxuICAgICAgICB0bG5zOiB0bG5zLFxuICAgICAgICBtb2R1bGU6IG1vZC5pZCxcbiAgICAgICAgY2xhc3NuYW1lOiBjbGFzc25hbWVcbiAgICB9KTtcblxuICAgIHRoaXMuY2FsbGJhY2tJZCA9IDE7XG4gICAgdGhpcy5jYWxsYmFja3MgPSB7fTtcblxuICAgIHRoaXMuJHdvcmtlci5vbmVycm9yID0gdGhpcy5vbkVycm9yO1xuICAgIHRoaXMuJHdvcmtlci5vbm1lc3NhZ2UgPSB0aGlzLm9uTWVzc2FnZTtcbn07XG5cbihmdW5jdGlvbigpe1xuXG4gICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpO1xuXG4gICAgdGhpcy5vbkVycm9yID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB3aW5kb3cuY29uc29sZSAmJiBjb25zb2xlLmxvZyAmJiBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgdGhyb3cgZTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbk1lc3NhZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBtc2cgPSBlLmRhdGE7XG4gICAgICAgIHN3aXRjaChtc2cudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcImxvZ1wiOlxuICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlICYmIGNvbnNvbGUubG9nICYmIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIG1zZy5kYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBcImV2ZW50XCI6XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdChtc2cubmFtZSwge2RhdGE6IG1zZy5kYXRhfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgXCJjYWxsXCI6XG4gICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gdGhpcy5jYWxsYmFja3NbbXNnLmlkXTtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobXNnLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5jYWxsYmFja3NbbXNnLmlkXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy4kbm9ybWFsaXplUGF0aCA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgaWYgKCFsb2NhdGlvbi5ob3N0KSAvLyBuZWVkZWQgZm9yIGZpbGU6Ly8gcHJvdG9jb2xcbiAgICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICBwYXRoID0gcGF0aC5yZXBsYWNlKC9eW2Etel0rOlxcL1xcL1teXFwvXSsvLCBcIlwiKTsgLy8gUmVtb3ZlIGRvbWFpbiBuYW1lIGFuZCByZWJ1aWxkIGl0XG4gICAgICAgIHBhdGggPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3RcbiAgICAgICAgICAgICsgKHBhdGguY2hhckF0KDApID09IFwiL1wiID8gXCJcIiA6IGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCJcIikpXG4gICAgICAgICAgICArIFwiL1wiICsgcGF0aC5yZXBsYWNlKC9eW1xcL10rLywgXCJcIik7XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgIH07XG5cbiAgICB0aGlzLnRlcm1pbmF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9lbWl0KFwidGVybWluYXRlXCIsIHt9KTtcbiAgICAgICAgdGhpcy4kd29ya2VyLnRlcm1pbmF0ZSgpO1xuICAgICAgICB0aGlzLiR3b3JrZXIgPSBudWxsO1xuICAgICAgICB0aGlzLiRkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCB0aGlzLmNoYW5nZUxpc3RlbmVyKTtcbiAgICAgICAgdGhpcy4kZG9jID0gbnVsbDtcbiAgICB9O1xuXG4gICAgdGhpcy5zZW5kID0gZnVuY3Rpb24oY21kLCBhcmdzKSB7XG4gICAgICAgIHRoaXMuJHdvcmtlci5wb3N0TWVzc2FnZSh7Y29tbWFuZDogY21kLCBhcmdzOiBhcmdzfSk7XG4gICAgfTtcblxuICAgIHRoaXMuY2FsbCA9IGZ1bmN0aW9uKGNtZCwgYXJncywgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSB0aGlzLmNhbGxiYWNrSWQrKztcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzW2lkXSA9IGNhbGxiYWNrO1xuICAgICAgICAgICAgYXJncy5wdXNoKGlkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlbmQoY21kLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgdGhpcy5lbWl0ID0gZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuJHdvcmtlci5wb3N0TWVzc2FnZSh7ZXZlbnQ6IGV2ZW50LCBkYXRhOiB7ZGF0YTogZGF0YS5kYXRhfX0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoKGV4KSB7fVxuICAgIH07XG5cbiAgICB0aGlzLmF0dGFjaFRvRG9jdW1lbnQgPSBmdW5jdGlvbihkb2MpIHtcbiAgICAgICAgaWYodGhpcy4kZG9jKVxuICAgICAgICAgICAgdGhpcy50ZXJtaW5hdGUoKTtcblxuICAgICAgICB0aGlzLiRkb2MgPSBkb2M7XG4gICAgICAgIHRoaXMuY2FsbChcInNldFZhbHVlXCIsIFtkb2MuZ2V0VmFsdWUoKV0pO1xuICAgICAgICBkb2Mub24oXCJjaGFuZ2VcIiwgdGhpcy5jaGFuZ2VMaXN0ZW5lcik7XG4gICAgfTtcblxuICAgIHRoaXMuY2hhbmdlTGlzdGVuZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICghdGhpcy5kZWx0YVF1ZXVlKSB7XG4gICAgICAgICAgICB0aGlzLmRlbHRhUXVldWUgPSBbZS5kYXRhXTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy4kc2VuZERlbHRhUXVldWUsIDEpO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIHRoaXMuZGVsdGFRdWV1ZS5wdXNoKGUuZGF0YSk7XG4gICAgfTtcblxuICAgIHRoaXMuJHNlbmREZWx0YVF1ZXVlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBxID0gdGhpcy5kZWx0YVF1ZXVlO1xuICAgICAgICBpZiAoIXEpIHJldHVybjtcbiAgICAgICAgdGhpcy5kZWx0YVF1ZXVlID0gbnVsbDtcbiAgICAgICAgaWYgKHEubGVuZ3RoID4gMjAgJiYgcS5sZW5ndGggPiB0aGlzLiRkb2MuZ2V0TGVuZ3RoKCkgPj4gMSkge1xuICAgICAgICAgICAgdGhpcy5jYWxsKFwic2V0VmFsdWVcIiwgW3RoaXMuJGRvYy5nZXRWYWx1ZSgpXSk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgdGhpcy5lbWl0KFwiY2hhbmdlXCIsIHtkYXRhOiBxfSk7XG4gICAgfVxuXG59KS5jYWxsKFdvcmtlckNsaWVudC5wcm90b3R5cGUpO1xuXG5cbnZhciBVSVdvcmtlckNsaWVudCA9IGZ1bmN0aW9uKHRvcExldmVsTmFtZXNwYWNlcywgbW9kLCBjbGFzc25hbWUpIHtcbiAgICB0aGlzLiRzZW5kRGVsdGFRdWV1ZSA9IHRoaXMuJHNlbmREZWx0YVF1ZXVlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5jaGFuZ2VMaXN0ZW5lciA9IHRoaXMuY2hhbmdlTGlzdGVuZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNhbGxiYWNrSWQgPSAxO1xuICAgIHRoaXMuY2FsbGJhY2tzID0ge307XG4gICAgdGhpcy5tZXNzYWdlQnVmZmVyID0gW107XG5cbiAgICB2YXIgbWFpbiA9IG51bGw7XG4gICAgdmFyIHNlbmRlciA9IE9iamVjdC5jcmVhdGUoRXZlbnRFbWl0dGVyKTtcbiAgICB2YXIgX3NlbGYgPSB0aGlzO1xuXG4gICAgdGhpcy4kd29ya2VyID0ge307XG4gICAgdGhpcy4kd29ya2VyLnRlcm1pbmF0ZSA9IGZ1bmN0aW9uKCkge307XG4gICAgdGhpcy4kd29ya2VyLnBvc3RNZXNzYWdlID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBfc2VsZi5tZXNzYWdlQnVmZmVyLnB1c2goZSk7XG4gICAgICAgIG1haW4gJiYgc2V0VGltZW91dChwcm9jZXNzTmV4dCk7XG4gICAgfTtcblxuICAgIHZhciBwcm9jZXNzTmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbXNnID0gX3NlbGYubWVzc2FnZUJ1ZmZlci5zaGlmdCgpO1xuICAgICAgICBpZiAobXNnLmNvbW1hbmQpXG4gICAgICAgICAgICBtYWluW21zZy5jb21tYW5kXS5hcHBseShtYWluLCBtc2cuYXJncyk7XG4gICAgICAgIGVsc2UgaWYgKG1zZy5ldmVudClcbiAgICAgICAgICAgIHNlbmRlci5fZW1pdChtc2cuZXZlbnQsIG1zZy5kYXRhKTtcbiAgICB9O1xuXG4gICAgc2VuZGVyLnBvc3RNZXNzYWdlID0gZnVuY3Rpb24obXNnKSB7XG4gICAgICAgIF9zZWxmLm9uTWVzc2FnZSh7ZGF0YTogbXNnfSk7XG4gICAgfTtcbiAgICBzZW5kZXIuY2FsbGJhY2sgPSBmdW5jdGlvbihkYXRhLCBjYWxsYmFja0lkKSB7XG4gICAgICAgIHRoaXMucG9zdE1lc3NhZ2Uoe3R5cGU6IFwiY2FsbFwiLCBpZDogY2FsbGJhY2tJZCwgZGF0YTogZGF0YX0pO1xuICAgIH07XG4gICAgc2VuZGVyLmVtaXQgPSBmdW5jdGlvbihuYW1lLCBkYXRhKSB7XG4gICAgICAgIHRoaXMucG9zdE1lc3NhZ2Uoe3R5cGU6IFwiZXZlbnRcIiwgbmFtZTogbmFtZSwgZGF0YTogZGF0YX0pO1xuICAgIH07XG5cbiAgICBjb25maWcubG9hZE1vZHVsZShbXCJ3b3JrZXJcIiwgbW9kXSwgZnVuY3Rpb24oTWFpbikge1xuICAgICAgICBtYWluID0gbmV3IE1haW5bY2xhc3NuYW1lXShzZW5kZXIpO1xuICAgICAgICB3aGlsZSAoX3NlbGYubWVzc2FnZUJ1ZmZlci5sZW5ndGgpXG4gICAgICAgICAgICBwcm9jZXNzTmV4dCgpO1xuICAgIH0pO1xufTtcblxuVUlXb3JrZXJDbGllbnQucHJvdG90eXBlID0gV29ya2VyQ2xpZW50LnByb3RvdHlwZTtcblxuZXhwb3J0cy5VSVdvcmtlckNsaWVudCA9IFVJV29ya2VyQ2xpZW50O1xuZXhwb3J0cy5Xb3JrZXJDbGllbnQgPSBXb3JrZXJDbGllbnQ7XG5cbn0pO1xuYWNlLmRlZmluZSgnYWNlL3BsYWNlaG9sZGVyJywgW1wicmVxdWlyZVwiLCAnZXhwb3J0cycsICdtb2R1bGUnICwgJ2FjZS9yYW5nZScsICdhY2UvbGliL2V2ZW50X2VtaXR0ZXInLCAnYWNlL2xpYi9vb3AnXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5cbnZhciBSYW5nZSA9IGFjZXF1aXJlKFwiLi9yYW5nZVwiKS5SYW5nZTtcbnZhciBFdmVudEVtaXR0ZXIgPSBhY2VxdWlyZShcIi4vbGliL2V2ZW50X2VtaXR0ZXJcIikuRXZlbnRFbWl0dGVyO1xudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi9saWIvb29wXCIpO1xuXG52YXIgUGxhY2VIb2xkZXIgPSBmdW5jdGlvbihzZXNzaW9uLCBsZW5ndGgsIHBvcywgb3RoZXJzLCBtYWluQ2xhc3MsIG90aGVyc0NsYXNzKSB7XG4gICAgdmFyIF9zZWxmID0gdGhpcztcbiAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgIHRoaXMuZG9jID0gc2Vzc2lvbi5nZXREb2N1bWVudCgpO1xuICAgIHRoaXMubWFpbkNsYXNzID0gbWFpbkNsYXNzO1xuICAgIHRoaXMub3RoZXJzQ2xhc3MgPSBvdGhlcnNDbGFzcztcbiAgICB0aGlzLiRvblVwZGF0ZSA9IHRoaXMub25VcGRhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmRvYy5vbihcImNoYW5nZVwiLCB0aGlzLiRvblVwZGF0ZSk7XG4gICAgdGhpcy4kb3RoZXJzID0gb3RoZXJzO1xuICAgIFxuICAgIHRoaXMuJG9uQ3Vyc29yQ2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBfc2VsZi5vbkN1cnNvckNoYW5nZSgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuJHBvcyA9IHBvcztcbiAgICB2YXIgdW5kb1N0YWNrID0gc2Vzc2lvbi5nZXRVbmRvTWFuYWdlcigpLiR1bmRvU3RhY2sgfHwgc2Vzc2lvbi5nZXRVbmRvTWFuYWdlcigpLiR1bmRvc3RhY2sgfHwge2xlbmd0aDogLTF9O1xuICAgIHRoaXMuJHVuZG9TdGFja0RlcHRoID0gIHVuZG9TdGFjay5sZW5ndGg7XG4gICAgdGhpcy5zZXR1cCgpO1xuXG4gICAgc2Vzc2lvbi5zZWxlY3Rpb24ub24oXCJjaGFuZ2VDdXJzb3JcIiwgdGhpcy4kb25DdXJzb3JDaGFuZ2UpO1xufTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpO1xuICAgIHRoaXMuc2V0dXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGRvYyA9IHRoaXMuZG9jO1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgdmFyIHBvcyA9IHRoaXMuJHBvcztcblxuICAgICAgICB0aGlzLnBvcyA9IGRvYy5jcmVhdGVBbmNob3IocG9zLnJvdywgcG9zLmNvbHVtbik7XG4gICAgICAgIHRoaXMubWFya2VySWQgPSBzZXNzaW9uLmFkZE1hcmtlcihuZXcgUmFuZ2UocG9zLnJvdywgcG9zLmNvbHVtbiwgcG9zLnJvdywgcG9zLmNvbHVtbiArIHRoaXMubGVuZ3RoKSwgdGhpcy5tYWluQ2xhc3MsIG51bGwsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5wb3Mub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHNlc3Npb24ucmVtb3ZlTWFya2VyKF9zZWxmLm1hcmtlcklkKTtcbiAgICAgICAgICAgIF9zZWxmLm1hcmtlcklkID0gc2Vzc2lvbi5hZGRNYXJrZXIobmV3IFJhbmdlKGV2ZW50LnZhbHVlLnJvdywgZXZlbnQudmFsdWUuY29sdW1uLCBldmVudC52YWx1ZS5yb3csIGV2ZW50LnZhbHVlLmNvbHVtbitfc2VsZi5sZW5ndGgpLCBfc2VsZi5tYWluQ2xhc3MsIG51bGwsIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub3RoZXJzID0gW107XG4gICAgICAgIHRoaXMuJG90aGVycy5mb3JFYWNoKGZ1bmN0aW9uKG90aGVyKSB7XG4gICAgICAgICAgICB2YXIgYW5jaG9yID0gZG9jLmNyZWF0ZUFuY2hvcihvdGhlci5yb3csIG90aGVyLmNvbHVtbik7XG4gICAgICAgICAgICBfc2VsZi5vdGhlcnMucHVzaChhbmNob3IpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2Vzc2lvbi5zZXRVbmRvU2VsZWN0KGZhbHNlKTtcbiAgICB9O1xuICAgIHRoaXMuc2hvd090aGVyTWFya2VycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZih0aGlzLm90aGVyc0FjdGl2ZSkgcmV0dXJuO1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5vdGhlcnNBY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLm90aGVycy5mb3JFYWNoKGZ1bmN0aW9uKGFuY2hvcikge1xuICAgICAgICAgICAgYW5jaG9yLm1hcmtlcklkID0gc2Vzc2lvbi5hZGRNYXJrZXIobmV3IFJhbmdlKGFuY2hvci5yb3csIGFuY2hvci5jb2x1bW4sIGFuY2hvci5yb3csIGFuY2hvci5jb2x1bW4rX3NlbGYubGVuZ3RoKSwgX3NlbGYub3RoZXJzQ2xhc3MsIG51bGwsIGZhbHNlKTtcbiAgICAgICAgICAgIGFuY2hvci5vbihcImNoYW5nZVwiLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIHNlc3Npb24ucmVtb3ZlTWFya2VyKGFuY2hvci5tYXJrZXJJZCk7XG4gICAgICAgICAgICAgICAgYW5jaG9yLm1hcmtlcklkID0gc2Vzc2lvbi5hZGRNYXJrZXIobmV3IFJhbmdlKGV2ZW50LnZhbHVlLnJvdywgZXZlbnQudmFsdWUuY29sdW1uLCBldmVudC52YWx1ZS5yb3csIGV2ZW50LnZhbHVlLmNvbHVtbitfc2VsZi5sZW5ndGgpLCBfc2VsZi5vdGhlcnNDbGFzcywgbnVsbCwgZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5oaWRlT3RoZXJNYXJrZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKCF0aGlzLm90aGVyc0FjdGl2ZSkgcmV0dXJuO1xuICAgICAgICB0aGlzLm90aGVyc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub3RoZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlTWFya2VyKHRoaXMub3RoZXJzW2ldLm1hcmtlcklkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5vblVwZGF0ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIHZhciBkZWx0YSA9IGV2ZW50LmRhdGE7XG4gICAgICAgIHZhciByYW5nZSA9IGRlbHRhLnJhbmdlO1xuICAgICAgICBpZihyYW5nZS5zdGFydC5yb3cgIT09IHJhbmdlLmVuZC5yb3cpIHJldHVybjtcbiAgICAgICAgaWYocmFuZ2Uuc3RhcnQucm93ICE9PSB0aGlzLnBvcy5yb3cpIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMuJHVwZGF0aW5nKSByZXR1cm47XG4gICAgICAgIHRoaXMuJHVwZGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgdmFyIGxlbmd0aERpZmYgPSBkZWx0YS5hY3Rpb24gPT09IFwiaW5zZXJ0VGV4dFwiID8gcmFuZ2UuZW5kLmNvbHVtbiAtIHJhbmdlLnN0YXJ0LmNvbHVtbiA6IHJhbmdlLnN0YXJ0LmNvbHVtbiAtIHJhbmdlLmVuZC5jb2x1bW47XG4gICAgICAgIFxuICAgICAgICBpZihyYW5nZS5zdGFydC5jb2x1bW4gPj0gdGhpcy5wb3MuY29sdW1uICYmIHJhbmdlLnN0YXJ0LmNvbHVtbiA8PSB0aGlzLnBvcy5jb2x1bW4gKyB0aGlzLmxlbmd0aCArIDEpIHtcbiAgICAgICAgICAgIHZhciBkaXN0YW5jZUZyb21TdGFydCA9IHJhbmdlLnN0YXJ0LmNvbHVtbiAtIHRoaXMucG9zLmNvbHVtbjtcbiAgICAgICAgICAgIHRoaXMubGVuZ3RoICs9IGxlbmd0aERpZmY7XG4gICAgICAgICAgICBpZighdGhpcy5zZXNzaW9uLiRmcm9tVW5kbykge1xuICAgICAgICAgICAgICAgIGlmKGRlbHRhLmFjdGlvbiA9PT0gXCJpbnNlcnRUZXh0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMub3RoZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3RoZXJQb3MgPSB0aGlzLm90aGVyc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdQb3MgPSB7cm93OiBvdGhlclBvcy5yb3csIGNvbHVtbjogb3RoZXJQb3MuY29sdW1uICsgZGlzdGFuY2VGcm9tU3RhcnR9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYob3RoZXJQb3Mucm93ID09PSByYW5nZS5zdGFydC5yb3cgJiYgcmFuZ2Uuc3RhcnQuY29sdW1uIDwgb3RoZXJQb3MuY29sdW1uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Bvcy5jb2x1bW4gKz0gbGVuZ3RoRGlmZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG9jLmluc2VydChuZXdQb3MsIGRlbHRhLnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKGRlbHRhLmFjdGlvbiA9PT0gXCJyZW1vdmVUZXh0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMub3RoZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3RoZXJQb3MgPSB0aGlzLm90aGVyc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdQb3MgPSB7cm93OiBvdGhlclBvcy5yb3csIGNvbHVtbjogb3RoZXJQb3MuY29sdW1uICsgZGlzdGFuY2VGcm9tU3RhcnR9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYob3RoZXJQb3Mucm93ID09PSByYW5nZS5zdGFydC5yb3cgJiYgcmFuZ2Uuc3RhcnQuY29sdW1uIDwgb3RoZXJQb3MuY29sdW1uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Bvcy5jb2x1bW4gKz0gbGVuZ3RoRGlmZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG9jLnJlbW92ZShuZXcgUmFuZ2UobmV3UG9zLnJvdywgbmV3UG9zLmNvbHVtbiwgbmV3UG9zLnJvdywgbmV3UG9zLmNvbHVtbiAtIGxlbmd0aERpZmYpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZihyYW5nZS5zdGFydC5jb2x1bW4gPT09IHRoaXMucG9zLmNvbHVtbiAmJiBkZWx0YS5hY3Rpb24gPT09IFwiaW5zZXJ0VGV4dFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcy5zZXRQb3NpdGlvbih0aGlzLnBvcy5yb3csIHRoaXMucG9zLmNvbHVtbiAtIGxlbmd0aERpZmYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm90aGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdGhlciA9IHRoaXMub3RoZXJzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdQb3MgPSB7cm93OiBvdGhlci5yb3csIGNvbHVtbjogb3RoZXIuY29sdW1uIC0gbGVuZ3RoRGlmZn07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYob3RoZXIucm93ID09PSByYW5nZS5zdGFydC5yb3cgJiYgcmFuZ2Uuc3RhcnQuY29sdW1uIDwgb3RoZXIuY29sdW1uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQb3MuY29sdW1uICs9IGxlbmd0aERpZmY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXIuc2V0UG9zaXRpb24obmV3UG9zLnJvdywgbmV3UG9zLmNvbHVtbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYocmFuZ2Uuc3RhcnQuY29sdW1uID09PSB0aGlzLnBvcy5jb2x1bW4gJiYgZGVsdGEuYWN0aW9uID09PSBcInJlbW92ZVRleHRcIikge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm90aGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdGhlciA9IHRoaXMub3RoZXJzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKG90aGVyLnJvdyA9PT0gcmFuZ2Uuc3RhcnQucm93ICYmIHJhbmdlLnN0YXJ0LmNvbHVtbiA8IG90aGVyLmNvbHVtbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlci5zZXRQb3NpdGlvbihvdGhlci5yb3csIG90aGVyLmNvbHVtbiAtIGxlbmd0aERpZmYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpLCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBvcy5fZW1pdChcImNoYW5nZVwiLCB7dmFsdWU6IHRoaXMucG9zfSk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub3RoZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vdGhlcnNbaV0uX2VtaXQoXCJjaGFuZ2VcIiwge3ZhbHVlOiB0aGlzLm90aGVyc1tpXX0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuJHVwZGF0aW5nID0gZmFsc2U7XG4gICAgfTtcblxuICAgIHRoaXMub25DdXJzb3JDaGFuZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBpZiAodGhpcy4kdXBkYXRpbmcpIHJldHVybjtcbiAgICAgICAgdmFyIHBvcyA9IHRoaXMuc2Vzc2lvbi5zZWxlY3Rpb24uZ2V0Q3Vyc29yKCk7XG4gICAgICAgIGlmKHBvcy5yb3cgPT09IHRoaXMucG9zLnJvdyAmJiBwb3MuY29sdW1uID49IHRoaXMucG9zLmNvbHVtbiAmJiBwb3MuY29sdW1uIDw9IHRoaXMucG9zLmNvbHVtbiArIHRoaXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnNob3dPdGhlck1hcmtlcnMoKTtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoXCJjdXJzb3JFbnRlclwiLCBldmVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhpZGVPdGhlck1hcmtlcnMoKTtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoXCJjdXJzb3JMZWF2ZVwiLCBldmVudCk7XG4gICAgICAgIH1cbiAgICB9OyAgICBcbiAgICB0aGlzLmRldGFjaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlTWFya2VyKHRoaXMubWFya2VySWQpO1xuICAgICAgICB0aGlzLmhpZGVPdGhlck1hcmtlcnMoKTtcbiAgICAgICAgdGhpcy5kb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCB0aGlzLiRvblVwZGF0ZSk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5zZWxlY3Rpb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZUN1cnNvclwiLCB0aGlzLiRvbkN1cnNvckNoYW5nZSk7XG4gICAgICAgIHRoaXMucG9zLmRldGFjaCgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub3RoZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLm90aGVyc1tpXS5kZXRhY2goKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlc3Npb24uc2V0VW5kb1NlbGVjdCh0cnVlKTtcbiAgICB9O1xuICAgIHRoaXMuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKHRoaXMuJHVuZG9TdGFja0RlcHRoID09PSAtMSlcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiQ2FuY2VsaW5nIHBsYWNlaG9sZGVycyBvbmx5IHN1cHBvcnRlZCB3aXRoIHVuZG8gbWFuYWdlciBhdHRhY2hlZCB0byBzZXNzaW9uLlwiKTtcbiAgICAgICAgdmFyIHVuZG9NYW5hZ2VyID0gdGhpcy5zZXNzaW9uLmdldFVuZG9NYW5hZ2VyKCk7XG4gICAgICAgIHZhciB1bmRvc1JlcXVpcmVkID0gKHVuZG9NYW5hZ2VyLiR1bmRvU3RhY2sgfHwgdW5kb01hbmFnZXIuJHVuZG9zdGFjaykubGVuZ3RoIC0gdGhpcy4kdW5kb1N0YWNrRGVwdGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdW5kb3NSZXF1aXJlZDsgaSsrKSB7XG4gICAgICAgICAgICB1bmRvTWFuYWdlci51bmRvKHRydWUpO1xuICAgICAgICB9XG4gICAgfTtcbn0pLmNhbGwoUGxhY2VIb2xkZXIucHJvdG90eXBlKTtcblxuXG5leHBvcnRzLlBsYWNlSG9sZGVyID0gUGxhY2VIb2xkZXI7XG59KTtcblxuYWNlLmRlZmluZSgnYWNlL21vZGUvZm9sZGluZy9mb2xkX21vZGUnLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgLCAnYWNlL3JhbmdlJ10sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuXG52YXIgUmFuZ2UgPSBhY2VxdWlyZShcIi4uLy4uL3JhbmdlXCIpLlJhbmdlO1xuXG52YXIgRm9sZE1vZGUgPSBleHBvcnRzLkZvbGRNb2RlID0gZnVuY3Rpb24oKSB7fTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy5mb2xkaW5nU3RhcnRNYXJrZXIgPSBudWxsO1xuICAgIHRoaXMuZm9sZGluZ1N0b3BNYXJrZXIgPSBudWxsO1xuICAgIHRoaXMuZ2V0Rm9sZFdpZGdldCA9IGZ1bmN0aW9uKHNlc3Npb24sIGZvbGRTdHlsZSwgcm93KSB7XG4gICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7XG4gICAgICAgIGlmICh0aGlzLmZvbGRpbmdTdGFydE1hcmtlci50ZXN0KGxpbmUpKVxuICAgICAgICAgICAgcmV0dXJuIFwic3RhcnRcIjtcbiAgICAgICAgaWYgKGZvbGRTdHlsZSA9PSBcIm1hcmtiZWdpbmVuZFwiXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5mb2xkaW5nU3RvcE1hcmtlclxuICAgICAgICAgICAgICAgICYmIHRoaXMuZm9sZGluZ1N0b3BNYXJrZXIudGVzdChsaW5lKSlcbiAgICAgICAgICAgIHJldHVybiBcImVuZFwiO1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2UgPSBmdW5jdGlvbihzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgdGhpcy5pbmRlbnRhdGlvbkJsb2NrID0gZnVuY3Rpb24oc2Vzc2lvbiwgcm93LCBjb2x1bW4pIHtcbiAgICAgICAgdmFyIHJlID0gL1xcUy87XG4gICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7XG4gICAgICAgIHZhciBzdGFydExldmVsID0gbGluZS5zZWFyY2gocmUpO1xuICAgICAgICBpZiAoc3RhcnRMZXZlbCA9PSAtMSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgc3RhcnRDb2x1bW4gPSBjb2x1bW4gfHwgbGluZS5sZW5ndGg7XG4gICAgICAgIHZhciBtYXhSb3cgPSBzZXNzaW9uLmdldExlbmd0aCgpO1xuICAgICAgICB2YXIgc3RhcnRSb3cgPSByb3c7XG4gICAgICAgIHZhciBlbmRSb3cgPSByb3c7XG5cbiAgICAgICAgd2hpbGUgKCsrcm93IDwgbWF4Um93KSB7XG4gICAgICAgICAgICB2YXIgbGV2ZWwgPSBzZXNzaW9uLmdldExpbmUocm93KS5zZWFyY2gocmUpO1xuXG4gICAgICAgICAgICBpZiAobGV2ZWwgPT0gLTEpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIGlmIChsZXZlbCA8PSBzdGFydExldmVsKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBlbmRSb3cgPSByb3c7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW5kUm93ID4gc3RhcnRSb3cpIHtcbiAgICAgICAgICAgIHZhciBlbmRDb2x1bW4gPSBzZXNzaW9uLmdldExpbmUoZW5kUm93KS5sZW5ndGg7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0Um93LCBzdGFydENvbHVtbiwgZW5kUm93LCBlbmRDb2x1bW4pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMub3BlbmluZ0JyYWNrZXRCbG9jayA9IGZ1bmN0aW9uKHNlc3Npb24sIGJyYWNrZXQsIHJvdywgY29sdW1uLCB0eXBlUmUpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0ge3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbiArIDF9O1xuICAgICAgICB2YXIgZW5kID0gc2Vzc2lvbi4kZmluZENsb3NpbmdCcmFja2V0KGJyYWNrZXQsIHN0YXJ0LCB0eXBlUmUpO1xuICAgICAgICBpZiAoIWVuZClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgZncgPSBzZXNzaW9uLmZvbGRXaWRnZXRzW2VuZC5yb3ddO1xuICAgICAgICBpZiAoZncgPT0gbnVsbClcbiAgICAgICAgICAgIGZ3ID0gdGhpcy5nZXRGb2xkV2lkZ2V0KHNlc3Npb24sIGVuZC5yb3cpO1xuXG4gICAgICAgIGlmIChmdyA9PSBcInN0YXJ0XCIgJiYgZW5kLnJvdyA+IHN0YXJ0LnJvdykge1xuICAgICAgICAgICAgZW5kLnJvdyAtLTtcbiAgICAgICAgICAgIGVuZC5jb2x1bW4gPSBzZXNzaW9uLmdldExpbmUoZW5kLnJvdykubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0LCBlbmQpO1xuICAgIH07XG5cbiAgICB0aGlzLmNsb3NpbmdCcmFja2V0QmxvY2sgPSBmdW5jdGlvbihzZXNzaW9uLCBicmFja2V0LCByb3csIGNvbHVtbiwgdHlwZVJlKSB7XG4gICAgICAgIHZhciBlbmQgPSB7cm93OiByb3csIGNvbHVtbjogY29sdW1ufTtcbiAgICAgICAgdmFyIHN0YXJ0ID0gc2Vzc2lvbi4kZmluZE9wZW5pbmdCcmFja2V0KGJyYWNrZXQsIGVuZCk7XG5cbiAgICAgICAgaWYgKCFzdGFydClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBzdGFydC5jb2x1bW4rKztcbiAgICAgICAgZW5kLmNvbHVtbi0tO1xuXG4gICAgICAgIHJldHVybiAgUmFuZ2UuZnJvbVBvaW50cyhzdGFydCwgZW5kKTtcbiAgICB9O1xufSkuY2FsbChGb2xkTW9kZS5wcm90b3R5cGUpO1xuXG59KTtcblxuYWNlLmRlZmluZSgnYWNlL3RoZW1lL3RleHRtYXRlJywgW1wicmVxdWlyZVwiLCAnZXhwb3J0cycsICdtb2R1bGUnICwgJ2FjZS9saWIvZG9tJ10sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuXG5leHBvcnRzLmlzRGFyayA9IGZhbHNlO1xuZXhwb3J0cy5jc3NDbGFzcyA9IFwiYWNlLXRtXCI7XG5leHBvcnRzLmNzc1RleHQgPSBcIi5hY2UtdG0gLmFjZV9ndXR0ZXIge1xcXG5iYWNrZ3JvdW5kOiAjZjBmMGYwO1xcXG5jb2xvcjogIzMzMztcXFxufVxcXG4uYWNlLXRtIC5hY2VfcHJpbnQtbWFyZ2luIHtcXFxud2lkdGg6IDFweDtcXFxuYmFja2dyb3VuZDogI2U4ZThlODtcXFxufVxcXG4uYWNlLXRtIC5hY2VfZm9sZCB7XFxcbmJhY2tncm91bmQtY29sb3I6ICM2QjcyRTY7XFxcbn1cXFxuLmFjZS10bSB7XFxcbmJhY2tncm91bmQtY29sb3I6ICNGRkZGRkY7XFxcbn1cXFxuLmFjZS10bSAuYWNlX2N1cnNvciB7XFxcbmJvcmRlci1sZWZ0OiAycHggc29saWQgYmxhY2s7XFxcbn1cXFxuLmFjZS10bSAuYWNlX292ZXJ3cml0ZS1jdXJzb3JzIC5hY2VfY3Vyc29yIHtcXFxuYm9yZGVyLWxlZnQ6IDBweDtcXFxuYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIGJsYWNrO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9pbnZpc2libGUge1xcXG5jb2xvcjogcmdiKDE5MSwgMTkxLCAxOTEpO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9zdG9yYWdlLFxcXG4uYWNlLXRtIC5hY2Vfa2V5d29yZCB7XFxcbmNvbG9yOiBibHVlO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9jb25zdGFudCB7XFxcbmNvbG9yOiByZ2IoMTk3LCA2LCAxMSk7XFxcbn1cXFxuLmFjZS10bSAuYWNlX2NvbnN0YW50LmFjZV9idWlsZGluIHtcXFxuY29sb3I6IHJnYig4OCwgNzIsIDI0Nik7XFxcbn1cXFxuLmFjZS10bSAuYWNlX2NvbnN0YW50LmFjZV9sYW5ndWFnZSB7XFxcbmNvbG9yOiByZ2IoODgsIDkyLCAyNDYpO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9jb25zdGFudC5hY2VfbGlicmFyeSB7XFxcbmNvbG9yOiByZ2IoNiwgMTUwLCAxNCk7XFxcbn1cXFxuLmFjZS10bSAuYWNlX2ludmFsaWQge1xcXG5iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMCwgMCwgMC4xKTtcXFxuY29sb3I6IHJlZDtcXFxufVxcXG4uYWNlLXRtIC5hY2Vfc3VwcG9ydC5hY2VfZnVuY3Rpb24ge1xcXG5jb2xvcjogcmdiKDYwLCA3NiwgMTE0KTtcXFxufVxcXG4uYWNlLXRtIC5hY2Vfc3VwcG9ydC5hY2VfY29uc3RhbnQge1xcXG5jb2xvcjogcmdiKDYsIDE1MCwgMTQpO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9zdXBwb3J0LmFjZV90eXBlLFxcXG4uYWNlLXRtIC5hY2Vfc3VwcG9ydC5hY2VfY2xhc3Mge1xcXG5jb2xvcjogcmdiKDEwOSwgMTIxLCAyMjIpO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9rZXl3b3JkLmFjZV9vcGVyYXRvciB7XFxcbmNvbG9yOiByZ2IoMTA0LCAxMTgsIDEzNSk7XFxcbn1cXFxuLmFjZS10bSAuYWNlX3N0cmluZyB7XFxcbmNvbG9yOiByZ2IoMywgMTA2LCA3KTtcXFxufVxcXG4uYWNlLXRtIC5hY2VfY29tbWVudCB7XFxcbmNvbG9yOiByZ2IoNzYsIDEzNiwgMTA3KTtcXFxufVxcXG4uYWNlLXRtIC5hY2VfY29tbWVudC5hY2VfZG9jIHtcXFxuY29sb3I6IHJnYigwLCAxMDIsIDI1NSk7XFxcbn1cXFxuLmFjZS10bSAuYWNlX2NvbW1lbnQuYWNlX2RvYy5hY2VfdGFnIHtcXFxuY29sb3I6IHJnYigxMjgsIDE1OSwgMTkxKTtcXFxufVxcXG4uYWNlLXRtIC5hY2VfY29uc3RhbnQuYWNlX251bWVyaWMge1xcXG5jb2xvcjogcmdiKDAsIDAsIDIwNSk7XFxcbn1cXFxuLmFjZS10bSAuYWNlX3ZhcmlhYmxlIHtcXFxuY29sb3I6IHJnYig0OSwgMTMyLCAxNDkpO1xcXG59XFxcbi5hY2UtdG0gLmFjZV94bWwtcGUge1xcXG5jb2xvcjogcmdiKDEwNCwgMTA0LCA5MSk7XFxcbn1cXFxuLmFjZS10bSAuYWNlX2VudGl0eS5hY2VfbmFtZS5hY2VfZnVuY3Rpb24ge1xcXG5jb2xvcjogIzAwMDBBMjtcXFxufVxcXG4uYWNlLXRtIC5hY2VfbWFya3VwLmFjZV9oZWFkaW5nIHtcXFxuY29sb3I6IHJnYigxMiwgNywgMjU1KTtcXFxufVxcXG4uYWNlLXRtIC5hY2VfbWFya3VwLmFjZV9saXN0IHtcXFxuY29sb3I6cmdiKDE4NSwgNiwgMTQ0KTtcXFxufVxcXG4uYWNlLXRtIC5hY2VfbWV0YS5hY2VfdGFnIHtcXFxuY29sb3I6cmdiKDAsIDIyLCAxNDIpO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9zdHJpbmcuYWNlX3JlZ2V4IHtcXFxuY29sb3I6IHJnYigyNTUsIDAsIDApXFxcbn1cXFxuLmFjZS10bSAuYWNlX21hcmtlci1sYXllciAuYWNlX3NlbGVjdGlvbiB7XFxcbmJhY2tncm91bmQ6IHJnYigxODEsIDIxMywgMjU1KTtcXFxufVxcXG4uYWNlLXRtLmFjZV9tdWx0aXNlbGVjdCAuYWNlX3NlbGVjdGlvbi5hY2Vfc3RhcnQge1xcXG5ib3gtc2hhZG93OiAwIDAgM3B4IDBweCB3aGl0ZTtcXFxuYm9yZGVyLXJhZGl1czogMnB4O1xcXG59XFxcbi5hY2UtdG0gLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zdGVwIHtcXFxuYmFja2dyb3VuZDogcmdiKDI1MiwgMjU1LCAwKTtcXFxufVxcXG4uYWNlLXRtIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc3RhY2sge1xcXG5iYWNrZ3JvdW5kOiByZ2IoMTY0LCAyMjksIDEwMSk7XFxcbn1cXFxuLmFjZS10bSAuYWNlX21hcmtlci1sYXllciAuYWNlX2JyYWNrZXQge1xcXG5tYXJnaW46IC0xcHggMCAwIC0xcHg7XFxcbmJvcmRlcjogMXB4IHNvbGlkIHJnYigxOTIsIDE5MiwgMTkyKTtcXFxufVxcXG4uYWNlLXRtIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYWN0aXZlLWxpbmUge1xcXG5iYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMDcpO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9ndXR0ZXItYWN0aXZlLWxpbmUge1xcXG5iYWNrZ3JvdW5kLWNvbG9yIDogI2RjZGNkYztcXFxufVxcXG4uYWNlLXRtIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0ZWQtd29yZCB7XFxcbmJhY2tncm91bmQ6IHJnYigyNTAsIDI1MCwgMjU1KTtcXFxuYm9yZGVyOiAxcHggc29saWQgcmdiKDIwMCwgMjAwLCAyNTApO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9pbmRlbnQtZ3VpZGUge1xcXG5iYWNrZ3JvdW5kOiB1cmwoXFxcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQ0NBWUFBQUNaZ2JZbkFBQUFFMGxFUVZRSW1XUDQvLy8vZjRiTGx5Ly9Cd0FtVmdkMS93MTEvZ0FBQUFCSlJVNUVya0pnZ2c9PVxcXCIpIHJpZ2h0IHJlcGVhdC15O1xcXG59XFxcblwiO1xuXG52YXIgZG9tID0gYWNlcXVpcmUoXCIuLi9saWIvZG9tXCIpO1xuZG9tLmltcG9ydENzc1N0cmluZyhleHBvcnRzLmNzc1RleHQsIGV4cG9ydHMuY3NzQ2xhc3MpO1xufSk7XG47XG4gICAgICAgICAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgYWNlLmFjZXF1aXJlKFtcImFjZS9hY2VcIl0sIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgICAgICAgICAgYSAmJiBhLmNvbmZpZy5pbml0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghd2luZG93LmFjZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hY2UgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGEpIGlmIChhLmhhc093blByb3BlcnR5KGtleSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2Vba2V5XSA9IGFba2V5XTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pKCk7XG4gICAgICAgIFxubW9kdWxlLmV4cG9ydHMgPSB3aW5kb3cuYWNlLmFjZXF1aXJlKFwiYWNlL2FjZVwiKTsiLCIvKiAqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqXG4gKiBEaXN0cmlidXRlZCB1bmRlciB0aGUgQlNEIGxpY2Vuc2U6XG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDEwLCBBamF4Lm9yZyBCLlYuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuICogICAgICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqICAgICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0XG4gKiAgICAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gKiAgICAgICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICogICAgICogTmVpdGhlciB0aGUgbmFtZSBvZiBBamF4Lm9yZyBCLlYuIG5vciB0aGVcbiAqICAgICAgIG5hbWVzIG9mIGl0cyBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzXG4gKiAgICAgICBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqIFxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCIgQU5EXG4gKiBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxuICogV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRVxuICogRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgQUpBWC5PUkcgQi5WLiBCRSBMSUFCTEUgRk9SIEFOWVxuICogRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVNcbiAqIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUztcbiAqIExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORFxuICogT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlRcbiAqIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTXG4gKiBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqXG4gKiAqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKiAqL1xuXG5hY2UuZGVmaW5lKCdhY2UvbW9kZS9jb2ZmZWUnLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgLCAnYWNlL3Rva2VuaXplcicsICdhY2UvbW9kZS9jb2ZmZWVfaGlnaGxpZ2h0X3J1bGVzJywgJ2FjZS9tb2RlL21hdGNoaW5nX2JyYWNlX291dGRlbnQnLCAnYWNlL21vZGUvZm9sZGluZy9jb2ZmZWUnLCAnYWNlL3JhbmdlJywgJ2FjZS9tb2RlL3RleHQnLCAnYWNlL3dvcmtlci93b3JrZXJfY2xpZW50JywgJ2FjZS9saWIvb29wJ10sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuXG52YXIgVG9rZW5pemVyID0gYWNlcXVpcmUoXCIuLi90b2tlbml6ZXJcIikuVG9rZW5pemVyO1xudmFyIFJ1bGVzID0gYWNlcXVpcmUoXCIuL2NvZmZlZV9oaWdobGlnaHRfcnVsZXNcIikuQ29mZmVlSGlnaGxpZ2h0UnVsZXM7XG52YXIgT3V0ZGVudCA9IGFjZXF1aXJlKFwiLi9tYXRjaGluZ19icmFjZV9vdXRkZW50XCIpLk1hdGNoaW5nQnJhY2VPdXRkZW50O1xudmFyIEZvbGRNb2RlID0gYWNlcXVpcmUoXCIuL2ZvbGRpbmcvY29mZmVlXCIpLkZvbGRNb2RlO1xudmFyIFJhbmdlID0gYWNlcXVpcmUoXCIuLi9yYW5nZVwiKS5SYW5nZTtcbnZhciBUZXh0TW9kZSA9IGFjZXF1aXJlKFwiLi90ZXh0XCIpLk1vZGU7XG52YXIgV29ya2VyQ2xpZW50ID0gYWNlcXVpcmUoXCIuLi93b3JrZXIvd29ya2VyX2NsaWVudFwiKS5Xb3JrZXJDbGllbnQ7XG52YXIgb29wID0gYWNlcXVpcmUoXCIuLi9saWIvb29wXCIpO1xuXG5mdW5jdGlvbiBNb2RlKCkge1xuICAgIHRoaXMuJHRva2VuaXplciA9IG5ldyBUb2tlbml6ZXIobmV3IFJ1bGVzKCkuZ2V0UnVsZXMoKSk7XG4gICAgdGhpcy4kb3V0ZGVudCA9IG5ldyBPdXRkZW50KCk7XG4gICAgdGhpcy5mb2xkaW5nUnVsZXMgPSBuZXcgRm9sZE1vZGUoKTtcbn1cblxub29wLmluaGVyaXRzKE1vZGUsIFRleHRNb2RlKTtcblxuKGZ1bmN0aW9uKCkge1xuICAgIFxuICAgIHZhciBpbmRlbnRlciA9IC8oPzpbKHtbPTpdfFstPV0+fFxcYig/OmVsc2V8c3dpdGNofHRyeXxjYXRjaCg/OlxccypbJEEtWmEtel9cXHg3Zi1cXHVmZmZmXVskXFx3XFx4N2YtXFx1ZmZmZl0qKT98ZmluYWxseSkpXFxzKiQvO1xuICAgIHZhciBjb21tZW50TGluZSA9IC9eKFxccyopIy87XG4gICAgdmFyIGhlcmVDb21tZW50ID0gL15cXHMqIyMjKD8hIykvO1xuICAgIHZhciBpbmRlbnRhdGlvbiA9IC9eXFxzKi87XG4gICAgXG4gICAgdGhpcy5nZXROZXh0TGluZUluZGVudCA9IGZ1bmN0aW9uKHN0YXRlLCBsaW5lLCB0YWIpIHtcbiAgICAgICAgdmFyIGluZGVudCA9IHRoaXMuJGdldEluZGVudChsaW5lKTtcbiAgICAgICAgdmFyIHRva2VucyA9IHRoaXMuJHRva2VuaXplci5nZXRMaW5lVG9rZW5zKGxpbmUsIHN0YXRlKS50b2tlbnM7XG4gICAgXG4gICAgICAgIGlmICghKHRva2Vucy5sZW5ndGggJiYgdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXS50eXBlID09PSAnY29tbWVudCcpICYmXG4gICAgICAgICAgICBzdGF0ZSA9PT0gJ3N0YXJ0JyAmJiBpbmRlbnRlci50ZXN0KGxpbmUpKVxuICAgICAgICAgICAgaW5kZW50ICs9IHRhYjtcbiAgICAgICAgcmV0dXJuIGluZGVudDtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMudG9nZ2xlQ29tbWVudExpbmVzID0gZnVuY3Rpb24oc3RhdGUsIGRvYywgc3RhcnRSb3csIGVuZFJvdyl7XG4gICAgICAgIGNvbnNvbGUubG9nKFwidG9nZ2xlXCIpO1xuICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgUmFuZ2UoMCwgMCwgMCwgMCk7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydFJvdzsgaSA8PSBlbmRSb3c7ICsraSkge1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBkb2MuZ2V0TGluZShpKTtcbiAgICAgICAgICAgIGlmIChoZXJlQ29tbWVudC50ZXN0KGxpbmUpKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGNvbW1lbnRMaW5lLnRlc3QobGluZSkpXG4gICAgICAgICAgICAgICAgbGluZSA9IGxpbmUucmVwbGFjZShjb21tZW50TGluZSwgJyQxJyk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbGluZSA9IGxpbmUucmVwbGFjZShpbmRlbnRhdGlvbiwgJyQmIycpO1xuICAgIFxuICAgICAgICAgICAgcmFuZ2UuZW5kLnJvdyA9IHJhbmdlLnN0YXJ0LnJvdyA9IGk7XG4gICAgICAgICAgICByYW5nZS5lbmQuY29sdW1uID0gbGluZS5sZW5ndGggKyAxO1xuICAgICAgICAgICAgZG9jLnJlcGxhY2UocmFuZ2UsIGxpbmUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmNoZWNrT3V0ZGVudCA9IGZ1bmN0aW9uKHN0YXRlLCBsaW5lLCBpbnB1dCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kb3V0ZGVudC5jaGVja091dGRlbnQobGluZSwgaW5wdXQpO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5hdXRvT3V0ZGVudCA9IGZ1bmN0aW9uKHN0YXRlLCBkb2MsIHJvdykge1xuICAgICAgICB0aGlzLiRvdXRkZW50LmF1dG9PdXRkZW50KGRvYywgcm93KTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuY3JlYXRlV29ya2VyID0gZnVuY3Rpb24oc2Vzc2lvbikge1xuICAgICAgICB2YXIgd29ya2VyID0gbmV3IFdvcmtlckNsaWVudChbXCJhY2VcIl0sIHJlcXVpcmUoXCIuLi93b3JrZXIvY29mZmVlXCIpLCBcIldvcmtlclwiKTtcbiAgICAgICAgd29ya2VyLmF0dGFjaFRvRG9jdW1lbnQoc2Vzc2lvbi5nZXREb2N1bWVudCgpKTtcbiAgICAgICAgXG4gICAgICAgIHdvcmtlci5vbihcImVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHNlc3Npb24uc2V0QW5ub3RhdGlvbnMoW2UuZGF0YV0pO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHdvcmtlci5vbihcIm9rXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHNlc3Npb24uY2xlYXJBbm5vdGF0aW9ucygpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB3b3JrZXI7XG4gICAgfTtcblxufSkuY2FsbChNb2RlLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuTW9kZSA9IE1vZGU7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKCdhY2UvbW9kZS9jb2ZmZWVfaGlnaGxpZ2h0X3J1bGVzJywgW1wicmVxdWlyZVwiLCAnZXhwb3J0cycsICdtb2R1bGUnICwgJ2FjZS9saWIvb29wJywgJ2FjZS9tb2RlL3RleHRfaGlnaGxpZ2h0X3J1bGVzJ10sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuXG4gICAgdmFyIG9vcCA9IGFjZXF1aXJlKFwiLi4vbGliL29vcFwiKTtcbiAgICB2YXIgVGV4dEhpZ2hsaWdodFJ1bGVzID0gYWNlcXVpcmUoXCIuL3RleHRfaGlnaGxpZ2h0X3J1bGVzXCIpLlRleHRIaWdobGlnaHRSdWxlcztcblxuICAgIG9vcC5pbmhlcml0cyhDb2ZmZWVIaWdobGlnaHRSdWxlcywgVGV4dEhpZ2hsaWdodFJ1bGVzKTtcblxuICAgIGZ1bmN0aW9uIENvZmZlZUhpZ2hsaWdodFJ1bGVzKCkge1xuICAgICAgICB2YXIgaWRlbnRpZmllciA9IFwiWyRBLVphLXpfXFxcXHg3Zi1cXFxcdWZmZmZdWyRcXFxcd1xcXFx4N2YtXFxcXHVmZmZmXSpcIjtcblxuICAgICAgICB2YXIga2V5d29yZHMgPSAoXG4gICAgICAgICAgICBcInRoaXN8dGhyb3d8dGhlbnx0cnl8dHlwZW9mfHN1cGVyfHN3aXRjaHxyZXR1cm58YnJlYWt8Ynl8Y29udGludWV8XCIgK1xuICAgICAgICAgICAgXCJjYXRjaHxjbGFzc3xpbnxpbnN0YW5jZW9mfGlzfGlzbnR8aWZ8ZWxzZXxleHRlbmRzfGZvcnxmb3Jvd258XCIgK1xuICAgICAgICAgICAgXCJmaW5hbGx5fGZ1bmN0aW9ufHdoaWxlfHdoZW58bmV3fG5vfG5vdHxkZWxldGV8ZGVidWdnZXJ8ZG98bG9vcHxvZnxvZmZ8XCIgK1xuICAgICAgICAgICAgXCJvcnxvbnx1bmxlc3N8dW50aWx8YW5kfHllc1wiXG4gICAgICAgICk7XG5cbiAgICAgICAgdmFyIGxhbmdDb25zdGFudCA9IChcbiAgICAgICAgICAgIFwidHJ1ZXxmYWxzZXxudWxsfHVuZGVmaW5lZHxOYU58SW5maW5pdHlcIlxuICAgICAgICApO1xuXG4gICAgICAgIHZhciBpbGxlZ2FsID0gKFxuICAgICAgICAgICAgXCJjYXNlfGNvbnN0fGRlZmF1bHR8ZnVuY3Rpb258dmFyfHZvaWR8d2l0aHxlbnVtfGV4cG9ydHxpbXBsZW1lbnRzfFwiICtcbiAgICAgICAgICAgIFwiaW50ZXJmYWNlfGxldHxwYWNrYWdlfHByaXZhdGV8cHJvdGVjdGVkfHB1YmxpY3xzdGF0aWN8eWllbGR8XCIgK1xuICAgICAgICAgICAgXCJfX2hhc1Byb3B8c2xpY2V8YmluZHxpbmRleE9mXCJcbiAgICAgICAgKTtcblxuICAgICAgICB2YXIgc3VwcG9ydENsYXNzID0gKFxuICAgICAgICAgICAgXCJBcnJheXxCb29sZWFufERhdGV8RnVuY3Rpb258TnVtYmVyfE9iamVjdHxSZWdFeHB8UmVmZXJlbmNlRXJyb3J8U3RyaW5nfFwiICtcbiAgICAgICAgICAgIFwiRXJyb3J8RXZhbEVycm9yfEludGVybmFsRXJyb3J8UmFuZ2VFcnJvcnxSZWZlcmVuY2VFcnJvcnxTdG9wSXRlcmF0aW9ufFwiICtcbiAgICAgICAgICAgIFwiU3ludGF4RXJyb3J8VHlwZUVycm9yfFVSSUVycm9yfFwiICArXG4gICAgICAgICAgICBcIkFycmF5QnVmZmVyfEZsb2F0MzJBcnJheXxGbG9hdDY0QXJyYXl8SW50MTZBcnJheXxJbnQzMkFycmF5fEludDhBcnJheXxcIiArXG4gICAgICAgICAgICBcIlVpbnQxNkFycmF5fFVpbnQzMkFycmF5fFVpbnQ4QXJyYXl8VWludDhDbGFtcGVkQXJyYXlcIlxuICAgICAgICApO1xuXG4gICAgICAgIHZhciBzdXBwb3J0RnVuY3Rpb24gPSAoXG4gICAgICAgICAgICBcIk1hdGh8SlNPTnxpc05hTnxpc0Zpbml0ZXxwYXJzZUludHxwYXJzZUZsb2F0fGVuY29kZVVSSXxcIiArXG4gICAgICAgICAgICBcImVuY29kZVVSSUNvbXBvbmVudHxkZWNvZGVVUkl8ZGVjb2RlVVJJQ29tcG9uZW50fFN0cmluZ3xcIlxuICAgICAgICApO1xuXG4gICAgICAgIHZhciB2YXJpYWJsZUxhbmd1YWdlID0gKFxuICAgICAgICAgICAgXCJ3aW5kb3d8YXJndW1lbnRzfHByb3RvdHlwZXxkb2N1bWVudFwiXG4gICAgICAgICk7XG5cbiAgICAgICAgdmFyIGtleXdvcmRNYXBwZXIgPSB0aGlzLmNyZWF0ZUtleXdvcmRNYXBwZXIoe1xuICAgICAgICAgICAgXCJrZXl3b3JkXCI6IGtleXdvcmRzLFxuICAgICAgICAgICAgXCJjb25zdGFudC5sYW5ndWFnZVwiOiBsYW5nQ29uc3RhbnQsXG4gICAgICAgICAgICBcImludmFsaWQuaWxsZWdhbFwiOiBpbGxlZ2FsLFxuICAgICAgICAgICAgXCJsYW5ndWFnZS5zdXBwb3J0LmNsYXNzXCI6IHN1cHBvcnRDbGFzcyxcbiAgICAgICAgICAgIFwibGFuZ3VhZ2Uuc3VwcG9ydC5mdW5jdGlvblwiOiBzdXBwb3J0RnVuY3Rpb24sXG4gICAgICAgICAgICBcInZhcmlhYmxlLmxhbmd1YWdlXCI6IHZhcmlhYmxlTGFuZ3VhZ2VcbiAgICAgICAgfSwgXCJpZGVudGlmaWVyXCIpO1xuXG4gICAgICAgIHZhciBmdW5jdGlvblJ1bGUgPSB7XG4gICAgICAgICAgICB0b2tlbjogW1wicGFyZW4ubHBhcmVuXCIsIFwidmFyaWFibGUucGFyYW1ldGVyXCIsIFwicGFyZW4ucnBhcmVuXCIsIFwidGV4dFwiLCBcInN0b3JhZ2UudHlwZVwiXSxcbiAgICAgICAgICAgIHJlZ2V4OiAvKD86KFxcKCkoKD86XCJbXlwiKV0qP1wifCdbXicpXSo/J3xcXC9bXlxcLyldKj9cXC98W14oKVxcXCInXFwvXSkqPykoXFwpKShcXHMqKSk/KFtcXC09XT4pLy5zb3VyY2VcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgc3RyaW5nRXNjYXBlID0gL1xcXFwoPzp4WzAtOWEtZkEtRl17Mn18dVswLTlhLWZBLUZdezR9fFswLTJdWzAtN117MCwyfXwzWzAtNl1bMC03XT98MzdbMC03XT98WzQtN11bMC03XT98LikvO1xuXG4gICAgICAgIHRoaXMuJHJ1bGVzID0ge1xuICAgICAgICAgICAgc3RhcnQgOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA6IFwiY29uc3RhbnQubnVtZXJpY1wiLFxuICAgICAgICAgICAgICAgICAgICByZWdleCA6IFwiKD86MHhbXFxcXGRhLWZBLUZdK3woPzpcXFxcZCsoPzpcXFxcLlxcXFxkKyk/fFxcXFwuXFxcXGQrKSg/OltlRV1bKy1dP1xcXFxkKyk/KVwiXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZU5hbWU6IFwicWRvY1wiLFxuICAgICAgICAgICAgICAgICAgICB0b2tlbiA6IFwic3RyaW5nXCIsIHJlZ2V4IDogXCInJydcIiwgbmV4dCA6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0b2tlbiA6IFwic3RyaW5nXCIsIHJlZ2V4IDogXCInJydcIiwgbmV4dCA6IFwic3RhcnRcIn0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7dG9rZW4gOiBcImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZVwiLCByZWdleCA6IHN0cmluZ0VzY2FwZX0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZGVmYXVsdFRva2VuOiBcInN0cmluZ1wifVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZU5hbWU6IFwicXFkb2NcIixcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICByZWdleCA6ICdcIlwiXCInLFxuICAgICAgICAgICAgICAgICAgICBuZXh0IDogW1xuICAgICAgICAgICAgICAgICAgICAgICAge3Rva2VuIDogXCJzdHJpbmdcIiwgcmVnZXggOiAnXCJcIlwiJywgbmV4dCA6IFwic3RhcnRcIn0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7dG9rZW4gOiBcInBhcmVuLnN0cmluZ1wiLCByZWdleCA6ICcjeycsIHB1c2ggOiBcInN0YXJ0XCJ9LFxuICAgICAgICAgICAgICAgICAgICAgICAge3Rva2VuIDogXCJjb25zdGFudC5sYW5ndWFnZS5lc2NhcGVcIiwgcmVnZXggOiBzdHJpbmdFc2NhcGV9LFxuICAgICAgICAgICAgICAgICAgICAgICAge2RlZmF1bHRUb2tlbjogXCJzdHJpbmdcIn1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVOYW1lOiBcInFzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gOiBcInN0cmluZ1wiLCByZWdleCA6IFwiJ1wiLCBuZXh0IDogW1xuICAgICAgICAgICAgICAgICAgICAgICAge3Rva2VuIDogXCJzdHJpbmdcIiwgcmVnZXggOiBcIidcIiwgbmV4dCA6IFwic3RhcnRcIn0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7dG9rZW4gOiBcImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZVwiLCByZWdleCA6IHN0cmluZ0VzY2FwZX0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZGVmYXVsdFRva2VuOiBcInN0cmluZ1wifVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZU5hbWU6IFwicXFzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gOiBcInN0cmluZy5zdGFydFwiLCByZWdleCA6ICdcIicsIG5leHQgOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7dG9rZW4gOiBcInN0cmluZy5lbmRcIiwgcmVnZXggOiAnXCInLCBuZXh0IDogXCJzdGFydFwifSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0b2tlbiA6IFwicGFyZW4uc3RyaW5nXCIsIHJlZ2V4IDogJyN7JywgcHVzaCA6IFwic3RhcnRcIn0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7dG9rZW4gOiBcImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZVwiLCByZWdleCA6IHN0cmluZ0VzY2FwZX0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZGVmYXVsdFRva2VuOiBcInN0cmluZ1wifVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZU5hbWU6IFwianNcIixcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gOiBcInN0cmluZ1wiLCByZWdleCA6IFwiYFwiLCBuZXh0IDogW1xuICAgICAgICAgICAgICAgICAgICAgICAge3Rva2VuIDogXCJzdHJpbmdcIiwgcmVnZXggOiBcImBcIiwgbmV4dCA6IFwic3RhcnRcIn0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7dG9rZW4gOiBcImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZVwiLCByZWdleCA6IHN0cmluZ0VzY2FwZX0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZGVmYXVsdFRva2VuOiBcInN0cmluZ1wifVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICByZWdleDogXCJbe31dXCIsIG9uTWF0Y2g6IGZ1bmN0aW9uKHZhbCwgc3RhdGUsIHN0YWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA9PSBcIntcIiAmJiBzdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay51bnNoaWZ0KFwic3RhcnRcIiwgc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInBhcmVuXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsID09IFwifVwiICYmIHN0YWNrLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0ID0gc3RhY2suc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5uZXh0LmluZGV4T2YoXCJzdHJpbmdcIikgIT0gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInBhcmVuLnN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwicGFyZW5cIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gOiBcInN0cmluZy5yZWdleFwiLFxuICAgICAgICAgICAgICAgICAgICByZWdleCA6IFwiLy8vXCIsXG4gICAgICAgICAgICAgICAgICAgIG5leHQgOiBcImhlcmVnZXhcIlxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gOiBcInN0cmluZy5yZWdleFwiLFxuICAgICAgICAgICAgICAgICAgICByZWdleCA6IC8oPzpcXC8oPyFbXFxzPV0pW15bXFwvXFxuXFxcXF0qKD86KD86XFxcXFtcXHNcXFNdfFxcW1teXFxdXFxuXFxcXF0qKD86XFxcXFtcXHNcXFNdW15cXF1cXG5cXFxcXSopKl0pW15bXFwvXFxuXFxcXF0qKSpcXC8pKD86W2ltZ3ldezAsNH0pKD8hXFx3KS9cbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuIDogXCJjb21tZW50XCIsXG4gICAgICAgICAgICAgICAgICAgIHJlZ2V4IDogXCIjIyMoPyEjKVwiLFxuICAgICAgICAgICAgICAgICAgICBuZXh0IDogXCJjb21tZW50XCJcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuIDogXCJjb21tZW50XCIsXG4gICAgICAgICAgICAgICAgICAgIHJlZ2V4IDogXCIjLipcIlxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gOiBbXCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiLCBcInRleHRcIiwgXCJpZGVudGlmaWVyXCJdLFxuICAgICAgICAgICAgICAgICAgICByZWdleCA6IFwiKFxcXFwuKShcXFxccyopKFwiICsgaWxsZWdhbCArIFwiKVwiXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA6IFwicHVuY3R1YXRpb24ub3BlcmF0b3JcIixcbiAgICAgICAgICAgICAgICAgICAgcmVnZXggOiBcIlxcXFwuXCJcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuIDogW1wia2V5d29yZFwiLCBcInRleHRcIiwgXCJsYW5ndWFnZS5zdXBwb3J0LmNsYXNzXCIsXG4gICAgICAgICAgICAgICAgICAgICBcInRleHRcIiwgXCJrZXl3b3JkXCIsIFwidGV4dFwiLCBcImxhbmd1YWdlLnN1cHBvcnQuY2xhc3NcIl0sXG4gICAgICAgICAgICAgICAgICAgIHJlZ2V4IDogXCIoY2xhc3MpKFxcXFxzKykoXCIgKyBpZGVudGlmaWVyICsgXCIpKD86KFxcXFxzKykoZXh0ZW5kcykoXFxcXHMrKShcIiArIGlkZW50aWZpZXIgKyBcIikpP1wiXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA6IFtcImVudGl0eS5uYW1lLmZ1bmN0aW9uXCIsIFwidGV4dFwiLCBcImtleXdvcmQub3BlcmF0b3JcIiwgXCJ0ZXh0XCJdLmNvbmNhdChmdW5jdGlvblJ1bGUudG9rZW4pLFxuICAgICAgICAgICAgICAgICAgICByZWdleCA6IFwiKFwiICsgaWRlbnRpZmllciArIFwiKShcXFxccyopKFs9Ol0pKFxcXFxzKilcIiArIGZ1bmN0aW9uUnVsZS5yZWdleFxuICAgICAgICAgICAgICAgIH0sIFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uUnVsZSwgXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA6IFwidmFyaWFibGVcIixcbiAgICAgICAgICAgICAgICAgICAgcmVnZXggOiBcIkAoPzpcIiArIGlkZW50aWZpZXIgKyBcIik/XCJcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiBrZXl3b3JkTWFwcGVyLFxuICAgICAgICAgICAgICAgICAgICByZWdleCA6IGlkZW50aWZpZXJcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuIDogXCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiLFxuICAgICAgICAgICAgICAgICAgICByZWdleCA6IFwiXFxcXCx8XFxcXC5cIlxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gOiBcInN0b3JhZ2UudHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICByZWdleCA6IFwiW1xcXFwtPV0+XCJcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuIDogXCJrZXl3b3JkLm9wZXJhdG9yXCIsXG4gICAgICAgICAgICAgICAgICAgIHJlZ2V4IDogXCIoPzpbLSsqLyU8PiZ8XiE/PV09fD4+Pj0/fFxcXFwtXFxcXC18XFxcXCtcXFxcK3w6OnwmJj18XFxcXHxcXFxcfD18PDw9fD4+PXxcXFxcP1xcXFwufFxcXFwuezIsM318WyEqKy09PjxdKVwiXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA6IFwicGFyZW4ubHBhcmVuXCIsXG4gICAgICAgICAgICAgICAgICAgIHJlZ2V4IDogXCJbKHtbXVwiXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA6IFwicGFyZW4ucnBhcmVuXCIsXG4gICAgICAgICAgICAgICAgICAgIHJlZ2V4IDogXCJbXFxcXF19KV1cIlxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgcmVnZXggOiBcIlxcXFxzK1wiXG4gICAgICAgICAgICAgICAgfV0sXG5cblxuICAgICAgICAgICAgaGVyZWdleCA6IFt7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInN0cmluZy5yZWdleFwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogJy4qPy8vL1tpbWd5XXswLDR9JyxcbiAgICAgICAgICAgICAgICBuZXh0IDogXCJzdGFydFwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcImNvbW1lbnQucmVnZXhcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiXFxcXHMrKD86Iy4qKT9cIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJzdHJpbmcucmVnZXhcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiXFxcXFMrXCJcbiAgICAgICAgICAgIH1dLFxuXG4gICAgICAgICAgICBjb21tZW50IDogW3tcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwiY29tbWVudFwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogJyMjIycsXG4gICAgICAgICAgICAgICAgbmV4dCA6IFwic3RhcnRcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRUb2tlbiA6IFwiY29tbWVudFwiXG4gICAgICAgICAgICB9XVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm5vcm1hbGl6ZVJ1bGVzKCk7XG4gICAgfVxuXG4gICAgZXhwb3J0cy5Db2ZmZWVIaWdobGlnaHRSdWxlcyA9IENvZmZlZUhpZ2hsaWdodFJ1bGVzO1xufSk7XG5cbmFjZS5kZWZpbmUoJ2FjZS9tb2RlL21hdGNoaW5nX2JyYWNlX291dGRlbnQnLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgLCAnYWNlL3JhbmdlJ10sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuXG52YXIgUmFuZ2UgPSBhY2VxdWlyZShcIi4uL3JhbmdlXCIpLlJhbmdlO1xuXG52YXIgTWF0Y2hpbmdCcmFjZU91dGRlbnQgPSBmdW5jdGlvbigpIHt9O1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLmNoZWNrT3V0ZGVudCA9IGZ1bmN0aW9uKGxpbmUsIGlucHV0KSB7XG4gICAgICAgIGlmICghIC9eXFxzKyQvLnRlc3QobGluZSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgcmV0dXJuIC9eXFxzKlxcfS8udGVzdChpbnB1dCk7XG4gICAgfTtcblxuICAgIHRoaXMuYXV0b091dGRlbnQgPSBmdW5jdGlvbihkb2MsIHJvdykge1xuICAgICAgICB2YXIgbGluZSA9IGRvYy5nZXRMaW5lKHJvdyk7XG4gICAgICAgIHZhciBtYXRjaCA9IGxpbmUubWF0Y2goL14oXFxzKlxcfSkvKTtcblxuICAgICAgICBpZiAoIW1hdGNoKSByZXR1cm4gMDtcblxuICAgICAgICB2YXIgY29sdW1uID0gbWF0Y2hbMV0ubGVuZ3RoO1xuICAgICAgICB2YXIgb3BlbkJyYWNlUG9zID0gZG9jLmZpbmRNYXRjaGluZ0JyYWNrZXQoe3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn0pO1xuXG4gICAgICAgIGlmICghb3BlbkJyYWNlUG9zIHx8IG9wZW5CcmFjZVBvcy5yb3cgPT0gcm93KSByZXR1cm4gMDtcblxuICAgICAgICB2YXIgaW5kZW50ID0gdGhpcy4kZ2V0SW5kZW50KGRvYy5nZXRMaW5lKG9wZW5CcmFjZVBvcy5yb3cpKTtcbiAgICAgICAgZG9jLnJlcGxhY2UobmV3IFJhbmdlKHJvdywgMCwgcm93LCBjb2x1bW4tMSksIGluZGVudCk7XG4gICAgfTtcblxuICAgIHRoaXMuJGdldEluZGVudCA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIGxpbmUubWF0Y2goL15cXHMqLylbMF07XG4gICAgfTtcblxufSkuY2FsbChNYXRjaGluZ0JyYWNlT3V0ZGVudC5wcm90b3R5cGUpO1xuXG5leHBvcnRzLk1hdGNoaW5nQnJhY2VPdXRkZW50ID0gTWF0Y2hpbmdCcmFjZU91dGRlbnQ7XG59KTtcblxuYWNlLmRlZmluZSgnYWNlL21vZGUvZm9sZGluZy9jb2ZmZWUnLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgLCAnYWNlL2xpYi9vb3AnLCAnYWNlL21vZGUvZm9sZGluZy9mb2xkX21vZGUnLCAnYWNlL3JhbmdlJ10sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuXG52YXIgb29wID0gYWNlcXVpcmUoXCIuLi8uLi9saWIvb29wXCIpO1xudmFyIEJhc2VGb2xkTW9kZSA9IGFjZXF1aXJlKFwiLi9mb2xkX21vZGVcIikuRm9sZE1vZGU7XG52YXIgUmFuZ2UgPSBhY2VxdWlyZShcIi4uLy4uL3JhbmdlXCIpLlJhbmdlO1xuXG52YXIgRm9sZE1vZGUgPSBleHBvcnRzLkZvbGRNb2RlID0gZnVuY3Rpb24oKSB7fTtcbm9vcC5pbmhlcml0cyhGb2xkTW9kZSwgQmFzZUZvbGRNb2RlKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2UgPSBmdW5jdGlvbihzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdykge1xuICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLmluZGVudGF0aW9uQmxvY2soc2Vzc2lvbiwgcm93KTtcbiAgICAgICAgaWYgKHJhbmdlKVxuICAgICAgICAgICAgcmV0dXJuIHJhbmdlO1xuXG4gICAgICAgIHZhciByZSA9IC9cXFMvO1xuICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpO1xuICAgICAgICB2YXIgc3RhcnRMZXZlbCA9IGxpbmUuc2VhcmNoKHJlKTtcbiAgICAgICAgaWYgKHN0YXJ0TGV2ZWwgPT0gLTEgfHwgbGluZVtzdGFydExldmVsXSAhPSBcIiNcIilcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgc3RhcnRDb2x1bW4gPSBsaW5lLmxlbmd0aDtcbiAgICAgICAgdmFyIG1heFJvdyA9IHNlc3Npb24uZ2V0TGVuZ3RoKCk7XG4gICAgICAgIHZhciBzdGFydFJvdyA9IHJvdztcbiAgICAgICAgdmFyIGVuZFJvdyA9IHJvdztcblxuICAgICAgICB3aGlsZSAoKytyb3cgPCBtYXhSb3cpIHtcbiAgICAgICAgICAgIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocm93KTtcbiAgICAgICAgICAgIHZhciBsZXZlbCA9IGxpbmUuc2VhcmNoKHJlKTtcblxuICAgICAgICAgICAgaWYgKGxldmVsID09IC0xKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBpZiAobGluZVtsZXZlbF0gIT0gXCIjXCIpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGVuZFJvdyA9IHJvdztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbmRSb3cgPiBzdGFydFJvdykge1xuICAgICAgICAgICAgdmFyIGVuZENvbHVtbiA9IHNlc3Npb24uZ2V0TGluZShlbmRSb3cpLmxlbmd0aDtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmFuZ2Uoc3RhcnRSb3csIHN0YXJ0Q29sdW1uLCBlbmRSb3csIGVuZENvbHVtbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZ2V0Rm9sZFdpZGdldCA9IGZ1bmN0aW9uKHNlc3Npb24sIGZvbGRTdHlsZSwgcm93KSB7XG4gICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7XG4gICAgICAgIHZhciBpbmRlbnQgPSBsaW5lLnNlYXJjaCgvXFxTLyk7XG4gICAgICAgIHZhciBuZXh0ID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyArIDEpO1xuICAgICAgICB2YXIgcHJldiA9IHNlc3Npb24uZ2V0TGluZShyb3cgLSAxKTtcbiAgICAgICAgdmFyIHByZXZJbmRlbnQgPSBwcmV2LnNlYXJjaCgvXFxTLyk7XG4gICAgICAgIHZhciBuZXh0SW5kZW50ID0gbmV4dC5zZWFyY2goL1xcUy8pO1xuXG4gICAgICAgIGlmIChpbmRlbnQgPT0gLTEpIHtcbiAgICAgICAgICAgIHNlc3Npb24uZm9sZFdpZGdldHNbcm93IC0gMV0gPSBwcmV2SW5kZW50IT0gLTEgJiYgcHJldkluZGVudCA8IG5leHRJbmRlbnQgPyBcInN0YXJ0XCIgOiBcIlwiO1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZXZJbmRlbnQgPT0gLTEpIHtcbiAgICAgICAgICAgIGlmIChpbmRlbnQgPT0gbmV4dEluZGVudCAmJiBsaW5lW2luZGVudF0gPT0gXCIjXCIgJiYgbmV4dFtpbmRlbnRdID09IFwiI1wiKSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5mb2xkV2lkZ2V0c1tyb3cgLSAxXSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5mb2xkV2lkZ2V0c1tyb3cgKyAxXSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwic3RhcnRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwcmV2SW5kZW50ID09IGluZGVudCAmJiBsaW5lW2luZGVudF0gPT0gXCIjXCIgJiYgcHJldltpbmRlbnRdID09IFwiI1wiKSB7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbi5nZXRMaW5lKHJvdyAtIDIpLnNlYXJjaCgvXFxTLykgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uLmZvbGRXaWRnZXRzW3JvdyAtIDFdID0gXCJzdGFydFwiO1xuICAgICAgICAgICAgICAgIHNlc3Npb24uZm9sZFdpZGdldHNbcm93ICsgMV0gPSBcIlwiO1xuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByZXZJbmRlbnQhPSAtMSAmJiBwcmV2SW5kZW50IDwgaW5kZW50KVxuICAgICAgICAgICAgc2Vzc2lvbi5mb2xkV2lkZ2V0c1tyb3cgLSAxXSA9IFwic3RhcnRcIjtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgc2Vzc2lvbi5mb2xkV2lkZ2V0c1tyb3cgLSAxXSA9IFwiXCI7XG5cbiAgICAgICAgaWYgKGluZGVudCA8IG5leHRJbmRlbnQpXG4gICAgICAgICAgICByZXR1cm4gXCJzdGFydFwiO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICB9O1xuXG59KS5jYWxsKEZvbGRNb2RlLnByb3RvdHlwZSk7XG5cbn0pO1xuIiwiLyogKioqKiogQkVHSU4gTElDRU5TRSBCTE9DSyAqKioqKlxuICogRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIEJTRCBsaWNlbnNlOlxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxMCwgQWpheC5vcmcgQi5WLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuICogICAgICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqICAgICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0XG4gKiAgICAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gKiAgICAgICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICogICAgICogTmVpdGhlciB0aGUgbmFtZSBvZiBBamF4Lm9yZyBCLlYuIG5vciB0aGVcbiAqICAgICAgIG5hbWVzIG9mIGl0cyBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzXG4gKiAgICAgICBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqXG4gKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIFwiQVMgSVNcIiBBTkRcbiAqIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEXG4gKiBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFXG4gKiBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBBSkFYLk9SRyBCLlYuIEJFIExJQUJMRSBGT1IgQU5ZXG4gKiBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFU1xuICogKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTO1xuICogTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EXG4gKiBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxuICogKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVNcbiAqIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICpcbiAqICoqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqICovXG5cbmFjZS5kZWZpbmUoJ2FjZS9tb2RlL2phdmFzY3JpcHQnLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgLCAnYWNlL2xpYi9vb3AnLCAnYWNlL21vZGUvdGV4dCcsICdhY2UvdG9rZW5pemVyJywgJ2FjZS9tb2RlL2phdmFzY3JpcHRfaGlnaGxpZ2h0X3J1bGVzJywgJ2FjZS9tb2RlL21hdGNoaW5nX2JyYWNlX291dGRlbnQnLCAnYWNlL3JhbmdlJywgJ2FjZS93b3JrZXIvd29ya2VyX2NsaWVudCcsICdhY2UvbW9kZS9iZWhhdmlvdXIvY3N0eWxlJywgJ2FjZS9tb2RlL2ZvbGRpbmcvY3N0eWxlJ10sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuXG52YXIgb29wID0gYWNlcXVpcmUoXCIuLi9saWIvb29wXCIpO1xudmFyIFRleHRNb2RlID0gYWNlcXVpcmUoXCIuL3RleHRcIikuTW9kZTtcbnZhciBUb2tlbml6ZXIgPSBhY2VxdWlyZShcIi4uL3Rva2VuaXplclwiKS5Ub2tlbml6ZXI7XG52YXIgSmF2YVNjcmlwdEhpZ2hsaWdodFJ1bGVzID0gYWNlcXVpcmUoXCIuL2phdmFzY3JpcHRfaGlnaGxpZ2h0X3J1bGVzXCIpLkphdmFTY3JpcHRIaWdobGlnaHRSdWxlcztcbnZhciBNYXRjaGluZ0JyYWNlT3V0ZGVudCA9IGFjZXF1aXJlKFwiLi9tYXRjaGluZ19icmFjZV9vdXRkZW50XCIpLk1hdGNoaW5nQnJhY2VPdXRkZW50O1xudmFyIFJhbmdlID0gYWNlcXVpcmUoXCIuLi9yYW5nZVwiKS5SYW5nZTtcbnZhciBXb3JrZXJDbGllbnQgPSBhY2VxdWlyZShcIi4uL3dvcmtlci93b3JrZXJfY2xpZW50XCIpLldvcmtlckNsaWVudDtcbnZhciBDc3R5bGVCZWhhdmlvdXIgPSBhY2VxdWlyZShcIi4vYmVoYXZpb3VyL2NzdHlsZVwiKS5Dc3R5bGVCZWhhdmlvdXI7XG52YXIgQ1N0eWxlRm9sZE1vZGUgPSBhY2VxdWlyZShcIi4vZm9sZGluZy9jc3R5bGVcIikuRm9sZE1vZGU7XG5cbnZhciBNb2RlID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kdG9rZW5pemVyID0gbmV3IFRva2VuaXplcihuZXcgSmF2YVNjcmlwdEhpZ2hsaWdodFJ1bGVzKCkuZ2V0UnVsZXMoKSk7XG4gICAgdGhpcy4kb3V0ZGVudCA9IG5ldyBNYXRjaGluZ0JyYWNlT3V0ZGVudCgpO1xuICAgIHRoaXMuJGJlaGF2aW91ciA9IG5ldyBDc3R5bGVCZWhhdmlvdXIoKTtcbiAgICB0aGlzLmZvbGRpbmdSdWxlcyA9IG5ldyBDU3R5bGVGb2xkTW9kZSgpO1xufTtcbm9vcC5pbmhlcml0cyhNb2RlLCBUZXh0TW9kZSk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIHRoaXMubGluZUNvbW1lbnRTdGFydCA9IFwiLy9cIjtcbiAgICB0aGlzLmJsb2NrQ29tbWVudCA9IHtzdGFydDogXCIvKlwiLCBlbmQ6IFwiKi9cIn07XG5cbiAgICB0aGlzLmdldE5leHRMaW5lSW5kZW50ID0gZnVuY3Rpb24oc3RhdGUsIGxpbmUsIHRhYikge1xuICAgICAgICB2YXIgaW5kZW50ID0gdGhpcy4kZ2V0SW5kZW50KGxpbmUpO1xuXG4gICAgICAgIHZhciB0b2tlbml6ZWRMaW5lID0gdGhpcy4kdG9rZW5pemVyLmdldExpbmVUb2tlbnMobGluZSwgc3RhdGUpO1xuICAgICAgICB2YXIgdG9rZW5zID0gdG9rZW5pemVkTGluZS50b2tlbnM7XG4gICAgICAgIHZhciBlbmRTdGF0ZSA9IHRva2VuaXplZExpbmUuc3RhdGU7XG5cbiAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggJiYgdG9rZW5zW3Rva2Vucy5sZW5ndGgtMV0udHlwZSA9PSBcImNvbW1lbnRcIikge1xuICAgICAgICAgICAgcmV0dXJuIGluZGVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0ZSA9PSBcInN0YXJ0XCIgfHwgc3RhdGUgPT0gXCJub19yZWdleFwiKSB7XG4gICAgICAgICAgICB2YXIgbWF0Y2ggPSBsaW5lLm1hdGNoKC9eLiooPzpcXGJjYXNlXFxiLipcXDp8W1xce1xcKFxcW10pXFxzKiQvKTtcbiAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgIGluZGVudCArPSB0YWI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT0gXCJkb2Mtc3RhcnRcIikge1xuICAgICAgICAgICAgaWYgKGVuZFN0YXRlID09IFwic3RhcnRcIiB8fCBlbmRTdGF0ZSA9PSBcIm5vX3JlZ2V4XCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtYXRjaCA9IGxpbmUubWF0Y2goL15cXHMqKFxcLz8pXFwqLyk7XG4gICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZW50ICs9IFwiIFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmRlbnQgKz0gXCIqIFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluZGVudDtcbiAgICB9O1xuXG4gICAgdGhpcy5jaGVja091dGRlbnQgPSBmdW5jdGlvbihzdGF0ZSwgbGluZSwgaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJG91dGRlbnQuY2hlY2tPdXRkZW50KGxpbmUsIGlucHV0KTtcbiAgICB9O1xuXG4gICAgdGhpcy5hdXRvT3V0ZGVudCA9IGZ1bmN0aW9uKHN0YXRlLCBkb2MsIHJvdykge1xuICAgICAgICB0aGlzLiRvdXRkZW50LmF1dG9PdXRkZW50KGRvYywgcm93KTtcbiAgICB9O1xuXG4gICAgdGhpcy5jcmVhdGVXb3JrZXIgPSBmdW5jdGlvbihzZXNzaW9uKSB7XG4gICAgICAgIHZhciB3b3JrZXIgPSBuZXcgV29ya2VyQ2xpZW50KFtcImFjZVwiXSwgcmVxdWlyZShcIi4uL3dvcmtlci9qYXZhc2NyaXB0XCIpLCBcIkphdmFTY3JpcHRXb3JrZXJcIik7XG4gICAgICAgIHdvcmtlci5hdHRhY2hUb0RvY3VtZW50KHNlc3Npb24uZ2V0RG9jdW1lbnQoKSk7XG5cbiAgICAgICAgd29ya2VyLm9uKFwianNsaW50XCIsIGZ1bmN0aW9uKHJlc3VsdHMpIHtcbiAgICAgICAgICAgIHNlc3Npb24uc2V0QW5ub3RhdGlvbnMocmVzdWx0cy5kYXRhKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgd29ya2VyLm9uKFwidGVybWluYXRlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2Vzc2lvbi5jbGVhckFubm90YXRpb25zKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB3b3JrZXI7XG4gICAgfTtcblxufSkuY2FsbChNb2RlLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuTW9kZSA9IE1vZGU7XG59KTtcblxuYWNlLmRlZmluZSgnYWNlL21vZGUvamF2YXNjcmlwdF9oaWdobGlnaHRfcnVsZXMnLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgLCAnYWNlL2xpYi9vb3AnLCAnYWNlL21vZGUvZG9jX2NvbW1lbnRfaGlnaGxpZ2h0X3J1bGVzJywgJ2FjZS9tb2RlL3RleHRfaGlnaGxpZ2h0X3J1bGVzJ10sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuXG52YXIgb29wID0gYWNlcXVpcmUoXCIuLi9saWIvb29wXCIpO1xudmFyIERvY0NvbW1lbnRIaWdobGlnaHRSdWxlcyA9IGFjZXF1aXJlKFwiLi9kb2NfY29tbWVudF9oaWdobGlnaHRfcnVsZXNcIikuRG9jQ29tbWVudEhpZ2hsaWdodFJ1bGVzO1xudmFyIFRleHRIaWdobGlnaHRSdWxlcyA9IGFjZXF1aXJlKFwiLi90ZXh0X2hpZ2hsaWdodF9ydWxlc1wiKS5UZXh0SGlnaGxpZ2h0UnVsZXM7XG5cbnZhciBKYXZhU2NyaXB0SGlnaGxpZ2h0UnVsZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIga2V5d29yZE1hcHBlciA9IHRoaXMuY3JlYXRlS2V5d29yZE1hcHBlcih7XG4gICAgICAgIFwidmFyaWFibGUubGFuZ3VhZ2VcIjpcbiAgICAgICAgICAgIFwiQXJyYXl8Qm9vbGVhbnxEYXRlfEZ1bmN0aW9ufEl0ZXJhdG9yfE51bWJlcnxPYmplY3R8UmVnRXhwfFN0cmluZ3xQcm94eXxcIiAgKyAvLyBDb25zdHJ1Y3RvcnNcbiAgICAgICAgICAgIFwiTmFtZXNwYWNlfFFOYW1lfFhNTHxYTUxMaXN0fFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAvLyBFNFhcbiAgICAgICAgICAgIFwiQXJyYXlCdWZmZXJ8RmxvYXQzMkFycmF5fEZsb2F0NjRBcnJheXxJbnQxNkFycmF5fEludDMyQXJyYXl8SW50OEFycmF5fFwiICAgK1xuICAgICAgICAgICAgXCJVaW50MTZBcnJheXxVaW50MzJBcnJheXxVaW50OEFycmF5fFVpbnQ4Q2xhbXBlZEFycmF5fFwiICAgICAgICAgICAgICAgICAgICArXG4gICAgICAgICAgICBcIkVycm9yfEV2YWxFcnJvcnxJbnRlcm5hbEVycm9yfFJhbmdlRXJyb3J8UmVmZXJlbmNlRXJyb3J8U3RvcEl0ZXJhdGlvbnxcIiAgICsgLy8gRXJyb3JzXG4gICAgICAgICAgICBcIlN5bnRheEVycm9yfFR5cGVFcnJvcnxVUklFcnJvcnxcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICtcbiAgICAgICAgICAgIFwiZGVjb2RlVVJJfGRlY29kZVVSSUNvbXBvbmVudHxlbmNvZGVVUkl8ZW5jb2RlVVJJQ29tcG9uZW50fGV2YWx8aXNGaW5pdGV8XCIgKyAvLyBOb24tY29uc3RydWN0b3IgZnVuY3Rpb25zXG4gICAgICAgICAgICBcImlzTmFOfHBhcnNlRmxvYXR8cGFyc2VJbnR8XCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICtcbiAgICAgICAgICAgIFwiSlNPTnxNYXRofFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAvLyBPdGhlclxuICAgICAgICAgICAgXCJ0aGlzfGFyZ3VtZW50c3xwcm90b3R5cGV8d2luZG93fGRvY3VtZW50XCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIC8vIFBzZXVkb1xuICAgICAgICBcImtleXdvcmRcIjpcbiAgICAgICAgICAgIFwiY29uc3R8eWllbGR8aW1wb3J0fGdldHxzZXR8XCIgK1xuICAgICAgICAgICAgXCJicmVha3xjYXNlfGNhdGNofGNvbnRpbnVlfGRlZmF1bHR8ZGVsZXRlfGRvfGVsc2V8ZmluYWxseXxmb3J8ZnVuY3Rpb258XCIgK1xuICAgICAgICAgICAgXCJpZnxpbnxpbnN0YW5jZW9mfG5ld3xyZXR1cm58c3dpdGNofHRocm93fHRyeXx0eXBlb2Z8bGV0fHZhcnx3aGlsZXx3aXRofGRlYnVnZ2VyfFwiICtcbiAgICAgICAgICAgIFwiX19wYXJlbnRfX3xfX2NvdW50X198ZXNjYXBlfHVuZXNjYXBlfHdpdGh8X19wcm90b19ffFwiICtcbiAgICAgICAgICAgIFwiY2xhc3N8ZW51bXxleHRlbmRzfHN1cGVyfGV4cG9ydHxpbXBsZW1lbnRzfHByaXZhdGV8cHVibGljfGludGVyZmFjZXxwYWNrYWdlfHByb3RlY3RlZHxzdGF0aWNcIixcbiAgICAgICAgXCJzdG9yYWdlLnR5cGVcIjpcbiAgICAgICAgICAgIFwiY29uc3R8bGV0fHZhcnxmdW5jdGlvblwiLFxuICAgICAgICBcImNvbnN0YW50Lmxhbmd1YWdlXCI6XG4gICAgICAgICAgICBcIm51bGx8SW5maW5pdHl8TmFOfHVuZGVmaW5lZFwiLFxuICAgICAgICBcInN1cHBvcnQuZnVuY3Rpb25cIjpcbiAgICAgICAgICAgIFwiYWxlcnRcIixcbiAgICAgICAgXCJjb25zdGFudC5sYW5ndWFnZS5ib29sZWFuXCI6IFwidHJ1ZXxmYWxzZVwiXG4gICAgfSwgXCJpZGVudGlmaWVyXCIpO1xuICAgIHZhciBrd0JlZm9yZVJlID0gXCJjYXNlfGRvfGVsc2V8ZmluYWxseXxpbnxpbnN0YW5jZW9mfHJldHVybnx0aHJvd3x0cnl8dHlwZW9mfHlpZWxkfHZvaWRcIjtcbiAgICB2YXIgaWRlbnRpZmllclJlID0gXCJbYS16QS1aXFxcXCRfXFx1MDBhMS1cXHVmZmZmXVthLXpBLVpcXFxcZFxcXFwkX1xcdTAwYTEtXFx1ZmZmZl0qXFxcXGJcIjtcblxuICAgIHZhciBlc2NhcGVkUmUgPSBcIlxcXFxcXFxcKD86eFswLTlhLWZBLUZdezJ9fFwiICsgLy8gaGV4XG4gICAgICAgIFwidVswLTlhLWZBLUZdezR9fFwiICsgLy8gdW5pY29kZVxuICAgICAgICBcIlswLTJdWzAtN117MCwyfXxcIiArIC8vIG9jdFxuICAgICAgICBcIjNbMC02XVswLTddP3xcIiArIC8vIG9jdFxuICAgICAgICBcIjM3WzAtN10/fFwiICsgLy8gb2N0XG4gICAgICAgIFwiWzQtN11bMC03XT98XCIgKyAvL29jdFxuICAgICAgICBcIi4pXCI7XG5cbiAgICB0aGlzLiRydWxlcyA9IHtcbiAgICAgICAgXCJub19yZWdleFwiIDogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJjb21tZW50XCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiAvXFwvXFwvLiokL1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIERvY0NvbW1lbnRIaWdobGlnaHRSdWxlcy5nZXRTdGFydFJ1bGUoXCJkb2Mtc3RhcnRcIiksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcImNvbW1lbnRcIiwgLy8gbXVsdGkgbGluZSBjb21tZW50XG4gICAgICAgICAgICAgICAgcmVnZXggOiAvXFwvXFwqLyxcbiAgICAgICAgICAgICAgICBuZXh0IDogXCJjb21tZW50XCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIicoPz0uKVwiLFxuICAgICAgICAgICAgICAgIG5leHQgIDogXCJxc3RyaW5nXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiAnXCIoPz0uKScsXG4gICAgICAgICAgICAgICAgbmV4dCAgOiBcInFxc3RyaW5nXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwiY29uc3RhbnQubnVtZXJpY1wiLCAvLyBoZXhcbiAgICAgICAgICAgICAgICByZWdleCA6IC8wW3hYXVswLTlhLWZBLUZdK1xcYi9cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwiY29uc3RhbnQubnVtZXJpY1wiLCAvLyBmbG9hdFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogL1srLV0/XFxkKyg/Oig/OlxcLlxcZCopPyg/OltlRV1bKy1dP1xcZCspPyk/XFxiL1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogW1xuICAgICAgICAgICAgICAgICAgICBcInN0b3JhZ2UudHlwZVwiLCBcInB1bmN0dWF0aW9uLm9wZXJhdG9yXCIsIFwic3VwcG9ydC5mdW5jdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICBcInB1bmN0dWF0aW9uLm9wZXJhdG9yXCIsIFwiZW50aXR5Lm5hbWUuZnVuY3Rpb25cIiwgXCJ0ZXh0XCIsXCJrZXl3b3JkLm9wZXJhdG9yXCJcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogXCIoXCIgKyBpZGVudGlmaWVyUmUgKyBcIikoXFxcXC4pKHByb3RvdHlwZSkoXFxcXC4pKFwiICsgaWRlbnRpZmllclJlICtcIikoXFxcXHMqKSg9KVwiLFxuICAgICAgICAgICAgICAgIG5leHQ6IFwiZnVuY3Rpb25fYXJndW1lbnRzXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFtcbiAgICAgICAgICAgICAgICAgICAgXCJzdG9yYWdlLnR5cGVcIiwgXCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiLCBcImVudGl0eS5uYW1lLmZ1bmN0aW9uXCIsIFwidGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICBcImtleXdvcmQub3BlcmF0b3JcIiwgXCJ0ZXh0XCIsIFwic3RvcmFnZS50eXBlXCIsIFwidGV4dFwiLCBcInBhcmVuLmxwYXJlblwiXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiKFwiICsgaWRlbnRpZmllclJlICsgXCIpKFxcXFwuKShcIiArIGlkZW50aWZpZXJSZSArXCIpKFxcXFxzKikoPSkoXFxcXHMqKShmdW5jdGlvbikoXFxcXHMqKShcXFxcKClcIixcbiAgICAgICAgICAgICAgICBuZXh0OiBcImZ1bmN0aW9uX2FyZ3VtZW50c1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBbXG4gICAgICAgICAgICAgICAgICAgIFwiZW50aXR5Lm5hbWUuZnVuY3Rpb25cIiwgXCJ0ZXh0XCIsIFwia2V5d29yZC5vcGVyYXRvclwiLCBcInRleHRcIiwgXCJzdG9yYWdlLnR5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0XCIsIFwicGFyZW4ubHBhcmVuXCJcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogXCIoXCIgKyBpZGVudGlmaWVyUmUgK1wiKShcXFxccyopKD0pKFxcXFxzKikoZnVuY3Rpb24pKFxcXFxzKikoXFxcXCgpXCIsXG4gICAgICAgICAgICAgICAgbmV4dDogXCJmdW5jdGlvbl9hcmd1bWVudHNcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogW1xuICAgICAgICAgICAgICAgICAgICBcInN0b3JhZ2UudHlwZVwiLCBcInB1bmN0dWF0aW9uLm9wZXJhdG9yXCIsIFwiZW50aXR5Lm5hbWUuZnVuY3Rpb25cIiwgXCJ0ZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwia2V5d29yZC5vcGVyYXRvclwiLCBcInRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJzdG9yYWdlLnR5cGVcIiwgXCJ0ZXh0XCIsIFwiZW50aXR5Lm5hbWUuZnVuY3Rpb25cIiwgXCJ0ZXh0XCIsIFwicGFyZW4ubHBhcmVuXCJcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogXCIoXCIgKyBpZGVudGlmaWVyUmUgKyBcIikoXFxcXC4pKFwiICsgaWRlbnRpZmllclJlICtcIikoXFxcXHMqKSg9KShcXFxccyopKGZ1bmN0aW9uKShcXFxccyspKFxcXFx3KykoXFxcXHMqKShcXFxcKClcIixcbiAgICAgICAgICAgICAgICBuZXh0OiBcImZ1bmN0aW9uX2FyZ3VtZW50c1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBbXG4gICAgICAgICAgICAgICAgICAgIFwic3RvcmFnZS50eXBlXCIsIFwidGV4dFwiLCBcImVudGl0eS5uYW1lLmZ1bmN0aW9uXCIsIFwidGV4dFwiLCBcInBhcmVuLmxwYXJlblwiXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiKGZ1bmN0aW9uKShcXFxccyspKFwiICsgaWRlbnRpZmllclJlICsgXCIpKFxcXFxzKikoXFxcXCgpXCIsXG4gICAgICAgICAgICAgICAgbmV4dDogXCJmdW5jdGlvbl9hcmd1bWVudHNcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogW1xuICAgICAgICAgICAgICAgICAgICBcImVudGl0eS5uYW1lLmZ1bmN0aW9uXCIsIFwidGV4dFwiLCBcInB1bmN0dWF0aW9uLm9wZXJhdG9yXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidGV4dFwiLCBcInN0b3JhZ2UudHlwZVwiLCBcInRleHRcIiwgXCJwYXJlbi5scGFyZW5cIlxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIihcIiArIGlkZW50aWZpZXJSZSArIFwiKShcXFxccyopKDopKFxcXFxzKikoZnVuY3Rpb24pKFxcXFxzKikoXFxcXCgpXCIsXG4gICAgICAgICAgICAgICAgbmV4dDogXCJmdW5jdGlvbl9hcmd1bWVudHNcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogW1xuICAgICAgICAgICAgICAgICAgICBcInRleHRcIiwgXCJ0ZXh0XCIsIFwic3RvcmFnZS50eXBlXCIsIFwidGV4dFwiLCBcInBhcmVuLmxwYXJlblwiXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiKDopKFxcXFxzKikoZnVuY3Rpb24pKFxcXFxzKikoXFxcXCgpXCIsXG4gICAgICAgICAgICAgICAgbmV4dDogXCJmdW5jdGlvbl9hcmd1bWVudHNcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJrZXl3b3JkXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIig/OlwiICsga3dCZWZvcmVSZSArIFwiKVxcXFxiXCIsXG4gICAgICAgICAgICAgICAgbmV4dCA6IFwic3RhcnRcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogW1wicHVuY3R1YXRpb24ub3BlcmF0b3JcIiwgXCJzdXBwb3J0LmZ1bmN0aW9uXCJdLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogLyhcXC4pKHMoPzpoKD86aWZ0fG93KD86TW9kKD86ZWxlc3NEaWFsb2d8YWxEaWFsb2cpfEhlbHApKXxjcm9sbCg/Olh8QnkoPzpQYWdlc3xMaW5lcyk/fFl8VG8pP3x0KD86b3B6enp6fHJpa2UpfGkoPzpufHplVG9Db250ZW50fGRlYmFyfGduVGV4dCl8b3J0fHUoPzpwfGIoPzpzdHIoPzppbmcpPyk/KXxwbGkoPzpjZXx0KXxlKD86bmR8dCg/OlJlKD86c2l6YWJsZXxxdWVzdEhlYWRlcil8TSg/OmkoPzpudXRlc3xsbGlzZWNvbmRzKXxvbnRoKXxTZWNvbmRzfEhvKD86dEtleXN8dXJzKXxZZWFyfEN1cnNvcnxUaW1lKD86b3V0KT98SW50ZXJ2YWx8Wk9wdGlvbnN8RGF0ZXxVVEMoPzpNKD86aSg/Om51dGVzfGxsaXNlY29uZHMpfG9udGgpfFNlY29uZHN8SG91cnN8RGF0ZXxGdWxsWWVhcil8RnVsbFllYXJ8QWN0aXZlKXxhcmNoKXxxcnR8bGljZXxhdmVQcmVmZXJlbmNlc3xtYWxsKXxoKD86b21lfGFuZGxlRXZlbnQpfG5hdmlnYXRlfGMoPzpoYXIoPzpDb2RlQXR8QXQpfG8oPzpzfG4oPzpjYXR8dGV4dHVhbHxmaXJtKXxtcGlsZSl8ZWlsfGxlYXIoPzpUaW1lb3V0fEludGVydmFsKT98YSg/OnB0dXJlRXZlbnRzfGxsKXxyZWF0ZSg/OlN0eWxlU2hlZXR8UG9wdXB8RXZlbnRPYmplY3QpKXx0KD86byg/OkdNVFN0cmluZ3xTKD86dHJpbmd8b3VyY2UpfFUoPzpUQ1N0cmluZ3xwcGVyQ2FzZSl8TG8oPzpjYWxlU3RyaW5nfHdlckNhc2UpKXxlc3R8YSg/Om58aW50KD86RW5hYmxlZCk/KSl8aSg/OnMoPzpOYU58RmluaXRlKXxuZGV4T2Z8dGFsaWNzKXxkKD86aXNhYmxlRXh0ZXJuYWxDYXB0dXJlfHVtcHxldGFjaEV2ZW50KXx1KD86big/OnNoaWZ0fHRhaW50fGVzY2FwZXx3YXRjaCl8cGRhdGVDb21tYW5kcyl8aig/Om9pbnxhdmFFbmFibGVkKXxwKD86byg/OnB8dyl8dXNofGx1Z2lucy5yZWZyZXNofGEoPzpkZGluZ3N8cnNlKD86SW50fEZsb2F0KT8pfHIoPzppbnR8b21wdHxlZmVyZW5jZSkpfGUoPzpzY2FwZXxuYWJsZUV4dGVybmFsQ2FwdHVyZXx2YWx8bGVtZW50RnJvbVBvaW50fHgoPzpwfGVjKD86U2NyaXB0fENvbW1hbmQpPykpfHZhbHVlT2Z8VVRDfHF1ZXJ5Q29tbWFuZCg/OlN0YXRlfEluZGV0ZXJtfEVuYWJsZWR8VmFsdWUpfGYoPzppKD86bmR8bGUoPzpNb2RpZmllZERhdGV8U2l6ZXxDcmVhdGVkRGF0ZXxVcGRhdGVkRGF0ZSl8eGVkKXxvKD86bnQoPzpzaXplfGNvbG9yKXxyd2FyZCl8bG9vcnxyb21DaGFyQ29kZSl8d2F0Y2h8bCg/Omlua3xvKD86YWR8Zyl8YXN0SW5kZXhPZil8YSg/OnNpbnxuY2hvcnxjb3N8dCg/OnRhY2hFdmVudHxvYnxhbig/OjIpPyl8cHBseXxsZXJ0fGIoPzpzfG9ydCkpfHIoPzpvdSg/Om5kfHRlRXZlbnRzKXxlKD86c2l6ZSg/OkJ5fFRvKXxjYWxjfHR1cm5WYWx1ZXxwbGFjZXx2ZXJzZXxsKD86b2FkfGVhc2UoPzpDYXB0dXJlfEV2ZW50cykpKXxhbmRvbSl8Zyg/Om98ZXQoPzpSZXNwb25zZUhlYWRlcnxNKD86aSg/Om51dGVzfGxsaXNlY29uZHMpfG9udGgpfFNlKD86Y29uZHN8bGVjdGlvbil8SG91cnN8WWVhcnxUaW1lKD86em9uZU9mZnNldCk/fERhKD86eXx0ZSl8VVRDKD86TSg/OmkoPzpudXRlc3xsbGlzZWNvbmRzKXxvbnRoKXxTZWNvbmRzfEhvdXJzfERhKD86eXx0ZSl8RnVsbFllYXIpfEZ1bGxZZWFyfEEoPzp0dGVudGlvbnxsbFJlc3BvbnNlSGVhZGVycykpKXxtKD86aW58b3ZlKD86Qig/Onl8ZWxvdyl8VG8oPzpBYnNvbHV0ZSk/fEFib3ZlKXxlcmdlQXR0cmlidXRlc3xhKD86dGNofHJnaW5zfHgpKXxiKD86dG9hfGlnfG8oPzpsZHxyZGVyV2lkdGhzKXxsaW5rfGFjaykpXFxiKD89XFwoKS9cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFtcInB1bmN0dWF0aW9uLm9wZXJhdG9yXCIsIFwic3VwcG9ydC5mdW5jdGlvbi5kb21cIl0sXG4gICAgICAgICAgICAgICAgcmVnZXggOiAvKFxcLikocyg/OnViKD86c3RyaW5nRGF0YXxtaXQpfHBsaXRUZXh0fGUoPzp0KD86TmFtZWRJdGVtfEF0dHJpYnV0ZSg/Ok5vZGUpPyl8bGVjdCkpfGhhcyg/OkNoaWxkTm9kZXN8RmVhdHVyZSl8bmFtZWRJdGVtfGMoPzpsKD86aWNrfG8oPzpzZXxuZU5vZGUpKXxyZWF0ZSg/OkMoPzpvbW1lbnR8REFUQVNlY3Rpb258YXB0aW9uKXxUKD86SGVhZHxleHROb2RlfEZvb3QpfERvY3VtZW50RnJhZ21lbnR8UHJvY2Vzc2luZ0luc3RydWN0aW9ufEUoPzpudGl0eVJlZmVyZW5jZXxsZW1lbnQpfEF0dHJpYnV0ZSkpfHRhYkluZGV4fGkoPzpuc2VydCg/OlJvd3xCZWZvcmV8Q2VsbHxEYXRhKXx0ZW0pfG9wZW58ZGVsZXRlKD86Um93fEMoPzplbGx8YXB0aW9uKXxUKD86SGVhZHxGb290KXxEYXRhKXxmb2N1c3x3cml0ZSg/OmxuKT98YSg/OmRkfHBwZW5kKD86Q2hpbGR8RGF0YSkpfHJlKD86c2V0fHBsYWNlKD86Q2hpbGR8RGF0YSl8bW92ZSg/Ok5hbWVkSXRlbXxDaGlsZHxBdHRyaWJ1dGUoPzpOb2RlKT8pPyl8Z2V0KD86TmFtZWRJdGVtfEVsZW1lbnQoPzpzQnkoPzpOYW1lfFRhZ05hbWUpfEJ5SWQpfEF0dHJpYnV0ZSg/Ok5vZGUpPyl8Ymx1cilcXGIoPz1cXCgpL1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogW1wicHVuY3R1YXRpb24ub3BlcmF0b3JcIiwgXCJzdXBwb3J0LmNvbnN0YW50XCJdLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogLyhcXC4pKHMoPzp5c3RlbUxhbmd1YWdlfGNyKD86aXB0c3xvbGxiYXJzfGVlbig/Olh8WXxUb3B8TGVmdCkpfHQoPzp5bGUoPzpTaGVldHMpP3xhdHVzKD86VGV4dHxiYXIpPyl8aWJsaW5nKD86QmVsb3d8QWJvdmUpfG91cmNlfHVmZml4ZXN8ZSg/OmN1cml0eSg/OlBvbGljeSk/fGwoPzplY3Rpb258ZikpKXxoKD86aXN0b3J5fG9zdCg/Om5hbWUpP3xhcyg/Omh8Rm9jdXMpKXx5fFgoPzpNTERvY3VtZW50fFNMRG9jdW1lbnQpfG4oPzpleHR8YW1lKD86c3BhY2UoPzpzfFVSSSl8UHJvcCkpfE0oPzpJTl9WQUxVRXxBWF9WQUxVRSl8Yyg/OmhhcmFjdGVyU2V0fG8oPzpuKD86c3RydWN0b3J8dHJvbGxlcnMpfG9raWVFbmFibGVkfGxvckRlcHRofG1wKD86b25lbnRzfGxldGUpKXx1cnJlbnR8cHVDbGFzc3xsKD86aSg/OnAoPzpib2FyZERhdGEpP3xlbnRJbmZvcm1hdGlvbil8b3NlZHxhc3Nlcyl8YWxsZSg/OmV8cil8cnlwdG8pfHQoPzpvKD86b2xiYXJ8cCl8ZXh0KD86VHJhbnNmb3JtfEluZGVudHxEZWNvcmF0aW9ufEFsaWduKXxhZ3MpfFNRUlQoPzoxXzJ8Mil8aSg/Om4oPzpuZXIoPzpIZWlnaHR8V2lkdGgpfHB1dCl8ZHN8Z25vcmVDYXNlKXx6SW5kZXh8byg/OnNjcHV8big/OnJlYWR5c3RhdGVjaGFuZ2V8TGluZSl8dXRlcig/OkhlaWdodHxXaWR0aCl8cCg/OnNQcm9maWxlfGVuZXIpfGZmc2NyZWVuQnVmZmVyaW5nKXxORUdBVElWRV9JTkZJTklUWXxkKD86aSg/OnNwbGF5fGFsb2coPzpIZWlnaHR8VG9wfFdpZHRofExlZnR8QXJndW1lbnRzKXxyZWN0b3JpZXMpfGUoPzpzY3JpcHRpb258ZmF1bHQoPzpTdGF0dXN8Q2goPzplY2tlZHxhcnNldCl8VmlldykpKXx1KD86c2VyKD86UHJvZmlsZXxMYW5ndWFnZXxBZ2VudCl8big/OmlxdWVJRHxkZWZpbmVkKXxwZGF0ZUludGVydmFsKXxfY29udGVudHxwKD86aXhlbERlcHRofG9ydHxlcnNvbmFsYmFyfGtjczExfGwoPzp1Z2luc3xhdGZvcm0pfGEoPzp0aG5hbWV8ZGRpbmcoPzpSaWdodHxCb3R0b218VG9wfExlZnQpfHJlbnQoPzpXaW5kb3d8TGF5ZXIpP3xnZSg/OlgoPzpPZmZzZXQpP3xZKD86T2Zmc2V0KT8pKXxyKD86byg/OnRvKD86Y29sfHR5cGUpfGR1Y3QoPzpTdWIpP3xtcHRlcil8ZSg/OnZpb3VzfGZpeCkpKXxlKD86big/OmNvZGluZ3xhYmxlZFBsdWdpbil8eCg/OnRlcm5hbHxwYW5kbyl8bWJlZHMpfHYoPzppc2liaWxpdHl8ZW5kb3IoPzpTdWIpP3xMaW5rY29sb3IpfFVSTFVuZW5jb2RlZHxQKD86SXxPU0lUSVZFX0lORklOSVRZKXxmKD86aWxlbmFtZXxvKD86bnQoPzpTaXplfEZhbWlseXxXZWlnaHQpfHJtTmFtZSl8cmFtZSg/OnN8RWxlbWVudCl8Z0NvbG9yKXxFfHdoaXRlU3BhY2V8bCg/OmkoPzpzdFN0eWxlVHlwZXxuKD86ZUhlaWdodHxrQ29sb3IpKXxvKD86Y2EoPzp0aW9uKD86YmFyKT98bE5hbWUpfHdzcmMpfGUoPzpuZ3RofGZ0KD86Q29udGV4dCk/KXxhKD86c3QoPzpNKD86b2RpZmllZHxhdGNoKXxJbmRleHxQYXJlbil8eWVyKD86c3xYKXxuZ3VhZ2UpKXxhKD86cHAoPzpNaW5vclZlcnNpb258TmFtZXxDbyg/OmRlTmFtZXxyZSl8VmVyc2lvbil8dmFpbCg/OkhlaWdodHxUb3B8V2lkdGh8TGVmdCl8bGx8cig/Oml0eXxndW1lbnRzKXxMaW5rY29sb3J8Ym92ZSl8cig/OmlnaHQoPzpDb250ZXh0KT98ZSg/OnNwb25zZSg/OlhNTHxUZXh0KXxhZHlTdGF0ZSkpfGdsb2JhbHx4fG0oPzppbWVUeXBlc3x1bHRpbGluZXxlbnViYXJ8YXJnaW4oPzpSaWdodHxCb3R0b218VG9wfExlZnQpKXxMKD86Tig/OjEwfDIpfE9HKD86MTBFfDJFKSl8Yig/Om8oPzp0dG9tfHJkZXIoPzpXaWR0aHxSaWdodFdpZHRofEJvdHRvbVdpZHRofFN0eWxlfENvbG9yfFRvcFdpZHRofExlZnRXaWR0aCkpfHVmZmVyRGVwdGh8ZWxvd3xhY2tncm91bmQoPzpDb2xvcnxJbWFnZSkpKVxcYi9cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFtcInN0b3JhZ2UudHlwZVwiLCBcInB1bmN0dWF0aW9uLm9wZXJhdG9yXCIsIFwic3VwcG9ydC5mdW5jdGlvbi5maXJlYnVnXCJdLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogLyhjb25zb2xlKShcXC4pKHdhcm58aW5mb3xsb2d8ZXJyb3J8dGltZXx0aW1lRW5kfGFzc2VydClcXGIvXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBrZXl3b3JkTWFwcGVyLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogaWRlbnRpZmllclJlXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcImtleXdvcmQub3BlcmF0b3JcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IC8tLXxcXCtcXCt8WyEkJSYqK1xcLX5dfD09PXw9PXw9fCE9fCE9PXw8PXw+PXw8PD18Pj49fD4+Pj18PD58PHw+fCF8JiZ8XFx8XFx8fFxcP1xcOnxcXCo9fCU9fFxcKz18XFwtPXwmPXxcXF49LyxcbiAgICAgICAgICAgICAgICBuZXh0ICA6IFwic3RhcnRcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogL1xcP3xcXDp8XFwsfFxcO3xcXC4vLFxuICAgICAgICAgICAgICAgIG5leHQgIDogXCJzdGFydFwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInBhcmVuLmxwYXJlblwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogL1tcXFsoe10vLFxuICAgICAgICAgICAgICAgIG5leHQgIDogXCJzdGFydFwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInBhcmVuLnJwYXJlblwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogL1tcXF0pfV0vXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcImtleXdvcmQub3BlcmF0b3JcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IC9cXC89Py8sXG4gICAgICAgICAgICAgICAgbmV4dCAgOiBcInN0YXJ0XCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJjb21tZW50XCIsXG4gICAgICAgICAgICAgICAgcmVnZXg6IC9eIyEuKiQvXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwic3RhcnRcIjogW1xuICAgICAgICAgICAgRG9jQ29tbWVudEhpZ2hsaWdodFJ1bGVzLmdldFN0YXJ0UnVsZShcImRvYy1zdGFydFwiKSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwiY29tbWVudFwiLCAvLyBtdWx0aSBsaW5lIGNvbW1lbnRcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiXFxcXC9cXFxcKlwiLFxuICAgICAgICAgICAgICAgIG5leHQgOiBcImNvbW1lbnRfcmVnZXhfYWxsb3dlZFwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcImNvbW1lbnRcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiXFxcXC9cXFxcLy4qJFwiLFxuICAgICAgICAgICAgICAgIG5leHQgOiBcInN0YXJ0XCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJzdHJpbmcucmVnZXhwXCIsXG4gICAgICAgICAgICAgICAgcmVnZXg6IFwiXFxcXC9cIixcbiAgICAgICAgICAgICAgICBuZXh0OiBcInJlZ2V4XCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwidGV4dFwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogXCJcXFxccyt8XiRcIixcbiAgICAgICAgICAgICAgICBuZXh0IDogXCJzdGFydFwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW46IFwiZW1wdHlcIixcbiAgICAgICAgICAgICAgICByZWdleDogXCJcIixcbiAgICAgICAgICAgICAgICBuZXh0OiBcIm5vX3JlZ2V4XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJyZWdleFwiOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG9rZW46IFwicmVnZXhwLmtleXdvcmQub3BlcmF0b3JcIixcbiAgICAgICAgICAgICAgICByZWdleDogXCJcXFxcXFxcXCg/OnVbXFxcXGRhLWZBLUZdezR9fHhbXFxcXGRhLWZBLUZdezJ9fC4pXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJzdHJpbmcucmVnZXhwXCIsXG4gICAgICAgICAgICAgICAgcmVnZXg6IFwiL1xcXFx3KlwiLFxuICAgICAgICAgICAgICAgIG5leHQ6IFwibm9fcmVnZXhcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJpbnZhbGlkXCIsXG4gICAgICAgICAgICAgICAgcmVnZXg6IC9cXHtcXGQrXFxiLD9cXGQqXFx9WysqXXxbKyokXj9dWysqXXxbJF5dWz9dfFxcP3szLH0vXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZVwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiAvXFwoXFw/Wzo9IV18XFwpfFxce1xcZCtcXGIsP1xcZCpcXH18WysqXVxcP3xbKCkkXisqP10vXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcImNvbnN0YW50Lmxhbmd1YWdlLmRlbGltaXRlclwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiAvXFx8L1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuOiBcImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZVwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiAvXFxbXFxePy8sXG4gICAgICAgICAgICAgICAgbmV4dDogXCJyZWdleF9jaGFyYWN0ZXJfY2xhc3NcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuOiBcImVtcHR5XCIsXG4gICAgICAgICAgICAgICAgcmVnZXg6IFwiJFwiLFxuICAgICAgICAgICAgICAgIG5leHQ6IFwibm9fcmVnZXhcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRUb2tlbjogXCJzdHJpbmcucmVnZXhwXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJyZWdleF9jaGFyYWN0ZXJfY2xhc3NcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRva2VuOiBcInJlZ2V4cC5rZXl3b3JkLm9wZXJhdG9yXCIsXG4gICAgICAgICAgICAgICAgcmVnZXg6IFwiXFxcXFxcXFwoPzp1W1xcXFxkYS1mQS1GXXs0fXx4W1xcXFxkYS1mQS1GXXsyfXwuKVwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW46IFwiY29uc3RhbnQubGFuZ3VhZ2UuZXNjYXBlXCIsXG4gICAgICAgICAgICAgICAgcmVnZXg6IFwiXVwiLFxuICAgICAgICAgICAgICAgIG5leHQ6IFwicmVnZXhcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuOiBcImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZVwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiBcIi1cIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuOiBcImVtcHR5XCIsXG4gICAgICAgICAgICAgICAgcmVnZXg6IFwiJFwiLFxuICAgICAgICAgICAgICAgIG5leHQ6IFwibm9fcmVnZXhcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRUb2tlbjogXCJzdHJpbmcucmVnZXhwLmNoYXJhY2h0ZXJjbGFzc1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwiZnVuY3Rpb25fYXJndW1lbnRzXCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJ2YXJpYWJsZS5wYXJhbWV0ZXJcIixcbiAgICAgICAgICAgICAgICByZWdleDogaWRlbnRpZmllclJlXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW46IFwicHVuY3R1YXRpb24ub3BlcmF0b3JcIixcbiAgICAgICAgICAgICAgICByZWdleDogXCJbLCBdK1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW46IFwicHVuY3R1YXRpb24ub3BlcmF0b3JcIixcbiAgICAgICAgICAgICAgICByZWdleDogXCIkXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJlbXB0eVwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiBcIlwiLFxuICAgICAgICAgICAgICAgIG5leHQ6IFwibm9fcmVnZXhcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBcImNvbW1lbnRfcmVnZXhfYWxsb3dlZFwiIDogW1xuICAgICAgICAgICAge3Rva2VuIDogXCJjb21tZW50XCIsIHJlZ2V4IDogXCJcXFxcKlxcXFwvXCIsIG5leHQgOiBcInN0YXJ0XCJ9LFxuICAgICAgICAgICAge2RlZmF1bHRUb2tlbiA6IFwiY29tbWVudFwifVxuICAgICAgICBdLFxuICAgICAgICBcImNvbW1lbnRcIiA6IFtcbiAgICAgICAgICAgIHt0b2tlbiA6IFwiY29tbWVudFwiLCByZWdleCA6IFwiXFxcXCpcXFxcL1wiLCBuZXh0IDogXCJub19yZWdleFwifSxcbiAgICAgICAgICAgIHtkZWZhdWx0VG9rZW4gOiBcImNvbW1lbnRcIn1cbiAgICAgICAgXSxcbiAgICAgICAgXCJxcXN0cmluZ1wiIDogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJjb25zdGFudC5sYW5ndWFnZS5lc2NhcGVcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IGVzY2FwZWRSZVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiXFxcXFxcXFwkXCIsXG4gICAgICAgICAgICAgICAgbmV4dCAgOiBcInFxc3RyaW5nXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiAnXCJ8JCcsXG4gICAgICAgICAgICAgICAgbmV4dCAgOiBcIm5vX3JlZ2V4XCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0VG9rZW46IFwic3RyaW5nXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJxc3RyaW5nXCIgOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZVwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogZXNjYXBlZFJlXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogXCJcXFxcXFxcXCRcIixcbiAgICAgICAgICAgICAgICBuZXh0ICA6IFwicXN0cmluZ1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogXCInfCRcIixcbiAgICAgICAgICAgICAgICBuZXh0ICA6IFwibm9fcmVnZXhcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRUb2tlbjogXCJzdHJpbmdcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdXG4gICAgfTtcblxuICAgIHRoaXMuZW1iZWRSdWxlcyhEb2NDb21tZW50SGlnaGxpZ2h0UnVsZXMsIFwiZG9jLVwiLFxuICAgICAgICBbIERvY0NvbW1lbnRIaWdobGlnaHRSdWxlcy5nZXRFbmRSdWxlKFwibm9fcmVnZXhcIikgXSk7XG59O1xuXG5vb3AuaW5oZXJpdHMoSmF2YVNjcmlwdEhpZ2hsaWdodFJ1bGVzLCBUZXh0SGlnaGxpZ2h0UnVsZXMpO1xuXG5leHBvcnRzLkphdmFTY3JpcHRIaWdobGlnaHRSdWxlcyA9IEphdmFTY3JpcHRIaWdobGlnaHRSdWxlcztcbn0pO1xuXG5hY2UuZGVmaW5lKCdhY2UvbW9kZS9kb2NfY29tbWVudF9oaWdobGlnaHRfcnVsZXMnLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgLCAnYWNlL2xpYi9vb3AnLCAnYWNlL21vZGUvdGV4dF9oaWdobGlnaHRfcnVsZXMnXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4uL2xpYi9vb3BcIik7XG52YXIgVGV4dEhpZ2hsaWdodFJ1bGVzID0gYWNlcXVpcmUoXCIuL3RleHRfaGlnaGxpZ2h0X3J1bGVzXCIpLlRleHRIaWdobGlnaHRSdWxlcztcblxudmFyIERvY0NvbW1lbnRIaWdobGlnaHRSdWxlcyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy4kcnVsZXMgPSB7XG4gICAgICAgIFwic3RhcnRcIiA6IFsge1xuICAgICAgICAgICAgdG9rZW4gOiBcImNvbW1lbnQuZG9jLnRhZ1wiLFxuICAgICAgICAgICAgcmVnZXggOiBcIkBbXFxcXHdcXFxcZF9dK1wiIC8vIFRPRE86IGZpeCBlbWFpbCBhZGRyZXNzZXNcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdG9rZW4gOiBcImNvbW1lbnQuZG9jLnRhZ1wiLFxuICAgICAgICAgICAgcmVnZXggOiBcIlxcXFxiVE9ET1xcXFxiXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgZGVmYXVsdFRva2VuIDogXCJjb21tZW50LmRvY1wiXG4gICAgICAgIH1dXG4gICAgfTtcbn07XG5cbm9vcC5pbmhlcml0cyhEb2NDb21tZW50SGlnaGxpZ2h0UnVsZXMsIFRleHRIaWdobGlnaHRSdWxlcyk7XG5cbkRvY0NvbW1lbnRIaWdobGlnaHRSdWxlcy5nZXRTdGFydFJ1bGUgPSBmdW5jdGlvbihzdGFydCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRva2VuIDogXCJjb21tZW50LmRvY1wiLCAvLyBkb2MgY29tbWVudFxuICAgICAgICByZWdleCA6IFwiXFxcXC9cXFxcKig/PVxcXFwqKVwiLFxuICAgICAgICBuZXh0ICA6IHN0YXJ0XG4gICAgfTtcbn07XG5cbkRvY0NvbW1lbnRIaWdobGlnaHRSdWxlcy5nZXRFbmRSdWxlID0gZnVuY3Rpb24gKHN0YXJ0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9rZW4gOiBcImNvbW1lbnQuZG9jXCIsIC8vIGNsb3NpbmcgY29tbWVudFxuICAgICAgICByZWdleCA6IFwiXFxcXCpcXFxcL1wiLFxuICAgICAgICBuZXh0ICA6IHN0YXJ0XG4gICAgfTtcbn07XG5cblxuZXhwb3J0cy5Eb2NDb21tZW50SGlnaGxpZ2h0UnVsZXMgPSBEb2NDb21tZW50SGlnaGxpZ2h0UnVsZXM7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKCdhY2UvbW9kZS9tYXRjaGluZ19icmFjZV9vdXRkZW50JywgW1wicmVxdWlyZVwiLCAnZXhwb3J0cycsICdtb2R1bGUnICwgJ2FjZS9yYW5nZSddLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cblxudmFyIFJhbmdlID0gYWNlcXVpcmUoXCIuLi9yYW5nZVwiKS5SYW5nZTtcblxudmFyIE1hdGNoaW5nQnJhY2VPdXRkZW50ID0gZnVuY3Rpb24oKSB7fTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy5jaGVja091dGRlbnQgPSBmdW5jdGlvbihsaW5lLCBpbnB1dCkge1xuICAgICAgICBpZiAoISAvXlxccyskLy50ZXN0KGxpbmUpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHJldHVybiAvXlxccypcXH0vLnRlc3QoaW5wdXQpO1xuICAgIH07XG5cbiAgICB0aGlzLmF1dG9PdXRkZW50ID0gZnVuY3Rpb24oZG9jLCByb3cpIHtcbiAgICAgICAgdmFyIGxpbmUgPSBkb2MuZ2V0TGluZShyb3cpO1xuICAgICAgICB2YXIgbWF0Y2ggPSBsaW5lLm1hdGNoKC9eKFxccypcXH0pLyk7XG5cbiAgICAgICAgaWYgKCFtYXRjaCkgcmV0dXJuIDA7XG5cbiAgICAgICAgdmFyIGNvbHVtbiA9IG1hdGNoWzFdLmxlbmd0aDtcbiAgICAgICAgdmFyIG9wZW5CcmFjZVBvcyA9IGRvYy5maW5kTWF0Y2hpbmdCcmFja2V0KHtyb3c6IHJvdywgY29sdW1uOiBjb2x1bW59KTtcblxuICAgICAgICBpZiAoIW9wZW5CcmFjZVBvcyB8fCBvcGVuQnJhY2VQb3Mucm93ID09IHJvdykgcmV0dXJuIDA7XG5cbiAgICAgICAgdmFyIGluZGVudCA9IHRoaXMuJGdldEluZGVudChkb2MuZ2V0TGluZShvcGVuQnJhY2VQb3Mucm93KSk7XG4gICAgICAgIGRvYy5yZXBsYWNlKG5ldyBSYW5nZShyb3csIDAsIHJvdywgY29sdW1uLTEpLCBpbmRlbnQpO1xuICAgIH07XG5cbiAgICB0aGlzLiRnZXRJbmRlbnQgPSBmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgIHJldHVybiBsaW5lLm1hdGNoKC9eXFxzKi8pWzBdO1xuICAgIH07XG5cbn0pLmNhbGwoTWF0Y2hpbmdCcmFjZU91dGRlbnQucHJvdG90eXBlKTtcblxuZXhwb3J0cy5NYXRjaGluZ0JyYWNlT3V0ZGVudCA9IE1hdGNoaW5nQnJhY2VPdXRkZW50O1xufSk7XG5cbmFjZS5kZWZpbmUoJ2FjZS9tb2RlL2JlaGF2aW91ci9jc3R5bGUnLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgLCAnYWNlL2xpYi9vb3AnLCAnYWNlL21vZGUvYmVoYXZpb3VyJywgJ2FjZS90b2tlbl9pdGVyYXRvcicsICdhY2UvbGliL2xhbmcnXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4uLy4uL2xpYi9vb3BcIik7XG52YXIgQmVoYXZpb3VyID0gYWNlcXVpcmUoXCIuLi9iZWhhdmlvdXJcIikuQmVoYXZpb3VyO1xudmFyIFRva2VuSXRlcmF0b3IgPSBhY2VxdWlyZShcIi4uLy4uL3Rva2VuX2l0ZXJhdG9yXCIpLlRva2VuSXRlcmF0b3I7XG52YXIgbGFuZyA9IGFjZXF1aXJlKFwiLi4vLi4vbGliL2xhbmdcIik7XG5cbnZhciBTQUZFX0lOU0VSVF9JTl9UT0tFTlMgPVxuICAgIFtcInRleHRcIiwgXCJwYXJlbi5ycGFyZW5cIiwgXCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiXTtcbnZhciBTQUZFX0lOU0VSVF9CRUZPUkVfVE9LRU5TID1cbiAgICBbXCJ0ZXh0XCIsIFwicGFyZW4ucnBhcmVuXCIsIFwicHVuY3R1YXRpb24ub3BlcmF0b3JcIiwgXCJjb21tZW50XCJdO1xuXG5cbnZhciBhdXRvSW5zZXJ0ZWRCcmFja2V0cyA9IDA7XG52YXIgYXV0b0luc2VydGVkUm93ID0gLTE7XG52YXIgYXV0b0luc2VydGVkTGluZUVuZCA9IFwiXCI7XG52YXIgbWF5YmVJbnNlcnRlZEJyYWNrZXRzID0gMDtcbnZhciBtYXliZUluc2VydGVkUm93ID0gLTE7XG52YXIgbWF5YmVJbnNlcnRlZExpbmVTdGFydCA9IFwiXCI7XG52YXIgbWF5YmVJbnNlcnRlZExpbmVFbmQgPSBcIlwiO1xuXG52YXIgQ3N0eWxlQmVoYXZpb3VyID0gZnVuY3Rpb24gKCkge1xuICAgIFxuICAgIENzdHlsZUJlaGF2aW91ci5pc1NhbmVJbnNlcnRpb24gPSBmdW5jdGlvbihlZGl0b3IsIHNlc3Npb24pIHtcbiAgICAgICAgdmFyIGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSBuZXcgVG9rZW5JdGVyYXRvcihzZXNzaW9uLCBjdXJzb3Iucm93LCBjdXJzb3IuY29sdW1uKTtcbiAgICAgICAgaWYgKCF0aGlzLiRtYXRjaFRva2VuVHlwZShpdGVyYXRvci5nZXRDdXJyZW50VG9rZW4oKSB8fCBcInRleHRcIiwgU0FGRV9JTlNFUlRfSU5fVE9LRU5TKSkge1xuICAgICAgICAgICAgdmFyIGl0ZXJhdG9yMiA9IG5ldyBUb2tlbkl0ZXJhdG9yKHNlc3Npb24sIGN1cnNvci5yb3csIGN1cnNvci5jb2x1bW4gKyAxKTtcbiAgICAgICAgICAgIGlmICghdGhpcy4kbWF0Y2hUb2tlblR5cGUoaXRlcmF0b3IyLmdldEN1cnJlbnRUb2tlbigpIHx8IFwidGV4dFwiLCBTQUZFX0lOU0VSVF9JTl9UT0tFTlMpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpdGVyYXRvci5zdGVwRm9yd2FyZCgpO1xuICAgICAgICByZXR1cm4gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuUm93KCkgIT09IGN1cnNvci5yb3cgfHxcbiAgICAgICAgICAgIHRoaXMuJG1hdGNoVG9rZW5UeXBlKGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlbigpIHx8IFwidGV4dFwiLCBTQUZFX0lOU0VSVF9CRUZPUkVfVE9LRU5TKTtcbiAgICB9O1xuICAgIFxuICAgIENzdHlsZUJlaGF2aW91ci4kbWF0Y2hUb2tlblR5cGUgPSBmdW5jdGlvbih0b2tlbiwgdHlwZXMpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVzLmluZGV4T2YodG9rZW4udHlwZSB8fCB0b2tlbikgPiAtMTtcbiAgICB9O1xuICAgIFxuICAgIENzdHlsZUJlaGF2aW91ci5yZWNvcmRBdXRvSW5zZXJ0ID0gZnVuY3Rpb24oZWRpdG9yLCBzZXNzaW9uLCBicmFja2V0KSB7XG4gICAgICAgIHZhciBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmRvYy5nZXRMaW5lKGN1cnNvci5yb3cpO1xuICAgICAgICBpZiAoIXRoaXMuaXNBdXRvSW5zZXJ0ZWRDbG9zaW5nKGN1cnNvciwgbGluZSwgYXV0b0luc2VydGVkTGluZUVuZFswXSkpXG4gICAgICAgICAgICBhdXRvSW5zZXJ0ZWRCcmFja2V0cyA9IDA7XG4gICAgICAgIGF1dG9JbnNlcnRlZFJvdyA9IGN1cnNvci5yb3c7XG4gICAgICAgIGF1dG9JbnNlcnRlZExpbmVFbmQgPSBicmFja2V0ICsgbGluZS5zdWJzdHIoY3Vyc29yLmNvbHVtbik7XG4gICAgICAgIGF1dG9JbnNlcnRlZEJyYWNrZXRzKys7XG4gICAgfTtcbiAgICBcbiAgICBDc3R5bGVCZWhhdmlvdXIucmVjb3JkTWF5YmVJbnNlcnQgPSBmdW5jdGlvbihlZGl0b3IsIHNlc3Npb24sIGJyYWNrZXQpIHtcbiAgICAgICAgdmFyIGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZG9jLmdldExpbmUoY3Vyc29yLnJvdyk7XG4gICAgICAgIGlmICghdGhpcy5pc01heWJlSW5zZXJ0ZWRDbG9zaW5nKGN1cnNvciwgbGluZSkpXG4gICAgICAgICAgICBtYXliZUluc2VydGVkQnJhY2tldHMgPSAwO1xuICAgICAgICBtYXliZUluc2VydGVkUm93ID0gY3Vyc29yLnJvdztcbiAgICAgICAgbWF5YmVJbnNlcnRlZExpbmVTdGFydCA9IGxpbmUuc3Vic3RyKDAsIGN1cnNvci5jb2x1bW4pICsgYnJhY2tldDtcbiAgICAgICAgbWF5YmVJbnNlcnRlZExpbmVFbmQgPSBsaW5lLnN1YnN0cihjdXJzb3IuY29sdW1uKTtcbiAgICAgICAgbWF5YmVJbnNlcnRlZEJyYWNrZXRzKys7XG4gICAgfTtcbiAgICBcbiAgICBDc3R5bGVCZWhhdmlvdXIuaXNBdXRvSW5zZXJ0ZWRDbG9zaW5nID0gZnVuY3Rpb24oY3Vyc29yLCBsaW5lLCBicmFja2V0KSB7XG4gICAgICAgIHJldHVybiBhdXRvSW5zZXJ0ZWRCcmFja2V0cyA+IDAgJiZcbiAgICAgICAgICAgIGN1cnNvci5yb3cgPT09IGF1dG9JbnNlcnRlZFJvdyAmJlxuICAgICAgICAgICAgYnJhY2tldCA9PT0gYXV0b0luc2VydGVkTGluZUVuZFswXSAmJlxuICAgICAgICAgICAgbGluZS5zdWJzdHIoY3Vyc29yLmNvbHVtbikgPT09IGF1dG9JbnNlcnRlZExpbmVFbmQ7XG4gICAgfTtcbiAgICBcbiAgICBDc3R5bGVCZWhhdmlvdXIuaXNNYXliZUluc2VydGVkQ2xvc2luZyA9IGZ1bmN0aW9uKGN1cnNvciwgbGluZSkge1xuICAgICAgICByZXR1cm4gbWF5YmVJbnNlcnRlZEJyYWNrZXRzID4gMCAmJlxuICAgICAgICAgICAgY3Vyc29yLnJvdyA9PT0gbWF5YmVJbnNlcnRlZFJvdyAmJlxuICAgICAgICAgICAgbGluZS5zdWJzdHIoY3Vyc29yLmNvbHVtbikgPT09IG1heWJlSW5zZXJ0ZWRMaW5lRW5kICYmXG4gICAgICAgICAgICBsaW5lLnN1YnN0cigwLCBjdXJzb3IuY29sdW1uKSA9PSBtYXliZUluc2VydGVkTGluZVN0YXJ0O1xuICAgIH07XG4gICAgXG4gICAgQ3N0eWxlQmVoYXZpb3VyLnBvcEF1dG9JbnNlcnRlZENsb3NpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgYXV0b0luc2VydGVkTGluZUVuZCA9IGF1dG9JbnNlcnRlZExpbmVFbmQuc3Vic3RyKDEpO1xuICAgICAgICBhdXRvSW5zZXJ0ZWRCcmFja2V0cy0tO1xuICAgIH07XG4gICAgXG4gICAgQ3N0eWxlQmVoYXZpb3VyLmNsZWFyTWF5YmVJbnNlcnRlZENsb3NpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgbWF5YmVJbnNlcnRlZEJyYWNrZXRzID0gMDtcbiAgICAgICAgbWF5YmVJbnNlcnRlZFJvdyA9IC0xO1xuICAgIH07XG5cbiAgICB0aGlzLmFkZChcImJyYWNlc1wiLCBcImluc2VydGlvblwiLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbiwgZWRpdG9yLCBzZXNzaW9uLCB0ZXh0KSB7XG4gICAgICAgIHZhciBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmRvYy5nZXRMaW5lKGN1cnNvci5yb3cpO1xuICAgICAgICBpZiAodGV4dCA9PSAneycpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IHNlc3Npb24uZG9jLmdldFRleHRSYW5nZShzZWxlY3Rpb24pO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkICE9PSBcIlwiICYmIHNlbGVjdGVkICE9PSBcIntcIiAmJiBlZGl0b3IuZ2V0V3JhcEJlaGF2aW91cnNFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiAneycgKyBzZWxlY3RlZCArICd9JyxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKENzdHlsZUJlaGF2aW91ci5pc1NhbmVJbnNlcnRpb24oZWRpdG9yLCBzZXNzaW9uKSkge1xuICAgICAgICAgICAgICAgIGlmICgvW1xcXVxcfVxcKV0vLnRlc3QobGluZVtjdXJzb3IuY29sdW1uXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLnJlY29yZEF1dG9JbnNlcnQoZWRpdG9yLCBzZXNzaW9uLCBcIn1cIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAne30nLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgMV1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBDc3R5bGVCZWhhdmlvdXIucmVjb3JkTWF5YmVJbnNlcnQoZWRpdG9yLCBzZXNzaW9uLCBcIntcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAneycsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb246IFsxLCAxXVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0ZXh0ID09ICd9Jykge1xuICAgICAgICAgICAgdmFyIHJpZ2h0Q2hhciA9IGxpbmUuc3Vic3RyaW5nKGN1cnNvci5jb2x1bW4sIGN1cnNvci5jb2x1bW4gKyAxKTtcbiAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT0gJ30nKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoaW5nID0gc2Vzc2lvbi4kZmluZE9wZW5pbmdCcmFja2V0KCd9Jywge2NvbHVtbjogY3Vyc29yLmNvbHVtbiArIDEsIHJvdzogY3Vyc29yLnJvd30pO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZyAhPT0gbnVsbCAmJiBDc3R5bGVCZWhhdmlvdXIuaXNBdXRvSW5zZXJ0ZWRDbG9zaW5nKGN1cnNvciwgbGluZSwgdGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLnBvcEF1dG9JbnNlcnRlZENsb3NpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgMV1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGV4dCA9PSBcIlxcblwiIHx8IHRleHQgPT0gXCJcXHJcXG5cIikge1xuICAgICAgICAgICAgdmFyIGNsb3NpbmcgPSBcIlwiO1xuICAgICAgICAgICAgaWYgKENzdHlsZUJlaGF2aW91ci5pc01heWJlSW5zZXJ0ZWRDbG9zaW5nKGN1cnNvciwgbGluZSkpIHtcbiAgICAgICAgICAgICAgICBjbG9zaW5nID0gbGFuZy5zdHJpbmdSZXBlYXQoXCJ9XCIsIG1heWJlSW5zZXJ0ZWRCcmFja2V0cyk7XG4gICAgICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLmNsZWFyTWF5YmVJbnNlcnRlZENsb3NpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciByaWdodENoYXIgPSBsaW5lLnN1YnN0cmluZyhjdXJzb3IuY29sdW1uLCBjdXJzb3IuY29sdW1uICsgMSk7XG4gICAgICAgICAgICBpZiAocmlnaHRDaGFyID09ICd9JyB8fCBjbG9zaW5nICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9wZW5CcmFjZVBvcyA9IHNlc3Npb24uZmluZE1hdGNoaW5nQnJhY2tldCh7cm93OiBjdXJzb3Iucm93LCBjb2x1bW46IGN1cnNvci5jb2x1bW59LCAnfScpO1xuICAgICAgICAgICAgICAgIGlmICghb3BlbkJyYWNlUG9zKVxuICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgICAgICAgICB2YXIgaW5kZW50ID0gdGhpcy5nZXROZXh0TGluZUluZGVudChzdGF0ZSwgbGluZS5zdWJzdHJpbmcoMCwgY3Vyc29yLmNvbHVtbiksIHNlc3Npb24uZ2V0VGFiU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIHZhciBuZXh0X2luZGVudCA9IHRoaXMuJGdldEluZGVudChsaW5lKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6ICdcXG4nICsgaW5kZW50ICsgJ1xcbicgKyBuZXh0X2luZGVudCArIGNsb3NpbmcsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogWzEsIGluZGVudC5sZW5ndGgsIDEsIGluZGVudC5sZW5ndGhdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGQoXCJicmFjZXNcIiwgXCJkZWxldGlvblwiLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbiwgZWRpdG9yLCBzZXNzaW9uLCByYW5nZSkge1xuICAgICAgICB2YXIgc2VsZWN0ZWQgPSBzZXNzaW9uLmRvYy5nZXRUZXh0UmFuZ2UocmFuZ2UpO1xuICAgICAgICBpZiAoIXJhbmdlLmlzTXVsdGlMaW5lKCkgJiYgc2VsZWN0ZWQgPT0gJ3snKSB7XG4gICAgICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZG9jLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KTtcbiAgICAgICAgICAgIHZhciByaWdodENoYXIgPSBsaW5lLnN1YnN0cmluZyhyYW5nZS5lbmQuY29sdW1uLCByYW5nZS5lbmQuY29sdW1uICsgMSk7XG4gICAgICAgICAgICBpZiAocmlnaHRDaGFyID09ICd9Jykge1xuICAgICAgICAgICAgICAgIHJhbmdlLmVuZC5jb2x1bW4rKztcbiAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1heWJlSW5zZXJ0ZWRCcmFja2V0cy0tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZChcInBhcmVuc1wiLCBcImluc2VydGlvblwiLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbiwgZWRpdG9yLCBzZXNzaW9uLCB0ZXh0KSB7XG4gICAgICAgIGlmICh0ZXh0ID09ICcoJykge1xuICAgICAgICAgICAgdmFyIHNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gc2Vzc2lvbi5kb2MuZ2V0VGV4dFJhbmdlKHNlbGVjdGlvbik7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWQgIT09IFwiXCIgJiYgZWRpdG9yLmdldFdyYXBCZWhhdmlvdXJzRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJygnICsgc2VsZWN0ZWQgKyAnKScsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogZmFsc2VcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChDc3R5bGVCZWhhdmlvdXIuaXNTYW5lSW5zZXJ0aW9uKGVkaXRvciwgc2Vzc2lvbikpIHtcbiAgICAgICAgICAgICAgICBDc3R5bGVCZWhhdmlvdXIucmVjb3JkQXV0b0luc2VydChlZGl0b3IsIHNlc3Npb24sIFwiKVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnKCknLFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb246IFsxLCAxXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGV4dCA9PSAnKScpIHtcbiAgICAgICAgICAgIHZhciBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5kb2MuZ2V0TGluZShjdXJzb3Iucm93KTtcbiAgICAgICAgICAgIHZhciByaWdodENoYXIgPSBsaW5lLnN1YnN0cmluZyhjdXJzb3IuY29sdW1uLCBjdXJzb3IuY29sdW1uICsgMSk7XG4gICAgICAgICAgICBpZiAocmlnaHRDaGFyID09ICcpJykge1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaGluZyA9IHNlc3Npb24uJGZpbmRPcGVuaW5nQnJhY2tldCgnKScsIHtjb2x1bW46IGN1cnNvci5jb2x1bW4gKyAxLCByb3c6IGN1cnNvci5yb3d9KTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hpbmcgIT09IG51bGwgJiYgQ3N0eWxlQmVoYXZpb3VyLmlzQXV0b0luc2VydGVkQ2xvc2luZyhjdXJzb3IsIGxpbmUsIHRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIENzdHlsZUJlaGF2aW91ci5wb3BBdXRvSW5zZXJ0ZWRDbG9zaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogWzEsIDFdXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZChcInBhcmVuc1wiLCBcImRlbGV0aW9uXCIsIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uLCBlZGl0b3IsIHNlc3Npb24sIHJhbmdlKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9IHNlc3Npb24uZG9jLmdldFRleHRSYW5nZShyYW5nZSk7XG4gICAgICAgIGlmICghcmFuZ2UuaXNNdWx0aUxpbmUoKSAmJiBzZWxlY3RlZCA9PSAnKCcpIHtcbiAgICAgICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5kb2MuZ2V0TGluZShyYW5nZS5zdGFydC5yb3cpO1xuICAgICAgICAgICAgdmFyIHJpZ2h0Q2hhciA9IGxpbmUuc3Vic3RyaW5nKHJhbmdlLnN0YXJ0LmNvbHVtbiArIDEsIHJhbmdlLnN0YXJ0LmNvbHVtbiArIDIpO1xuICAgICAgICAgICAgaWYgKHJpZ2h0Q2hhciA9PSAnKScpIHtcbiAgICAgICAgICAgICAgICByYW5nZS5lbmQuY29sdW1uKys7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZChcImJyYWNrZXRzXCIsIFwiaW5zZXJ0aW9uXCIsIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uLCBlZGl0b3IsIHNlc3Npb24sIHRleHQpIHtcbiAgICAgICAgaWYgKHRleHQgPT0gJ1snKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBzZXNzaW9uLmRvYy5nZXRUZXh0UmFuZ2Uoc2VsZWN0aW9uKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZCAhPT0gXCJcIiAmJiBlZGl0b3IuZ2V0V3JhcEJlaGF2aW91cnNFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnWycgKyBzZWxlY3RlZCArICddJyxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKENzdHlsZUJlaGF2aW91ci5pc1NhbmVJbnNlcnRpb24oZWRpdG9yLCBzZXNzaW9uKSkge1xuICAgICAgICAgICAgICAgIENzdHlsZUJlaGF2aW91ci5yZWNvcmRBdXRvSW5zZXJ0KGVkaXRvciwgc2Vzc2lvbiwgXCJdXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6ICdbXScsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogWzEsIDFdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0ZXh0ID09ICddJykge1xuICAgICAgICAgICAgdmFyIGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmRvYy5nZXRMaW5lKGN1cnNvci5yb3cpO1xuICAgICAgICAgICAgdmFyIHJpZ2h0Q2hhciA9IGxpbmUuc3Vic3RyaW5nKGN1cnNvci5jb2x1bW4sIGN1cnNvci5jb2x1bW4gKyAxKTtcbiAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT0gJ10nKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoaW5nID0gc2Vzc2lvbi4kZmluZE9wZW5pbmdCcmFja2V0KCddJywge2NvbHVtbjogY3Vyc29yLmNvbHVtbiArIDEsIHJvdzogY3Vyc29yLnJvd30pO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZyAhPT0gbnVsbCAmJiBDc3R5bGVCZWhhdmlvdXIuaXNBdXRvSW5zZXJ0ZWRDbG9zaW5nKGN1cnNvciwgbGluZSwgdGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLnBvcEF1dG9JbnNlcnRlZENsb3NpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgMV1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkKFwiYnJhY2tldHNcIiwgXCJkZWxldGlvblwiLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbiwgZWRpdG9yLCBzZXNzaW9uLCByYW5nZSkge1xuICAgICAgICB2YXIgc2VsZWN0ZWQgPSBzZXNzaW9uLmRvYy5nZXRUZXh0UmFuZ2UocmFuZ2UpO1xuICAgICAgICBpZiAoIXJhbmdlLmlzTXVsdGlMaW5lKCkgJiYgc2VsZWN0ZWQgPT0gJ1snKSB7XG4gICAgICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZG9jLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KTtcbiAgICAgICAgICAgIHZhciByaWdodENoYXIgPSBsaW5lLnN1YnN0cmluZyhyYW5nZS5zdGFydC5jb2x1bW4gKyAxLCByYW5nZS5zdGFydC5jb2x1bW4gKyAyKTtcbiAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT0gJ10nKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbisrO1xuICAgICAgICAgICAgICAgIHJldHVybiByYW5nZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGQoXCJzdHJpbmdfZHF1b3Rlc1wiLCBcImluc2VydGlvblwiLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbiwgZWRpdG9yLCBzZXNzaW9uLCB0ZXh0KSB7XG4gICAgICAgIGlmICh0ZXh0ID09ICdcIicgfHwgdGV4dCA9PSBcIidcIikge1xuICAgICAgICAgICAgdmFyIHF1b3RlID0gdGV4dDtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IHNlc3Npb24uZG9jLmdldFRleHRSYW5nZShzZWxlY3Rpb24pO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkICE9PSBcIlwiICYmIHNlbGVjdGVkICE9PSBcIidcIiAmJiBzZWxlY3RlZCAhPSAnXCInICYmIGVkaXRvci5nZXRXcmFwQmVoYXZpb3Vyc0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHF1b3RlICsgc2VsZWN0ZWQgKyBxdW90ZSxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZG9jLmdldExpbmUoY3Vyc29yLnJvdyk7XG4gICAgICAgICAgICAgICAgdmFyIGxlZnRDaGFyID0gbGluZS5zdWJzdHJpbmcoY3Vyc29yLmNvbHVtbi0xLCBjdXJzb3IuY29sdW1uKTtcbiAgICAgICAgICAgICAgICBpZiAobGVmdENoYXIgPT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdG9rZW5zID0gc2Vzc2lvbi5nZXRUb2tlbnMoc2VsZWN0aW9uLnN0YXJ0LnJvdyk7XG4gICAgICAgICAgICAgICAgdmFyIGNvbCA9IDAsIHRva2VuO1xuICAgICAgICAgICAgICAgIHZhciBxdW90ZXBvcyA9IC0xOyAvLyBUcmFjayB3aGV0aGVyIHdlJ3JlIGluc2lkZSBhbiBvcGVuIHF1b3RlLlxuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB0b2tlbnMubGVuZ3RoOyB4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbnNbeF07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBxdW90ZXBvcyA9IC0xO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHF1b3RlcG9zIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgIHF1b3RlcG9zID0gdG9rZW4udmFsdWUuaW5kZXhPZihxdW90ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCh0b2tlbi52YWx1ZS5sZW5ndGggKyBjb2wpID4gc2VsZWN0aW9uLnN0YXJ0LmNvbHVtbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29sICs9IHRva2Vuc1t4XS52YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghdG9rZW4gfHwgKHF1b3RlcG9zIDwgMCAmJiB0b2tlbi50eXBlICE9PSBcImNvbW1lbnRcIiAmJiAodG9rZW4udHlwZSAhPT0gXCJzdHJpbmdcIiB8fCAoKHNlbGVjdGlvbi5zdGFydC5jb2x1bW4gIT09IHRva2VuLnZhbHVlLmxlbmd0aCtjb2wtMSkgJiYgdG9rZW4udmFsdWUubGFzdEluZGV4T2YocXVvdGUpID09PSB0b2tlbi52YWx1ZS5sZW5ndGgtMSkpKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUNzdHlsZUJlaGF2aW91ci5pc1NhbmVJbnNlcnRpb24oZWRpdG9yLCBzZXNzaW9uKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHF1b3RlICsgcXVvdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb246IFsxLDFdXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbiAmJiB0b2tlbi50eXBlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByaWdodENoYXIgPSBsaW5lLnN1YnN0cmluZyhjdXJzb3IuY29sdW1uLCBjdXJzb3IuY29sdW1uICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT0gcXVvdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgMV1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkKFwic3RyaW5nX2RxdW90ZXNcIiwgXCJkZWxldGlvblwiLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbiwgZWRpdG9yLCBzZXNzaW9uLCByYW5nZSkge1xuICAgICAgICB2YXIgc2VsZWN0ZWQgPSBzZXNzaW9uLmRvYy5nZXRUZXh0UmFuZ2UocmFuZ2UpO1xuICAgICAgICBpZiAoIXJhbmdlLmlzTXVsdGlMaW5lKCkgJiYgKHNlbGVjdGVkID09ICdcIicgfHwgc2VsZWN0ZWQgPT0gXCInXCIpKSB7XG4gICAgICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZG9jLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KTtcbiAgICAgICAgICAgIHZhciByaWdodENoYXIgPSBsaW5lLnN1YnN0cmluZyhyYW5nZS5zdGFydC5jb2x1bW4gKyAxLCByYW5nZS5zdGFydC5jb2x1bW4gKyAyKTtcbiAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT0gc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICByYW5nZS5lbmQuY29sdW1uKys7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbn07XG5cbm9vcC5pbmhlcml0cyhDc3R5bGVCZWhhdmlvdXIsIEJlaGF2aW91cik7XG5cbmV4cG9ydHMuQ3N0eWxlQmVoYXZpb3VyID0gQ3N0eWxlQmVoYXZpb3VyO1xufSk7XG5cbmFjZS5kZWZpbmUoJ2FjZS9tb2RlL2ZvbGRpbmcvY3N0eWxlJywgW1wicmVxdWlyZVwiLCAnZXhwb3J0cycsICdtb2R1bGUnICwgJ2FjZS9saWIvb29wJywgJ2FjZS9yYW5nZScsICdhY2UvbW9kZS9mb2xkaW5nL2ZvbGRfbW9kZSddLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cblxudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi4vLi4vbGliL29vcFwiKTtcbnZhciBSYW5nZSA9IGFjZXF1aXJlKFwiLi4vLi4vcmFuZ2VcIikuUmFuZ2U7XG52YXIgQmFzZUZvbGRNb2RlID0gYWNlcXVpcmUoXCIuL2ZvbGRfbW9kZVwiKS5Gb2xkTW9kZTtcblxudmFyIEZvbGRNb2RlID0gZXhwb3J0cy5Gb2xkTW9kZSA9IGZ1bmN0aW9uKGNvbW1lbnRSZWdleCkge1xuICAgIGlmIChjb21tZW50UmVnZXgpIHtcbiAgICAgICAgdGhpcy5mb2xkaW5nU3RhcnRNYXJrZXIgPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgdGhpcy5mb2xkaW5nU3RhcnRNYXJrZXIuc291cmNlLnJlcGxhY2UoL1xcfFtefF0qPyQvLCBcInxcIiArIGNvbW1lbnRSZWdleC5zdGFydClcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5mb2xkaW5nU3RvcE1hcmtlciA9IG5ldyBSZWdFeHAoXG4gICAgICAgICAgICB0aGlzLmZvbGRpbmdTdG9wTWFya2VyLnNvdXJjZS5yZXBsYWNlKC9cXHxbXnxdKj8kLywgXCJ8XCIgKyBjb21tZW50UmVnZXguZW5kKVxuICAgICAgICApO1xuICAgIH1cbn07XG5vb3AuaW5oZXJpdHMoRm9sZE1vZGUsIEJhc2VGb2xkTW9kZSk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIHRoaXMuZm9sZGluZ1N0YXJ0TWFya2VyID0gLyhcXHt8XFxbKVteXFx9XFxdXSokfF5cXHMqKFxcL1xcKikvO1xuICAgIHRoaXMuZm9sZGluZ1N0b3BNYXJrZXIgPSAvXlteXFxbXFx7XSooXFx9fFxcXSl8XltcXHNcXCpdKihcXCpcXC8pLztcblxuICAgIHRoaXMuZ2V0Rm9sZFdpZGdldFJhbmdlID0gZnVuY3Rpb24oc2Vzc2lvbiwgZm9sZFN0eWxlLCByb3cpIHtcbiAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocm93KTtcbiAgICAgICAgdmFyIG1hdGNoID0gbGluZS5tYXRjaCh0aGlzLmZvbGRpbmdTdGFydE1hcmtlcik7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgdmFyIGkgPSBtYXRjaC5pbmRleDtcblxuICAgICAgICAgICAgaWYgKG1hdGNoWzFdKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wZW5pbmdCcmFja2V0QmxvY2soc2Vzc2lvbiwgbWF0Y2hbMV0sIHJvdywgaSk7XG5cbiAgICAgICAgICAgIHJldHVybiBzZXNzaW9uLmdldENvbW1lbnRGb2xkUmFuZ2Uocm93LCBpICsgbWF0Y2hbMF0ubGVuZ3RoLCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmb2xkU3R5bGUgIT09IFwibWFya2JlZ2luZW5kXCIpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIG1hdGNoID0gbGluZS5tYXRjaCh0aGlzLmZvbGRpbmdTdG9wTWFya2VyKTtcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICB2YXIgaSA9IG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoO1xuXG4gICAgICAgICAgICBpZiAobWF0Y2hbMV0pXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xvc2luZ0JyYWNrZXRCbG9jayhzZXNzaW9uLCBtYXRjaFsxXSwgcm93LCBpKTtcblxuICAgICAgICAgICAgcmV0dXJuIHNlc3Npb24uZ2V0Q29tbWVudEZvbGRSYW5nZShyb3csIGksIC0xKTtcbiAgICAgICAgfVxuICAgIH07XG5cbn0pLmNhbGwoRm9sZE1vZGUucHJvdG90eXBlKTtcblxufSk7XG4iLCIvKiAqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqXG4gKiBEaXN0cmlidXRlZCB1bmRlciB0aGUgQlNEIGxpY2Vuc2U6XG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDEwLCBBamF4Lm9yZyBCLlYuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuICogICAgICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqICAgICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0XG4gKiAgICAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gKiAgICAgICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICogICAgICogTmVpdGhlciB0aGUgbmFtZSBvZiBBamF4Lm9yZyBCLlYuIG5vciB0aGVcbiAqICAgICAgIG5hbWVzIG9mIGl0cyBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzXG4gKiAgICAgICBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqIFxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCIgQU5EXG4gKiBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxuICogV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRVxuICogRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgQUpBWC5PUkcgQi5WLiBCRSBMSUFCTEUgRk9SIEFOWVxuICogRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVNcbiAqIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUztcbiAqIExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORFxuICogT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlRcbiAqIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTXG4gKiBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqXG4gKiAqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKiAqL1xuXG5hY2UuZGVmaW5lKCdhY2UvbW9kZS9qc29uJywgW1wicmVxdWlyZVwiLCAnZXhwb3J0cycsICdtb2R1bGUnICwgJ2FjZS9saWIvb29wJywgJ2FjZS9tb2RlL3RleHQnLCAnYWNlL3Rva2VuaXplcicsICdhY2UvbW9kZS9qc29uX2hpZ2hsaWdodF9ydWxlcycsICdhY2UvbW9kZS9tYXRjaGluZ19icmFjZV9vdXRkZW50JywgJ2FjZS9tb2RlL2JlaGF2aW91ci9jc3R5bGUnLCAnYWNlL21vZGUvZm9sZGluZy9jc3R5bGUnLCAnYWNlL3dvcmtlci93b3JrZXJfY2xpZW50J10sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuXG52YXIgb29wID0gYWNlcXVpcmUoXCIuLi9saWIvb29wXCIpO1xudmFyIFRleHRNb2RlID0gYWNlcXVpcmUoXCIuL3RleHRcIikuTW9kZTtcbnZhciBUb2tlbml6ZXIgPSBhY2VxdWlyZShcIi4uL3Rva2VuaXplclwiKS5Ub2tlbml6ZXI7XG52YXIgSGlnaGxpZ2h0UnVsZXMgPSBhY2VxdWlyZShcIi4vanNvbl9oaWdobGlnaHRfcnVsZXNcIikuSnNvbkhpZ2hsaWdodFJ1bGVzO1xudmFyIE1hdGNoaW5nQnJhY2VPdXRkZW50ID0gYWNlcXVpcmUoXCIuL21hdGNoaW5nX2JyYWNlX291dGRlbnRcIikuTWF0Y2hpbmdCcmFjZU91dGRlbnQ7XG52YXIgQ3N0eWxlQmVoYXZpb3VyID0gYWNlcXVpcmUoXCIuL2JlaGF2aW91ci9jc3R5bGVcIikuQ3N0eWxlQmVoYXZpb3VyO1xudmFyIENTdHlsZUZvbGRNb2RlID0gYWNlcXVpcmUoXCIuL2ZvbGRpbmcvY3N0eWxlXCIpLkZvbGRNb2RlO1xudmFyIFdvcmtlckNsaWVudCA9IGFjZXF1aXJlKFwiLi4vd29ya2VyL3dvcmtlcl9jbGllbnRcIikuV29ya2VyQ2xpZW50O1xuXG52YXIgTW9kZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJHRva2VuaXplciA9IG5ldyBUb2tlbml6ZXIobmV3IEhpZ2hsaWdodFJ1bGVzKCkuZ2V0UnVsZXMoKSk7XG4gICAgdGhpcy4kb3V0ZGVudCA9IG5ldyBNYXRjaGluZ0JyYWNlT3V0ZGVudCgpO1xuICAgIHRoaXMuJGJlaGF2aW91ciA9IG5ldyBDc3R5bGVCZWhhdmlvdXIoKTtcbiAgICB0aGlzLmZvbGRpbmdSdWxlcyA9IG5ldyBDU3R5bGVGb2xkTW9kZSgpO1xufTtcbm9vcC5pbmhlcml0cyhNb2RlLCBUZXh0TW9kZSk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIHRoaXMuZ2V0TmV4dExpbmVJbmRlbnQgPSBmdW5jdGlvbihzdGF0ZSwgbGluZSwgdGFiKSB7XG4gICAgICAgIHZhciBpbmRlbnQgPSB0aGlzLiRnZXRJbmRlbnQobGluZSk7XG5cbiAgICAgICAgaWYgKHN0YXRlID09IFwic3RhcnRcIikge1xuICAgICAgICAgICAgdmFyIG1hdGNoID0gbGluZS5tYXRjaCgvXi4qW1xce1xcKFxcW11cXHMqJC8pO1xuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgaW5kZW50ICs9IHRhYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbmRlbnQ7XG4gICAgfTtcblxuICAgIHRoaXMuY2hlY2tPdXRkZW50ID0gZnVuY3Rpb24oc3RhdGUsIGxpbmUsIGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRvdXRkZW50LmNoZWNrT3V0ZGVudChsaW5lLCBpbnB1dCk7XG4gICAgfTtcblxuICAgIHRoaXMuYXV0b091dGRlbnQgPSBmdW5jdGlvbihzdGF0ZSwgZG9jLCByb3cpIHtcbiAgICAgICAgdGhpcy4kb3V0ZGVudC5hdXRvT3V0ZGVudChkb2MsIHJvdyk7XG4gICAgfTtcblxuICAgIHRoaXMuY3JlYXRlV29ya2VyID0gZnVuY3Rpb24oc2Vzc2lvbikge1xuICAgICAgICB2YXIgd29ya2VyID0gbmV3IFdvcmtlckNsaWVudChbXCJhY2VcIl0sIHJlcXVpcmUoXCIuLi93b3JrZXIvanNvblwiKSwgXCJKc29uV29ya2VyXCIpO1xuICAgICAgICB3b3JrZXIuYXR0YWNoVG9Eb2N1bWVudChzZXNzaW9uLmdldERvY3VtZW50KCkpO1xuXG4gICAgICAgIHdvcmtlci5vbihcImVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHNlc3Npb24uc2V0QW5ub3RhdGlvbnMoW2UuZGF0YV0pO1xuICAgICAgICB9KTtcblxuICAgICAgICB3b3JrZXIub24oXCJva1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlc3Npb24uY2xlYXJBbm5vdGF0aW9ucygpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gd29ya2VyO1xuICAgIH07XG5cblxufSkuY2FsbChNb2RlLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuTW9kZSA9IE1vZGU7XG59KTtcblxuYWNlLmRlZmluZSgnYWNlL21vZGUvanNvbl9oaWdobGlnaHRfcnVsZXMnLCBbXCJyZXF1aXJlXCIsICdleHBvcnRzJywgJ21vZHVsZScgLCAnYWNlL2xpYi9vb3AnLCAnYWNlL21vZGUvdGV4dF9oaWdobGlnaHRfcnVsZXMnXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4uL2xpYi9vb3BcIik7XG52YXIgVGV4dEhpZ2hsaWdodFJ1bGVzID0gYWNlcXVpcmUoXCIuL3RleHRfaGlnaGxpZ2h0X3J1bGVzXCIpLlRleHRIaWdobGlnaHRSdWxlcztcblxudmFyIEpzb25IaWdobGlnaHRSdWxlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJHJ1bGVzID0ge1xuICAgICAgICBcInN0YXJ0XCIgOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInZhcmlhYmxlXCIsIC8vIHNpbmdsZSBsaW5lXG4gICAgICAgICAgICAgICAgcmVnZXggOiAnW1wiXSg/Oig/OlxcXFxcXFxcLil8KD86W15cIlxcXFxcXFxcXSkpKj9bXCJdXFxcXHMqKD89OiknXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInN0cmluZ1wiLCAvLyBzaW5nbGUgbGluZVxuICAgICAgICAgICAgICAgIHJlZ2V4IDogJ1wiJyxcbiAgICAgICAgICAgICAgICBuZXh0ICA6IFwic3RyaW5nXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwiY29uc3RhbnQubnVtZXJpY1wiLCAvLyBoZXhcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiMFt4WF1bMC05YS1mQS1GXStcXFxcYlwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcImNvbnN0YW50Lm51bWVyaWNcIiwgLy8gZmxvYXRcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiWystXT9cXFxcZCsoPzooPzpcXFxcLlxcXFxkKik/KD86W2VFXVsrLV0/XFxcXGQrKT8pP1xcXFxiXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwiY29uc3RhbnQubGFuZ3VhZ2UuYm9vbGVhblwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogXCIoPzp0cnVlfGZhbHNlKVxcXFxiXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwiaW52YWxpZC5pbGxlZ2FsXCIsIC8vIHNpbmdsZSBxdW90ZWQgc3RyaW5ncyBhcmUgbm90IGFsbG93ZWRcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiWyddKD86KD86XFxcXFxcXFwuKXwoPzpbXidcXFxcXFxcXF0pKSo/WyddXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwiaW52YWxpZC5pbGxlZ2FsXCIsIC8vIGNvbW1lbnRzIGFyZSBub3QgYWxsb3dlZFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogXCJcXFxcL1xcXFwvLiokXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwicGFyZW4ubHBhcmVuXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIltbKHtdXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwicGFyZW4ucnBhcmVuXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIltcXFxcXSl9XVwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiXFxcXHMrXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJzdHJpbmdcIiA6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwiY29uc3RhbnQubGFuZ3VhZ2UuZXNjYXBlXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiAvXFxcXCg/OnhbMC05YS1mQS1GXXsyfXx1WzAtOWEtZkEtRl17NH18W1wiXFxcXFxcL2JmbnJ0XSkvXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogJ1teXCJcXFxcXFxcXF0rJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICByZWdleCA6ICdcIicsXG4gICAgICAgICAgICAgICAgbmV4dCAgOiBcInN0YXJ0XCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIlwiLFxuICAgICAgICAgICAgICAgIG5leHQgIDogXCJzdGFydFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9O1xuICAgIFxufTtcblxub29wLmluaGVyaXRzKEpzb25IaWdobGlnaHRSdWxlcywgVGV4dEhpZ2hsaWdodFJ1bGVzKTtcblxuZXhwb3J0cy5Kc29uSGlnaGxpZ2h0UnVsZXMgPSBKc29uSGlnaGxpZ2h0UnVsZXM7XG59KTtcblxuYWNlLmRlZmluZSgnYWNlL21vZGUvbWF0Y2hpbmdfYnJhY2Vfb3V0ZGVudCcsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyAsICdhY2UvcmFuZ2UnXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5cbnZhciBSYW5nZSA9IGFjZXF1aXJlKFwiLi4vcmFuZ2VcIikuUmFuZ2U7XG5cbnZhciBNYXRjaGluZ0JyYWNlT3V0ZGVudCA9IGZ1bmN0aW9uKCkge307XG5cbihmdW5jdGlvbigpIHtcblxuICAgIHRoaXMuY2hlY2tPdXRkZW50ID0gZnVuY3Rpb24obGluZSwgaW5wdXQpIHtcbiAgICAgICAgaWYgKCEgL15cXHMrJC8udGVzdChsaW5lKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICByZXR1cm4gL15cXHMqXFx9Ly50ZXN0KGlucHV0KTtcbiAgICB9O1xuXG4gICAgdGhpcy5hdXRvT3V0ZGVudCA9IGZ1bmN0aW9uKGRvYywgcm93KSB7XG4gICAgICAgIHZhciBsaW5lID0gZG9jLmdldExpbmUocm93KTtcbiAgICAgICAgdmFyIG1hdGNoID0gbGluZS5tYXRjaCgvXihcXHMqXFx9KS8pO1xuXG4gICAgICAgIGlmICghbWF0Y2gpIHJldHVybiAwO1xuXG4gICAgICAgIHZhciBjb2x1bW4gPSBtYXRjaFsxXS5sZW5ndGg7XG4gICAgICAgIHZhciBvcGVuQnJhY2VQb3MgPSBkb2MuZmluZE1hdGNoaW5nQnJhY2tldCh7cm93OiByb3csIGNvbHVtbjogY29sdW1ufSk7XG5cbiAgICAgICAgaWYgKCFvcGVuQnJhY2VQb3MgfHwgb3BlbkJyYWNlUG9zLnJvdyA9PSByb3cpIHJldHVybiAwO1xuXG4gICAgICAgIHZhciBpbmRlbnQgPSB0aGlzLiRnZXRJbmRlbnQoZG9jLmdldExpbmUob3BlbkJyYWNlUG9zLnJvdykpO1xuICAgICAgICBkb2MucmVwbGFjZShuZXcgUmFuZ2Uocm93LCAwLCByb3csIGNvbHVtbi0xKSwgaW5kZW50KTtcbiAgICB9O1xuXG4gICAgdGhpcy4kZ2V0SW5kZW50ID0gZnVuY3Rpb24obGluZSkge1xuICAgICAgICByZXR1cm4gbGluZS5tYXRjaCgvXlxccyovKVswXTtcbiAgICB9O1xuXG59KS5jYWxsKE1hdGNoaW5nQnJhY2VPdXRkZW50LnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuTWF0Y2hpbmdCcmFjZU91dGRlbnQgPSBNYXRjaGluZ0JyYWNlT3V0ZGVudDtcbn0pO1xuXG5hY2UuZGVmaW5lKCdhY2UvbW9kZS9iZWhhdmlvdXIvY3N0eWxlJywgW1wicmVxdWlyZVwiLCAnZXhwb3J0cycsICdtb2R1bGUnICwgJ2FjZS9saWIvb29wJywgJ2FjZS9tb2RlL2JlaGF2aW91cicsICdhY2UvdG9rZW5faXRlcmF0b3InLCAnYWNlL2xpYi9sYW5nJ10sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuXG52YXIgb29wID0gYWNlcXVpcmUoXCIuLi8uLi9saWIvb29wXCIpO1xudmFyIEJlaGF2aW91ciA9IGFjZXF1aXJlKFwiLi4vYmVoYXZpb3VyXCIpLkJlaGF2aW91cjtcbnZhciBUb2tlbkl0ZXJhdG9yID0gYWNlcXVpcmUoXCIuLi8uLi90b2tlbl9pdGVyYXRvclwiKS5Ub2tlbkl0ZXJhdG9yO1xudmFyIGxhbmcgPSBhY2VxdWlyZShcIi4uLy4uL2xpYi9sYW5nXCIpO1xuXG52YXIgU0FGRV9JTlNFUlRfSU5fVE9LRU5TID1cbiAgICBbXCJ0ZXh0XCIsIFwicGFyZW4ucnBhcmVuXCIsIFwicHVuY3R1YXRpb24ub3BlcmF0b3JcIl07XG52YXIgU0FGRV9JTlNFUlRfQkVGT1JFX1RPS0VOUyA9XG4gICAgW1widGV4dFwiLCBcInBhcmVuLnJwYXJlblwiLCBcInB1bmN0dWF0aW9uLm9wZXJhdG9yXCIsIFwiY29tbWVudFwiXTtcblxuXG52YXIgYXV0b0luc2VydGVkQnJhY2tldHMgPSAwO1xudmFyIGF1dG9JbnNlcnRlZFJvdyA9IC0xO1xudmFyIGF1dG9JbnNlcnRlZExpbmVFbmQgPSBcIlwiO1xudmFyIG1heWJlSW5zZXJ0ZWRCcmFja2V0cyA9IDA7XG52YXIgbWF5YmVJbnNlcnRlZFJvdyA9IC0xO1xudmFyIG1heWJlSW5zZXJ0ZWRMaW5lU3RhcnQgPSBcIlwiO1xudmFyIG1heWJlSW5zZXJ0ZWRMaW5lRW5kID0gXCJcIjtcblxudmFyIENzdHlsZUJlaGF2aW91ciA9IGZ1bmN0aW9uICgpIHtcbiAgICBcbiAgICBDc3R5bGVCZWhhdmlvdXIuaXNTYW5lSW5zZXJ0aW9uID0gZnVuY3Rpb24oZWRpdG9yLCBzZXNzaW9uKSB7XG4gICAgICAgIHZhciBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gbmV3IFRva2VuSXRlcmF0b3Ioc2Vzc2lvbiwgY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbik7XG4gICAgICAgIGlmICghdGhpcy4kbWF0Y2hUb2tlblR5cGUoaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuKCkgfHwgXCJ0ZXh0XCIsIFNBRkVfSU5TRVJUX0lOX1RPS0VOUykpIHtcbiAgICAgICAgICAgIHZhciBpdGVyYXRvcjIgPSBuZXcgVG9rZW5JdGVyYXRvcihzZXNzaW9uLCBjdXJzb3Iucm93LCBjdXJzb3IuY29sdW1uICsgMSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuJG1hdGNoVG9rZW5UeXBlKGl0ZXJhdG9yMi5nZXRDdXJyZW50VG9rZW4oKSB8fCBcInRleHRcIiwgU0FGRV9JTlNFUlRfSU5fVE9LRU5TKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaXRlcmF0b3Iuc3RlcEZvcndhcmQoKTtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlblJvdygpICE9PSBjdXJzb3Iucm93IHx8XG4gICAgICAgICAgICB0aGlzLiRtYXRjaFRva2VuVHlwZShpdGVyYXRvci5nZXRDdXJyZW50VG9rZW4oKSB8fCBcInRleHRcIiwgU0FGRV9JTlNFUlRfQkVGT1JFX1RPS0VOUyk7XG4gICAgfTtcbiAgICBcbiAgICBDc3R5bGVCZWhhdmlvdXIuJG1hdGNoVG9rZW5UeXBlID0gZnVuY3Rpb24odG9rZW4sIHR5cGVzKSB7XG4gICAgICAgIHJldHVybiB0eXBlcy5pbmRleE9mKHRva2VuLnR5cGUgfHwgdG9rZW4pID4gLTE7XG4gICAgfTtcbiAgICBcbiAgICBDc3R5bGVCZWhhdmlvdXIucmVjb3JkQXV0b0luc2VydCA9IGZ1bmN0aW9uKGVkaXRvciwgc2Vzc2lvbiwgYnJhY2tldCkge1xuICAgICAgICB2YXIgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5kb2MuZ2V0TGluZShjdXJzb3Iucm93KTtcbiAgICAgICAgaWYgKCF0aGlzLmlzQXV0b0luc2VydGVkQ2xvc2luZyhjdXJzb3IsIGxpbmUsIGF1dG9JbnNlcnRlZExpbmVFbmRbMF0pKVxuICAgICAgICAgICAgYXV0b0luc2VydGVkQnJhY2tldHMgPSAwO1xuICAgICAgICBhdXRvSW5zZXJ0ZWRSb3cgPSBjdXJzb3Iucm93O1xuICAgICAgICBhdXRvSW5zZXJ0ZWRMaW5lRW5kID0gYnJhY2tldCArIGxpbmUuc3Vic3RyKGN1cnNvci5jb2x1bW4pO1xuICAgICAgICBhdXRvSW5zZXJ0ZWRCcmFja2V0cysrO1xuICAgIH07XG4gICAgXG4gICAgQ3N0eWxlQmVoYXZpb3VyLnJlY29yZE1heWJlSW5zZXJ0ID0gZnVuY3Rpb24oZWRpdG9yLCBzZXNzaW9uLCBicmFja2V0KSB7XG4gICAgICAgIHZhciBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmRvYy5nZXRMaW5lKGN1cnNvci5yb3cpO1xuICAgICAgICBpZiAoIXRoaXMuaXNNYXliZUluc2VydGVkQ2xvc2luZyhjdXJzb3IsIGxpbmUpKVxuICAgICAgICAgICAgbWF5YmVJbnNlcnRlZEJyYWNrZXRzID0gMDtcbiAgICAgICAgbWF5YmVJbnNlcnRlZFJvdyA9IGN1cnNvci5yb3c7XG4gICAgICAgIG1heWJlSW5zZXJ0ZWRMaW5lU3RhcnQgPSBsaW5lLnN1YnN0cigwLCBjdXJzb3IuY29sdW1uKSArIGJyYWNrZXQ7XG4gICAgICAgIG1heWJlSW5zZXJ0ZWRMaW5lRW5kID0gbGluZS5zdWJzdHIoY3Vyc29yLmNvbHVtbik7XG4gICAgICAgIG1heWJlSW5zZXJ0ZWRCcmFja2V0cysrO1xuICAgIH07XG4gICAgXG4gICAgQ3N0eWxlQmVoYXZpb3VyLmlzQXV0b0luc2VydGVkQ2xvc2luZyA9IGZ1bmN0aW9uKGN1cnNvciwgbGluZSwgYnJhY2tldCkge1xuICAgICAgICByZXR1cm4gYXV0b0luc2VydGVkQnJhY2tldHMgPiAwICYmXG4gICAgICAgICAgICBjdXJzb3Iucm93ID09PSBhdXRvSW5zZXJ0ZWRSb3cgJiZcbiAgICAgICAgICAgIGJyYWNrZXQgPT09IGF1dG9JbnNlcnRlZExpbmVFbmRbMF0gJiZcbiAgICAgICAgICAgIGxpbmUuc3Vic3RyKGN1cnNvci5jb2x1bW4pID09PSBhdXRvSW5zZXJ0ZWRMaW5lRW5kO1xuICAgIH07XG4gICAgXG4gICAgQ3N0eWxlQmVoYXZpb3VyLmlzTWF5YmVJbnNlcnRlZENsb3NpbmcgPSBmdW5jdGlvbihjdXJzb3IsIGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIG1heWJlSW5zZXJ0ZWRCcmFja2V0cyA+IDAgJiZcbiAgICAgICAgICAgIGN1cnNvci5yb3cgPT09IG1heWJlSW5zZXJ0ZWRSb3cgJiZcbiAgICAgICAgICAgIGxpbmUuc3Vic3RyKGN1cnNvci5jb2x1bW4pID09PSBtYXliZUluc2VydGVkTGluZUVuZCAmJlxuICAgICAgICAgICAgbGluZS5zdWJzdHIoMCwgY3Vyc29yLmNvbHVtbikgPT0gbWF5YmVJbnNlcnRlZExpbmVTdGFydDtcbiAgICB9O1xuICAgIFxuICAgIENzdHlsZUJlaGF2aW91ci5wb3BBdXRvSW5zZXJ0ZWRDbG9zaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGF1dG9JbnNlcnRlZExpbmVFbmQgPSBhdXRvSW5zZXJ0ZWRMaW5lRW5kLnN1YnN0cigxKTtcbiAgICAgICAgYXV0b0luc2VydGVkQnJhY2tldHMtLTtcbiAgICB9O1xuICAgIFxuICAgIENzdHlsZUJlaGF2aW91ci5jbGVhck1heWJlSW5zZXJ0ZWRDbG9zaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIG1heWJlSW5zZXJ0ZWRCcmFja2V0cyA9IDA7XG4gICAgICAgIG1heWJlSW5zZXJ0ZWRSb3cgPSAtMTtcbiAgICB9O1xuXG4gICAgdGhpcy5hZGQoXCJicmFjZXNcIiwgXCJpbnNlcnRpb25cIiwgZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24sIGVkaXRvciwgc2Vzc2lvbiwgdGV4dCkge1xuICAgICAgICB2YXIgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5kb2MuZ2V0TGluZShjdXJzb3Iucm93KTtcbiAgICAgICAgaWYgKHRleHQgPT0gJ3snKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBzZXNzaW9uLmRvYy5nZXRUZXh0UmFuZ2Uoc2VsZWN0aW9uKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZCAhPT0gXCJcIiAmJiBzZWxlY3RlZCAhPT0gXCJ7XCIgJiYgZWRpdG9yLmdldFdyYXBCZWhhdmlvdXJzRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ3snICsgc2VsZWN0ZWQgKyAnfScsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogZmFsc2VcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChDc3R5bGVCZWhhdmlvdXIuaXNTYW5lSW5zZXJ0aW9uKGVkaXRvciwgc2Vzc2lvbikpIHtcbiAgICAgICAgICAgICAgICBpZiAoL1tcXF1cXH1cXCldLy50ZXN0KGxpbmVbY3Vyc29yLmNvbHVtbl0pKSB7XG4gICAgICAgICAgICAgICAgICAgIENzdHlsZUJlaGF2aW91ci5yZWNvcmRBdXRvSW5zZXJ0KGVkaXRvciwgc2Vzc2lvbiwgXCJ9XCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ3t9JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogWzEsIDFdXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLnJlY29yZE1heWJlSW5zZXJ0KGVkaXRvciwgc2Vzc2lvbiwgXCJ7XCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ3snLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgMV1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGV4dCA9PSAnfScpIHtcbiAgICAgICAgICAgIHZhciByaWdodENoYXIgPSBsaW5lLnN1YnN0cmluZyhjdXJzb3IuY29sdW1uLCBjdXJzb3IuY29sdW1uICsgMSk7XG4gICAgICAgICAgICBpZiAocmlnaHRDaGFyID09ICd9Jykge1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaGluZyA9IHNlc3Npb24uJGZpbmRPcGVuaW5nQnJhY2tldCgnfScsIHtjb2x1bW46IGN1cnNvci5jb2x1bW4gKyAxLCByb3c6IGN1cnNvci5yb3d9KTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hpbmcgIT09IG51bGwgJiYgQ3N0eWxlQmVoYXZpb3VyLmlzQXV0b0luc2VydGVkQ2xvc2luZyhjdXJzb3IsIGxpbmUsIHRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIENzdHlsZUJlaGF2aW91ci5wb3BBdXRvSW5zZXJ0ZWRDbG9zaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogWzEsIDFdXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRleHQgPT0gXCJcXG5cIiB8fCB0ZXh0ID09IFwiXFxyXFxuXCIpIHtcbiAgICAgICAgICAgIHZhciBjbG9zaW5nID0gXCJcIjtcbiAgICAgICAgICAgIGlmIChDc3R5bGVCZWhhdmlvdXIuaXNNYXliZUluc2VydGVkQ2xvc2luZyhjdXJzb3IsIGxpbmUpKSB7XG4gICAgICAgICAgICAgICAgY2xvc2luZyA9IGxhbmcuc3RyaW5nUmVwZWF0KFwifVwiLCBtYXliZUluc2VydGVkQnJhY2tldHMpO1xuICAgICAgICAgICAgICAgIENzdHlsZUJlaGF2aW91ci5jbGVhck1heWJlSW5zZXJ0ZWRDbG9zaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmlnaHRDaGFyID0gbGluZS5zdWJzdHJpbmcoY3Vyc29yLmNvbHVtbiwgY3Vyc29yLmNvbHVtbiArIDEpO1xuICAgICAgICAgICAgaWYgKHJpZ2h0Q2hhciA9PSAnfScgfHwgY2xvc2luZyAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIHZhciBvcGVuQnJhY2VQb3MgPSBzZXNzaW9uLmZpbmRNYXRjaGluZ0JyYWNrZXQoe3JvdzogY3Vyc29yLnJvdywgY29sdW1uOiBjdXJzb3IuY29sdW1ufSwgJ30nKTtcbiAgICAgICAgICAgICAgICBpZiAoIW9wZW5CcmFjZVBvcylcbiAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgICAgICAgdmFyIGluZGVudCA9IHRoaXMuZ2V0TmV4dExpbmVJbmRlbnQoc3RhdGUsIGxpbmUuc3Vic3RyaW5nKDAsIGN1cnNvci5jb2x1bW4pLCBzZXNzaW9uLmdldFRhYlN0cmluZygpKTtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dF9pbmRlbnQgPSB0aGlzLiRnZXRJbmRlbnQobGluZSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnXFxuJyArIGluZGVudCArICdcXG4nICsgbmV4dF9pbmRlbnQgKyBjbG9zaW5nLFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb246IFsxLCBpbmRlbnQubGVuZ3RoLCAxLCBpbmRlbnQubGVuZ3RoXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkKFwiYnJhY2VzXCIsIFwiZGVsZXRpb25cIiwgZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24sIGVkaXRvciwgc2Vzc2lvbiwgcmFuZ2UpIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gc2Vzc2lvbi5kb2MuZ2V0VGV4dFJhbmdlKHJhbmdlKTtcbiAgICAgICAgaWYgKCFyYW5nZS5pc011bHRpTGluZSgpICYmIHNlbGVjdGVkID09ICd7Jykge1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmRvYy5nZXRMaW5lKHJhbmdlLnN0YXJ0LnJvdyk7XG4gICAgICAgICAgICB2YXIgcmlnaHRDaGFyID0gbGluZS5zdWJzdHJpbmcocmFuZ2UuZW5kLmNvbHVtbiwgcmFuZ2UuZW5kLmNvbHVtbiArIDEpO1xuICAgICAgICAgICAgaWYgKHJpZ2h0Q2hhciA9PSAnfScpIHtcbiAgICAgICAgICAgICAgICByYW5nZS5lbmQuY29sdW1uKys7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtYXliZUluc2VydGVkQnJhY2tldHMtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGQoXCJwYXJlbnNcIiwgXCJpbnNlcnRpb25cIiwgZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24sIGVkaXRvciwgc2Vzc2lvbiwgdGV4dCkge1xuICAgICAgICBpZiAodGV4dCA9PSAnKCcpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IHNlc3Npb24uZG9jLmdldFRleHRSYW5nZShzZWxlY3Rpb24pO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkICE9PSBcIlwiICYmIGVkaXRvci5nZXRXcmFwQmVoYXZpb3Vyc0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6ICcoJyArIHNlbGVjdGVkICsgJyknLFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb246IGZhbHNlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQ3N0eWxlQmVoYXZpb3VyLmlzU2FuZUluc2VydGlvbihlZGl0b3IsIHNlc3Npb24pKSB7XG4gICAgICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLnJlY29yZEF1dG9JbnNlcnQoZWRpdG9yLCBzZXNzaW9uLCBcIilcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJygpJyxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgMV1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRleHQgPT0gJyknKSB7XG4gICAgICAgICAgICB2YXIgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZG9jLmdldExpbmUoY3Vyc29yLnJvdyk7XG4gICAgICAgICAgICB2YXIgcmlnaHRDaGFyID0gbGluZS5zdWJzdHJpbmcoY3Vyc29yLmNvbHVtbiwgY3Vyc29yLmNvbHVtbiArIDEpO1xuICAgICAgICAgICAgaWYgKHJpZ2h0Q2hhciA9PSAnKScpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hpbmcgPSBzZXNzaW9uLiRmaW5kT3BlbmluZ0JyYWNrZXQoJyknLCB7Y29sdW1uOiBjdXJzb3IuY29sdW1uICsgMSwgcm93OiBjdXJzb3Iucm93fSk7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoaW5nICE9PSBudWxsICYmIENzdHlsZUJlaGF2aW91ci5pc0F1dG9JbnNlcnRlZENsb3NpbmcoY3Vyc29yLCBsaW5lLCB0ZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBDc3R5bGVCZWhhdmlvdXIucG9wQXV0b0luc2VydGVkQ2xvc2luZygpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb246IFsxLCAxXVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGQoXCJwYXJlbnNcIiwgXCJkZWxldGlvblwiLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbiwgZWRpdG9yLCBzZXNzaW9uLCByYW5nZSkge1xuICAgICAgICB2YXIgc2VsZWN0ZWQgPSBzZXNzaW9uLmRvYy5nZXRUZXh0UmFuZ2UocmFuZ2UpO1xuICAgICAgICBpZiAoIXJhbmdlLmlzTXVsdGlMaW5lKCkgJiYgc2VsZWN0ZWQgPT0gJygnKSB7XG4gICAgICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZG9jLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KTtcbiAgICAgICAgICAgIHZhciByaWdodENoYXIgPSBsaW5lLnN1YnN0cmluZyhyYW5nZS5zdGFydC5jb2x1bW4gKyAxLCByYW5nZS5zdGFydC5jb2x1bW4gKyAyKTtcbiAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT0gJyknKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbisrO1xuICAgICAgICAgICAgICAgIHJldHVybiByYW5nZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGQoXCJicmFja2V0c1wiLCBcImluc2VydGlvblwiLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbiwgZWRpdG9yLCBzZXNzaW9uLCB0ZXh0KSB7XG4gICAgICAgIGlmICh0ZXh0ID09ICdbJykge1xuICAgICAgICAgICAgdmFyIHNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gc2Vzc2lvbi5kb2MuZ2V0VGV4dFJhbmdlKHNlbGVjdGlvbik7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWQgIT09IFwiXCIgJiYgZWRpdG9yLmdldFdyYXBCZWhhdmlvdXJzRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ1snICsgc2VsZWN0ZWQgKyAnXScsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogZmFsc2VcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChDc3R5bGVCZWhhdmlvdXIuaXNTYW5lSW5zZXJ0aW9uKGVkaXRvciwgc2Vzc2lvbikpIHtcbiAgICAgICAgICAgICAgICBDc3R5bGVCZWhhdmlvdXIucmVjb3JkQXV0b0luc2VydChlZGl0b3IsIHNlc3Npb24sIFwiXVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnW10nLFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb246IFsxLCAxXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGV4dCA9PSAnXScpIHtcbiAgICAgICAgICAgIHZhciBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5kb2MuZ2V0TGluZShjdXJzb3Iucm93KTtcbiAgICAgICAgICAgIHZhciByaWdodENoYXIgPSBsaW5lLnN1YnN0cmluZyhjdXJzb3IuY29sdW1uLCBjdXJzb3IuY29sdW1uICsgMSk7XG4gICAgICAgICAgICBpZiAocmlnaHRDaGFyID09ICddJykge1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaGluZyA9IHNlc3Npb24uJGZpbmRPcGVuaW5nQnJhY2tldCgnXScsIHtjb2x1bW46IGN1cnNvci5jb2x1bW4gKyAxLCByb3c6IGN1cnNvci5yb3d9KTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hpbmcgIT09IG51bGwgJiYgQ3N0eWxlQmVoYXZpb3VyLmlzQXV0b0luc2VydGVkQ2xvc2luZyhjdXJzb3IsIGxpbmUsIHRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIENzdHlsZUJlaGF2aW91ci5wb3BBdXRvSW5zZXJ0ZWRDbG9zaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogWzEsIDFdXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZChcImJyYWNrZXRzXCIsIFwiZGVsZXRpb25cIiwgZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24sIGVkaXRvciwgc2Vzc2lvbiwgcmFuZ2UpIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gc2Vzc2lvbi5kb2MuZ2V0VGV4dFJhbmdlKHJhbmdlKTtcbiAgICAgICAgaWYgKCFyYW5nZS5pc011bHRpTGluZSgpICYmIHNlbGVjdGVkID09ICdbJykge1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmRvYy5nZXRMaW5lKHJhbmdlLnN0YXJ0LnJvdyk7XG4gICAgICAgICAgICB2YXIgcmlnaHRDaGFyID0gbGluZS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uICsgMSwgcmFuZ2Uuc3RhcnQuY29sdW1uICsgMik7XG4gICAgICAgICAgICBpZiAocmlnaHRDaGFyID09ICddJykge1xuICAgICAgICAgICAgICAgIHJhbmdlLmVuZC5jb2x1bW4rKztcbiAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkKFwic3RyaW5nX2RxdW90ZXNcIiwgXCJpbnNlcnRpb25cIiwgZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24sIGVkaXRvciwgc2Vzc2lvbiwgdGV4dCkge1xuICAgICAgICBpZiAodGV4dCA9PSAnXCInIHx8IHRleHQgPT0gXCInXCIpIHtcbiAgICAgICAgICAgIHZhciBxdW90ZSA9IHRleHQ7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBzZXNzaW9uLmRvYy5nZXRUZXh0UmFuZ2Uoc2VsZWN0aW9uKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZCAhPT0gXCJcIiAmJiBzZWxlY3RlZCAhPT0gXCInXCIgJiYgc2VsZWN0ZWQgIT0gJ1wiJyAmJiBlZGl0b3IuZ2V0V3JhcEJlaGF2aW91cnNFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBxdW90ZSArIHNlbGVjdGVkICsgcXVvdGUsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogZmFsc2VcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmRvYy5nZXRMaW5lKGN1cnNvci5yb3cpO1xuICAgICAgICAgICAgICAgIHZhciBsZWZ0Q2hhciA9IGxpbmUuc3Vic3RyaW5nKGN1cnNvci5jb2x1bW4tMSwgY3Vyc29yLmNvbHVtbik7XG4gICAgICAgICAgICAgICAgaWYgKGxlZnRDaGFyID09ICdcXFxcJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHRva2VucyA9IHNlc3Npb24uZ2V0VG9rZW5zKHNlbGVjdGlvbi5zdGFydC5yb3cpO1xuICAgICAgICAgICAgICAgIHZhciBjb2wgPSAwLCB0b2tlbjtcbiAgICAgICAgICAgICAgICB2YXIgcXVvdGVwb3MgPSAtMTsgLy8gVHJhY2sgd2hldGhlciB3ZSdyZSBpbnNpZGUgYW4gb3BlbiBxdW90ZS5cblxuICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdG9rZW5zLmxlbmd0aDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gdG9rZW5zW3hdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcXVvdGVwb3MgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChxdW90ZXBvcyA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICBxdW90ZXBvcyA9IHRva2VuLnZhbHVlLmluZGV4T2YocXVvdGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICgodG9rZW4udmFsdWUubGVuZ3RoICsgY29sKSA+IHNlbGVjdGlvbi5zdGFydC5jb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbCArPSB0b2tlbnNbeF0udmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXRva2VuIHx8IChxdW90ZXBvcyA8IDAgJiYgdG9rZW4udHlwZSAhPT0gXCJjb21tZW50XCIgJiYgKHRva2VuLnR5cGUgIT09IFwic3RyaW5nXCIgfHwgKChzZWxlY3Rpb24uc3RhcnQuY29sdW1uICE9PSB0b2tlbi52YWx1ZS5sZW5ndGgrY29sLTEpICYmIHRva2VuLnZhbHVlLmxhc3RJbmRleE9mKHF1b3RlKSA9PT0gdG9rZW4udmFsdWUubGVuZ3RoLTEpKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFDc3R5bGVCZWhhdmlvdXIuaXNTYW5lSW5zZXJ0aW9uKGVkaXRvciwgc2Vzc2lvbikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBxdW90ZSArIHF1b3RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwxXVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4gJiYgdG9rZW4udHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmlnaHRDaGFyID0gbGluZS5zdWJzdHJpbmcoY3Vyc29yLmNvbHVtbiwgY3Vyc29yLmNvbHVtbiArIDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmlnaHRDaGFyID09IHF1b3RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogWzEsIDFdXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZChcInN0cmluZ19kcXVvdGVzXCIsIFwiZGVsZXRpb25cIiwgZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24sIGVkaXRvciwgc2Vzc2lvbiwgcmFuZ2UpIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gc2Vzc2lvbi5kb2MuZ2V0VGV4dFJhbmdlKHJhbmdlKTtcbiAgICAgICAgaWYgKCFyYW5nZS5pc011bHRpTGluZSgpICYmIChzZWxlY3RlZCA9PSAnXCInIHx8IHNlbGVjdGVkID09IFwiJ1wiKSkge1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmRvYy5nZXRMaW5lKHJhbmdlLnN0YXJ0LnJvdyk7XG4gICAgICAgICAgICB2YXIgcmlnaHRDaGFyID0gbGluZS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uICsgMSwgcmFuZ2Uuc3RhcnQuY29sdW1uICsgMik7XG4gICAgICAgICAgICBpZiAocmlnaHRDaGFyID09IHNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbisrO1xuICAgICAgICAgICAgICAgIHJldHVybiByYW5nZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG59O1xuXG5vb3AuaW5oZXJpdHMoQ3N0eWxlQmVoYXZpb3VyLCBCZWhhdmlvdXIpO1xuXG5leHBvcnRzLkNzdHlsZUJlaGF2aW91ciA9IENzdHlsZUJlaGF2aW91cjtcbn0pO1xuXG5hY2UuZGVmaW5lKCdhY2UvbW9kZS9mb2xkaW5nL2NzdHlsZScsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyAsICdhY2UvbGliL29vcCcsICdhY2UvcmFuZ2UnLCAnYWNlL21vZGUvZm9sZGluZy9mb2xkX21vZGUnXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4uLy4uL2xpYi9vb3BcIik7XG52YXIgUmFuZ2UgPSBhY2VxdWlyZShcIi4uLy4uL3JhbmdlXCIpLlJhbmdlO1xudmFyIEJhc2VGb2xkTW9kZSA9IGFjZXF1aXJlKFwiLi9mb2xkX21vZGVcIikuRm9sZE1vZGU7XG5cbnZhciBGb2xkTW9kZSA9IGV4cG9ydHMuRm9sZE1vZGUgPSBmdW5jdGlvbihjb21tZW50UmVnZXgpIHtcbiAgICBpZiAoY29tbWVudFJlZ2V4KSB7XG4gICAgICAgIHRoaXMuZm9sZGluZ1N0YXJ0TWFya2VyID0gbmV3IFJlZ0V4cChcbiAgICAgICAgICAgIHRoaXMuZm9sZGluZ1N0YXJ0TWFya2VyLnNvdXJjZS5yZXBsYWNlKC9cXHxbXnxdKj8kLywgXCJ8XCIgKyBjb21tZW50UmVnZXguc3RhcnQpXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZm9sZGluZ1N0b3BNYXJrZXIgPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgdGhpcy5mb2xkaW5nU3RvcE1hcmtlci5zb3VyY2UucmVwbGFjZSgvXFx8W158XSo/JC8sIFwifFwiICsgY29tbWVudFJlZ2V4LmVuZClcbiAgICAgICAgKTtcbiAgICB9XG59O1xub29wLmluaGVyaXRzKEZvbGRNb2RlLCBCYXNlRm9sZE1vZGUpO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLmZvbGRpbmdTdGFydE1hcmtlciA9IC8oXFx7fFxcWylbXlxcfVxcXV0qJHxeXFxzKihcXC9cXCopLztcbiAgICB0aGlzLmZvbGRpbmdTdG9wTWFya2VyID0gL15bXlxcW1xce10qKFxcfXxcXF0pfF5bXFxzXFwqXSooXFwqXFwvKS87XG5cbiAgICB0aGlzLmdldEZvbGRXaWRnZXRSYW5nZSA9IGZ1bmN0aW9uKHNlc3Npb24sIGZvbGRTdHlsZSwgcm93KSB7XG4gICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7XG4gICAgICAgIHZhciBtYXRjaCA9IGxpbmUubWF0Y2godGhpcy5mb2xkaW5nU3RhcnRNYXJrZXIpO1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIHZhciBpID0gbWF0Y2guaW5kZXg7XG5cbiAgICAgICAgICAgIGlmIChtYXRjaFsxXSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vcGVuaW5nQnJhY2tldEJsb2NrKHNlc3Npb24sIG1hdGNoWzFdLCByb3csIGkpO1xuXG4gICAgICAgICAgICByZXR1cm4gc2Vzc2lvbi5nZXRDb21tZW50Rm9sZFJhbmdlKHJvdywgaSArIG1hdGNoWzBdLmxlbmd0aCwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZm9sZFN0eWxlICE9PSBcIm1hcmtiZWdpbmVuZFwiKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciBtYXRjaCA9IGxpbmUubWF0Y2godGhpcy5mb2xkaW5nU3RvcE1hcmtlcik7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgdmFyIGkgPSBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aDtcblxuICAgICAgICAgICAgaWYgKG1hdGNoWzFdKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsb3NpbmdCcmFja2V0QmxvY2soc2Vzc2lvbiwgbWF0Y2hbMV0sIHJvdywgaSk7XG5cbiAgICAgICAgICAgIHJldHVybiBzZXNzaW9uLmdldENvbW1lbnRGb2xkUmFuZ2Uocm93LCBpLCAtMSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG59KS5jYWxsKEZvbGRNb2RlLnByb3RvdHlwZSk7XG5cbn0pO1xuIiwiLyogKioqKiogQkVHSU4gTElDRU5TRSBCTE9DSyAqKioqKlxuICogRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIEJTRCBsaWNlbnNlOlxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxMCwgQWpheC5vcmcgQi5WLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcbiAqICAgICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XG4gKiAgICAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKiAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodFxuICogICAgICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICogICAgICAgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqICAgICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgQWpheC5vcmcgQi5WLiBub3IgdGhlXG4gKiAgICAgICBuYW1lcyBvZiBpdHMgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0c1xuICogICAgICAgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKiBcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiIEFORFxuICogQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRURcbiAqIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkVcbiAqIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIEFKQVguT1JHIEIuVi4gQkUgTElBQkxFIEZPUiBBTllcbiAqIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTXG4gKiAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7XG4gKiBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkRcbiAqIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXG4gKiAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJU1xuICogU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKlxuICogKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKiogKi9cblxuYWNlLmRlZmluZSgnYWNlL21vZGUvbHVhJywgW1wicmVxdWlyZVwiLCAnZXhwb3J0cycsICdtb2R1bGUnICwgJ2FjZS9saWIvb29wJywgJ2FjZS9tb2RlL3RleHQnLCAnYWNlL3Rva2VuaXplcicsICdhY2UvbW9kZS9sdWFfaGlnaGxpZ2h0X3J1bGVzJywgJ2FjZS9tb2RlL2ZvbGRpbmcvbHVhJywgJ2FjZS9yYW5nZScsICdhY2Uvd29ya2VyL3dvcmtlcl9jbGllbnQnXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4uL2xpYi9vb3BcIik7XG52YXIgVGV4dE1vZGUgPSBhY2VxdWlyZShcIi4vdGV4dFwiKS5Nb2RlO1xudmFyIFRva2VuaXplciA9IGFjZXF1aXJlKFwiLi4vdG9rZW5pemVyXCIpLlRva2VuaXplcjtcbnZhciBMdWFIaWdobGlnaHRSdWxlcyA9IGFjZXF1aXJlKFwiLi9sdWFfaGlnaGxpZ2h0X3J1bGVzXCIpLkx1YUhpZ2hsaWdodFJ1bGVzO1xudmFyIEx1YUZvbGRNb2RlID0gYWNlcXVpcmUoXCIuL2ZvbGRpbmcvbHVhXCIpLkZvbGRNb2RlO1xudmFyIFJhbmdlID0gYWNlcXVpcmUoXCIuLi9yYW5nZVwiKS5SYW5nZTtcbnZhciBXb3JrZXJDbGllbnQgPSBhY2VxdWlyZShcIi4uL3dvcmtlci93b3JrZXJfY2xpZW50XCIpLldvcmtlckNsaWVudDtcblxudmFyIE1vZGUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiR0b2tlbml6ZXIgPSBuZXcgVG9rZW5pemVyKG5ldyBMdWFIaWdobGlnaHRSdWxlcygpLmdldFJ1bGVzKCkpO1xuICAgIHRoaXMuZm9sZGluZ1J1bGVzID0gbmV3IEx1YUZvbGRNb2RlKCk7XG59O1xub29wLmluaGVyaXRzKE1vZGUsIFRleHRNb2RlKTtcblxuKGZ1bmN0aW9uKCkge1xuICAgXG4gICAgdGhpcy5saW5lQ29tbWVudFN0YXJ0ID0gXCItLVwiO1xuICAgIHRoaXMuYmxvY2tDb21tZW50ID0ge3N0YXJ0OiBcIi0tW1wiLCBlbmQ6IFwiXS0tXCJ9O1xuICAgIFxuICAgIHZhciBpbmRlbnRLZXl3b3JkcyA9IHtcbiAgICAgICAgXCJmdW5jdGlvblwiOiAxLFxuICAgICAgICBcInRoZW5cIjogMSxcbiAgICAgICAgXCJkb1wiOiAxLFxuICAgICAgICBcImVsc2VcIjogMSxcbiAgICAgICAgXCJlbHNlaWZcIjogMSxcbiAgICAgICAgXCJyZXBlYXRcIjogMSxcbiAgICAgICAgXCJlbmRcIjogLTEsXG4gICAgICAgIFwidW50aWxcIjogLTFcbiAgICB9O1xuICAgIHZhciBvdXRkZW50S2V5d29yZHMgPSBbXG4gICAgICAgIFwiZWxzZVwiLFxuICAgICAgICBcImVsc2VpZlwiLFxuICAgICAgICBcImVuZFwiLFxuICAgICAgICBcInVudGlsXCJcbiAgICBdO1xuXG4gICAgZnVuY3Rpb24gZ2V0TmV0SW5kZW50TGV2ZWwodG9rZW5zKSB7XG4gICAgICAgIHZhciBsZXZlbCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PSBcImtleXdvcmRcIikge1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbi52YWx1ZSBpbiBpbmRlbnRLZXl3b3Jkcykge1xuICAgICAgICAgICAgICAgICAgICBsZXZlbCArPSBpbmRlbnRLZXl3b3Jkc1t0b2tlbi52YWx1ZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi50eXBlID09IFwicGFyZW4ubHBhcmVuXCIpIHtcbiAgICAgICAgICAgICAgICBsZXZlbCArKztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4udHlwZSA9PSBcInBhcmVuLnJwYXJlblwiKSB7XG4gICAgICAgICAgICAgICAgbGV2ZWwgLS07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxldmVsIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9IGVsc2UgaWYgKGxldmVsID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZ2V0TmV4dExpbmVJbmRlbnQgPSBmdW5jdGlvbihzdGF0ZSwgbGluZSwgdGFiKSB7XG4gICAgICAgIHZhciBpbmRlbnQgPSB0aGlzLiRnZXRJbmRlbnQobGluZSk7XG4gICAgICAgIHZhciBsZXZlbCA9IDA7XG5cbiAgICAgICAgdmFyIHRva2VuaXplZExpbmUgPSB0aGlzLiR0b2tlbml6ZXIuZ2V0TGluZVRva2VucyhsaW5lLCBzdGF0ZSk7XG4gICAgICAgIHZhciB0b2tlbnMgPSB0b2tlbml6ZWRMaW5lLnRva2VucztcblxuICAgICAgICBpZiAoc3RhdGUgPT0gXCJzdGFydFwiKSB7XG4gICAgICAgICAgICBsZXZlbCA9IGdldE5ldEluZGVudExldmVsKHRva2Vucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxldmVsID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGluZGVudCArIHRhYjtcbiAgICAgICAgfSBlbHNlIGlmIChsZXZlbCA8IDAgJiYgaW5kZW50LnN1YnN0cihpbmRlbnQubGVuZ3RoIC0gdGFiLmxlbmd0aCkgPT0gdGFiKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tPdXRkZW50KHN0YXRlLCBsaW5lLCBcIlxcblwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbmRlbnQuc3Vic3RyKDAsIGluZGVudC5sZW5ndGggLSB0YWIubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5kZW50O1xuICAgIH07XG5cbiAgICB0aGlzLmNoZWNrT3V0ZGVudCA9IGZ1bmN0aW9uKHN0YXRlLCBsaW5lLCBpbnB1dCkge1xuICAgICAgICBpZiAoaW5wdXQgIT0gXCJcXG5cIiAmJiBpbnB1dCAhPSBcIlxcclwiICYmIGlucHV0ICE9IFwiXFxyXFxuXCIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgaWYgKGxpbmUubWF0Y2goL15cXHMqW1xcKVxcfVxcXV0kLykpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICB2YXIgdG9rZW5zID0gdGhpcy4kdG9rZW5pemVyLmdldExpbmVUb2tlbnMobGluZS50cmltKCksIHN0YXRlKS50b2tlbnM7XG5cbiAgICAgICAgaWYgKCF0b2tlbnMgfHwgIXRva2Vucy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgcmV0dXJuICh0b2tlbnNbMF0udHlwZSA9PSBcImtleXdvcmRcIiAmJiBvdXRkZW50S2V5d29yZHMuaW5kZXhPZih0b2tlbnNbMF0udmFsdWUpICE9IC0xKTtcbiAgICB9O1xuXG4gICAgdGhpcy5hdXRvT3V0ZGVudCA9IGZ1bmN0aW9uKHN0YXRlLCBzZXNzaW9uLCByb3cpIHtcbiAgICAgICAgdmFyIHByZXZMaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyAtIDEpO1xuICAgICAgICB2YXIgcHJldkluZGVudCA9IHRoaXMuJGdldEluZGVudChwcmV2TGluZSkubGVuZ3RoO1xuICAgICAgICB2YXIgcHJldlRva2VucyA9IHRoaXMuJHRva2VuaXplci5nZXRMaW5lVG9rZW5zKHByZXZMaW5lLCBcInN0YXJ0XCIpLnRva2VucztcbiAgICAgICAgdmFyIHRhYkxlbmd0aCA9IHNlc3Npb24uZ2V0VGFiU3RyaW5nKCkubGVuZ3RoO1xuICAgICAgICB2YXIgZXhwZWN0ZWRJbmRlbnQgPSBwcmV2SW5kZW50ICsgdGFiTGVuZ3RoICogZ2V0TmV0SW5kZW50TGV2ZWwocHJldlRva2Vucyk7XG4gICAgICAgIHZhciBjdXJJbmRlbnQgPSB0aGlzLiRnZXRJbmRlbnQoc2Vzc2lvbi5nZXRMaW5lKHJvdykpLmxlbmd0aDtcbiAgICAgICAgaWYgKGN1ckluZGVudCA8IGV4cGVjdGVkSW5kZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2Vzc2lvbi5vdXRkZW50Um93cyhuZXcgUmFuZ2Uocm93LCAwLCByb3cgKyAyLCAwKSk7XG4gICAgfTtcblxuICAgIHRoaXMuY3JlYXRlV29ya2VyID0gZnVuY3Rpb24oc2Vzc2lvbikge1xuICAgICAgICB2YXIgd29ya2VyID0gbmV3IFdvcmtlckNsaWVudChbXCJhY2VcIl0sIHJlcXVpcmUoXCIuLi93b3JrZXIvbHVhXCIpLCBcIldvcmtlclwiKTtcbiAgICAgICAgd29ya2VyLmF0dGFjaFRvRG9jdW1lbnQoc2Vzc2lvbi5nZXREb2N1bWVudCgpKTtcbiAgICAgICAgXG4gICAgICAgIHdvcmtlci5vbihcImVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHNlc3Npb24uc2V0QW5ub3RhdGlvbnMoW2UuZGF0YV0pO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHdvcmtlci5vbihcIm9rXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHNlc3Npb24uY2xlYXJBbm5vdGF0aW9ucygpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB3b3JrZXI7XG4gICAgfTtcblxufSkuY2FsbChNb2RlLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuTW9kZSA9IE1vZGU7XG59KTtcblxuYWNlLmRlZmluZSgnYWNlL21vZGUvbHVhX2hpZ2hsaWdodF9ydWxlcycsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyAsICdhY2UvbGliL29vcCcsICdhY2UvbW9kZS90ZXh0X2hpZ2hsaWdodF9ydWxlcyddLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cblxudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi4vbGliL29vcFwiKTtcbnZhciBUZXh0SGlnaGxpZ2h0UnVsZXMgPSBhY2VxdWlyZShcIi4vdGV4dF9oaWdobGlnaHRfcnVsZXNcIikuVGV4dEhpZ2hsaWdodFJ1bGVzO1xuXG52YXIgTHVhSGlnaGxpZ2h0UnVsZXMgPSBmdW5jdGlvbigpIHtcblxuICAgIHZhciBrZXl3b3JkcyA9IChcbiAgICAgICAgXCJicmVha3xkb3xlbHNlfGVsc2VpZnxlbmR8Zm9yfGZ1bmN0aW9ufGlmfGlufGxvY2FsfHJlcGVhdHxcIitcbiAgICAgICAgIFwicmV0dXJufHRoZW58dW50aWx8d2hpbGV8b3J8YW5kfG5vdFwiXG4gICAgKTtcblxuICAgIHZhciBidWlsdGluQ29uc3RhbnRzID0gKFwidHJ1ZXxmYWxzZXxuaWx8X0d8X1ZFUlNJT05cIik7XG5cbiAgICB2YXIgZnVuY3Rpb25zID0gKFxuICAgICAgICBcInN0cmluZ3x4cGNhbGx8cGFja2FnZXx0b3N0cmluZ3xwcmludHxvc3x1bnBhY2t8YWNlcXVpcmV8XCIrXG4gICAgICAgIFwiZ2V0ZmVudnxzZXRtZXRhdGFibGV8bmV4dHxhc3NlcnR8dG9udW1iZXJ8aW98cmF3ZXF1YWx8XCIrXG4gICAgICAgIFwiY29sbGVjdGdhcmJhZ2V8Z2V0bWV0YXRhYmxlfG1vZHVsZXxyYXdzZXR8bWF0aHxkZWJ1Z3xcIitcbiAgICAgICAgXCJwY2FsbHx0YWJsZXxuZXdwcm94eXx0eXBlfGNvcm91dGluZXxfR3xzZWxlY3R8Z2NpbmZvfFwiK1xuICAgICAgICBcInBhaXJzfHJhd2dldHxsb2Fkc3RyaW5nfGlwYWlyc3xfVkVSU0lPTnxkb2ZpbGV8c2V0ZmVudnxcIitcbiAgICAgICAgXCJsb2FkfGVycm9yfGxvYWRmaWxlfFwiK1xuXG4gICAgICAgIFwic3VifHVwcGVyfGxlbnxnZmluZHxyZXB8ZmluZHxtYXRjaHxjaGFyfGR1bXB8Z21hdGNofFwiK1xuICAgICAgICBcInJldmVyc2V8Ynl0ZXxmb3JtYXR8Z3N1Ynxsb3dlcnxwcmVsb2FkfGxvYWRsaWJ8bG9hZGVkfFwiK1xuICAgICAgICBcImxvYWRlcnN8Y3BhdGh8Y29uZmlnfHBhdGh8c2VlYWxsfGV4aXR8c2V0bG9jYWxlfGRhdGV8XCIrXG4gICAgICAgIFwiZ2V0ZW52fGRpZmZ0aW1lfHJlbW92ZXx0aW1lfGNsb2NrfHRtcG5hbWV8cmVuYW1lfGV4ZWN1dGV8XCIrXG4gICAgICAgIFwibGluZXN8d3JpdGV8Y2xvc2V8Zmx1c2h8b3BlbnxvdXRwdXR8dHlwZXxyZWFkfHN0ZGVycnxcIitcbiAgICAgICAgXCJzdGRpbnxpbnB1dHxzdGRvdXR8cG9wZW58dG1wZmlsZXxsb2d8bWF4fGFjb3N8aHVnZXxcIitcbiAgICAgICAgXCJsZGV4cHxwaXxjb3N8dGFuaHxwb3d8ZGVnfHRhbnxjb3NofHNpbmh8cmFuZG9tfHJhbmRvbXNlZWR8XCIrXG4gICAgICAgIFwiZnJleHB8Y2VpbHxmbG9vcnxyYWR8YWJzfHNxcnR8bW9kZnxhc2lufG1pbnxtb2R8Zm1vZHxsb2cxMHxcIitcbiAgICAgICAgXCJhdGFuMnxleHB8c2lufGF0YW58Z2V0dXB2YWx1ZXxkZWJ1Z3xzZXRob29rfGdldG1ldGF0YWJsZXxcIitcbiAgICAgICAgXCJnZXRob29rfHNldG1ldGF0YWJsZXxzZXRsb2NhbHx0cmFjZWJhY2t8c2V0ZmVudnxnZXRpbmZvfFwiK1xuICAgICAgICBcInNldHVwdmFsdWV8Z2V0bG9jYWx8Z2V0cmVnaXN0cnl8Z2V0ZmVudnxzZXRufGluc2VydHxnZXRufFwiK1xuICAgICAgICBcImZvcmVhY2hpfG1heG58Zm9yZWFjaHxjb25jYXR8c29ydHxyZW1vdmV8cmVzdW1lfHlpZWxkfFwiK1xuICAgICAgICBcInN0YXR1c3x3cmFwfGNyZWF0ZXxydW5uaW5nfFwiK1xuICAgICAgICBcIl9fYWRkfF9fc3VifF9fbW9kfF9fdW5tfF9fY29uY2F0fF9fbHR8X19pbmRleHxfX2NhbGx8X19nY3xfX21ldGF0YWJsZXxcIitcbiAgICAgICAgIFwiX19tdWx8X19kaXZ8X19wb3d8X19sZW58X19lcXxfX2xlfF9fbmV3aW5kZXh8X190b3N0cmluZ3xfX21vZGV8X190b251bWJlclwiXG4gICAgKTtcblxuICAgIHZhciBzdGRMaWJhcmllcyA9IChcInN0cmluZ3xwYWNrYWdlfG9zfGlvfG1hdGh8ZGVidWd8dGFibGV8Y29yb3V0aW5lXCIpO1xuXG4gICAgdmFyIGZ1dHVyZVJlc2VydmVkID0gXCJcIjtcblxuICAgIHZhciBkZXByZWNhdGVkSW41MTUyID0gKFwic2V0bnxmb3JlYWNofGZvcmVhY2hpfGdjaW5mb3xsb2cxMHxtYXhuXCIpO1xuXG4gICAgdmFyIGtleXdvcmRNYXBwZXIgPSB0aGlzLmNyZWF0ZUtleXdvcmRNYXBwZXIoe1xuICAgICAgICBcImtleXdvcmRcIjoga2V5d29yZHMsXG4gICAgICAgIFwic3VwcG9ydC5mdW5jdGlvblwiOiBmdW5jdGlvbnMsXG4gICAgICAgIFwiaW52YWxpZC5kZXByZWNhdGVkXCI6IGRlcHJlY2F0ZWRJbjUxNTIsXG4gICAgICAgIFwiY29uc3RhbnQubGlicmFyeVwiOiBzdGRMaWJhcmllcyxcbiAgICAgICAgXCJjb25zdGFudC5sYW5ndWFnZVwiOiBidWlsdGluQ29uc3RhbnRzLFxuICAgICAgICBcImludmFsaWQuaWxsZWdhbFwiOiBmdXR1cmVSZXNlcnZlZCxcbiAgICAgICAgXCJ2YXJpYWJsZS5sYW5ndWFnZVwiOiBcInRoaXNcIlxuICAgIH0sIFwiaWRlbnRpZmllclwiKTtcblxuICAgIHZhciBkZWNpbWFsSW50ZWdlciA9IFwiKD86KD86WzEtOV1cXFxcZCopfCg/OjApKVwiO1xuICAgIHZhciBoZXhJbnRlZ2VyID0gXCIoPzowW3hYXVtcXFxcZEEtRmEtZl0rKVwiO1xuICAgIHZhciBpbnRlZ2VyID0gXCIoPzpcIiArIGRlY2ltYWxJbnRlZ2VyICsgXCJ8XCIgKyBoZXhJbnRlZ2VyICsgXCIpXCI7XG5cbiAgICB2YXIgZnJhY3Rpb24gPSBcIig/OlxcXFwuXFxcXGQrKVwiO1xuICAgIHZhciBpbnRQYXJ0ID0gXCIoPzpcXFxcZCspXCI7XG4gICAgdmFyIHBvaW50RmxvYXQgPSBcIig/Oig/OlwiICsgaW50UGFydCArIFwiP1wiICsgZnJhY3Rpb24gKyBcIil8KD86XCIgKyBpbnRQYXJ0ICsgXCJcXFxcLikpXCI7XG4gICAgdmFyIGZsb2F0TnVtYmVyID0gXCIoPzpcIiArIHBvaW50RmxvYXQgKyBcIilcIjtcblxuICAgIHRoaXMuJHJ1bGVzID0ge1xuICAgICAgICBcInN0YXJ0XCIgOiBbe1xuICAgICAgICAgICAgc3RhdGVOYW1lOiBcImJyYWNrZXRlZENvbW1lbnRcIixcbiAgICAgICAgICAgIG9uTWF0Y2ggOiBmdW5jdGlvbih2YWx1ZSwgY3VycmVudFN0YXRlLCBzdGFjayl7XG4gICAgICAgICAgICAgICAgc3RhY2sudW5zaGlmdCh0aGlzLm5leHQsIHZhbHVlLmxlbmd0aCwgY3VycmVudFN0YXRlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJjb21tZW50XCI7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVnZXggOiAvXFwtXFwtXFxbPSpcXFsvLFxuICAgICAgICAgICAgbmV4dCAgOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBvbk1hdGNoIDogZnVuY3Rpb24odmFsdWUsIGN1cnJlbnRTdGF0ZSwgc3RhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT0gc3RhY2tbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0ID0gc3RhY2suc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImNvbW1lbnRcIjtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVnZXggOiAvKD86W15cXFxcXXxcXFxcLikqP1xcXT0qXFxdLyxcbiAgICAgICAgICAgICAgICAgICAgbmV4dCAgOiBcInN0YXJ0XCJcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRUb2tlbiA6IFwiY29tbWVudFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRva2VuIDogXCJjb21tZW50XCIsXG4gICAgICAgICAgICByZWdleCA6IFwiXFxcXC1cXFxcLS4qJFwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN0YXRlTmFtZTogXCJicmFja2V0ZWRTdHJpbmdcIixcbiAgICAgICAgICAgIG9uTWF0Y2ggOiBmdW5jdGlvbih2YWx1ZSwgY3VycmVudFN0YXRlLCBzdGFjayl7XG4gICAgICAgICAgICAgICAgc3RhY2sudW5zaGlmdCh0aGlzLm5leHQsIHZhbHVlLmxlbmd0aCwgY3VycmVudFN0YXRlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJjb21tZW50XCI7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVnZXggOiAvXFxbPSpcXFsvLFxuICAgICAgICAgICAgbmV4dCAgOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBvbk1hdGNoIDogZnVuY3Rpb24odmFsdWUsIGN1cnJlbnRTdGF0ZSwgc3RhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT0gc3RhY2tbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0ID0gc3RhY2suc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImNvbW1lbnRcIjtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHJlZ2V4IDogLyg/OlteXFxcXF18XFxcXC4pKj9cXF09KlxcXS8sXG4gICAgICAgICAgICAgICAgICAgIG5leHQgIDogXCJzdGFydFwiXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VG9rZW4gOiBcImNvbW1lbnRcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgdG9rZW4gOiBcInN0cmluZ1wiLCAgICAgICAgICAgLy8gXCIgc3RyaW5nXG4gICAgICAgICAgICByZWdleCA6ICdcIig/OlteXFxcXFxcXFxdfFxcXFxcXFxcLikqP1wiJ1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0b2tlbiA6IFwic3RyaW5nXCIsICAgICAgICAgICAvLyAnIHN0cmluZ1xuICAgICAgICAgICAgcmVnZXggOiBcIicoPzpbXlxcXFxcXFxcXXxcXFxcXFxcXC4pKj8nXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdG9rZW4gOiBcImNvbnN0YW50Lm51bWVyaWNcIiwgLy8gZmxvYXRcbiAgICAgICAgICAgIHJlZ2V4IDogZmxvYXROdW1iZXJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdG9rZW4gOiBcImNvbnN0YW50Lm51bWVyaWNcIiwgLy8gaW50ZWdlclxuICAgICAgICAgICAgcmVnZXggOiBpbnRlZ2VyICsgXCJcXFxcYlwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRva2VuIDoga2V5d29yZE1hcHBlcixcbiAgICAgICAgICAgIHJlZ2V4IDogXCJbYS16QS1aXyRdW2EtekEtWjAtOV8kXSpcXFxcYlwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRva2VuIDogXCJrZXl3b3JkLm9wZXJhdG9yXCIsXG4gICAgICAgICAgICByZWdleCA6IFwiXFxcXCt8XFxcXC18XFxcXCp8XFxcXC98JXxcXFxcI3xcXFxcXnx+fDx8Pnw8PXw9Pnw9PXx+PXw9fFxcXFw6fFxcXFwuXFxcXC5cXFxcLnxcXFxcLlxcXFwuXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdG9rZW4gOiBcInBhcmVuLmxwYXJlblwiLFxuICAgICAgICAgICAgcmVnZXggOiBcIltcXFxcW1xcXFwoXFxcXHtdXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdG9rZW4gOiBcInBhcmVuLnJwYXJlblwiLFxuICAgICAgICAgICAgcmVnZXggOiBcIltcXFxcXVxcXFwpXFxcXH1dXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdG9rZW4gOiBcInRleHRcIixcbiAgICAgICAgICAgIHJlZ2V4IDogXCJcXFxccyt8XFxcXHcrXCJcbiAgICAgICAgfSBdXG4gICAgfTtcbiAgICBcbiAgICB0aGlzLm5vcm1hbGl6ZVJ1bGVzKCk7XG59XG5cbm9vcC5pbmhlcml0cyhMdWFIaWdobGlnaHRSdWxlcywgVGV4dEhpZ2hsaWdodFJ1bGVzKTtcblxuZXhwb3J0cy5MdWFIaWdobGlnaHRSdWxlcyA9IEx1YUhpZ2hsaWdodFJ1bGVzO1xufSk7XG5cbmFjZS5kZWZpbmUoJ2FjZS9tb2RlL2ZvbGRpbmcvbHVhJywgW1wicmVxdWlyZVwiLCAnZXhwb3J0cycsICdtb2R1bGUnICwgJ2FjZS9saWIvb29wJywgJ2FjZS9tb2RlL2ZvbGRpbmcvZm9sZF9tb2RlJywgJ2FjZS9yYW5nZScsICdhY2UvdG9rZW5faXRlcmF0b3InXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4uLy4uL2xpYi9vb3BcIik7XG52YXIgQmFzZUZvbGRNb2RlID0gYWNlcXVpcmUoXCIuL2ZvbGRfbW9kZVwiKS5Gb2xkTW9kZTtcbnZhciBSYW5nZSA9IGFjZXF1aXJlKFwiLi4vLi4vcmFuZ2VcIikuUmFuZ2U7XG52YXIgVG9rZW5JdGVyYXRvciA9IGFjZXF1aXJlKFwiLi4vLi4vdG9rZW5faXRlcmF0b3JcIikuVG9rZW5JdGVyYXRvcjtcblxuXG52YXIgRm9sZE1vZGUgPSBleHBvcnRzLkZvbGRNb2RlID0gZnVuY3Rpb24oKSB7fTtcblxub29wLmluaGVyaXRzKEZvbGRNb2RlLCBCYXNlRm9sZE1vZGUpO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLmZvbGRpbmdTdGFydE1hcmtlciA9IC9cXGIoZnVuY3Rpb258dGhlbnxkb3xyZXBlYXQpXFxifHtcXHMqJHwoXFxbPSpcXFspLztcbiAgICB0aGlzLmZvbGRpbmdTdG9wTWFya2VyID0gL1xcYmVuZFxcYnxeXFxzKn18XFxdPSpcXF0vO1xuXG4gICAgdGhpcy5nZXRGb2xkV2lkZ2V0ID0gZnVuY3Rpb24oc2Vzc2lvbiwgZm9sZFN0eWxlLCByb3cpIHtcbiAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocm93KTtcbiAgICAgICAgdmFyIGlzU3RhcnQgPSB0aGlzLmZvbGRpbmdTdGFydE1hcmtlci50ZXN0KGxpbmUpO1xuICAgICAgICB2YXIgaXNFbmQgPSB0aGlzLmZvbGRpbmdTdG9wTWFya2VyLnRlc3QobGluZSk7XG5cbiAgICAgICAgaWYgKGlzU3RhcnQgJiYgIWlzRW5kKSB7XG4gICAgICAgICAgICB2YXIgbWF0Y2ggPSBsaW5lLm1hdGNoKHRoaXMuZm9sZGluZ1N0YXJ0TWFya2VyKTtcbiAgICAgICAgICAgIGlmIChtYXRjaFsxXSA9PSBcInRoZW5cIiAmJiAvXFxiZWxzZWlmXFxiLy50ZXN0KGxpbmUpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmIChtYXRjaFsxXSkge1xuICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uLmdldFRva2VuQXQocm93LCBtYXRjaC5pbmRleCArIDEpLnR5cGUgPT09IFwia2V5d29yZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJzdGFydFwiO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaFsyXSkge1xuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gc2Vzc2lvbi5iZ1Rva2VuaXplci5nZXRTdGF0ZShyb3cpIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVbMF0gPT0gXCJicmFja2V0ZWRDb21tZW50XCIgfHwgdHlwZVswXSA9PSBcImJyYWNrZXRlZFN0cmluZ1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJzdGFydFwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJzdGFydFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChmb2xkU3R5bGUgIT0gXCJtYXJrYmVnaW5lbmRcIiB8fCAhaXNFbmQgfHwgaXNTdGFydCAmJiBpc0VuZClcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuXG4gICAgICAgIHZhciBtYXRjaCA9IGxpbmUubWF0Y2godGhpcy5mb2xkaW5nU3RvcE1hcmtlcik7XG4gICAgICAgIGlmIChtYXRjaFswXSA9PT0gXCJlbmRcIikge1xuICAgICAgICAgICAgaWYgKHNlc3Npb24uZ2V0VG9rZW5BdChyb3csIG1hdGNoLmluZGV4ICsgMSkudHlwZSA9PT0gXCJrZXl3b3JkXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiZW5kXCI7XG4gICAgICAgIH0gZWxzZSBpZiAobWF0Y2hbMF1bMF0gPT09IFwiXVwiKSB7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IHNlc3Npb24uYmdUb2tlbml6ZXIuZ2V0U3RhdGUocm93IC0gMSkgfHwgXCJcIjtcbiAgICAgICAgICAgIGlmICh0eXBlWzBdID09IFwiYnJhY2tldGVkQ29tbWVudFwiIHx8IHR5cGVbMF0gPT0gXCJicmFja2V0ZWRTdHJpbmdcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJlbmRcIjtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICByZXR1cm4gXCJlbmRcIjtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2UgPSBmdW5jdGlvbihzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdykge1xuICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZG9jLmdldExpbmUocm93KTtcbiAgICAgICAgdmFyIG1hdGNoID0gdGhpcy5mb2xkaW5nU3RhcnRNYXJrZXIuZXhlYyhsaW5lKTtcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICBpZiAobWF0Y2hbMV0pXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubHVhQmxvY2soc2Vzc2lvbiwgcm93LCBtYXRjaC5pbmRleCArIDEpO1xuXG4gICAgICAgICAgICBpZiAobWF0Y2hbMl0pXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlc3Npb24uZ2V0Q29tbWVudEZvbGRSYW5nZShyb3csIG1hdGNoLmluZGV4ICsgMSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wZW5pbmdCcmFja2V0QmxvY2soc2Vzc2lvbiwgXCJ7XCIsIHJvdywgbWF0Y2guaW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1hdGNoID0gdGhpcy5mb2xkaW5nU3RvcE1hcmtlci5leGVjKGxpbmUpO1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIGlmIChtYXRjaFswXSA9PT0gXCJlbmRcIikge1xuICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uLmdldFRva2VuQXQocm93LCBtYXRjaC5pbmRleCArIDEpLnR5cGUgPT09IFwia2V5d29yZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sdWFCbG9jayhzZXNzaW9uLCByb3csIG1hdGNoLmluZGV4ICsgMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtYXRjaFswXVswXSA9PT0gXCJdXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlc3Npb24uZ2V0Q29tbWVudEZvbGRSYW5nZShyb3csIG1hdGNoLmluZGV4ICsgMSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNsb3NpbmdCcmFja2V0QmxvY2soc2Vzc2lvbiwgXCJ9XCIsIHJvdywgbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMubHVhQmxvY2sgPSBmdW5jdGlvbihzZXNzaW9uLCByb3csIGNvbHVtbikge1xuICAgICAgICB2YXIgc3RyZWFtID0gbmV3IFRva2VuSXRlcmF0b3Ioc2Vzc2lvbiwgcm93LCBjb2x1bW4pO1xuICAgICAgICB2YXIgaW5kZW50S2V5d29yZHMgPSB7XG4gICAgICAgICAgICBcImZ1bmN0aW9uXCI6IDEsXG4gICAgICAgICAgICBcImRvXCI6IDEsXG4gICAgICAgICAgICBcInRoZW5cIjogMSxcbiAgICAgICAgICAgIFwiZWxzZWlmXCI6IC0xLFxuICAgICAgICAgICAgXCJlbmRcIjogLTEsXG4gICAgICAgICAgICBcInJlcGVhdFwiOiAxLFxuICAgICAgICAgICAgXCJ1bnRpbFwiOiAtMVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciB0b2tlbiA9IHN0cmVhbS5nZXRDdXJyZW50VG9rZW4oKTtcbiAgICAgICAgaWYgKCF0b2tlbiB8fCB0b2tlbi50eXBlICE9IFwia2V5d29yZFwiKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciB2YWwgPSB0b2tlbi52YWx1ZTtcbiAgICAgICAgdmFyIHN0YWNrID0gW3ZhbF07XG4gICAgICAgIHZhciBkaXIgPSBpbmRlbnRLZXl3b3Jkc1t2YWxdO1xuXG4gICAgICAgIGlmICghZGlyKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciBzdGFydENvbHVtbiA9IGRpciA9PT0gLTEgPyBzdHJlYW0uZ2V0Q3VycmVudFRva2VuQ29sdW1uKCkgOiBzZXNzaW9uLmdldExpbmUocm93KS5sZW5ndGg7XG4gICAgICAgIHZhciBzdGFydFJvdyA9IHJvdztcblxuICAgICAgICBzdHJlYW0uc3RlcCA9IGRpciA9PT0gLTEgPyBzdHJlYW0uc3RlcEJhY2t3YXJkIDogc3RyZWFtLnN0ZXBGb3J3YXJkO1xuICAgICAgICB3aGlsZSh0b2tlbiA9IHN0cmVhbS5zdGVwKCkpIHtcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlICE9PSBcImtleXdvcmRcIilcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIHZhciBsZXZlbCA9IGRpciAqIGluZGVudEtleXdvcmRzW3Rva2VuLnZhbHVlXTtcblxuICAgICAgICAgICAgaWYgKGxldmVsID4gMCkge1xuICAgICAgICAgICAgICAgIHN0YWNrLnVuc2hpZnQodG9rZW4udmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsZXZlbCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgc3RhY2suc2hpZnQoKTtcbiAgICAgICAgICAgICAgICBpZiAoIXN0YWNrLmxlbmd0aCAmJiB0b2tlbi52YWx1ZSAhPSBcImVsc2VpZlwiKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBpZiAobGV2ZWwgPT09IDApXG4gICAgICAgICAgICAgICAgICAgIHN0YWNrLnVuc2hpZnQodG9rZW4udmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJvdyA9IHN0cmVhbS5nZXRDdXJyZW50VG9rZW5Sb3coKTtcbiAgICAgICAgaWYgKGRpciA9PT0gLTEpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHJvdywgc2Vzc2lvbi5nZXRMaW5lKHJvdykubGVuZ3RoLCBzdGFydFJvdywgc3RhcnRDb2x1bW4pO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0Um93LCBzdGFydENvbHVtbiwgcm93LCBzdHJlYW0uZ2V0Q3VycmVudFRva2VuQ29sdW1uKCkpO1xuICAgIH07XG5cbn0pLmNhbGwoRm9sZE1vZGUucHJvdG90eXBlKTtcblxufSk7XG4iLCJ2YXIgZ2xvYmFsPXR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fTttb2R1bGUuZXhwb3J0cyA9IGdldF9ibG9iKClcblxuZnVuY3Rpb24gZ2V0X2Jsb2IoKSB7XG4gIGlmKGdsb2JhbC5CbG9iKSB7XG4gICAgdHJ5IHtcbiAgICAgIG5ldyBCbG9iKFsnYXNkZiddLCB7dHlwZTogJ3RleHQvcGxhaW4nfSlcbiAgICAgIHJldHVybiBCbG9iXG4gICAgfSBjYXRjaChlcnIpIHt9XG4gIH1cblxuICB2YXIgQnVpbGRlciA9IGdsb2JhbC5XZWJLaXRCbG9iQnVpbGRlciB8fFxuICAgICAgICAgICAgICAgIGdsb2JhbC5Nb3pCbG9iQnVpbGRlciB8fFxuICAgICAgICAgICAgICAgIGdsb2JhbC5NU0Jsb2JCdWlsZGVyXG5cbiAgcmV0dXJuIGZ1bmN0aW9uKHBhcnRzLCBiYWcpIHtcbiAgICB2YXIgYnVpbGRlciA9IG5ldyBCdWlsZGVyXG4gICAgICAsIGVuZGluZ3MgPSBiYWcuZW5kaW5nc1xuICAgICAgLCB0eXBlID0gYmFnLnR5cGVcblxuICAgIGlmKGVuZGluZ3MpIGZvcih2YXIgaSA9IDAsIGxlbiA9IHBhcnRzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICBidWlsZGVyLmFwcGVuZChwYXJ0c1tpXSwgZW5kaW5ncylcbiAgICB9IGVsc2UgZm9yKHZhciBpID0gMCwgbGVuID0gcGFydHMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIGJ1aWxkZXIuYXBwZW5kKHBhcnRzW2ldKVxuICAgIH1cblxuICAgIHJldHVybiB0eXBlID8gYnVpbGRlci5nZXRCbG9iKHR5cGUpIDogYnVpbGRlci5nZXRCbG9iKClcbiAgfVxufVxuIiwiLyogKioqKiogQkVHSU4gTElDRU5TRSBCTE9DSyAqKioqKlxuICogRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIEJTRCBsaWNlbnNlOlxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxMCwgQWpheC5vcmcgQi5WLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuICogICAgICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqICAgICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0XG4gKiAgICAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gKiAgICAgICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICogICAgICogTmVpdGhlciB0aGUgbmFtZSBvZiBBamF4Lm9yZyBCLlYuIG5vciB0aGVcbiAqICAgICAgIG5hbWVzIG9mIGl0cyBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzXG4gKiAgICAgICBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqIFxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCIgQU5EXG4gKiBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxuICogV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRVxuICogRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgQUpBWC5PUkcgQi5WLiBCRSBMSUFCTEUgRk9SIEFOWVxuICogRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVNcbiAqIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUztcbiAqIExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORFxuICogT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlRcbiAqIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTXG4gKiBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqXG4gKiAqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKiAqL1xuXG5hY2UuZGVmaW5lKCdhY2UvdGhlbWUvbW9ub2thaScsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyAsICdhY2UvbGliL2RvbSddLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cbmV4cG9ydHMuaXNEYXJrID0gdHJ1ZTtcbmV4cG9ydHMuY3NzQ2xhc3MgPSBcImFjZS1tb25va2FpXCI7XG5leHBvcnRzLmNzc1RleHQgPSBcIi5hY2UtbW9ub2thaSAuYWNlX2d1dHRlciB7XFxcbmJhY2tncm91bmQ6ICMyRjMxMjk7XFxcbmNvbG9yOiAjOEY5MDhBXFxcbn1cXFxuLmFjZS1tb25va2FpIC5hY2VfcHJpbnQtbWFyZ2luIHtcXFxud2lkdGg6IDFweDtcXFxuYmFja2dyb3VuZDogIzU1NTY1MVxcXG59XFxcbi5hY2UtbW9ub2thaSB7XFxcbmJhY2tncm91bmQtY29sb3I6ICMyNzI4MjI7XFxcbmNvbG9yOiAjRjhGOEYyXFxcbn1cXFxuLmFjZS1tb25va2FpIC5hY2VfY3Vyc29yIHtcXFxuYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCAjRjhGOEYwXFxcbn1cXFxuLmFjZS1tb25va2FpIC5hY2Vfb3ZlcndyaXRlLWN1cnNvcnMgLmFjZV9jdXJzb3Ige1xcXG5ib3JkZXItbGVmdDogMHB4O1xcXG5ib3JkZXItYm90dG9tOiAxcHggc29saWQgI0Y4RjhGMFxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX21hcmtlci1sYXllciAuYWNlX3NlbGVjdGlvbiB7XFxcbmJhY2tncm91bmQ6ICM0OTQ4M0VcXFxufVxcXG4uYWNlLW1vbm9rYWkuYWNlX211bHRpc2VsZWN0IC5hY2Vfc2VsZWN0aW9uLmFjZV9zdGFydCB7XFxcbmJveC1zaGFkb3c6IDAgMCAzcHggMHB4ICMyNzI4MjI7XFxcbmJvcmRlci1yYWRpdXM6IDJweFxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX21hcmtlci1sYXllciAuYWNlX3N0ZXAge1xcXG5iYWNrZ3JvdW5kOiByZ2IoMTAyLCA4MiwgMClcXFxufVxcXG4uYWNlLW1vbm9rYWkgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9icmFja2V0IHtcXFxubWFyZ2luOiAtMXB4IDAgMCAtMXB4O1xcXG5ib3JkZXI6IDFweCBzb2xpZCAjNDk0ODNFXFxcbn1cXFxuLmFjZS1tb25va2FpIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYWN0aXZlLWxpbmUge1xcXG5iYWNrZ3JvdW5kOiAjMjAyMDIwXFxcbn1cXFxuLmFjZS1tb25va2FpIC5hY2VfZ3V0dGVyLWFjdGl2ZS1saW5lIHtcXFxuYmFja2dyb3VuZC1jb2xvcjogIzI3MjcyN1xcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX21hcmtlci1sYXllciAuYWNlX3NlbGVjdGVkLXdvcmQge1xcXG5ib3JkZXI6IDFweCBzb2xpZCAjNDk0ODNFXFxcbn1cXFxuLmFjZS1tb25va2FpIC5hY2VfaW52aXNpYmxlIHtcXFxuY29sb3I6ICM1MjUyNGRcXFxufVxcXG4uYWNlLW1vbm9rYWkgLmFjZV9lbnRpdHkuYWNlX25hbWUuYWNlX3RhZyxcXFxuLmFjZS1tb25va2FpIC5hY2Vfa2V5d29yZCxcXFxuLmFjZS1tb25va2FpIC5hY2VfbWV0YS5hY2VfdGFnLFxcXG4uYWNlLW1vbm9rYWkgLmFjZV9zdG9yYWdlIHtcXFxuY29sb3I6ICNGOTI2NzJcXFxufVxcXG4uYWNlLW1vbm9rYWkgLmFjZV9jb25zdGFudC5hY2VfY2hhcmFjdGVyLFxcXG4uYWNlLW1vbm9rYWkgLmFjZV9jb25zdGFudC5hY2VfbGFuZ3VhZ2UsXFxcbi5hY2UtbW9ub2thaSAuYWNlX2NvbnN0YW50LmFjZV9udW1lcmljLFxcXG4uYWNlLW1vbm9rYWkgLmFjZV9jb25zdGFudC5hY2Vfb3RoZXIge1xcXG5jb2xvcjogI0FFODFGRlxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX2ludmFsaWQge1xcXG5jb2xvcjogI0Y4RjhGMDtcXFxuYmFja2dyb3VuZC1jb2xvcjogI0Y5MjY3MlxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX2ludmFsaWQuYWNlX2RlcHJlY2F0ZWQge1xcXG5jb2xvcjogI0Y4RjhGMDtcXFxuYmFja2dyb3VuZC1jb2xvcjogI0FFODFGRlxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX3N1cHBvcnQuYWNlX2NvbnN0YW50LFxcXG4uYWNlLW1vbm9rYWkgLmFjZV9zdXBwb3J0LmFjZV9mdW5jdGlvbiB7XFxcbmNvbG9yOiAjNjZEOUVGXFxcbn1cXFxuLmFjZS1tb25va2FpIC5hY2VfZm9sZCB7XFxcbmJhY2tncm91bmQtY29sb3I6ICNBNkUyMkU7XFxcbmJvcmRlci1jb2xvcjogI0Y4RjhGMlxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX3N0b3JhZ2UuYWNlX3R5cGUsXFxcbi5hY2UtbW9ub2thaSAuYWNlX3N1cHBvcnQuYWNlX2NsYXNzLFxcXG4uYWNlLW1vbm9rYWkgLmFjZV9zdXBwb3J0LmFjZV90eXBlIHtcXFxuZm9udC1zdHlsZTogaXRhbGljO1xcXG5jb2xvcjogIzY2RDlFRlxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX2VudGl0eS5hY2VfbmFtZS5hY2VfZnVuY3Rpb24sXFxcbi5hY2UtbW9ub2thaSAuYWNlX2VudGl0eS5hY2Vfb3RoZXIsXFxcbi5hY2UtbW9ub2thaSAuYWNlX2VudGl0eS5hY2Vfb3RoZXIuYWNlX2F0dHJpYnV0ZS1uYW1lLFxcXG4uYWNlLW1vbm9rYWkgLmFjZV92YXJpYWJsZSB7XFxcbmNvbG9yOiAjQTZFMjJFXFxcbn1cXFxuLmFjZS1tb25va2FpIC5hY2VfdmFyaWFibGUuYWNlX3BhcmFtZXRlciB7XFxcbmZvbnQtc3R5bGU6IGl0YWxpYztcXFxuY29sb3I6ICNGRDk3MUZcXFxufVxcXG4uYWNlLW1vbm9rYWkgLmFjZV9zdHJpbmcge1xcXG5jb2xvcjogI0U2REI3NFxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX2NvbW1lbnQge1xcXG5jb2xvcjogIzc1NzE1RVxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX21hcmt1cC5hY2VfdW5kZXJsaW5lIHtcXFxudGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmVcXFxufVxcXG4uYWNlLW1vbm9rYWkgLmFjZV9pbmRlbnQtZ3VpZGUge1xcXG5iYWNrZ3JvdW5kOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFDQ0FZQUFBQ1pnYlluQUFBQUVrbEVRVlFJbVdQUTBGRDBaWEJ6ZC93UEFBalZBb3hlU2dOZUFBQUFBRWxGVGtTdVFtQ0MpIHJpZ2h0IHJlcGVhdC15O1xcXG59XCI7XG5cbnZhciBkb20gPSBhY2VxdWlyZShcIi4uL2xpYi9kb21cIik7XG5kb20uaW1wb3J0Q3NzU3RyaW5nKGV4cG9ydHMuY3NzVGV4dCwgZXhwb3J0cy5jc3NDbGFzcyk7XG59KTtcbiIsIi8qICoqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKipcbiAqIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBCU0QgbGljZW5zZTpcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTAsIEFqYXgub3JnIEIuVi5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcbiAqICAgICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XG4gKiAgICAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKiAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodFxuICogICAgICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICogICAgICAgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqICAgICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgQWpheC5vcmcgQi5WLiBub3IgdGhlXG4gKiAgICAgICBuYW1lcyBvZiBpdHMgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0c1xuICogICAgICAgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKiBcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiIEFORFxuICogQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRURcbiAqIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkVcbiAqIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIEFKQVguT1JHIEIuVi4gQkUgTElBQkxFIEZPUiBBTllcbiAqIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTXG4gKiAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7XG4gKiBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkRcbiAqIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXG4gKiAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJU1xuICogU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKlxuICogKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKiogKi9cblxuYWNlLmRlZmluZSgnYWNlL3RoZW1lL3NvbGFyaXplZF9kYXJrJywgW1wicmVxdWlyZVwiLCAnZXhwb3J0cycsICdtb2R1bGUnICwgJ2FjZS9saWIvZG9tJ10sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuZXhwb3J0cy5pc0RhcmsgPSB0cnVlO1xuZXhwb3J0cy5jc3NDbGFzcyA9IFwiYWNlLXNvbGFyaXplZC1kYXJrXCI7XG5leHBvcnRzLmNzc1RleHQgPSBcIi5hY2Utc29sYXJpemVkLWRhcmsgLmFjZV9ndXR0ZXIge1xcXG5iYWNrZ3JvdW5kOiAjMDEzMTNmO1xcXG5jb2xvcjogI2QwZWRmN1xcXG59XFxcbi5hY2Utc29sYXJpemVkLWRhcmsgLmFjZV9wcmludC1tYXJnaW4ge1xcXG53aWR0aDogMXB4O1xcXG5iYWNrZ3JvdW5kOiAjMzM1NTVFXFxcbn1cXFxuLmFjZS1zb2xhcml6ZWQtZGFyayB7XFxcbmJhY2tncm91bmQtY29sb3I6ICMwMDJCMzY7XFxcbmNvbG9yOiAjOTNBMUExXFxcbn1cXFxuLmFjZS1zb2xhcml6ZWQtZGFyayAuYWNlX2VudGl0eS5hY2Vfb3RoZXIuYWNlX2F0dHJpYnV0ZS1uYW1lLFxcXG4uYWNlLXNvbGFyaXplZC1kYXJrIC5hY2Vfc3RvcmFnZSxcXFxuLmFjZS1zb2xhcml6ZWQtZGFyayAuYWNlX3RleHQtbGF5ZXIge1xcXG5jb2xvcjogIzkzQTFBMVxcXG59XFxcbi5hY2Utc29sYXJpemVkLWRhcmsgLmFjZV9jdXJzb3Ige1xcXG5ib3JkZXItbGVmdDogMnB4IHNvbGlkICNEMzAxMDJcXFxufVxcXG4uYWNlLXNvbGFyaXplZC1kYXJrIC5hY2Vfb3ZlcndyaXRlLWN1cnNvcnMgLmFjZV9jdXJzb3Ige1xcXG5ib3JkZXItbGVmdDogMHB4O1xcXG5ib3JkZXItYm90dG9tOiAxcHggc29saWQgI0QzMDEwMlxcXG59XFxcbi5hY2Utc29sYXJpemVkLWRhcmsgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9hY3RpdmUtbGluZSxcXFxuLmFjZS1zb2xhcml6ZWQtZGFyayAuYWNlX21hcmtlci1sYXllciAuYWNlX3NlbGVjdGlvbiB7XFxcbmJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKVxcXG59XFxcbi5hY2Utc29sYXJpemVkLWRhcmsuYWNlX211bHRpc2VsZWN0IC5hY2Vfc2VsZWN0aW9uLmFjZV9zdGFydCB7XFxcbmJveC1zaGFkb3c6IDAgMCAzcHggMHB4ICMwMDJCMzY7XFxcbmJvcmRlci1yYWRpdXM6IDJweFxcXG59XFxcbi5hY2Utc29sYXJpemVkLWRhcmsgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zdGVwIHtcXFxuYmFja2dyb3VuZDogcmdiKDEwMiwgODIsIDApXFxcbn1cXFxuLmFjZS1zb2xhcml6ZWQtZGFyayAuYWNlX21hcmtlci1sYXllciAuYWNlX2JyYWNrZXQge1xcXG5tYXJnaW46IC0xcHggMCAwIC0xcHg7XFxcbmJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTQ3LCAxNjEsIDE2MSwgMC41MClcXFxufVxcXG4uYWNlLXNvbGFyaXplZC1kYXJrIC5hY2VfZ3V0dGVyLWFjdGl2ZS1saW5lIHtcXFxuYmFja2dyb3VuZC1jb2xvcjogIzBkMzQ0MFxcXG59XFxcbi5hY2Utc29sYXJpemVkLWRhcmsgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zZWxlY3RlZC13b3JkIHtcXFxuYm9yZGVyOiAxcHggc29saWQgIzA3MzY0MlxcXG59XFxcbi5hY2Utc29sYXJpemVkLWRhcmsgLmFjZV9pbnZpc2libGUge1xcXG5jb2xvcjogcmdiYSgxNDcsIDE2MSwgMTYxLCAwLjUwKVxcXG59XFxcbi5hY2Utc29sYXJpemVkLWRhcmsgLmFjZV9rZXl3b3JkLFxcXG4uYWNlLXNvbGFyaXplZC1kYXJrIC5hY2VfbWV0YSxcXFxuLmFjZS1zb2xhcml6ZWQtZGFyayAuYWNlX3N1cHBvcnQuYWNlX2NsYXNzLFxcXG4uYWNlLXNvbGFyaXplZC1kYXJrIC5hY2Vfc3VwcG9ydC5hY2VfdHlwZSB7XFxcbmNvbG9yOiAjODU5OTAwXFxcbn1cXFxuLmFjZS1zb2xhcml6ZWQtZGFyayAuYWNlX2NvbnN0YW50LmFjZV9jaGFyYWN0ZXIsXFxcbi5hY2Utc29sYXJpemVkLWRhcmsgLmFjZV9jb25zdGFudC5hY2Vfb3RoZXIge1xcXG5jb2xvcjogI0NCNEIxNlxcXG59XFxcbi5hY2Utc29sYXJpemVkLWRhcmsgLmFjZV9jb25zdGFudC5hY2VfbGFuZ3VhZ2Uge1xcXG5jb2xvcjogI0I1ODkwMFxcXG59XFxcbi5hY2Utc29sYXJpemVkLWRhcmsgLmFjZV9jb25zdGFudC5hY2VfbnVtZXJpYyB7XFxcbmNvbG9yOiAjRDMzNjgyXFxcbn1cXFxuLmFjZS1zb2xhcml6ZWQtZGFyayAuYWNlX2ZvbGQge1xcXG5iYWNrZ3JvdW5kLWNvbG9yOiAjMjY4QkQyO1xcXG5ib3JkZXItY29sb3I6ICM5M0ExQTFcXFxufVxcXG4uYWNlLXNvbGFyaXplZC1kYXJrIC5hY2VfZW50aXR5LmFjZV9uYW1lLmFjZV9mdW5jdGlvbixcXFxuLmFjZS1zb2xhcml6ZWQtZGFyayAuYWNlX2VudGl0eS5hY2VfbmFtZS5hY2VfdGFnLFxcXG4uYWNlLXNvbGFyaXplZC1kYXJrIC5hY2Vfc3VwcG9ydC5hY2VfZnVuY3Rpb24sXFxcbi5hY2Utc29sYXJpemVkLWRhcmsgLmFjZV92YXJpYWJsZSxcXFxuLmFjZS1zb2xhcml6ZWQtZGFyayAuYWNlX3ZhcmlhYmxlLmFjZV9sYW5ndWFnZSB7XFxcbmNvbG9yOiAjMjY4QkQyXFxcbn1cXFxuLmFjZS1zb2xhcml6ZWQtZGFyayAuYWNlX3N0cmluZyB7XFxcbmNvbG9yOiAjMkFBMTk4XFxcbn1cXFxuLmFjZS1zb2xhcml6ZWQtZGFyayAuYWNlX3N0cmluZy5hY2VfcmVnZXhwIHtcXFxuY29sb3I6ICNEMzAxMDJcXFxufVxcXG4uYWNlLXNvbGFyaXplZC1kYXJrIC5hY2VfY29tbWVudCB7XFxcbmZvbnQtc3R5bGU6IGl0YWxpYztcXFxuY29sb3I6ICM2NTdCODNcXFxufVxcXG4uYWNlLXNvbGFyaXplZC1kYXJrIC5hY2VfbWFya3VwLmFjZV91bmRlcmxpbmUge1xcXG50ZXh0LWRlY29yYXRpb246IHVuZGVybGluZVxcXG59XFxcbi5hY2Utc29sYXJpemVkLWRhcmsgLmFjZV9pbmRlbnQtZ3VpZGUge1xcXG5iYWNrZ3JvdW5kOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFDQ0FZQUFBQ1pnYlluQUFBQUVrbEVRVlFJbVdOZzBEYjFaVkN4Yy9zUEFBZDRBbFVIbExlbkFBQUFBRWxGVGtTdVFtQ0MpIHJpZ2h0IHJlcGVhdC15O1xcXG59XCI7XG5cbnZhciBkb20gPSBhY2VxdWlyZShcIi4uL2xpYi9kb21cIik7XG5kb20uaW1wb3J0Q3NzU3RyaW5nKGV4cG9ydHMuY3NzVGV4dCwgZXhwb3J0cy5jc3NDbGFzcyk7XG59KTtcbiIsIi8qICoqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKipcbiAqIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBCU0QgbGljZW5zZTpcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTAsIEFqYXgub3JnIEIuVi5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcbiAqICAgICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XG4gKiAgICAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKiAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodFxuICogICAgICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICogICAgICAgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqICAgICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgQWpheC5vcmcgQi5WLiBub3IgdGhlXG4gKiAgICAgICBuYW1lcyBvZiBpdHMgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0c1xuICogICAgICAgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKiBcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiIEFORFxuICogQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRURcbiAqIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkVcbiAqIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIEFKQVguT1JHIEIuVi4gQkUgTElBQkxFIEZPUiBBTllcbiAqIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTXG4gKiAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7XG4gKiBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkRcbiAqIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXG4gKiAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJU1xuICogU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKlxuICogKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKiogKi9cblxuYWNlLmRlZmluZSgnYWNlL3RoZW1lL3NvbGFyaXplZF9saWdodCcsIFtcInJlcXVpcmVcIiwgJ2V4cG9ydHMnLCAnbW9kdWxlJyAsICdhY2UvbGliL2RvbSddLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cbmV4cG9ydHMuaXNEYXJrID0gZmFsc2U7XG5leHBvcnRzLmNzc0NsYXNzID0gXCJhY2Utc29sYXJpemVkLWxpZ2h0XCI7XG5leHBvcnRzLmNzc1RleHQgPSBcIi5hY2Utc29sYXJpemVkLWxpZ2h0IC5hY2VfZ3V0dGVyIHtcXFxuYmFja2dyb3VuZDogI2ZiZjFkMztcXFxuY29sb3I6ICMzMzNcXFxufVxcXG4uYWNlLXNvbGFyaXplZC1saWdodCAuYWNlX3ByaW50LW1hcmdpbiB7XFxcbndpZHRoOiAxcHg7XFxcbmJhY2tncm91bmQ6ICNlOGU4ZThcXFxufVxcXG4uYWNlLXNvbGFyaXplZC1saWdodCB7XFxcbmJhY2tncm91bmQtY29sb3I6ICNGREY2RTM7XFxcbmNvbG9yOiAjNTg2RTc1XFxcbn1cXFxuLmFjZS1zb2xhcml6ZWQtbGlnaHQgLmFjZV9jdXJzb3Ige1xcXG5ib3JkZXItbGVmdDogMnB4IHNvbGlkICMwMDAwMDBcXFxufVxcXG4uYWNlLXNvbGFyaXplZC1saWdodCAuYWNlX292ZXJ3cml0ZS1jdXJzb3JzIC5hY2VfY3Vyc29yIHtcXFxuYm9yZGVyLWxlZnQ6IDBweDtcXFxuYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMwMDAwMDBcXFxufVxcXG4uYWNlLXNvbGFyaXplZC1saWdodCAuYWNlX21hcmtlci1sYXllciAuYWNlX3NlbGVjdGlvbiB7XFxcbmJhY2tncm91bmQ6ICByZ2JhKDcsIDU0LCA2NywgMC4wOSlcXFxufVxcXG4uYWNlLXNvbGFyaXplZC1saWdodC5hY2VfbXVsdGlzZWxlY3QgLmFjZV9zZWxlY3Rpb24uYWNlX3N0YXJ0IHtcXFxuYm94LXNoYWRvdzogMCAwIDNweCAwcHggI0ZERjZFMztcXFxuYm9yZGVyLXJhZGl1czogMnB4XFxcbn1cXFxuLmFjZS1zb2xhcml6ZWQtbGlnaHQgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zdGVwIHtcXFxuYmFja2dyb3VuZDogcmdiKDI1NSwgMjU1LCAwKVxcXG59XFxcbi5hY2Utc29sYXJpemVkLWxpZ2h0IC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYnJhY2tldCB7XFxcbm1hcmdpbjogLTFweCAwIDAgLTFweDtcXFxuYm9yZGVyOiAxcHggc29saWQgcmdiYSgxNDcsIDE2MSwgMTYxLCAwLjUwKVxcXG59XFxcbi5hY2Utc29sYXJpemVkLWxpZ2h0IC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYWN0aXZlLWxpbmUge1xcXG5iYWNrZ3JvdW5kOiAjRUVFOEQ1XFxcbn1cXFxuLmFjZS1zb2xhcml6ZWQtbGlnaHQgLmFjZV9ndXR0ZXItYWN0aXZlLWxpbmUge1xcXG5iYWNrZ3JvdW5kLWNvbG9yIDogI0VERTVDMVxcXG59XFxcbi5hY2Utc29sYXJpemVkLWxpZ2h0IC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0ZWQtd29yZCB7XFxcbmJvcmRlcjogMXB4IHNvbGlkICMwNzM2NDJcXFxufVxcXG4uYWNlLXNvbGFyaXplZC1saWdodCAuYWNlX2ludmlzaWJsZSB7XFxcbmNvbG9yOiByZ2JhKDE0NywgMTYxLCAxNjEsIDAuNTApXFxcbn1cXFxuLmFjZS1zb2xhcml6ZWQtbGlnaHQgLmFjZV9rZXl3b3JkLFxcXG4uYWNlLXNvbGFyaXplZC1saWdodCAuYWNlX21ldGEsXFxcbi5hY2Utc29sYXJpemVkLWxpZ2h0IC5hY2Vfc3VwcG9ydC5hY2VfY2xhc3MsXFxcbi5hY2Utc29sYXJpemVkLWxpZ2h0IC5hY2Vfc3VwcG9ydC5hY2VfdHlwZSB7XFxcbmNvbG9yOiAjODU5OTAwXFxcbn1cXFxuLmFjZS1zb2xhcml6ZWQtbGlnaHQgLmFjZV9jb25zdGFudC5hY2VfY2hhcmFjdGVyLFxcXG4uYWNlLXNvbGFyaXplZC1saWdodCAuYWNlX2NvbnN0YW50LmFjZV9vdGhlciB7XFxcbmNvbG9yOiAjQ0I0QjE2XFxcbn1cXFxuLmFjZS1zb2xhcml6ZWQtbGlnaHQgLmFjZV9jb25zdGFudC5hY2VfbGFuZ3VhZ2Uge1xcXG5jb2xvcjogI0I1ODkwMFxcXG59XFxcbi5hY2Utc29sYXJpemVkLWxpZ2h0IC5hY2VfY29uc3RhbnQuYWNlX251bWVyaWMge1xcXG5jb2xvcjogI0QzMzY4MlxcXG59XFxcbi5hY2Utc29sYXJpemVkLWxpZ2h0IC5hY2VfZm9sZCB7XFxcbmJhY2tncm91bmQtY29sb3I6ICMyNjhCRDI7XFxcbmJvcmRlci1jb2xvcjogIzU4NkU3NVxcXG59XFxcbi5hY2Utc29sYXJpemVkLWxpZ2h0IC5hY2VfZW50aXR5LmFjZV9uYW1lLmFjZV9mdW5jdGlvbixcXFxuLmFjZS1zb2xhcml6ZWQtbGlnaHQgLmFjZV9lbnRpdHkuYWNlX25hbWUuYWNlX3RhZyxcXFxuLmFjZS1zb2xhcml6ZWQtbGlnaHQgLmFjZV9zdXBwb3J0LmFjZV9mdW5jdGlvbixcXFxuLmFjZS1zb2xhcml6ZWQtbGlnaHQgLmFjZV92YXJpYWJsZSxcXFxuLmFjZS1zb2xhcml6ZWQtbGlnaHQgLmFjZV92YXJpYWJsZS5hY2VfbGFuZ3VhZ2Uge1xcXG5jb2xvcjogIzI2OEJEMlxcXG59XFxcbi5hY2Utc29sYXJpemVkLWxpZ2h0IC5hY2Vfc3RvcmFnZSB7XFxcbmNvbG9yOiAjMDczNjQyXFxcbn1cXFxuLmFjZS1zb2xhcml6ZWQtbGlnaHQgLmFjZV9zdHJpbmcge1xcXG5jb2xvcjogIzJBQTE5OFxcXG59XFxcbi5hY2Utc29sYXJpemVkLWxpZ2h0IC5hY2Vfc3RyaW5nLmFjZV9yZWdleHAge1xcXG5jb2xvcjogI0QzMDEwMlxcXG59XFxcbi5hY2Utc29sYXJpemVkLWxpZ2h0IC5hY2VfY29tbWVudCxcXFxuLmFjZS1zb2xhcml6ZWQtbGlnaHQgLmFjZV9lbnRpdHkuYWNlX290aGVyLmFjZV9hdHRyaWJ1dGUtbmFtZSB7XFxcbmNvbG9yOiAjOTNBMUExXFxcbn1cXFxuLmFjZS1zb2xhcml6ZWQtbGlnaHQgLmFjZV9tYXJrdXAuYWNlX3VuZGVybGluZSB7XFxcbnRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lXFxcbn1cXFxuLmFjZS1zb2xhcml6ZWQtbGlnaHQgLmFjZV9pbmRlbnQtZ3VpZGUge1xcXG5iYWNrZ3JvdW5kOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFDQ0FZQUFBQ1pnYlluQUFBQUVrbEVRVlFJbVdOZ1lHQmdZSGp5OE5KL0FBamdBNWZ6UVVtQkFBQUFBRWxGVGtTdVFtQ0MpIHJpZ2h0IHJlcGVhdC15O1xcXG59XCI7XG5cbnZhciBkb20gPSBhY2VxdWlyZShcIi4uL2xpYi9kb21cIik7XG5kb20uaW1wb3J0Q3NzU3RyaW5nKGV4cG9ydHMuY3NzVGV4dCwgZXhwb3J0cy5jc3NDbGFzcyk7XG59KTtcbiIsIi8qICoqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKipcbiAqIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBCU0QgbGljZW5zZTpcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTAsIEFqYXgub3JnIEIuVi5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcbiAqICAgICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XG4gKiAgICAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKiAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodFxuICogICAgICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICogICAgICAgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqICAgICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgQWpheC5vcmcgQi5WLiBub3IgdGhlXG4gKiAgICAgICBuYW1lcyBvZiBpdHMgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0c1xuICogICAgICAgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKiBcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiIEFORFxuICogQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRURcbiAqIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkVcbiAqIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIEFKQVguT1JHIEIuVi4gQkUgTElBQkxFIEZPUiBBTllcbiAqIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTXG4gKiAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7XG4gKiBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkRcbiAqIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXG4gKiAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJU1xuICogU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKlxuICogKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKiogKi9cblxuYWNlLmRlZmluZSgnYWNlL3RoZW1lL3ZpYnJhbnRfaW5rJywgW1wicmVxdWlyZVwiLCAnZXhwb3J0cycsICdtb2R1bGUnICwgJ2FjZS9saWIvZG9tJ10sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuZXhwb3J0cy5pc0RhcmsgPSB0cnVlO1xuZXhwb3J0cy5jc3NDbGFzcyA9IFwiYWNlLXZpYnJhbnQtaW5rXCI7XG5leHBvcnRzLmNzc1RleHQgPSBcIi5hY2UtdmlicmFudC1pbmsgLmFjZV9ndXR0ZXIge1xcXG5iYWNrZ3JvdW5kOiAjMWExYTFhO1xcXG5jb2xvcjogI0JFQkVCRVxcXG59XFxcbi5hY2UtdmlicmFudC1pbmsgLmFjZV9wcmludC1tYXJnaW4ge1xcXG53aWR0aDogMXB4O1xcXG5iYWNrZ3JvdW5kOiAjMWExYTFhXFxcbn1cXFxuLmFjZS12aWJyYW50LWluayB7XFxcbmJhY2tncm91bmQtY29sb3I6ICMwRjBGMEY7XFxcbmNvbG9yOiAjRkZGRkZGXFxcbn1cXFxuLmFjZS12aWJyYW50LWluayAuYWNlX2N1cnNvciB7XFxcbmJvcmRlci1sZWZ0OiAycHggc29saWQgI0ZGRkZGRlxcXG59XFxcbi5hY2UtdmlicmFudC1pbmsgLmFjZV9vdmVyd3JpdGUtY3Vyc29ycyAuYWNlX2N1cnNvciB7XFxcbmJvcmRlci1sZWZ0OiAwcHg7XFxcbmJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjRkZGRkZGXFxcbn1cXFxuLmFjZS12aWJyYW50LWluayAuYWNlX21hcmtlci1sYXllciAuYWNlX3NlbGVjdGlvbiB7XFxcbmJhY2tncm91bmQ6ICM2Njk5Q0NcXFxufVxcXG4uYWNlLXZpYnJhbnQtaW5rLmFjZV9tdWx0aXNlbGVjdCAuYWNlX3NlbGVjdGlvbi5hY2Vfc3RhcnQge1xcXG5ib3gtc2hhZG93OiAwIDAgM3B4IDBweCAjMEYwRjBGO1xcXG5ib3JkZXItcmFkaXVzOiAycHhcXFxufVxcXG4uYWNlLXZpYnJhbnQtaW5rIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc3RlcCB7XFxcbmJhY2tncm91bmQ6IHJnYigxMDIsIDgyLCAwKVxcXG59XFxcbi5hY2UtdmlicmFudC1pbmsgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9icmFja2V0IHtcXFxubWFyZ2luOiAtMXB4IDAgMCAtMXB4O1xcXG5ib3JkZXI6IDFweCBzb2xpZCAjNDA0MDQwXFxcbn1cXFxuLmFjZS12aWJyYW50LWluayAuYWNlX21hcmtlci1sYXllciAuYWNlX2FjdGl2ZS1saW5lIHtcXFxuYmFja2dyb3VuZDogIzMzMzMzM1xcXG59XFxcbi5hY2UtdmlicmFudC1pbmsgLmFjZV9ndXR0ZXItYWN0aXZlLWxpbmUge1xcXG5iYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzXFxcbn1cXFxuLmFjZS12aWJyYW50LWluayAuYWNlX21hcmtlci1sYXllciAuYWNlX3NlbGVjdGVkLXdvcmQge1xcXG5ib3JkZXI6IDFweCBzb2xpZCAjNjY5OUNDXFxcbn1cXFxuLmFjZS12aWJyYW50LWluayAuYWNlX2ludmlzaWJsZSB7XFxcbmNvbG9yOiAjNDA0MDQwXFxcbn1cXFxuLmFjZS12aWJyYW50LWluayAuYWNlX2tleXdvcmQsXFxcbi5hY2UtdmlicmFudC1pbmsgLmFjZV9tZXRhIHtcXFxuY29sb3I6ICNGRjY2MDBcXFxufVxcXG4uYWNlLXZpYnJhbnQtaW5rIC5hY2VfY29uc3RhbnQsXFxcbi5hY2UtdmlicmFudC1pbmsgLmFjZV9jb25zdGFudC5hY2VfY2hhcmFjdGVyLFxcXG4uYWNlLXZpYnJhbnQtaW5rIC5hY2VfY29uc3RhbnQuYWNlX2NoYXJhY3Rlci5hY2VfZXNjYXBlLFxcXG4uYWNlLXZpYnJhbnQtaW5rIC5hY2VfY29uc3RhbnQuYWNlX290aGVyIHtcXFxuY29sb3I6ICMzMzk5OTlcXFxufVxcXG4uYWNlLXZpYnJhbnQtaW5rIC5hY2VfY29uc3RhbnQuYWNlX251bWVyaWMge1xcXG5jb2xvcjogIzk5Q0M5OVxcXG59XFxcbi5hY2UtdmlicmFudC1pbmsgLmFjZV9pbnZhbGlkLFxcXG4uYWNlLXZpYnJhbnQtaW5rIC5hY2VfaW52YWxpZC5hY2VfZGVwcmVjYXRlZCB7XFxcbmNvbG9yOiAjQ0NGRjMzO1xcXG5iYWNrZ3JvdW5kLWNvbG9yOiAjMDAwMDAwXFxcbn1cXFxuLmFjZS12aWJyYW50LWluayAuYWNlX2ZvbGQge1xcXG5iYWNrZ3JvdW5kLWNvbG9yOiAjRkZDQzAwO1xcXG5ib3JkZXItY29sb3I6ICNGRkZGRkZcXFxufVxcXG4uYWNlLXZpYnJhbnQtaW5rIC5hY2VfZW50aXR5LmFjZV9uYW1lLmFjZV9mdW5jdGlvbixcXFxuLmFjZS12aWJyYW50LWluayAuYWNlX3N1cHBvcnQuYWNlX2Z1bmN0aW9uLFxcXG4uYWNlLXZpYnJhbnQtaW5rIC5hY2VfdmFyaWFibGUge1xcXG5jb2xvcjogI0ZGQ0MwMFxcXG59XFxcbi5hY2UtdmlicmFudC1pbmsgLmFjZV92YXJpYWJsZS5hY2VfcGFyYW1ldGVyIHtcXFxuZm9udC1zdHlsZTogaXRhbGljXFxcbn1cXFxuLmFjZS12aWJyYW50LWluayAuYWNlX3N0cmluZyB7XFxcbmNvbG9yOiAjNjZGRjAwXFxcbn1cXFxuLmFjZS12aWJyYW50LWluayAuYWNlX3N0cmluZy5hY2VfcmVnZXhwIHtcXFxuY29sb3I6ICM0NEI0Q0NcXFxufVxcXG4uYWNlLXZpYnJhbnQtaW5rIC5hY2VfY29tbWVudCB7XFxcbmNvbG9yOiAjOTkzM0NDXFxcbn1cXFxuLmFjZS12aWJyYW50LWluayAuYWNlX2VudGl0eS5hY2Vfb3RoZXIuYWNlX2F0dHJpYnV0ZS1uYW1lIHtcXFxuZm9udC1zdHlsZTogaXRhbGljO1xcXG5jb2xvcjogIzk5Q0M5OVxcXG59XFxcbi5hY2UtdmlicmFudC1pbmsgLmFjZV9pbmRlbnQtZ3VpZGUge1xcXG5iYWNrZ3JvdW5kOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFDQ0FZQUFBQ1pnYlluQUFBQUVrbEVRVlFJbVdOZ1lHQmdZTkRUYy9vUEFBTFBBWjdoeGxiWUFBQUFBRWxGVGtTdVFtQ0MpIHJpZ2h0IHJlcGVhdC15O1xcXG59XCI7XG5cbnZhciBkb20gPSBhY2VxdWlyZShcIi4uL2xpYi9kb21cIik7XG5kb20uaW1wb3J0Q3NzU3RyaW5nKGV4cG9ydHMuY3NzVGV4dCwgZXhwb3J0cy5jc3NDbGFzcyk7XG59KTtcbiIsIm1vZHVsZS5leHBvcnRzLmlkID0gJ2FjZS9tb2RlL2NvZmZlZV93b3JrZXInO1xubW9kdWxlLmV4cG9ydHMuc3JjID0gXCJcXFwibm8gdXNlIHN0cmljdFxcXCI7KGZ1bmN0aW9uKHdpbmRvdyl7dm9pZCAwIT09d2luZG93LndpbmRvdyYmd2luZG93LmRvY3VtZW50fHwod2luZG93LmNvbnNvbGU9e2xvZzpmdW5jdGlvbigpe3ZhciBtc2dzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtwb3N0TWVzc2FnZSh7dHlwZTpcXFwibG9nXFxcIixkYXRhOm1zZ3N9KX0sZXJyb3I6ZnVuY3Rpb24oKXt2YXIgbXNncz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cG9zdE1lc3NhZ2Uoe3R5cGU6XFxcImxvZ1xcXCIsZGF0YTptc2dzfSl9fSx3aW5kb3cud2luZG93PXdpbmRvdyx3aW5kb3cuYWNlPXdpbmRvdyx3aW5kb3cubm9ybWFsaXplTW9kdWxlPWZ1bmN0aW9uKHBhcmVudElkLG1vZHVsZU5hbWUpe2lmKC0xIT09bW9kdWxlTmFtZS5pbmRleE9mKFxcXCIhXFxcIikpe3ZhciBjaHVua3M9bW9kdWxlTmFtZS5zcGxpdChcXFwiIVxcXCIpO3JldHVybiBub3JtYWxpemVNb2R1bGUocGFyZW50SWQsY2h1bmtzWzBdKStcXFwiIVxcXCIrbm9ybWFsaXplTW9kdWxlKHBhcmVudElkLGNodW5rc1sxXSl9aWYoXFxcIi5cXFwiPT1tb2R1bGVOYW1lLmNoYXJBdCgwKSl7dmFyIGJhc2U9cGFyZW50SWQuc3BsaXQoXFxcIi9cXFwiKS5zbGljZSgwLC0xKS5qb2luKFxcXCIvXFxcIik7Zm9yKG1vZHVsZU5hbWU9YmFzZStcXFwiL1xcXCIrbW9kdWxlTmFtZTstMSE9PW1vZHVsZU5hbWUuaW5kZXhPZihcXFwiLlxcXCIpJiZwcmV2aW91cyE9bW9kdWxlTmFtZTspe3ZhciBwcmV2aW91cz1tb2R1bGVOYW1lO21vZHVsZU5hbWU9bW9kdWxlTmFtZS5yZXBsYWNlKC9cXFxcL1xcXFwuXFxcXC8vLFxcXCIvXFxcIikucmVwbGFjZSgvW15cXFxcL10rXFxcXC9cXFxcLlxcXFwuXFxcXC8vLFxcXCJcXFwiKX19cmV0dXJuIG1vZHVsZU5hbWV9LHdpbmRvdy5hY2VxdWlyZT1mdW5jdGlvbihwYXJlbnRJZCxpZCl7aWYoaWR8fChpZD1wYXJlbnRJZCxwYXJlbnRJZD1udWxsKSwhaWQuY2hhckF0KXRocm93IEVycm9yKFxcXCJ3b3JrZXIuanMgYWNlcXVpcmUoKSBhY2NlcHRzIG9ubHkgKHBhcmVudElkLCBpZCkgYXMgYXJndW1lbnRzXFxcIik7aWQ9bm9ybWFsaXplTW9kdWxlKHBhcmVudElkLGlkKTt2YXIgbW9kdWxlPWFjZXF1aXJlLm1vZHVsZXNbaWRdO2lmKG1vZHVsZSlyZXR1cm4gbW9kdWxlLmluaXRpYWxpemVkfHwobW9kdWxlLmluaXRpYWxpemVkPSEwLG1vZHVsZS5leHBvcnRzPW1vZHVsZS5mYWN0b3J5KCkuZXhwb3J0cyksbW9kdWxlLmV4cG9ydHM7dmFyIGNodW5rcz1pZC5zcGxpdChcXFwiL1xcXCIpO2NodW5rc1swXT1hY2VxdWlyZS50bG5zW2NodW5rc1swXV18fGNodW5rc1swXTt2YXIgcGF0aD1jaHVua3Muam9pbihcXFwiL1xcXCIpK1xcXCIuanNcXFwiO3JldHVybiBhY2VxdWlyZS5pZD1pZCxpbXBvcnRTY3JpcHRzKHBhdGgpLGFjZXF1aXJlKHBhcmVudElkLGlkKX0sYWNlcXVpcmUubW9kdWxlcz17fSxhY2VxdWlyZS50bG5zPXt9LHdpbmRvdy5kZWZpbmU9ZnVuY3Rpb24oaWQsZGVwcyxmYWN0b3J5KXtpZigyPT1hcmd1bWVudHMubGVuZ3RoPyhmYWN0b3J5PWRlcHMsXFxcInN0cmluZ1xcXCIhPXR5cGVvZiBpZCYmKGRlcHM9aWQsaWQ9YWNlcXVpcmUuaWQpKToxPT1hcmd1bWVudHMubGVuZ3RoJiYoZmFjdG9yeT1pZCxpZD1hY2VxdWlyZS5pZCksMCE9PWlkLmluZGV4T2YoXFxcInRleHQhXFxcIikpe3ZhciByZXE9ZnVuY3Rpb24oZGVwcyxmYWN0b3J5KXtyZXR1cm4gYWNlcXVpcmUoaWQsZGVwcyxmYWN0b3J5KX07YWNlcXVpcmUubW9kdWxlc1tpZF09e2ZhY3Rvcnk6ZnVuY3Rpb24oKXt2YXIgbW9kdWxlPXtleHBvcnRzOnt9fSxyZXR1cm5FeHBvcnRzPWZhY3RvcnkocmVxLG1vZHVsZS5leHBvcnRzLG1vZHVsZSk7cmV0dXJuIHJldHVybkV4cG9ydHMmJihtb2R1bGUuZXhwb3J0cz1yZXR1cm5FeHBvcnRzKSxtb2R1bGV9fX19LHdpbmRvdy5pbml0QmFzZVVybHM9ZnVuY3Rpb24gaW5pdEJhc2VVcmxzKHRvcExldmVsTmFtZXNwYWNlcyl7YWNlcXVpcmUudGxucz10b3BMZXZlbE5hbWVzcGFjZXN9LHdpbmRvdy5pbml0U2VuZGVyPWZ1bmN0aW9uIGluaXRTZW5kZXIoKXt2YXIgRXZlbnRFbWl0dGVyPWFjZXF1aXJlKFxcXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcXFwiKS5FdmVudEVtaXR0ZXIsb29wPWFjZXF1aXJlKFxcXCJhY2UvbGliL29vcFxcXCIpLFNlbmRlcj1mdW5jdGlvbigpe307cmV0dXJuIGZ1bmN0aW9uKCl7b29wLmltcGxlbWVudCh0aGlzLEV2ZW50RW1pdHRlciksdGhpcy5jYWxsYmFjaz1mdW5jdGlvbihkYXRhLGNhbGxiYWNrSWQpe3Bvc3RNZXNzYWdlKHt0eXBlOlxcXCJjYWxsXFxcIixpZDpjYWxsYmFja0lkLGRhdGE6ZGF0YX0pfSx0aGlzLmVtaXQ9ZnVuY3Rpb24obmFtZSxkYXRhKXtwb3N0TWVzc2FnZSh7dHlwZTpcXFwiZXZlbnRcXFwiLG5hbWU6bmFtZSxkYXRhOmRhdGF9KX19LmNhbGwoU2VuZGVyLnByb3RvdHlwZSksbmV3IFNlbmRlcn0sd2luZG93Lm1haW49bnVsbCx3aW5kb3cuc2VuZGVyPW51bGwsd2luZG93Lm9ubWVzc2FnZT1mdW5jdGlvbihlKXt2YXIgbXNnPWUuZGF0YTtpZihtc2cuY29tbWFuZCl7aWYoIW1haW5bbXNnLmNvbW1hbmRdKXRocm93IEVycm9yKFxcXCJVbmtub3duIGNvbW1hbmQ6XFxcIittc2cuY29tbWFuZCk7bWFpblttc2cuY29tbWFuZF0uYXBwbHkobWFpbixtc2cuYXJncyl9ZWxzZSBpZihtc2cuaW5pdCl7aW5pdEJhc2VVcmxzKG1zZy50bG5zKSxhY2VxdWlyZShcXFwiYWNlL2xpYi9lczUtc2hpbVxcXCIpLHNlbmRlcj1pbml0U2VuZGVyKCk7dmFyIGNsYXp6PWFjZXF1aXJlKG1zZy5tb2R1bGUpW21zZy5jbGFzc25hbWVdO21haW49bmV3IGNsYXp6KHNlbmRlcil9ZWxzZSBtc2cuZXZlbnQmJnNlbmRlciYmc2VuZGVyLl9lbWl0KG1zZy5ldmVudCxtc2cuZGF0YSl9KX0pKHRoaXMpLGFjZS5kZWZpbmUoXFxcImFjZS9saWIvZXZlbnRfZW1pdHRlclxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe3ZhciBFdmVudEVtaXR0ZXI9e30sc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7dGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ9ITB9LHByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0UHJldmVudGVkPSEwfTtFdmVudEVtaXR0ZXIuX2VtaXQ9RXZlbnRFbWl0dGVyLl9kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGV2ZW50TmFtZSxlKXt0aGlzLl9ldmVudFJlZ2lzdHJ5fHwodGhpcy5fZXZlbnRSZWdpc3RyeT17fSksdGhpcy5fZGVmYXVsdEhhbmRsZXJzfHwodGhpcy5fZGVmYXVsdEhhbmRsZXJzPXt9KTt2YXIgbGlzdGVuZXJzPXRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXXx8W10sZGVmYXVsdEhhbmRsZXI9dGhpcy5fZGVmYXVsdEhhbmRsZXJzW2V2ZW50TmFtZV07aWYobGlzdGVuZXJzLmxlbmd0aHx8ZGVmYXVsdEhhbmRsZXIpe1xcXCJvYmplY3RcXFwiPT10eXBlb2YgZSYmZXx8KGU9e30pLGUudHlwZXx8KGUudHlwZT1ldmVudE5hbWUpLGUuc3RvcFByb3BhZ2F0aW9ufHwoZS5zdG9wUHJvcGFnYXRpb249c3RvcFByb3BhZ2F0aW9uKSxlLnByZXZlbnREZWZhdWx0fHwoZS5wcmV2ZW50RGVmYXVsdD1wcmV2ZW50RGVmYXVsdCk7Zm9yKHZhciBpPTA7bGlzdGVuZXJzLmxlbmd0aD5pJiYobGlzdGVuZXJzW2ldKGUsdGhpcyksIWUucHJvcGFnYXRpb25TdG9wcGVkKTtpKyspO3JldHVybiBkZWZhdWx0SGFuZGxlciYmIWUuZGVmYXVsdFByZXZlbnRlZD9kZWZhdWx0SGFuZGxlcihlLHRoaXMpOnZvaWQgMH19LEV2ZW50RW1pdHRlci5fc2lnbmFsPWZ1bmN0aW9uKGV2ZW50TmFtZSxlKXt2YXIgbGlzdGVuZXJzPSh0aGlzLl9ldmVudFJlZ2lzdHJ5fHx7fSlbZXZlbnROYW1lXTtpZihsaXN0ZW5lcnMpZm9yKHZhciBpPTA7bGlzdGVuZXJzLmxlbmd0aD5pO2krKylsaXN0ZW5lcnNbaV0oZSx0aGlzKX0sRXZlbnRFbWl0dGVyLm9uY2U9ZnVuY3Rpb24oZXZlbnROYW1lLGNhbGxiYWNrKXt2YXIgX3NlbGY9dGhpcztjYWxsYmFjayYmdGhpcy5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSxmdW5jdGlvbiBuZXdDYWxsYmFjaygpe19zZWxmLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLG5ld0NhbGxiYWNrKSxjYWxsYmFjay5hcHBseShudWxsLGFyZ3VtZW50cyl9KX0sRXZlbnRFbWl0dGVyLnNldERlZmF1bHRIYW5kbGVyPWZ1bmN0aW9uKGV2ZW50TmFtZSxjYWxsYmFjayl7dmFyIGhhbmRsZXJzPXRoaXMuX2RlZmF1bHRIYW5kbGVycztpZihoYW5kbGVyc3x8KGhhbmRsZXJzPXRoaXMuX2RlZmF1bHRIYW5kbGVycz17X2Rpc2FibGVkXzp7fX0pLGhhbmRsZXJzW2V2ZW50TmFtZV0pe3ZhciBvbGQ9aGFuZGxlcnNbZXZlbnROYW1lXSxkaXNhYmxlZD1oYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07ZGlzYWJsZWR8fChoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV09ZGlzYWJsZWQ9W10pLGRpc2FibGVkLnB1c2gob2xkKTt2YXIgaT1kaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTstMSE9aSYmZGlzYWJsZWQuc3BsaWNlKGksMSl9aGFuZGxlcnNbZXZlbnROYW1lXT1jYWxsYmFja30sRXZlbnRFbWl0dGVyLnJlbW92ZURlZmF1bHRIYW5kbGVyPWZ1bmN0aW9uKGV2ZW50TmFtZSxjYWxsYmFjayl7dmFyIGhhbmRsZXJzPXRoaXMuX2RlZmF1bHRIYW5kbGVycztpZihoYW5kbGVycyl7dmFyIGRpc2FibGVkPWhhbmRsZXJzLl9kaXNhYmxlZF9bZXZlbnROYW1lXTtpZihoYW5kbGVyc1tldmVudE5hbWVdPT1jYWxsYmFjayloYW5kbGVyc1tldmVudE5hbWVdLGRpc2FibGVkJiZ0aGlzLnNldERlZmF1bHRIYW5kbGVyKGV2ZW50TmFtZSxkaXNhYmxlZC5wb3AoKSk7ZWxzZSBpZihkaXNhYmxlZCl7dmFyIGk9ZGlzYWJsZWQuaW5kZXhPZihjYWxsYmFjayk7LTEhPWkmJmRpc2FibGVkLnNwbGljZShpLDEpfX19LEV2ZW50RW1pdHRlci5vbj1FdmVudEVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihldmVudE5hbWUsY2FsbGJhY2ssY2FwdHVyaW5nKXt0aGlzLl9ldmVudFJlZ2lzdHJ5PXRoaXMuX2V2ZW50UmVnaXN0cnl8fHt9O3ZhciBsaXN0ZW5lcnM9dGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdO3JldHVybiBsaXN0ZW5lcnN8fChsaXN0ZW5lcnM9dGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdPVtdKSwtMT09bGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spJiZsaXN0ZW5lcnNbY2FwdHVyaW5nP1xcXCJ1bnNoaWZ0XFxcIjpcXFwicHVzaFxcXCJdKGNhbGxiYWNrKSxjYWxsYmFja30sRXZlbnRFbWl0dGVyLm9mZj1FdmVudEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXI9RXZlbnRFbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZXZlbnROYW1lLGNhbGxiYWNrKXt0aGlzLl9ldmVudFJlZ2lzdHJ5PXRoaXMuX2V2ZW50UmVnaXN0cnl8fHt9O3ZhciBsaXN0ZW5lcnM9dGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdO2lmKGxpc3RlbmVycyl7dmFyIGluZGV4PWxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTstMSE9PWluZGV4JiZsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LDEpfX0sRXZlbnRFbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihldmVudE5hbWUpe3RoaXMuX2V2ZW50UmVnaXN0cnkmJih0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV09W10pfSxleHBvcnRzLkV2ZW50RW1pdHRlcj1FdmVudEVtaXR0ZXJ9KSxhY2UuZGVmaW5lKFxcXCJhY2UvbGliL29vcFxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe2V4cG9ydHMuaW5oZXJpdHM9ZnVuY3Rpb24oKXt2YXIgdGVtcEN0b3I9ZnVuY3Rpb24oKXt9O3JldHVybiBmdW5jdGlvbihjdG9yLHN1cGVyQ3Rvcil7dGVtcEN0b3IucHJvdG90eXBlPXN1cGVyQ3Rvci5wcm90b3R5cGUsY3Rvci5zdXBlcl89c3VwZXJDdG9yLnByb3RvdHlwZSxjdG9yLnByb3RvdHlwZT1uZXcgdGVtcEN0b3IsY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3I9Y3Rvcn19KCksZXhwb3J0cy5taXhpbj1mdW5jdGlvbihvYmosbWl4aW4pe2Zvcih2YXIga2V5IGluIG1peGluKW9ialtrZXldPW1peGluW2tleV07cmV0dXJuIG9ian0sZXhwb3J0cy5pbXBsZW1lbnQ9ZnVuY3Rpb24ocHJvdG8sbWl4aW4pe2V4cG9ydHMubWl4aW4ocHJvdG8sbWl4aW4pfX0pLGFjZS5kZWZpbmUoXFxcImFjZS9saWIvZXM1LXNoaW1cXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiXSxmdW5jdGlvbigpe2Z1bmN0aW9uIEVtcHR5KCl7fWZ1bmN0aW9uIGRvZXNEZWZpbmVQcm9wZXJ0eVdvcmsob2JqZWN0KXt0cnl7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsXFxcInNlbnRpbmVsXFxcIix7fSksXFxcInNlbnRpbmVsXFxcImluIG9iamVjdH1jYXRjaChleGNlcHRpb24pe319ZnVuY3Rpb24gdG9JbnRlZ2VyKG4pe3JldHVybiBuPStuLG4hPT1uP249MDowIT09biYmbiE9PTEvMCYmbiE9PS0oMS8wKSYmKG49KG4+MHx8LTEpKk1hdGguZmxvb3IoTWF0aC5hYnMobikpKSxufUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHwoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24odGhhdCl7dmFyIHRhcmdldD10aGlzO2lmKFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiB0YXJnZXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgY2FsbGVkIG9uIGluY29tcGF0aWJsZSBcXFwiK3RhcmdldCk7dmFyIGFyZ3M9c2xpY2UuY2FsbChhcmd1bWVudHMsMSksYm91bmQ9ZnVuY3Rpb24oKXtpZih0aGlzIGluc3RhbmNlb2YgYm91bmQpe3ZhciByZXN1bHQ9dGFyZ2V0LmFwcGx5KHRoaXMsYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7cmV0dXJuIE9iamVjdChyZXN1bHQpPT09cmVzdWx0P3Jlc3VsdDp0aGlzfXJldHVybiB0YXJnZXQuYXBwbHkodGhhdCxhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKX07cmV0dXJuIHRhcmdldC5wcm90b3R5cGUmJihFbXB0eS5wcm90b3R5cGU9dGFyZ2V0LnByb3RvdHlwZSxib3VuZC5wcm90b3R5cGU9bmV3IEVtcHR5LEVtcHR5LnByb3RvdHlwZT1udWxsKSxib3VuZH0pO3ZhciBkZWZpbmVHZXR0ZXIsZGVmaW5lU2V0dGVyLGxvb2t1cEdldHRlcixsb29rdXBTZXR0ZXIsc3VwcG9ydHNBY2Nlc3NvcnMsY2FsbD1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCxwcm90b3R5cGVPZkFycmF5PUFycmF5LnByb3RvdHlwZSxwcm90b3R5cGVPZk9iamVjdD1PYmplY3QucHJvdG90eXBlLHNsaWNlPXByb3RvdHlwZU9mQXJyYXkuc2xpY2UsX3RvU3RyaW5nPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC50b1N0cmluZyksb3ducz1jYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuaGFzT3duUHJvcGVydHkpO2lmKChzdXBwb3J0c0FjY2Vzc29ycz1vd25zKHByb3RvdHlwZU9mT2JqZWN0LFxcXCJfX2RlZmluZUdldHRlcl9fXFxcIikpJiYoZGVmaW5lR2V0dGVyPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5fX2RlZmluZUdldHRlcl9fKSxkZWZpbmVTZXR0ZXI9Y2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0Ll9fZGVmaW5lU2V0dGVyX18pLGxvb2t1cEdldHRlcj1jYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19sb29rdXBHZXR0ZXJfXyksbG9va3VwU2V0dGVyPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5fX2xvb2t1cFNldHRlcl9fKSksMiE9WzEsMl0uc3BsaWNlKDApLmxlbmd0aClpZihmdW5jdGlvbigpe2Z1bmN0aW9uIG1ha2VBcnJheShsKXt2YXIgYT1BcnJheShsKzIpO3JldHVybiBhWzBdPWFbMV09MCxhfXZhciBsZW5ndGhCZWZvcmUsYXJyYXk9W107cmV0dXJuIGFycmF5LnNwbGljZS5hcHBseShhcnJheSxtYWtlQXJyYXkoMjApKSxhcnJheS5zcGxpY2UuYXBwbHkoYXJyYXksbWFrZUFycmF5KDI2KSksbGVuZ3RoQmVmb3JlPWFycmF5Lmxlbmd0aCxhcnJheS5zcGxpY2UoNSwwLFxcXCJYWFhcXFwiKSxsZW5ndGhCZWZvcmUrMT09YXJyYXkubGVuZ3RoLGxlbmd0aEJlZm9yZSsxPT1hcnJheS5sZW5ndGg/ITA6dm9pZCAwfSgpKXt2YXIgYXJyYXlfc3BsaWNlPUFycmF5LnByb3RvdHlwZS5zcGxpY2U7QXJyYXkucHJvdG90eXBlLnNwbGljZT1mdW5jdGlvbihzdGFydCxkZWxldGVDb3VudCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/YXJyYXlfc3BsaWNlLmFwcGx5KHRoaXMsW3ZvaWQgMD09PXN0YXJ0PzA6c3RhcnQsdm9pZCAwPT09ZGVsZXRlQ291bnQ/dGhpcy5sZW5ndGgtc3RhcnQ6ZGVsZXRlQ291bnRdLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cywyKSkpOltdfX1lbHNlIEFycmF5LnByb3RvdHlwZS5zcGxpY2U9ZnVuY3Rpb24ocG9zLHJlbW92ZUNvdW50KXt2YXIgbGVuZ3RoPXRoaXMubGVuZ3RoO3Bvcz4wP3Bvcz5sZW5ndGgmJihwb3M9bGVuZ3RoKTp2b2lkIDA9PXBvcz9wb3M9MDowPnBvcyYmKHBvcz1NYXRoLm1heChsZW5ndGgrcG9zLDApKSxsZW5ndGg+cG9zK3JlbW92ZUNvdW50fHwocmVtb3ZlQ291bnQ9bGVuZ3RoLXBvcyk7dmFyIHJlbW92ZWQ9dGhpcy5zbGljZShwb3MscG9zK3JlbW92ZUNvdW50KSxpbnNlcnQ9c2xpY2UuY2FsbChhcmd1bWVudHMsMiksYWRkPWluc2VydC5sZW5ndGg7aWYocG9zPT09bGVuZ3RoKWFkZCYmdGhpcy5wdXNoLmFwcGx5KHRoaXMsaW5zZXJ0KTtlbHNle3ZhciByZW1vdmU9TWF0aC5taW4ocmVtb3ZlQ291bnQsbGVuZ3RoLXBvcyksdGFpbE9sZFBvcz1wb3MrcmVtb3ZlLHRhaWxOZXdQb3M9dGFpbE9sZFBvcythZGQtcmVtb3ZlLHRhaWxDb3VudD1sZW5ndGgtdGFpbE9sZFBvcyxsZW5ndGhBZnRlclJlbW92ZT1sZW5ndGgtcmVtb3ZlO2lmKHRhaWxPbGRQb3M+dGFpbE5ld1Bvcylmb3IodmFyIGk9MDt0YWlsQ291bnQ+aTsrK2kpdGhpc1t0YWlsTmV3UG9zK2ldPXRoaXNbdGFpbE9sZFBvcytpXTtlbHNlIGlmKHRhaWxOZXdQb3M+dGFpbE9sZFBvcylmb3IoaT10YWlsQ291bnQ7aS0tOyl0aGlzW3RhaWxOZXdQb3MraV09dGhpc1t0YWlsT2xkUG9zK2ldO2lmKGFkZCYmcG9zPT09bGVuZ3RoQWZ0ZXJSZW1vdmUpdGhpcy5sZW5ndGg9bGVuZ3RoQWZ0ZXJSZW1vdmUsdGhpcy5wdXNoLmFwcGx5KHRoaXMsaW5zZXJ0KTtlbHNlIGZvcih0aGlzLmxlbmd0aD1sZW5ndGhBZnRlclJlbW92ZSthZGQsaT0wO2FkZD5pOysraSl0aGlzW3BvcytpXT1pbnNlcnRbaV19cmV0dXJuIHJlbW92ZWR9O0FycmF5LmlzQXJyYXl8fChBcnJheS5pc0FycmF5PWZ1bmN0aW9uKG9iail7cmV0dXJuXFxcIltvYmplY3QgQXJyYXldXFxcIj09X3RvU3RyaW5nKG9iail9KTt2YXIgYm94ZWRTdHJpbmc9T2JqZWN0KFxcXCJhXFxcIiksc3BsaXRTdHJpbmc9XFxcImFcXFwiIT1ib3hlZFN0cmluZ1swXXx8ISgwIGluIGJveGVkU3RyaW5nKTtpZihBcnJheS5wcm90b3R5cGUuZm9yRWFjaHx8KEFycmF5LnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOm9iamVjdCx0aGlzcD1hcmd1bWVudHNbMV0saT0tMSxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wO2lmKFxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3I7Zm9yKDtsZW5ndGg+KytpOylpIGluIHNlbGYmJmZ1bi5jYWxsKHRoaXNwLHNlbGZbaV0saSxvYmplY3QpfSksQXJyYXkucHJvdG90eXBlLm1hcHx8KEFycmF5LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24oZnVuKXt2YXIgb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjAscmVzdWx0PUFycmF5KGxlbmd0aCksdGhpc3A9YXJndW1lbnRzWzFdO2lmKFxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuK1xcXCIgaXMgbm90IGEgZnVuY3Rpb25cXFwiKTtmb3IodmFyIGk9MDtsZW5ndGg+aTtpKyspaSBpbiBzZWxmJiYocmVzdWx0W2ldPWZ1bi5jYWxsKHRoaXNwLHNlbGZbaV0saSxvYmplY3QpKTtyZXR1cm4gcmVzdWx0fSksQXJyYXkucHJvdG90eXBlLmZpbHRlcnx8KEFycmF5LnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24oZnVuKXt2YXIgdmFsdWUsb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjAscmVzdWx0PVtdLHRoaXNwPWFyZ3VtZW50c1sxXTtpZihcXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bitcXFwiIGlzIG5vdCBhIGZ1bmN0aW9uXFxcIik7Zm9yKHZhciBpPTA7bGVuZ3RoPmk7aSsrKWkgaW4gc2VsZiYmKHZhbHVlPXNlbGZbaV0sZnVuLmNhbGwodGhpc3AsdmFsdWUsaSxvYmplY3QpJiZyZXN1bHQucHVzaCh2YWx1ZSkpO3JldHVybiByZXN1bHR9KSxBcnJheS5wcm90b3R5cGUuZXZlcnl8fChBcnJheS5wcm90b3R5cGUuZXZlcnk9ZnVuY3Rpb24oZnVuKXt2YXIgb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjAsdGhpc3A9YXJndW1lbnRzWzFdO2lmKFxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuK1xcXCIgaXMgbm90IGEgZnVuY3Rpb25cXFwiKTtmb3IodmFyIGk9MDtsZW5ndGg+aTtpKyspaWYoaSBpbiBzZWxmJiYhZnVuLmNhbGwodGhpc3Asc2VsZltpXSxpLG9iamVjdCkpcmV0dXJuITE7cmV0dXJuITB9KSxBcnJheS5wcm90b3R5cGUuc29tZXx8KEFycmF5LnByb3RvdHlwZS5zb21lPWZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOm9iamVjdCxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wLHRoaXNwPWFyZ3VtZW50c1sxXTtpZihcXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bitcXFwiIGlzIG5vdCBhIGZ1bmN0aW9uXFxcIik7Zm9yKHZhciBpPTA7bGVuZ3RoPmk7aSsrKWlmKGkgaW4gc2VsZiYmZnVuLmNhbGwodGhpc3Asc2VsZltpXSxpLG9iamVjdCkpcmV0dXJuITA7cmV0dXJuITF9KSxBcnJheS5wcm90b3R5cGUucmVkdWNlfHwoQXJyYXkucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbihmdW4pe3ZhciBvYmplY3Q9dG9PYmplY3QodGhpcyksc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTpvYmplY3QsbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MDtpZihcXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bitcXFwiIGlzIG5vdCBhIGZ1bmN0aW9uXFxcIik7aWYoIWxlbmd0aCYmMT09YXJndW1lbnRzLmxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJyZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXFxcIik7dmFyIHJlc3VsdCxpPTA7aWYoYXJndW1lbnRzLmxlbmd0aD49MilyZXN1bHQ9YXJndW1lbnRzWzFdO2Vsc2UgZm9yKDs7KXtpZihpIGluIHNlbGYpe3Jlc3VsdD1zZWxmW2krK107YnJlYWt9aWYoKytpPj1sZW5ndGgpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwicmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVxcXCIpfWZvcig7bGVuZ3RoPmk7aSsrKWkgaW4gc2VsZiYmKHJlc3VsdD1mdW4uY2FsbCh2b2lkIDAscmVzdWx0LHNlbGZbaV0saSxvYmplY3QpKTtyZXR1cm4gcmVzdWx0fSksQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0fHwoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0PWZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOm9iamVjdCxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wO2lmKFxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuK1xcXCIgaXMgbm90IGEgZnVuY3Rpb25cXFwiKTtpZighbGVuZ3RoJiYxPT1hcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcInJlZHVjZVJpZ2h0IG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVxcXCIpO3ZhciByZXN1bHQsaT1sZW5ndGgtMTtpZihhcmd1bWVudHMubGVuZ3RoPj0yKXJlc3VsdD1hcmd1bWVudHNbMV07ZWxzZSBmb3IoOzspe2lmKGkgaW4gc2VsZil7cmVzdWx0PXNlbGZbaS0tXTticmVha31pZigwPi0taSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJyZWR1Y2VSaWdodCBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWVcXFwiKX1kbyBpIGluIHRoaXMmJihyZXN1bHQ9ZnVuLmNhbGwodm9pZCAwLHJlc3VsdCxzZWxmW2ldLGksb2JqZWN0KSk7d2hpbGUoaS0tKTtyZXR1cm4gcmVzdWx0fSksQXJyYXkucHJvdG90eXBlLmluZGV4T2YmJi0xPT1bMCwxXS5pbmRleE9mKDEsMil8fChBcnJheS5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbihzb3VnaHQpe3ZhciBzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOnRvT2JqZWN0KHRoaXMpLGxlbmd0aD1zZWxmLmxlbmd0aD4+PjA7aWYoIWxlbmd0aClyZXR1cm4tMTt2YXIgaT0wO2Zvcihhcmd1bWVudHMubGVuZ3RoPjEmJihpPXRvSW50ZWdlcihhcmd1bWVudHNbMV0pKSxpPWk+PTA/aTpNYXRoLm1heCgwLGxlbmd0aCtpKTtsZW5ndGg+aTtpKyspaWYoaSBpbiBzZWxmJiZzZWxmW2ldPT09c291Z2h0KXJldHVybiBpO3JldHVybi0xfSksQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mJiYtMT09WzAsMV0ubGFzdEluZGV4T2YoMCwtMyl8fChBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2Y9ZnVuY3Rpb24oc291Z2h0KXt2YXIgc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTp0b09iamVjdCh0aGlzKSxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wO2lmKCFsZW5ndGgpcmV0dXJuLTE7dmFyIGk9bGVuZ3RoLTE7Zm9yKGFyZ3VtZW50cy5sZW5ndGg+MSYmKGk9TWF0aC5taW4oaSx0b0ludGVnZXIoYXJndW1lbnRzWzFdKSkpLGk9aT49MD9pOmxlbmd0aC1NYXRoLmFicyhpKTtpPj0wO2ktLSlpZihpIGluIHNlbGYmJnNvdWdodD09PXNlbGZbaV0pcmV0dXJuIGk7cmV0dXJuLTF9KSxPYmplY3QuZ2V0UHJvdG90eXBlT2Z8fChPYmplY3QuZ2V0UHJvdG90eXBlT2Y9ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gb2JqZWN0Ll9fcHJvdG9fX3x8KG9iamVjdC5jb25zdHJ1Y3Rvcj9vYmplY3QuY29uc3RydWN0b3IucHJvdG90eXBlOnByb3RvdHlwZU9mT2JqZWN0KX0pLCFPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKXt2YXIgRVJSX05PTl9PQkpFQ1Q9XFxcIk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgY2FsbGVkIG9uIGEgbm9uLW9iamVjdDogXFxcIjtPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yPWZ1bmN0aW9uKG9iamVjdCxwcm9wZXJ0eSl7aWYoXFxcIm9iamVjdFxcXCIhPXR5cGVvZiBvYmplY3QmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBvYmplY3R8fG51bGw9PT1vYmplY3QpdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfTk9OX09CSkVDVCtvYmplY3QpO2lmKG93bnMob2JqZWN0LHByb3BlcnR5KSl7dmFyIGRlc2NyaXB0b3IsZ2V0dGVyLHNldHRlcjtpZihkZXNjcmlwdG9yPXtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0sc3VwcG9ydHNBY2Nlc3NvcnMpe3ZhciBwcm90b3R5cGU9b2JqZWN0Ll9fcHJvdG9fXztvYmplY3QuX19wcm90b19fPXByb3RvdHlwZU9mT2JqZWN0O3ZhciBnZXR0ZXI9bG9va3VwR2V0dGVyKG9iamVjdCxwcm9wZXJ0eSksc2V0dGVyPWxvb2t1cFNldHRlcihvYmplY3QscHJvcGVydHkpO2lmKG9iamVjdC5fX3Byb3RvX189cHJvdG90eXBlLGdldHRlcnx8c2V0dGVyKXJldHVybiBnZXR0ZXImJihkZXNjcmlwdG9yLmdldD1nZXR0ZXIpLHNldHRlciYmKGRlc2NyaXB0b3Iuc2V0PXNldHRlciksZGVzY3JpcHRvcn1yZXR1cm4gZGVzY3JpcHRvci52YWx1ZT1vYmplY3RbcHJvcGVydHldLGRlc2NyaXB0b3J9fX1pZihPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8KE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzPWZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdCl9KSwhT2JqZWN0LmNyZWF0ZSl7dmFyIGNyZWF0ZUVtcHR5O2NyZWF0ZUVtcHR5PW51bGw9PT1PYmplY3QucHJvdG90eXBlLl9fcHJvdG9fXz9mdW5jdGlvbigpe3JldHVybntfX3Byb3RvX186bnVsbH19OmZ1bmN0aW9uKCl7dmFyIGVtcHR5PXt9O2Zvcih2YXIgaSBpbiBlbXB0eSllbXB0eVtpXT1udWxsO3JldHVybiBlbXB0eS5jb25zdHJ1Y3Rvcj1lbXB0eS5oYXNPd25Qcm9wZXJ0eT1lbXB0eS5wcm9wZXJ0eUlzRW51bWVyYWJsZT1lbXB0eS5pc1Byb3RvdHlwZU9mPWVtcHR5LnRvTG9jYWxlU3RyaW5nPWVtcHR5LnRvU3RyaW5nPWVtcHR5LnZhbHVlT2Y9ZW1wdHkuX19wcm90b19fPW51bGwsZW1wdHl9LE9iamVjdC5jcmVhdGU9ZnVuY3Rpb24ocHJvdG90eXBlLHByb3BlcnRpZXMpe3ZhciBvYmplY3Q7aWYobnVsbD09PXByb3RvdHlwZSlvYmplY3Q9Y3JlYXRlRW1wdHkoKTtlbHNle2lmKFxcXCJvYmplY3RcXFwiIT10eXBlb2YgcHJvdG90eXBlKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcInR5cGVvZiBwcm90b3R5cGVbXFxcIit0eXBlb2YgcHJvdG90eXBlK1xcXCJdICE9ICdvYmplY3QnXFxcIik7dmFyIFR5cGU9ZnVuY3Rpb24oKXt9O1R5cGUucHJvdG90eXBlPXByb3RvdHlwZSxvYmplY3Q9bmV3IFR5cGUsb2JqZWN0Ll9fcHJvdG9fXz1wcm90b3R5cGV9cmV0dXJuIHZvaWQgMCE9PXByb3BlcnRpZXMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iamVjdCxwcm9wZXJ0aWVzKSxvYmplY3R9fWlmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSl7dmFyIGRlZmluZVByb3BlcnR5V29ya3NPbk9iamVjdD1kb2VzRGVmaW5lUHJvcGVydHlXb3JrKHt9KSxkZWZpbmVQcm9wZXJ0eVdvcmtzT25Eb209XFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBkb2N1bWVudHx8ZG9lc0RlZmluZVByb3BlcnR5V29yayhkb2N1bWVudC5jcmVhdGVFbGVtZW50KFxcXCJkaXZcXFwiKSk7aWYoIWRlZmluZVByb3BlcnR5V29ya3NPbk9iamVjdHx8IWRlZmluZVByb3BlcnR5V29ya3NPbkRvbSl2YXIgZGVmaW5lUHJvcGVydHlGYWxsYmFjaz1PYmplY3QuZGVmaW5lUHJvcGVydHl9aWYoIU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8ZGVmaW5lUHJvcGVydHlGYWxsYmFjayl7dmFyIEVSUl9OT05fT0JKRUNUX0RFU0NSSVBUT1I9XFxcIlByb3BlcnR5IGRlc2NyaXB0aW9uIG11c3QgYmUgYW4gb2JqZWN0OiBcXFwiLEVSUl9OT05fT0JKRUNUX1RBUkdFVD1cXFwiT2JqZWN0LmRlZmluZVByb3BlcnR5IGNhbGxlZCBvbiBub24tb2JqZWN0OiBcXFwiLEVSUl9BQ0NFU1NPUlNfTk9UX1NVUFBPUlRFRD1cXFwiZ2V0dGVycyAmIHNldHRlcnMgY2FuIG5vdCBiZSBkZWZpbmVkIG9uIHRoaXMgamF2YXNjcmlwdCBlbmdpbmVcXFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eT1mdW5jdGlvbihvYmplY3QscHJvcGVydHksZGVzY3JpcHRvcil7aWYoXFxcIm9iamVjdFxcXCIhPXR5cGVvZiBvYmplY3QmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBvYmplY3R8fG51bGw9PT1vYmplY3QpdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfTk9OX09CSkVDVF9UQVJHRVQrb2JqZWN0KTtpZihcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGRlc2NyaXB0b3ImJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBkZXNjcmlwdG9yfHxudWxsPT09ZGVzY3JpcHRvcil0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9OT05fT0JKRUNUX0RFU0NSSVBUT1IrZGVzY3JpcHRvcik7aWYoZGVmaW5lUHJvcGVydHlGYWxsYmFjayl0cnl7cmV0dXJuIGRlZmluZVByb3BlcnR5RmFsbGJhY2suY2FsbChPYmplY3Qsb2JqZWN0LHByb3BlcnR5LGRlc2NyaXB0b3IpfWNhdGNoKGV4Y2VwdGlvbil7fWlmKG93bnMoZGVzY3JpcHRvcixcXFwidmFsdWVcXFwiKSlpZihzdXBwb3J0c0FjY2Vzc29ycyYmKGxvb2t1cEdldHRlcihvYmplY3QscHJvcGVydHkpfHxsb29rdXBTZXR0ZXIob2JqZWN0LHByb3BlcnR5KSkpe3ZhciBwcm90b3R5cGU9b2JqZWN0Ll9fcHJvdG9fXztvYmplY3QuX19wcm90b19fPXByb3RvdHlwZU9mT2JqZWN0LGRlbGV0ZSBvYmplY3RbcHJvcGVydHldLG9iamVjdFtwcm9wZXJ0eV09ZGVzY3JpcHRvci52YWx1ZSxvYmplY3QuX19wcm90b19fPXByb3RvdHlwZX1lbHNlIG9iamVjdFtwcm9wZXJ0eV09ZGVzY3JpcHRvci52YWx1ZTtlbHNle2lmKCFzdXBwb3J0c0FjY2Vzc29ycyl0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9BQ0NFU1NPUlNfTk9UX1NVUFBPUlRFRCk7b3ducyhkZXNjcmlwdG9yLFxcXCJnZXRcXFwiKSYmZGVmaW5lR2V0dGVyKG9iamVjdCxwcm9wZXJ0eSxkZXNjcmlwdG9yLmdldCksb3ducyhkZXNjcmlwdG9yLFxcXCJzZXRcXFwiKSYmZGVmaW5lU2V0dGVyKG9iamVjdCxwcm9wZXJ0eSxkZXNjcmlwdG9yLnNldCl9cmV0dXJuIG9iamVjdH19T2JqZWN0LmRlZmluZVByb3BlcnRpZXN8fChPYmplY3QuZGVmaW5lUHJvcGVydGllcz1mdW5jdGlvbihvYmplY3QscHJvcGVydGllcyl7Zm9yKHZhciBwcm9wZXJ0eSBpbiBwcm9wZXJ0aWVzKW93bnMocHJvcGVydGllcyxwcm9wZXJ0eSkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QscHJvcGVydHkscHJvcGVydGllc1twcm9wZXJ0eV0pO3JldHVybiBvYmplY3R9KSxPYmplY3Quc2VhbHx8KE9iamVjdC5zZWFsPWZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIG9iamVjdH0pLE9iamVjdC5mcmVlemV8fChPYmplY3QuZnJlZXplPWZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIG9iamVjdH0pO3RyeXtPYmplY3QuZnJlZXplKGZ1bmN0aW9uKCl7fSl9Y2F0Y2goZXhjZXB0aW9uKXtPYmplY3QuZnJlZXplPWZ1bmN0aW9uKGZyZWV6ZU9iamVjdCl7cmV0dXJuIGZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIG9iamVjdD9vYmplY3Q6ZnJlZXplT2JqZWN0KG9iamVjdCl9fShPYmplY3QuZnJlZXplKX1pZihPYmplY3QucHJldmVudEV4dGVuc2lvbnN8fChPYmplY3QucHJldmVudEV4dGVuc2lvbnM9ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gb2JqZWN0fSksT2JqZWN0LmlzU2VhbGVkfHwoT2JqZWN0LmlzU2VhbGVkPWZ1bmN0aW9uKCl7cmV0dXJuITF9KSxPYmplY3QuaXNGcm96ZW58fChPYmplY3QuaXNGcm96ZW49ZnVuY3Rpb24oKXtyZXR1cm4hMX0pLE9iamVjdC5pc0V4dGVuc2libGV8fChPYmplY3QuaXNFeHRlbnNpYmxlPWZ1bmN0aW9uKG9iamVjdCl7aWYoT2JqZWN0KG9iamVjdCk9PT1vYmplY3QpdGhyb3cgbmV3IFR5cGVFcnJvcjtmb3IodmFyIG5hbWU9XFxcIlxcXCI7b3ducyhvYmplY3QsbmFtZSk7KW5hbWUrPVxcXCI/XFxcIjtvYmplY3RbbmFtZV09ITA7dmFyIHJldHVyblZhbHVlPW93bnMob2JqZWN0LG5hbWUpO3JldHVybiBkZWxldGUgb2JqZWN0W25hbWVdLHJldHVyblZhbHVlfSksIU9iamVjdC5rZXlzKXt2YXIgaGFzRG9udEVudW1CdWc9ITAsZG9udEVudW1zPVtcXFwidG9TdHJpbmdcXFwiLFxcXCJ0b0xvY2FsZVN0cmluZ1xcXCIsXFxcInZhbHVlT2ZcXFwiLFxcXCJoYXNPd25Qcm9wZXJ0eVxcXCIsXFxcImlzUHJvdG90eXBlT2ZcXFwiLFxcXCJwcm9wZXJ0eUlzRW51bWVyYWJsZVxcXCIsXFxcImNvbnN0cnVjdG9yXFxcIl0sZG9udEVudW1zTGVuZ3RoPWRvbnRFbnVtcy5sZW5ndGg7Zm9yKHZhciBrZXkgaW57dG9TdHJpbmc6bnVsbH0paGFzRG9udEVudW1CdWc9ITE7T2JqZWN0LmtleXM9ZnVuY3Rpb24ob2JqZWN0KXtpZihcXFwib2JqZWN0XFxcIiE9dHlwZW9mIG9iamVjdCYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIG9iamVjdHx8bnVsbD09PW9iamVjdCl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJPYmplY3Qua2V5cyBjYWxsZWQgb24gYSBub24tb2JqZWN0XFxcIik7dmFyIGtleXM9W107Zm9yKHZhciBuYW1lIGluIG9iamVjdClvd25zKG9iamVjdCxuYW1lKSYma2V5cy5wdXNoKG5hbWUpO2lmKGhhc0RvbnRFbnVtQnVnKWZvcih2YXIgaT0wLGlpPWRvbnRFbnVtc0xlbmd0aDtpaT5pO2krKyl7dmFyIGRvbnRFbnVtPWRvbnRFbnVtc1tpXTtvd25zKG9iamVjdCxkb250RW51bSkmJmtleXMucHVzaChkb250RW51bSl9cmV0dXJuIGtleXN9fURhdGUubm93fHwoRGF0ZS5ub3c9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0pO3ZhciB3cz1cXFwiXFx0XFxcXG5cXHUwMDBiXFxcXGZcXFxcciDCoOGagOGgjuKAgOKAgeKAguKAg+KAhOKAheKAhuKAh+KAiOKAieKAiuKAr+KBn+OAgFxcXFx1MjAyOFxcXFx1MjAyOe+7v1xcXCI7aWYoIVN0cmluZy5wcm90b3R5cGUudHJpbXx8d3MudHJpbSgpKXt3cz1cXFwiW1xcXCIrd3MrXFxcIl1cXFwiO3ZhciB0cmltQmVnaW5SZWdleHA9UmVnRXhwKFxcXCJeXFxcIit3cyt3cytcXFwiKlxcXCIpLHRyaW1FbmRSZWdleHA9UmVnRXhwKHdzK3dzK1xcXCIqJFxcXCIpO1N0cmluZy5wcm90b3R5cGUudHJpbT1mdW5jdGlvbigpe3JldHVybih0aGlzK1xcXCJcXFwiKS5yZXBsYWNlKHRyaW1CZWdpblJlZ2V4cCxcXFwiXFxcIikucmVwbGFjZSh0cmltRW5kUmVnZXhwLFxcXCJcXFwiKX19dmFyIHRvT2JqZWN0PWZ1bmN0aW9uKG8pe2lmKG51bGw9PW8pdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiY2FuJ3QgY29udmVydCBcXFwiK28rXFxcIiB0byBvYmplY3RcXFwiKTtyZXR1cm4gT2JqZWN0KG8pfX0pLGFjZS5kZWZpbmUoXFxcImFjZS9tb2RlL2NvZmZlZV93b3JrZXJcXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiLFxcXCJhY2UvbGliL29vcFxcXCIsXFxcImFjZS93b3JrZXIvbWlycm9yXFxcIixcXFwiYWNlL21vZGUvY29mZmVlL2NvZmZlZS1zY3JpcHRcXFwiXSxmdW5jdGlvbihhY2VxdWlyZSxleHBvcnRzKXt2YXIgb29wPWFjZXF1aXJlKFxcXCIuLi9saWIvb29wXFxcIiksTWlycm9yPWFjZXF1aXJlKFxcXCIuLi93b3JrZXIvbWlycm9yXFxcIikuTWlycm9yLGNvZmZlZT1hY2VxdWlyZShcXFwiLi4vbW9kZS9jb2ZmZWUvY29mZmVlLXNjcmlwdFxcXCIpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKCl7fTt2YXIgV29ya2VyPWV4cG9ydHMuV29ya2VyPWZ1bmN0aW9uKHNlbmRlcil7TWlycm9yLmNhbGwodGhpcyxzZW5kZXIpLHRoaXMuc2V0VGltZW91dCgyNTApfTtvb3AuaW5oZXJpdHMoV29ya2VyLE1pcnJvciksZnVuY3Rpb24oKXt0aGlzLm9uVXBkYXRlPWZ1bmN0aW9uKCl7dmFyIHZhbHVlPXRoaXMuZG9jLmdldFZhbHVlKCk7dHJ5e2NvZmZlZS5wYXJzZSh2YWx1ZSkuY29tcGlsZSgpfWNhdGNoKGUpe3ZhciBsb2M9ZS5sb2NhdGlvbjtyZXR1cm4gbG9jJiZ0aGlzLnNlbmRlci5lbWl0KFxcXCJlcnJvclxcXCIse3Jvdzpsb2MuZmlyc3RfbGluZSxjb2x1bW46bG9jLmZpcnN0X2NvbHVtbixlbmRSb3c6bG9jLmxhc3RfbGluZSxlbmRDb2x1bW46bG9jLmxhc3RfY29sdW1uLHRleHQ6ZS5tZXNzYWdlLHR5cGU6XFxcImVycm9yXFxcIn0pLHZvaWQgMH10aGlzLnNlbmRlci5lbWl0KFxcXCJva1xcXCIpfX0uY2FsbChXb3JrZXIucHJvdG90eXBlKX0pLGFjZS5kZWZpbmUoXFxcImFjZS93b3JrZXIvbWlycm9yXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIixcXFwiYWNlL2RvY3VtZW50XFxcIixcXFwiYWNlL2xpYi9sYW5nXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7dmFyIERvY3VtZW50PWFjZXF1aXJlKFxcXCIuLi9kb2N1bWVudFxcXCIpLkRvY3VtZW50LGxhbmc9YWNlcXVpcmUoXFxcIi4uL2xpYi9sYW5nXFxcIiksTWlycm9yPWV4cG9ydHMuTWlycm9yPWZ1bmN0aW9uKHNlbmRlcil7dGhpcy5zZW5kZXI9c2VuZGVyO3ZhciBkb2M9dGhpcy5kb2M9bmV3IERvY3VtZW50KFxcXCJcXFwiKSxkZWZlcnJlZFVwZGF0ZT10aGlzLmRlZmVycmVkVXBkYXRlPWxhbmcuZGVsYXllZENhbGwodGhpcy5vblVwZGF0ZS5iaW5kKHRoaXMpKSxfc2VsZj10aGlzO3NlbmRlci5vbihcXFwiY2hhbmdlXFxcIixmdW5jdGlvbihlKXtkb2MuYXBwbHlEZWx0YXMoZS5kYXRhKSxkZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZShfc2VsZi4kdGltZW91dCl9KX07KGZ1bmN0aW9uKCl7dGhpcy4kdGltZW91dD01MDAsdGhpcy5zZXRUaW1lb3V0PWZ1bmN0aW9uKHRpbWVvdXQpe3RoaXMuJHRpbWVvdXQ9dGltZW91dH0sdGhpcy5zZXRWYWx1ZT1mdW5jdGlvbih2YWx1ZSl7dGhpcy5kb2Muc2V0VmFsdWUodmFsdWUpLHRoaXMuZGVmZXJyZWRVcGRhdGUuc2NoZWR1bGUodGhpcy4kdGltZW91dCl9LHRoaXMuZ2V0VmFsdWU9ZnVuY3Rpb24oY2FsbGJhY2tJZCl7dGhpcy5zZW5kZXIuY2FsbGJhY2sodGhpcy5kb2MuZ2V0VmFsdWUoKSxjYWxsYmFja0lkKX0sdGhpcy5vblVwZGF0ZT1mdW5jdGlvbigpe319KS5jYWxsKE1pcnJvci5wcm90b3R5cGUpfSksYWNlLmRlZmluZShcXFwiYWNlL2RvY3VtZW50XFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIixcXFwiYWNlL2xpYi9vb3BcXFwiLFxcXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcXFwiLFxcXCJhY2UvcmFuZ2VcXFwiLFxcXCJhY2UvYW5jaG9yXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7dmFyIG9vcD1hY2VxdWlyZShcXFwiLi9saWIvb29wXFxcIiksRXZlbnRFbWl0dGVyPWFjZXF1aXJlKFxcXCIuL2xpYi9ldmVudF9lbWl0dGVyXFxcIikuRXZlbnRFbWl0dGVyLFJhbmdlPWFjZXF1aXJlKFxcXCIuL3JhbmdlXFxcIikuUmFuZ2UsQW5jaG9yPWFjZXF1aXJlKFxcXCIuL2FuY2hvclxcXCIpLkFuY2hvcixEb2N1bWVudD1mdW5jdGlvbih0ZXh0KXt0aGlzLiRsaW5lcz1bXSwwPT10ZXh0Lmxlbmd0aD90aGlzLiRsaW5lcz1bXFxcIlxcXCJdOkFycmF5LmlzQXJyYXkodGV4dCk/dGhpcy5faW5zZXJ0TGluZXMoMCx0ZXh0KTp0aGlzLmluc2VydCh7cm93OjAsY29sdW1uOjB9LHRleHQpfTsoZnVuY3Rpb24oKXtvb3AuaW1wbGVtZW50KHRoaXMsRXZlbnRFbWl0dGVyKSx0aGlzLnNldFZhbHVlPWZ1bmN0aW9uKHRleHQpe3ZhciBsZW49dGhpcy5nZXRMZW5ndGgoKTt0aGlzLnJlbW92ZShuZXcgUmFuZ2UoMCwwLGxlbix0aGlzLmdldExpbmUobGVuLTEpLmxlbmd0aCkpLHRoaXMuaW5zZXJ0KHtyb3c6MCxjb2x1bW46MH0sdGV4dCl9LHRoaXMuZ2V0VmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBbGxMaW5lcygpLmpvaW4odGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkpfSx0aGlzLmNyZWF0ZUFuY2hvcj1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gbmV3IEFuY2hvcih0aGlzLHJvdyxjb2x1bW4pfSx0aGlzLiRzcGxpdD0wPT1cXFwiYWFhXFxcIi5zcGxpdCgvYS8pLmxlbmd0aD9mdW5jdGlvbih0ZXh0KXtyZXR1cm4gdGV4dC5yZXBsYWNlKC9cXFxcclxcXFxufFxcXFxyL2csXFxcIlxcXFxuXFxcIikuc3BsaXQoXFxcIlxcXFxuXFxcIil9OmZ1bmN0aW9uKHRleHQpe3JldHVybiB0ZXh0LnNwbGl0KC9cXFxcclxcXFxufFxcXFxyfFxcXFxuLyl9LHRoaXMuJGRldGVjdE5ld0xpbmU9ZnVuY3Rpb24odGV4dCl7dmFyIG1hdGNoPXRleHQubWF0Y2goL14uKj8oXFxcXHJcXFxcbnxcXFxccnxcXFxcbikvbSk7dGhpcy4kYXV0b05ld0xpbmU9bWF0Y2g/bWF0Y2hbMV06XFxcIlxcXFxuXFxcIn0sdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyPWZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuJG5ld0xpbmVNb2RlKXtjYXNlXFxcIndpbmRvd3NcXFwiOnJldHVyblxcXCJcXFxcclxcXFxuXFxcIjtjYXNlXFxcInVuaXhcXFwiOnJldHVyblxcXCJcXFxcblxcXCI7ZGVmYXVsdDpyZXR1cm4gdGhpcy4kYXV0b05ld0xpbmV9fSx0aGlzLiRhdXRvTmV3TGluZT1cXFwiXFxcXG5cXFwiLHRoaXMuJG5ld0xpbmVNb2RlPVxcXCJhdXRvXFxcIix0aGlzLnNldE5ld0xpbmVNb2RlPWZ1bmN0aW9uKG5ld0xpbmVNb2RlKXt0aGlzLiRuZXdMaW5lTW9kZSE9PW5ld0xpbmVNb2RlJiYodGhpcy4kbmV3TGluZU1vZGU9bmV3TGluZU1vZGUpfSx0aGlzLmdldE5ld0xpbmVNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJG5ld0xpbmVNb2RlfSx0aGlzLmlzTmV3TGluZT1mdW5jdGlvbih0ZXh0KXtyZXR1cm5cXFwiXFxcXHJcXFxcblxcXCI9PXRleHR8fFxcXCJcXFxcclxcXCI9PXRleHR8fFxcXCJcXFxcblxcXCI9PXRleHR9LHRoaXMuZ2V0TGluZT1mdW5jdGlvbihyb3cpe3JldHVybiB0aGlzLiRsaW5lc1tyb3ddfHxcXFwiXFxcIn0sdGhpcy5nZXRMaW5lcz1mdW5jdGlvbihmaXJzdFJvdyxsYXN0Um93KXtyZXR1cm4gdGhpcy4kbGluZXMuc2xpY2UoZmlyc3RSb3csbGFzdFJvdysxKX0sdGhpcy5nZXRBbGxMaW5lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldExpbmVzKDAsdGhpcy5nZXRMZW5ndGgoKSl9LHRoaXMuZ2V0TGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGxpbmVzLmxlbmd0aH0sdGhpcy5nZXRUZXh0UmFuZ2U9ZnVuY3Rpb24ocmFuZ2Upe2lmKHJhbmdlLnN0YXJ0LnJvdz09cmFuZ2UuZW5kLnJvdylyZXR1cm4gdGhpcy4kbGluZXNbcmFuZ2Uuc3RhcnQucm93XS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uLHJhbmdlLmVuZC5jb2x1bW4pO3ZhciBsaW5lcz10aGlzLmdldExpbmVzKHJhbmdlLnN0YXJ0LnJvdyxyYW5nZS5lbmQucm93KTtsaW5lc1swXT0obGluZXNbMF18fFxcXCJcXFwiKS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uKTt2YXIgbD1saW5lcy5sZW5ndGgtMTtyZXR1cm4gcmFuZ2UuZW5kLnJvdy1yYW5nZS5zdGFydC5yb3c9PWwmJihsaW5lc1tsXT1saW5lc1tsXS5zdWJzdHJpbmcoMCxyYW5nZS5lbmQuY29sdW1uKSksbGluZXMuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSl9LHRoaXMuJGNsaXBQb3NpdGlvbj1mdW5jdGlvbihwb3NpdGlvbil7dmFyIGxlbmd0aD10aGlzLmdldExlbmd0aCgpO3JldHVybiBwb3NpdGlvbi5yb3c+PWxlbmd0aD8ocG9zaXRpb24ucm93PU1hdGgubWF4KDAsbGVuZ3RoLTEpLHBvc2l0aW9uLmNvbHVtbj10aGlzLmdldExpbmUobGVuZ3RoLTEpLmxlbmd0aCk6MD5wb3NpdGlvbi5yb3cmJihwb3NpdGlvbi5yb3c9MCkscG9zaXRpb259LHRoaXMuaW5zZXJ0PWZ1bmN0aW9uKHBvc2l0aW9uLHRleHQpe2lmKCF0ZXh0fHwwPT09dGV4dC5sZW5ndGgpcmV0dXJuIHBvc2l0aW9uO3Bvc2l0aW9uPXRoaXMuJGNsaXBQb3NpdGlvbihwb3NpdGlvbiksMT49dGhpcy5nZXRMZW5ndGgoKSYmdGhpcy4kZGV0ZWN0TmV3TGluZSh0ZXh0KTt2YXIgbGluZXM9dGhpcy4kc3BsaXQodGV4dCksZmlyc3RMaW5lPWxpbmVzLnNwbGljZSgwLDEpWzBdLGxhc3RMaW5lPTA9PWxpbmVzLmxlbmd0aD9udWxsOmxpbmVzLnNwbGljZShsaW5lcy5sZW5ndGgtMSwxKVswXTtyZXR1cm4gcG9zaXRpb249dGhpcy5pbnNlcnRJbkxpbmUocG9zaXRpb24sZmlyc3RMaW5lKSxudWxsIT09bGFzdExpbmUmJihwb3NpdGlvbj10aGlzLmluc2VydE5ld0xpbmUocG9zaXRpb24pLHBvc2l0aW9uPXRoaXMuX2luc2VydExpbmVzKHBvc2l0aW9uLnJvdyxsaW5lcykscG9zaXRpb249dGhpcy5pbnNlcnRJbkxpbmUocG9zaXRpb24sbGFzdExpbmV8fFxcXCJcXFwiKSkscG9zaXRpb259LHRoaXMuaW5zZXJ0TGluZXM9ZnVuY3Rpb24ocm93LGxpbmVzKXtyZXR1cm4gcm93Pj10aGlzLmdldExlbmd0aCgpP3RoaXMuaW5zZXJ0KHtyb3c6cm93LGNvbHVtbjowfSxcXFwiXFxcXG5cXFwiK2xpbmVzLmpvaW4oXFxcIlxcXFxuXFxcIikpOnRoaXMuX2luc2VydExpbmVzKE1hdGgubWF4KHJvdywwKSxsaW5lcyl9LHRoaXMuX2luc2VydExpbmVzPWZ1bmN0aW9uKHJvdyxsaW5lcyl7aWYoMD09bGluZXMubGVuZ3RoKXJldHVybntyb3c6cm93LGNvbHVtbjowfTtpZihsaW5lcy5sZW5ndGg+NjU1MzUpe3ZhciBlbmQ9dGhpcy5faW5zZXJ0TGluZXMocm93LGxpbmVzLnNsaWNlKDY1NTM1KSk7bGluZXM9bGluZXMuc2xpY2UoMCw2NTUzNSl9dmFyIGFyZ3M9W3JvdywwXTthcmdzLnB1c2guYXBwbHkoYXJncyxsaW5lcyksdGhpcy4kbGluZXMuc3BsaWNlLmFwcGx5KHRoaXMuJGxpbmVzLGFyZ3MpO3ZhciByYW5nZT1uZXcgUmFuZ2Uocm93LDAscm93K2xpbmVzLmxlbmd0aCwwKSxkZWx0YT17YWN0aW9uOlxcXCJpbnNlcnRMaW5lc1xcXCIscmFuZ2U6cmFuZ2UsbGluZXM6bGluZXN9O3JldHVybiB0aGlzLl9lbWl0KFxcXCJjaGFuZ2VcXFwiLHtkYXRhOmRlbHRhfSksZW5kfHxyYW5nZS5lbmR9LHRoaXMuaW5zZXJ0TmV3TGluZT1mdW5jdGlvbihwb3NpdGlvbil7cG9zaXRpb249dGhpcy4kY2xpcFBvc2l0aW9uKHBvc2l0aW9uKTt2YXIgbGluZT10aGlzLiRsaW5lc1twb3NpdGlvbi5yb3ddfHxcXFwiXFxcIjt0aGlzLiRsaW5lc1twb3NpdGlvbi5yb3ddPWxpbmUuc3Vic3RyaW5nKDAscG9zaXRpb24uY29sdW1uKSx0aGlzLiRsaW5lcy5zcGxpY2UocG9zaXRpb24ucm93KzEsMCxsaW5lLnN1YnN0cmluZyhwb3NpdGlvbi5jb2x1bW4sbGluZS5sZW5ndGgpKTt2YXIgZW5kPXtyb3c6cG9zaXRpb24ucm93KzEsY29sdW1uOjB9LGRlbHRhPXthY3Rpb246XFxcImluc2VydFRleHRcXFwiLHJhbmdlOlJhbmdlLmZyb21Qb2ludHMocG9zaXRpb24sZW5kKSx0ZXh0OnRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpfTtyZXR1cm4gdGhpcy5fZW1pdChcXFwiY2hhbmdlXFxcIix7ZGF0YTpkZWx0YX0pLGVuZH0sdGhpcy5pbnNlcnRJbkxpbmU9ZnVuY3Rpb24ocG9zaXRpb24sdGV4dCl7aWYoMD09dGV4dC5sZW5ndGgpcmV0dXJuIHBvc2l0aW9uO3ZhciBsaW5lPXRoaXMuJGxpbmVzW3Bvc2l0aW9uLnJvd118fFxcXCJcXFwiO3RoaXMuJGxpbmVzW3Bvc2l0aW9uLnJvd109bGluZS5zdWJzdHJpbmcoMCxwb3NpdGlvbi5jb2x1bW4pK3RleHQrbGluZS5zdWJzdHJpbmcocG9zaXRpb24uY29sdW1uKTt2YXIgZW5kPXtyb3c6cG9zaXRpb24ucm93LGNvbHVtbjpwb3NpdGlvbi5jb2x1bW4rdGV4dC5sZW5ndGh9LGRlbHRhPXthY3Rpb246XFxcImluc2VydFRleHRcXFwiLHJhbmdlOlJhbmdlLmZyb21Qb2ludHMocG9zaXRpb24sZW5kKSx0ZXh0OnRleHR9O3JldHVybiB0aGlzLl9lbWl0KFxcXCJjaGFuZ2VcXFwiLHtkYXRhOmRlbHRhfSksZW5kfSx0aGlzLnJlbW92ZT1mdW5jdGlvbihyYW5nZSl7aWYocmFuZ2Uuc3RhcnQ9dGhpcy4kY2xpcFBvc2l0aW9uKHJhbmdlLnN0YXJ0KSxyYW5nZS5lbmQ9dGhpcy4kY2xpcFBvc2l0aW9uKHJhbmdlLmVuZCkscmFuZ2UuaXNFbXB0eSgpKXJldHVybiByYW5nZS5zdGFydDt2YXIgZmlyc3RSb3c9cmFuZ2Uuc3RhcnQucm93LGxhc3RSb3c9cmFuZ2UuZW5kLnJvdztpZihyYW5nZS5pc011bHRpTGluZSgpKXt2YXIgZmlyc3RGdWxsUm93PTA9PXJhbmdlLnN0YXJ0LmNvbHVtbj9maXJzdFJvdzpmaXJzdFJvdysxLGxhc3RGdWxsUm93PWxhc3RSb3ctMTtyYW5nZS5lbmQuY29sdW1uPjAmJnRoaXMucmVtb3ZlSW5MaW5lKGxhc3RSb3csMCxyYW5nZS5lbmQuY29sdW1uKSxsYXN0RnVsbFJvdz49Zmlyc3RGdWxsUm93JiZ0aGlzLl9yZW1vdmVMaW5lcyhmaXJzdEZ1bGxSb3csbGFzdEZ1bGxSb3cpLGZpcnN0RnVsbFJvdyE9Zmlyc3RSb3cmJih0aGlzLnJlbW92ZUluTGluZShmaXJzdFJvdyxyYW5nZS5zdGFydC5jb2x1bW4sdGhpcy5nZXRMaW5lKGZpcnN0Um93KS5sZW5ndGgpLHRoaXMucmVtb3ZlTmV3TGluZShyYW5nZS5zdGFydC5yb3cpKX1lbHNlIHRoaXMucmVtb3ZlSW5MaW5lKGZpcnN0Um93LHJhbmdlLnN0YXJ0LmNvbHVtbixyYW5nZS5lbmQuY29sdW1uKTtyZXR1cm4gcmFuZ2Uuc3RhcnR9LHRoaXMucmVtb3ZlSW5MaW5lPWZ1bmN0aW9uKHJvdyxzdGFydENvbHVtbixlbmRDb2x1bW4pe2lmKHN0YXJ0Q29sdW1uIT1lbmRDb2x1bW4pe3ZhciByYW5nZT1uZXcgUmFuZ2Uocm93LHN0YXJ0Q29sdW1uLHJvdyxlbmRDb2x1bW4pLGxpbmU9dGhpcy5nZXRMaW5lKHJvdykscmVtb3ZlZD1saW5lLnN1YnN0cmluZyhzdGFydENvbHVtbixlbmRDb2x1bW4pLG5ld0xpbmU9bGluZS5zdWJzdHJpbmcoMCxzdGFydENvbHVtbikrbGluZS5zdWJzdHJpbmcoZW5kQ29sdW1uLGxpbmUubGVuZ3RoKTt0aGlzLiRsaW5lcy5zcGxpY2Uocm93LDEsbmV3TGluZSk7dmFyIGRlbHRhPXthY3Rpb246XFxcInJlbW92ZVRleHRcXFwiLHJhbmdlOnJhbmdlLHRleHQ6cmVtb3ZlZH07cmV0dXJuIHRoaXMuX2VtaXQoXFxcImNoYW5nZVxcXCIse2RhdGE6ZGVsdGF9KSxyYW5nZS5zdGFydH19LHRoaXMucmVtb3ZlTGluZXM9ZnVuY3Rpb24oZmlyc3RSb3csbGFzdFJvdyl7cmV0dXJuIDA+Zmlyc3RSb3d8fGxhc3RSb3c+PXRoaXMuZ2V0TGVuZ3RoKCk/dGhpcy5yZW1vdmUobmV3IFJhbmdlKGZpcnN0Um93LDAsbGFzdFJvdysxLDApKTp0aGlzLl9yZW1vdmVMaW5lcyhmaXJzdFJvdyxsYXN0Um93KX0sdGhpcy5fcmVtb3ZlTGluZXM9ZnVuY3Rpb24oZmlyc3RSb3csbGFzdFJvdyl7dmFyIHJhbmdlPW5ldyBSYW5nZShmaXJzdFJvdywwLGxhc3RSb3crMSwwKSxyZW1vdmVkPXRoaXMuJGxpbmVzLnNwbGljZShmaXJzdFJvdyxsYXN0Um93LWZpcnN0Um93KzEpLGRlbHRhPXthY3Rpb246XFxcInJlbW92ZUxpbmVzXFxcIixyYW5nZTpyYW5nZSxubDp0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSxsaW5lczpyZW1vdmVkfTtyZXR1cm4gdGhpcy5fZW1pdChcXFwiY2hhbmdlXFxcIix7ZGF0YTpkZWx0YX0pLHJlbW92ZWR9LHRoaXMucmVtb3ZlTmV3TGluZT1mdW5jdGlvbihyb3cpe3ZhciBmaXJzdExpbmU9dGhpcy5nZXRMaW5lKHJvdyksc2Vjb25kTGluZT10aGlzLmdldExpbmUocm93KzEpLHJhbmdlPW5ldyBSYW5nZShyb3csZmlyc3RMaW5lLmxlbmd0aCxyb3crMSwwKSxsaW5lPWZpcnN0TGluZStzZWNvbmRMaW5lO3RoaXMuJGxpbmVzLnNwbGljZShyb3csMixsaW5lKTt2YXIgZGVsdGE9e2FjdGlvbjpcXFwicmVtb3ZlVGV4dFxcXCIscmFuZ2U6cmFuZ2UsdGV4dDp0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKX07dGhpcy5fZW1pdChcXFwiY2hhbmdlXFxcIix7ZGF0YTpkZWx0YX0pfSx0aGlzLnJlcGxhY2U9ZnVuY3Rpb24ocmFuZ2UsdGV4dCl7aWYoMD09dGV4dC5sZW5ndGgmJnJhbmdlLmlzRW1wdHkoKSlyZXR1cm4gcmFuZ2Uuc3RhcnQ7aWYodGV4dD09dGhpcy5nZXRUZXh0UmFuZ2UocmFuZ2UpKXJldHVybiByYW5nZS5lbmQ7aWYodGhpcy5yZW1vdmUocmFuZ2UpLHRleHQpdmFyIGVuZD10aGlzLmluc2VydChyYW5nZS5zdGFydCx0ZXh0KTtlbHNlIGVuZD1yYW5nZS5zdGFydDtyZXR1cm4gZW5kfSx0aGlzLmFwcGx5RGVsdGFzPWZ1bmN0aW9uKGRlbHRhcyl7Zm9yKHZhciBpPTA7ZGVsdGFzLmxlbmd0aD5pO2krKyl7dmFyIGRlbHRhPWRlbHRhc1tpXSxyYW5nZT1SYW5nZS5mcm9tUG9pbnRzKGRlbHRhLnJhbmdlLnN0YXJ0LGRlbHRhLnJhbmdlLmVuZCk7XFxcImluc2VydExpbmVzXFxcIj09ZGVsdGEuYWN0aW9uP3RoaXMuaW5zZXJ0TGluZXMocmFuZ2Uuc3RhcnQucm93LGRlbHRhLmxpbmVzKTpcXFwiaW5zZXJ0VGV4dFxcXCI9PWRlbHRhLmFjdGlvbj90aGlzLmluc2VydChyYW5nZS5zdGFydCxkZWx0YS50ZXh0KTpcXFwicmVtb3ZlTGluZXNcXFwiPT1kZWx0YS5hY3Rpb24/dGhpcy5fcmVtb3ZlTGluZXMocmFuZ2Uuc3RhcnQucm93LHJhbmdlLmVuZC5yb3ctMSk6XFxcInJlbW92ZVRleHRcXFwiPT1kZWx0YS5hY3Rpb24mJnRoaXMucmVtb3ZlKHJhbmdlKX19LHRoaXMucmV2ZXJ0RGVsdGFzPWZ1bmN0aW9uKGRlbHRhcyl7Zm9yKHZhciBpPWRlbHRhcy5sZW5ndGgtMTtpPj0wO2ktLSl7dmFyIGRlbHRhPWRlbHRhc1tpXSxyYW5nZT1SYW5nZS5mcm9tUG9pbnRzKGRlbHRhLnJhbmdlLnN0YXJ0LGRlbHRhLnJhbmdlLmVuZCk7XFxcImluc2VydExpbmVzXFxcIj09ZGVsdGEuYWN0aW9uP3RoaXMuX3JlbW92ZUxpbmVzKHJhbmdlLnN0YXJ0LnJvdyxyYW5nZS5lbmQucm93LTEpOlxcXCJpbnNlcnRUZXh0XFxcIj09ZGVsdGEuYWN0aW9uP3RoaXMucmVtb3ZlKHJhbmdlKTpcXFwicmVtb3ZlTGluZXNcXFwiPT1kZWx0YS5hY3Rpb24/dGhpcy5faW5zZXJ0TGluZXMocmFuZ2Uuc3RhcnQucm93LGRlbHRhLmxpbmVzKTpcXFwicmVtb3ZlVGV4dFxcXCI9PWRlbHRhLmFjdGlvbiYmdGhpcy5pbnNlcnQocmFuZ2Uuc3RhcnQsZGVsdGEudGV4dCl9fSx0aGlzLmluZGV4VG9Qb3NpdGlvbj1mdW5jdGlvbihpbmRleCxzdGFydFJvdyl7Zm9yKHZhciBsaW5lcz10aGlzLiRsaW5lc3x8dGhpcy5nZXRBbGxMaW5lcygpLG5ld2xpbmVMZW5ndGg9dGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoLGk9c3RhcnRSb3d8fDAsbD1saW5lcy5sZW5ndGg7bD5pO2krKylpZihpbmRleC09bGluZXNbaV0ubGVuZ3RoK25ld2xpbmVMZW5ndGgsMD5pbmRleClyZXR1cm57cm93OmksY29sdW1uOmluZGV4K2xpbmVzW2ldLmxlbmd0aCtuZXdsaW5lTGVuZ3RofTtyZXR1cm57cm93OmwtMSxjb2x1bW46bGluZXNbbC0xXS5sZW5ndGh9fSx0aGlzLnBvc2l0aW9uVG9JbmRleD1mdW5jdGlvbihwb3Msc3RhcnRSb3cpe2Zvcih2YXIgbGluZXM9dGhpcy4kbGluZXN8fHRoaXMuZ2V0QWxsTGluZXMoKSxuZXdsaW5lTGVuZ3RoPXRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aCxpbmRleD0wLHJvdz1NYXRoLm1pbihwb3Mucm93LGxpbmVzLmxlbmd0aCksaT1zdGFydFJvd3x8MDtyb3c+aTsrK2kpaW5kZXgrPWxpbmVzW2ldLmxlbmd0aCtuZXdsaW5lTGVuZ3RoO3JldHVybiBpbmRleCtwb3MuY29sdW1ufX0pLmNhbGwoRG9jdW1lbnQucHJvdG90eXBlKSxleHBvcnRzLkRvY3VtZW50PURvY3VtZW50fSksYWNlLmRlZmluZShcXFwiYWNlL3JhbmdlXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7dmFyIGNvbXBhcmVQb2ludHM9ZnVuY3Rpb24ocDEscDIpe3JldHVybiBwMS5yb3ctcDIucm93fHxwMS5jb2x1bW4tcDIuY29sdW1ufSxSYW5nZT1mdW5jdGlvbihzdGFydFJvdyxzdGFydENvbHVtbixlbmRSb3csZW5kQ29sdW1uKXt0aGlzLnN0YXJ0PXtyb3c6c3RhcnRSb3csY29sdW1uOnN0YXJ0Q29sdW1ufSx0aGlzLmVuZD17cm93OmVuZFJvdyxjb2x1bW46ZW5kQ29sdW1ufX07KGZ1bmN0aW9uKCl7dGhpcy5pc0VxdWFsPWZ1bmN0aW9uKHJhbmdlKXtyZXR1cm4gdGhpcy5zdGFydC5yb3c9PT1yYW5nZS5zdGFydC5yb3cmJnRoaXMuZW5kLnJvdz09PXJhbmdlLmVuZC5yb3cmJnRoaXMuc3RhcnQuY29sdW1uPT09cmFuZ2Uuc3RhcnQuY29sdW1uJiZ0aGlzLmVuZC5jb2x1bW49PT1yYW5nZS5lbmQuY29sdW1ufSx0aGlzLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXFxcIlJhbmdlOiBbXFxcIit0aGlzLnN0YXJ0LnJvdytcXFwiL1xcXCIrdGhpcy5zdGFydC5jb2x1bW4rXFxcIl0gLT4gW1xcXCIrdGhpcy5lbmQucm93K1xcXCIvXFxcIit0aGlzLmVuZC5jb2x1bW4rXFxcIl1cXFwifSx0aGlzLmNvbnRhaW5zPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiAwPT10aGlzLmNvbXBhcmUocm93LGNvbHVtbil9LHRoaXMuY29tcGFyZVJhbmdlPWZ1bmN0aW9uKHJhbmdlKXt2YXIgY21wLGVuZD1yYW5nZS5lbmQsc3RhcnQ9cmFuZ2Uuc3RhcnQ7cmV0dXJuIGNtcD10aGlzLmNvbXBhcmUoZW5kLnJvdyxlbmQuY29sdW1uKSwxPT1jbXA/KGNtcD10aGlzLmNvbXBhcmUoc3RhcnQucm93LHN0YXJ0LmNvbHVtbiksMT09Y21wPzI6MD09Y21wPzE6MCk6LTE9PWNtcD8tMjooY21wPXRoaXMuY29tcGFyZShzdGFydC5yb3csc3RhcnQuY29sdW1uKSwtMT09Y21wPy0xOjE9PWNtcD80MjowKX0sdGhpcy5jb21wYXJlUG9pbnQ9ZnVuY3Rpb24ocCl7cmV0dXJuIHRoaXMuY29tcGFyZShwLnJvdyxwLmNvbHVtbil9LHRoaXMuY29udGFpbnNSYW5nZT1mdW5jdGlvbihyYW5nZSl7cmV0dXJuIDA9PXRoaXMuY29tcGFyZVBvaW50KHJhbmdlLnN0YXJ0KSYmMD09dGhpcy5jb21wYXJlUG9pbnQocmFuZ2UuZW5kKX0sdGhpcy5pbnRlcnNlY3RzPWZ1bmN0aW9uKHJhbmdlKXt2YXIgY21wPXRoaXMuY29tcGFyZVJhbmdlKHJhbmdlKTtyZXR1cm4tMT09Y21wfHwwPT1jbXB8fDE9PWNtcH0sdGhpcy5pc0VuZD1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gdGhpcy5lbmQucm93PT1yb3cmJnRoaXMuZW5kLmNvbHVtbj09Y29sdW1ufSx0aGlzLmlzU3RhcnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuc3RhcnQucm93PT1yb3cmJnRoaXMuc3RhcnQuY29sdW1uPT1jb2x1bW59LHRoaXMuc2V0U3RhcnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7XFxcIm9iamVjdFxcXCI9PXR5cGVvZiByb3c/KHRoaXMuc3RhcnQuY29sdW1uPXJvdy5jb2x1bW4sdGhpcy5zdGFydC5yb3c9cm93LnJvdyk6KHRoaXMuc3RhcnQucm93PXJvdyx0aGlzLnN0YXJ0LmNvbHVtbj1jb2x1bW4pfSx0aGlzLnNldEVuZD1mdW5jdGlvbihyb3csY29sdW1uKXtcXFwib2JqZWN0XFxcIj09dHlwZW9mIHJvdz8odGhpcy5lbmQuY29sdW1uPXJvdy5jb2x1bW4sdGhpcy5lbmQucm93PXJvdy5yb3cpOih0aGlzLmVuZC5yb3c9cm93LHRoaXMuZW5kLmNvbHVtbj1jb2x1bW4pfSx0aGlzLmluc2lkZT1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pP3RoaXMuaXNFbmQocm93LGNvbHVtbil8fHRoaXMuaXNTdGFydChyb3csY29sdW1uKT8hMTohMDohMX0sdGhpcy5pbnNpZGVTdGFydD1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pP3RoaXMuaXNFbmQocm93LGNvbHVtbik/ITE6ITA6ITF9LHRoaXMuaW5zaWRlRW5kPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiAwPT10aGlzLmNvbXBhcmUocm93LGNvbHVtbik/dGhpcy5pc1N0YXJ0KHJvdyxjb2x1bW4pPyExOiEwOiExfSx0aGlzLmNvbXBhcmU9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuaXNNdWx0aUxpbmUoKXx8cm93IT09dGhpcy5zdGFydC5yb3c/dGhpcy5zdGFydC5yb3c+cm93Py0xOnJvdz50aGlzLmVuZC5yb3c/MTp0aGlzLnN0YXJ0LnJvdz09PXJvdz9jb2x1bW4+PXRoaXMuc3RhcnQuY29sdW1uPzA6LTE6dGhpcy5lbmQucm93PT09cm93P3RoaXMuZW5kLmNvbHVtbj49Y29sdW1uPzA6MTowOnRoaXMuc3RhcnQuY29sdW1uPmNvbHVtbj8tMTpjb2x1bW4+dGhpcy5lbmQuY29sdW1uPzE6MH0sdGhpcy5jb21wYXJlU3RhcnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuc3RhcnQucm93PT1yb3cmJnRoaXMuc3RhcnQuY29sdW1uPT1jb2x1bW4/LTE6dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pfSx0aGlzLmNvbXBhcmVFbmQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuZW5kLnJvdz09cm93JiZ0aGlzLmVuZC5jb2x1bW49PWNvbHVtbj8xOnRoaXMuY29tcGFyZShyb3csY29sdW1uKX0sdGhpcy5jb21wYXJlSW5zaWRlPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiB0aGlzLmVuZC5yb3c9PXJvdyYmdGhpcy5lbmQuY29sdW1uPT1jb2x1bW4/MTp0aGlzLnN0YXJ0LnJvdz09cm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09Y29sdW1uPy0xOnRoaXMuY29tcGFyZShyb3csY29sdW1uKX0sdGhpcy5jbGlwUm93cz1mdW5jdGlvbihmaXJzdFJvdyxsYXN0Um93KXtpZih0aGlzLmVuZC5yb3c+bGFzdFJvdyl2YXIgZW5kPXtyb3c6bGFzdFJvdysxLGNvbHVtbjowfTtlbHNlIGlmKGZpcnN0Um93PnRoaXMuZW5kLnJvdyl2YXIgZW5kPXtyb3c6Zmlyc3RSb3csY29sdW1uOjB9O2lmKHRoaXMuc3RhcnQucm93Pmxhc3RSb3cpdmFyIHN0YXJ0PXtyb3c6bGFzdFJvdysxLGNvbHVtbjowfTtlbHNlIGlmKGZpcnN0Um93PnRoaXMuc3RhcnQucm93KXZhciBzdGFydD17cm93OmZpcnN0Um93LGNvbHVtbjowfTtyZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyhzdGFydHx8dGhpcy5zdGFydCxlbmR8fHRoaXMuZW5kKX0sdGhpcy5leHRlbmQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7dmFyIGNtcD10aGlzLmNvbXBhcmUocm93LGNvbHVtbik7aWYoMD09Y21wKXJldHVybiB0aGlzO2lmKC0xPT1jbXApdmFyIHN0YXJ0PXtyb3c6cm93LGNvbHVtbjpjb2x1bW59O2Vsc2UgdmFyIGVuZD17cm93OnJvdyxjb2x1bW46Y29sdW1ufTtyZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyhzdGFydHx8dGhpcy5zdGFydCxlbmR8fHRoaXMuZW5kKX0sdGhpcy5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnQucm93PT09dGhpcy5lbmQucm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09PXRoaXMuZW5kLmNvbHVtbn0sdGhpcy5pc011bHRpTGluZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0LnJvdyE9PXRoaXMuZW5kLnJvd30sdGhpcy5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBSYW5nZS5mcm9tUG9pbnRzKHRoaXMuc3RhcnQsdGhpcy5lbmQpfSx0aGlzLmNvbGxhcHNlUm93cz1mdW5jdGlvbigpe3JldHVybiAwPT10aGlzLmVuZC5jb2x1bW4/bmV3IFJhbmdlKHRoaXMuc3RhcnQucm93LDAsTWF0aC5tYXgodGhpcy5zdGFydC5yb3csdGhpcy5lbmQucm93LTEpLDApOm5ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywwLHRoaXMuZW5kLnJvdywwKX0sdGhpcy50b1NjcmVlblJhbmdlPWZ1bmN0aW9uKHNlc3Npb24pe3ZhciBzY3JlZW5Qb3NTdGFydD1zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLnN0YXJ0KSxzY3JlZW5Qb3NFbmQ9c2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24odGhpcy5lbmQpO3JldHVybiBuZXcgUmFuZ2Uoc2NyZWVuUG9zU3RhcnQucm93LHNjcmVlblBvc1N0YXJ0LmNvbHVtbixzY3JlZW5Qb3NFbmQucm93LHNjcmVlblBvc0VuZC5jb2x1bW4pfSx0aGlzLm1vdmVCeT1mdW5jdGlvbihyb3csY29sdW1uKXt0aGlzLnN0YXJ0LnJvdys9cm93LHRoaXMuc3RhcnQuY29sdW1uKz1jb2x1bW4sdGhpcy5lbmQucm93Kz1yb3csdGhpcy5lbmQuY29sdW1uKz1jb2x1bW59fSkuY2FsbChSYW5nZS5wcm90b3R5cGUpLFJhbmdlLmZyb21Qb2ludHM9ZnVuY3Rpb24oc3RhcnQsZW5kKXtyZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LnJvdyxzdGFydC5jb2x1bW4sZW5kLnJvdyxlbmQuY29sdW1uKVxcbn0sUmFuZ2UuY29tcGFyZVBvaW50cz1jb21wYXJlUG9pbnRzLFJhbmdlLmNvbXBhcmVQb2ludHM9ZnVuY3Rpb24ocDEscDIpe3JldHVybiBwMS5yb3ctcDIucm93fHxwMS5jb2x1bW4tcDIuY29sdW1ufSxleHBvcnRzLlJhbmdlPVJhbmdlfSksYWNlLmRlZmluZShcXFwiYWNlL2FuY2hvclxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCIsXFxcImFjZS9saWIvb29wXFxcIixcXFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7dmFyIG9vcD1hY2VxdWlyZShcXFwiLi9saWIvb29wXFxcIiksRXZlbnRFbWl0dGVyPWFjZXF1aXJlKFxcXCIuL2xpYi9ldmVudF9lbWl0dGVyXFxcIikuRXZlbnRFbWl0dGVyLEFuY2hvcj1leHBvcnRzLkFuY2hvcj1mdW5jdGlvbihkb2Mscm93LGNvbHVtbil7dGhpcy5kb2N1bWVudD1kb2MsY29sdW1uPT09dm9pZCAwP3RoaXMuc2V0UG9zaXRpb24ocm93LnJvdyxyb3cuY29sdW1uKTp0aGlzLnNldFBvc2l0aW9uKHJvdyxjb2x1bW4pLHRoaXMuJG9uQ2hhbmdlPXRoaXMub25DaGFuZ2UuYmluZCh0aGlzKSxkb2Mub24oXFxcImNoYW5nZVxcXCIsdGhpcy4kb25DaGFuZ2UpfTsoZnVuY3Rpb24oKXtvb3AuaW1wbGVtZW50KHRoaXMsRXZlbnRFbWl0dGVyKSx0aGlzLmdldFBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQodGhpcy5yb3csdGhpcy5jb2x1bW4pfSx0aGlzLmdldERvY3VtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jdW1lbnR9LHRoaXMub25DaGFuZ2U9ZnVuY3Rpb24oZSl7dmFyIGRlbHRhPWUuZGF0YSxyYW5nZT1kZWx0YS5yYW5nZTtpZighKHJhbmdlLnN0YXJ0LnJvdz09cmFuZ2UuZW5kLnJvdyYmcmFuZ2Uuc3RhcnQucm93IT10aGlzLnJvd3x8cmFuZ2Uuc3RhcnQucm93PnRoaXMucm93fHxyYW5nZS5zdGFydC5yb3c9PXRoaXMucm93JiZyYW5nZS5zdGFydC5jb2x1bW4+dGhpcy5jb2x1bW4pKXt2YXIgcm93PXRoaXMucm93LGNvbHVtbj10aGlzLmNvbHVtbixzdGFydD1yYW5nZS5zdGFydCxlbmQ9cmFuZ2UuZW5kO1xcXCJpbnNlcnRUZXh0XFxcIj09PWRlbHRhLmFjdGlvbj9zdGFydC5yb3c9PT1yb3cmJmNvbHVtbj49c3RhcnQuY29sdW1uP3N0YXJ0LnJvdz09PWVuZC5yb3c/Y29sdW1uKz1lbmQuY29sdW1uLXN0YXJ0LmNvbHVtbjooY29sdW1uLT1zdGFydC5jb2x1bW4scm93Kz1lbmQucm93LXN0YXJ0LnJvdyk6c3RhcnQucm93IT09ZW5kLnJvdyYmcm93PnN0YXJ0LnJvdyYmKHJvdys9ZW5kLnJvdy1zdGFydC5yb3cpOlxcXCJpbnNlcnRMaW5lc1xcXCI9PT1kZWx0YS5hY3Rpb24/cm93Pj1zdGFydC5yb3cmJihyb3crPWVuZC5yb3ctc3RhcnQucm93KTpcXFwicmVtb3ZlVGV4dFxcXCI9PT1kZWx0YS5hY3Rpb24/c3RhcnQucm93PT09cm93JiZjb2x1bW4+c3RhcnQuY29sdW1uP2NvbHVtbj1lbmQuY29sdW1uPj1jb2x1bW4/c3RhcnQuY29sdW1uOk1hdGgubWF4KDAsY29sdW1uLShlbmQuY29sdW1uLXN0YXJ0LmNvbHVtbikpOnN0YXJ0LnJvdyE9PWVuZC5yb3cmJnJvdz5zdGFydC5yb3c/KGVuZC5yb3c9PT1yb3cmJihjb2x1bW49TWF0aC5tYXgoMCxjb2x1bW4tZW5kLmNvbHVtbikrc3RhcnQuY29sdW1uKSxyb3ctPWVuZC5yb3ctc3RhcnQucm93KTplbmQucm93PT09cm93JiYocm93LT1lbmQucm93LXN0YXJ0LnJvdyxjb2x1bW49TWF0aC5tYXgoMCxjb2x1bW4tZW5kLmNvbHVtbikrc3RhcnQuY29sdW1uKTpcXFwicmVtb3ZlTGluZXNcXFwiPT1kZWx0YS5hY3Rpb24mJnJvdz49c3RhcnQucm93JiYocm93Pj1lbmQucm93P3Jvdy09ZW5kLnJvdy1zdGFydC5yb3c6KHJvdz1zdGFydC5yb3csY29sdW1uPTApKSx0aGlzLnNldFBvc2l0aW9uKHJvdyxjb2x1bW4sITApfX0sdGhpcy5zZXRQb3NpdGlvbj1mdW5jdGlvbihyb3csY29sdW1uLG5vQ2xpcCl7dmFyIHBvcztpZihwb3M9bm9DbGlwP3tyb3c6cm93LGNvbHVtbjpjb2x1bW59OnRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQocm93LGNvbHVtbiksdGhpcy5yb3chPXBvcy5yb3d8fHRoaXMuY29sdW1uIT1wb3MuY29sdW1uKXt2YXIgb2xkPXtyb3c6dGhpcy5yb3csY29sdW1uOnRoaXMuY29sdW1ufTt0aGlzLnJvdz1wb3Mucm93LHRoaXMuY29sdW1uPXBvcy5jb2x1bW4sdGhpcy5fZW1pdChcXFwiY2hhbmdlXFxcIix7b2xkOm9sZCx2YWx1ZTpwb3N9KX19LHRoaXMuZGV0YWNoPWZ1bmN0aW9uKCl7dGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJjaGFuZ2VcXFwiLHRoaXMuJG9uQ2hhbmdlKX0sdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudD1mdW5jdGlvbihyb3csY29sdW1uKXt2YXIgcG9zPXt9O3JldHVybiByb3c+PXRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCk/KHBvcy5yb3c9TWF0aC5tYXgoMCx0aGlzLmRvY3VtZW50LmdldExlbmd0aCgpLTEpLHBvcy5jb2x1bW49dGhpcy5kb2N1bWVudC5nZXRMaW5lKHBvcy5yb3cpLmxlbmd0aCk6MD5yb3c/KHBvcy5yb3c9MCxwb3MuY29sdW1uPTApOihwb3Mucm93PXJvdyxwb3MuY29sdW1uPU1hdGgubWluKHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgsTWF0aC5tYXgoMCxjb2x1bW4pKSksMD5jb2x1bW4mJihwb3MuY29sdW1uPTApLHBvc319KS5jYWxsKEFuY2hvci5wcm90b3R5cGUpfSksYWNlLmRlZmluZShcXFwiYWNlL2xpYi9sYW5nXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7ZXhwb3J0cy5zdHJpbmdSZXZlcnNlPWZ1bmN0aW9uKHN0cmluZyl7cmV0dXJuIHN0cmluZy5zcGxpdChcXFwiXFxcIikucmV2ZXJzZSgpLmpvaW4oXFxcIlxcXCIpfSxleHBvcnRzLnN0cmluZ1JlcGVhdD1mdW5jdGlvbihzdHJpbmcsY291bnQpe2Zvcih2YXIgcmVzdWx0PVxcXCJcXFwiO2NvdW50PjA7KTEmY291bnQmJihyZXN1bHQrPXN0cmluZyksKGNvdW50Pj49MSkmJihzdHJpbmcrPXN0cmluZyk7cmV0dXJuIHJlc3VsdH07dmFyIHRyaW1CZWdpblJlZ2V4cD0vXlxcXFxzXFxcXHMqLyx0cmltRW5kUmVnZXhwPS9cXFxcc1xcXFxzKiQvO2V4cG9ydHMuc3RyaW5nVHJpbUxlZnQ9ZnVuY3Rpb24oc3RyaW5nKXtyZXR1cm4gc3RyaW5nLnJlcGxhY2UodHJpbUJlZ2luUmVnZXhwLFxcXCJcXFwiKX0sZXhwb3J0cy5zdHJpbmdUcmltUmlnaHQ9ZnVuY3Rpb24oc3RyaW5nKXtyZXR1cm4gc3RyaW5nLnJlcGxhY2UodHJpbUVuZFJlZ2V4cCxcXFwiXFxcIil9LGV4cG9ydHMuY29weU9iamVjdD1mdW5jdGlvbihvYmope3ZhciBjb3B5PXt9O2Zvcih2YXIga2V5IGluIG9iailjb3B5W2tleV09b2JqW2tleV07cmV0dXJuIGNvcHl9LGV4cG9ydHMuY29weUFycmF5PWZ1bmN0aW9uKGFycmF5KXtmb3IodmFyIGNvcHk9W10saT0wLGw9YXJyYXkubGVuZ3RoO2w+aTtpKyspY29weVtpXT1hcnJheVtpXSYmXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBhcnJheVtpXT90aGlzLmNvcHlPYmplY3QoYXJyYXlbaV0pOmFycmF5W2ldO3JldHVybiBjb3B5fSxleHBvcnRzLmRlZXBDb3B5PWZ1bmN0aW9uKG9iail7aWYoXFxcIm9iamVjdFxcXCIhPXR5cGVvZiBvYmopcmV0dXJuIG9iajt2YXIgY29weT1vYmouY29uc3RydWN0b3IoKTtmb3IodmFyIGtleSBpbiBvYmopY29weVtrZXldPVxcXCJvYmplY3RcXFwiPT10eXBlb2Ygb2JqW2tleV0/dGhpcy5kZWVwQ29weShvYmpba2V5XSk6b2JqW2tleV07cmV0dXJuIGNvcHl9LGV4cG9ydHMuYXJyYXlUb01hcD1mdW5jdGlvbihhcnIpe2Zvcih2YXIgbWFwPXt9LGk9MDthcnIubGVuZ3RoPmk7aSsrKW1hcFthcnJbaV1dPTE7cmV0dXJuIG1hcH0sZXhwb3J0cy5jcmVhdGVNYXA9ZnVuY3Rpb24ocHJvcHMpe3ZhciBtYXA9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IodmFyIGkgaW4gcHJvcHMpbWFwW2ldPXByb3BzW2ldO3JldHVybiBtYXB9LGV4cG9ydHMuYXJyYXlSZW1vdmU9ZnVuY3Rpb24oYXJyYXksdmFsdWUpe2Zvcih2YXIgaT0wO2FycmF5Lmxlbmd0aD49aTtpKyspdmFsdWU9PT1hcnJheVtpXSYmYXJyYXkuc3BsaWNlKGksMSl9LGV4cG9ydHMuZXNjYXBlUmVnRXhwPWZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0ci5yZXBsYWNlKC8oWy4qKz9eJHt9KCl8W1xcXFxdXFxcXC9cXFxcXFxcXF0pL2csXFxcIlxcXFxcXFxcJDFcXFwiKX0sZXhwb3J0cy5lc2NhcGVIVE1MPWZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0ci5yZXBsYWNlKC8mL2csXFxcIiYjMzg7XFxcIikucmVwbGFjZSgvXFxcIi9nLFxcXCImIzM0O1xcXCIpLnJlcGxhY2UoLycvZyxcXFwiJiMzOTtcXFwiKS5yZXBsYWNlKC88L2csXFxcIiYjNjA7XFxcIil9LGV4cG9ydHMuZ2V0TWF0Y2hPZmZzZXRzPWZ1bmN0aW9uKHN0cmluZyxyZWdFeHApe3ZhciBtYXRjaGVzPVtdO3JldHVybiBzdHJpbmcucmVwbGFjZShyZWdFeHAsZnVuY3Rpb24oc3RyKXttYXRjaGVzLnB1c2goe29mZnNldDphcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aC0yXSxsZW5ndGg6c3RyLmxlbmd0aH0pfSksbWF0Y2hlc30sZXhwb3J0cy5kZWZlcnJlZENhbGw9ZnVuY3Rpb24oZmNuKXt2YXIgdGltZXI9bnVsbCxjYWxsYmFjaz1mdW5jdGlvbigpe3RpbWVyPW51bGwsZmNuKCl9LGRlZmVycmVkPWZ1bmN0aW9uKHRpbWVvdXQpe3JldHVybiBkZWZlcnJlZC5jYW5jZWwoKSx0aW1lcj1zZXRUaW1lb3V0KGNhbGxiYWNrLHRpbWVvdXR8fDApLGRlZmVycmVkfTtyZXR1cm4gZGVmZXJyZWQuc2NoZWR1bGU9ZGVmZXJyZWQsZGVmZXJyZWQuY2FsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbmNlbCgpLGZjbigpLGRlZmVycmVkfSxkZWZlcnJlZC5jYW5jZWw9ZnVuY3Rpb24oKXtyZXR1cm4gY2xlYXJUaW1lb3V0KHRpbWVyKSx0aW1lcj1udWxsLGRlZmVycmVkfSxkZWZlcnJlZH0sZXhwb3J0cy5kZWxheWVkQ2FsbD1mdW5jdGlvbihmY24sZGVmYXVsdFRpbWVvdXQpe3ZhciB0aW1lcj1udWxsLGNhbGxiYWNrPWZ1bmN0aW9uKCl7dGltZXI9bnVsbCxmY24oKX0sX3NlbGY9ZnVuY3Rpb24odGltZW91dCl7dGltZXImJmNsZWFyVGltZW91dCh0aW1lciksdGltZXI9c2V0VGltZW91dChjYWxsYmFjayx0aW1lb3V0fHxkZWZhdWx0VGltZW91dCl9O3JldHVybiBfc2VsZi5kZWxheT1fc2VsZixfc2VsZi5zY2hlZHVsZT1mdW5jdGlvbih0aW1lb3V0KXtudWxsPT10aW1lciYmKHRpbWVyPXNldFRpbWVvdXQoY2FsbGJhY2ssdGltZW91dHx8MCkpfSxfc2VsZi5jYWxsPWZ1bmN0aW9uKCl7dGhpcy5jYW5jZWwoKSxmY24oKX0sX3NlbGYuY2FuY2VsPWZ1bmN0aW9uKCl7dGltZXImJmNsZWFyVGltZW91dCh0aW1lciksdGltZXI9bnVsbH0sX3NlbGYuaXNQZW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRpbWVyfSxfc2VsZn19KSxhY2UuZGVmaW5lKFxcXCJhY2UvbW9kZS9jb2ZmZWUvY29mZmVlLXNjcmlwdFxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCIsXFxcImFjZS9tb2RlL2NvZmZlZS9sZXhlclxcXCIsXFxcImFjZS9tb2RlL2NvZmZlZS9wYXJzZXJcXFwiLFxcXCJhY2UvbW9kZS9jb2ZmZWUvbm9kZXNcXFwiXSxmdW5jdGlvbihhY2VxdWlyZSxleHBvcnRzKXt2YXIgTGV4ZXI9YWNlcXVpcmUoXFxcIi4vbGV4ZXJcXFwiKS5MZXhlcixwYXJzZXI9YWNlcXVpcmUoXFxcIi4vcGFyc2VyXFxcIiksbGV4ZXI9bmV3IExleGVyO3BhcnNlci5sZXhlcj17bGV4OmZ1bmN0aW9uKCl7dmFyIHRhZyx0b2tlbjtyZXR1cm4gdG9rZW49dGhpcy50b2tlbnNbdGhpcy5wb3MrK10sdG9rZW4/KHRhZz10b2tlblswXSx0aGlzLnl5dGV4dD10b2tlblsxXSx0aGlzLnl5bGxvYz10b2tlblsyXSx0aGlzLnl5bGluZW5vPXRoaXMueXlsbG9jLmZpcnN0X2xpbmUpOnRhZz1cXFwiXFxcIix0YWd9LHNldElucHV0OmZ1bmN0aW9uKHRva2Vucyl7cmV0dXJuIHRoaXMudG9rZW5zPXRva2Vucyx0aGlzLnBvcz0wfSx1cGNvbWluZ0lucHV0OmZ1bmN0aW9uKCl7cmV0dXJuXFxcIlxcXCJ9fSxwYXJzZXIueXk9YWNlcXVpcmUoXFxcIi4vbm9kZXNcXFwiKSxleHBvcnRzLnBhcnNlPWZ1bmN0aW9uKGNvZGUpe3JldHVybiBwYXJzZXIucGFyc2UobGV4ZXIudG9rZW5pemUoY29kZSkpfX0pLGFjZS5kZWZpbmUoXFxcImFjZS9tb2RlL2NvZmZlZS9sZXhlclxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCIsXFxcImFjZS9tb2RlL2NvZmZlZS9yZXdyaXRlclxcXCIsXFxcImFjZS9tb2RlL2NvZmZlZS9oZWxwZXJzXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7dmFyIEJPTSxCT09MLENBTExBQkxFLENPREUsQ09GRkVFX0FMSUFTRVMsQ09GRkVFX0FMSUFTX01BUCxDT0ZGRUVfS0VZV09SRFMsQ09NTUVOVCxDT01QQVJFLENPTVBPVU5EX0FTU0lHTixIRVJFRE9DLEhFUkVET0NfSUxMRUdBTCxIRVJFRE9DX0lOREVOVCxIRVJFR0VYLEhFUkVHRVhfT01JVCxJREVOVElGSUVSLElOREVYQUJMRSxJTlZFUlNFUyxKU1RPS0VOLEpTX0ZPUkJJRERFTixKU19LRVlXT1JEUyxMSU5FX0JSRUFLLExJTkVfQ09OVElOVUVSLExPR0lDLExleGVyLE1BVEgsTVVMVElMSU5FUixNVUxUSV9ERU5ULE5PVF9SRUdFWCxOT1RfU1BBQ0VEX1JFR0VYLE5VTUJFUixPUEVSQVRPUixSRUdFWCxSRUxBVElPTixSRVNFUlZFRCxSZXdyaXRlcixTSElGVCxTSU1QTEVTVFIsU1RSSUNUX1BST1NDUklCRUQsVFJBSUxJTkdfU1BBQ0VTLFVOQVJZLFdISVRFU1BBQ0UsY29tcGFjdCxjb3VudCxpbnZlcnRMaXRlcmF0ZSxrZXksbGFzdCxsb2NhdGlvbkRhdGFUb1N0cmluZyxzdGFydHMsdGhyb3dTeW50YXhFcnJvcixfcmVmLF9yZWYxLF9faW5kZXhPZj1bXS5pbmRleE9mfHxmdW5jdGlvbihpdGVtKXtmb3IodmFyIGk9MCxsPXRoaXMubGVuZ3RoO2w+aTtpKyspaWYoaSBpbiB0aGlzJiZ0aGlzW2ldPT09aXRlbSlyZXR1cm4gaTtyZXR1cm4tMX07X3JlZj1hY2VxdWlyZShcXFwiLi9yZXdyaXRlclxcXCIpLFJld3JpdGVyPV9yZWYuUmV3cml0ZXIsSU5WRVJTRVM9X3JlZi5JTlZFUlNFUyxfcmVmMT1hY2VxdWlyZShcXFwiLi9oZWxwZXJzXFxcIiksY291bnQ9X3JlZjEuY291bnQsc3RhcnRzPV9yZWYxLnN0YXJ0cyxjb21wYWN0PV9yZWYxLmNvbXBhY3QsbGFzdD1fcmVmMS5sYXN0LGludmVydExpdGVyYXRlPV9yZWYxLmludmVydExpdGVyYXRlLGxvY2F0aW9uRGF0YVRvU3RyaW5nPV9yZWYxLmxvY2F0aW9uRGF0YVRvU3RyaW5nLHRocm93U3ludGF4RXJyb3I9X3JlZjEudGhyb3dTeW50YXhFcnJvcixleHBvcnRzLkxleGVyPUxleGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTGV4ZXIoKXt9cmV0dXJuIExleGVyLnByb3RvdHlwZS50b2tlbml6ZT1mdW5jdGlvbihjb2RlLG9wdHMpe3ZhciBjb25zdW1lZCxpLHRhZyxfcmVmMjtmb3IobnVsbD09b3B0cyYmKG9wdHM9e30pLHRoaXMubGl0ZXJhdGU9b3B0cy5saXRlcmF0ZSx0aGlzLmluZGVudD0wLHRoaXMuaW5kZWJ0PTAsdGhpcy5vdXRkZWJ0PTAsdGhpcy5pbmRlbnRzPVtdLHRoaXMuZW5kcz1bXSx0aGlzLnRva2Vucz1bXSx0aGlzLmNodW5rTGluZT1vcHRzLmxpbmV8fDAsdGhpcy5jaHVua0NvbHVtbj1vcHRzLmNvbHVtbnx8MCxjb2RlPXRoaXMuY2xlYW4oY29kZSksaT0wO3RoaXMuY2h1bms9Y29kZS5zbGljZShpKTspY29uc3VtZWQ9dGhpcy5pZGVudGlmaWVyVG9rZW4oKXx8dGhpcy5jb21tZW50VG9rZW4oKXx8dGhpcy53aGl0ZXNwYWNlVG9rZW4oKXx8dGhpcy5saW5lVG9rZW4oKXx8dGhpcy5oZXJlZG9jVG9rZW4oKXx8dGhpcy5zdHJpbmdUb2tlbigpfHx0aGlzLm51bWJlclRva2VuKCl8fHRoaXMucmVnZXhUb2tlbigpfHx0aGlzLmpzVG9rZW4oKXx8dGhpcy5saXRlcmFsVG9rZW4oKSxfcmVmMj10aGlzLmdldExpbmVBbmRDb2x1bW5Gcm9tQ2h1bmsoY29uc3VtZWQpLHRoaXMuY2h1bmtMaW5lPV9yZWYyWzBdLHRoaXMuY2h1bmtDb2x1bW49X3JlZjJbMV0saSs9Y29uc3VtZWQ7cmV0dXJuIHRoaXMuY2xvc2VJbmRlbnRhdGlvbigpLCh0YWc9dGhpcy5lbmRzLnBvcCgpKSYmdGhpcy5lcnJvcihcXFwibWlzc2luZyBcXFwiK3RhZyksb3B0cy5yZXdyaXRlPT09ITE/dGhpcy50b2tlbnM6KG5ldyBSZXdyaXRlcikucmV3cml0ZSh0aGlzLnRva2Vucyl9LExleGVyLnByb3RvdHlwZS5jbGVhbj1mdW5jdGlvbihjb2RlKXtyZXR1cm4gY29kZS5jaGFyQ29kZUF0KDApPT09Qk9NJiYoY29kZT1jb2RlLnNsaWNlKDEpKSxjb2RlPWNvZGUucmVwbGFjZSgvXFxcXHIvZyxcXFwiXFxcIikucmVwbGFjZShUUkFJTElOR19TUEFDRVMsXFxcIlxcXCIpLFdISVRFU1BBQ0UudGVzdChjb2RlKSYmKGNvZGU9XFxcIlxcXFxuXFxcIitjb2RlLHRoaXMuY2h1bmtMaW5lLS0pLHRoaXMubGl0ZXJhdGUmJihjb2RlPWludmVydExpdGVyYXRlKGNvZGUpKSxjb2RlfSxMZXhlci5wcm90b3R5cGUuaWRlbnRpZmllclRva2VuPWZ1bmN0aW9uKCl7dmFyIGNvbG9uLGNvbG9uT2Zmc2V0LGZvcmNlZElkZW50aWZpZXIsaWQsaWRMZW5ndGgsaW5wdXQsbWF0Y2gscG9wcGVkVG9rZW4scHJldix0YWcsdGFnVG9rZW4sX3JlZjIsX3JlZjMsX3JlZjQ7cmV0dXJuKG1hdGNoPUlERU5USUZJRVIuZXhlYyh0aGlzLmNodW5rKSk/KGlucHV0PW1hdGNoWzBdLGlkPW1hdGNoWzFdLGNvbG9uPW1hdGNoWzJdLGlkTGVuZ3RoPWlkLmxlbmd0aCxwb3BwZWRUb2tlbj12b2lkIDAsXFxcIm93blxcXCI9PT1pZCYmXFxcIkZPUlxcXCI9PT10aGlzLnRhZygpPyh0aGlzLnRva2VuKFxcXCJPV05cXFwiLGlkKSxpZC5sZW5ndGgpOihmb3JjZWRJZGVudGlmaWVyPWNvbG9ufHwocHJldj1sYXN0KHRoaXMudG9rZW5zKSkmJihcXFwiLlxcXCI9PT0oX3JlZjI9cHJldlswXSl8fFxcXCI/LlxcXCI9PT1fcmVmMnx8XFxcIjo6XFxcIj09PV9yZWYyfHxcXFwiPzo6XFxcIj09PV9yZWYyfHwhcHJldi5zcGFjZWQmJlxcXCJAXFxcIj09PXByZXZbMF0pLHRhZz1cXFwiSURFTlRJRklFUlxcXCIsIWZvcmNlZElkZW50aWZpZXImJihfX2luZGV4T2YuY2FsbChKU19LRVlXT1JEUyxpZCk+PTB8fF9faW5kZXhPZi5jYWxsKENPRkZFRV9LRVlXT1JEUyxpZCk+PTApJiYodGFnPWlkLnRvVXBwZXJDYXNlKCksXFxcIldIRU5cXFwiPT09dGFnJiYoX3JlZjM9dGhpcy50YWcoKSxfX2luZGV4T2YuY2FsbChMSU5FX0JSRUFLLF9yZWYzKT49MCk/dGFnPVxcXCJMRUFESU5HX1dIRU5cXFwiOlxcXCJGT1JcXFwiPT09dGFnP3RoaXMuc2VlbkZvcj0hMDpcXFwiVU5MRVNTXFxcIj09PXRhZz90YWc9XFxcIklGXFxcIjpfX2luZGV4T2YuY2FsbChVTkFSWSx0YWcpPj0wP3RhZz1cXFwiVU5BUllcXFwiOl9faW5kZXhPZi5jYWxsKFJFTEFUSU9OLHRhZyk+PTAmJihcXFwiSU5TVEFOQ0VPRlxcXCIhPT10YWcmJnRoaXMuc2VlbkZvcj8odGFnPVxcXCJGT1JcXFwiK3RhZyx0aGlzLnNlZW5Gb3I9ITEpOih0YWc9XFxcIlJFTEFUSU9OXFxcIixcXFwiIVxcXCI9PT10aGlzLnZhbHVlKCkmJihwb3BwZWRUb2tlbj10aGlzLnRva2Vucy5wb3AoKSxpZD1cXFwiIVxcXCIraWQpKSkpLF9faW5kZXhPZi5jYWxsKEpTX0ZPUkJJRERFTixpZCk+PTAmJihmb3JjZWRJZGVudGlmaWVyPyh0YWc9XFxcIklERU5USUZJRVJcXFwiLGlkPW5ldyBTdHJpbmcoaWQpLGlkLnJlc2VydmVkPSEwKTpfX2luZGV4T2YuY2FsbChSRVNFUlZFRCxpZCk+PTAmJnRoaXMuZXJyb3IoJ3Jlc2VydmVkIHdvcmQgXFxcIicraWQrJ1xcXCInKSksZm9yY2VkSWRlbnRpZmllcnx8KF9faW5kZXhPZi5jYWxsKENPRkZFRV9BTElBU0VTLGlkKT49MCYmKGlkPUNPRkZFRV9BTElBU19NQVBbaWRdKSx0YWc9ZnVuY3Rpb24oKXtzd2l0Y2goaWQpe2Nhc2VcXFwiIVxcXCI6cmV0dXJuXFxcIlVOQVJZXFxcIjtjYXNlXFxcIj09XFxcIjpjYXNlXFxcIiE9XFxcIjpyZXR1cm5cXFwiQ09NUEFSRVxcXCI7Y2FzZVxcXCImJlxcXCI6Y2FzZVxcXCJ8fFxcXCI6cmV0dXJuXFxcIkxPR0lDXFxcIjtjYXNlXFxcInRydWVcXFwiOmNhc2VcXFwiZmFsc2VcXFwiOnJldHVyblxcXCJCT09MXFxcIjtjYXNlXFxcImJyZWFrXFxcIjpjYXNlXFxcImNvbnRpbnVlXFxcIjpyZXR1cm5cXFwiU1RBVEVNRU5UXFxcIjtkZWZhdWx0OnJldHVybiB0YWd9fSgpKSx0YWdUb2tlbj10aGlzLnRva2VuKHRhZyxpZCwwLGlkTGVuZ3RoKSxwb3BwZWRUb2tlbiYmKF9yZWY0PVtwb3BwZWRUb2tlblsyXS5maXJzdF9saW5lLHBvcHBlZFRva2VuWzJdLmZpcnN0X2NvbHVtbl0sdGFnVG9rZW5bMl0uZmlyc3RfbGluZT1fcmVmNFswXSx0YWdUb2tlblsyXS5maXJzdF9jb2x1bW49X3JlZjRbMV0pLGNvbG9uJiYoY29sb25PZmZzZXQ9aW5wdXQubGFzdEluZGV4T2YoXFxcIjpcXFwiKSx0aGlzLnRva2VuKFxcXCI6XFxcIixcXFwiOlxcXCIsY29sb25PZmZzZXQsY29sb24ubGVuZ3RoKSksaW5wdXQubGVuZ3RoKSk6MH0sTGV4ZXIucHJvdG90eXBlLm51bWJlclRva2VuPWZ1bmN0aW9uKCl7dmFyIGJpbmFyeUxpdGVyYWwsbGV4ZWRMZW5ndGgsbWF0Y2gsbnVtYmVyLG9jdGFsTGl0ZXJhbDtyZXR1cm4obWF0Y2g9TlVNQkVSLmV4ZWModGhpcy5jaHVuaykpPyhudW1iZXI9bWF0Y2hbMF0sL14wW0JPWF0vLnRlc3QobnVtYmVyKT90aGlzLmVycm9yKFxcXCJyYWRpeCBwcmVmaXggJ1xcXCIrbnVtYmVyK1xcXCInIG11c3QgYmUgbG93ZXJjYXNlXFxcIik6L0UvLnRlc3QobnVtYmVyKSYmIS9eMHgvLnRlc3QobnVtYmVyKT90aGlzLmVycm9yKFxcXCJleHBvbmVudGlhbCBub3RhdGlvbiAnXFxcIitudW1iZXIrXFxcIicgbXVzdCBiZSBpbmRpY2F0ZWQgd2l0aCBhIGxvd2VyY2FzZSAnZSdcXFwiKTovXjBcXFxcZCpbODldLy50ZXN0KG51bWJlcik/dGhpcy5lcnJvcihcXFwiZGVjaW1hbCBsaXRlcmFsICdcXFwiK251bWJlcitcXFwiJyBtdXN0IG5vdCBiZSBwcmVmaXhlZCB3aXRoICcwJ1xcXCIpOi9eMFxcXFxkKy8udGVzdChudW1iZXIpJiZ0aGlzLmVycm9yKFxcXCJvY3RhbCBsaXRlcmFsICdcXFwiK251bWJlcitcXFwiJyBtdXN0IGJlIHByZWZpeGVkIHdpdGggJzBvJ1xcXCIpLGxleGVkTGVuZ3RoPW51bWJlci5sZW5ndGgsKG9jdGFsTGl0ZXJhbD0vXjBvKFswLTddKykvLmV4ZWMobnVtYmVyKSkmJihudW1iZXI9XFxcIjB4XFxcIitwYXJzZUludChvY3RhbExpdGVyYWxbMV0sOCkudG9TdHJpbmcoMTYpKSwoYmluYXJ5TGl0ZXJhbD0vXjBiKFswMV0rKS8uZXhlYyhudW1iZXIpKSYmKG51bWJlcj1cXFwiMHhcXFwiK3BhcnNlSW50KGJpbmFyeUxpdGVyYWxbMV0sMikudG9TdHJpbmcoMTYpKSx0aGlzLnRva2VuKFxcXCJOVU1CRVJcXFwiLG51bWJlciwwLGxleGVkTGVuZ3RoKSxsZXhlZExlbmd0aCk6MH0sTGV4ZXIucHJvdG90eXBlLnN0cmluZ1Rva2VuPWZ1bmN0aW9uKCl7dmFyIG1hdGNoLG9jdGFsRXNjLHN0cmluZztzd2l0Y2godGhpcy5jaHVuay5jaGFyQXQoMCkpe2Nhc2VcXFwiJ1xcXCI6aWYoIShtYXRjaD1TSU1QTEVTVFIuZXhlYyh0aGlzLmNodW5rKSkpcmV0dXJuIDA7c3RyaW5nPW1hdGNoWzBdLHRoaXMudG9rZW4oXFxcIlNUUklOR1xcXCIsc3RyaW5nLnJlcGxhY2UoTVVMVElMSU5FUixcXFwiXFxcXFxcXFxcXFxcblxcXCIpLDAsc3RyaW5nLmxlbmd0aCk7YnJlYWs7Y2FzZSdcXFwiJzppZighKHN0cmluZz10aGlzLmJhbGFuY2VkU3RyaW5nKHRoaXMuY2h1bmssJ1xcXCInKSkpcmV0dXJuIDA7c3RyaW5nLmluZGV4T2YoXFxcIiN7XFxcIiwxKT4wP3RoaXMuaW50ZXJwb2xhdGVTdHJpbmcoc3RyaW5nLnNsaWNlKDEsLTEpLHtzdHJPZmZzZXQ6MSxsZXhlZExlbmd0aDpzdHJpbmcubGVuZ3RofSk6dGhpcy50b2tlbihcXFwiU1RSSU5HXFxcIix0aGlzLmVzY2FwZUxpbmVzKHN0cmluZywwLHN0cmluZy5sZW5ndGgpKTticmVhaztkZWZhdWx0OnJldHVybiAwfXJldHVybihvY3RhbEVzYz0vXig/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXSkqXFxcXFxcXFwoPzowWzAtN118WzEtN10pLy50ZXN0KHN0cmluZykpJiZ0aGlzLmVycm9yKFxcXCJvY3RhbCBlc2NhcGUgc2VxdWVuY2VzIFxcXCIrc3RyaW5nK1xcXCIgYXJlIG5vdCBhbGxvd2VkXFxcIiksc3RyaW5nLmxlbmd0aH0sTGV4ZXIucHJvdG90eXBlLmhlcmVkb2NUb2tlbj1mdW5jdGlvbigpe3ZhciBkb2MsaGVyZWRvYyxtYXRjaCxxdW90ZTtyZXR1cm4obWF0Y2g9SEVSRURPQy5leGVjKHRoaXMuY2h1bmspKT8oaGVyZWRvYz1tYXRjaFswXSxxdW90ZT1oZXJlZG9jLmNoYXJBdCgwKSxkb2M9dGhpcy5zYW5pdGl6ZUhlcmVkb2MobWF0Y2hbMl0se3F1b3RlOnF1b3RlLGluZGVudDpudWxsfSksJ1xcXCInPT09cXVvdGUmJmRvYy5pbmRleE9mKFxcXCIje1xcXCIpPj0wP3RoaXMuaW50ZXJwb2xhdGVTdHJpbmcoZG9jLHtoZXJlZG9jOiEwLHN0ck9mZnNldDozLGxleGVkTGVuZ3RoOmhlcmVkb2MubGVuZ3RofSk6dGhpcy50b2tlbihcXFwiU1RSSU5HXFxcIix0aGlzLm1ha2VTdHJpbmcoZG9jLHF1b3RlLCEwKSwwLGhlcmVkb2MubGVuZ3RoKSxoZXJlZG9jLmxlbmd0aCk6MH0sTGV4ZXIucHJvdG90eXBlLmNvbW1lbnRUb2tlbj1mdW5jdGlvbigpe3ZhciBjb21tZW50LGhlcmUsbWF0Y2g7cmV0dXJuKG1hdGNoPXRoaXMuY2h1bmsubWF0Y2goQ09NTUVOVCkpPyhjb21tZW50PW1hdGNoWzBdLGhlcmU9bWF0Y2hbMV0saGVyZSYmdGhpcy50b2tlbihcXFwiSEVSRUNPTU1FTlRcXFwiLHRoaXMuc2FuaXRpemVIZXJlZG9jKGhlcmUse2hlcmVjb21tZW50OiEwLGluZGVudDpBcnJheSh0aGlzLmluZGVudCsxKS5qb2luKFxcXCIgXFxcIil9KSwwLGNvbW1lbnQubGVuZ3RoKSxjb21tZW50Lmxlbmd0aCk6MH0sTGV4ZXIucHJvdG90eXBlLmpzVG9rZW49ZnVuY3Rpb24oKXt2YXIgbWF0Y2gsc2NyaXB0O3JldHVyblxcXCJgXFxcIj09PXRoaXMuY2h1bmsuY2hhckF0KDApJiYobWF0Y2g9SlNUT0tFTi5leGVjKHRoaXMuY2h1bmspKT8odGhpcy50b2tlbihcXFwiSlNcXFwiLChzY3JpcHQ9bWF0Y2hbMF0pLnNsaWNlKDEsLTEpLDAsc2NyaXB0Lmxlbmd0aCksc2NyaXB0Lmxlbmd0aCk6MH0sTGV4ZXIucHJvdG90eXBlLnJlZ2V4VG9rZW49ZnVuY3Rpb24oKXt2YXIgZmxhZ3MsbGVuZ3RoLG1hdGNoLHByZXYscmVnZXgsX3JlZjIsX3JlZjM7cmV0dXJuXFxcIi9cXFwiIT09dGhpcy5jaHVuay5jaGFyQXQoMCk/MDoobWF0Y2g9SEVSRUdFWC5leGVjKHRoaXMuY2h1bmspKT9sZW5ndGg9dGhpcy5oZXJlZ2V4VG9rZW4obWF0Y2gpOihwcmV2PWxhc3QodGhpcy50b2tlbnMpLHByZXYmJihfcmVmMj1wcmV2WzBdLF9faW5kZXhPZi5jYWxsKHByZXYuc3BhY2VkP05PVF9SRUdFWDpOT1RfU1BBQ0VEX1JFR0VYLF9yZWYyKT49MCk/MDoobWF0Y2g9UkVHRVguZXhlYyh0aGlzLmNodW5rKSk/KF9yZWYzPW1hdGNoLG1hdGNoPV9yZWYzWzBdLHJlZ2V4PV9yZWYzWzFdLGZsYWdzPV9yZWYzWzJdLFxcXCIvKlxcXCI9PT1yZWdleC5zbGljZSgwLDIpJiZ0aGlzLmVycm9yKFxcXCJyZWd1bGFyIGV4cHJlc3Npb25zIGNhbm5vdCBiZWdpbiB3aXRoIGAqYFxcXCIpLFxcXCIvL1xcXCI9PT1yZWdleCYmKHJlZ2V4PVxcXCIvKD86KS9cXFwiKSx0aGlzLnRva2VuKFxcXCJSRUdFWFxcXCIsXFxcIlxcXCIrcmVnZXgrZmxhZ3MsMCxtYXRjaC5sZW5ndGgpLG1hdGNoLmxlbmd0aCk6MCl9LExleGVyLnByb3RvdHlwZS5oZXJlZ2V4VG9rZW49ZnVuY3Rpb24obWF0Y2gpe3ZhciBib2R5LGZsYWdzLGZsYWdzT2Zmc2V0LGhlcmVnZXgscGx1c1Rva2VuLHByZXYscmUsdGFnLHRva2VuLHRva2Vucyx2YWx1ZSxfaSxfbGVuLF9yZWYyLF9yZWYzLF9yZWY0O2lmKGhlcmVnZXg9bWF0Y2hbMF0sYm9keT1tYXRjaFsxXSxmbGFncz1tYXRjaFsyXSwwPmJvZHkuaW5kZXhPZihcXFwiI3tcXFwiKSlyZXR1cm4gcmU9Ym9keS5yZXBsYWNlKEhFUkVHRVhfT01JVCxcXFwiXFxcIikucmVwbGFjZSgvXFxcXC8vZyxcXFwiXFxcXFxcXFwvXFxcIikscmUubWF0Y2goL15cXFxcKi8pJiZ0aGlzLmVycm9yKFxcXCJyZWd1bGFyIGV4cHJlc3Npb25zIGNhbm5vdCBiZWdpbiB3aXRoIGAqYFxcXCIpLHRoaXMudG9rZW4oXFxcIlJFR0VYXFxcIixcXFwiL1xcXCIrKHJlfHxcXFwiKD86KVxcXCIpK1xcXCIvXFxcIitmbGFncywwLGhlcmVnZXgubGVuZ3RoKSxoZXJlZ2V4Lmxlbmd0aDtmb3IodGhpcy50b2tlbihcXFwiSURFTlRJRklFUlxcXCIsXFxcIlJlZ0V4cFxcXCIsMCwwKSx0aGlzLnRva2VuKFxcXCJDQUxMX1NUQVJUXFxcIixcXFwiKFxcXCIsMCwwKSx0b2tlbnM9W10sX3JlZjI9dGhpcy5pbnRlcnBvbGF0ZVN0cmluZyhib2R5LHtyZWdleDohMH0pLF9pPTAsX2xlbj1fcmVmMi5sZW5ndGg7X2xlbj5faTtfaSsrKXtpZih0b2tlbj1fcmVmMltfaV0sdGFnPXRva2VuWzBdLHZhbHVlPXRva2VuWzFdLFxcXCJUT0tFTlNcXFwiPT09dGFnKXRva2Vucy5wdXNoLmFwcGx5KHRva2Vucyx2YWx1ZSk7ZWxzZSBpZihcXFwiTkVPU1RSSU5HXFxcIj09PXRhZyl7aWYoISh2YWx1ZT12YWx1ZS5yZXBsYWNlKEhFUkVHRVhfT01JVCxcXFwiXFxcIikpKWNvbnRpbnVlO3ZhbHVlPXZhbHVlLnJlcGxhY2UoL1xcXFxcXFxcL2csXFxcIlxcXFxcXFxcXFxcXFxcXFxcXFwiKSx0b2tlblswXT1cXFwiU1RSSU5HXFxcIix0b2tlblsxXT10aGlzLm1ha2VTdHJpbmcodmFsdWUsJ1xcXCInLCEwKSx0b2tlbnMucHVzaCh0b2tlbil9ZWxzZSB0aGlzLmVycm9yKFxcXCJVbmV4cGVjdGVkIFxcXCIrdGFnKTtwcmV2PWxhc3QodGhpcy50b2tlbnMpLHBsdXNUb2tlbj1bXFxcIitcXFwiLFxcXCIrXFxcIl0scGx1c1Rva2VuWzJdPXByZXZbMl0sdG9rZW5zLnB1c2gocGx1c1Rva2VuKX1yZXR1cm4gdG9rZW5zLnBvcCgpLFxcXCJTVFJJTkdcXFwiIT09KG51bGwhPShfcmVmMz10b2tlbnNbMF0pP19yZWYzWzBdOnZvaWQgMCkmJih0aGlzLnRva2VuKFxcXCJTVFJJTkdcXFwiLCdcXFwiXFxcIicsMCwwKSx0aGlzLnRva2VuKFxcXCIrXFxcIixcXFwiK1xcXCIsMCwwKSksKF9yZWY0PXRoaXMudG9rZW5zKS5wdXNoLmFwcGx5KF9yZWY0LHRva2VucyksZmxhZ3MmJihmbGFnc09mZnNldD1oZXJlZ2V4Lmxhc3RJbmRleE9mKGZsYWdzKSx0aGlzLnRva2VuKFxcXCIsXFxcIixcXFwiLFxcXCIsZmxhZ3NPZmZzZXQsMCksdGhpcy50b2tlbihcXFwiU1RSSU5HXFxcIiwnXFxcIicrZmxhZ3MrJ1xcXCInLGZsYWdzT2Zmc2V0LGZsYWdzLmxlbmd0aCkpLHRoaXMudG9rZW4oXFxcIilcXFwiLFxcXCIpXFxcIixoZXJlZ2V4Lmxlbmd0aC0xLDApLGhlcmVnZXgubGVuZ3RofSxMZXhlci5wcm90b3R5cGUubGluZVRva2VuPWZ1bmN0aW9uKCl7dmFyIGRpZmYsaW5kZW50LG1hdGNoLG5vTmV3bGluZXMsc2l6ZTtpZighKG1hdGNoPU1VTFRJX0RFTlQuZXhlYyh0aGlzLmNodW5rKSkpcmV0dXJuIDA7aWYoaW5kZW50PW1hdGNoWzBdLHRoaXMuc2VlbkZvcj0hMSxzaXplPWluZGVudC5sZW5ndGgtMS1pbmRlbnQubGFzdEluZGV4T2YoXFxcIlxcXFxuXFxcIiksbm9OZXdsaW5lcz10aGlzLnVuZmluaXNoZWQoKSxzaXplLXRoaXMuaW5kZWJ0PT09dGhpcy5pbmRlbnQpcmV0dXJuIG5vTmV3bGluZXM/dGhpcy5zdXBwcmVzc05ld2xpbmVzKCk6dGhpcy5uZXdsaW5lVG9rZW4oMCksaW5kZW50Lmxlbmd0aDtpZihzaXplPnRoaXMuaW5kZW50KXtpZihub05ld2xpbmVzKXJldHVybiB0aGlzLmluZGVidD1zaXplLXRoaXMuaW5kZW50LHRoaXMuc3VwcHJlc3NOZXdsaW5lcygpLGluZGVudC5sZW5ndGg7ZGlmZj1zaXplLXRoaXMuaW5kZW50K3RoaXMub3V0ZGVidCx0aGlzLnRva2VuKFxcXCJJTkRFTlRcXFwiLGRpZmYsaW5kZW50Lmxlbmd0aC1zaXplLHNpemUpLHRoaXMuaW5kZW50cy5wdXNoKGRpZmYpLHRoaXMuZW5kcy5wdXNoKFxcXCJPVVRERU5UXFxcIiksdGhpcy5vdXRkZWJ0PXRoaXMuaW5kZWJ0PTB9ZWxzZSB0aGlzLmluZGVidD0wLHRoaXMub3V0ZGVudFRva2VuKHRoaXMuaW5kZW50LXNpemUsbm9OZXdsaW5lcyxpbmRlbnQubGVuZ3RoKTtyZXR1cm4gdGhpcy5pbmRlbnQ9c2l6ZSxpbmRlbnQubGVuZ3RofSxMZXhlci5wcm90b3R5cGUub3V0ZGVudFRva2VuPWZ1bmN0aW9uKG1vdmVPdXQsbm9OZXdsaW5lcyxvdXRkZW50TGVuZ3RoKXtmb3IodmFyIGRlbnQsbGVuO21vdmVPdXQ+MDspbGVuPXRoaXMuaW5kZW50cy5sZW5ndGgtMSx2b2lkIDA9PT10aGlzLmluZGVudHNbbGVuXT9tb3ZlT3V0PTA6dGhpcy5pbmRlbnRzW2xlbl09PT10aGlzLm91dGRlYnQ/KG1vdmVPdXQtPXRoaXMub3V0ZGVidCx0aGlzLm91dGRlYnQ9MCk6dGhpcy5pbmRlbnRzW2xlbl08dGhpcy5vdXRkZWJ0Pyh0aGlzLm91dGRlYnQtPXRoaXMuaW5kZW50c1tsZW5dLG1vdmVPdXQtPXRoaXMuaW5kZW50c1tsZW5dKTooZGVudD10aGlzLmluZGVudHMucG9wKCkrdGhpcy5vdXRkZWJ0LG1vdmVPdXQtPWRlbnQsdGhpcy5vdXRkZWJ0PTAsdGhpcy5wYWlyKFxcXCJPVVRERU5UXFxcIiksdGhpcy50b2tlbihcXFwiT1VUREVOVFxcXCIsZGVudCwwLG91dGRlbnRMZW5ndGgpKTtmb3IoZGVudCYmKHRoaXMub3V0ZGVidC09bW92ZU91dCk7XFxcIjtcXFwiPT09dGhpcy52YWx1ZSgpOyl0aGlzLnRva2Vucy5wb3AoKTtyZXR1cm5cXFwiVEVSTUlOQVRPUlxcXCI9PT10aGlzLnRhZygpfHxub05ld2xpbmVzfHx0aGlzLnRva2VuKFxcXCJURVJNSU5BVE9SXFxcIixcXFwiXFxcXG5cXFwiLG91dGRlbnRMZW5ndGgsMCksdGhpc30sTGV4ZXIucHJvdG90eXBlLndoaXRlc3BhY2VUb2tlbj1mdW5jdGlvbigpe3ZhciBtYXRjaCxubGluZSxwcmV2O3JldHVybihtYXRjaD1XSElURVNQQUNFLmV4ZWModGhpcy5jaHVuaykpfHwobmxpbmU9XFxcIlxcXFxuXFxcIj09PXRoaXMuY2h1bmsuY2hhckF0KDApKT8ocHJldj1sYXN0KHRoaXMudG9rZW5zKSxwcmV2JiYocHJldlttYXRjaD9cXFwic3BhY2VkXFxcIjpcXFwibmV3TGluZVxcXCJdPSEwKSxtYXRjaD9tYXRjaFswXS5sZW5ndGg6MCk6MH0sTGV4ZXIucHJvdG90eXBlLm5ld2xpbmVUb2tlbj1mdW5jdGlvbihvZmZzZXQpe2Zvcig7XFxcIjtcXFwiPT09dGhpcy52YWx1ZSgpOyl0aGlzLnRva2Vucy5wb3AoKTtyZXR1cm5cXFwiVEVSTUlOQVRPUlxcXCIhPT10aGlzLnRhZygpJiZ0aGlzLnRva2VuKFxcXCJURVJNSU5BVE9SXFxcIixcXFwiXFxcXG5cXFwiLG9mZnNldCwwKSx0aGlzfSxMZXhlci5wcm90b3R5cGUuc3VwcHJlc3NOZXdsaW5lcz1mdW5jdGlvbigpe3JldHVyblxcXCJcXFxcXFxcXFxcXCI9PT10aGlzLnZhbHVlKCkmJnRoaXMudG9rZW5zLnBvcCgpLHRoaXN9LExleGVyLnByb3RvdHlwZS5saXRlcmFsVG9rZW49ZnVuY3Rpb24oKXt2YXIgbWF0Y2gscHJldix0YWcsdmFsdWUsX3JlZjIsX3JlZjMsX3JlZjQsX3JlZjU7aWYoKG1hdGNoPU9QRVJBVE9SLmV4ZWModGhpcy5jaHVuaykpPyh2YWx1ZT1tYXRjaFswXSxDT0RFLnRlc3QodmFsdWUpJiZ0aGlzLnRhZ1BhcmFtZXRlcnMoKSk6dmFsdWU9dGhpcy5jaHVuay5jaGFyQXQoMCksdGFnPXZhbHVlLHByZXY9bGFzdCh0aGlzLnRva2VucyksXFxcIj1cXFwiPT09dmFsdWUmJnByZXYmJighcHJldlsxXS5yZXNlcnZlZCYmKF9yZWYyPXByZXZbMV0sX19pbmRleE9mLmNhbGwoSlNfRk9SQklEREVOLF9yZWYyKT49MCkmJnRoaXMuZXJyb3IoJ3Jlc2VydmVkIHdvcmQgXFxcIicrdGhpcy52YWx1ZSgpK1xcXCJcXFxcXFxcIiBjYW4ndCBiZSBhc3NpZ25lZFxcXCIpLFxcXCJ8fFxcXCI9PT0oX3JlZjM9cHJldlsxXSl8fFxcXCImJlxcXCI9PT1fcmVmMykpcmV0dXJuIHByZXZbMF09XFxcIkNPTVBPVU5EX0FTU0lHTlxcXCIscHJldlsxXSs9XFxcIj1cXFwiLHZhbHVlLmxlbmd0aDtpZihcXFwiO1xcXCI9PT12YWx1ZSl0aGlzLnNlZW5Gb3I9ITEsdGFnPVxcXCJURVJNSU5BVE9SXFxcIjtlbHNlIGlmKF9faW5kZXhPZi5jYWxsKE1BVEgsdmFsdWUpPj0wKXRhZz1cXFwiTUFUSFxcXCI7ZWxzZSBpZihfX2luZGV4T2YuY2FsbChDT01QQVJFLHZhbHVlKT49MCl0YWc9XFxcIkNPTVBBUkVcXFwiO2Vsc2UgaWYoX19pbmRleE9mLmNhbGwoQ09NUE9VTkRfQVNTSUdOLHZhbHVlKT49MCl0YWc9XFxcIkNPTVBPVU5EX0FTU0lHTlxcXCI7ZWxzZSBpZihfX2luZGV4T2YuY2FsbChVTkFSWSx2YWx1ZSk+PTApdGFnPVxcXCJVTkFSWVxcXCI7ZWxzZSBpZihfX2luZGV4T2YuY2FsbChTSElGVCx2YWx1ZSk+PTApdGFnPVxcXCJTSElGVFxcXCI7ZWxzZSBpZihfX2luZGV4T2YuY2FsbChMT0dJQyx2YWx1ZSk+PTB8fFxcXCI/XFxcIj09PXZhbHVlJiYobnVsbCE9cHJldj9wcmV2LnNwYWNlZDp2b2lkIDApKXRhZz1cXFwiTE9HSUNcXFwiO2Vsc2UgaWYocHJldiYmIXByZXYuc3BhY2VkKWlmKFxcXCIoXFxcIj09PXZhbHVlJiYoX3JlZjQ9cHJldlswXSxfX2luZGV4T2YuY2FsbChDQUxMQUJMRSxfcmVmNCk+PTApKVxcXCI/XFxcIj09PXByZXZbMF0mJihwcmV2WzBdPVxcXCJGVU5DX0VYSVNUXFxcIiksdGFnPVxcXCJDQUxMX1NUQVJUXFxcIjtlbHNlIGlmKFxcXCJbXFxcIj09PXZhbHVlJiYoX3JlZjU9cHJldlswXSxfX2luZGV4T2YuY2FsbChJTkRFWEFCTEUsX3JlZjUpPj0wKSlzd2l0Y2godGFnPVxcXCJJTkRFWF9TVEFSVFxcXCIscHJldlswXSl7Y2FzZVxcXCI/XFxcIjpwcmV2WzBdPVxcXCJJTkRFWF9TT0FLXFxcIn1zd2l0Y2godmFsdWUpe2Nhc2VcXFwiKFxcXCI6Y2FzZVxcXCJ7XFxcIjpjYXNlXFxcIltcXFwiOnRoaXMuZW5kcy5wdXNoKElOVkVSU0VTW3ZhbHVlXSk7YnJlYWs7Y2FzZVxcXCIpXFxcIjpjYXNlXFxcIn1cXFwiOmNhc2VcXFwiXVxcXCI6dGhpcy5wYWlyKHZhbHVlKX1yZXR1cm4gdGhpcy50b2tlbih0YWcsdmFsdWUpLHZhbHVlLmxlbmd0aH0sTGV4ZXIucHJvdG90eXBlLnNhbml0aXplSGVyZWRvYz1mdW5jdGlvbihkb2Msb3B0aW9ucyl7dmFyIGF0dGVtcHQsaGVyZWNvbW1lbnQsaW5kZW50LG1hdGNoLF9yZWYyO2lmKGluZGVudD1vcHRpb25zLmluZGVudCxoZXJlY29tbWVudD1vcHRpb25zLmhlcmVjb21tZW50KXtpZihIRVJFRE9DX0lMTEVHQUwudGVzdChkb2MpJiZ0aGlzLmVycm9yKCdibG9jayBjb21tZW50IGNhbm5vdCBjb250YWluIFxcXCIqL1xcXCIsIHN0YXJ0aW5nJyksMD5kb2MuaW5kZXhPZihcXFwiXFxcXG5cXFwiKSlyZXR1cm4gZG9jfWVsc2UgZm9yKDttYXRjaD1IRVJFRE9DX0lOREVOVC5leGVjKGRvYyk7KWF0dGVtcHQ9bWF0Y2hbMV0sKG51bGw9PT1pbmRlbnR8fChfcmVmMj1hdHRlbXB0Lmxlbmd0aCk+MCYmaW5kZW50Lmxlbmd0aD5fcmVmMikmJihpbmRlbnQ9YXR0ZW1wdCk7cmV0dXJuIGluZGVudCYmKGRvYz1kb2MucmVwbGFjZShSZWdFeHAoXFxcIlxcXFxcXFxcblxcXCIraW5kZW50LFxcXCJnXFxcIiksXFxcIlxcXFxuXFxcIikpLGhlcmVjb21tZW50fHwoZG9jPWRvYy5yZXBsYWNlKC9eXFxcXG4vLFxcXCJcXFwiKSksZG9jfSxMZXhlci5wcm90b3R5cGUudGFnUGFyYW1ldGVycz1mdW5jdGlvbigpe3ZhciBpLHN0YWNrLHRvayx0b2tlbnM7aWYoXFxcIilcXFwiIT09dGhpcy50YWcoKSlyZXR1cm4gdGhpcztmb3Ioc3RhY2s9W10sdG9rZW5zPXRoaXMudG9rZW5zLGk9dG9rZW5zLmxlbmd0aCx0b2tlbnNbLS1pXVswXT1cXFwiUEFSQU1fRU5EXFxcIjt0b2s9dG9rZW5zWy0taV07KXN3aXRjaCh0b2tbMF0pe2Nhc2VcXFwiKVxcXCI6c3RhY2sucHVzaCh0b2spO2JyZWFrO2Nhc2VcXFwiKFxcXCI6Y2FzZVxcXCJDQUxMX1NUQVJUXFxcIjppZighc3RhY2subGVuZ3RoKXJldHVyblxcXCIoXFxcIj09PXRva1swXT8odG9rWzBdPVxcXCJQQVJBTV9TVEFSVFxcXCIsdGhpcyk6dGhpcztzdGFjay5wb3AoKX1yZXR1cm4gdGhpc30sTGV4ZXIucHJvdG90eXBlLmNsb3NlSW5kZW50YXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vdXRkZW50VG9rZW4odGhpcy5pbmRlbnQpfSxMZXhlci5wcm90b3R5cGUuYmFsYW5jZWRTdHJpbmc9ZnVuY3Rpb24oc3RyLGVuZCl7dmFyIGNvbnRpbnVlQ291bnQsaSxsZXR0ZXIsbWF0Y2gscHJldixzdGFjayxfaSxfcmVmMjtmb3IoY29udGludWVDb3VudD0wLHN0YWNrPVtlbmRdLGk9X2k9MSxfcmVmMj1zdHIubGVuZ3RoO19yZWYyPj0xP19yZWYyPl9pOl9pPl9yZWYyO2k9X3JlZjI+PTE/KytfaTotLV9pKWlmKGNvbnRpbnVlQ291bnQpLS1jb250aW51ZUNvdW50O2Vsc2V7c3dpdGNoKGxldHRlcj1zdHIuY2hhckF0KGkpKXtjYXNlXFxcIlxcXFxcXFxcXFxcIjorK2NvbnRpbnVlQ291bnQ7Y29udGludWU7Y2FzZSBlbmQ6aWYoc3RhY2sucG9wKCksIXN0YWNrLmxlbmd0aClyZXR1cm4gc3RyLnNsaWNlKDAsK2krMXx8OWU5KTtlbmQ9c3RhY2tbc3RhY2subGVuZ3RoLTFdO2NvbnRpbnVlfVxcXCJ9XFxcIiE9PWVuZHx8J1xcXCInIT09bGV0dGVyJiZcXFwiJ1xcXCIhPT1sZXR0ZXI/XFxcIn1cXFwiPT09ZW5kJiZcXFwiL1xcXCI9PT1sZXR0ZXImJihtYXRjaD1IRVJFR0VYLmV4ZWMoc3RyLnNsaWNlKGkpKXx8UkVHRVguZXhlYyhzdHIuc2xpY2UoaSkpKT9jb250aW51ZUNvdW50Kz1tYXRjaFswXS5sZW5ndGgtMTpcXFwifVxcXCI9PT1lbmQmJlxcXCJ7XFxcIj09PWxldHRlcj9zdGFjay5wdXNoKGVuZD1cXFwifVxcXCIpOidcXFwiJz09PWVuZCYmXFxcIiNcXFwiPT09cHJldiYmXFxcIntcXFwiPT09bGV0dGVyJiZzdGFjay5wdXNoKGVuZD1cXFwifVxcXCIpOnN0YWNrLnB1c2goZW5kPWxldHRlcikscHJldj1sZXR0ZXJ9cmV0dXJuIHRoaXMuZXJyb3IoXFxcIm1pc3NpbmcgXFxcIitzdGFjay5wb3AoKStcXFwiLCBzdGFydGluZ1xcXCIpfSxMZXhlci5wcm90b3R5cGUuaW50ZXJwb2xhdGVTdHJpbmc9ZnVuY3Rpb24oc3RyLG9wdGlvbnMpe3ZhciBjb2x1bW4sZXhwcixoZXJlZG9jLGksaW5uZXIsaW50ZXJwb2xhdGVkLGxlbixsZXR0ZXIsbGV4ZWRMZW5ndGgsbGluZSxsb2NhdGlvblRva2VuLG5lc3RlZCxvZmZzZXRJbkNodW5rLHBpLHBsdXNUb2tlbixwb3BwZWQscmVnZXgscnBhcmVuLHN0ck9mZnNldCx0YWcsdG9rZW4sdG9rZW5zLHZhbHVlLF9pLF9sZW4sX3JlZjIsX3JlZjMsX3JlZjQ7Zm9yKG51bGw9PW9wdGlvbnMmJihvcHRpb25zPXt9KSxoZXJlZG9jPW9wdGlvbnMuaGVyZWRvYyxyZWdleD1vcHRpb25zLnJlZ2V4LG9mZnNldEluQ2h1bms9b3B0aW9ucy5vZmZzZXRJbkNodW5rLHN0ck9mZnNldD1vcHRpb25zLnN0ck9mZnNldCxsZXhlZExlbmd0aD1vcHRpb25zLmxleGVkTGVuZ3RoLG9mZnNldEluQ2h1bms9b2Zmc2V0SW5DaHVua3x8MCxzdHJPZmZzZXQ9c3RyT2Zmc2V0fHwwLGxleGVkTGVuZ3RoPWxleGVkTGVuZ3RofHxzdHIubGVuZ3RoLGhlcmVkb2MmJnN0ci5sZW5ndGg+MCYmXFxcIlxcXFxuXFxcIj09PXN0clswXSYmKHN0cj1zdHIuc2xpY2UoMSksc3RyT2Zmc2V0KyspLHRva2Vucz1bXSxwaT0wLGk9LTE7bGV0dGVyPXN0ci5jaGFyQXQoaSs9MSk7KVxcXCJcXFxcXFxcXFxcXCIhPT1sZXR0ZXI/XFxcIiNcXFwiPT09bGV0dGVyJiZcXFwie1xcXCI9PT1zdHIuY2hhckF0KGkrMSkmJihleHByPXRoaXMuYmFsYW5jZWRTdHJpbmcoc3RyLnNsaWNlKGkrMSksXFxcIn1cXFwiKSkmJihpPnBpJiZ0b2tlbnMucHVzaCh0aGlzLm1ha2VUb2tlbihcXFwiTkVPU1RSSU5HXFxcIixzdHIuc2xpY2UocGksaSksc3RyT2Zmc2V0K3BpKSksaW5uZXI9ZXhwci5zbGljZSgxLC0xKSxpbm5lci5sZW5ndGgmJihfcmVmMj10aGlzLmdldExpbmVBbmRDb2x1bW5Gcm9tQ2h1bmsoc3RyT2Zmc2V0K2krMSksbGluZT1fcmVmMlswXSxjb2x1bW49X3JlZjJbMV0sbmVzdGVkPShuZXcgTGV4ZXIpLnRva2VuaXplKGlubmVyLHtsaW5lOmxpbmUsY29sdW1uOmNvbHVtbixyZXdyaXRlOiExfSkscG9wcGVkPW5lc3RlZC5wb3AoKSxcXFwiVEVSTUlOQVRPUlxcXCI9PT0obnVsbCE9KF9yZWYzPW5lc3RlZFswXSk/X3JlZjNbMF06dm9pZCAwKSYmKHBvcHBlZD1uZXN0ZWQuc2hpZnQoKSksKGxlbj1uZXN0ZWQubGVuZ3RoKSYmKGxlbj4xJiYobmVzdGVkLnVuc2hpZnQodGhpcy5tYWtlVG9rZW4oXFxcIihcXFwiLFxcXCIoXFxcIixzdHJPZmZzZXQraSsxLDApKSxuZXN0ZWQucHVzaCh0aGlzLm1ha2VUb2tlbihcXFwiKVxcXCIsXFxcIilcXFwiLHN0ck9mZnNldCtpKzEraW5uZXIubGVuZ3RoLDApKSksdG9rZW5zLnB1c2goW1xcXCJUT0tFTlNcXFwiLG5lc3RlZF0pKSksaSs9ZXhwci5sZW5ndGgscGk9aSsxKTppKz0xO2lmKGk+cGkmJnN0ci5sZW5ndGg+cGkmJnRva2Vucy5wdXNoKHRoaXMubWFrZVRva2VuKFxcXCJORU9TVFJJTkdcXFwiLHN0ci5zbGljZShwaSksc3RyT2Zmc2V0K3BpKSkscmVnZXgpcmV0dXJuIHRva2VucztpZighdG9rZW5zLmxlbmd0aClyZXR1cm4gdGhpcy50b2tlbihcXFwiU1RSSU5HXFxcIiwnXFxcIlxcXCInLG9mZnNldEluQ2h1bmssbGV4ZWRMZW5ndGgpO2ZvcihcXFwiTkVPU1RSSU5HXFxcIiE9PXRva2Vuc1swXVswXSYmdG9rZW5zLnVuc2hpZnQodGhpcy5tYWtlVG9rZW4oXFxcIk5FT1NUUklOR1xcXCIsXFxcIlxcXCIsb2Zmc2V0SW5DaHVuaykpLChpbnRlcnBvbGF0ZWQ9dG9rZW5zLmxlbmd0aD4xKSYmdGhpcy50b2tlbihcXFwiKFxcXCIsXFxcIihcXFwiLG9mZnNldEluQ2h1bmssMCksaT1faT0wLF9sZW49dG9rZW5zLmxlbmd0aDtfbGVuPl9pO2k9KytfaSl0b2tlbj10b2tlbnNbaV0sdGFnPXRva2VuWzBdLHZhbHVlPXRva2VuWzFdLGkmJihpJiYocGx1c1Rva2VuPXRoaXMudG9rZW4oXFxcIitcXFwiLFxcXCIrXFxcIikpLGxvY2F0aW9uVG9rZW49XFxcIlRPS0VOU1xcXCI9PT10YWc/dmFsdWVbMF06dG9rZW4scGx1c1Rva2VuWzJdPXtmaXJzdF9saW5lOmxvY2F0aW9uVG9rZW5bMl0uZmlyc3RfbGluZSxmaXJzdF9jb2x1bW46bG9jYXRpb25Ub2tlblsyXS5maXJzdF9jb2x1bW4sbGFzdF9saW5lOmxvY2F0aW9uVG9rZW5bMl0uZmlyc3RfbGluZSxsYXN0X2NvbHVtbjpsb2NhdGlvblRva2VuWzJdLmZpcnN0X2NvbHVtbn0pLFxcXCJUT0tFTlNcXFwiPT09dGFnPyhfcmVmND10aGlzLnRva2VucykucHVzaC5hcHBseShfcmVmNCx2YWx1ZSk6XFxcIk5FT1NUUklOR1xcXCI9PT10YWc/KHRva2VuWzBdPVxcXCJTVFJJTkdcXFwiLHRva2VuWzFdPXRoaXMubWFrZVN0cmluZyh2YWx1ZSwnXFxcIicsaGVyZWRvYyksdGhpcy50b2tlbnMucHVzaCh0b2tlbikpOnRoaXMuZXJyb3IoXFxcIlVuZXhwZWN0ZWQgXFxcIit0YWcpO3JldHVybiBpbnRlcnBvbGF0ZWQmJihycGFyZW49dGhpcy5tYWtlVG9rZW4oXFxcIilcXFwiLFxcXCIpXFxcIixvZmZzZXRJbkNodW5rK2xleGVkTGVuZ3RoLDApLHJwYXJlbi5zdHJpbmdFbmQ9ITAsdGhpcy50b2tlbnMucHVzaChycGFyZW4pKSx0b2tlbnN9LExleGVyLnByb3RvdHlwZS5wYWlyPWZ1bmN0aW9uKHRhZyl7dmFyIHNpemUsd2FudGVkO3JldHVybiB0YWchPT0od2FudGVkPWxhc3QodGhpcy5lbmRzKSk/KFxcXCJPVVRERU5UXFxcIiE9PXdhbnRlZCYmdGhpcy5lcnJvcihcXFwidW5tYXRjaGVkIFxcXCIrdGFnKSx0aGlzLmluZGVudC09c2l6ZT1sYXN0KHRoaXMuaW5kZW50cyksdGhpcy5vdXRkZW50VG9rZW4oc2l6ZSwhMCksdGhpcy5wYWlyKHRhZykpOnRoaXMuZW5kcy5wb3AoKX0sTGV4ZXIucHJvdG90eXBlLmdldExpbmVBbmRDb2x1bW5Gcm9tQ2h1bms9ZnVuY3Rpb24ob2Zmc2V0KXt2YXIgY29sdW1uLGxpbmVDb3VudCxsaW5lcyxzdHJpbmc7cmV0dXJuIDA9PT1vZmZzZXQ/W3RoaXMuY2h1bmtMaW5lLHRoaXMuY2h1bmtDb2x1bW5dOihzdHJpbmc9b2Zmc2V0Pj10aGlzLmNodW5rLmxlbmd0aD90aGlzLmNodW5rOnRoaXMuY2h1bmsuc2xpY2UoMCwrKG9mZnNldC0xKSsxfHw5ZTkpLGxpbmVDb3VudD1jb3VudChzdHJpbmcsXFxcIlxcXFxuXFxcIiksY29sdW1uPXRoaXMuY2h1bmtDb2x1bW4sbGluZUNvdW50PjA/KGxpbmVzPXN0cmluZy5zcGxpdChcXFwiXFxcXG5cXFwiKSxjb2x1bW49bGFzdChsaW5lcykubGVuZ3RoKTpjb2x1bW4rPXN0cmluZy5sZW5ndGgsW3RoaXMuY2h1bmtMaW5lK2xpbmVDb3VudCxjb2x1bW5dKX0sTGV4ZXIucHJvdG90eXBlLm1ha2VUb2tlbj1mdW5jdGlvbih0YWcsdmFsdWUsb2Zmc2V0SW5DaHVuayxsZW5ndGgpe3ZhciBsYXN0Q2hhcmFjdGVyLGxvY2F0aW9uRGF0YSx0b2tlbixfcmVmMixfcmVmMztyZXR1cm4gbnVsbD09b2Zmc2V0SW5DaHVuayYmKG9mZnNldEluQ2h1bms9MCksbnVsbD09bGVuZ3RoJiYobGVuZ3RoPXZhbHVlLmxlbmd0aCksbG9jYXRpb25EYXRhPXt9LF9yZWYyPXRoaXMuZ2V0TGluZUFuZENvbHVtbkZyb21DaHVuayhvZmZzZXRJbkNodW5rKSxsb2NhdGlvbkRhdGEuZmlyc3RfbGluZT1fcmVmMlswXSxsb2NhdGlvbkRhdGEuZmlyc3RfY29sdW1uPV9yZWYyWzFdLGxhc3RDaGFyYWN0ZXI9TWF0aC5tYXgoMCxsZW5ndGgtMSksX3JlZjM9dGhpcy5nZXRMaW5lQW5kQ29sdW1uRnJvbUNodW5rKG9mZnNldEluQ2h1bmsrbGFzdENoYXJhY3RlciksbG9jYXRpb25EYXRhLmxhc3RfbGluZT1fcmVmM1swXSxsb2NhdGlvbkRhdGEubGFzdF9jb2x1bW49X3JlZjNbMV0sdG9rZW49W3RhZyx2YWx1ZSxsb2NhdGlvbkRhdGFdfSxMZXhlci5wcm90b3R5cGUudG9rZW49ZnVuY3Rpb24odGFnLHZhbHVlLG9mZnNldEluQ2h1bmssbGVuZ3RoKXt2YXIgdG9rZW47cmV0dXJuIHRva2VuPXRoaXMubWFrZVRva2VuKHRhZyx2YWx1ZSxvZmZzZXRJbkNodW5rLGxlbmd0aCksdGhpcy50b2tlbnMucHVzaCh0b2tlbiksdG9rZW59LExleGVyLnByb3RvdHlwZS50YWc9ZnVuY3Rpb24oaW5kZXgsdGFnKXt2YXIgdG9rO3JldHVybih0b2s9bGFzdCh0aGlzLnRva2VucyxpbmRleCkpJiYodGFnP3Rva1swXT10YWc6dG9rWzBdKX0sTGV4ZXIucHJvdG90eXBlLnZhbHVlPWZ1bmN0aW9uKGluZGV4LHZhbCl7dmFyIHRvaztyZXR1cm4odG9rPWxhc3QodGhpcy50b2tlbnMsaW5kZXgpKSYmKHZhbD90b2tbMV09dmFsOnRva1sxXSl9LExleGVyLnByb3RvdHlwZS51bmZpbmlzaGVkPWZ1bmN0aW9uKCl7dmFyIF9yZWYyO3JldHVybiBMSU5FX0NPTlRJTlVFUi50ZXN0KHRoaXMuY2h1bmspfHxcXFwiXFxcXFxcXFxcXFwiPT09KF9yZWYyPXRoaXMudGFnKCkpfHxcXFwiLlxcXCI9PT1fcmVmMnx8XFxcIj8uXFxcIj09PV9yZWYyfHxcXFwiPzo6XFxcIj09PV9yZWYyfHxcXFwiVU5BUllcXFwiPT09X3JlZjJ8fFxcXCJNQVRIXFxcIj09PV9yZWYyfHxcXFwiK1xcXCI9PT1fcmVmMnx8XFxcIi1cXFwiPT09X3JlZjJ8fFxcXCJTSElGVFxcXCI9PT1fcmVmMnx8XFxcIlJFTEFUSU9OXFxcIj09PV9yZWYyfHxcXFwiQ09NUEFSRVxcXCI9PT1fcmVmMnx8XFxcIkxPR0lDXFxcIj09PV9yZWYyfHxcXFwiVEhST1dcXFwiPT09X3JlZjJ8fFxcXCJFWFRFTkRTXFxcIj09PV9yZWYyfSxMZXhlci5wcm90b3R5cGUuZXNjYXBlTGluZXM9ZnVuY3Rpb24oc3RyLGhlcmVkb2Mpe3JldHVybiBzdHIucmVwbGFjZShNVUxUSUxJTkVSLGhlcmVkb2M/XFxcIlxcXFxcXFxcblxcXCI6XFxcIlxcXCIpfSxMZXhlci5wcm90b3R5cGUubWFrZVN0cmluZz1mdW5jdGlvbihib2R5LHF1b3RlLGhlcmVkb2Mpe3JldHVybiBib2R5Pyhib2R5PWJvZHkucmVwbGFjZSgvXFxcXFxcXFwoW1xcXFxzXFxcXFNdKS9nLGZ1bmN0aW9uKG1hdGNoLGNvbnRlbnRzKXtyZXR1cm5cXFwiXFxcXG5cXFwiPT09Y29udGVudHN8fGNvbnRlbnRzPT09cXVvdGU/Y29udGVudHM6bWF0Y2h9KSxib2R5PWJvZHkucmVwbGFjZShSZWdFeHAoXFxcIlxcXCIrcXVvdGUsXFxcImdcXFwiKSxcXFwiXFxcXFxcXFwkJlxcXCIpLHF1b3RlK3RoaXMuZXNjYXBlTGluZXMoYm9keSxoZXJlZG9jKStxdW90ZSk6cXVvdGUrcXVvdGV9LExleGVyLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihtZXNzYWdlKXtyZXR1cm4gdGhyb3dTeW50YXhFcnJvcihtZXNzYWdlLHtmaXJzdF9saW5lOnRoaXMuY2h1bmtMaW5lLGZpcnN0X2NvbHVtbjp0aGlzLmNodW5rQ29sdW1ufSl9LExleGVyfSgpLEpTX0tFWVdPUkRTPVtcXFwidHJ1ZVxcXCIsXFxcImZhbHNlXFxcIixcXFwibnVsbFxcXCIsXFxcInRoaXNcXFwiLFxcXCJuZXdcXFwiLFxcXCJkZWxldGVcXFwiLFxcXCJ0eXBlb2ZcXFwiLFxcXCJpblxcXCIsXFxcImluc3RhbmNlb2ZcXFwiLFxcXCJyZXR1cm5cXFwiLFxcXCJ0aHJvd1xcXCIsXFxcImJyZWFrXFxcIixcXFwiY29udGludWVcXFwiLFxcXCJkZWJ1Z2dlclxcXCIsXFxcImlmXFxcIixcXFwiZWxzZVxcXCIsXFxcInN3aXRjaFxcXCIsXFxcImZvclxcXCIsXFxcIndoaWxlXFxcIixcXFwiZG9cXFwiLFxcXCJ0cnlcXFwiLFxcXCJjYXRjaFxcXCIsXFxcImZpbmFsbHlcXFwiLFxcXCJjbGFzc1xcXCIsXFxcImV4dGVuZHNcXFwiLFxcXCJzdXBlclxcXCJdLENPRkZFRV9LRVlXT1JEUz1bXFxcInVuZGVmaW5lZFxcXCIsXFxcInRoZW5cXFwiLFxcXCJ1bmxlc3NcXFwiLFxcXCJ1bnRpbFxcXCIsXFxcImxvb3BcXFwiLFxcXCJvZlxcXCIsXFxcImJ5XFxcIixcXFwid2hlblxcXCJdLENPRkZFRV9BTElBU19NQVA9e2FuZDpcXFwiJiZcXFwiLG9yOlxcXCJ8fFxcXCIsaXM6XFxcIj09XFxcIixpc250OlxcXCIhPVxcXCIsbm90OlxcXCIhXFxcIix5ZXM6XFxcInRydWVcXFwiLG5vOlxcXCJmYWxzZVxcXCIsb246XFxcInRydWVcXFwiLG9mZjpcXFwiZmFsc2VcXFwifSxDT0ZGRUVfQUxJQVNFUz1mdW5jdGlvbigpe3ZhciBfcmVzdWx0cztfcmVzdWx0cz1bXTtmb3Ioa2V5IGluIENPRkZFRV9BTElBU19NQVApX3Jlc3VsdHMucHVzaChrZXkpO3JldHVybiBfcmVzdWx0c30oKSxDT0ZGRUVfS0VZV09SRFM9Q09GRkVFX0tFWVdPUkRTLmNvbmNhdChDT0ZGRUVfQUxJQVNFUyksUkVTRVJWRUQ9W1xcXCJjYXNlXFxcIixcXFwiZGVmYXVsdFxcXCIsXFxcImZ1bmN0aW9uXFxcIixcXFwidmFyXFxcIixcXFwidm9pZFxcXCIsXFxcIndpdGhcXFwiLFxcXCJjb25zdFxcXCIsXFxcImxldFxcXCIsXFxcImVudW1cXFwiLFxcXCJleHBvcnRcXFwiLFxcXCJpbXBvcnRcXFwiLFxcXCJuYXRpdmVcXFwiLFxcXCJfX2hhc1Byb3BcXFwiLFxcXCJfX2V4dGVuZHNcXFwiLFxcXCJfX3NsaWNlXFxcIixcXFwiX19iaW5kXFxcIixcXFwiX19pbmRleE9mXFxcIixcXFwiaW1wbGVtZW50c1xcXCIsXFxcImludGVyZmFjZVxcXCIsXFxcInBhY2thZ2VcXFwiLFxcXCJwcml2YXRlXFxcIixcXFwicHJvdGVjdGVkXFxcIixcXFwicHVibGljXFxcIixcXFwic3RhdGljXFxcIixcXFwieWllbGRcXFwiXSxTVFJJQ1RfUFJPU0NSSUJFRD1bXFxcImFyZ3VtZW50c1xcXCIsXFxcImV2YWxcXFwiXSxKU19GT1JCSURERU49SlNfS0VZV09SRFMuY29uY2F0KFJFU0VSVkVEKS5jb25jYXQoU1RSSUNUX1BST1NDUklCRUQpLGV4cG9ydHMuUkVTRVJWRUQ9UkVTRVJWRUQuY29uY2F0KEpTX0tFWVdPUkRTKS5jb25jYXQoQ09GRkVFX0tFWVdPUkRTKS5jb25jYXQoU1RSSUNUX1BST1NDUklCRUQpLGV4cG9ydHMuU1RSSUNUX1BST1NDUklCRUQ9U1RSSUNUX1BST1NDUklCRUQsQk9NPTY1Mjc5LElERU5USUZJRVI9L14oWyRBLVphLXpfXFxcXHg3Zi1cXFxcdWZmZmZdWyRcXFxcd1xcXFx4N2YtXFxcXHVmZmZmXSopKFteXFxcXG5cXFxcU10qOig/ITopKT8vLE5VTUJFUj0vXjBiWzAxXSt8XjBvWzAtN10rfF4weFtcXFxcZGEtZl0rfF5cXFxcZCpcXFxcLj9cXFxcZCsoPzplWystXT9cXFxcZCspPy9pLEhFUkVET0M9L14oXFxcIlxcXCJcXFwifCcnJykoW1xcXFxzXFxcXFNdKj8pKD86XFxcXG5bXlxcXFxuXFxcXFNdKik/XFxcXDEvLE9QRVJBVE9SPS9eKD86Wy09XT58Wy0rKlxcXFwvJTw+JnxeIT89XT18Pj4+PT98KFstKzpdKVxcXFwxfChbJnw8Pl0pXFxcXDI9P3xcXFxcPyhcXFxcLnw6Oil8XFxcXC57MiwzfSkvLFdISVRFU1BBQ0U9L15bXlxcXFxuXFxcXFNdKy8sQ09NTUVOVD0vXiMjIyhbXiNdW1xcXFxzXFxcXFNdKj8pKD86IyMjW15cXFxcblxcXFxTXSp8KD86IyMjKSQpfF4oPzpcXFxccyojKD8hIyNbXiNdKS4qKSsvLENPREU9L15bLT1dPi8sTVVMVElfREVOVD0vXig/OlxcXFxuW15cXFxcblxcXFxTXSopKy8sU0lNUExFU1RSPS9eJ1teXFxcXFxcXFwnXSooPzpcXFxcXFxcXC5bXlxcXFxcXFxcJ10qKSonLyxKU1RPS0VOPS9eYFteXFxcXFxcXFxgXSooPzpcXFxcXFxcXC5bXlxcXFxcXFxcYF0qKSpgLyxSRUdFWD0vXihcXFxcLyg/IVtcXFxccz1dKVteW1xcXFwvXFxcXG5cXFxcXFxcXF0qKD86KD86XFxcXFxcXFxbXFxcXHNcXFxcU118XFxcXFtbXlxcXFxdXFxcXG5cXFxcXFxcXF0qKD86XFxcXFxcXFxbXFxcXHNcXFxcU11bXlxcXFxdXFxcXG5cXFxcXFxcXF0qKSpdKVteW1xcXFwvXFxcXG5cXFxcXFxcXF0qKSpcXFxcLykoW2ltZ3ldezAsNH0pKD8hXFxcXHcpLyxIRVJFR0VYPS9eXFxcXC97M30oW1xcXFxzXFxcXFNdKz8pXFxcXC97M30oW2ltZ3ldezAsNH0pKD8hXFxcXHcpLyxIRVJFR0VYX09NSVQ9L1xcXFxzKyg/OiMuKik/L2csTVVMVElMSU5FUj0vXFxcXG4vZyxIRVJFRE9DX0lOREVOVD0vXFxcXG4rKFteXFxcXG5cXFxcU10qKS9nLEhFUkVET0NfSUxMRUdBTD0vXFxcXCpcXFxcLy8sTElORV9DT05USU5VRVI9L15cXFxccyooPzosfFxcXFw/P1xcXFwuKD8hWy5cXFxcZF0pfDo6KS8sVFJBSUxJTkdfU1BBQ0VTPS9cXFxccyskLyxDT01QT1VORF9BU1NJR049W1xcXCItPVxcXCIsXFxcIis9XFxcIixcXFwiLz1cXFwiLFxcXCIqPVxcXCIsXFxcIiU9XFxcIixcXFwifHw9XFxcIixcXFwiJiY9XFxcIixcXFwiPz1cXFwiLFxcXCI8PD1cXFwiLFxcXCI+Pj1cXFwiLFxcXCI+Pj49XFxcIixcXFwiJj1cXFwiLFxcXCJePVxcXCIsXFxcInw9XFxcIl0sVU5BUlk9W1xcXCIhXFxcIixcXFwiflxcXCIsXFxcIk5FV1xcXCIsXFxcIlRZUEVPRlxcXCIsXFxcIkRFTEVURVxcXCIsXFxcIkRPXFxcIl0sTE9HSUM9W1xcXCImJlxcXCIsXFxcInx8XFxcIixcXFwiJlxcXCIsXFxcInxcXFwiLFxcXCJeXFxcIl0sU0hJRlQ9W1xcXCI8PFxcXCIsXFxcIj4+XFxcIixcXFwiPj4+XFxcIl0sQ09NUEFSRT1bXFxcIj09XFxcIixcXFwiIT1cXFwiLFxcXCI8XFxcIixcXFwiPlxcXCIsXFxcIjw9XFxcIixcXFwiPj1cXFwiXSxNQVRIPVtcXFwiKlxcXCIsXFxcIi9cXFwiLFxcXCIlXFxcIl0sUkVMQVRJT049W1xcXCJJTlxcXCIsXFxcIk9GXFxcIixcXFwiSU5TVEFOQ0VPRlxcXCJdLEJPT0w9W1xcXCJUUlVFXFxcIixcXFwiRkFMU0VcXFwiXSxOT1RfUkVHRVg9W1xcXCJOVU1CRVJcXFwiLFxcXCJSRUdFWFxcXCIsXFxcIkJPT0xcXFwiLFxcXCJOVUxMXFxcIixcXFwiVU5ERUZJTkVEXFxcIixcXFwiKytcXFwiLFxcXCItLVxcXCIsXFxcIl1cXFwiXSxOT1RfU1BBQ0VEX1JFR0VYPU5PVF9SRUdFWC5jb25jYXQoXFxcIilcXFwiLFxcXCJ9XFxcIixcXFwiVEhJU1xcXCIsXFxcIklERU5USUZJRVJcXFwiLFxcXCJTVFJJTkdcXFwiKSxDQUxMQUJMRT1bXFxcIklERU5USUZJRVJcXFwiLFxcXCJTVFJJTkdcXFwiLFxcXCJSRUdFWFxcXCIsXFxcIilcXFwiLFxcXCJdXFxcIixcXFwifVxcXCIsXFxcIj9cXFwiLFxcXCI6OlxcXCIsXFxcIkBcXFwiLFxcXCJUSElTXFxcIixcXFwiU1VQRVJcXFwiXSxJTkRFWEFCTEU9Q0FMTEFCTEUuY29uY2F0KFxcXCJOVU1CRVJcXFwiLFxcXCJCT09MXFxcIixcXFwiTlVMTFxcXCIsXFxcIlVOREVGSU5FRFxcXCIpLExJTkVfQlJFQUs9W1xcXCJJTkRFTlRcXFwiLFxcXCJPVVRERU5UXFxcIixcXFwiVEVSTUlOQVRPUlxcXCJdfSksYWNlLmRlZmluZShcXFwiYWNlL21vZGUvY29mZmVlL3Jld3JpdGVyXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7dmFyIEJBTEFOQ0VEX1BBSVJTLEVYUFJFU1NJT05fQ0xPU0UsRVhQUkVTU0lPTl9FTkQsRVhQUkVTU0lPTl9TVEFSVCxJTVBMSUNJVF9CTE9DSyxJTVBMSUNJVF9DQUxMLElNUExJQ0lUX0VORCxJTVBMSUNJVF9GVU5DLElNUExJQ0lUX1VOU1BBQ0VEX0NBTEwsSU5WRVJTRVMsTElORUJSRUFLUyxTSU5HTEVfQ0xPU0VSUyxTSU5HTEVfTElORVJTLGdlbmVyYXRlLGxlZnQscml0ZSxfaSxfbGVuLF9yZWYsX19pbmRleE9mPVtdLmluZGV4T2Z8fGZ1bmN0aW9uKGl0ZW0pe2Zvcih2YXIgaT0wLGw9dGhpcy5sZW5ndGg7bD5pO2krKylpZihpIGluIHRoaXMmJnRoaXNbaV09PT1pdGVtKXJldHVybiBpO3JldHVybi0xfSxfX3NsaWNlPVtdLnNsaWNlO2ZvcihnZW5lcmF0ZT1mdW5jdGlvbih0YWcsdmFsdWUpe3ZhciB0b2s7cmV0dXJuIHRvaz1bdGFnLHZhbHVlXSx0b2suZ2VuZXJhdGVkPSEwLHRva30sZXhwb3J0cy5SZXdyaXRlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIFJld3JpdGVyKCl7fXJldHVybiBSZXdyaXRlci5wcm90b3R5cGUucmV3cml0ZT1mdW5jdGlvbih0b2tlbnMpe3JldHVybiB0aGlzLnRva2Vucz10b2tlbnMsdGhpcy5yZW1vdmVMZWFkaW5nTmV3bGluZXMoKSx0aGlzLnJlbW92ZU1pZEV4cHJlc3Npb25OZXdsaW5lcygpLHRoaXMuY2xvc2VPcGVuQ2FsbHMoKSx0aGlzLmNsb3NlT3BlbkluZGV4ZXMoKSx0aGlzLmFkZEltcGxpY2l0SW5kZW50YXRpb24oKSx0aGlzLnRhZ1Bvc3RmaXhDb25kaXRpb25hbHMoKSx0aGlzLmFkZEltcGxpY2l0QnJhY2VzQW5kUGFyZW5zKCksdGhpcy5hZGRMb2NhdGlvbkRhdGFUb0dlbmVyYXRlZFRva2VucygpLHRoaXMudG9rZW5zfSxSZXdyaXRlci5wcm90b3R5cGUuc2NhblRva2Vucz1mdW5jdGlvbihibG9jayl7dmFyIGksdG9rZW4sdG9rZW5zO2Zvcih0b2tlbnM9dGhpcy50b2tlbnMsaT0wO3Rva2VuPXRva2Vuc1tpXTspaSs9YmxvY2suY2FsbCh0aGlzLHRva2VuLGksdG9rZW5zKTtyZXR1cm4hMH0sUmV3cml0ZXIucHJvdG90eXBlLmRldGVjdEVuZD1mdW5jdGlvbihpLGNvbmRpdGlvbixhY3Rpb24pe3ZhciBsZXZlbHMsdG9rZW4sdG9rZW5zLF9yZWYsX3JlZjE7Zm9yKHRva2Vucz10aGlzLnRva2VucyxsZXZlbHM9MDt0b2tlbj10b2tlbnNbaV07KXtpZigwPT09bGV2ZWxzJiZjb25kaXRpb24uY2FsbCh0aGlzLHRva2VuLGkpKXJldHVybiBhY3Rpb24uY2FsbCh0aGlzLHRva2VuLGkpO2lmKCF0b2tlbnx8MD5sZXZlbHMpcmV0dXJuIGFjdGlvbi5jYWxsKHRoaXMsdG9rZW4saS0xKTtfcmVmPXRva2VuWzBdLF9faW5kZXhPZi5jYWxsKEVYUFJFU1NJT05fU1RBUlQsX3JlZik+PTA/bGV2ZWxzKz0xOihfcmVmMT10b2tlblswXSxfX2luZGV4T2YuY2FsbChFWFBSRVNTSU9OX0VORCxfcmVmMSk+PTAmJihsZXZlbHMtPTEpKSxpKz0xfXJldHVybiBpLTF9LFJld3JpdGVyLnByb3RvdHlwZS5yZW1vdmVMZWFkaW5nTmV3bGluZXM9ZnVuY3Rpb24oKXt2YXIgaSx0YWcsX2ksX2xlbixfcmVmO2ZvcihfcmVmPXRoaXMudG9rZW5zLGk9X2k9MCxfbGVuPV9yZWYubGVuZ3RoO19sZW4+X2kmJih0YWc9X3JlZltpXVswXSxcXFwiVEVSTUlOQVRPUlxcXCI9PT10YWcpO2k9KytfaSk7cmV0dXJuIGk/dGhpcy50b2tlbnMuc3BsaWNlKDAsaSk6dm9pZCAwfSxSZXdyaXRlci5wcm90b3R5cGUucmVtb3ZlTWlkRXhwcmVzc2lvbk5ld2xpbmVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2NhblRva2VucyhmdW5jdGlvbih0b2tlbixpLHRva2Vucyl7dmFyIF9yZWY7cmV0dXJuXFxcIlRFUk1JTkFUT1JcXFwiPT09dG9rZW5bMF0mJihfcmVmPXRoaXMudGFnKGkrMSksX19pbmRleE9mLmNhbGwoRVhQUkVTU0lPTl9DTE9TRSxfcmVmKT49MCk/KHRva2Vucy5zcGxpY2UoaSwxKSwwKToxfSl9LFJld3JpdGVyLnByb3RvdHlwZS5jbG9zZU9wZW5DYWxscz1mdW5jdGlvbigpe3ZhciBhY3Rpb24sY29uZGl0aW9uO3JldHVybiBjb25kaXRpb249ZnVuY3Rpb24odG9rZW4saSl7dmFyIF9yZWY7cmV0dXJuXFxcIilcXFwiPT09KF9yZWY9dG9rZW5bMF0pfHxcXFwiQ0FMTF9FTkRcXFwiPT09X3JlZnx8XFxcIk9VVERFTlRcXFwiPT09dG9rZW5bMF0mJlxcXCIpXFxcIj09PXRoaXMudGFnKGktMSl9LGFjdGlvbj1mdW5jdGlvbih0b2tlbixpKXtyZXR1cm4gdGhpcy50b2tlbnNbXFxcIk9VVERFTlRcXFwiPT09dG9rZW5bMF0/aS0xOmldWzBdPVxcXCJDQUxMX0VORFxcXCJ9LHRoaXMuc2NhblRva2VucyhmdW5jdGlvbih0b2tlbixpKXtyZXR1cm5cXFwiQ0FMTF9TVEFSVFxcXCI9PT10b2tlblswXSYmdGhpcy5kZXRlY3RFbmQoaSsxLGNvbmRpdGlvbixhY3Rpb24pLDF9KX0sUmV3cml0ZXIucHJvdG90eXBlLmNsb3NlT3BlbkluZGV4ZXM9ZnVuY3Rpb24oKXt2YXIgYWN0aW9uLGNvbmRpdGlvbjtyZXR1cm4gY29uZGl0aW9uPWZ1bmN0aW9uKHRva2VuKXt2YXIgX3JlZjtyZXR1cm5cXFwiXVxcXCI9PT0oX3JlZj10b2tlblswXSl8fFxcXCJJTkRFWF9FTkRcXFwiPT09X3JlZn0sYWN0aW9uPWZ1bmN0aW9uKHRva2VuKXtyZXR1cm4gdG9rZW5bMF09XFxcIklOREVYX0VORFxcXCJ9LHRoaXMuc2NhblRva2VucyhmdW5jdGlvbih0b2tlbixpKXtyZXR1cm5cXFwiSU5ERVhfU1RBUlRcXFwiPT09dG9rZW5bMF0mJnRoaXMuZGV0ZWN0RW5kKGkrMSxjb25kaXRpb24sYWN0aW9uKSwxfSl9LFJld3JpdGVyLnByb3RvdHlwZS5tYXRjaFRhZ3M9ZnVuY3Rpb24oKXt2YXIgZnV6eixpLGoscGF0dGVybixfaSxfcmVmLF9yZWYxO2ZvcihpPWFyZ3VtZW50c1swXSxwYXR0ZXJuPWFyZ3VtZW50cy5sZW5ndGg+PTI/X19zbGljZS5jYWxsKGFyZ3VtZW50cywxKTpbXSxmdXp6PTAsaj1faT0wLF9yZWY9cGF0dGVybi5sZW5ndGg7X3JlZj49MD9fcmVmPl9pOl9pPl9yZWY7aj1fcmVmPj0wPysrX2k6LS1faSl7Zm9yKDtcXFwiSEVSRUNPTU1FTlRcXFwiPT09dGhpcy50YWcoaStqK2Z1enopOylmdXp6Kz0yO2lmKG51bGwhPXBhdHRlcm5bal0mJihcXFwic3RyaW5nXFxcIj09dHlwZW9mIHBhdHRlcm5bal0mJihwYXR0ZXJuW2pdPVtwYXR0ZXJuW2pdXSksX3JlZjE9dGhpcy50YWcoaStqK2Z1enopLDA+X19pbmRleE9mLmNhbGwocGF0dGVybltqXSxfcmVmMSkpKXJldHVybiExfXJldHVybiEwfSxSZXdyaXRlci5wcm90b3R5cGUubG9va3NPYmplY3Rpc2g9ZnVuY3Rpb24oail7cmV0dXJuIHRoaXMubWF0Y2hUYWdzKGosXFxcIkBcXFwiLG51bGwsXFxcIjpcXFwiKXx8dGhpcy5tYXRjaFRhZ3MoaixudWxsLFxcXCI6XFxcIil9LFJld3JpdGVyLnByb3RvdHlwZS5maW5kVGFnc0JhY2t3YXJkcz1mdW5jdGlvbihpLHRhZ3Mpe3ZhciBiYWNrU3RhY2ssX3JlZixfcmVmMSxfcmVmMixfcmVmMyxfcmVmNCxfcmVmNTtmb3IoYmFja1N0YWNrPVtdO2k+PTAmJihiYWNrU3RhY2subGVuZ3RofHwoX3JlZjI9dGhpcy50YWcoaSksMD5fX2luZGV4T2YuY2FsbCh0YWdzLF9yZWYyKSYmKF9yZWYzPXRoaXMudGFnKGkpLDA+X19pbmRleE9mLmNhbGwoRVhQUkVTU0lPTl9TVEFSVCxfcmVmMyl8fHRoaXMudG9rZW5zW2ldLmdlbmVyYXRlZCkmJihfcmVmND10aGlzLnRhZyhpKSwwPl9faW5kZXhPZi5jYWxsKExJTkVCUkVBS1MsX3JlZjQpKSkpOylfcmVmPXRoaXMudGFnKGkpLF9faW5kZXhPZi5jYWxsKEVYUFJFU1NJT05fRU5ELF9yZWYpPj0wJiZiYWNrU3RhY2sucHVzaCh0aGlzLnRhZyhpKSksX3JlZjE9dGhpcy50YWcoaSksX19pbmRleE9mLmNhbGwoRVhQUkVTU0lPTl9TVEFSVCxfcmVmMSk+PTAmJmJhY2tTdGFjay5sZW5ndGgmJmJhY2tTdGFjay5wb3AoKSxpLT0xO3JldHVybiBfcmVmNT10aGlzLnRhZyhpKSxfX2luZGV4T2YuY2FsbCh0YWdzLF9yZWY1KT49MH0sUmV3cml0ZXIucHJvdG90eXBlLmFkZEltcGxpY2l0QnJhY2VzQW5kUGFyZW5zPWZ1bmN0aW9uKCl7dmFyIHN0YWNrO3JldHVybiBzdGFjaz1bXSx0aGlzLnNjYW5Ub2tlbnMoZnVuY3Rpb24odG9rZW4saSx0b2tlbnMpe3ZhciBlbmRJbXBsaWNpdENhbGwsZW5kSW1wbGljaXRPYmplY3QsZm9yd2FyZCxpbkltcGxpY2l0LGluSW1wbGljaXRDYWxsLGluSW1wbGljaXRDb250cm9sLGluSW1wbGljaXRPYmplY3QsbmV4dFRhZyxvZmZzZXQscHJldlRhZyxzLHNhbWVMaW5lLHN0YWNrSWR4LHN0YWNrVGFnLHN0YWNrVG9wLHN0YXJ0SWR4LHN0YXJ0SW1wbGljaXRDYWxsLHN0YXJ0SW1wbGljaXRPYmplY3Qsc3RhcnRzTGluZSx0YWcsX3JlZixfcmVmMSxfcmVmMixfcmVmMyxfcmVmNCxfcmVmNTtpZih0YWc9dG9rZW5bMF0scHJldlRhZz0oaT4wP3Rva2Vuc1tpLTFdOltdKVswXSxuZXh0VGFnPSh0b2tlbnMubGVuZ3RoLTE+aT90b2tlbnNbaSsxXTpbXSlbMF0sc3RhY2tUb3A9ZnVuY3Rpb24oKXtyZXR1cm4gc3RhY2tbc3RhY2subGVuZ3RoLTFdfSxzdGFydElkeD1pLGZvcndhcmQ9ZnVuY3Rpb24obil7cmV0dXJuIGktc3RhcnRJZHgrbn0saW5JbXBsaWNpdD1mdW5jdGlvbigpe3ZhciBfcmVmLF9yZWYxO3JldHVybiBudWxsIT0oX3JlZj1zdGFja1RvcCgpKT9udWxsIT0oX3JlZjE9X3JlZlsyXSk/X3JlZjEub3Vyczp2b2lkIDA6dm9pZCAwfSxpbkltcGxpY2l0Q2FsbD1mdW5jdGlvbigpe3ZhciBfcmVmO3JldHVybiBpbkltcGxpY2l0KCkmJlxcXCIoXFxcIj09PShudWxsIT0oX3JlZj1zdGFja1RvcCgpKT9fcmVmWzBdOnZvaWQgMCl9LGluSW1wbGljaXRPYmplY3Q9ZnVuY3Rpb24oKXt2YXIgX3JlZjtyZXR1cm4gaW5JbXBsaWNpdCgpJiZcXFwie1xcXCI9PT0obnVsbCE9KF9yZWY9c3RhY2tUb3AoKSk/X3JlZlswXTp2b2lkIDApfSxpbkltcGxpY2l0Q29udHJvbD1mdW5jdGlvbigpe3ZhciBfcmVmO3JldHVybiBpbkltcGxpY2l0JiZcXFwiQ09OVFJPTFxcXCI9PT0obnVsbCE9KF9yZWY9c3RhY2tUb3AoKSk/X3JlZlswXTp2b2lkIDApfSxzdGFydEltcGxpY2l0Q2FsbD1mdW5jdGlvbihqKXt2YXIgaWR4O3JldHVybiBpZHg9bnVsbCE9aj9qOmksc3RhY2sucHVzaChbXFxcIihcXFwiLGlkeCx7b3VyczohMH1dKSx0b2tlbnMuc3BsaWNlKGlkeCwwLGdlbmVyYXRlKFxcXCJDQUxMX1NUQVJUXFxcIixcXFwiKFxcXCIpKSxudWxsPT1qP2krPTE6dm9pZCAwfSxlbmRJbXBsaWNpdENhbGw9ZnVuY3Rpb24oKXtyZXR1cm4gc3RhY2sucG9wKCksdG9rZW5zLnNwbGljZShpLDAsZ2VuZXJhdGUoXFxcIkNBTExfRU5EXFxcIixcXFwiKVxcXCIpKSxpKz0xfSxzdGFydEltcGxpY2l0T2JqZWN0PWZ1bmN0aW9uKGosc3RhcnRzTGluZSl7dmFyIGlkeDtyZXR1cm4gbnVsbD09c3RhcnRzTGluZSYmKHN0YXJ0c0xpbmU9ITApLGlkeD1udWxsIT1qP2o6aSxzdGFjay5wdXNoKFtcXFwie1xcXCIsaWR4LHtzYW1lTGluZTohMCxzdGFydHNMaW5lOnN0YXJ0c0xpbmUsb3VyczohMH1dKSx0b2tlbnMuc3BsaWNlKGlkeCwwLGdlbmVyYXRlKFxcXCJ7XFxcIixnZW5lcmF0ZShuZXcgU3RyaW5nKFxcXCJ7XFxcIikpKSksbnVsbD09aj9pKz0xOnZvaWQgMH0sZW5kSW1wbGljaXRPYmplY3Q9ZnVuY3Rpb24oail7cmV0dXJuIGo9bnVsbCE9aj9qOmksc3RhY2sucG9wKCksdG9rZW5zLnNwbGljZShqLDAsZ2VuZXJhdGUoXFxcIn1cXFwiLFxcXCJ9XFxcIikpLGkrPTF9LGluSW1wbGljaXRDYWxsKCkmJihcXFwiSUZcXFwiPT09dGFnfHxcXFwiVFJZXFxcIj09PXRhZ3x8XFxcIkZJTkFMTFlcXFwiPT09dGFnfHxcXFwiQ0FUQ0hcXFwiPT09dGFnfHxcXFwiQ0xBU1NcXFwiPT09dGFnfHxcXFwiU1dJVENIXFxcIj09PXRhZykpcmV0dXJuIHN0YWNrLnB1c2goW1xcXCJDT05UUk9MXFxcIixpLHtvdXJzOiEwfV0pLGZvcndhcmQoMSk7aWYoXFxcIklOREVOVFxcXCI9PT10YWcmJmluSW1wbGljaXQoKSl7aWYoXFxcIj0+XFxcIiE9PXByZXZUYWcmJlxcXCItPlxcXCIhPT1wcmV2VGFnJiZcXFwiW1xcXCIhPT1wcmV2VGFnJiZcXFwiKFxcXCIhPT1wcmV2VGFnJiZcXFwiLFxcXCIhPT1wcmV2VGFnJiZcXFwie1xcXCIhPT1wcmV2VGFnJiZcXFwiVFJZXFxcIiE9PXByZXZUYWcmJlxcXCJFTFNFXFxcIiE9PXByZXZUYWcmJlxcXCI9XFxcIiE9PXByZXZUYWcpZm9yKDtpbkltcGxpY2l0Q2FsbCgpOyllbmRJbXBsaWNpdENhbGwoKTtcXG5yZXR1cm4gaW5JbXBsaWNpdENvbnRyb2woKSYmc3RhY2sucG9wKCksc3RhY2sucHVzaChbdGFnLGldKSxmb3J3YXJkKDEpfWlmKF9faW5kZXhPZi5jYWxsKEVYUFJFU1NJT05fU1RBUlQsdGFnKT49MClyZXR1cm4gc3RhY2sucHVzaChbdGFnLGldKSxmb3J3YXJkKDEpO2lmKF9faW5kZXhPZi5jYWxsKEVYUFJFU1NJT05fRU5ELHRhZyk+PTApe2Zvcig7aW5JbXBsaWNpdCgpOylpbkltcGxpY2l0Q2FsbCgpP2VuZEltcGxpY2l0Q2FsbCgpOmluSW1wbGljaXRPYmplY3QoKT9lbmRJbXBsaWNpdE9iamVjdCgpOnN0YWNrLnBvcCgpO3N0YWNrLnBvcCgpfWlmKChfX2luZGV4T2YuY2FsbChJTVBMSUNJVF9GVU5DLHRhZyk+PTAmJnRva2VuLnNwYWNlZCYmIXRva2VuLnN0cmluZ0VuZHx8XFxcIj9cXFwiPT09dGFnJiZpPjAmJiF0b2tlbnNbaS0xXS5zcGFjZWQpJiYoX19pbmRleE9mLmNhbGwoSU1QTElDSVRfQ0FMTCxuZXh0VGFnKT49MHx8X19pbmRleE9mLmNhbGwoSU1QTElDSVRfVU5TUEFDRURfQ0FMTCxuZXh0VGFnKT49MCYmIShudWxsIT0oX3JlZj10b2tlbnNbaSsxXSk/X3JlZi5zcGFjZWQ6dm9pZCAwKSYmIShudWxsIT0oX3JlZjE9dG9rZW5zW2krMV0pP19yZWYxLm5ld0xpbmU6dm9pZCAwKSkpcmV0dXJuXFxcIj9cXFwiPT09dGFnJiYodGFnPXRva2VuWzBdPVxcXCJGVU5DX0VYSVNUXFxcIiksc3RhcnRJbXBsaWNpdENhbGwoaSsxKSxmb3J3YXJkKDIpO2lmKHRoaXMubWF0Y2hUYWdzKGksSU1QTElDSVRfRlVOQyxcXFwiSU5ERU5UXFxcIixudWxsLFxcXCI6XFxcIikmJiF0aGlzLmZpbmRUYWdzQmFja3dhcmRzKGksW1xcXCJDTEFTU1xcXCIsXFxcIkVYVEVORFNcXFwiLFxcXCJJRlxcXCIsXFxcIkNBVENIXFxcIixcXFwiU1dJVENIXFxcIixcXFwiTEVBRElOR19XSEVOXFxcIixcXFwiRk9SXFxcIixcXFwiV0hJTEVcXFwiLFxcXCJVTlRJTFxcXCJdKSlyZXR1cm4gc3RhcnRJbXBsaWNpdENhbGwoaSsxKSxzdGFjay5wdXNoKFtcXFwiSU5ERU5UXFxcIixpKzJdKSxmb3J3YXJkKDMpO2lmKFxcXCI6XFxcIj09PXRhZyl7Zm9yKHM9XFxcIkBcXFwiPT09dGhpcy50YWcoaS0yKT9pLTI6aS0xO1xcXCJIRVJFQ09NTUVOVFxcXCI9PT10aGlzLnRhZyhzLTIpOylzLT0yO3JldHVybiBzdGFydHNMaW5lPTA9PT1zfHwoX3JlZjI9dGhpcy50YWcocy0xKSxfX2luZGV4T2YuY2FsbChMSU5FQlJFQUtTLF9yZWYyKT49MCl8fHRva2Vuc1tzLTFdLm5ld0xpbmUsc3RhY2tUb3AoKSYmKF9yZWYzPXN0YWNrVG9wKCksc3RhY2tUYWc9X3JlZjNbMF0sc3RhY2tJZHg9X3JlZjNbMV0sKFxcXCJ7XFxcIj09PXN0YWNrVGFnfHxcXFwiSU5ERU5UXFxcIj09PXN0YWNrVGFnJiZcXFwie1xcXCI9PT10aGlzLnRhZyhzdGFja0lkeC0xKSkmJihzdGFydHNMaW5lfHxcXFwiLFxcXCI9PT10aGlzLnRhZyhzLTEpfHxcXFwie1xcXCI9PT10aGlzLnRhZyhzLTEpKSk/Zm9yd2FyZCgxKTooc3RhcnRJbXBsaWNpdE9iamVjdChzLCEhc3RhcnRzTGluZSksZm9yd2FyZCgyKSl9aWYoXFxcIk9VVERFTlRcXFwiPT09cHJldlRhZyYmaW5JbXBsaWNpdENhbGwoKSYmKFxcXCIuXFxcIj09PXRhZ3x8XFxcIj8uXFxcIj09PXRhZ3x8XFxcIjo6XFxcIj09PXRhZ3x8XFxcIj86OlxcXCI9PT10YWcpKXJldHVybiBlbmRJbXBsaWNpdENhbGwoKSxmb3J3YXJkKDEpO2lmKGluSW1wbGljaXRPYmplY3QoKSYmX19pbmRleE9mLmNhbGwoTElORUJSRUFLUyx0YWcpPj0wJiYoc3RhY2tUb3AoKVsyXS5zYW1lTGluZT0hMSksX19pbmRleE9mLmNhbGwoSU1QTElDSVRfRU5ELHRhZyk+PTApZm9yKDtpbkltcGxpY2l0KCk7KWlmKF9yZWY0PXN0YWNrVG9wKCksc3RhY2tUYWc9X3JlZjRbMF0sc3RhY2tJZHg9X3JlZjRbMV0sX3JlZjU9X3JlZjRbMl0sc2FtZUxpbmU9X3JlZjUuc2FtZUxpbmUsc3RhcnRzTGluZT1fcmVmNS5zdGFydHNMaW5lLGluSW1wbGljaXRDYWxsKCkmJlxcXCIsXFxcIiE9PXByZXZUYWcpZW5kSW1wbGljaXRDYWxsKCk7ZWxzZSBpZihpbkltcGxpY2l0T2JqZWN0KCkmJnNhbWVMaW5lJiYhc3RhcnRzTGluZSllbmRJbXBsaWNpdE9iamVjdCgpO2Vsc2V7aWYoIWluSW1wbGljaXRPYmplY3QoKXx8XFxcIlRFUk1JTkFUT1JcXFwiIT09dGFnfHxcXFwiLFxcXCI9PT1wcmV2VGFnfHxzdGFydHNMaW5lJiZ0aGlzLmxvb2tzT2JqZWN0aXNoKGkrMSkpYnJlYWs7ZW5kSW1wbGljaXRPYmplY3QoKX1pZihcXFwiLFxcXCI9PT10YWcmJiF0aGlzLmxvb2tzT2JqZWN0aXNoKGkrMSkmJmluSW1wbGljaXRPYmplY3QoKSYmKFxcXCJURVJNSU5BVE9SXFxcIiE9PW5leHRUYWd8fCF0aGlzLmxvb2tzT2JqZWN0aXNoKGkrMikpKWZvcihvZmZzZXQ9XFxcIk9VVERFTlRcXFwiPT09bmV4dFRhZz8xOjA7aW5JbXBsaWNpdE9iamVjdCgpOyllbmRJbXBsaWNpdE9iamVjdChpK29mZnNldCk7cmV0dXJuIGZvcndhcmQoMSl9KX0sUmV3cml0ZXIucHJvdG90eXBlLmFkZExvY2F0aW9uRGF0YVRvR2VuZXJhdGVkVG9rZW5zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2NhblRva2VucyhmdW5jdGlvbih0b2tlbixpLHRva2Vucyl7dmFyIGNvbHVtbixsaW5lLG5leHRMb2NhdGlvbixwcmV2TG9jYXRpb24sX3JlZixfcmVmMTtyZXR1cm4gdG9rZW5bMl0/MTp0b2tlbi5nZW5lcmF0ZWR8fHRva2VuLmV4cGxpY2l0PyhcXFwie1xcXCI9PT10b2tlblswXSYmKG5leHRMb2NhdGlvbj1udWxsIT0oX3JlZj10b2tlbnNbaSsxXSk/X3JlZlsyXTp2b2lkIDApPyhsaW5lPW5leHRMb2NhdGlvbi5maXJzdF9saW5lLGNvbHVtbj1uZXh0TG9jYXRpb24uZmlyc3RfY29sdW1uKToocHJldkxvY2F0aW9uPW51bGwhPShfcmVmMT10b2tlbnNbaS0xXSk/X3JlZjFbMl06dm9pZCAwKT8obGluZT1wcmV2TG9jYXRpb24ubGFzdF9saW5lLGNvbHVtbj1wcmV2TG9jYXRpb24ubGFzdF9jb2x1bW4pOmxpbmU9Y29sdW1uPTAsdG9rZW5bMl09e2ZpcnN0X2xpbmU6bGluZSxmaXJzdF9jb2x1bW46Y29sdW1uLGxhc3RfbGluZTpsaW5lLGxhc3RfY29sdW1uOmNvbHVtbn0sMSk6MX0pfSxSZXdyaXRlci5wcm90b3R5cGUuYWRkSW1wbGljaXRJbmRlbnRhdGlvbj1mdW5jdGlvbigpe3ZhciBhY3Rpb24sY29uZGl0aW9uLGluZGVudCxvdXRkZW50LHN0YXJ0ZXI7cmV0dXJuIHN0YXJ0ZXI9aW5kZW50PW91dGRlbnQ9bnVsbCxjb25kaXRpb249ZnVuY3Rpb24odG9rZW4pe3ZhciBfcmVmO3JldHVyblxcXCI7XFxcIiE9PXRva2VuWzFdJiYoX3JlZj10b2tlblswXSxfX2luZGV4T2YuY2FsbChTSU5HTEVfQ0xPU0VSUyxfcmVmKT49MCkmJiEoXFxcIkVMU0VcXFwiPT09dG9rZW5bMF0mJlxcXCJJRlxcXCIhPT1zdGFydGVyJiZcXFwiVEhFTlxcXCIhPT1zdGFydGVyKX0sYWN0aW9uPWZ1bmN0aW9uKHRva2VuLGkpe3JldHVybiB0aGlzLnRva2Vucy5zcGxpY2UoXFxcIixcXFwiPT09dGhpcy50YWcoaS0xKT9pLTE6aSwwLG91dGRlbnQpfSx0aGlzLnNjYW5Ub2tlbnMoZnVuY3Rpb24odG9rZW4saSx0b2tlbnMpe3ZhciBqLHRhZyxfaSxfcmVmLF9yZWYxO2lmKHRhZz10b2tlblswXSxcXFwiVEVSTUlOQVRPUlxcXCI9PT10YWcmJlxcXCJUSEVOXFxcIj09PXRoaXMudGFnKGkrMSkpcmV0dXJuIHRva2Vucy5zcGxpY2UoaSwxKSwwO2lmKFxcXCJFTFNFXFxcIj09PXRhZyYmXFxcIk9VVERFTlRcXFwiIT09dGhpcy50YWcoaS0xKSlyZXR1cm4gdG9rZW5zLnNwbGljZS5hcHBseSh0b2tlbnMsW2ksMF0uY29uY2F0KF9fc2xpY2UuY2FsbCh0aGlzLmluZGVudGF0aW9uKCkpKSksMjtpZihcXFwiQ0FUQ0hcXFwiPT09dGFnKWZvcihqPV9pPTE7Mj49X2k7aj0rK19pKWlmKFxcXCJPVVRERU5UXFxcIj09PShfcmVmPXRoaXMudGFnKGkraikpfHxcXFwiVEVSTUlOQVRPUlxcXCI9PT1fcmVmfHxcXFwiRklOQUxMWVxcXCI9PT1fcmVmKXJldHVybiB0b2tlbnMuc3BsaWNlLmFwcGx5KHRva2VucyxbaStqLDBdLmNvbmNhdChfX3NsaWNlLmNhbGwodGhpcy5pbmRlbnRhdGlvbigpKSkpLDIrajtyZXR1cm4gX19pbmRleE9mLmNhbGwoU0lOR0xFX0xJTkVSUyx0YWcpPj0wJiZcXFwiSU5ERU5UXFxcIiE9PXRoaXMudGFnKGkrMSkmJihcXFwiRUxTRVxcXCIhPT10YWd8fFxcXCJJRlxcXCIhPT10aGlzLnRhZyhpKzEpKT8oc3RhcnRlcj10YWcsX3JlZjE9dGhpcy5pbmRlbnRhdGlvbighMCksaW5kZW50PV9yZWYxWzBdLG91dGRlbnQ9X3JlZjFbMV0sXFxcIlRIRU5cXFwiPT09c3RhcnRlciYmKGluZGVudC5mcm9tVGhlbj0hMCksdG9rZW5zLnNwbGljZShpKzEsMCxpbmRlbnQpLHRoaXMuZGV0ZWN0RW5kKGkrMixjb25kaXRpb24sYWN0aW9uKSxcXFwiVEhFTlxcXCI9PT10YWcmJnRva2Vucy5zcGxpY2UoaSwxKSwxKToxfSl9LFJld3JpdGVyLnByb3RvdHlwZS50YWdQb3N0Zml4Q29uZGl0aW9uYWxzPWZ1bmN0aW9uKCl7dmFyIGFjdGlvbixjb25kaXRpb24sb3JpZ2luYWw7cmV0dXJuIG9yaWdpbmFsPW51bGwsY29uZGl0aW9uPWZ1bmN0aW9uKHRva2VuLGkpe3ZhciBwcmV2VGFnLHRhZztyZXR1cm4gdGFnPXRva2VuWzBdLHByZXZUYWc9dGhpcy50b2tlbnNbaS0xXVswXSxcXFwiVEVSTUlOQVRPUlxcXCI9PT10YWd8fFxcXCJJTkRFTlRcXFwiPT09dGFnJiYwPl9faW5kZXhPZi5jYWxsKFNJTkdMRV9MSU5FUlMscHJldlRhZyl9LGFjdGlvbj1mdW5jdGlvbih0b2tlbil7cmV0dXJuXFxcIklOREVOVFxcXCIhPT10b2tlblswXXx8dG9rZW4uZ2VuZXJhdGVkJiYhdG9rZW4uZnJvbVRoZW4/b3JpZ2luYWxbMF09XFxcIlBPU1RfXFxcIitvcmlnaW5hbFswXTp2b2lkIDB9LHRoaXMuc2NhblRva2VucyhmdW5jdGlvbih0b2tlbixpKXtyZXR1cm5cXFwiSUZcXFwiIT09dG9rZW5bMF0/MToob3JpZ2luYWw9dG9rZW4sdGhpcy5kZXRlY3RFbmQoaSsxLGNvbmRpdGlvbixhY3Rpb24pLDEpfSl9LFJld3JpdGVyLnByb3RvdHlwZS5pbmRlbnRhdGlvbj1mdW5jdGlvbihpbXBsaWNpdCl7dmFyIGluZGVudCxvdXRkZW50O3JldHVybiBudWxsPT1pbXBsaWNpdCYmKGltcGxpY2l0PSExKSxpbmRlbnQ9W1xcXCJJTkRFTlRcXFwiLDJdLG91dGRlbnQ9W1xcXCJPVVRERU5UXFxcIiwyXSxpbXBsaWNpdCYmKGluZGVudC5nZW5lcmF0ZWQ9b3V0ZGVudC5nZW5lcmF0ZWQ9ITApLGltcGxpY2l0fHwoaW5kZW50LmV4cGxpY2l0PW91dGRlbnQuZXhwbGljaXQ9ITApLFtpbmRlbnQsb3V0ZGVudF19LFJld3JpdGVyLnByb3RvdHlwZS5nZW5lcmF0ZT1nZW5lcmF0ZSxSZXdyaXRlci5wcm90b3R5cGUudGFnPWZ1bmN0aW9uKGkpe3ZhciBfcmVmO3JldHVybiBudWxsIT0oX3JlZj10aGlzLnRva2Vuc1tpXSk/X3JlZlswXTp2b2lkIDB9LFJld3JpdGVyfSgpLEJBTEFOQ0VEX1BBSVJTPVtbXFxcIihcXFwiLFxcXCIpXFxcIl0sW1xcXCJbXFxcIixcXFwiXVxcXCJdLFtcXFwie1xcXCIsXFxcIn1cXFwiXSxbXFxcIklOREVOVFxcXCIsXFxcIk9VVERFTlRcXFwiXSxbXFxcIkNBTExfU1RBUlRcXFwiLFxcXCJDQUxMX0VORFxcXCJdLFtcXFwiUEFSQU1fU1RBUlRcXFwiLFxcXCJQQVJBTV9FTkRcXFwiXSxbXFxcIklOREVYX1NUQVJUXFxcIixcXFwiSU5ERVhfRU5EXFxcIl1dLGV4cG9ydHMuSU5WRVJTRVM9SU5WRVJTRVM9e30sRVhQUkVTU0lPTl9TVEFSVD1bXSxFWFBSRVNTSU9OX0VORD1bXSxfaT0wLF9sZW49QkFMQU5DRURfUEFJUlMubGVuZ3RoO19sZW4+X2k7X2krKylfcmVmPUJBTEFOQ0VEX1BBSVJTW19pXSxsZWZ0PV9yZWZbMF0scml0ZT1fcmVmWzFdLEVYUFJFU1NJT05fU1RBUlQucHVzaChJTlZFUlNFU1tyaXRlXT1sZWZ0KSxFWFBSRVNTSU9OX0VORC5wdXNoKElOVkVSU0VTW2xlZnRdPXJpdGUpO0VYUFJFU1NJT05fQ0xPU0U9W1xcXCJDQVRDSFxcXCIsXFxcIldIRU5cXFwiLFxcXCJFTFNFXFxcIixcXFwiRklOQUxMWVxcXCJdLmNvbmNhdChFWFBSRVNTSU9OX0VORCksSU1QTElDSVRfRlVOQz1bXFxcIklERU5USUZJRVJcXFwiLFxcXCJTVVBFUlxcXCIsXFxcIilcXFwiLFxcXCJDQUxMX0VORFxcXCIsXFxcIl1cXFwiLFxcXCJJTkRFWF9FTkRcXFwiLFxcXCJAXFxcIixcXFwiVEhJU1xcXCJdLElNUExJQ0lUX0NBTEw9W1xcXCJJREVOVElGSUVSXFxcIixcXFwiTlVNQkVSXFxcIixcXFwiU1RSSU5HXFxcIixcXFwiSlNcXFwiLFxcXCJSRUdFWFxcXCIsXFxcIk5FV1xcXCIsXFxcIlBBUkFNX1NUQVJUXFxcIixcXFwiQ0xBU1NcXFwiLFxcXCJJRlxcXCIsXFxcIlRSWVxcXCIsXFxcIlNXSVRDSFxcXCIsXFxcIlRISVNcXFwiLFxcXCJCT09MXFxcIixcXFwiTlVMTFxcXCIsXFxcIlVOREVGSU5FRFxcXCIsXFxcIlVOQVJZXFxcIixcXFwiU1VQRVJcXFwiLFxcXCJUSFJPV1xcXCIsXFxcIkBcXFwiLFxcXCItPlxcXCIsXFxcIj0+XFxcIixcXFwiW1xcXCIsXFxcIihcXFwiLFxcXCJ7XFxcIixcXFwiLS1cXFwiLFxcXCIrK1xcXCJdLElNUExJQ0lUX1VOU1BBQ0VEX0NBTEw9W1xcXCIrXFxcIixcXFwiLVxcXCJdLElNUExJQ0lUX0JMT0NLPVtcXFwiLT5cXFwiLFxcXCI9PlxcXCIsXFxcIntcXFwiLFxcXCJbXFxcIixcXFwiLFxcXCJdLElNUExJQ0lUX0VORD1bXFxcIlBPU1RfSUZcXFwiLFxcXCJGT1JcXFwiLFxcXCJXSElMRVxcXCIsXFxcIlVOVElMXFxcIixcXFwiV0hFTlxcXCIsXFxcIkJZXFxcIixcXFwiTE9PUFxcXCIsXFxcIlRFUk1JTkFUT1JcXFwiXSxTSU5HTEVfTElORVJTPVtcXFwiRUxTRVxcXCIsXFxcIi0+XFxcIixcXFwiPT5cXFwiLFxcXCJUUllcXFwiLFxcXCJGSU5BTExZXFxcIixcXFwiVEhFTlxcXCJdLFNJTkdMRV9DTE9TRVJTPVtcXFwiVEVSTUlOQVRPUlxcXCIsXFxcIkNBVENIXFxcIixcXFwiRklOQUxMWVxcXCIsXFxcIkVMU0VcXFwiLFxcXCJPVVRERU5UXFxcIixcXFwiTEVBRElOR19XSEVOXFxcIl0sTElORUJSRUFLUz1bXFxcIlRFUk1JTkFUT1JcXFwiLFxcXCJJTkRFTlRcXFwiLFxcXCJPVVRERU5UXFxcIl19KSxhY2UuZGVmaW5lKFxcXCJhY2UvbW9kZS9jb2ZmZWUvaGVscGVyc1xcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe3ZhciBidWlsZExvY2F0aW9uRGF0YSxleHRlbmQsZmxhdHRlbixsYXN0LHJlcGVhdCxfcmVmO2V4cG9ydHMuc3RhcnRzPWZ1bmN0aW9uKHN0cmluZyxsaXRlcmFsLHN0YXJ0KXtyZXR1cm4gbGl0ZXJhbD09PXN0cmluZy5zdWJzdHIoc3RhcnQsbGl0ZXJhbC5sZW5ndGgpfSxleHBvcnRzLmVuZHM9ZnVuY3Rpb24oc3RyaW5nLGxpdGVyYWwsYmFjayl7dmFyIGxlbjtyZXR1cm4gbGVuPWxpdGVyYWwubGVuZ3RoLGxpdGVyYWw9PT1zdHJpbmcuc3Vic3RyKHN0cmluZy5sZW5ndGgtbGVuLShiYWNrfHwwKSxsZW4pfSxleHBvcnRzLnJlcGVhdD1yZXBlYXQ9ZnVuY3Rpb24oc3RyLG4pe3ZhciByZXM7Zm9yKHJlcz1cXFwiXFxcIjtuPjA7KTEmbiYmKHJlcys9c3RyKSxuPj4+PTEsc3RyKz1zdHI7cmV0dXJuIHJlc30sZXhwb3J0cy5jb21wYWN0PWZ1bmN0aW9uKGFycmF5KXt2YXIgaXRlbSxfaSxfbGVuLF9yZXN1bHRzO2ZvcihfcmVzdWx0cz1bXSxfaT0wLF9sZW49YXJyYXkubGVuZ3RoO19sZW4+X2k7X2krKylpdGVtPWFycmF5W19pXSxpdGVtJiZfcmVzdWx0cy5wdXNoKGl0ZW0pO3JldHVybiBfcmVzdWx0c30sZXhwb3J0cy5jb3VudD1mdW5jdGlvbihzdHJpbmcsc3Vic3RyKXt2YXIgbnVtLHBvcztpZihudW09cG9zPTAsIXN1YnN0ci5sZW5ndGgpcmV0dXJuIDEvMDtmb3IoO3Bvcz0xK3N0cmluZy5pbmRleE9mKHN1YnN0cixwb3MpOyludW0rKztyZXR1cm4gbnVtfSxleHBvcnRzLm1lcmdlPWZ1bmN0aW9uKG9wdGlvbnMsb3ZlcnJpZGVzKXtyZXR1cm4gZXh0ZW5kKGV4dGVuZCh7fSxvcHRpb25zKSxvdmVycmlkZXMpfSxleHRlbmQ9ZXhwb3J0cy5leHRlbmQ9ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnRpZXMpe3ZhciBrZXksdmFsO2ZvcihrZXkgaW4gcHJvcGVydGllcyl2YWw9cHJvcGVydGllc1trZXldLG9iamVjdFtrZXldPXZhbDtyZXR1cm4gb2JqZWN0fSxleHBvcnRzLmZsYXR0ZW49ZmxhdHRlbj1mdW5jdGlvbihhcnJheSl7dmFyIGVsZW1lbnQsZmxhdHRlbmVkLF9pLF9sZW47Zm9yKGZsYXR0ZW5lZD1bXSxfaT0wLF9sZW49YXJyYXkubGVuZ3RoO19sZW4+X2k7X2krKyllbGVtZW50PWFycmF5W19pXSxlbGVtZW50IGluc3RhbmNlb2YgQXJyYXk/ZmxhdHRlbmVkPWZsYXR0ZW5lZC5jb25jYXQoZmxhdHRlbihlbGVtZW50KSk6ZmxhdHRlbmVkLnB1c2goZWxlbWVudCk7cmV0dXJuIGZsYXR0ZW5lZH0sZXhwb3J0cy5kZWw9ZnVuY3Rpb24ob2JqLGtleSl7dmFyIHZhbDtyZXR1cm4gdmFsPW9ialtrZXldLGRlbGV0ZSBvYmpba2V5XSx2YWx9LGV4cG9ydHMubGFzdD1sYXN0PWZ1bmN0aW9uKGFycmF5LGJhY2spe3JldHVybiBhcnJheVthcnJheS5sZW5ndGgtKGJhY2t8fDApLTFdfSxleHBvcnRzLnNvbWU9bnVsbCE9KF9yZWY9QXJyYXkucHJvdG90eXBlLnNvbWUpP19yZWY6ZnVuY3Rpb24oZm4pe3ZhciBlLF9pLF9sZW47Zm9yKF9pPTAsX2xlbj10aGlzLmxlbmd0aDtfbGVuPl9pO19pKyspaWYoZT10aGlzW19pXSxmbihlKSlyZXR1cm4hMDtyZXR1cm4hMX0sZXhwb3J0cy5pbnZlcnRMaXRlcmF0ZT1mdW5jdGlvbihjb2RlKXt2YXIgbGluZSxsaW5lcyxtYXliZV9jb2RlO3JldHVybiBtYXliZV9jb2RlPSEwLGxpbmVzPWZ1bmN0aW9uKCl7dmFyIF9pLF9sZW4sX3JlZjEsX3Jlc3VsdHM7Zm9yKF9yZWYxPWNvZGUuc3BsaXQoXFxcIlxcXFxuXFxcIiksX3Jlc3VsdHM9W10sX2k9MCxfbGVuPV9yZWYxLmxlbmd0aDtfbGVuPl9pO19pKyspbGluZT1fcmVmMVtfaV0sbWF5YmVfY29kZSYmL14oWyBdezR9fFsgXXswLDN9XFxcXHQpLy50ZXN0KGxpbmUpP19yZXN1bHRzLnB1c2gobGluZSk6KG1heWJlX2NvZGU9L15cXFxccyokLy50ZXN0KGxpbmUpKT9fcmVzdWx0cy5wdXNoKGxpbmUpOl9yZXN1bHRzLnB1c2goXFxcIiMgXFxcIitsaW5lKTtyZXR1cm4gX3Jlc3VsdHN9KCksbGluZXMuam9pbihcXFwiXFxcXG5cXFwiKX0sYnVpbGRMb2NhdGlvbkRhdGE9ZnVuY3Rpb24oZmlyc3QsbGFzdCl7cmV0dXJuIGxhc3Q/e2ZpcnN0X2xpbmU6Zmlyc3QuZmlyc3RfbGluZSxmaXJzdF9jb2x1bW46Zmlyc3QuZmlyc3RfY29sdW1uLGxhc3RfbGluZTpsYXN0Lmxhc3RfbGluZSxsYXN0X2NvbHVtbjpsYXN0Lmxhc3RfY29sdW1ufTpmaXJzdH0sZXhwb3J0cy5hZGRMb2NhdGlvbkRhdGFGbj1mdW5jdGlvbihmaXJzdCxsYXN0KXtyZXR1cm4gZnVuY3Rpb24ob2JqKXtyZXR1cm5cXFwib2JqZWN0XFxcIj09dHlwZW9mIG9iaiYmb2JqLnVwZGF0ZUxvY2F0aW9uRGF0YUlmTWlzc2luZyYmb2JqLnVwZGF0ZUxvY2F0aW9uRGF0YUlmTWlzc2luZyhidWlsZExvY2F0aW9uRGF0YShmaXJzdCxsYXN0KSksb2JqfX0sZXhwb3J0cy5sb2NhdGlvbkRhdGFUb1N0cmluZz1mdW5jdGlvbihvYmope3ZhciBsb2NhdGlvbkRhdGE7cmV0dXJuXFxcIjJcXFwiaW4gb2JqJiZcXFwiZmlyc3RfbGluZVxcXCJpbiBvYmpbMl0/bG9jYXRpb25EYXRhPW9ialsyXTpcXFwiZmlyc3RfbGluZVxcXCJpbiBvYmomJihsb2NhdGlvbkRhdGE9b2JqKSxsb2NhdGlvbkRhdGE/XFxcIlxcXCIrKGxvY2F0aW9uRGF0YS5maXJzdF9saW5lKzEpK1xcXCI6XFxcIisobG9jYXRpb25EYXRhLmZpcnN0X2NvbHVtbisxKStcXFwiLVxcXCIrKFxcXCJcXFwiKyhsb2NhdGlvbkRhdGEubGFzdF9saW5lKzEpK1xcXCI6XFxcIisobG9jYXRpb25EYXRhLmxhc3RfY29sdW1uKzEpKTpcXFwiTm8gbG9jYXRpb24gZGF0YVxcXCJ9LGV4cG9ydHMuYmFzZUZpbGVOYW1lPWZ1bmN0aW9uKGZpbGUsc3RyaXBFeHQsdXNlV2luUGF0aFNlcCl7dmFyIHBhcnRzLHBhdGhTZXA7cmV0dXJuIG51bGw9PXN0cmlwRXh0JiYoc3RyaXBFeHQ9ITEpLG51bGw9PXVzZVdpblBhdGhTZXAmJih1c2VXaW5QYXRoU2VwPSExKSxwYXRoU2VwPXVzZVdpblBhdGhTZXA/L1xcXFxcXFxcfFxcXFwvLzovXFxcXC8vLHBhcnRzPWZpbGUuc3BsaXQocGF0aFNlcCksZmlsZT1wYXJ0c1twYXJ0cy5sZW5ndGgtMV0sc3RyaXBFeHQ/KHBhcnRzPWZpbGUuc3BsaXQoXFxcIi5cXFwiKSxwYXJ0cy5wb3AoKSxcXFwiY29mZmVlXFxcIj09PXBhcnRzW3BhcnRzLmxlbmd0aC0xXSYmcGFydHMubGVuZ3RoPjEmJnBhcnRzLnBvcCgpLHBhcnRzLmpvaW4oXFxcIi5cXFwiKSk6ZmlsZX0sZXhwb3J0cy5pc0NvZmZlZT1mdW5jdGlvbihmaWxlKXtyZXR1cm4vXFxcXC4oKGxpdCk/Y29mZmVlfGNvZmZlZVxcXFwubWQpJC8udGVzdChmaWxlKX0sZXhwb3J0cy5pc0xpdGVyYXRlPWZ1bmN0aW9uKGZpbGUpe3JldHVybi9cXFxcLihsaXRjb2ZmZWV8Y29mZmVlXFxcXC5tZCkkLy50ZXN0KGZpbGUpfSxleHBvcnRzLnRocm93U3ludGF4RXJyb3I9ZnVuY3Rpb24obWVzc2FnZSxsb2NhdGlvbil7dmFyIGVycm9yLF9yZWYxLF9yZWYyO3Rocm93IG51bGw9PShfcmVmMT1sb2NhdGlvbi5sYXN0X2xpbmUpJiYobG9jYXRpb24ubGFzdF9saW5lPWxvY2F0aW9uLmZpcnN0X2xpbmUpLG51bGw9PShfcmVmMj1sb2NhdGlvbi5sYXN0X2NvbHVtbikmJihsb2NhdGlvbi5sYXN0X2NvbHVtbj1sb2NhdGlvbi5maXJzdF9jb2x1bW4pLGVycm9yPW5ldyBTeW50YXhFcnJvcihtZXNzYWdlKSxlcnJvci5sb2NhdGlvbj1sb2NhdGlvbixlcnJvcn0sZXhwb3J0cy5wcmV0dHlFcnJvck1lc3NhZ2U9ZnVuY3Rpb24oZXJyb3IsZmlsZU5hbWUsY29kZSx1c2VDb2xvcnMpe3ZhciBjb2RlTGluZSxjb2xvcml6ZSxlbmQsZmlyc3RfY29sdW1uLGZpcnN0X2xpbmUsbGFzdF9jb2x1bW4sbGFzdF9saW5lLG1hcmtlcixtZXNzYWdlLHN0YXJ0LF9yZWYxO3JldHVybiBlcnJvci5sb2NhdGlvbj8oX3JlZjE9ZXJyb3IubG9jYXRpb24sZmlyc3RfbGluZT1fcmVmMS5maXJzdF9saW5lLGZpcnN0X2NvbHVtbj1fcmVmMS5maXJzdF9jb2x1bW4sbGFzdF9saW5lPV9yZWYxLmxhc3RfbGluZSxsYXN0X2NvbHVtbj1fcmVmMS5sYXN0X2NvbHVtbixjb2RlTGluZT1jb2RlLnNwbGl0KFxcXCJcXFxcblxcXCIpW2ZpcnN0X2xpbmVdLHN0YXJ0PWZpcnN0X2NvbHVtbixlbmQ9Zmlyc3RfbGluZT09PWxhc3RfbGluZT9sYXN0X2NvbHVtbisxOmNvZGVMaW5lLmxlbmd0aCxtYXJrZXI9cmVwZWF0KFxcXCIgXFxcIixzdGFydCkrcmVwZWF0KFxcXCJeXFxcIixlbmQtc3RhcnQpLHVzZUNvbG9ycyYmKGNvbG9yaXplPWZ1bmN0aW9uKHN0cil7cmV0dXJuXFxcIlxcdTAwMWJbMTszMW1cXFwiK3N0citcXFwiXFx1MDAxYlswbVxcXCJ9LGNvZGVMaW5lPWNvZGVMaW5lLnNsaWNlKDAsc3RhcnQpK2NvbG9yaXplKGNvZGVMaW5lLnNsaWNlKHN0YXJ0LGVuZCkpK2NvZGVMaW5lLnNsaWNlKGVuZCksbWFya2VyPWNvbG9yaXplKG1hcmtlcikpLG1lc3NhZ2U9XFxcIlxcXCIrZmlsZU5hbWUrXFxcIjpcXFwiKyhmaXJzdF9saW5lKzEpK1xcXCI6XFxcIisoZmlyc3RfY29sdW1uKzEpK1xcXCI6IGVycm9yOiBcXFwiK2Vycm9yLm1lc3NhZ2UrXFxcIlxcXFxuXFxcIitjb2RlTGluZStcXFwiXFxcXG5cXFwiK21hcmtlcik6ZXJyb3Iuc3RhY2t8fFxcXCJcXFwiK2Vycm9yfX0pLGFjZS5kZWZpbmUoXFxcImFjZS9tb2RlL2NvZmZlZS9wYXJzZXJcXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiXSxmdW5jdGlvbihhY2VxdWlyZSxleHBvcnRzLG1vZHVsZSl7ZnVuY3Rpb24gUGFyc2VyKCl7dGhpcy55eT17fX12YXIgcGFyc2VyPXt0cmFjZTpmdW5jdGlvbigpe30seXk6e30sc3ltYm9sc186e2Vycm9yOjIsUm9vdDozLEJvZHk6NCxCbG9jazo1LFRFUk1JTkFUT1I6NixMaW5lOjcsRXhwcmVzc2lvbjo4LFN0YXRlbWVudDo5LFJldHVybjoxMCxDb21tZW50OjExLFNUQVRFTUVOVDoxMixWYWx1ZToxMyxJbnZvY2F0aW9uOjE0LENvZGU6MTUsT3BlcmF0aW9uOjE2LEFzc2lnbjoxNyxJZjoxOCxUcnk6MTksV2hpbGU6MjAsRm9yOjIxLFN3aXRjaDoyMixDbGFzczoyMyxUaHJvdzoyNCxJTkRFTlQ6MjUsT1VUREVOVDoyNixJZGVudGlmaWVyOjI3LElERU5USUZJRVI6MjgsQWxwaGFOdW1lcmljOjI5LE5VTUJFUjozMCxTVFJJTkc6MzEsTGl0ZXJhbDozMixKUzozMyxSRUdFWDozNCxERUJVR0dFUjozNSxVTkRFRklORUQ6MzYsTlVMTDozNyxCT09MOjM4LEFzc2lnbmFibGU6MzksXFxcIj1cXFwiOjQwLEFzc2lnbk9iajo0MSxPYmpBc3NpZ25hYmxlOjQyLFxcXCI6XFxcIjo0MyxUaGlzUHJvcGVydHk6NDQsUkVUVVJOOjQ1LEhFUkVDT01NRU5UOjQ2LFBBUkFNX1NUQVJUOjQ3LFBhcmFtTGlzdDo0OCxQQVJBTV9FTkQ6NDksRnVuY0dseXBoOjUwLFxcXCItPlxcXCI6NTEsXFxcIj0+XFxcIjo1MixPcHRDb21tYTo1MyxcXFwiLFxcXCI6NTQsUGFyYW06NTUsUGFyYW1WYXI6NTYsXFxcIi4uLlxcXCI6NTcsQXJyYXk6NTgsT2JqZWN0OjU5LFNwbGF0OjYwLFNpbXBsZUFzc2lnbmFibGU6NjEsQWNjZXNzb3I6NjIsUGFyZW50aGV0aWNhbDo2MyxSYW5nZTo2NCxUaGlzOjY1LFxcXCIuXFxcIjo2NixcXFwiPy5cXFwiOjY3LFxcXCI6OlxcXCI6NjgsXFxcIj86OlxcXCI6NjksSW5kZXg6NzAsSU5ERVhfU1RBUlQ6NzEsSW5kZXhWYWx1ZTo3MixJTkRFWF9FTkQ6NzMsSU5ERVhfU09BSzo3NCxTbGljZTo3NSxcXFwie1xcXCI6NzYsQXNzaWduTGlzdDo3NyxcXFwifVxcXCI6NzgsQ0xBU1M6NzksRVhURU5EUzo4MCxPcHRGdW5jRXhpc3Q6ODEsQXJndW1lbnRzOjgyLFNVUEVSOjgzLEZVTkNfRVhJU1Q6ODQsQ0FMTF9TVEFSVDo4NSxDQUxMX0VORDo4NixBcmdMaXN0Ojg3LFRISVM6ODgsXFxcIkBcXFwiOjg5LFxcXCJbXFxcIjo5MCxcXFwiXVxcXCI6OTEsUmFuZ2VEb3RzOjkyLFxcXCIuLlxcXCI6OTMsQXJnOjk0LFNpbXBsZUFyZ3M6OTUsVFJZOjk2LENhdGNoOjk3LEZJTkFMTFk6OTgsQ0FUQ0g6OTksVEhST1c6MTAwLFxcXCIoXFxcIjoxMDEsXFxcIilcXFwiOjEwMixXaGlsZVNvdXJjZToxMDMsV0hJTEU6MTA0LFdIRU46MTA1LFVOVElMOjEwNixMb29wOjEwNyxMT09QOjEwOCxGb3JCb2R5OjEwOSxGT1I6MTEwLEZvclN0YXJ0OjExMSxGb3JTb3VyY2U6MTEyLEZvclZhcmlhYmxlczoxMTMsT1dOOjExNCxGb3JWYWx1ZToxMTUsRk9SSU46MTE2LEZPUk9GOjExNyxCWToxMTgsU1dJVENIOjExOSxXaGVuczoxMjAsRUxTRToxMjEsV2hlbjoxMjIsTEVBRElOR19XSEVOOjEyMyxJZkJsb2NrOjEyNCxJRjoxMjUsUE9TVF9JRjoxMjYsVU5BUlk6MTI3LFxcXCItXFxcIjoxMjgsXFxcIitcXFwiOjEyOSxcXFwiLS1cXFwiOjEzMCxcXFwiKytcXFwiOjEzMSxcXFwiP1xcXCI6MTMyLE1BVEg6MTMzLFNISUZUOjEzNCxDT01QQVJFOjEzNSxMT0dJQzoxMzYsUkVMQVRJT046MTM3LENPTVBPVU5EX0FTU0lHTjoxMzgsJGFjY2VwdDowLCRlbmQ6MX0sdGVybWluYWxzXzp7MjpcXFwiZXJyb3JcXFwiLDY6XFxcIlRFUk1JTkFUT1JcXFwiLDEyOlxcXCJTVEFURU1FTlRcXFwiLDI1OlxcXCJJTkRFTlRcXFwiLDI2OlxcXCJPVVRERU5UXFxcIiwyODpcXFwiSURFTlRJRklFUlxcXCIsMzA6XFxcIk5VTUJFUlxcXCIsMzE6XFxcIlNUUklOR1xcXCIsMzM6XFxcIkpTXFxcIiwzNDpcXFwiUkVHRVhcXFwiLDM1OlxcXCJERUJVR0dFUlxcXCIsMzY6XFxcIlVOREVGSU5FRFxcXCIsMzc6XFxcIk5VTExcXFwiLDM4OlxcXCJCT09MXFxcIiw0MDpcXFwiPVxcXCIsNDM6XFxcIjpcXFwiLDQ1OlxcXCJSRVRVUk5cXFwiLDQ2OlxcXCJIRVJFQ09NTUVOVFxcXCIsNDc6XFxcIlBBUkFNX1NUQVJUXFxcIiw0OTpcXFwiUEFSQU1fRU5EXFxcIiw1MTpcXFwiLT5cXFwiLDUyOlxcXCI9PlxcXCIsNTQ6XFxcIixcXFwiLDU3OlxcXCIuLi5cXFwiLDY2OlxcXCIuXFxcIiw2NzpcXFwiPy5cXFwiLDY4OlxcXCI6OlxcXCIsNjk6XFxcIj86OlxcXCIsNzE6XFxcIklOREVYX1NUQVJUXFxcIiw3MzpcXFwiSU5ERVhfRU5EXFxcIiw3NDpcXFwiSU5ERVhfU09BS1xcXCIsNzY6XFxcIntcXFwiLDc4OlxcXCJ9XFxcIiw3OTpcXFwiQ0xBU1NcXFwiLDgwOlxcXCJFWFRFTkRTXFxcIiw4MzpcXFwiU1VQRVJcXFwiLDg0OlxcXCJGVU5DX0VYSVNUXFxcIiw4NTpcXFwiQ0FMTF9TVEFSVFxcXCIsODY6XFxcIkNBTExfRU5EXFxcIiw4ODpcXFwiVEhJU1xcXCIsODk6XFxcIkBcXFwiLDkwOlxcXCJbXFxcIiw5MTpcXFwiXVxcXCIsOTM6XFxcIi4uXFxcIiw5NjpcXFwiVFJZXFxcIiw5ODpcXFwiRklOQUxMWVxcXCIsOTk6XFxcIkNBVENIXFxcIiwxMDA6XFxcIlRIUk9XXFxcIiwxMDE6XFxcIihcXFwiLDEwMjpcXFwiKVxcXCIsMTA0OlxcXCJXSElMRVxcXCIsMTA1OlxcXCJXSEVOXFxcIiwxMDY6XFxcIlVOVElMXFxcIiwxMDg6XFxcIkxPT1BcXFwiLDExMDpcXFwiRk9SXFxcIiwxMTQ6XFxcIk9XTlxcXCIsMTE2OlxcXCJGT1JJTlxcXCIsMTE3OlxcXCJGT1JPRlxcXCIsMTE4OlxcXCJCWVxcXCIsMTE5OlxcXCJTV0lUQ0hcXFwiLDEyMTpcXFwiRUxTRVxcXCIsMTIzOlxcXCJMRUFESU5HX1dIRU5cXFwiLDEyNTpcXFwiSUZcXFwiLDEyNjpcXFwiUE9TVF9JRlxcXCIsMTI3OlxcXCJVTkFSWVxcXCIsMTI4OlxcXCItXFxcIiwxMjk6XFxcIitcXFwiLDEzMDpcXFwiLS1cXFwiLDEzMTpcXFwiKytcXFwiLDEzMjpcXFwiP1xcXCIsMTMzOlxcXCJNQVRIXFxcIiwxMzQ6XFxcIlNISUZUXFxcIiwxMzU6XFxcIkNPTVBBUkVcXFwiLDEzNjpcXFwiTE9HSUNcXFwiLDEzNzpcXFwiUkVMQVRJT05cXFwiLDEzODpcXFwiQ09NUE9VTkRfQVNTSUdOXFxcIn0scHJvZHVjdGlvbnNfOlswLFszLDBdLFszLDFdLFszLDJdLFs0LDFdLFs0LDNdLFs0LDJdLFs3LDFdLFs3LDFdLFs5LDFdLFs5LDFdLFs5LDFdLFs4LDFdLFs4LDFdLFs4LDFdLFs4LDFdLFs4LDFdLFs4LDFdLFs4LDFdLFs4LDFdLFs4LDFdLFs4LDFdLFs4LDFdLFs4LDFdLFs1LDJdLFs1LDNdLFsyNywxXSxbMjksMV0sWzI5LDFdLFszMiwxXSxbMzIsMV0sWzMyLDFdLFszMiwxXSxbMzIsMV0sWzMyLDFdLFszMiwxXSxbMTcsM10sWzE3LDRdLFsxNyw1XSxbNDEsMV0sWzQxLDNdLFs0MSw1XSxbNDEsMV0sWzQyLDFdLFs0MiwxXSxbNDIsMV0sWzEwLDJdLFsxMCwxXSxbMTEsMV0sWzE1LDVdLFsxNSwyXSxbNTAsMV0sWzUwLDFdLFs1MywwXSxbNTMsMV0sWzQ4LDBdLFs0OCwxXSxbNDgsM10sWzQ4LDRdLFs0OCw2XSxbNTUsMV0sWzU1LDJdLFs1NSwzXSxbNTYsMV0sWzU2LDFdLFs1NiwxXSxbNTYsMV0sWzYwLDJdLFs2MSwxXSxbNjEsMl0sWzYxLDJdLFs2MSwxXSxbMzksMV0sWzM5LDFdLFszOSwxXSxbMTMsMV0sWzEzLDFdLFsxMywxXSxbMTMsMV0sWzEzLDFdLFs2MiwyXSxbNjIsMl0sWzYyLDJdLFs2MiwyXSxbNjIsMV0sWzYyLDFdLFs3MCwzXSxbNzAsMl0sWzcyLDFdLFs3MiwxXSxbNTksNF0sWzc3LDBdLFs3NywxXSxbNzcsM10sWzc3LDRdLFs3Nyw2XSxbMjMsMV0sWzIzLDJdLFsyMywzXSxbMjMsNF0sWzIzLDJdLFsyMywzXSxbMjMsNF0sWzIzLDVdLFsxNCwzXSxbMTQsM10sWzE0LDFdLFsxNCwyXSxbODEsMF0sWzgxLDFdLFs4MiwyXSxbODIsNF0sWzY1LDFdLFs2NSwxXSxbNDQsMl0sWzU4LDJdLFs1OCw0XSxbOTIsMV0sWzkyLDFdLFs2NCw1XSxbNzUsM10sWzc1LDJdLFs3NSwyXSxbNzUsMV0sWzg3LDFdLFs4NywzXSxbODcsNF0sWzg3LDRdLFs4Nyw2XSxbOTQsMV0sWzk0LDFdLFs5NSwxXSxbOTUsM10sWzE5LDJdLFsxOSwzXSxbMTksNF0sWzE5LDVdLFs5NywzXSxbOTcsM10sWzk3LDJdLFsyNCwyXSxbNjMsM10sWzYzLDVdLFsxMDMsMl0sWzEwMyw0XSxbMTAzLDJdLFsxMDMsNF0sWzIwLDJdLFsyMCwyXSxbMjAsMl0sWzIwLDFdLFsxMDcsMl0sWzEwNywyXSxbMjEsMl0sWzIxLDJdLFsyMSwyXSxbMTA5LDJdLFsxMDksMl0sWzExMSwyXSxbMTExLDNdLFsxMTUsMV0sWzExNSwxXSxbMTE1LDFdLFsxMTUsMV0sWzExMywxXSxbMTEzLDNdLFsxMTIsMl0sWzExMiwyXSxbMTEyLDRdLFsxMTIsNF0sWzExMiw0XSxbMTEyLDZdLFsxMTIsNl0sWzIyLDVdLFsyMiw3XSxbMjIsNF0sWzIyLDZdLFsxMjAsMV0sWzEyMCwyXSxbMTIyLDNdLFsxMjIsNF0sWzEyNCwzXSxbMTI0LDVdLFsxOCwxXSxbMTgsM10sWzE4LDNdLFsxOCwzXSxbMTYsMl0sWzE2LDJdLFsxNiwyXSxbMTYsMl0sWzE2LDJdLFsxNiwyXSxbMTYsMl0sWzE2LDJdLFsxNiwzXSxbMTYsM10sWzE2LDNdLFsxNiwzXSxbMTYsM10sWzE2LDNdLFsxNiwzXSxbMTYsM10sWzE2LDVdLFsxNiw0XSxbMTYsM11dLHBlcmZvcm1BY3Rpb246ZnVuY3Rpb24oeXl0ZXh0LHl5bGVuZyx5eWxpbmVubyx5eSx5eXN0YXRlLCQkLF8kKXt2YXIgJDA9JCQubGVuZ3RoLTE7c3dpdGNoKHl5c3RhdGUpe2Nhc2UgMTpyZXR1cm4gdGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwXSxfJFskMF0pKG5ldyB5eS5CbG9jayk7Y2FzZSAyOnJldHVybiB0aGlzLiQ9JCRbJDBdO2Nhc2UgMzpyZXR1cm4gdGhpcy4kPSQkWyQwLTFdO2Nhc2UgNDp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLF8kWyQwXSkoeXkuQmxvY2sud3JhcChbJCRbJDBdXSkpO2JyZWFrO2Nhc2UgNTp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMl0sXyRbJDBdKSgkJFskMC0yXS5wdXNoKCQkWyQwXSkpO2JyZWFrO2Nhc2UgNjp0aGlzLiQ9JCRbJDAtMV07YnJlYWs7Y2FzZSA3OnRoaXMuJD0kJFskMF07YnJlYWs7Y2FzZSA4OnRoaXMuJD0kJFskMF07YnJlYWs7Y2FzZSA5OnRoaXMuJD0kJFskMF07YnJlYWs7Y2FzZSAxMDp0aGlzLiQ9JCRbJDBdO2JyZWFrO2Nhc2UgMTE6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwXSxfJFskMF0pKG5ldyB5eS5MaXRlcmFsKCQkWyQwXSkpO2JyZWFrO2Nhc2UgMTI6dGhpcy4kPSQkWyQwXTticmVhaztjYXNlIDEzOnRoaXMuJD0kJFskMF07YnJlYWs7Y2FzZSAxNDp0aGlzLiQ9JCRbJDBdO2JyZWFrO2Nhc2UgMTU6dGhpcy4kPSQkWyQwXTticmVhaztjYXNlIDE2OnRoaXMuJD0kJFskMF07YnJlYWs7Y2FzZSAxNzp0aGlzLiQ9JCRbJDBdO2JyZWFrO2Nhc2UgMTg6dGhpcy4kPSQkWyQwXTticmVhaztjYXNlIDE5OnRoaXMuJD0kJFskMF07YnJlYWs7Y2FzZSAyMDp0aGlzLiQ9JCRbJDBdO2JyZWFrO2Nhc2UgMjE6dGhpcy4kPSQkWyQwXTticmVhaztjYXNlIDIyOnRoaXMuJD0kJFskMF07YnJlYWs7Y2FzZSAyMzp0aGlzLiQ9JCRbJDBdO2JyZWFrO2Nhc2UgMjQ6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLF8kWyQwXSkobmV3IHl5LkJsb2NrKTticmVhaztjYXNlIDI1OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0yXSxfJFskMF0pKCQkWyQwLTFdKTticmVhaztjYXNlIDI2OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sXyRbJDBdKShuZXcgeXkuTGl0ZXJhbCgkJFskMF0pKTticmVhaztjYXNlIDI3OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sXyRbJDBdKShuZXcgeXkuTGl0ZXJhbCgkJFskMF0pKTticmVhaztjYXNlIDI4OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sXyRbJDBdKShuZXcgeXkuTGl0ZXJhbCgkJFskMF0pKTticmVhaztjYXNlIDI5OnRoaXMuJD0kJFskMF07YnJlYWs7Y2FzZSAzMDp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLF8kWyQwXSkobmV3IHl5LkxpdGVyYWwoJCRbJDBdKSk7YnJlYWs7Y2FzZSAzMTp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLF8kWyQwXSkobmV3IHl5LkxpdGVyYWwoJCRbJDBdKSk7YnJlYWs7Y2FzZSAzMjp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLF8kWyQwXSkobmV3IHl5LkxpdGVyYWwoJCRbJDBdKSk7YnJlYWs7Y2FzZSAzMzp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLF8kWyQwXSkobmV3IHl5LlVuZGVmaW5lZCk7YnJlYWs7Y2FzZSAzNDp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLF8kWyQwXSkobmV3IHl5Lk51bGwpO2JyZWFrO2Nhc2UgMzU6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwXSxfJFskMF0pKG5ldyB5eS5Cb29sKCQkWyQwXSkpO2JyZWFrO2Nhc2UgMzY6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLF8kWyQwXSkobmV3IHl5LkFzc2lnbigkJFskMC0yXSwkJFskMF0pKTticmVhaztjYXNlIDM3OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0zXSxfJFskMF0pKG5ldyB5eS5Bc3NpZ24oJCRbJDAtM10sJCRbJDBdKSk7YnJlYWs7Y2FzZSAzODp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtNF0sXyRbJDBdKShuZXcgeXkuQXNzaWduKCQkWyQwLTRdLCQkWyQwLTFdKSk7YnJlYWs7Y2FzZSAzOTp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLF8kWyQwXSkobmV3IHl5LlZhbHVlKCQkWyQwXSkpO2JyZWFrO2Nhc2UgNDA6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLF8kWyQwXSkobmV3IHl5LkFzc2lnbih5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0yXSkobmV3IHl5LlZhbHVlKCQkWyQwLTJdKSksJCRbJDBdLFxcXCJvYmplY3RcXFwiKSk7YnJlYWs7Y2FzZSA0MTp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtNF0sXyRbJDBdKShuZXcgeXkuQXNzaWduKHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTRdKShuZXcgeXkuVmFsdWUoJCRbJDAtNF0pKSwkJFskMC0xXSxcXFwib2JqZWN0XFxcIikpO2JyZWFrO2Nhc2UgNDI6dGhpcy4kPSQkWyQwXTticmVhaztjYXNlIDQzOnRoaXMuJD0kJFskMF07YnJlYWs7Y2FzZSA0NDp0aGlzLiQ9JCRbJDBdO2JyZWFrO2Nhc2UgNDU6dGhpcy4kPSQkWyQwXTticmVhaztjYXNlIDQ2OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSxfJFskMF0pKG5ldyB5eS5SZXR1cm4oJCRbJDBdKSk7YnJlYWs7Y2FzZSA0Nzp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLF8kWyQwXSkobmV3IHl5LlJldHVybik7YnJlYWs7Y2FzZSA0ODp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLF8kWyQwXSkobmV3IHl5LkNvbW1lbnQoJCRbJDBdKSk7YnJlYWs7Y2FzZSA0OTp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtNF0sXyRbJDBdKShuZXcgeXkuQ29kZSgkJFskMC0zXSwkJFskMF0sJCRbJDAtMV0pKTticmVhaztjYXNlIDUwOnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSxfJFskMF0pKG5ldyB5eS5Db2RlKFtdLCQkWyQwXSwkJFskMC0xXSkpO2JyZWFrO2Nhc2UgNTE6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwXSxfJFskMF0pKFxcXCJmdW5jXFxcIik7YnJlYWs7Y2FzZSA1Mjp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLF8kWyQwXSkoXFxcImJvdW5kZnVuY1xcXCIpO2JyZWFrO2Nhc2UgNTM6dGhpcy4kPSQkWyQwXTticmVhaztjYXNlIDU0OnRoaXMuJD0kJFskMF07YnJlYWs7Y2FzZSA1NTp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLF8kWyQwXSkoW10pO2JyZWFrO2Nhc2UgNTY6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwXSxfJFskMF0pKFskJFskMF1dKTticmVhaztjYXNlIDU3OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0yXSxfJFskMF0pKCQkWyQwLTJdLmNvbmNhdCgkJFskMF0pKTticmVhaztjYXNlIDU4OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0zXSxfJFskMF0pKCQkWyQwLTNdLmNvbmNhdCgkJFskMF0pKTticmVhaztjYXNlIDU5OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC01XSxfJFskMF0pKCQkWyQwLTVdLmNvbmNhdCgkJFskMC0yXSkpO2JyZWFrO2Nhc2UgNjA6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwXSxfJFskMF0pKG5ldyB5eS5QYXJhbSgkJFskMF0pKTticmVhaztjYXNlIDYxOnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSxfJFskMF0pKG5ldyB5eS5QYXJhbSgkJFskMC0xXSxudWxsLCEwKSk7YnJlYWs7Y2FzZSA2Mjp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMl0sXyRbJDBdKShuZXcgeXkuUGFyYW0oJCRbJDAtMl0sJCRbJDBdKSk7YnJlYWs7Y2FzZSA2Mzp0aGlzLiQ9JCRbJDBdO2JyZWFrO2Nhc2UgNjQ6dGhpcy4kPSQkWyQwXTticmVhaztjYXNlIDY1OnRoaXMuJD0kJFskMF07YnJlYWs7Y2FzZSA2Njp0aGlzLiQ9JCRbJDBdO2JyZWFrO2Nhc2UgNjc6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLF8kWyQwXSkobmV3IHl5LlNwbGF0KCQkWyQwLTFdKSk7YnJlYWs7Y2FzZSA2ODp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLF8kWyQwXSkobmV3IHl5LlZhbHVlKCQkWyQwXSkpO2JyZWFrO2Nhc2UgNjk6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLF8kWyQwXSkoJCRbJDAtMV0uYWRkKCQkWyQwXSkpO2JyZWFrO2Nhc2UgNzA6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLF8kWyQwXSkobmV3IHl5LlZhbHVlKCQkWyQwLTFdLFtdLmNvbmNhdCgkJFskMF0pKSk7YnJlYWs7Y2FzZSA3MTp0aGlzLiQ9JCRbJDBdO2JyZWFrO2Nhc2UgNzI6dGhpcy4kPSQkWyQwXTticmVhaztjYXNlIDczOnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sXyRbJDBdKShuZXcgeXkuVmFsdWUoJCRbJDBdKSk7YnJlYWs7Y2FzZSA3NDp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLF8kWyQwXSkobmV3IHl5LlZhbHVlKCQkWyQwXSkpO2JyZWFrO2Nhc2UgNzU6dGhpcy4kPSQkWyQwXTticmVhaztjYXNlIDc2OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sXyRbJDBdKShuZXcgeXkuVmFsdWUoJCRbJDBdKSk7YnJlYWs7Y2FzZSA3Nzp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLF8kWyQwXSkobmV3IHl5LlZhbHVlKCQkWyQwXSkpO2JyZWFrO2Nhc2UgNzg6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwXSxfJFskMF0pKG5ldyB5eS5WYWx1ZSgkJFskMF0pKTticmVhaztjYXNlIDc5OnRoaXMuJD0kJFskMF07YnJlYWs7Y2FzZSA4MDp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0sXyRbJDBdKShuZXcgeXkuQWNjZXNzKCQkWyQwXSkpO2JyZWFrO2Nhc2UgODE6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLF8kWyQwXSkobmV3IHl5LkFjY2VzcygkJFskMF0sXFxcInNvYWtcXFwiKSk7YnJlYWs7Y2FzZSA4Mjp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0sXyRbJDBdKShbeXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0pKG5ldyB5eS5BY2Nlc3MobmV3IHl5LkxpdGVyYWwoXFxcInByb3RvdHlwZVxcXCIpKSkseXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdKShuZXcgeXkuQWNjZXNzKCQkWyQwXSkpXSk7YnJlYWs7Y2FzZSA4Mzp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0sXyRbJDBdKShbeXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0pKG5ldyB5eS5BY2Nlc3MobmV3IHl5LkxpdGVyYWwoXFxcInByb3RvdHlwZVxcXCIpLFxcXCJzb2FrXFxcIikpLHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwXSkobmV3IHl5LkFjY2VzcygkJFskMF0pKV0pO2JyZWFrO2Nhc2UgODQ6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwXSxfJFskMF0pKG5ldyB5eS5BY2Nlc3MobmV3IHl5LkxpdGVyYWwoXFxcInByb3RvdHlwZVxcXCIpKSk7YnJlYWs7Y2FzZSA4NTp0aGlzLiQ9JCRbJDBdO2JyZWFrO2Nhc2UgODY6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLF8kWyQwXSkoJCRbJDAtMV0pO2JyZWFrO2Nhc2UgODc6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLF8kWyQwXSkoeXkuZXh0ZW5kKCQkWyQwXSx7c29hazohMH0pKTticmVhaztjYXNlIDg4OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sXyRbJDBdKShuZXcgeXkuSW5kZXgoJCRbJDBdKSk7YnJlYWs7Y2FzZSA4OTp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLF8kWyQwXSkobmV3IHl5LlNsaWNlKCQkWyQwXSkpO2JyZWFrO2Nhc2UgOTA6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTNdLF8kWyQwXSkobmV3IHl5Lk9iaigkJFskMC0yXSwkJFskMC0zXS5nZW5lcmF0ZWQpKTticmVhaztjYXNlIDkxOnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sXyRbJDBdKShbXSk7YnJlYWs7Y2FzZSA5Mjp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLF8kWyQwXSkoWyQkWyQwXV0pO2JyZWFrO2Nhc2UgOTM6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLF8kWyQwXSkoJCRbJDAtMl0uY29uY2F0KCQkWyQwXSkpO2JyZWFrO2Nhc2UgOTQ6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTNdLF8kWyQwXSkoJCRbJDAtM10uY29uY2F0KCQkWyQwXSkpO2JyZWFrO2Nhc2UgOTU6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTVdLF8kWyQwXSkoJCRbJDAtNV0uY29uY2F0KCQkWyQwLTJdKSk7YnJlYWs7Y2FzZSA5Njp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLF8kWyQwXSkobmV3IHl5LkNsYXNzKTticmVhaztjYXNlIDk3OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSxfJFskMF0pKG5ldyB5eS5DbGFzcyhudWxsLG51bGwsJCRbJDBdKSk7YnJlYWs7Y2FzZSA5ODp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMl0sXyRbJDBdKShuZXcgeXkuQ2xhc3MobnVsbCwkJFskMF0pKTticmVhaztjYXNlIDk5OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0zXSxfJFskMF0pKG5ldyB5eS5DbGFzcyhudWxsLCQkWyQwLTFdLCQkWyQwXSkpO2JyZWFrO2Nhc2UgMTAwOnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSxfJFskMF0pKG5ldyB5eS5DbGFzcygkJFskMF0pKTticmVhaztjYXNlIDEwMTp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMl0sXyRbJDBdKShuZXcgeXkuQ2xhc3MoJCRbJDAtMV0sbnVsbCwkJFskMF0pKTticmVhaztjYXNlIDEwMjp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtM10sXyRbJDBdKShuZXcgeXkuQ2xhc3MoJCRbJDAtMl0sJCRbJDBdKSk7YnJlYWs7Y2FzZSAxMDM6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTRdLF8kWyQwXSkobmV3IHl5LkNsYXNzKCQkWyQwLTNdLCQkWyQwLTFdLCQkWyQwXSkpO2JyZWFrO2Nhc2UgMTA0OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0yXSxfJFskMF0pKG5ldyB5eS5DYWxsKCQkWyQwLTJdLCQkWyQwXSwkJFskMC0xXSkpO2JyZWFrO2Nhc2UgMTA1OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0yXSxfJFskMF0pKG5ldyB5eS5DYWxsKCQkWyQwLTJdLCQkWyQwXSwkJFskMC0xXSkpO2JyZWFrO2Nhc2UgMTA2OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sXyRbJDBdKShuZXcgeXkuQ2FsbChcXFwic3VwZXJcXFwiLFtuZXcgeXkuU3BsYXQobmV3IHl5LkxpdGVyYWwoXFxcImFyZ3VtZW50c1xcXCIpKV0pKTticmVhaztjYXNlIDEwNzp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0sXyRbJDBdKShuZXcgeXkuQ2FsbChcXFwic3VwZXJcXFwiLCQkWyQwXSkpO2JyZWFrO2Nhc2UgMTA4OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sXyRbJDBdKSghMSk7YnJlYWs7Y2FzZSAxMDk6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwXSxfJFskMF0pKCEwKTticmVhaztjYXNlIDExMDp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0sXyRbJDBdKShbXSk7YnJlYWs7Y2FzZSAxMTE6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTNdLF8kWyQwXSkoJCRbJDAtMl0pO2JyZWFrO2Nhc2UgMTEyOnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sXyRbJDBdKShuZXcgeXkuVmFsdWUobmV3IHl5LkxpdGVyYWwoXFxcInRoaXNcXFwiKSkpO2JyZWFrO2Nhc2UgMTEzOnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sXyRbJDBdKShuZXcgeXkuVmFsdWUobmV3IHl5LkxpdGVyYWwoXFxcInRoaXNcXFwiKSkpO2JyZWFrO2Nhc2UgMTE0OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSxfJFskMF0pKG5ldyB5eS5WYWx1ZSh5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSkobmV3IHl5LkxpdGVyYWwoXFxcInRoaXNcXFwiKSksW3l5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwXSkobmV3IHl5LkFjY2VzcygkJFskMF0pKV0sXFxcInRoaXNcXFwiKSk7YnJlYWs7Y2FzZSAxMTU6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLF8kWyQwXSkobmV3IHl5LkFycihbXSkpO2JyZWFrO2Nhc2UgMTE2OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0zXSxfJFskMF0pKG5ldyB5eS5BcnIoJCRbJDAtMl0pKTticmVhaztjYXNlIDExNzp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLF8kWyQwXSkoXFxcImluY2x1c2l2ZVxcXCIpO2JyZWFrO2Nhc2UgMTE4OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sXyRbJDBdKShcXFwiZXhjbHVzaXZlXFxcIik7YnJlYWs7Y2FzZSAxMTk6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTRdLF8kWyQwXSkobmV3IHl5LlJhbmdlKCQkWyQwLTNdLCQkWyQwLTFdLCQkWyQwLTJdKSk7YnJlYWs7Y2FzZSAxMjA6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLF8kWyQwXSkobmV3IHl5LlJhbmdlKCQkWyQwLTJdLCQkWyQwXSwkJFskMC0xXSkpO2JyZWFrO2Nhc2UgMTIxOnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSxfJFskMF0pKG5ldyB5eS5SYW5nZSgkJFskMC0xXSxudWxsLCQkWyQwXSkpO2JyZWFrO2Nhc2UgMTIyOnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSxfJFskMF0pKG5ldyB5eS5SYW5nZShudWxsLCQkWyQwXSwkJFskMC0xXSkpO2JyZWFrO2Nhc2UgMTIzOnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sXyRbJDBdKShuZXcgeXkuUmFuZ2UobnVsbCxudWxsLCQkWyQwXSkpO2JyZWFrO2Nhc2UgMTI0OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sXyRbJDBdKShbJCRbJDBdXSk7YnJlYWs7Y2FzZSAxMjU6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLF8kWyQwXSkoJCRbJDAtMl0uY29uY2F0KCQkWyQwXSkpO2JyZWFrO2Nhc2UgMTI2OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0zXSxfJFskMF0pKCQkWyQwLTNdLmNvbmNhdCgkJFskMF0pKTticmVhaztjYXNlIDEyNzp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtM10sXyRbJDBdKSgkJFskMC0yXSk7YnJlYWs7Y2FzZSAxMjg6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTVdLF8kWyQwXSkoJCRbJDAtNV0uY29uY2F0KCQkWyQwLTJdKSk7YnJlYWs7Y2FzZSAxMjk6dGhpcy4kPSQkWyQwXTticmVhaztjYXNlIDEzMDp0aGlzLiQ9JCRbJDBdO2JyZWFrO2Nhc2UgMTMxOnRoaXMuJD0kJFskMF07YnJlYWs7Y2FzZSAxMzI6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLF8kWyQwXSkoW10uY29uY2F0KCQkWyQwLTJdLCQkWyQwXSkpO2JyZWFrO2Nhc2UgMTMzOnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSxfJFskMF0pKG5ldyB5eS5UcnkoJCRbJDBdKSk7YnJlYWs7Y2FzZSAxMzQ6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLF8kWyQwXSkobmV3IHl5LlRyeSgkJFskMC0xXSwkJFskMF1bMF0sJCRbJDBdWzFdKSk7YnJlYWs7Y2FzZSAxMzU6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTNdLF8kWyQwXSkobmV3IHl5LlRyeSgkJFskMC0yXSxudWxsLG51bGwsJCRbJDBdKSk7YnJlYWs7Y2FzZSAxMzY6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTRdLF8kWyQwXSkobmV3IHl5LlRyeSgkJFskMC0zXSwkJFskMC0yXVswXSwkJFskMC0yXVsxXSwkJFskMF0pKTticmVhaztjYXNlIDEzNzp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMl0sXyRbJDBdKShbJCRbJDAtMV0sJCRbJDBdXSk7YnJlYWs7Y2FzZSAxMzg6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLF8kWyQwXSkoW3l5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdKShuZXcgeXkuVmFsdWUoJCRbJDAtMV0pKSwkJFskMF1dKTticmVhaztjYXNlIDEzOTp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0sXyRbJDBdKShbbnVsbCwkJFskMF1dKTticmVhaztjYXNlIDE0MDp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0sXyRbJDBdKShuZXcgeXkuVGhyb3coJCRbJDBdKSk7YnJlYWs7Y2FzZSAxNDE6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLF8kWyQwXSkobmV3IHl5LlBhcmVucygkJFskMC0xXSkpO2JyZWFrO2Nhc2UgMTQyOnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC00XSxfJFskMF0pKG5ldyB5eS5QYXJlbnMoJCRbJDAtMl0pKTticmVhaztjYXNlIDE0Mzp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0sXyRbJDBdKShuZXcgeXkuV2hpbGUoJCRbJDBdKSk7YnJlYWs7Y2FzZSAxNDQ6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTNdLF8kWyQwXSkobmV3IHl5LldoaWxlKCQkWyQwLTJdLHtndWFyZDokJFskMF19KSk7YnJlYWs7Y2FzZSAxNDU6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLF8kWyQwXSkobmV3IHl5LldoaWxlKCQkWyQwXSx7aW52ZXJ0OiEwfSkpO2JyZWFrO2Nhc2UgMTQ2OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0zXSxfJFskMF0pKG5ldyB5eS5XaGlsZSgkJFskMC0yXSx7aW52ZXJ0OiEwLGd1YXJkOiQkWyQwXX0pKTticmVhaztjYXNlIDE0Nzp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0sXyRbJDBdKSgkJFskMC0xXS5hZGRCb2R5KCQkWyQwXSkpO2JyZWFrO2Nhc2UgMTQ4OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSxfJFskMF0pKCQkWyQwXS5hZGRCb2R5KHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdKSh5eS5CbG9jay53cmFwKFskJFskMC0xXV0pKSkpO2JyZWFrO2Nhc2UgMTQ5OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSxfJFskMF0pKCQkWyQwXS5hZGRCb2R5KHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdKSh5eS5CbG9jay53cmFwKFskJFskMC0xXV0pKSkpO2JyZWFrO2Nhc2UgMTUwOnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sXyRbJDBdKSgkJFskMF0pO2JyZWFrO2Nhc2UgMTUxOnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSxfJFskMF0pKG5ldyB5eS5XaGlsZSh5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSkobmV3IHl5LkxpdGVyYWwoXFxcInRydWVcXFwiKSkpLmFkZEJvZHkoJCRbJDBdKSk7YnJlYWs7Y2FzZSAxNTI6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLF8kWyQwXSkobmV3IHl5LldoaWxlKHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdKShuZXcgeXkuTGl0ZXJhbChcXFwidHJ1ZVxcXCIpKSkuYWRkQm9keSh5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0pKHl5LkJsb2NrLndyYXAoWyQkWyQwXV0pKSkpO2JyZWFrO2Nhc2UgMTUzOnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSxfJFskMF0pKG5ldyB5eS5Gb3IoJCRbJDAtMV0sJCRbJDBdKSk7YnJlYWs7Y2FzZSAxNTQ6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLF8kWyQwXSkobmV3IHl5LkZvcigkJFskMC0xXSwkJFskMF0pKTticmVhaztjYXNlIDE1NTp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0sXyRbJDBdKShuZXcgeXkuRm9yKCQkWyQwXSwkJFskMC0xXSkpO2JyZWFrO2Nhc2UgMTU2OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSxfJFskMF0pKHtzb3VyY2U6eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdKShuZXcgeXkuVmFsdWUoJCRbJDBdKSl9KTticmVhaztjYXNlIDE1Nzp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0sXyRbJDBdKShmdW5jdGlvbigpe3JldHVybiAkJFskMF0ub3duPSQkWyQwLTFdLm93biwkJFskMF0ubmFtZT0kJFskMC0xXVswXSwkJFskMF0uaW5kZXg9JCRbJDAtMV1bMV0sJCRbJDBdfSgpKTticmVhaztjYXNlIDE1ODp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0sXyRbJDBdKSgkJFskMF0pO2JyZWFrO2Nhc2UgMTU5OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0yXSxfJFskMF0pKGZ1bmN0aW9uKCl7cmV0dXJuICQkWyQwXS5vd249ITAsJCRbJDBdfSgpKTticmVhaztjYXNlIDE2MDp0aGlzLiQ9JCRbJDBdO2JyZWFrO2Nhc2UgMTYxOnRoaXMuJD0kJFskMF07YnJlYWs7Y2FzZSAxNjI6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwXSxfJFskMF0pKG5ldyB5eS5WYWx1ZSgkJFskMF0pKTticmVhaztjYXNlIDE2Mzp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDBdLF8kWyQwXSkobmV3IHl5LlZhbHVlKCQkWyQwXSkpO2JyZWFrO2Nhc2UgMTY0OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMF0sXyRbJDBdKShbJCRbJDBdXSk7YnJlYWs7Y2FzZSAxNjU6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLF8kWyQwXSkoWyQkWyQwLTJdLCQkWyQwXV0pO2JyZWFrO2Nhc2UgMTY2OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSxfJFskMF0pKHtzb3VyY2U6JCRbJDBdfSk7YnJlYWs7Y2FzZSAxNjc6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLF8kWyQwXSkoe3NvdXJjZTokJFskMF0sb2JqZWN0OiEwfSk7YnJlYWs7Y2FzZSAxNjg6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTNdLF8kWyQwXSkoe3NvdXJjZTokJFskMC0yXSxndWFyZDokJFskMF19KTticmVhaztjYXNlIDE2OTp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtM10sXyRbJDBdKSh7c291cmNlOiQkWyQwLTJdLGd1YXJkOiQkWyQwXSxvYmplY3Q6ITB9KTticmVhaztjYXNlIDE3MDp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtM10sXyRbJDBdKSh7c291cmNlOiQkWyQwLTJdLHN0ZXA6JCRbJDBdfSk7YnJlYWs7Y2FzZSAxNzE6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTVdLF8kWyQwXSkoe3NvdXJjZTokJFskMC00XSxndWFyZDokJFskMC0yXSxzdGVwOiQkWyQwXX0pO2JyZWFrO2Nhc2UgMTcyOnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC01XSxfJFskMF0pKHtzb3VyY2U6JCRbJDAtNF0sc3RlcDokJFskMC0yXSxndWFyZDokJFskMF19KTticmVhaztjYXNlIDE3Mzp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtNF0sXyRbJDBdKShuZXcgeXkuU3dpdGNoKCQkWyQwLTNdLCQkWyQwLTFdKSk7YnJlYWs7Y2FzZSAxNzQ6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTZdLF8kWyQwXSkobmV3IHl5LlN3aXRjaCgkJFskMC01XSwkJFskMC0zXSwkJFskMC0xXSkpO2JyZWFrO2Nhc2UgMTc1OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0zXSxfJFskMF0pKG5ldyB5eS5Td2l0Y2gobnVsbCwkJFskMC0xXSkpO2JyZWFrO2Nhc2UgMTc2OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC01XSxfJFskMF0pKG5ldyB5eS5Td2l0Y2gobnVsbCwkJFskMC0zXSwkJFskMC0xXSkpO2JyZWFrO2Nhc2UgMTc3OnRoaXMuJD0kJFskMF07YnJlYWs7Y2FzZSAxNzg6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLF8kWyQwXSkoJCRbJDAtMV0uY29uY2F0KCQkWyQwXSkpO2JyZWFrO2Nhc2UgMTc5OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0yXSxfJFskMF0pKFtbJCRbJDAtMV0sJCRbJDBdXV0pO2JyZWFrO2Nhc2UgMTgwOnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0zXSxfJFskMF0pKFtbJCRbJDAtMl0sJCRbJDAtMV1dXSk7YnJlYWs7Y2FzZSAxODE6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLF8kWyQwXSkobmV3IHl5LklmKCQkWyQwLTFdLCQkWyQwXSx7dHlwZTokJFskMC0yXX0pKTticmVhaztjYXNlIDE4Mjp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtNF0sXyRbJDBdKSgkJFskMC00XS5hZGRFbHNlKG5ldyB5eS5JZigkJFskMC0xXSwkJFskMF0se3R5cGU6JCRbJDAtMl19KSkpO2JyZWFrO2Nhc2UgMTgzOnRoaXMuJD0kJFskMF07YnJlYWs7Y2FzZSAxODQ6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLF8kWyQwXSkoJCRbJDAtMl0uYWRkRWxzZSgkJFskMF0pKTticmVhaztjYXNlIDE4NTp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMl0sXyRbJDBdKShuZXcgeXkuSWYoJCRbJDBdLHl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdKSh5eS5CbG9jay53cmFwKFskJFskMC0yXV0pKSx7dHlwZTokJFskMC0xXSxzdGF0ZW1lbnQ6ITB9KSk7YnJlYWs7Y2FzZSAxODY6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLF8kWyQwXSkobmV3IHl5LklmKCQkWyQwXSx5eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0yXSkoeXkuQmxvY2sud3JhcChbJCRbJDAtMl1dKSkse3R5cGU6JCRbJDAtMV0sc3RhdGVtZW50OiEwfSkpO2JyZWFrO2Nhc2UgMTg3OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSxfJFskMF0pKG5ldyB5eS5PcCgkJFskMC0xXSwkJFskMF0pKTticmVhaztjYXNlIDE4ODp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0sXyRbJDBdKShuZXcgeXkuT3AoXFxcIi1cXFwiLCQkWyQwXSkpO2JyZWFrO2Nhc2UgMTg5OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSxfJFskMF0pKG5ldyB5eS5PcChcXFwiK1xcXCIsJCRbJDBdKSk7YnJlYWs7Y2FzZSAxOTA6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLF8kWyQwXSkobmV3IHl5Lk9wKFxcXCItLVxcXCIsJCRbJDBdKSk7YnJlYWs7Y2FzZSAxOTE6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLF8kWyQwXSkobmV3IHl5Lk9wKFxcXCIrK1xcXCIsJCRbJDBdKSk7YnJlYWs7Y2FzZSAxOTI6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTFdLF8kWyQwXSkobmV3IHl5Lk9wKFxcXCItLVxcXCIsJCRbJDAtMV0sbnVsbCwhMCkpO2JyZWFrO2Nhc2UgMTkzOnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0xXSxfJFskMF0pKG5ldyB5eS5PcChcXFwiKytcXFwiLCQkWyQwLTFdLG51bGwsITApKTticmVhaztjYXNlIDE5NDp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMV0sXyRbJDBdKShuZXcgeXkuRXhpc3RlbmNlKCQkWyQwLTFdKSk7YnJlYWs7Y2FzZSAxOTU6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLF8kWyQwXSkobmV3IHl5Lk9wKFxcXCIrXFxcIiwkJFskMC0yXSwkJFskMF0pKTticmVhaztjYXNlIDE5Njp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMl0sXyRbJDBdKShuZXcgeXkuT3AoXFxcIi1cXFwiLCQkWyQwLTJdLCQkWyQwXSkpO2JyZWFrO2Nhc2UgMTk3OnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0yXSxfJFskMF0pKG5ldyB5eS5PcCgkJFskMC0xXSwkJFskMC0yXSwkJFskMF0pKTticmVhaztjYXNlIDE5ODp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMl0sXyRbJDBdKShuZXcgeXkuT3AoJCRbJDAtMV0sJCRbJDAtMl0sJCRbJDBdKSk7YnJlYWs7Y2FzZSAxOTk6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLF8kWyQwXSkobmV3IHl5Lk9wKCQkWyQwLTFdLCQkWyQwLTJdLCQkWyQwXSkpO2JyZWFrO2Nhc2UgMjAwOnRoaXMuJD15eS5hZGRMb2NhdGlvbkRhdGFGbihfJFskMC0yXSxfJFskMF0pKG5ldyB5eS5PcCgkJFskMC0xXSwkJFskMC0yXSwkJFskMF0pKTticmVhaztjYXNlIDIwMTp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMl0sXyRbJDBdKShmdW5jdGlvbigpe3JldHVyblxcXCIhXFxcIj09PSQkWyQwLTFdLmNoYXJBdCgwKT9uZXcgeXkuT3AoJCRbJDAtMV0uc2xpY2UoMSksJCRbJDAtMl0sJCRbJDBdKS5pbnZlcnQoKTpuZXcgeXkuT3AoJCRbJDAtMV0sJCRbJDAtMl0sJCRbJDBdKX0oKSk7YnJlYWs7Y2FzZSAyMDI6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTJdLF8kWyQwXSkobmV3IHl5LkFzc2lnbigkJFskMC0yXSwkJFskMF0sJCRbJDAtMV0pKTticmVhaztjYXNlIDIwMzp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtNF0sXyRbJDBdKShuZXcgeXkuQXNzaWduKCQkWyQwLTRdLCQkWyQwLTFdLCQkWyQwLTNdKSk7YnJlYWs7Y2FzZSAyMDQ6dGhpcy4kPXl5LmFkZExvY2F0aW9uRGF0YUZuKF8kWyQwLTNdLF8kWyQwXSkobmV3IHl5LkFzc2lnbigkJFskMC0zXSwkJFskMF0sJCRbJDAtMl0pKTticmVhaztjYXNlIDIwNTp0aGlzLiQ9eXkuYWRkTG9jYXRpb25EYXRhRm4oXyRbJDAtMl0sXyRbJDBdKShuZXcgeXkuRXh0ZW5kcygkJFskMC0yXSwkJFskMF0pKX19LHRhYmxlOlt7MTpbMiwxXSwzOjEsNDoyLDU6Myw3OjQsODo2LDk6NywxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI1OlsxLDVdLDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezE6WzNdfSx7MTpbMiwyXSw2OlsxLDc0XX0sezY6WzEsNzVdfSx7MTpbMiw0XSw2OlsyLDRdLDI2OlsyLDRdLDEwMjpbMiw0XX0sezQ6NzcsNzo0LDg6Niw5OjcsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNjpbMSw3Nl0sMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7MTpbMiw3XSw2OlsyLDddLDI2OlsyLDddLDEwMjpbMiw3XSwxMDM6ODcsMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwOTo4OCwxMTA6WzEsNjhdLDExMTo2OSwxMjY6WzEsODZdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezE6WzIsOF0sNjpbMiw4XSwyNjpbMiw4XSwxMDI6WzIsOF0sMTAzOjkwLDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDk6OTEsMTEwOlsxLDY4XSwxMTE6NjksMTI2OlsxLDg5XX0sezE6WzIsMTJdLDY6WzIsMTJdLDI1OlsyLDEyXSwyNjpbMiwxMl0sNDk6WzIsMTJdLDU0OlsyLDEyXSw1NzpbMiwxMl0sNjI6OTMsNjY6WzEsOTVdLDY3OlsxLDk2XSw2ODpbMSw5N10sNjk6WzEsOThdLDcwOjk5LDcxOlsxLDEwMF0sNzM6WzIsMTJdLDc0OlsxLDEwMV0sNzg6WzIsMTJdLDgxOjkyLDg0OlsxLDk0XSw4NTpbMiwxMDhdLDg2OlsyLDEyXSw5MTpbMiwxMl0sOTM6WzIsMTJdLDEwMjpbMiwxMl0sMTA0OlsyLDEyXSwxMDU6WzIsMTJdLDEwNjpbMiwxMl0sMTEwOlsyLDEyXSwxMTg6WzIsMTJdLDEyNjpbMiwxMl0sMTI4OlsyLDEyXSwxMjk6WzIsMTJdLDEzMjpbMiwxMl0sMTMzOlsyLDEyXSwxMzQ6WzIsMTJdLDEzNTpbMiwxMl0sMTM2OlsyLDEyXSwxMzc6WzIsMTJdfSx7MTpbMiwxM10sNjpbMiwxM10sMjU6WzIsMTNdLDI2OlsyLDEzXSw0OTpbMiwxM10sNTQ6WzIsMTNdLDU3OlsyLDEzXSw2MjoxMDMsNjY6WzEsOTVdLDY3OlsxLDk2XSw2ODpbMSw5N10sNjk6WzEsOThdLDcwOjk5LDcxOlsxLDEwMF0sNzM6WzIsMTNdLDc0OlsxLDEwMV0sNzg6WzIsMTNdLDgxOjEwMiw4NDpbMSw5NF0sODU6WzIsMTA4XSw4NjpbMiwxM10sOTE6WzIsMTNdLDkzOlsyLDEzXSwxMDI6WzIsMTNdLDEwNDpbMiwxM10sMTA1OlsyLDEzXSwxMDY6WzIsMTNdLDExMDpbMiwxM10sMTE4OlsyLDEzXSwxMjY6WzIsMTNdLDEyODpbMiwxM10sMTI5OlsyLDEzXSwxMzI6WzIsMTNdLDEzMzpbMiwxM10sMTM0OlsyLDEzXSwxMzU6WzIsMTNdLDEzNjpbMiwxM10sMTM3OlsyLDEzXX0sezE6WzIsMTRdLDY6WzIsMTRdLDI1OlsyLDE0XSwyNjpbMiwxNF0sNDk6WzIsMTRdLDU0OlsyLDE0XSw1NzpbMiwxNF0sNzM6WzIsMTRdLDc4OlsyLDE0XSw4NjpbMiwxNF0sOTE6WzIsMTRdLDkzOlsyLDE0XSwxMDI6WzIsMTRdLDEwNDpbMiwxNF0sMTA1OlsyLDE0XSwxMDY6WzIsMTRdLDExMDpbMiwxNF0sMTE4OlsyLDE0XSwxMjY6WzIsMTRdLDEyODpbMiwxNF0sMTI5OlsyLDE0XSwxMzI6WzIsMTRdLDEzMzpbMiwxNF0sMTM0OlsyLDE0XSwxMzU6WzIsMTRdLDEzNjpbMiwxNF0sMTM3OlsyLDE0XX0sezE6WzIsMTVdLDY6WzIsMTVdLDI1OlsyLDE1XSwyNjpbMiwxNV0sNDk6WzIsMTVdLDU0OlsyLDE1XSw1NzpbMiwxNV0sNzM6WzIsMTVdLDc4OlsyLDE1XSw4NjpbMiwxNV0sOTE6WzIsMTVdLDkzOlsyLDE1XSwxMDI6WzIsMTVdLDEwNDpbMiwxNV0sMTA1OlsyLDE1XSwxMDY6WzIsMTVdLDExMDpbMiwxNV0sMTE4OlsyLDE1XSwxMjY6WzIsMTVdLDEyODpbMiwxNV0sMTI5OlsyLDE1XSwxMzI6WzIsMTVdLDEzMzpbMiwxNV0sMTM0OlsyLDE1XSwxMzU6WzIsMTVdLDEzNjpbMiwxNV0sMTM3OlsyLDE1XX0sezE6WzIsMTZdLDY6WzIsMTZdLDI1OlsyLDE2XSwyNjpbMiwxNl0sNDk6WzIsMTZdLDU0OlsyLDE2XSw1NzpbMiwxNl0sNzM6WzIsMTZdLDc4OlsyLDE2XSw4NjpbMiwxNl0sOTE6WzIsMTZdLDkzOlsyLDE2XSwxMDI6WzIsMTZdLDEwNDpbMiwxNl0sMTA1OlsyLDE2XSwxMDY6WzIsMTZdLDExMDpbMiwxNl0sMTE4OlsyLDE2XSwxMjY6WzIsMTZdLDEyODpbMiwxNl0sMTI5OlsyLDE2XSwxMzI6WzIsMTZdLDEzMzpbMiwxNl0sMTM0OlsyLDE2XSwxMzU6WzIsMTZdLDEzNjpbMiwxNl0sMTM3OlsyLDE2XX0sezE6WzIsMTddLDY6WzIsMTddLDI1OlsyLDE3XSwyNjpbMiwxN10sNDk6WzIsMTddLDU0OlsyLDE3XSw1NzpbMiwxN10sNzM6WzIsMTddLDc4OlsyLDE3XSw4NjpbMiwxN10sOTE6WzIsMTddLDkzOlsyLDE3XSwxMDI6WzIsMTddLDEwNDpbMiwxN10sMTA1OlsyLDE3XSwxMDY6WzIsMTddLDExMDpbMiwxN10sMTE4OlsyLDE3XSwxMjY6WzIsMTddLDEyODpbMiwxN10sMTI5OlsyLDE3XSwxMzI6WzIsMTddLDEzMzpbMiwxN10sMTM0OlsyLDE3XSwxMzU6WzIsMTddLDEzNjpbMiwxN10sMTM3OlsyLDE3XX0sezE6WzIsMThdLDY6WzIsMThdLDI1OlsyLDE4XSwyNjpbMiwxOF0sNDk6WzIsMThdLDU0OlsyLDE4XSw1NzpbMiwxOF0sNzM6WzIsMThdLDc4OlsyLDE4XSw4NjpbMiwxOF0sOTE6WzIsMThdLDkzOlsyLDE4XSwxMDI6WzIsMThdLDEwNDpbMiwxOF0sMTA1OlsyLDE4XSwxMDY6WzIsMThdLDExMDpbMiwxOF0sMTE4OlsyLDE4XSwxMjY6WzIsMThdLDEyODpbMiwxOF0sMTI5OlsyLDE4XSwxMzI6WzIsMThdLDEzMzpbMiwxOF0sMTM0OlsyLDE4XSwxMzU6WzIsMThdLDEzNjpbMiwxOF0sMTM3OlsyLDE4XX0sezE6WzIsMTldLDY6WzIsMTldLDI1OlsyLDE5XSwyNjpbMiwxOV0sNDk6WzIsMTldLDU0OlsyLDE5XSw1NzpbMiwxOV0sNzM6WzIsMTldLDc4OlsyLDE5XSw4NjpbMiwxOV0sOTE6WzIsMTldLDkzOlsyLDE5XSwxMDI6WzIsMTldLDEwNDpbMiwxOV0sMTA1OlsyLDE5XSwxMDY6WzIsMTldLDExMDpbMiwxOV0sMTE4OlsyLDE5XSwxMjY6WzIsMTldLDEyODpbMiwxOV0sMTI5OlsyLDE5XSwxMzI6WzIsMTldLDEzMzpbMiwxOV0sMTM0OlsyLDE5XSwxMzU6WzIsMTldLDEzNjpbMiwxOV0sMTM3OlsyLDE5XX0sezE6WzIsMjBdLDY6WzIsMjBdLDI1OlsyLDIwXSwyNjpbMiwyMF0sNDk6WzIsMjBdLDU0OlsyLDIwXSw1NzpbMiwyMF0sNzM6WzIsMjBdLDc4OlsyLDIwXSw4NjpbMiwyMF0sOTE6WzIsMjBdLDkzOlsyLDIwXSwxMDI6WzIsMjBdLDEwNDpbMiwyMF0sMTA1OlsyLDIwXSwxMDY6WzIsMjBdLDExMDpbMiwyMF0sMTE4OlsyLDIwXSwxMjY6WzIsMjBdLDEyODpbMiwyMF0sMTI5OlsyLDIwXSwxMzI6WzIsMjBdLDEzMzpbMiwyMF0sMTM0OlsyLDIwXSwxMzU6WzIsMjBdLDEzNjpbMiwyMF0sMTM3OlsyLDIwXX0sezE6WzIsMjFdLDY6WzIsMjFdLDI1OlsyLDIxXSwyNjpbMiwyMV0sNDk6WzIsMjFdLDU0OlsyLDIxXSw1NzpbMiwyMV0sNzM6WzIsMjFdLDc4OlsyLDIxXSw4NjpbMiwyMV0sOTE6WzIsMjFdLDkzOlsyLDIxXSwxMDI6WzIsMjFdLDEwNDpbMiwyMV0sMTA1OlsyLDIxXSwxMDY6WzIsMjFdLDExMDpbMiwyMV0sMTE4OlsyLDIxXSwxMjY6WzIsMjFdLDEyODpbMiwyMV0sMTI5OlsyLDIxXSwxMzI6WzIsMjFdLDEzMzpbMiwyMV0sMTM0OlsyLDIxXSwxMzU6WzIsMjFdLDEzNjpbMiwyMV0sMTM3OlsyLDIxXX0sezE6WzIsMjJdLDY6WzIsMjJdLDI1OlsyLDIyXSwyNjpbMiwyMl0sNDk6WzIsMjJdLDU0OlsyLDIyXSw1NzpbMiwyMl0sNzM6WzIsMjJdLDc4OlsyLDIyXSw4NjpbMiwyMl0sOTE6WzIsMjJdLDkzOlsyLDIyXSwxMDI6WzIsMjJdLDEwNDpbMiwyMl0sMTA1OlsyLDIyXSwxMDY6WzIsMjJdLDExMDpbMiwyMl0sMTE4OlsyLDIyXSwxMjY6WzIsMjJdLDEyODpbMiwyMl0sMTI5OlsyLDIyXSwxMzI6WzIsMjJdLDEzMzpbMiwyMl0sMTM0OlsyLDIyXSwxMzU6WzIsMjJdLDEzNjpbMiwyMl0sMTM3OlsyLDIyXX0sezE6WzIsMjNdLDY6WzIsMjNdLDI1OlsyLDIzXSwyNjpbMiwyM10sNDk6WzIsMjNdLDU0OlsyLDIzXSw1NzpbMiwyM10sNzM6WzIsMjNdLDc4OlsyLDIzXSw4NjpbMiwyM10sOTE6WzIsMjNdLDkzOlsyLDIzXSwxMDI6WzIsMjNdLDEwNDpbMiwyM10sMTA1OlsyLDIzXSwxMDY6WzIsMjNdLDExMDpbMiwyM10sMTE4OlsyLDIzXSwxMjY6WzIsMjNdLDEyODpbMiwyM10sMTI5OlsyLDIzXSwxMzI6WzIsMjNdLDEzMzpbMiwyM10sMTM0OlsyLDIzXSwxMzU6WzIsMjNdLDEzNjpbMiwyM10sMTM3OlsyLDIzXX0sezE6WzIsOV0sNjpbMiw5XSwyNjpbMiw5XSwxMDI6WzIsOV0sMTA0OlsyLDldLDEwNjpbMiw5XSwxMTA6WzIsOV0sMTI2OlsyLDldfSx7MTpbMiwxMF0sNjpbMiwxMF0sMjY6WzIsMTBdLDEwMjpbMiwxMF0sMTA0OlsyLDEwXSwxMDY6WzIsMTBdLDExMDpbMiwxMF0sMTI2OlsyLDEwXX0sezE6WzIsMTFdLDY6WzIsMTFdLDI2OlsyLDExXSwxMDI6WzIsMTFdLDEwNDpbMiwxMV0sMTA2OlsyLDExXSwxMTA6WzIsMTFdLDEyNjpbMiwxMV19LHsxOlsyLDc1XSw2OlsyLDc1XSwyNTpbMiw3NV0sMjY6WzIsNzVdLDQwOlsxLDEwNF0sNDk6WzIsNzVdLDU0OlsyLDc1XSw1NzpbMiw3NV0sNjY6WzIsNzVdLDY3OlsyLDc1XSw2ODpbMiw3NV0sNjk6WzIsNzVdLDcxOlsyLDc1XSw3MzpbMiw3NV0sNzQ6WzIsNzVdLDc4OlsyLDc1XSw4NDpbMiw3NV0sODU6WzIsNzVdLDg2OlsyLDc1XSw5MTpbMiw3NV0sOTM6WzIsNzVdLDEwMjpbMiw3NV0sMTA0OlsyLDc1XSwxMDU6WzIsNzVdLDEwNjpbMiw3NV0sMTEwOlsyLDc1XSwxMTg6WzIsNzVdLDEyNjpbMiw3NV0sMTI4OlsyLDc1XSwxMjk6WzIsNzVdLDEzMjpbMiw3NV0sMTMzOlsyLDc1XSwxMzQ6WzIsNzVdLDEzNTpbMiw3NV0sMTM2OlsyLDc1XSwxMzc6WzIsNzVdfSx7MTpbMiw3Nl0sNjpbMiw3Nl0sMjU6WzIsNzZdLDI2OlsyLDc2XSw0OTpbMiw3Nl0sNTQ6WzIsNzZdLDU3OlsyLDc2XSw2NjpbMiw3Nl0sNjc6WzIsNzZdLDY4OlsyLDc2XSw2OTpbMiw3Nl0sNzE6WzIsNzZdLDczOlsyLDc2XSw3NDpbMiw3Nl0sNzg6WzIsNzZdLDg0OlsyLDc2XSw4NTpbMiw3Nl0sODY6WzIsNzZdLDkxOlsyLDc2XSw5MzpbMiw3Nl0sMTAyOlsyLDc2XSwxMDQ6WzIsNzZdLDEwNTpbMiw3Nl0sMTA2OlsyLDc2XSwxMTA6WzIsNzZdLDExODpbMiw3Nl0sMTI2OlsyLDc2XSwxMjg6WzIsNzZdLDEyOTpbMiw3Nl0sMTMyOlsyLDc2XSwxMzM6WzIsNzZdLDEzNDpbMiw3Nl0sMTM1OlsyLDc2XSwxMzY6WzIsNzZdLDEzNzpbMiw3Nl19LHsxOlsyLDc3XSw2OlsyLDc3XSwyNTpbMiw3N10sMjY6WzIsNzddLDQ5OlsyLDc3XSw1NDpbMiw3N10sNTc6WzIsNzddLDY2OlsyLDc3XSw2NzpbMiw3N10sNjg6WzIsNzddLDY5OlsyLDc3XSw3MTpbMiw3N10sNzM6WzIsNzddLDc0OlsyLDc3XSw3ODpbMiw3N10sODQ6WzIsNzddLDg1OlsyLDc3XSw4NjpbMiw3N10sOTE6WzIsNzddLDkzOlsyLDc3XSwxMDI6WzIsNzddLDEwNDpbMiw3N10sMTA1OlsyLDc3XSwxMDY6WzIsNzddLDExMDpbMiw3N10sMTE4OlsyLDc3XSwxMjY6WzIsNzddLDEyODpbMiw3N10sMTI5OlsyLDc3XSwxMzI6WzIsNzddLDEzMzpbMiw3N10sMTM0OlsyLDc3XSwxMzU6WzIsNzddLDEzNjpbMiw3N10sMTM3OlsyLDc3XX0sezE6WzIsNzhdLDY6WzIsNzhdLDI1OlsyLDc4XSwyNjpbMiw3OF0sNDk6WzIsNzhdLDU0OlsyLDc4XSw1NzpbMiw3OF0sNjY6WzIsNzhdLDY3OlsyLDc4XSw2ODpbMiw3OF0sNjk6WzIsNzhdLDcxOlsyLDc4XSw3MzpbMiw3OF0sNzQ6WzIsNzhdLDc4OlsyLDc4XSw4NDpbMiw3OF0sODU6WzIsNzhdLDg2OlsyLDc4XSw5MTpbMiw3OF0sOTM6WzIsNzhdLDEwMjpbMiw3OF0sMTA0OlsyLDc4XSwxMDU6WzIsNzhdLDEwNjpbMiw3OF0sMTEwOlsyLDc4XSwxMTg6WzIsNzhdLDEyNjpbMiw3OF0sMTI4OlsyLDc4XSwxMjk6WzIsNzhdLDEzMjpbMiw3OF0sMTMzOlsyLDc4XSwxMzQ6WzIsNzhdLDEzNTpbMiw3OF0sMTM2OlsyLDc4XSwxMzc6WzIsNzhdfSx7MTpbMiw3OV0sNjpbMiw3OV0sMjU6WzIsNzldLDI2OlsyLDc5XSw0OTpbMiw3OV0sNTQ6WzIsNzldLDU3OlsyLDc5XSw2NjpbMiw3OV0sNjc6WzIsNzldLDY4OlsyLDc5XSw2OTpbMiw3OV0sNzE6WzIsNzldLDczOlsyLDc5XSw3NDpbMiw3OV0sNzg6WzIsNzldLDg0OlsyLDc5XSw4NTpbMiw3OV0sODY6WzIsNzldLDkxOlsyLDc5XSw5MzpbMiw3OV0sMTAyOlsyLDc5XSwxMDQ6WzIsNzldLDEwNTpbMiw3OV0sMTA2OlsyLDc5XSwxMTA6WzIsNzldLDExODpbMiw3OV0sMTI2OlsyLDc5XSwxMjg6WzIsNzldLDEyOTpbMiw3OV0sMTMyOlsyLDc5XSwxMzM6WzIsNzldLDEzNDpbMiw3OV0sMTM1OlsyLDc5XSwxMzY6WzIsNzldLDEzNzpbMiw3OV19LHsxOlsyLDEwNl0sNjpbMiwxMDZdLDI1OlsyLDEwNl0sMjY6WzIsMTA2XSw0OTpbMiwxMDZdLDU0OlsyLDEwNl0sNTc6WzIsMTA2XSw2NjpbMiwxMDZdLDY3OlsyLDEwNl0sNjg6WzIsMTA2XSw2OTpbMiwxMDZdLDcxOlsyLDEwNl0sNzM6WzIsMTA2XSw3NDpbMiwxMDZdLDc4OlsyLDEwNl0sODI6MTA1LDg0OlsyLDEwNl0sODU6WzEsMTA2XSw4NjpbMiwxMDZdLDkxOlsyLDEwNl0sOTM6WzIsMTA2XSwxMDI6WzIsMTA2XSwxMDQ6WzIsMTA2XSwxMDU6WzIsMTA2XSwxMDY6WzIsMTA2XSwxMTA6WzIsMTA2XSwxMTg6WzIsMTA2XSwxMjY6WzIsMTA2XSwxMjg6WzIsMTA2XSwxMjk6WzIsMTA2XSwxMzI6WzIsMTA2XSwxMzM6WzIsMTA2XSwxMzQ6WzIsMTA2XSwxMzU6WzIsMTA2XSwxMzY6WzIsMTA2XSwxMzc6WzIsMTA2XX0sezY6WzIsNTVdLDI1OlsyLDU1XSwyNzoxMTAsMjg6WzEsNzNdLDQ0OjExMSw0ODoxMDcsNDk6WzIsNTVdLDU0OlsyLDU1XSw1NToxMDgsNTY6MTA5LDU4OjExMiw1OToxMTMsNzY6WzEsNzBdLDg5OlsxLDExNF0sOTA6WzEsMTE1XX0sezU6MTE2LDI1OlsxLDVdfSx7ODoxMTcsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs4OjExOSw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezg6MTIwLDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7MTM6MTIyLDE0OjEyMywyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToxMjQsNDQ6NjMsNTg6NDcsNTk6NDgsNjE6MTIxLDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sMTAxOlsxLDU2XX0sezEzOjEyMiwxNDoxMjMsMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MTI0LDQ0OjYzLDU4OjQ3LDU5OjQ4LDYxOjEyNSw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDEwMTpbMSw1Nl19LHsxOlsyLDcyXSw2OlsyLDcyXSwyNTpbMiw3Ml0sMjY6WzIsNzJdLDQwOlsyLDcyXSw0OTpbMiw3Ml0sNTQ6WzIsNzJdLDU3OlsyLDcyXSw2NjpbMiw3Ml0sNjc6WzIsNzJdLDY4OlsyLDcyXSw2OTpbMiw3Ml0sNzE6WzIsNzJdLDczOlsyLDcyXSw3NDpbMiw3Ml0sNzg6WzIsNzJdLDgwOlsxLDEyOV0sODQ6WzIsNzJdLDg1OlsyLDcyXSw4NjpbMiw3Ml0sOTE6WzIsNzJdLDkzOlsyLDcyXSwxMDI6WzIsNzJdLDEwNDpbMiw3Ml0sMTA1OlsyLDcyXSwxMDY6WzIsNzJdLDExMDpbMiw3Ml0sMTE4OlsyLDcyXSwxMjY6WzIsNzJdLDEyODpbMiw3Ml0sMTI5OlsyLDcyXSwxMzA6WzEsMTI2XSwxMzE6WzEsMTI3XSwxMzI6WzIsNzJdLDEzMzpbMiw3Ml0sMTM0OlsyLDcyXSwxMzU6WzIsNzJdLDEzNjpbMiw3Ml0sMTM3OlsyLDcyXSwxMzg6WzEsMTI4XX0sezE6WzIsMTgzXSw2OlsyLDE4M10sMjU6WzIsMTgzXSwyNjpbMiwxODNdLDQ5OlsyLDE4M10sNTQ6WzIsMTgzXSw1NzpbMiwxODNdLDczOlsyLDE4M10sNzg6WzIsMTgzXSw4NjpbMiwxODNdLDkxOlsyLDE4M10sOTM6WzIsMTgzXSwxMDI6WzIsMTgzXSwxMDQ6WzIsMTgzXSwxMDU6WzIsMTgzXSwxMDY6WzIsMTgzXSwxMTA6WzIsMTgzXSwxMTg6WzIsMTgzXSwxMjE6WzEsMTMwXSwxMjY6WzIsMTgzXSwxMjg6WzIsMTgzXSwxMjk6WzIsMTgzXSwxMzI6WzIsMTgzXSwxMzM6WzIsMTgzXSwxMzQ6WzIsMTgzXSwxMzU6WzIsMTgzXSwxMzY6WzIsMTgzXSwxMzc6WzIsMTgzXX0sezU6MTMxLDI1OlsxLDVdfSx7NToxMzIsMjU6WzEsNV19LHsxOlsyLDE1MF0sNjpbMiwxNTBdLDI1OlsyLDE1MF0sMjY6WzIsMTUwXSw0OTpbMiwxNTBdLDU0OlsyLDE1MF0sNTc6WzIsMTUwXSw3MzpbMiwxNTBdLDc4OlsyLDE1MF0sODY6WzIsMTUwXSw5MTpbMiwxNTBdLDkzOlsyLDE1MF0sMTAyOlsyLDE1MF0sMTA0OlsyLDE1MF0sMTA1OlsyLDE1MF0sMTA2OlsyLDE1MF0sMTEwOlsyLDE1MF0sMTE4OlsyLDE1MF0sMTI2OlsyLDE1MF0sMTI4OlsyLDE1MF0sMTI5OlsyLDE1MF0sMTMyOlsyLDE1MF0sMTMzOlsyLDE1MF0sMTM0OlsyLDE1MF0sMTM1OlsyLDE1MF0sMTM2OlsyLDE1MF0sMTM3OlsyLDE1MF19LHs1OjEzMywyNTpbMSw1XX0sezg6MTM0LDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjU6WzEsMTM1XSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHsxOlsyLDk2XSw1OjEzNiw2OlsyLDk2XSwxMzoxMjIsMTQ6MTIzLDI1OlsxLDVdLDI2OlsyLDk2XSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToxMjQsNDQ6NjMsNDk6WzIsOTZdLDU0OlsyLDk2XSw1NzpbMiw5Nl0sNTg6NDcsNTk6NDgsNjE6MTM4LDYzOjI1LDY0OjI2LDY1OjI3LDczOlsyLDk2XSw3NjpbMSw3MF0sNzg6WzIsOTZdLDgwOlsxLDEzN10sODM6WzEsMjhdLDg2OlsyLDk2XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5MTpbMiw5Nl0sOTM6WzIsOTZdLDEwMTpbMSw1Nl0sMTAyOlsyLDk2XSwxMDQ6WzIsOTZdLDEwNTpbMiw5Nl0sMTA2OlsyLDk2XSwxMTA6WzIsOTZdLDExODpbMiw5Nl0sMTI2OlsyLDk2XSwxMjg6WzIsOTZdLDEyOTpbMiw5Nl0sMTMyOlsyLDk2XSwxMzM6WzIsOTZdLDEzNDpbMiw5Nl0sMTM1OlsyLDk2XSwxMzY6WzIsOTZdLDEzNzpbMiw5Nl19LHs4OjEzOSw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezE6WzIsNDddLDY6WzIsNDddLDg6MTQwLDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjY6WzIsNDddLDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDI6WzIsNDddLDEwMzozOSwxMDQ6WzIsNDddLDEwNjpbMiw0N10sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMiw0N10sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI2OlsyLDQ3XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHsxOlsyLDQ4XSw2OlsyLDQ4XSwyNTpbMiw0OF0sMjY6WzIsNDhdLDU0OlsyLDQ4XSw3ODpbMiw0OF0sMTAyOlsyLDQ4XSwxMDQ6WzIsNDhdLDEwNjpbMiw0OF0sMTEwOlsyLDQ4XSwxMjY6WzIsNDhdfSx7MTpbMiw3M10sNjpbMiw3M10sMjU6WzIsNzNdLDI2OlsyLDczXSw0MDpbMiw3M10sNDk6WzIsNzNdLDU0OlsyLDczXSw1NzpbMiw3M10sNjY6WzIsNzNdLDY3OlsyLDczXSw2ODpbMiw3M10sNjk6WzIsNzNdLDcxOlsyLDczXSw3MzpbMiw3M10sNzQ6WzIsNzNdLDc4OlsyLDczXSw4NDpbMiw3M10sODU6WzIsNzNdLDg2OlsyLDczXSw5MTpbMiw3M10sOTM6WzIsNzNdLDEwMjpbMiw3M10sMTA0OlsyLDczXSwxMDU6WzIsNzNdLDEwNjpbMiw3M10sMTEwOlsyLDczXSwxMTg6WzIsNzNdLDEyNjpbMiw3M10sMTI4OlsyLDczXSwxMjk6WzIsNzNdLDEzMjpbMiw3M10sMTMzOlsyLDczXSwxMzQ6WzIsNzNdLDEzNTpbMiw3M10sMTM2OlsyLDczXSwxMzc6WzIsNzNdfSx7MTpbMiw3NF0sNjpbMiw3NF0sMjU6WzIsNzRdLDI2OlsyLDc0XSw0MDpbMiw3NF0sNDk6WzIsNzRdLDU0OlsyLDc0XSw1NzpbMiw3NF0sNjY6WzIsNzRdLDY3OlsyLDc0XSw2ODpbMiw3NF0sNjk6WzIsNzRdLDcxOlsyLDc0XSw3MzpbMiw3NF0sNzQ6WzIsNzRdLDc4OlsyLDc0XSw4NDpbMiw3NF0sODU6WzIsNzRdLDg2OlsyLDc0XSw5MTpbMiw3NF0sOTM6WzIsNzRdLDEwMjpbMiw3NF0sMTA0OlsyLDc0XSwxMDU6WzIsNzRdLDEwNjpbMiw3NF0sMTEwOlsyLDc0XSwxMTg6WzIsNzRdLDEyNjpbMiw3NF0sMTI4OlsyLDc0XSwxMjk6WzIsNzRdLDEzMjpbMiw3NF0sMTMzOlsyLDc0XSwxMzQ6WzIsNzRdLDEzNTpbMiw3NF0sMTM2OlsyLDc0XSwxMzc6WzIsNzRdfSx7MTpbMiwyOV0sNjpbMiwyOV0sMjU6WzIsMjldLDI2OlsyLDI5XSw0OTpbMiwyOV0sNTQ6WzIsMjldLDU3OlsyLDI5XSw2NjpbMiwyOV0sNjc6WzIsMjldLDY4OlsyLDI5XSw2OTpbMiwyOV0sNzE6WzIsMjldLDczOlsyLDI5XSw3NDpbMiwyOV0sNzg6WzIsMjldLDg0OlsyLDI5XSw4NTpbMiwyOV0sODY6WzIsMjldLDkxOlsyLDI5XSw5MzpbMiwyOV0sMTAyOlsyLDI5XSwxMDQ6WzIsMjldLDEwNTpbMiwyOV0sMTA2OlsyLDI5XSwxMTA6WzIsMjldLDExODpbMiwyOV0sMTI2OlsyLDI5XSwxMjg6WzIsMjldLDEyOTpbMiwyOV0sMTMyOlsyLDI5XSwxMzM6WzIsMjldLDEzNDpbMiwyOV0sMTM1OlsyLDI5XSwxMzY6WzIsMjldLDEzNzpbMiwyOV19LHsxOlsyLDMwXSw2OlsyLDMwXSwyNTpbMiwzMF0sMjY6WzIsMzBdLDQ5OlsyLDMwXSw1NDpbMiwzMF0sNTc6WzIsMzBdLDY2OlsyLDMwXSw2NzpbMiwzMF0sNjg6WzIsMzBdLDY5OlsyLDMwXSw3MTpbMiwzMF0sNzM6WzIsMzBdLDc0OlsyLDMwXSw3ODpbMiwzMF0sODQ6WzIsMzBdLDg1OlsyLDMwXSw4NjpbMiwzMF0sOTE6WzIsMzBdLDkzOlsyLDMwXSwxMDI6WzIsMzBdLDEwNDpbMiwzMF0sMTA1OlsyLDMwXSwxMDY6WzIsMzBdLDExMDpbMiwzMF0sMTE4OlsyLDMwXSwxMjY6WzIsMzBdLDEyODpbMiwzMF0sMTI5OlsyLDMwXSwxMzI6WzIsMzBdLDEzMzpbMiwzMF0sMTM0OlsyLDMwXSwxMzU6WzIsMzBdLDEzNjpbMiwzMF0sMTM3OlsyLDMwXX0sezE6WzIsMzFdLDY6WzIsMzFdLDI1OlsyLDMxXSwyNjpbMiwzMV0sNDk6WzIsMzFdLDU0OlsyLDMxXSw1NzpbMiwzMV0sNjY6WzIsMzFdLDY3OlsyLDMxXSw2ODpbMiwzMV0sNjk6WzIsMzFdLDcxOlsyLDMxXSw3MzpbMiwzMV0sNzQ6WzIsMzFdLDc4OlsyLDMxXSw4NDpbMiwzMV0sODU6WzIsMzFdLDg2OlsyLDMxXSw5MTpbMiwzMV0sOTM6WzIsMzFdLDEwMjpbMiwzMV0sMTA0OlsyLDMxXSwxMDU6WzIsMzFdLDEwNjpbMiwzMV0sMTEwOlsyLDMxXSwxMTg6WzIsMzFdLDEyNjpbMiwzMV0sMTI4OlsyLDMxXSwxMjk6WzIsMzFdLDEzMjpbMiwzMV0sMTMzOlsyLDMxXSwxMzQ6WzIsMzFdLDEzNTpbMiwzMV0sMTM2OlsyLDMxXSwxMzc6WzIsMzFdfSx7MTpbMiwzMl0sNjpbMiwzMl0sMjU6WzIsMzJdLDI2OlsyLDMyXSw0OTpbMiwzMl0sNTQ6WzIsMzJdLDU3OlsyLDMyXSw2NjpbMiwzMl0sNjc6WzIsMzJdLDY4OlsyLDMyXSw2OTpbMiwzMl0sNzE6WzIsMzJdLDczOlsyLDMyXSw3NDpbMiwzMl0sNzg6WzIsMzJdLDg0OlsyLDMyXSw4NTpbMiwzMl0sODY6WzIsMzJdLDkxOlsyLDMyXSw5MzpbMiwzMl0sMTAyOlsyLDMyXSwxMDQ6WzIsMzJdLDEwNTpbMiwzMl0sMTA2OlsyLDMyXSwxMTA6WzIsMzJdLDExODpbMiwzMl0sMTI2OlsyLDMyXSwxMjg6WzIsMzJdLDEyOTpbMiwzMl0sMTMyOlsyLDMyXSwxMzM6WzIsMzJdLDEzNDpbMiwzMl0sMTM1OlsyLDMyXSwxMzY6WzIsMzJdLDEzNzpbMiwzMl19LHsxOlsyLDMzXSw2OlsyLDMzXSwyNTpbMiwzM10sMjY6WzIsMzNdLDQ5OlsyLDMzXSw1NDpbMiwzM10sNTc6WzIsMzNdLDY2OlsyLDMzXSw2NzpbMiwzM10sNjg6WzIsMzNdLDY5OlsyLDMzXSw3MTpbMiwzM10sNzM6WzIsMzNdLDc0OlsyLDMzXSw3ODpbMiwzM10sODQ6WzIsMzNdLDg1OlsyLDMzXSw4NjpbMiwzM10sOTE6WzIsMzNdLDkzOlsyLDMzXSwxMDI6WzIsMzNdLDEwNDpbMiwzM10sMTA1OlsyLDMzXSwxMDY6WzIsMzNdLDExMDpbMiwzM10sMTE4OlsyLDMzXSwxMjY6WzIsMzNdLDEyODpbMiwzM10sMTI5OlsyLDMzXSwxMzI6WzIsMzNdLDEzMzpbMiwzM10sMTM0OlsyLDMzXSwxMzU6WzIsMzNdLDEzNjpbMiwzM10sMTM3OlsyLDMzXX0sezE6WzIsMzRdLDY6WzIsMzRdLDI1OlsyLDM0XSwyNjpbMiwzNF0sNDk6WzIsMzRdLDU0OlsyLDM0XSw1NzpbMiwzNF0sNjY6WzIsMzRdLDY3OlsyLDM0XSw2ODpbMiwzNF0sNjk6WzIsMzRdLDcxOlsyLDM0XSw3MzpbMiwzNF0sNzQ6WzIsMzRdLDc4OlsyLDM0XSw4NDpbMiwzNF0sODU6WzIsMzRdLDg2OlsyLDM0XSw5MTpbMiwzNF0sOTM6WzIsMzRdLDEwMjpbMiwzNF0sMTA0OlsyLDM0XSwxMDU6WzIsMzRdLDEwNjpbMiwzNF0sMTEwOlsyLDM0XSwxMTg6WzIsMzRdLDEyNjpbMiwzNF0sMTI4OlsyLDM0XSwxMjk6WzIsMzRdLDEzMjpbMiwzNF0sMTMzOlsyLDM0XSwxMzQ6WzIsMzRdLDEzNTpbMiwzNF0sMTM2OlsyLDM0XSwxMzc6WzIsMzRdfSx7MTpbMiwzNV0sNjpbMiwzNV0sMjU6WzIsMzVdLDI2OlsyLDM1XSw0OTpbMiwzNV0sNTQ6WzIsMzVdLDU3OlsyLDM1XSw2NjpbMiwzNV0sNjc6WzIsMzVdLDY4OlsyLDM1XSw2OTpbMiwzNV0sNzE6WzIsMzVdLDczOlsyLDM1XSw3NDpbMiwzNV0sNzg6WzIsMzVdLDg0OlsyLDM1XSw4NTpbMiwzNV0sODY6WzIsMzVdLDkxOlsyLDM1XSw5MzpbMiwzNV0sMTAyOlsyLDM1XSwxMDQ6WzIsMzVdLDEwNTpbMiwzNV0sMTA2OlsyLDM1XSwxMTA6WzIsMzVdLDExODpbMiwzNV0sMTI2OlsyLDM1XSwxMjg6WzIsMzVdLDEyOTpbMiwzNV0sMTMyOlsyLDM1XSwxMzM6WzIsMzVdLDEzNDpbMiwzNV0sMTM1OlsyLDM1XSwxMzY6WzIsMzVdLDEzNzpbMiwzNV19LHs0OjE0MSw3OjQsODo2LDk6NywxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI1OlsxLDE0Ml0sMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7ODoxNDMsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNTpbMSwxNDddLDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjA6MTQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg3OjE0NSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5MTpbMSwxNDRdLDk0OjE0Niw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7MTpbMiwxMTJdLDY6WzIsMTEyXSwyNTpbMiwxMTJdLDI2OlsyLDExMl0sNDk6WzIsMTEyXSw1NDpbMiwxMTJdLDU3OlsyLDExMl0sNjY6WzIsMTEyXSw2NzpbMiwxMTJdLDY4OlsyLDExMl0sNjk6WzIsMTEyXSw3MTpbMiwxMTJdLDczOlsyLDExMl0sNzQ6WzIsMTEyXSw3ODpbMiwxMTJdLDg0OlsyLDExMl0sODU6WzIsMTEyXSw4NjpbMiwxMTJdLDkxOlsyLDExMl0sOTM6WzIsMTEyXSwxMDI6WzIsMTEyXSwxMDQ6WzIsMTEyXSwxMDU6WzIsMTEyXSwxMDY6WzIsMTEyXSwxMTA6WzIsMTEyXSwxMTg6WzIsMTEyXSwxMjY6WzIsMTEyXSwxMjg6WzIsMTEyXSwxMjk6WzIsMTEyXSwxMzI6WzIsMTEyXSwxMzM6WzIsMTEyXSwxMzQ6WzIsMTEyXSwxMzU6WzIsMTEyXSwxMzY6WzIsMTEyXSwxMzc6WzIsMTEyXX0sezE6WzIsMTEzXSw2OlsyLDExM10sMjU6WzIsMTEzXSwyNjpbMiwxMTNdLDI3OjE0OSwyODpbMSw3M10sNDk6WzIsMTEzXSw1NDpbMiwxMTNdLDU3OlsyLDExM10sNjY6WzIsMTEzXSw2NzpbMiwxMTNdLDY4OlsyLDExM10sNjk6WzIsMTEzXSw3MTpbMiwxMTNdLDczOlsyLDExM10sNzQ6WzIsMTEzXSw3ODpbMiwxMTNdLDg0OlsyLDExM10sODU6WzIsMTEzXSw4NjpbMiwxMTNdLDkxOlsyLDExM10sOTM6WzIsMTEzXSwxMDI6WzIsMTEzXSwxMDQ6WzIsMTEzXSwxMDU6WzIsMTEzXSwxMDY6WzIsMTEzXSwxMTA6WzIsMTEzXSwxMTg6WzIsMTEzXSwxMjY6WzIsMTEzXSwxMjg6WzIsMTEzXSwxMjk6WzIsMTEzXSwxMzI6WzIsMTEzXSwxMzM6WzIsMTEzXSwxMzQ6WzIsMTEzXSwxMzU6WzIsMTEzXSwxMzY6WzIsMTEzXSwxMzc6WzIsMTEzXX0sezI1OlsyLDUxXX0sezI1OlsyLDUyXX0sezE6WzIsNjhdLDY6WzIsNjhdLDI1OlsyLDY4XSwyNjpbMiw2OF0sNDA6WzIsNjhdLDQ5OlsyLDY4XSw1NDpbMiw2OF0sNTc6WzIsNjhdLDY2OlsyLDY4XSw2NzpbMiw2OF0sNjg6WzIsNjhdLDY5OlsyLDY4XSw3MTpbMiw2OF0sNzM6WzIsNjhdLDc0OlsyLDY4XSw3ODpbMiw2OF0sODA6WzIsNjhdLDg0OlsyLDY4XSw4NTpbMiw2OF0sODY6WzIsNjhdLDkxOlsyLDY4XSw5MzpbMiw2OF0sMTAyOlsyLDY4XSwxMDQ6WzIsNjhdLDEwNTpbMiw2OF0sMTA2OlsyLDY4XSwxMTA6WzIsNjhdLDExODpbMiw2OF0sMTI2OlsyLDY4XSwxMjg6WzIsNjhdLDEyOTpbMiw2OF0sMTMwOlsyLDY4XSwxMzE6WzIsNjhdLDEzMjpbMiw2OF0sMTMzOlsyLDY4XSwxMzQ6WzIsNjhdLDEzNTpbMiw2OF0sMTM2OlsyLDY4XSwxMzc6WzIsNjhdLDEzODpbMiw2OF19LHsxOlsyLDcxXSw2OlsyLDcxXSwyNTpbMiw3MV0sMjY6WzIsNzFdLDQwOlsyLDcxXSw0OTpbMiw3MV0sNTQ6WzIsNzFdLDU3OlsyLDcxXSw2NjpbMiw3MV0sNjc6WzIsNzFdLDY4OlsyLDcxXSw2OTpbMiw3MV0sNzE6WzIsNzFdLDczOlsyLDcxXSw3NDpbMiw3MV0sNzg6WzIsNzFdLDgwOlsyLDcxXSw4NDpbMiw3MV0sODU6WzIsNzFdLDg2OlsyLDcxXSw5MTpbMiw3MV0sOTM6WzIsNzFdLDEwMjpbMiw3MV0sMTA0OlsyLDcxXSwxMDU6WzIsNzFdLDEwNjpbMiw3MV0sMTEwOlsyLDcxXSwxMTg6WzIsNzFdLDEyNjpbMiw3MV0sMTI4OlsyLDcxXSwxMjk6WzIsNzFdLDEzMDpbMiw3MV0sMTMxOlsyLDcxXSwxMzI6WzIsNzFdLDEzMzpbMiw3MV0sMTM0OlsyLDcxXSwxMzU6WzIsNzFdLDEzNjpbMiw3MV0sMTM3OlsyLDcxXSwxMzg6WzIsNzFdfSx7ODoxNTAsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs4OjE1MSw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezg6MTUyLDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7NToxNTMsODoxNTQsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNTpbMSw1XSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHsyNzoxNTksMjg6WzEsNzNdLDQ0OjE2MCw1ODoxNjEsNTk6MTYyLDY0OjE1NSw3NjpbMSw3MF0sODk6WzEsMTE0XSw5MDpbMSw1N10sMTEzOjE1NiwxMTQ6WzEsMTU3XSwxMTU6MTU4fSx7MTEyOjE2MywxMTY6WzEsMTY0XSwxMTc6WzEsMTY1XX0sezY6WzIsOTFdLDExOjE2OSwyNTpbMiw5MV0sMjc6MTcwLDI4OlsxLDczXSwyOToxNzEsMzA6WzEsNzFdLDMxOlsxLDcyXSw0MToxNjcsNDI6MTY4LDQ0OjE3Miw0NjpbMSw0Nl0sNTQ6WzIsOTFdLDc3OjE2Niw3ODpbMiw5MV0sODk6WzEsMTE0XX0sezE6WzIsMjddLDY6WzIsMjddLDI1OlsyLDI3XSwyNjpbMiwyN10sNDM6WzIsMjddLDQ5OlsyLDI3XSw1NDpbMiwyN10sNTc6WzIsMjddLDY2OlsyLDI3XSw2NzpbMiwyN10sNjg6WzIsMjddLDY5OlsyLDI3XSw3MTpbMiwyN10sNzM6WzIsMjddLDc0OlsyLDI3XSw3ODpbMiwyN10sODQ6WzIsMjddLDg1OlsyLDI3XSw4NjpbMiwyN10sOTE6WzIsMjddLDkzOlsyLDI3XSwxMDI6WzIsMjddLDEwNDpbMiwyN10sMTA1OlsyLDI3XSwxMDY6WzIsMjddLDExMDpbMiwyN10sMTE4OlsyLDI3XSwxMjY6WzIsMjddLDEyODpbMiwyN10sMTI5OlsyLDI3XSwxMzI6WzIsMjddLDEzMzpbMiwyN10sMTM0OlsyLDI3XSwxMzU6WzIsMjddLDEzNjpbMiwyN10sMTM3OlsyLDI3XX0sezE6WzIsMjhdLDY6WzIsMjhdLDI1OlsyLDI4XSwyNjpbMiwyOF0sNDM6WzIsMjhdLDQ5OlsyLDI4XSw1NDpbMiwyOF0sNTc6WzIsMjhdLDY2OlsyLDI4XSw2NzpbMiwyOF0sNjg6WzIsMjhdLDY5OlsyLDI4XSw3MTpbMiwyOF0sNzM6WzIsMjhdLDc0OlsyLDI4XSw3ODpbMiwyOF0sODQ6WzIsMjhdLDg1OlsyLDI4XSw4NjpbMiwyOF0sOTE6WzIsMjhdLDkzOlsyLDI4XSwxMDI6WzIsMjhdLDEwNDpbMiwyOF0sMTA1OlsyLDI4XSwxMDY6WzIsMjhdLDExMDpbMiwyOF0sMTE4OlsyLDI4XSwxMjY6WzIsMjhdLDEyODpbMiwyOF0sMTI5OlsyLDI4XSwxMzI6WzIsMjhdLDEzMzpbMiwyOF0sMTM0OlsyLDI4XSwxMzU6WzIsMjhdLDEzNjpbMiwyOF0sMTM3OlsyLDI4XX0sezE6WzIsMjZdLDY6WzIsMjZdLDI1OlsyLDI2XSwyNjpbMiwyNl0sNDA6WzIsMjZdLDQzOlsyLDI2XSw0OTpbMiwyNl0sNTQ6WzIsMjZdLDU3OlsyLDI2XSw2NjpbMiwyNl0sNjc6WzIsMjZdLDY4OlsyLDI2XSw2OTpbMiwyNl0sNzE6WzIsMjZdLDczOlsyLDI2XSw3NDpbMiwyNl0sNzg6WzIsMjZdLDgwOlsyLDI2XSw4NDpbMiwyNl0sODU6WzIsMjZdLDg2OlsyLDI2XSw5MTpbMiwyNl0sOTM6WzIsMjZdLDEwMjpbMiwyNl0sMTA0OlsyLDI2XSwxMDU6WzIsMjZdLDEwNjpbMiwyNl0sMTEwOlsyLDI2XSwxMTY6WzIsMjZdLDExNzpbMiwyNl0sMTE4OlsyLDI2XSwxMjY6WzIsMjZdLDEyODpbMiwyNl0sMTI5OlsyLDI2XSwxMzA6WzIsMjZdLDEzMTpbMiwyNl0sMTMyOlsyLDI2XSwxMzM6WzIsMjZdLDEzNDpbMiwyNl0sMTM1OlsyLDI2XSwxMzY6WzIsMjZdLDEzNzpbMiwyNl0sMTM4OlsyLDI2XX0sezE6WzIsNl0sNjpbMiw2XSw3OjE3Myw4OjYsOTo3LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjY6WzIsNl0sMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMjpbMiw2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezE6WzIsM119LHsxOlsyLDI0XSw2OlsyLDI0XSwyNTpbMiwyNF0sMjY6WzIsMjRdLDQ5OlsyLDI0XSw1NDpbMiwyNF0sNTc6WzIsMjRdLDczOlsyLDI0XSw3ODpbMiwyNF0sODY6WzIsMjRdLDkxOlsyLDI0XSw5MzpbMiwyNF0sOTg6WzIsMjRdLDk5OlsyLDI0XSwxMDI6WzIsMjRdLDEwNDpbMiwyNF0sMTA1OlsyLDI0XSwxMDY6WzIsMjRdLDExMDpbMiwyNF0sMTE4OlsyLDI0XSwxMjE6WzIsMjRdLDEyMzpbMiwyNF0sMTI2OlsyLDI0XSwxMjg6WzIsMjRdLDEyOTpbMiwyNF0sMTMyOlsyLDI0XSwxMzM6WzIsMjRdLDEzNDpbMiwyNF0sMTM1OlsyLDI0XSwxMzY6WzIsMjRdLDEzNzpbMiwyNF19LHs2OlsxLDc0XSwyNjpbMSwxNzRdfSx7MTpbMiwxOTRdLDY6WzIsMTk0XSwyNTpbMiwxOTRdLDI2OlsyLDE5NF0sNDk6WzIsMTk0XSw1NDpbMiwxOTRdLDU3OlsyLDE5NF0sNzM6WzIsMTk0XSw3ODpbMiwxOTRdLDg2OlsyLDE5NF0sOTE6WzIsMTk0XSw5MzpbMiwxOTRdLDEwMjpbMiwxOTRdLDEwNDpbMiwxOTRdLDEwNTpbMiwxOTRdLDEwNjpbMiwxOTRdLDExMDpbMiwxOTRdLDExODpbMiwxOTRdLDEyNjpbMiwxOTRdLDEyODpbMiwxOTRdLDEyOTpbMiwxOTRdLDEzMjpbMiwxOTRdLDEzMzpbMiwxOTRdLDEzNDpbMiwxOTRdLDEzNTpbMiwxOTRdLDEzNjpbMiwxOTRdLDEzNzpbMiwxOTRdfSx7ODoxNzUsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs4OjE3Niw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezg6MTc3LDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7ODoxNzgsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs4OjE3OSw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezg6MTgwLDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7ODoxODEsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs4OjE4Miw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezE6WzIsMTQ5XSw2OlsyLDE0OV0sMjU6WzIsMTQ5XSwyNjpbMiwxNDldLDQ5OlsyLDE0OV0sNTQ6WzIsMTQ5XSw1NzpbMiwxNDldLDczOlsyLDE0OV0sNzg6WzIsMTQ5XSw4NjpbMiwxNDldLDkxOlsyLDE0OV0sOTM6WzIsMTQ5XSwxMDI6WzIsMTQ5XSwxMDQ6WzIsMTQ5XSwxMDU6WzIsMTQ5XSwxMDY6WzIsMTQ5XSwxMTA6WzIsMTQ5XSwxMTg6WzIsMTQ5XSwxMjY6WzIsMTQ5XSwxMjg6WzIsMTQ5XSwxMjk6WzIsMTQ5XSwxMzI6WzIsMTQ5XSwxMzM6WzIsMTQ5XSwxMzQ6WzIsMTQ5XSwxMzU6WzIsMTQ5XSwxMzY6WzIsMTQ5XSwxMzc6WzIsMTQ5XX0sezE6WzIsMTU0XSw2OlsyLDE1NF0sMjU6WzIsMTU0XSwyNjpbMiwxNTRdLDQ5OlsyLDE1NF0sNTQ6WzIsMTU0XSw1NzpbMiwxNTRdLDczOlsyLDE1NF0sNzg6WzIsMTU0XSw4NjpbMiwxNTRdLDkxOlsyLDE1NF0sOTM6WzIsMTU0XSwxMDI6WzIsMTU0XSwxMDQ6WzIsMTU0XSwxMDU6WzIsMTU0XSwxMDY6WzIsMTU0XSwxMTA6WzIsMTU0XSwxMTg6WzIsMTU0XSwxMjY6WzIsMTU0XSwxMjg6WzIsMTU0XSwxMjk6WzIsMTU0XSwxMzI6WzIsMTU0XSwxMzM6WzIsMTU0XSwxMzQ6WzIsMTU0XSwxMzU6WzIsMTU0XSwxMzY6WzIsMTU0XSwxMzc6WzIsMTU0XX0sezg6MTgzLDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7MTpbMiwxNDhdLDY6WzIsMTQ4XSwyNTpbMiwxNDhdLDI2OlsyLDE0OF0sNDk6WzIsMTQ4XSw1NDpbMiwxNDhdLDU3OlsyLDE0OF0sNzM6WzIsMTQ4XSw3ODpbMiwxNDhdLDg2OlsyLDE0OF0sOTE6WzIsMTQ4XSw5MzpbMiwxNDhdLDEwMjpbMiwxNDhdLDEwNDpbMiwxNDhdLDEwNTpbMiwxNDhdLDEwNjpbMiwxNDhdLDExMDpbMiwxNDhdLDExODpbMiwxNDhdLDEyNjpbMiwxNDhdLDEyODpbMiwxNDhdLDEyOTpbMiwxNDhdLDEzMjpbMiwxNDhdLDEzMzpbMiwxNDhdLDEzNDpbMiwxNDhdLDEzNTpbMiwxNDhdLDEzNjpbMiwxNDhdLDEzNzpbMiwxNDhdfSx7MTpbMiwxNTNdLDY6WzIsMTUzXSwyNTpbMiwxNTNdLDI2OlsyLDE1M10sNDk6WzIsMTUzXSw1NDpbMiwxNTNdLDU3OlsyLDE1M10sNzM6WzIsMTUzXSw3ODpbMiwxNTNdLDg2OlsyLDE1M10sOTE6WzIsMTUzXSw5MzpbMiwxNTNdLDEwMjpbMiwxNTNdLDEwNDpbMiwxNTNdLDEwNTpbMiwxNTNdLDEwNjpbMiwxNTNdLDExMDpbMiwxNTNdLDExODpbMiwxNTNdLDEyNjpbMiwxNTNdLDEyODpbMiwxNTNdLDEyOTpbMiwxNTNdLDEzMjpbMiwxNTNdLDEzMzpbMiwxNTNdLDEzNDpbMiwxNTNdLDEzNTpbMiwxNTNdLDEzNjpbMiwxNTNdLDEzNzpbMiwxNTNdfSx7ODI6MTg0LDg1OlsxLDEwNl19LHsxOlsyLDY5XSw2OlsyLDY5XSwyNTpbMiw2OV0sMjY6WzIsNjldLDQwOlsyLDY5XSw0OTpbMiw2OV0sNTQ6WzIsNjldLDU3OlsyLDY5XSw2NjpbMiw2OV0sNjc6WzIsNjldLDY4OlsyLDY5XSw2OTpbMiw2OV0sNzE6WzIsNjldLDczOlsyLDY5XSw3NDpbMiw2OV0sNzg6WzIsNjldLDgwOlsyLDY5XSw4NDpbMiw2OV0sODU6WzIsNjldLDg2OlsyLDY5XSw5MTpbMiw2OV0sOTM6WzIsNjldLDEwMjpbMiw2OV0sMTA0OlsyLDY5XSwxMDU6WzIsNjldLDEwNjpbMiw2OV0sMTEwOlsyLDY5XSwxMTg6WzIsNjldLDEyNjpbMiw2OV0sMTI4OlsyLDY5XSwxMjk6WzIsNjldLDEzMDpbMiw2OV0sMTMxOlsyLDY5XSwxMzI6WzIsNjldLDEzMzpbMiw2OV0sMTM0OlsyLDY5XSwxMzU6WzIsNjldLDEzNjpbMiw2OV0sMTM3OlsyLDY5XSwxMzg6WzIsNjldfSx7ODU6WzIsMTA5XX0sezI3OjE4NSwyODpbMSw3M119LHsyNzoxODYsMjg6WzEsNzNdfSx7MTpbMiw4NF0sNjpbMiw4NF0sMjU6WzIsODRdLDI2OlsyLDg0XSwyNzoxODcsMjg6WzEsNzNdLDQwOlsyLDg0XSw0OTpbMiw4NF0sNTQ6WzIsODRdLDU3OlsyLDg0XSw2NjpbMiw4NF0sNjc6WzIsODRdLDY4OlsyLDg0XSw2OTpbMiw4NF0sNzE6WzIsODRdLDczOlsyLDg0XSw3NDpbMiw4NF0sNzg6WzIsODRdLDgwOlsyLDg0XSw4NDpbMiw4NF0sODU6WzIsODRdLDg2OlsyLDg0XSw5MTpbMiw4NF0sOTM6WzIsODRdLDEwMjpbMiw4NF0sMTA0OlsyLDg0XSwxMDU6WzIsODRdLDEwNjpbMiw4NF0sMTEwOlsyLDg0XSwxMTg6WzIsODRdLDEyNjpbMiw4NF0sMTI4OlsyLDg0XSwxMjk6WzIsODRdLDEzMDpbMiw4NF0sMTMxOlsyLDg0XSwxMzI6WzIsODRdLDEzMzpbMiw4NF0sMTM0OlsyLDg0XSwxMzU6WzIsODRdLDEzNjpbMiw4NF0sMTM3OlsyLDg0XSwxMzg6WzIsODRdfSx7Mjc6MTg4LDI4OlsxLDczXX0sezE6WzIsODVdLDY6WzIsODVdLDI1OlsyLDg1XSwyNjpbMiw4NV0sNDA6WzIsODVdLDQ5OlsyLDg1XSw1NDpbMiw4NV0sNTc6WzIsODVdLDY2OlsyLDg1XSw2NzpbMiw4NV0sNjg6WzIsODVdLDY5OlsyLDg1XSw3MTpbMiw4NV0sNzM6WzIsODVdLDc0OlsyLDg1XSw3ODpbMiw4NV0sODA6WzIsODVdLDg0OlsyLDg1XSw4NTpbMiw4NV0sODY6WzIsODVdLDkxOlsyLDg1XSw5MzpbMiw4NV0sMTAyOlsyLDg1XSwxMDQ6WzIsODVdLDEwNTpbMiw4NV0sMTA2OlsyLDg1XSwxMTA6WzIsODVdLDExODpbMiw4NV0sMTI2OlsyLDg1XSwxMjg6WzIsODVdLDEyOTpbMiw4NV0sMTMwOlsyLDg1XSwxMzE6WzIsODVdLDEzMjpbMiw4NV0sMTMzOlsyLDg1XSwxMzQ6WzIsODVdLDEzNTpbMiw4NV0sMTM2OlsyLDg1XSwxMzc6WzIsODVdLDEzODpbMiw4NV19LHs4OjE5MCw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTc6WzEsMTk0XSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3MjoxODksNzU6MTkxLDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDkyOjE5Miw5MzpbMSwxOTNdLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs3MDoxOTUsNzE6WzEsMTAwXSw3NDpbMSwxMDFdfSx7ODI6MTk2LDg1OlsxLDEwNl19LHsxOlsyLDcwXSw2OlsyLDcwXSwyNTpbMiw3MF0sMjY6WzIsNzBdLDQwOlsyLDcwXSw0OTpbMiw3MF0sNTQ6WzIsNzBdLDU3OlsyLDcwXSw2NjpbMiw3MF0sNjc6WzIsNzBdLDY4OlsyLDcwXSw2OTpbMiw3MF0sNzE6WzIsNzBdLDczOlsyLDcwXSw3NDpbMiw3MF0sNzg6WzIsNzBdLDgwOlsyLDcwXSw4NDpbMiw3MF0sODU6WzIsNzBdLDg2OlsyLDcwXSw5MTpbMiw3MF0sOTM6WzIsNzBdLDEwMjpbMiw3MF0sMTA0OlsyLDcwXSwxMDU6WzIsNzBdLDEwNjpbMiw3MF0sMTEwOlsyLDcwXSwxMTg6WzIsNzBdLDEyNjpbMiw3MF0sMTI4OlsyLDcwXSwxMjk6WzIsNzBdLDEzMDpbMiw3MF0sMTMxOlsyLDcwXSwxMzI6WzIsNzBdLDEzMzpbMiw3MF0sMTM0OlsyLDcwXSwxMzU6WzIsNzBdLDEzNjpbMiw3MF0sMTM3OlsyLDcwXSwxMzg6WzIsNzBdfSx7NjpbMSwxOThdLDg6MTk3LDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjU6WzEsMTk5XSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHsxOlsyLDEwN10sNjpbMiwxMDddLDI1OlsyLDEwN10sMjY6WzIsMTA3XSw0OTpbMiwxMDddLDU0OlsyLDEwN10sNTc6WzIsMTA3XSw2NjpbMiwxMDddLDY3OlsyLDEwN10sNjg6WzIsMTA3XSw2OTpbMiwxMDddLDcxOlsyLDEwN10sNzM6WzIsMTA3XSw3NDpbMiwxMDddLDc4OlsyLDEwN10sODQ6WzIsMTA3XSw4NTpbMiwxMDddLDg2OlsyLDEwN10sOTE6WzIsMTA3XSw5MzpbMiwxMDddLDEwMjpbMiwxMDddLDEwNDpbMiwxMDddLDEwNTpbMiwxMDddLDEwNjpbMiwxMDddLDExMDpbMiwxMDddLDExODpbMiwxMDddLDEyNjpbMiwxMDddLDEyODpbMiwxMDddLDEyOTpbMiwxMDddLDEzMjpbMiwxMDddLDEzMzpbMiwxMDddLDEzNDpbMiwxMDddLDEzNTpbMiwxMDddLDEzNjpbMiwxMDddLDEzNzpbMiwxMDddfSx7ODoyMDIsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNTpbMSwxNDddLDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjA6MTQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg2OlsxLDIwMF0sODc6MjAxLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk0OjE0Niw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7NjpbMiw1M10sMjU6WzIsNTNdLDQ5OlsxLDIwM10sNTM6MjA1LDU0OlsxLDIwNF19LHs2OlsyLDU2XSwyNTpbMiw1Nl0sMjY6WzIsNTZdLDQ5OlsyLDU2XSw1NDpbMiw1Nl19LHs2OlsyLDYwXSwyNTpbMiw2MF0sMjY6WzIsNjBdLDQwOlsxLDIwN10sNDk6WzIsNjBdLDU0OlsyLDYwXSw1NzpbMSwyMDZdfSx7NjpbMiw2M10sMjU6WzIsNjNdLDI2OlsyLDYzXSw0MDpbMiw2M10sNDk6WzIsNjNdLDU0OlsyLDYzXSw1NzpbMiw2M119LHs2OlsyLDY0XSwyNTpbMiw2NF0sMjY6WzIsNjRdLDQwOlsyLDY0XSw0OTpbMiw2NF0sNTQ6WzIsNjRdLDU3OlsyLDY0XX0sezY6WzIsNjVdLDI1OlsyLDY1XSwyNjpbMiw2NV0sNDA6WzIsNjVdLDQ5OlsyLDY1XSw1NDpbMiw2NV0sNTc6WzIsNjVdfSx7NjpbMiw2Nl0sMjU6WzIsNjZdLDI2OlsyLDY2XSw0MDpbMiw2Nl0sNDk6WzIsNjZdLDU0OlsyLDY2XSw1NzpbMiw2Nl19LHsyNzoxNDksMjg6WzEsNzNdfSx7ODoyMDIsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNTpbMSwxNDddLDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjA6MTQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg3OjE0NSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5MTpbMSwxNDRdLDk0OjE0Niw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7MTpbMiw1MF0sNjpbMiw1MF0sMjU6WzIsNTBdLDI2OlsyLDUwXSw0OTpbMiw1MF0sNTQ6WzIsNTBdLDU3OlsyLDUwXSw3MzpbMiw1MF0sNzg6WzIsNTBdLDg2OlsyLDUwXSw5MTpbMiw1MF0sOTM6WzIsNTBdLDEwMjpbMiw1MF0sMTA0OlsyLDUwXSwxMDU6WzIsNTBdLDEwNjpbMiw1MF0sMTEwOlsyLDUwXSwxMTg6WzIsNTBdLDEyNjpbMiw1MF0sMTI4OlsyLDUwXSwxMjk6WzIsNTBdLDEzMjpbMiw1MF0sMTMzOlsyLDUwXSwxMzQ6WzIsNTBdLDEzNTpbMiw1MF0sMTM2OlsyLDUwXSwxMzc6WzIsNTBdfSx7MTpbMiwxODddLDY6WzIsMTg3XSwyNTpbMiwxODddLDI2OlsyLDE4N10sNDk6WzIsMTg3XSw1NDpbMiwxODddLDU3OlsyLDE4N10sNzM6WzIsMTg3XSw3ODpbMiwxODddLDg2OlsyLDE4N10sOTE6WzIsMTg3XSw5MzpbMiwxODddLDEwMjpbMiwxODddLDEwMzo4NywxMDQ6WzIsMTg3XSwxMDU6WzIsMTg3XSwxMDY6WzIsMTg3XSwxMDk6ODgsMTEwOlsyLDE4N10sMTExOjY5LDExODpbMiwxODddLDEyNjpbMiwxODddLDEyODpbMiwxODddLDEyOTpbMiwxODddLDEzMjpbMSw3OF0sMTMzOlsyLDE4N10sMTM0OlsyLDE4N10sMTM1OlsyLDE4N10sMTM2OlsyLDE4N10sMTM3OlsyLDE4N119LHsxMDM6OTAsMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwOTo5MSwxMTA6WzEsNjhdLDExMTo2OSwxMjY6WzEsODldfSx7MTpbMiwxODhdLDY6WzIsMTg4XSwyNTpbMiwxODhdLDI2OlsyLDE4OF0sNDk6WzIsMTg4XSw1NDpbMiwxODhdLDU3OlsyLDE4OF0sNzM6WzIsMTg4XSw3ODpbMiwxODhdLDg2OlsyLDE4OF0sOTE6WzIsMTg4XSw5MzpbMiwxODhdLDEwMjpbMiwxODhdLDEwMzo4NywxMDQ6WzIsMTg4XSwxMDU6WzIsMTg4XSwxMDY6WzIsMTg4XSwxMDk6ODgsMTEwOlsyLDE4OF0sMTExOjY5LDExODpbMiwxODhdLDEyNjpbMiwxODhdLDEyODpbMiwxODhdLDEyOTpbMiwxODhdLDEzMjpbMSw3OF0sMTMzOlsyLDE4OF0sMTM0OlsyLDE4OF0sMTM1OlsyLDE4OF0sMTM2OlsyLDE4OF0sMTM3OlsyLDE4OF19LHsxOlsyLDE4OV0sNjpbMiwxODldLDI1OlsyLDE4OV0sMjY6WzIsMTg5XSw0OTpbMiwxODldLDU0OlsyLDE4OV0sNTc6WzIsMTg5XSw3MzpbMiwxODldLDc4OlsyLDE4OV0sODY6WzIsMTg5XSw5MTpbMiwxODldLDkzOlsyLDE4OV0sMTAyOlsyLDE4OV0sMTAzOjg3LDEwNDpbMiwxODldLDEwNTpbMiwxODldLDEwNjpbMiwxODldLDEwOTo4OCwxMTA6WzIsMTg5XSwxMTE6NjksMTE4OlsyLDE4OV0sMTI2OlsyLDE4OV0sMTI4OlsyLDE4OV0sMTI5OlsyLDE4OV0sMTMyOlsxLDc4XSwxMzM6WzIsMTg5XSwxMzQ6WzIsMTg5XSwxMzU6WzIsMTg5XSwxMzY6WzIsMTg5XSwxMzc6WzIsMTg5XX0sezE6WzIsMTkwXSw2OlsyLDE5MF0sMjU6WzIsMTkwXSwyNjpbMiwxOTBdLDQ5OlsyLDE5MF0sNTQ6WzIsMTkwXSw1NzpbMiwxOTBdLDY2OlsyLDcyXSw2NzpbMiw3Ml0sNjg6WzIsNzJdLDY5OlsyLDcyXSw3MTpbMiw3Ml0sNzM6WzIsMTkwXSw3NDpbMiw3Ml0sNzg6WzIsMTkwXSw4NDpbMiw3Ml0sODU6WzIsNzJdLDg2OlsyLDE5MF0sOTE6WzIsMTkwXSw5MzpbMiwxOTBdLDEwMjpbMiwxOTBdLDEwNDpbMiwxOTBdLDEwNTpbMiwxOTBdLDEwNjpbMiwxOTBdLDExMDpbMiwxOTBdLDExODpbMiwxOTBdLDEyNjpbMiwxOTBdLDEyODpbMiwxOTBdLDEyOTpbMiwxOTBdLDEzMjpbMiwxOTBdLDEzMzpbMiwxOTBdLDEzNDpbMiwxOTBdLDEzNTpbMiwxOTBdLDEzNjpbMiwxOTBdLDEzNzpbMiwxOTBdfSx7NjI6OTMsNjY6WzEsOTVdLDY3OlsxLDk2XSw2ODpbMSw5N10sNjk6WzEsOThdLDcwOjk5LDcxOlsxLDEwMF0sNzQ6WzEsMTAxXSw4MTo5Miw4NDpbMSw5NF0sODU6WzIsMTA4XX0sezYyOjEwMyw2NjpbMSw5NV0sNjc6WzEsOTZdLDY4OlsxLDk3XSw2OTpbMSw5OF0sNzA6OTksNzE6WzEsMTAwXSw3NDpbMSwxMDFdLDgxOjEwMiw4NDpbMSw5NF0sODU6WzIsMTA4XX0sezY2OlsyLDc1XSw2NzpbMiw3NV0sNjg6WzIsNzVdLDY5OlsyLDc1XSw3MTpbMiw3NV0sNzQ6WzIsNzVdLDg0OlsyLDc1XSw4NTpbMiw3NV19LHsxOlsyLDE5MV0sNjpbMiwxOTFdLDI1OlsyLDE5MV0sMjY6WzIsMTkxXSw0OTpbMiwxOTFdLDU0OlsyLDE5MV0sNTc6WzIsMTkxXSw2NjpbMiw3Ml0sNjc6WzIsNzJdLDY4OlsyLDcyXSw2OTpbMiw3Ml0sNzE6WzIsNzJdLDczOlsyLDE5MV0sNzQ6WzIsNzJdLDc4OlsyLDE5MV0sODQ6WzIsNzJdLDg1OlsyLDcyXSw4NjpbMiwxOTFdLDkxOlsyLDE5MV0sOTM6WzIsMTkxXSwxMDI6WzIsMTkxXSwxMDQ6WzIsMTkxXSwxMDU6WzIsMTkxXSwxMDY6WzIsMTkxXSwxMTA6WzIsMTkxXSwxMTg6WzIsMTkxXSwxMjY6WzIsMTkxXSwxMjg6WzIsMTkxXSwxMjk6WzIsMTkxXSwxMzI6WzIsMTkxXSwxMzM6WzIsMTkxXSwxMzQ6WzIsMTkxXSwxMzU6WzIsMTkxXSwxMzY6WzIsMTkxXSwxMzc6WzIsMTkxXX0sezE6WzIsMTkyXSw2OlsyLDE5Ml0sMjU6WzIsMTkyXSwyNjpbMiwxOTJdLDQ5OlsyLDE5Ml0sNTQ6WzIsMTkyXSw1NzpbMiwxOTJdLDczOlsyLDE5Ml0sNzg6WzIsMTkyXSw4NjpbMiwxOTJdLDkxOlsyLDE5Ml0sOTM6WzIsMTkyXSwxMDI6WzIsMTkyXSwxMDQ6WzIsMTkyXSwxMDU6WzIsMTkyXSwxMDY6WzIsMTkyXSwxMTA6WzIsMTkyXSwxMTg6WzIsMTkyXSwxMjY6WzIsMTkyXSwxMjg6WzIsMTkyXSwxMjk6WzIsMTkyXSwxMzI6WzIsMTkyXSwxMzM6WzIsMTkyXSwxMzQ6WzIsMTkyXSwxMzU6WzIsMTkyXSwxMzY6WzIsMTkyXSwxMzc6WzIsMTkyXX0sezE6WzIsMTkzXSw2OlsyLDE5M10sMjU6WzIsMTkzXSwyNjpbMiwxOTNdLDQ5OlsyLDE5M10sNTQ6WzIsMTkzXSw1NzpbMiwxOTNdLDczOlsyLDE5M10sNzg6WzIsMTkzXSw4NjpbMiwxOTNdLDkxOlsyLDE5M10sOTM6WzIsMTkzXSwxMDI6WzIsMTkzXSwxMDQ6WzIsMTkzXSwxMDU6WzIsMTkzXSwxMDY6WzIsMTkzXSwxMTA6WzIsMTkzXSwxMTg6WzIsMTkzXSwxMjY6WzIsMTkzXSwxMjg6WzIsMTkzXSwxMjk6WzIsMTkzXSwxMzI6WzIsMTkzXSwxMzM6WzIsMTkzXSwxMzQ6WzIsMTkzXSwxMzU6WzIsMTkzXSwxMzY6WzIsMTkzXSwxMzc6WzIsMTkzXX0sezY6WzEsMjEwXSw4OjIwOCw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI1OlsxLDIwOV0sMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7ODoyMTEsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs1OjIxMiwyNTpbMSw1XSwxMjU6WzEsMjEzXX0sezE6WzIsMTMzXSw2OlsyLDEzM10sMjU6WzIsMTMzXSwyNjpbMiwxMzNdLDQ5OlsyLDEzM10sNTQ6WzIsMTMzXSw1NzpbMiwxMzNdLDczOlsyLDEzM10sNzg6WzIsMTMzXSw4NjpbMiwxMzNdLDkxOlsyLDEzM10sOTM6WzIsMTMzXSw5NzoyMTQsOTg6WzEsMjE1XSw5OTpbMSwyMTZdLDEwMjpbMiwxMzNdLDEwNDpbMiwxMzNdLDEwNTpbMiwxMzNdLDEwNjpbMiwxMzNdLDExMDpbMiwxMzNdLDExODpbMiwxMzNdLDEyNjpbMiwxMzNdLDEyODpbMiwxMzNdLDEyOTpbMiwxMzNdLDEzMjpbMiwxMzNdLDEzMzpbMiwxMzNdLDEzNDpbMiwxMzNdLDEzNTpbMiwxMzNdLDEzNjpbMiwxMzNdLDEzNzpbMiwxMzNdfSx7MTpbMiwxNDddLDY6WzIsMTQ3XSwyNTpbMiwxNDddLDI2OlsyLDE0N10sNDk6WzIsMTQ3XSw1NDpbMiwxNDddLDU3OlsyLDE0N10sNzM6WzIsMTQ3XSw3ODpbMiwxNDddLDg2OlsyLDE0N10sOTE6WzIsMTQ3XSw5MzpbMiwxNDddLDEwMjpbMiwxNDddLDEwNDpbMiwxNDddLDEwNTpbMiwxNDddLDEwNjpbMiwxNDddLDExMDpbMiwxNDddLDExODpbMiwxNDddLDEyNjpbMiwxNDddLDEyODpbMiwxNDddLDEyOTpbMiwxNDddLDEzMjpbMiwxNDddLDEzMzpbMiwxNDddLDEzNDpbMiwxNDddLDEzNTpbMiwxNDddLDEzNjpbMiwxNDddLDEzNzpbMiwxNDddfSx7MTpbMiwxNTVdLDY6WzIsMTU1XSwyNTpbMiwxNTVdLDI2OlsyLDE1NV0sNDk6WzIsMTU1XSw1NDpbMiwxNTVdLDU3OlsyLDE1NV0sNzM6WzIsMTU1XSw3ODpbMiwxNTVdLDg2OlsyLDE1NV0sOTE6WzIsMTU1XSw5MzpbMiwxNTVdLDEwMjpbMiwxNTVdLDEwNDpbMiwxNTVdLDEwNTpbMiwxNTVdLDEwNjpbMiwxNTVdLDExMDpbMiwxNTVdLDExODpbMiwxNTVdLDEyNjpbMiwxNTVdLDEyODpbMiwxNTVdLDEyOTpbMiwxNTVdLDEzMjpbMiwxNTVdLDEzMzpbMiwxNTVdLDEzNDpbMiwxNTVdLDEzNTpbMiwxNTVdLDEzNjpbMiwxNTVdLDEzNzpbMiwxNTVdfSx7MjU6WzEsMjE3XSwxMDM6ODcsMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwOTo4OCwxMTA6WzEsNjhdLDExMTo2OSwxMjY6WzEsODZdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezEyMDoyMTgsMTIyOjIxOSwxMjM6WzEsMjIwXX0sezE6WzIsOTddLDY6WzIsOTddLDI1OlsyLDk3XSwyNjpbMiw5N10sNDk6WzIsOTddLDU0OlsyLDk3XSw1NzpbMiw5N10sNzM6WzIsOTddLDc4OlsyLDk3XSw4NjpbMiw5N10sOTE6WzIsOTddLDkzOlsyLDk3XSwxMDI6WzIsOTddLDEwNDpbMiw5N10sMTA1OlsyLDk3XSwxMDY6WzIsOTddLDExMDpbMiw5N10sMTE4OlsyLDk3XSwxMjY6WzIsOTddLDEyODpbMiw5N10sMTI5OlsyLDk3XSwxMzI6WzIsOTddLDEzMzpbMiw5N10sMTM0OlsyLDk3XSwxMzU6WzIsOTddLDEzNjpbMiw5N10sMTM3OlsyLDk3XX0sezg6MjIxLDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7MTpbMiwxMDBdLDU6MjIyLDY6WzIsMTAwXSwyNTpbMSw1XSwyNjpbMiwxMDBdLDQ5OlsyLDEwMF0sNTQ6WzIsMTAwXSw1NzpbMiwxMDBdLDY2OlsyLDcyXSw2NzpbMiw3Ml0sNjg6WzIsNzJdLDY5OlsyLDcyXSw3MTpbMiw3Ml0sNzM6WzIsMTAwXSw3NDpbMiw3Ml0sNzg6WzIsMTAwXSw4MDpbMSwyMjNdLDg0OlsyLDcyXSw4NTpbMiw3Ml0sODY6WzIsMTAwXSw5MTpbMiwxMDBdLDkzOlsyLDEwMF0sMTAyOlsyLDEwMF0sMTA0OlsyLDEwMF0sMTA1OlsyLDEwMF0sMTA2OlsyLDEwMF0sMTEwOlsyLDEwMF0sMTE4OlsyLDEwMF0sMTI2OlsyLDEwMF0sMTI4OlsyLDEwMF0sMTI5OlsyLDEwMF0sMTMyOlsyLDEwMF0sMTMzOlsyLDEwMF0sMTM0OlsyLDEwMF0sMTM1OlsyLDEwMF0sMTM2OlsyLDEwMF0sMTM3OlsyLDEwMF19LHsxOlsyLDE0MF0sNjpbMiwxNDBdLDI1OlsyLDE0MF0sMjY6WzIsMTQwXSw0OTpbMiwxNDBdLDU0OlsyLDE0MF0sNTc6WzIsMTQwXSw3MzpbMiwxNDBdLDc4OlsyLDE0MF0sODY6WzIsMTQwXSw5MTpbMiwxNDBdLDkzOlsyLDE0MF0sMTAyOlsyLDE0MF0sMTAzOjg3LDEwNDpbMiwxNDBdLDEwNTpbMiwxNDBdLDEwNjpbMiwxNDBdLDEwOTo4OCwxMTA6WzIsMTQwXSwxMTE6NjksMTE4OlsyLDE0MF0sMTI2OlsyLDE0MF0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7MTpbMiw0Nl0sNjpbMiw0Nl0sMjY6WzIsNDZdLDEwMjpbMiw0Nl0sMTAzOjg3LDEwNDpbMiw0Nl0sMTA2OlsyLDQ2XSwxMDk6ODgsMTEwOlsyLDQ2XSwxMTE6NjksMTI2OlsyLDQ2XSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsxLDgzXSwxMzY6WzEsODRdLDEzNzpbMSw4NV19LHs2OlsxLDc0XSwxMDI6WzEsMjI0XX0sezQ6MjI1LDc6NCw4OjYsOTo3LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7NjpbMiwxMjldLDI1OlsyLDEyOV0sNTQ6WzIsMTI5XSw1NzpbMSwyMjddLDkxOlsyLDEyOV0sOTI6MjI2LDkzOlsxLDE5M10sMTAzOjg3LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDk6ODgsMTEwOlsxLDY4XSwxMTE6NjksMTI2OlsxLDg2XSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsxLDgzXSwxMzY6WzEsODRdLDEzNzpbMSw4NV19LHsxOlsyLDExNV0sNjpbMiwxMTVdLDI1OlsyLDExNV0sMjY6WzIsMTE1XSw0MDpbMiwxMTVdLDQ5OlsyLDExNV0sNTQ6WzIsMTE1XSw1NzpbMiwxMTVdLDY2OlsyLDExNV0sNjc6WzIsMTE1XSw2ODpbMiwxMTVdLDY5OlsyLDExNV0sNzE6WzIsMTE1XSw3MzpbMiwxMTVdLDc0OlsyLDExNV0sNzg6WzIsMTE1XSw4NDpbMiwxMTVdLDg1OlsyLDExNV0sODY6WzIsMTE1XSw5MTpbMiwxMTVdLDkzOlsyLDExNV0sMTAyOlsyLDExNV0sMTA0OlsyLDExNV0sMTA1OlsyLDExNV0sMTA2OlsyLDExNV0sMTEwOlsyLDExNV0sMTE2OlsyLDExNV0sMTE3OlsyLDExNV0sMTE4OlsyLDExNV0sMTI2OlsyLDExNV0sMTI4OlsyLDExNV0sMTI5OlsyLDExNV0sMTMyOlsyLDExNV0sMTMzOlsyLDExNV0sMTM0OlsyLDExNV0sMTM1OlsyLDExNV0sMTM2OlsyLDExNV0sMTM3OlsyLDExNV19LHs2OlsyLDUzXSwyNTpbMiw1M10sNTM6MjI4LDU0OlsxLDIyOV0sOTE6WzIsNTNdfSx7NjpbMiwxMjRdLDI1OlsyLDEyNF0sMjY6WzIsMTI0XSw1NDpbMiwxMjRdLDg2OlsyLDEyNF0sOTE6WzIsMTI0XX0sezg6MjAyLDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjU6WzEsMTQ3XSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYwOjE0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4NzoyMzAsODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTQ6MTQ2LDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs2OlsyLDEzMF0sMjU6WzIsMTMwXSwyNjpbMiwxMzBdLDU0OlsyLDEzMF0sODY6WzIsMTMwXSw5MTpbMiwxMzBdfSx7MTpbMiwxMTRdLDY6WzIsMTE0XSwyNTpbMiwxMTRdLDI2OlsyLDExNF0sNDA6WzIsMTE0XSw0MzpbMiwxMTRdLDQ5OlsyLDExNF0sNTQ6WzIsMTE0XSw1NzpbMiwxMTRdLDY2OlsyLDExNF0sNjc6WzIsMTE0XSw2ODpbMiwxMTRdLDY5OlsyLDExNF0sNzE6WzIsMTE0XSw3MzpbMiwxMTRdLDc0OlsyLDExNF0sNzg6WzIsMTE0XSw4MDpbMiwxMTRdLDg0OlsyLDExNF0sODU6WzIsMTE0XSw4NjpbMiwxMTRdLDkxOlsyLDExNF0sOTM6WzIsMTE0XSwxMDI6WzIsMTE0XSwxMDQ6WzIsMTE0XSwxMDU6WzIsMTE0XSwxMDY6WzIsMTE0XSwxMTA6WzIsMTE0XSwxMTY6WzIsMTE0XSwxMTc6WzIsMTE0XSwxMTg6WzIsMTE0XSwxMjY6WzIsMTE0XSwxMjg6WzIsMTE0XSwxMjk6WzIsMTE0XSwxMzA6WzIsMTE0XSwxMzE6WzIsMTE0XSwxMzI6WzIsMTE0XSwxMzM6WzIsMTE0XSwxMzQ6WzIsMTE0XSwxMzU6WzIsMTE0XSwxMzY6WzIsMTE0XSwxMzc6WzIsMTE0XSwxMzg6WzIsMTE0XX0sezU6MjMxLDI1OlsxLDVdLDEwMzo4NywxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA5Ojg4LDExMDpbMSw2OF0sMTExOjY5LDEyNjpbMSw4Nl0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7MTpbMiwxNDNdLDY6WzIsMTQzXSwyNTpbMiwxNDNdLDI2OlsyLDE0M10sNDk6WzIsMTQzXSw1NDpbMiwxNDNdLDU3OlsyLDE0M10sNzM6WzIsMTQzXSw3ODpbMiwxNDNdLDg2OlsyLDE0M10sOTE6WzIsMTQzXSw5MzpbMiwxNDNdLDEwMjpbMiwxNDNdLDEwMzo4NywxMDQ6WzEsNjVdLDEwNTpbMSwyMzJdLDEwNjpbMSw2Nl0sMTA5Ojg4LDExMDpbMSw2OF0sMTExOjY5LDExODpbMiwxNDNdLDEyNjpbMiwxNDNdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezE6WzIsMTQ1XSw2OlsyLDE0NV0sMjU6WzIsMTQ1XSwyNjpbMiwxNDVdLDQ5OlsyLDE0NV0sNTQ6WzIsMTQ1XSw1NzpbMiwxNDVdLDczOlsyLDE0NV0sNzg6WzIsMTQ1XSw4NjpbMiwxNDVdLDkxOlsyLDE0NV0sOTM6WzIsMTQ1XSwxMDI6WzIsMTQ1XSwxMDM6ODcsMTA0OlsxLDY1XSwxMDU6WzEsMjMzXSwxMDY6WzEsNjZdLDEwOTo4OCwxMTA6WzEsNjhdLDExMTo2OSwxMTg6WzIsMTQ1XSwxMjY6WzIsMTQ1XSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsxLDgzXSwxMzY6WzEsODRdLDEzNzpbMSw4NV19LHsxOlsyLDE1MV0sNjpbMiwxNTFdLDI1OlsyLDE1MV0sMjY6WzIsMTUxXSw0OTpbMiwxNTFdLDU0OlsyLDE1MV0sNTc6WzIsMTUxXSw3MzpbMiwxNTFdLDc4OlsyLDE1MV0sODY6WzIsMTUxXSw5MTpbMiwxNTFdLDkzOlsyLDE1MV0sMTAyOlsyLDE1MV0sMTA0OlsyLDE1MV0sMTA1OlsyLDE1MV0sMTA2OlsyLDE1MV0sMTEwOlsyLDE1MV0sMTE4OlsyLDE1MV0sMTI2OlsyLDE1MV0sMTI4OlsyLDE1MV0sMTI5OlsyLDE1MV0sMTMyOlsyLDE1MV0sMTMzOlsyLDE1MV0sMTM0OlsyLDE1MV0sMTM1OlsyLDE1MV0sMTM2OlsyLDE1MV0sMTM3OlsyLDE1MV19LHsxOlsyLDE1Ml0sNjpbMiwxNTJdLDI1OlsyLDE1Ml0sMjY6WzIsMTUyXSw0OTpbMiwxNTJdLDU0OlsyLDE1Ml0sNTc6WzIsMTUyXSw3MzpbMiwxNTJdLDc4OlsyLDE1Ml0sODY6WzIsMTUyXSw5MTpbMiwxNTJdLDkzOlsyLDE1Ml0sMTAyOlsyLDE1Ml0sMTAzOjg3LDEwNDpbMSw2NV0sMTA1OlsyLDE1Ml0sMTA2OlsxLDY2XSwxMDk6ODgsMTEwOlsxLDY4XSwxMTE6NjksMTE4OlsyLDE1Ml0sMTI2OlsyLDE1Ml0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7MTpbMiwxNTZdLDY6WzIsMTU2XSwyNTpbMiwxNTZdLDI2OlsyLDE1Nl0sNDk6WzIsMTU2XSw1NDpbMiwxNTZdLDU3OlsyLDE1Nl0sNzM6WzIsMTU2XSw3ODpbMiwxNTZdLDg2OlsyLDE1Nl0sOTE6WzIsMTU2XSw5MzpbMiwxNTZdLDEwMjpbMiwxNTZdLDEwNDpbMiwxNTZdLDEwNTpbMiwxNTZdLDEwNjpbMiwxNTZdLDExMDpbMiwxNTZdLDExODpbMiwxNTZdLDEyNjpbMiwxNTZdLDEyODpbMiwxNTZdLDEyOTpbMiwxNTZdLDEzMjpbMiwxNTZdLDEzMzpbMiwxNTZdLDEzNDpbMiwxNTZdLDEzNTpbMiwxNTZdLDEzNjpbMiwxNTZdLDEzNzpbMiwxNTZdfSx7MTE2OlsyLDE1OF0sMTE3OlsyLDE1OF19LHsyNzoxNTksMjg6WzEsNzNdLDQ0OjE2MCw1ODoxNjEsNTk6MTYyLDc2OlsxLDcwXSw4OTpbMSwxMTRdLDkwOlsxLDExNV0sMTEzOjIzNCwxMTU6MTU4fSx7NTQ6WzEsMjM1XSwxMTY6WzIsMTY0XSwxMTc6WzIsMTY0XX0sezU0OlsyLDE2MF0sMTE2OlsyLDE2MF0sMTE3OlsyLDE2MF19LHs1NDpbMiwxNjFdLDExNjpbMiwxNjFdLDExNzpbMiwxNjFdfSx7NTQ6WzIsMTYyXSwxMTY6WzIsMTYyXSwxMTc6WzIsMTYyXX0sezU0OlsyLDE2M10sMTE2OlsyLDE2M10sMTE3OlsyLDE2M119LHsxOlsyLDE1N10sNjpbMiwxNTddLDI1OlsyLDE1N10sMjY6WzIsMTU3XSw0OTpbMiwxNTddLDU0OlsyLDE1N10sNTc6WzIsMTU3XSw3MzpbMiwxNTddLDc4OlsyLDE1N10sODY6WzIsMTU3XSw5MTpbMiwxNTddLDkzOlsyLDE1N10sMTAyOlsyLDE1N10sMTA0OlsyLDE1N10sMTA1OlsyLDE1N10sMTA2OlsyLDE1N10sMTEwOlsyLDE1N10sMTE4OlsyLDE1N10sMTI2OlsyLDE1N10sMTI4OlsyLDE1N10sMTI5OlsyLDE1N10sMTMyOlsyLDE1N10sMTMzOlsyLDE1N10sMTM0OlsyLDE1N10sMTM1OlsyLDE1N10sMTM2OlsyLDE1N10sMTM3OlsyLDE1N119LHs4OjIzNiw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezg6MjM3LDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7NjpbMiw1M10sMjU6WzIsNTNdLDUzOjIzOCw1NDpbMSwyMzldLDc4OlsyLDUzXX0sezY6WzIsOTJdLDI1OlsyLDkyXSwyNjpbMiw5Ml0sNTQ6WzIsOTJdLDc4OlsyLDkyXX0sezY6WzIsMzldLDI1OlsyLDM5XSwyNjpbMiwzOV0sNDM6WzEsMjQwXSw1NDpbMiwzOV0sNzg6WzIsMzldfSx7NjpbMiw0Ml0sMjU6WzIsNDJdLDI2OlsyLDQyXSw1NDpbMiw0Ml0sNzg6WzIsNDJdfSx7NjpbMiw0M10sMjU6WzIsNDNdLDI2OlsyLDQzXSw0MzpbMiw0M10sNTQ6WzIsNDNdLDc4OlsyLDQzXX0sezY6WzIsNDRdLDI1OlsyLDQ0XSwyNjpbMiw0NF0sNDM6WzIsNDRdLDU0OlsyLDQ0XSw3ODpbMiw0NF19LHs2OlsyLDQ1XSwyNTpbMiw0NV0sMjY6WzIsNDVdLDQzOlsyLDQ1XSw1NDpbMiw0NV0sNzg6WzIsNDVdfSx7MTpbMiw1XSw2OlsyLDVdLDI2OlsyLDVdLDEwMjpbMiw1XX0sezE6WzIsMjVdLDY6WzIsMjVdLDI1OlsyLDI1XSwyNjpbMiwyNV0sNDk6WzIsMjVdLDU0OlsyLDI1XSw1NzpbMiwyNV0sNzM6WzIsMjVdLDc4OlsyLDI1XSw4NjpbMiwyNV0sOTE6WzIsMjVdLDkzOlsyLDI1XSw5ODpbMiwyNV0sOTk6WzIsMjVdLDEwMjpbMiwyNV0sMTA0OlsyLDI1XSwxMDU6WzIsMjVdLDEwNjpbMiwyNV0sMTEwOlsyLDI1XSwxMTg6WzIsMjVdLDEyMTpbMiwyNV0sMTIzOlsyLDI1XSwxMjY6WzIsMjVdLDEyODpbMiwyNV0sMTI5OlsyLDI1XSwxMzI6WzIsMjVdLDEzMzpbMiwyNV0sMTM0OlsyLDI1XSwxMzU6WzIsMjVdLDEzNjpbMiwyNV0sMTM3OlsyLDI1XX0sezE6WzIsMTk1XSw2OlsyLDE5NV0sMjU6WzIsMTk1XSwyNjpbMiwxOTVdLDQ5OlsyLDE5NV0sNTQ6WzIsMTk1XSw1NzpbMiwxOTVdLDczOlsyLDE5NV0sNzg6WzIsMTk1XSw4NjpbMiwxOTVdLDkxOlsyLDE5NV0sOTM6WzIsMTk1XSwxMDI6WzIsMTk1XSwxMDM6ODcsMTA0OlsyLDE5NV0sMTA1OlsyLDE5NV0sMTA2OlsyLDE5NV0sMTA5Ojg4LDExMDpbMiwxOTVdLDExMTo2OSwxMTg6WzIsMTk1XSwxMjY6WzIsMTk1XSwxMjg6WzIsMTk1XSwxMjk6WzIsMTk1XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsyLDE5NV0sMTM1OlsyLDE5NV0sMTM2OlsyLDE5NV0sMTM3OlsyLDE5NV19LHsxOlsyLDE5Nl0sNjpbMiwxOTZdLDI1OlsyLDE5Nl0sMjY6WzIsMTk2XSw0OTpbMiwxOTZdLDU0OlsyLDE5Nl0sNTc6WzIsMTk2XSw3MzpbMiwxOTZdLDc4OlsyLDE5Nl0sODY6WzIsMTk2XSw5MTpbMiwxOTZdLDkzOlsyLDE5Nl0sMTAyOlsyLDE5Nl0sMTAzOjg3LDEwNDpbMiwxOTZdLDEwNTpbMiwxOTZdLDEwNjpbMiwxOTZdLDEwOTo4OCwxMTA6WzIsMTk2XSwxMTE6NjksMTE4OlsyLDE5Nl0sMTI2OlsyLDE5Nl0sMTI4OlsyLDE5Nl0sMTI5OlsyLDE5Nl0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMiwxOTZdLDEzNTpbMiwxOTZdLDEzNjpbMiwxOTZdLDEzNzpbMiwxOTZdfSx7MTpbMiwxOTddLDY6WzIsMTk3XSwyNTpbMiwxOTddLDI2OlsyLDE5N10sNDk6WzIsMTk3XSw1NDpbMiwxOTddLDU3OlsyLDE5N10sNzM6WzIsMTk3XSw3ODpbMiwxOTddLDg2OlsyLDE5N10sOTE6WzIsMTk3XSw5MzpbMiwxOTddLDEwMjpbMiwxOTddLDEwMzo4NywxMDQ6WzIsMTk3XSwxMDU6WzIsMTk3XSwxMDY6WzIsMTk3XSwxMDk6ODgsMTEwOlsyLDE5N10sMTExOjY5LDExODpbMiwxOTddLDEyNjpbMiwxOTddLDEyODpbMiwxOTddLDEyOTpbMiwxOTddLDEzMjpbMSw3OF0sMTMzOlsyLDE5N10sMTM0OlsyLDE5N10sMTM1OlsyLDE5N10sMTM2OlsyLDE5N10sMTM3OlsyLDE5N119LHsxOlsyLDE5OF0sNjpbMiwxOThdLDI1OlsyLDE5OF0sMjY6WzIsMTk4XSw0OTpbMiwxOThdLDU0OlsyLDE5OF0sNTc6WzIsMTk4XSw3MzpbMiwxOThdLDc4OlsyLDE5OF0sODY6WzIsMTk4XSw5MTpbMiwxOThdLDkzOlsyLDE5OF0sMTAyOlsyLDE5OF0sMTAzOjg3LDEwNDpbMiwxOThdLDEwNTpbMiwxOThdLDEwNjpbMiwxOThdLDEwOTo4OCwxMTA6WzIsMTk4XSwxMTE6NjksMTE4OlsyLDE5OF0sMTI2OlsyLDE5OF0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzIsMTk4XSwxMzU6WzIsMTk4XSwxMzY6WzIsMTk4XSwxMzc6WzIsMTk4XX0sezE6WzIsMTk5XSw2OlsyLDE5OV0sMjU6WzIsMTk5XSwyNjpbMiwxOTldLDQ5OlsyLDE5OV0sNTQ6WzIsMTk5XSw1NzpbMiwxOTldLDczOlsyLDE5OV0sNzg6WzIsMTk5XSw4NjpbMiwxOTldLDkxOlsyLDE5OV0sOTM6WzIsMTk5XSwxMDI6WzIsMTk5XSwxMDM6ODcsMTA0OlsyLDE5OV0sMTA1OlsyLDE5OV0sMTA2OlsyLDE5OV0sMTA5Ojg4LDExMDpbMiwxOTldLDExMTo2OSwxMTg6WzIsMTk5XSwxMjY6WzIsMTk5XSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsyLDE5OV0sMTM2OlsyLDE5OV0sMTM3OlsxLDg1XX0sezE6WzIsMjAwXSw2OlsyLDIwMF0sMjU6WzIsMjAwXSwyNjpbMiwyMDBdLDQ5OlsyLDIwMF0sNTQ6WzIsMjAwXSw1NzpbMiwyMDBdLDczOlsyLDIwMF0sNzg6WzIsMjAwXSw4NjpbMiwyMDBdLDkxOlsyLDIwMF0sOTM6WzIsMjAwXSwxMDI6WzIsMjAwXSwxMDM6ODcsMTA0OlsyLDIwMF0sMTA1OlsyLDIwMF0sMTA2OlsyLDIwMF0sMTA5Ojg4LDExMDpbMiwyMDBdLDExMTo2OSwxMTg6WzIsMjAwXSwxMjY6WzIsMjAwXSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsxLDgzXSwxMzY6WzIsMjAwXSwxMzc6WzEsODVdfSx7MTpbMiwyMDFdLDY6WzIsMjAxXSwyNTpbMiwyMDFdLDI2OlsyLDIwMV0sNDk6WzIsMjAxXSw1NDpbMiwyMDFdLDU3OlsyLDIwMV0sNzM6WzIsMjAxXSw3ODpbMiwyMDFdLDg2OlsyLDIwMV0sOTE6WzIsMjAxXSw5MzpbMiwyMDFdLDEwMjpbMiwyMDFdLDEwMzo4NywxMDQ6WzIsMjAxXSwxMDU6WzIsMjAxXSwxMDY6WzIsMjAxXSwxMDk6ODgsMTEwOlsyLDIwMV0sMTExOjY5LDExODpbMiwyMDFdLDEyNjpbMiwyMDFdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzIsMjAxXSwxMzY6WzIsMjAxXSwxMzc6WzIsMjAxXX0sezE6WzIsMTg2XSw2OlsyLDE4Nl0sMjU6WzIsMTg2XSwyNjpbMiwxODZdLDQ5OlsyLDE4Nl0sNTQ6WzIsMTg2XSw1NzpbMiwxODZdLDczOlsyLDE4Nl0sNzg6WzIsMTg2XSw4NjpbMiwxODZdLDkxOlsyLDE4Nl0sOTM6WzIsMTg2XSwxMDI6WzIsMTg2XSwxMDM6ODcsMTA0OlsxLDY1XSwxMDU6WzIsMTg2XSwxMDY6WzEsNjZdLDEwOTo4OCwxMTA6WzEsNjhdLDExMTo2OSwxMTg6WzIsMTg2XSwxMjY6WzEsODZdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezE6WzIsMTg1XSw2OlsyLDE4NV0sMjU6WzIsMTg1XSwyNjpbMiwxODVdLDQ5OlsyLDE4NV0sNTQ6WzIsMTg1XSw1NzpbMiwxODVdLDczOlsyLDE4NV0sNzg6WzIsMTg1XSw4NjpbMiwxODVdLDkxOlsyLDE4NV0sOTM6WzIsMTg1XSwxMDI6WzIsMTg1XSwxMDM6ODcsMTA0OlsxLDY1XSwxMDU6WzIsMTg1XSwxMDY6WzEsNjZdLDEwOTo4OCwxMTA6WzEsNjhdLDExMTo2OSwxMTg6WzIsMTg1XSwxMjY6WzEsODZdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezE6WzIsMTA0XSw2OlsyLDEwNF0sMjU6WzIsMTA0XSwyNjpbMiwxMDRdLDQ5OlsyLDEwNF0sNTQ6WzIsMTA0XSw1NzpbMiwxMDRdLDY2OlsyLDEwNF0sNjc6WzIsMTA0XSw2ODpbMiwxMDRdLDY5OlsyLDEwNF0sNzE6WzIsMTA0XSw3MzpbMiwxMDRdLDc0OlsyLDEwNF0sNzg6WzIsMTA0XSw4NDpbMiwxMDRdLDg1OlsyLDEwNF0sODY6WzIsMTA0XSw5MTpbMiwxMDRdLDkzOlsyLDEwNF0sMTAyOlsyLDEwNF0sMTA0OlsyLDEwNF0sMTA1OlsyLDEwNF0sMTA2OlsyLDEwNF0sMTEwOlsyLDEwNF0sMTE4OlsyLDEwNF0sMTI2OlsyLDEwNF0sMTI4OlsyLDEwNF0sMTI5OlsyLDEwNF0sMTMyOlsyLDEwNF0sMTMzOlsyLDEwNF0sMTM0OlsyLDEwNF0sMTM1OlsyLDEwNF0sMTM2OlsyLDEwNF0sMTM3OlsyLDEwNF19LHsxOlsyLDgwXSw2OlsyLDgwXSwyNTpbMiw4MF0sMjY6WzIsODBdLDQwOlsyLDgwXSw0OTpbMiw4MF0sNTQ6WzIsODBdLDU3OlsyLDgwXSw2NjpbMiw4MF0sNjc6WzIsODBdLDY4OlsyLDgwXSw2OTpbMiw4MF0sNzE6WzIsODBdLDczOlsyLDgwXSw3NDpbMiw4MF0sNzg6WzIsODBdLDgwOlsyLDgwXSw4NDpbMiw4MF0sODU6WzIsODBdLDg2OlsyLDgwXSw5MTpbMiw4MF0sOTM6WzIsODBdLDEwMjpbMiw4MF0sMTA0OlsyLDgwXSwxMDU6WzIsODBdLDEwNjpbMiw4MF0sMTEwOlsyLDgwXSwxMTg6WzIsODBdLDEyNjpbMiw4MF0sMTI4OlsyLDgwXSwxMjk6WzIsODBdLDEzMDpbMiw4MF0sMTMxOlsyLDgwXSwxMzI6WzIsODBdLDEzMzpbMiw4MF0sMTM0OlsyLDgwXSwxMzU6WzIsODBdLDEzNjpbMiw4MF0sMTM3OlsyLDgwXSwxMzg6WzIsODBdfSx7MTpbMiw4MV0sNjpbMiw4MV0sMjU6WzIsODFdLDI2OlsyLDgxXSw0MDpbMiw4MV0sNDk6WzIsODFdLDU0OlsyLDgxXSw1NzpbMiw4MV0sNjY6WzIsODFdLDY3OlsyLDgxXSw2ODpbMiw4MV0sNjk6WzIsODFdLDcxOlsyLDgxXSw3MzpbMiw4MV0sNzQ6WzIsODFdLDc4OlsyLDgxXSw4MDpbMiw4MV0sODQ6WzIsODFdLDg1OlsyLDgxXSw4NjpbMiw4MV0sOTE6WzIsODFdLDkzOlsyLDgxXSwxMDI6WzIsODFdLDEwNDpbMiw4MV0sMTA1OlsyLDgxXSwxMDY6WzIsODFdLDExMDpbMiw4MV0sMTE4OlsyLDgxXSwxMjY6WzIsODFdLDEyODpbMiw4MV0sMTI5OlsyLDgxXSwxMzA6WzIsODFdLDEzMTpbMiw4MV0sMTMyOlsyLDgxXSwxMzM6WzIsODFdLDEzNDpbMiw4MV0sMTM1OlsyLDgxXSwxMzY6WzIsODFdLDEzNzpbMiw4MV0sMTM4OlsyLDgxXX0sezE6WzIsODJdLDY6WzIsODJdLDI1OlsyLDgyXSwyNjpbMiw4Ml0sNDA6WzIsODJdLDQ5OlsyLDgyXSw1NDpbMiw4Ml0sNTc6WzIsODJdLDY2OlsyLDgyXSw2NzpbMiw4Ml0sNjg6WzIsODJdLDY5OlsyLDgyXSw3MTpbMiw4Ml0sNzM6WzIsODJdLDc0OlsyLDgyXSw3ODpbMiw4Ml0sODA6WzIsODJdLDg0OlsyLDgyXSw4NTpbMiw4Ml0sODY6WzIsODJdLDkxOlsyLDgyXSw5MzpbMiw4Ml0sMTAyOlsyLDgyXSwxMDQ6WzIsODJdLDEwNTpbMiw4Ml0sMTA2OlsyLDgyXSwxMTA6WzIsODJdLDExODpbMiw4Ml0sMTI2OlsyLDgyXSwxMjg6WzIsODJdLDEyOTpbMiw4Ml0sMTMwOlsyLDgyXSwxMzE6WzIsODJdLDEzMjpbMiw4Ml0sMTMzOlsyLDgyXSwxMzQ6WzIsODJdLDEzNTpbMiw4Ml0sMTM2OlsyLDgyXSwxMzc6WzIsODJdLDEzODpbMiw4Ml19LHsxOlsyLDgzXSw2OlsyLDgzXSwyNTpbMiw4M10sMjY6WzIsODNdLDQwOlsyLDgzXSw0OTpbMiw4M10sNTQ6WzIsODNdLDU3OlsyLDgzXSw2NjpbMiw4M10sNjc6WzIsODNdLDY4OlsyLDgzXSw2OTpbMiw4M10sNzE6WzIsODNdLDczOlsyLDgzXSw3NDpbMiw4M10sNzg6WzIsODNdLDgwOlsyLDgzXSw4NDpbMiw4M10sODU6WzIsODNdLDg2OlsyLDgzXSw5MTpbMiw4M10sOTM6WzIsODNdLDEwMjpbMiw4M10sMTA0OlsyLDgzXSwxMDU6WzIsODNdLDEwNjpbMiw4M10sMTEwOlsyLDgzXSwxMTg6WzIsODNdLDEyNjpbMiw4M10sMTI4OlsyLDgzXSwxMjk6WzIsODNdLDEzMDpbMiw4M10sMTMxOlsyLDgzXSwxMzI6WzIsODNdLDEzMzpbMiw4M10sMTM0OlsyLDgzXSwxMzU6WzIsODNdLDEzNjpbMiw4M10sMTM3OlsyLDgzXSwxMzg6WzIsODNdfSx7NzM6WzEsMjQxXX0sezU3OlsxLDE5NF0sNzM6WzIsODhdLDkyOjI0Miw5MzpbMSwxOTNdLDEwMzo4NywxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA5Ojg4LDExMDpbMSw2OF0sMTExOjY5LDEyNjpbMSw4Nl0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7NzM6WzIsODldfSx7ODoyNDMsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDczOlsyLDEyM10sNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezEyOlsyLDExN10sMjg6WzIsMTE3XSwzMDpbMiwxMTddLDMxOlsyLDExN10sMzM6WzIsMTE3XSwzNDpbMiwxMTddLDM1OlsyLDExN10sMzY6WzIsMTE3XSwzNzpbMiwxMTddLDM4OlsyLDExN10sNDU6WzIsMTE3XSw0NjpbMiwxMTddLDQ3OlsyLDExN10sNTE6WzIsMTE3XSw1MjpbMiwxMTddLDczOlsyLDExN10sNzY6WzIsMTE3XSw3OTpbMiwxMTddLDgzOlsyLDExN10sODg6WzIsMTE3XSw4OTpbMiwxMTddLDkwOlsyLDExN10sOTY6WzIsMTE3XSwxMDA6WzIsMTE3XSwxMDE6WzIsMTE3XSwxMDQ6WzIsMTE3XSwxMDY6WzIsMTE3XSwxMDg6WzIsMTE3XSwxMTA6WzIsMTE3XSwxMTk6WzIsMTE3XSwxMjU6WzIsMTE3XSwxMjc6WzIsMTE3XSwxMjg6WzIsMTE3XSwxMjk6WzIsMTE3XSwxMzA6WzIsMTE3XSwxMzE6WzIsMTE3XX0sezEyOlsyLDExOF0sMjg6WzIsMTE4XSwzMDpbMiwxMThdLDMxOlsyLDExOF0sMzM6WzIsMTE4XSwzNDpbMiwxMThdLDM1OlsyLDExOF0sMzY6WzIsMTE4XSwzNzpbMiwxMThdLDM4OlsyLDExOF0sNDU6WzIsMTE4XSw0NjpbMiwxMThdLDQ3OlsyLDExOF0sNTE6WzIsMTE4XSw1MjpbMiwxMThdLDczOlsyLDExOF0sNzY6WzIsMTE4XSw3OTpbMiwxMThdLDgzOlsyLDExOF0sODg6WzIsMTE4XSw4OTpbMiwxMThdLDkwOlsyLDExOF0sOTY6WzIsMTE4XSwxMDA6WzIsMTE4XSwxMDE6WzIsMTE4XSwxMDQ6WzIsMTE4XSwxMDY6WzIsMTE4XSwxMDg6WzIsMTE4XSwxMTA6WzIsMTE4XSwxMTk6WzIsMTE4XSwxMjU6WzIsMTE4XSwxMjc6WzIsMTE4XSwxMjg6WzIsMTE4XSwxMjk6WzIsMTE4XSwxMzA6WzIsMTE4XSwxMzE6WzIsMTE4XX0sezE6WzIsODddLDY6WzIsODddLDI1OlsyLDg3XSwyNjpbMiw4N10sNDA6WzIsODddLDQ5OlsyLDg3XSw1NDpbMiw4N10sNTc6WzIsODddLDY2OlsyLDg3XSw2NzpbMiw4N10sNjg6WzIsODddLDY5OlsyLDg3XSw3MTpbMiw4N10sNzM6WzIsODddLDc0OlsyLDg3XSw3ODpbMiw4N10sODA6WzIsODddLDg0OlsyLDg3XSw4NTpbMiw4N10sODY6WzIsODddLDkxOlsyLDg3XSw5MzpbMiw4N10sMTAyOlsyLDg3XSwxMDQ6WzIsODddLDEwNTpbMiw4N10sMTA2OlsyLDg3XSwxMTA6WzIsODddLDExODpbMiw4N10sMTI2OlsyLDg3XSwxMjg6WzIsODddLDEyOTpbMiw4N10sMTMwOlsyLDg3XSwxMzE6WzIsODddLDEzMjpbMiw4N10sMTMzOlsyLDg3XSwxMzQ6WzIsODddLDEzNTpbMiw4N10sMTM2OlsyLDg3XSwxMzc6WzIsODddLDEzODpbMiw4N119LHsxOlsyLDEwNV0sNjpbMiwxMDVdLDI1OlsyLDEwNV0sMjY6WzIsMTA1XSw0OTpbMiwxMDVdLDU0OlsyLDEwNV0sNTc6WzIsMTA1XSw2NjpbMiwxMDVdLDY3OlsyLDEwNV0sNjg6WzIsMTA1XSw2OTpbMiwxMDVdLDcxOlsyLDEwNV0sNzM6WzIsMTA1XSw3NDpbMiwxMDVdLDc4OlsyLDEwNV0sODQ6WzIsMTA1XSw4NTpbMiwxMDVdLDg2OlsyLDEwNV0sOTE6WzIsMTA1XSw5MzpbMiwxMDVdLDEwMjpbMiwxMDVdLDEwNDpbMiwxMDVdLDEwNTpbMiwxMDVdLDEwNjpbMiwxMDVdLDExMDpbMiwxMDVdLDExODpbMiwxMDVdLDEyNjpbMiwxMDVdLDEyODpbMiwxMDVdLDEyOTpbMiwxMDVdLDEzMjpbMiwxMDVdLDEzMzpbMiwxMDVdLDEzNDpbMiwxMDVdLDEzNTpbMiwxMDVdLDEzNjpbMiwxMDVdLDEzNzpbMiwxMDVdfSx7MTpbMiwzNl0sNjpbMiwzNl0sMjU6WzIsMzZdLDI2OlsyLDM2XSw0OTpbMiwzNl0sNTQ6WzIsMzZdLDU3OlsyLDM2XSw3MzpbMiwzNl0sNzg6WzIsMzZdLDg2OlsyLDM2XSw5MTpbMiwzNl0sOTM6WzIsMzZdLDEwMjpbMiwzNl0sMTAzOjg3LDEwNDpbMiwzNl0sMTA1OlsyLDM2XSwxMDY6WzIsMzZdLDEwOTo4OCwxMTA6WzIsMzZdLDExMTo2OSwxMTg6WzIsMzZdLDEyNjpbMiwzNl0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7ODoyNDQsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs4OjI0NSw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezE6WzIsMTEwXSw2OlsyLDExMF0sMjU6WzIsMTEwXSwyNjpbMiwxMTBdLDQ5OlsyLDExMF0sNTQ6WzIsMTEwXSw1NzpbMiwxMTBdLDY2OlsyLDExMF0sNjc6WzIsMTEwXSw2ODpbMiwxMTBdLDY5OlsyLDExMF0sNzE6WzIsMTEwXSw3MzpbMiwxMTBdLDc0OlsyLDExMF0sNzg6WzIsMTEwXSw4NDpbMiwxMTBdLDg1OlsyLDExMF0sODY6WzIsMTEwXSw5MTpbMiwxMTBdLDkzOlsyLDExMF0sMTAyOlsyLDExMF0sMTA0OlsyLDExMF0sMTA1OlsyLDExMF0sMTA2OlsyLDExMF0sMTEwOlsyLDExMF0sMTE4OlsyLDExMF0sMTI2OlsyLDExMF0sMTI4OlsyLDExMF0sMTI5OlsyLDExMF0sMTMyOlsyLDExMF0sMTMzOlsyLDExMF0sMTM0OlsyLDExMF0sMTM1OlsyLDExMF0sMTM2OlsyLDExMF0sMTM3OlsyLDExMF19LHs2OlsyLDUzXSwyNTpbMiw1M10sNTM6MjQ2LDU0OlsxLDIyOV0sODY6WzIsNTNdfSx7NjpbMiwxMjldLDI1OlsyLDEyOV0sMjY6WzIsMTI5XSw1NDpbMiwxMjldLDU3OlsxLDI0N10sODY6WzIsMTI5XSw5MTpbMiwxMjldLDEwMzo4NywxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA5Ojg4LDExMDpbMSw2OF0sMTExOjY5LDEyNjpbMSw4Nl0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7NTA6MjQ4LDUxOlsxLDYwXSw1MjpbMSw2MV19LHs2OlsyLDU0XSwyNTpbMiw1NF0sMjY6WzIsNTRdLDI3OjExMCwyODpbMSw3M10sNDQ6MTExLDU1OjI0OSw1NjoxMDksNTg6MTEyLDU5OjExMyw3NjpbMSw3MF0sODk6WzEsMTE0XSw5MDpbMSwxMTVdfSx7NjpbMSwyNTBdLDI1OlsxLDI1MV19LHs2OlsyLDYxXSwyNTpbMiw2MV0sMjY6WzIsNjFdLDQ5OlsyLDYxXSw1NDpbMiw2MV19LHs4OjI1Miw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezE6WzIsMjAyXSw2OlsyLDIwMl0sMjU6WzIsMjAyXSwyNjpbMiwyMDJdLDQ5OlsyLDIwMl0sNTQ6WzIsMjAyXSw1NzpbMiwyMDJdLDczOlsyLDIwMl0sNzg6WzIsMjAyXSw4NjpbMiwyMDJdLDkxOlsyLDIwMl0sOTM6WzIsMjAyXSwxMDI6WzIsMjAyXSwxMDM6ODcsMTA0OlsyLDIwMl0sMTA1OlsyLDIwMl0sMTA2OlsyLDIwMl0sMTA5Ojg4LDExMDpbMiwyMDJdLDExMTo2OSwxMTg6WzIsMjAyXSwxMjY6WzIsMjAyXSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsxLDgzXSwxMzY6WzEsODRdLDEzNzpbMSw4NV19LHs4OjI1Myw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezg6MjU0LDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7MTpbMiwyMDVdLDY6WzIsMjA1XSwyNTpbMiwyMDVdLDI2OlsyLDIwNV0sNDk6WzIsMjA1XSw1NDpbMiwyMDVdLDU3OlsyLDIwNV0sNzM6WzIsMjA1XSw3ODpbMiwyMDVdLDg2OlsyLDIwNV0sOTE6WzIsMjA1XSw5MzpbMiwyMDVdLDEwMjpbMiwyMDVdLDEwMzo4NywxMDQ6WzIsMjA1XSwxMDU6WzIsMjA1XSwxMDY6WzIsMjA1XSwxMDk6ODgsMTEwOlsyLDIwNV0sMTExOjY5LDExODpbMiwyMDVdLDEyNjpbMiwyMDVdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezE6WzIsMTg0XSw2OlsyLDE4NF0sMjU6WzIsMTg0XSwyNjpbMiwxODRdLDQ5OlsyLDE4NF0sNTQ6WzIsMTg0XSw1NzpbMiwxODRdLDczOlsyLDE4NF0sNzg6WzIsMTg0XSw4NjpbMiwxODRdLDkxOlsyLDE4NF0sOTM6WzIsMTg0XSwxMDI6WzIsMTg0XSwxMDQ6WzIsMTg0XSwxMDU6WzIsMTg0XSwxMDY6WzIsMTg0XSwxMTA6WzIsMTg0XSwxMTg6WzIsMTg0XSwxMjY6WzIsMTg0XSwxMjg6WzIsMTg0XSwxMjk6WzIsMTg0XSwxMzI6WzIsMTg0XSwxMzM6WzIsMTg0XSwxMzQ6WzIsMTg0XSwxMzU6WzIsMTg0XSwxMzY6WzIsMTg0XSwxMzc6WzIsMTg0XX0sezg6MjU1LDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7MTpbMiwxMzRdLDY6WzIsMTM0XSwyNTpbMiwxMzRdLDI2OlsyLDEzNF0sNDk6WzIsMTM0XSw1NDpbMiwxMzRdLDU3OlsyLDEzNF0sNzM6WzIsMTM0XSw3ODpbMiwxMzRdLDg2OlsyLDEzNF0sOTE6WzIsMTM0XSw5MzpbMiwxMzRdLDk4OlsxLDI1Nl0sMTAyOlsyLDEzNF0sMTA0OlsyLDEzNF0sMTA1OlsyLDEzNF0sMTA2OlsyLDEzNF0sMTEwOlsyLDEzNF0sMTE4OlsyLDEzNF0sMTI2OlsyLDEzNF0sMTI4OlsyLDEzNF0sMTI5OlsyLDEzNF0sMTMyOlsyLDEzNF0sMTMzOlsyLDEzNF0sMTM0OlsyLDEzNF0sMTM1OlsyLDEzNF0sMTM2OlsyLDEzNF0sMTM3OlsyLDEzNF19LHs1OjI1NywyNTpbMSw1XX0sezU6MjYwLDI1OlsxLDVdLDI3OjI1OCwyODpbMSw3M10sNTk6MjU5LDc2OlsxLDcwXX0sezEyMDoyNjEsMTIyOjIxOSwxMjM6WzEsMjIwXX0sezI2OlsxLDI2Ml0sMTIxOlsxLDI2M10sMTIyOjI2NCwxMjM6WzEsMjIwXX0sezI2OlsyLDE3N10sMTIxOlsyLDE3N10sMTIzOlsyLDE3N119LHs4OjI2Niw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTU6MjY1LDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHsxOlsyLDk4XSw1OjI2Nyw2OlsyLDk4XSwyNTpbMSw1XSwyNjpbMiw5OF0sNDk6WzIsOThdLDU0OlsyLDk4XSw1NzpbMiw5OF0sNzM6WzIsOThdLDc4OlsyLDk4XSw4NjpbMiw5OF0sOTE6WzIsOThdLDkzOlsyLDk4XSwxMDI6WzIsOThdLDEwMzo4NywxMDQ6WzEsNjVdLDEwNTpbMiw5OF0sMTA2OlsxLDY2XSwxMDk6ODgsMTEwOlsxLDY4XSwxMTE6NjksMTE4OlsyLDk4XSwxMjY6WzIsOThdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezE6WzIsMTAxXSw2OlsyLDEwMV0sMjU6WzIsMTAxXSwyNjpbMiwxMDFdLDQ5OlsyLDEwMV0sNTQ6WzIsMTAxXSw1NzpbMiwxMDFdLDczOlsyLDEwMV0sNzg6WzIsMTAxXSw4NjpbMiwxMDFdLDkxOlsyLDEwMV0sOTM6WzIsMTAxXSwxMDI6WzIsMTAxXSwxMDQ6WzIsMTAxXSwxMDU6WzIsMTAxXSwxMDY6WzIsMTAxXSwxMTA6WzIsMTAxXSwxMTg6WzIsMTAxXSwxMjY6WzIsMTAxXSwxMjg6WzIsMTAxXSwxMjk6WzIsMTAxXSwxMzI6WzIsMTAxXSwxMzM6WzIsMTAxXSwxMzQ6WzIsMTAxXSwxMzU6WzIsMTAxXSwxMzY6WzIsMTAxXSwxMzc6WzIsMTAxXX0sezg6MjY4LDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7MTpbMiwxNDFdLDY6WzIsMTQxXSwyNTpbMiwxNDFdLDI2OlsyLDE0MV0sNDk6WzIsMTQxXSw1NDpbMiwxNDFdLDU3OlsyLDE0MV0sNjY6WzIsMTQxXSw2NzpbMiwxNDFdLDY4OlsyLDE0MV0sNjk6WzIsMTQxXSw3MTpbMiwxNDFdLDczOlsyLDE0MV0sNzQ6WzIsMTQxXSw3ODpbMiwxNDFdLDg0OlsyLDE0MV0sODU6WzIsMTQxXSw4NjpbMiwxNDFdLDkxOlsyLDE0MV0sOTM6WzIsMTQxXSwxMDI6WzIsMTQxXSwxMDQ6WzIsMTQxXSwxMDU6WzIsMTQxXSwxMDY6WzIsMTQxXSwxMTA6WzIsMTQxXSwxMTg6WzIsMTQxXSwxMjY6WzIsMTQxXSwxMjg6WzIsMTQxXSwxMjk6WzIsMTQxXSwxMzI6WzIsMTQxXSwxMzM6WzIsMTQxXSwxMzQ6WzIsMTQxXSwxMzU6WzIsMTQxXSwxMzY6WzIsMTQxXSwxMzc6WzIsMTQxXX0sezY6WzEsNzRdLDI2OlsxLDI2OV19LHs4OjI3MCw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezY6WzIsNjddLDEyOlsyLDExOF0sMjU6WzIsNjddLDI4OlsyLDExOF0sMzA6WzIsMTE4XSwzMTpbMiwxMThdLDMzOlsyLDExOF0sMzQ6WzIsMTE4XSwzNTpbMiwxMThdLDM2OlsyLDExOF0sMzc6WzIsMTE4XSwzODpbMiwxMThdLDQ1OlsyLDExOF0sNDY6WzIsMTE4XSw0NzpbMiwxMThdLDUxOlsyLDExOF0sNTI6WzIsMTE4XSw1NDpbMiw2N10sNzY6WzIsMTE4XSw3OTpbMiwxMThdLDgzOlsyLDExOF0sODg6WzIsMTE4XSw4OTpbMiwxMThdLDkwOlsyLDExOF0sOTE6WzIsNjddLDk2OlsyLDExOF0sMTAwOlsyLDExOF0sMTAxOlsyLDExOF0sMTA0OlsyLDExOF0sMTA2OlsyLDExOF0sMTA4OlsyLDExOF0sMTEwOlsyLDExOF0sMTE5OlsyLDExOF0sMTI1OlsyLDExOF0sMTI3OlsyLDExOF0sMTI4OlsyLDExOF0sMTI5OlsyLDExOF0sMTMwOlsyLDExOF0sMTMxOlsyLDExOF19LHs2OlsxLDI3Ml0sMjU6WzEsMjczXSw5MTpbMSwyNzFdfSx7NjpbMiw1NF0sODoyMDIsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNTpbMiw1NF0sMjY6WzIsNTRdLDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjA6MTQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg2OlsyLDU0XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5MTpbMiw1NF0sOTQ6Mjc0LDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs2OlsyLDUzXSwyNTpbMiw1M10sMjY6WzIsNTNdLDUzOjI3NSw1NDpbMSwyMjldfSx7MTpbMiwxODFdLDY6WzIsMTgxXSwyNTpbMiwxODFdLDI2OlsyLDE4MV0sNDk6WzIsMTgxXSw1NDpbMiwxODFdLDU3OlsyLDE4MV0sNzM6WzIsMTgxXSw3ODpbMiwxODFdLDg2OlsyLDE4MV0sOTE6WzIsMTgxXSw5MzpbMiwxODFdLDEwMjpbMiwxODFdLDEwNDpbMiwxODFdLDEwNTpbMiwxODFdLDEwNjpbMiwxODFdLDExMDpbMiwxODFdLDExODpbMiwxODFdLDEyMTpbMiwxODFdLDEyNjpbMiwxODFdLDEyODpbMiwxODFdLDEyOTpbMiwxODFdLDEzMjpbMiwxODFdLDEzMzpbMiwxODFdLDEzNDpbMiwxODFdLDEzNTpbMiwxODFdLDEzNjpbMiwxODFdLDEzNzpbMiwxODFdfSx7ODoyNzYsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs4OjI3Nyw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezExNjpbMiwxNTldLDExNzpbMiwxNTldfSx7Mjc6MTU5LDI4OlsxLDczXSw0NDoxNjAsNTg6MTYxLDU5OjE2Miw3NjpbMSw3MF0sODk6WzEsMTE0XSw5MDpbMSwxMTVdLDExNToyNzh9LHsxOlsyLDE2Nl0sNjpbMiwxNjZdLDI1OlsyLDE2Nl0sMjY6WzIsMTY2XSw0OTpbMiwxNjZdLDU0OlsyLDE2Nl0sNTc6WzIsMTY2XSw3MzpbMiwxNjZdLDc4OlsyLDE2Nl0sODY6WzIsMTY2XSw5MTpbMiwxNjZdLDkzOlsyLDE2Nl0sMTAyOlsyLDE2Nl0sMTAzOjg3LDEwNDpbMiwxNjZdLDEwNTpbMSwyNzldLDEwNjpbMiwxNjZdLDEwOTo4OCwxMTA6WzIsMTY2XSwxMTE6NjksMTE4OlsxLDI4MF0sMTI2OlsyLDE2Nl0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7MTpbMiwxNjddLDY6WzIsMTY3XSwyNTpbMiwxNjddLDI2OlsyLDE2N10sNDk6WzIsMTY3XSw1NDpbMiwxNjddLDU3OlsyLDE2N10sNzM6WzIsMTY3XSw3ODpbMiwxNjddLDg2OlsyLDE2N10sOTE6WzIsMTY3XSw5MzpbMiwxNjddLDEwMjpbMiwxNjddLDEwMzo4NywxMDQ6WzIsMTY3XSwxMDU6WzEsMjgxXSwxMDY6WzIsMTY3XSwxMDk6ODgsMTEwOlsyLDE2N10sMTExOjY5LDExODpbMiwxNjddLDEyNjpbMiwxNjddLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezY6WzEsMjgzXSwyNTpbMSwyODRdLDc4OlsxLDI4Ml19LHs2OlsyLDU0XSwxMToxNjksMjU6WzIsNTRdLDI2OlsyLDU0XSwyNzoxNzAsMjg6WzEsNzNdLDI5OjE3MSwzMDpbMSw3MV0sMzE6WzEsNzJdLDQxOjI4NSw0MjoxNjgsNDQ6MTcyLDQ2OlsxLDQ2XSw3ODpbMiw1NF0sODk6WzEsMTE0XX0sezg6Mjg2LDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjU6WzEsMjg3XSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHsxOlsyLDg2XSw2OlsyLDg2XSwyNTpbMiw4Nl0sMjY6WzIsODZdLDQwOlsyLDg2XSw0OTpbMiw4Nl0sNTQ6WzIsODZdLDU3OlsyLDg2XSw2NjpbMiw4Nl0sNjc6WzIsODZdLDY4OlsyLDg2XSw2OTpbMiw4Nl0sNzE6WzIsODZdLDczOlsyLDg2XSw3NDpbMiw4Nl0sNzg6WzIsODZdLDgwOlsyLDg2XSw4NDpbMiw4Nl0sODU6WzIsODZdLDg2OlsyLDg2XSw5MTpbMiw4Nl0sOTM6WzIsODZdLDEwMjpbMiw4Nl0sMTA0OlsyLDg2XSwxMDU6WzIsODZdLDEwNjpbMiw4Nl0sMTEwOlsyLDg2XSwxMTg6WzIsODZdLDEyNjpbMiw4Nl0sMTI4OlsyLDg2XSwxMjk6WzIsODZdLDEzMDpbMiw4Nl0sMTMxOlsyLDg2XSwxMzI6WzIsODZdLDEzMzpbMiw4Nl0sMTM0OlsyLDg2XSwxMzU6WzIsODZdLDEzNjpbMiw4Nl0sMTM3OlsyLDg2XSwxMzg6WzIsODZdfSx7ODoyODgsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDczOlsyLDEyMV0sNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezczOlsyLDEyMl0sMTAzOjg3LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDk6ODgsMTEwOlsxLDY4XSwxMTE6NjksMTI2OlsxLDg2XSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsxLDgzXSwxMzY6WzEsODRdLDEzNzpbMSw4NV19LHsxOlsyLDM3XSw2OlsyLDM3XSwyNTpbMiwzN10sMjY6WzIsMzddLDQ5OlsyLDM3XSw1NDpbMiwzN10sNTc6WzIsMzddLDczOlsyLDM3XSw3ODpbMiwzN10sODY6WzIsMzddLDkxOlsyLDM3XSw5MzpbMiwzN10sMTAyOlsyLDM3XSwxMDM6ODcsMTA0OlsyLDM3XSwxMDU6WzIsMzddLDEwNjpbMiwzN10sMTA5Ojg4LDExMDpbMiwzN10sMTExOjY5LDExODpbMiwzN10sMTI2OlsyLDM3XSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsxLDgzXSwxMzY6WzEsODRdLDEzNzpbMSw4NV19LHsyNjpbMSwyODldLDEwMzo4NywxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA5Ojg4LDExMDpbMSw2OF0sMTExOjY5LDEyNjpbMSw4Nl0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7NjpbMSwyNzJdLDI1OlsxLDI3M10sODY6WzEsMjkwXX0sezY6WzIsNjddLDI1OlsyLDY3XSwyNjpbMiw2N10sNTQ6WzIsNjddLDg2OlsyLDY3XSw5MTpbMiw2N119LHs1OjI5MSwyNTpbMSw1XX0sezY6WzIsNTddLDI1OlsyLDU3XSwyNjpbMiw1N10sNDk6WzIsNTddLDU0OlsyLDU3XX0sezI3OjExMCwyODpbMSw3M10sNDQ6MTExLDU1OjI5Miw1NjoxMDksNTg6MTEyLDU5OjExMyw3NjpbMSw3MF0sODk6WzEsMTE0XSw5MDpbMSwxMTVdfSx7NjpbMiw1NV0sMjU6WzIsNTVdLDI2OlsyLDU1XSwyNzoxMTAsMjg6WzEsNzNdLDQ0OjExMSw0ODoyOTMsNTQ6WzIsNTVdLDU1OjEwOCw1NjoxMDksNTg6MTEyLDU5OjExMyw3NjpbMSw3MF0sODk6WzEsMTE0XSw5MDpbMSwxMTVdfSx7NjpbMiw2Ml0sMjU6WzIsNjJdLDI2OlsyLDYyXSw0OTpbMiw2Ml0sNTQ6WzIsNjJdLDEwMzo4NywxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA5Ojg4LDExMDpbMSw2OF0sMTExOjY5LDEyNjpbMSw4Nl0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7MjY6WzEsMjk0XSwxMDM6ODcsMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwOTo4OCwxMTA6WzEsNjhdLDExMTo2OSwxMjY6WzEsODZdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezE6WzIsMjA0XSw2OlsyLDIwNF0sMjU6WzIsMjA0XSwyNjpbMiwyMDRdLDQ5OlsyLDIwNF0sNTQ6WzIsMjA0XSw1NzpbMiwyMDRdLDczOlsyLDIwNF0sNzg6WzIsMjA0XSw4NjpbMiwyMDRdLDkxOlsyLDIwNF0sOTM6WzIsMjA0XSwxMDI6WzIsMjA0XSwxMDM6ODcsMTA0OlsyLDIwNF0sMTA1OlsyLDIwNF0sMTA2OlsyLDIwNF0sMTA5Ojg4LDExMDpbMiwyMDRdLDExMTo2OSwxMTg6WzIsMjA0XSwxMjY6WzIsMjA0XSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsxLDgzXSwxMzY6WzEsODRdLDEzNzpbMSw4NV19LHs1OjI5NSwyNTpbMSw1XSwxMDM6ODcsMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwOTo4OCwxMTA6WzEsNjhdLDExMTo2OSwxMjY6WzEsODZdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezU6Mjk2LDI1OlsxLDVdfSx7MTpbMiwxMzVdLDY6WzIsMTM1XSwyNTpbMiwxMzVdLDI2OlsyLDEzNV0sNDk6WzIsMTM1XSw1NDpbMiwxMzVdLDU3OlsyLDEzNV0sNzM6WzIsMTM1XSw3ODpbMiwxMzVdLDg2OlsyLDEzNV0sOTE6WzIsMTM1XSw5MzpbMiwxMzVdLDEwMjpbMiwxMzVdLDEwNDpbMiwxMzVdLDEwNTpbMiwxMzVdLDEwNjpbMiwxMzVdLDExMDpbMiwxMzVdLDExODpbMiwxMzVdLDEyNjpbMiwxMzVdLDEyODpbMiwxMzVdLDEyOTpbMiwxMzVdLDEzMjpbMiwxMzVdLDEzMzpbMiwxMzVdLDEzNDpbMiwxMzVdLDEzNTpbMiwxMzVdLDEzNjpbMiwxMzVdLDEzNzpbMiwxMzVdfSx7NToyOTcsMjU6WzEsNV19LHs1OjI5OCwyNTpbMSw1XX0sezE6WzIsMTM5XSw2OlsyLDEzOV0sMjU6WzIsMTM5XSwyNjpbMiwxMzldLDQ5OlsyLDEzOV0sNTQ6WzIsMTM5XSw1NzpbMiwxMzldLDczOlsyLDEzOV0sNzg6WzIsMTM5XSw4NjpbMiwxMzldLDkxOlsyLDEzOV0sOTM6WzIsMTM5XSw5ODpbMiwxMzldLDEwMjpbMiwxMzldLDEwNDpbMiwxMzldLDEwNTpbMiwxMzldLDEwNjpbMiwxMzldLDExMDpbMiwxMzldLDExODpbMiwxMzldLDEyNjpbMiwxMzldLDEyODpbMiwxMzldLDEyOTpbMiwxMzldLDEzMjpbMiwxMzldLDEzMzpbMiwxMzldLDEzNDpbMiwxMzldLDEzNTpbMiwxMzldLDEzNjpbMiwxMzldLDEzNzpbMiwxMzldfSx7MjY6WzEsMjk5XSwxMjE6WzEsMzAwXSwxMjI6MjY0LDEyMzpbMSwyMjBdfSx7MTpbMiwxNzVdLDY6WzIsMTc1XSwyNTpbMiwxNzVdLDI2OlsyLDE3NV0sNDk6WzIsMTc1XSw1NDpbMiwxNzVdLDU3OlsyLDE3NV0sNzM6WzIsMTc1XSw3ODpbMiwxNzVdLDg2OlsyLDE3NV0sOTE6WzIsMTc1XSw5MzpbMiwxNzVdLDEwMjpbMiwxNzVdLDEwNDpbMiwxNzVdLDEwNTpbMiwxNzVdLDEwNjpbMiwxNzVdLDExMDpbMiwxNzVdLDExODpbMiwxNzVdLDEyNjpbMiwxNzVdLDEyODpbMiwxNzVdLDEyOTpbMiwxNzVdLDEzMjpbMiwxNzVdLDEzMzpbMiwxNzVdLDEzNDpbMiwxNzVdLDEzNTpbMiwxNzVdLDEzNjpbMiwxNzVdLDEzNzpbMiwxNzVdfSx7NTozMDEsMjU6WzEsNV19LHsyNjpbMiwxNzhdLDEyMTpbMiwxNzhdLDEyMzpbMiwxNzhdfSx7NTozMDIsMjU6WzEsNV0sNTQ6WzEsMzAzXX0sezI1OlsyLDEzMV0sNTQ6WzIsMTMxXSwxMDM6ODcsMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwOTo4OCwxMTA6WzEsNjhdLDExMTo2OSwxMjY6WzEsODZdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezE6WzIsOTldLDY6WzIsOTldLDI1OlsyLDk5XSwyNjpbMiw5OV0sNDk6WzIsOTldLDU0OlsyLDk5XSw1NzpbMiw5OV0sNzM6WzIsOTldLDc4OlsyLDk5XSw4NjpbMiw5OV0sOTE6WzIsOTldLDkzOlsyLDk5XSwxMDI6WzIsOTldLDEwNDpbMiw5OV0sMTA1OlsyLDk5XSwxMDY6WzIsOTldLDExMDpbMiw5OV0sMTE4OlsyLDk5XSwxMjY6WzIsOTldLDEyODpbMiw5OV0sMTI5OlsyLDk5XSwxMzI6WzIsOTldLDEzMzpbMiw5OV0sMTM0OlsyLDk5XSwxMzU6WzIsOTldLDEzNjpbMiw5OV0sMTM3OlsyLDk5XX0sezE6WzIsMTAyXSw1OjMwNCw2OlsyLDEwMl0sMjU6WzEsNV0sMjY6WzIsMTAyXSw0OTpbMiwxMDJdLDU0OlsyLDEwMl0sNTc6WzIsMTAyXSw3MzpbMiwxMDJdLDc4OlsyLDEwMl0sODY6WzIsMTAyXSw5MTpbMiwxMDJdLDkzOlsyLDEwMl0sMTAyOlsyLDEwMl0sMTAzOjg3LDEwNDpbMSw2NV0sMTA1OlsyLDEwMl0sMTA2OlsxLDY2XSwxMDk6ODgsMTEwOlsxLDY4XSwxMTE6NjksMTE4OlsyLDEwMl0sMTI2OlsyLDEwMl0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7MTAyOlsxLDMwNV19LHs5MTpbMSwzMDZdLDEwMzo4NywxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA5Ojg4LDExMDpbMSw2OF0sMTExOjY5LDEyNjpbMSw4Nl0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7MTpbMiwxMTZdLDY6WzIsMTE2XSwyNTpbMiwxMTZdLDI2OlsyLDExNl0sNDA6WzIsMTE2XSw0OTpbMiwxMTZdLDU0OlsyLDExNl0sNTc6WzIsMTE2XSw2NjpbMiwxMTZdLDY3OlsyLDExNl0sNjg6WzIsMTE2XSw2OTpbMiwxMTZdLDcxOlsyLDExNl0sNzM6WzIsMTE2XSw3NDpbMiwxMTZdLDc4OlsyLDExNl0sODQ6WzIsMTE2XSw4NTpbMiwxMTZdLDg2OlsyLDExNl0sOTE6WzIsMTE2XSw5MzpbMiwxMTZdLDEwMjpbMiwxMTZdLDEwNDpbMiwxMTZdLDEwNTpbMiwxMTZdLDEwNjpbMiwxMTZdLDExMDpbMiwxMTZdLDExNjpbMiwxMTZdLDExNzpbMiwxMTZdLDExODpbMiwxMTZdLDEyNjpbMiwxMTZdLDEyODpbMiwxMTZdLDEyOTpbMiwxMTZdLDEzMjpbMiwxMTZdLDEzMzpbMiwxMTZdLDEzNDpbMiwxMTZdLDEzNTpbMiwxMTZdLDEzNjpbMiwxMTZdLDEzNzpbMiwxMTZdfSx7ODoyMDIsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYwOjE0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NDozMDcsOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezg6MjAyLDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjU6WzEsMTQ3XSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYwOjE0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4NzozMDgsODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTQ6MTQ2LDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHs2OlsyLDEyNV0sMjU6WzIsMTI1XSwyNjpbMiwxMjVdLDU0OlsyLDEyNV0sODY6WzIsMTI1XSw5MTpbMiwxMjVdfSx7NjpbMSwyNzJdLDI1OlsxLDI3M10sMjY6WzEsMzA5XX0sezE6WzIsMTQ0XSw2OlsyLDE0NF0sMjU6WzIsMTQ0XSwyNjpbMiwxNDRdLDQ5OlsyLDE0NF0sNTQ6WzIsMTQ0XSw1NzpbMiwxNDRdLDczOlsyLDE0NF0sNzg6WzIsMTQ0XSw4NjpbMiwxNDRdLDkxOlsyLDE0NF0sOTM6WzIsMTQ0XSwxMDI6WzIsMTQ0XSwxMDM6ODcsMTA0OlsxLDY1XSwxMDU6WzIsMTQ0XSwxMDY6WzEsNjZdLDEwOTo4OCwxMTA6WzEsNjhdLDExMTo2OSwxMTg6WzIsMTQ0XSwxMjY6WzIsMTQ0XSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsxLDgzXSwxMzY6WzEsODRdLDEzNzpbMSw4NV19LHsxOlsyLDE0Nl0sNjpbMiwxNDZdLDI1OlsyLDE0Nl0sMjY6WzIsMTQ2XSw0OTpbMiwxNDZdLDU0OlsyLDE0Nl0sNTc6WzIsMTQ2XSw3MzpbMiwxNDZdLDc4OlsyLDE0Nl0sODY6WzIsMTQ2XSw5MTpbMiwxNDZdLDkzOlsyLDE0Nl0sMTAyOlsyLDE0Nl0sMTAzOjg3LDEwNDpbMSw2NV0sMTA1OlsyLDE0Nl0sMTA2OlsxLDY2XSwxMDk6ODgsMTEwOlsxLDY4XSwxMTE6NjksMTE4OlsyLDE0Nl0sMTI2OlsyLDE0Nl0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7MTE2OlsyLDE2NV0sMTE3OlsyLDE2NV19LHs4OjMxMCw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezg6MzExLDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7ODozMTIsOToxMTgsMTA6MjAsMTE6MjEsMTI6WzEsMjJdLDEzOjgsMTQ6OSwxNToxMCwxNjoxMSwxNzoxMiwxODoxMywxOToxNCwyMDoxNSwyMToxNiwyMjoxNywyMzoxOCwyNDoxOSwyNzo2MiwyODpbMSw3M10sMjk6NDksMzA6WzEsNzFdLDMxOlsxLDcyXSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjpbMSw1M10sMzc6WzEsNTRdLDM4OlsxLDU1XSwzOToyMyw0NDo2Myw0NTpbMSw0NV0sNDY6WzEsNDZdLDQ3OlsxLDI5XSw1MDozMCw1MTpbMSw2MF0sNTI6WzEsNjFdLDU4OjQ3LDU5OjQ4LDYxOjM2LDYzOjI1LDY0OjI2LDY1OjI3LDc2OlsxLDcwXSw3OTpbMSw0M10sODM6WzEsMjhdLDg4OlsxLDU4XSw4OTpbMSw1OV0sOTA6WzEsNTddLDk2OlsxLDM4XSwxMDA6WzEsNDRdLDEwMTpbMSw1Nl0sMTAzOjM5LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDc6NDAsMTA4OlsxLDY3XSwxMDk6NDEsMTEwOlsxLDY4XSwxMTE6NjksMTE5OlsxLDQyXSwxMjQ6MzcsMTI1OlsxLDY0XSwxMjc6WzEsMzFdLDEyODpbMSwzMl0sMTI5OlsxLDMzXSwxMzA6WzEsMzRdLDEzMTpbMSwzNV19LHsxOlsyLDkwXSw2OlsyLDkwXSwyNTpbMiw5MF0sMjY6WzIsOTBdLDQwOlsyLDkwXSw0OTpbMiw5MF0sNTQ6WzIsOTBdLDU3OlsyLDkwXSw2NjpbMiw5MF0sNjc6WzIsOTBdLDY4OlsyLDkwXSw2OTpbMiw5MF0sNzE6WzIsOTBdLDczOlsyLDkwXSw3NDpbMiw5MF0sNzg6WzIsOTBdLDg0OlsyLDkwXSw4NTpbMiw5MF0sODY6WzIsOTBdLDkxOlsyLDkwXSw5MzpbMiw5MF0sMTAyOlsyLDkwXSwxMDQ6WzIsOTBdLDEwNTpbMiw5MF0sMTA2OlsyLDkwXSwxMTA6WzIsOTBdLDExNjpbMiw5MF0sMTE3OlsyLDkwXSwxMTg6WzIsOTBdLDEyNjpbMiw5MF0sMTI4OlsyLDkwXSwxMjk6WzIsOTBdLDEzMjpbMiw5MF0sMTMzOlsyLDkwXSwxMzQ6WzIsOTBdLDEzNTpbMiw5MF0sMTM2OlsyLDkwXSwxMzc6WzIsOTBdfSx7MTE6MTY5LDI3OjE3MCwyODpbMSw3M10sMjk6MTcxLDMwOlsxLDcxXSwzMTpbMSw3Ml0sNDE6MzEzLDQyOjE2OCw0NDoxNzIsNDY6WzEsNDZdLDg5OlsxLDExNF19LHs2OlsyLDkxXSwxMToxNjksMjU6WzIsOTFdLDI2OlsyLDkxXSwyNzoxNzAsMjg6WzEsNzNdLDI5OjE3MSwzMDpbMSw3MV0sMzE6WzEsNzJdLDQxOjE2Nyw0MjoxNjgsNDQ6MTcyLDQ2OlsxLDQ2XSw1NDpbMiw5MV0sNzc6MzE0LDg5OlsxLDExNF19LHs2OlsyLDkzXSwyNTpbMiw5M10sMjY6WzIsOTNdLDU0OlsyLDkzXSw3ODpbMiw5M119LHs2OlsyLDQwXSwyNTpbMiw0MF0sMjY6WzIsNDBdLDU0OlsyLDQwXSw3ODpbMiw0MF0sMTAzOjg3LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDk6ODgsMTEwOlsxLDY4XSwxMTE6NjksMTI2OlsxLDg2XSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsxLDgzXSwxMzY6WzEsODRdLDEzNzpbMSw4NV19LHs4OjMxNSw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezczOlsyLDEyMF0sMTAzOjg3LDEwNDpbMSw2NV0sMTA2OlsxLDY2XSwxMDk6ODgsMTEwOlsxLDY4XSwxMTE6NjksMTI2OlsxLDg2XSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsxLDgzXSwxMzY6WzEsODRdLDEzNzpbMSw4NV19LHsxOlsyLDM4XSw2OlsyLDM4XSwyNTpbMiwzOF0sMjY6WzIsMzhdLDQ5OlsyLDM4XSw1NDpbMiwzOF0sNTc6WzIsMzhdLDczOlsyLDM4XSw3ODpbMiwzOF0sODY6WzIsMzhdLDkxOlsyLDM4XSw5MzpbMiwzOF0sMTAyOlsyLDM4XSwxMDQ6WzIsMzhdLDEwNTpbMiwzOF0sMTA2OlsyLDM4XSwxMTA6WzIsMzhdLDExODpbMiwzOF0sMTI2OlsyLDM4XSwxMjg6WzIsMzhdLDEyOTpbMiwzOF0sMTMyOlsyLDM4XSwxMzM6WzIsMzhdLDEzNDpbMiwzOF0sMTM1OlsyLDM4XSwxMzY6WzIsMzhdLDEzNzpbMiwzOF19LHsxOlsyLDExMV0sNjpbMiwxMTFdLDI1OlsyLDExMV0sMjY6WzIsMTExXSw0OTpbMiwxMTFdLDU0OlsyLDExMV0sNTc6WzIsMTExXSw2NjpbMiwxMTFdLDY3OlsyLDExMV0sNjg6WzIsMTExXSw2OTpbMiwxMTFdLDcxOlsyLDExMV0sNzM6WzIsMTExXSw3NDpbMiwxMTFdLDc4OlsyLDExMV0sODQ6WzIsMTExXSw4NTpbMiwxMTFdLDg2OlsyLDExMV0sOTE6WzIsMTExXSw5MzpbMiwxMTFdLDEwMjpbMiwxMTFdLDEwNDpbMiwxMTFdLDEwNTpbMiwxMTFdLDEwNjpbMiwxMTFdLDExMDpbMiwxMTFdLDExODpbMiwxMTFdLDEyNjpbMiwxMTFdLDEyODpbMiwxMTFdLDEyOTpbMiwxMTFdLDEzMjpbMiwxMTFdLDEzMzpbMiwxMTFdLDEzNDpbMiwxMTFdLDEzNTpbMiwxMTFdLDEzNjpbMiwxMTFdLDEzNzpbMiwxMTFdfSx7MTpbMiw0OV0sNjpbMiw0OV0sMjU6WzIsNDldLDI2OlsyLDQ5XSw0OTpbMiw0OV0sNTQ6WzIsNDldLDU3OlsyLDQ5XSw3MzpbMiw0OV0sNzg6WzIsNDldLDg2OlsyLDQ5XSw5MTpbMiw0OV0sOTM6WzIsNDldLDEwMjpbMiw0OV0sMTA0OlsyLDQ5XSwxMDU6WzIsNDldLDEwNjpbMiw0OV0sMTEwOlsyLDQ5XSwxMTg6WzIsNDldLDEyNjpbMiw0OV0sMTI4OlsyLDQ5XSwxMjk6WzIsNDldLDEzMjpbMiw0OV0sMTMzOlsyLDQ5XSwxMzQ6WzIsNDldLDEzNTpbMiw0OV0sMTM2OlsyLDQ5XSwxMzc6WzIsNDldfSx7NjpbMiw1OF0sMjU6WzIsNThdLDI2OlsyLDU4XSw0OTpbMiw1OF0sNTQ6WzIsNThdfSx7NjpbMiw1M10sMjU6WzIsNTNdLDI2OlsyLDUzXSw1MzozMTYsNTQ6WzEsMjA0XX0sezE6WzIsMjAzXSw2OlsyLDIwM10sMjU6WzIsMjAzXSwyNjpbMiwyMDNdLDQ5OlsyLDIwM10sNTQ6WzIsMjAzXSw1NzpbMiwyMDNdLDczOlsyLDIwM10sNzg6WzIsMjAzXSw4NjpbMiwyMDNdLDkxOlsyLDIwM10sOTM6WzIsMjAzXSwxMDI6WzIsMjAzXSwxMDQ6WzIsMjAzXSwxMDU6WzIsMjAzXSwxMDY6WzIsMjAzXSwxMTA6WzIsMjAzXSwxMTg6WzIsMjAzXSwxMjY6WzIsMjAzXSwxMjg6WzIsMjAzXSwxMjk6WzIsMjAzXSwxMzI6WzIsMjAzXSwxMzM6WzIsMjAzXSwxMzQ6WzIsMjAzXSwxMzU6WzIsMjAzXSwxMzY6WzIsMjAzXSwxMzc6WzIsMjAzXX0sezE6WzIsMTgyXSw2OlsyLDE4Ml0sMjU6WzIsMTgyXSwyNjpbMiwxODJdLDQ5OlsyLDE4Ml0sNTQ6WzIsMTgyXSw1NzpbMiwxODJdLDczOlsyLDE4Ml0sNzg6WzIsMTgyXSw4NjpbMiwxODJdLDkxOlsyLDE4Ml0sOTM6WzIsMTgyXSwxMDI6WzIsMTgyXSwxMDQ6WzIsMTgyXSwxMDU6WzIsMTgyXSwxMDY6WzIsMTgyXSwxMTA6WzIsMTgyXSwxMTg6WzIsMTgyXSwxMjE6WzIsMTgyXSwxMjY6WzIsMTgyXSwxMjg6WzIsMTgyXSwxMjk6WzIsMTgyXSwxMzI6WzIsMTgyXSwxMzM6WzIsMTgyXSwxMzQ6WzIsMTgyXSwxMzU6WzIsMTgyXSwxMzY6WzIsMTgyXSwxMzc6WzIsMTgyXX0sezE6WzIsMTM2XSw2OlsyLDEzNl0sMjU6WzIsMTM2XSwyNjpbMiwxMzZdLDQ5OlsyLDEzNl0sNTQ6WzIsMTM2XSw1NzpbMiwxMzZdLDczOlsyLDEzNl0sNzg6WzIsMTM2XSw4NjpbMiwxMzZdLDkxOlsyLDEzNl0sOTM6WzIsMTM2XSwxMDI6WzIsMTM2XSwxMDQ6WzIsMTM2XSwxMDU6WzIsMTM2XSwxMDY6WzIsMTM2XSwxMTA6WzIsMTM2XSwxMTg6WzIsMTM2XSwxMjY6WzIsMTM2XSwxMjg6WzIsMTM2XSwxMjk6WzIsMTM2XSwxMzI6WzIsMTM2XSwxMzM6WzIsMTM2XSwxMzQ6WzIsMTM2XSwxMzU6WzIsMTM2XSwxMzY6WzIsMTM2XSwxMzc6WzIsMTM2XX0sezE6WzIsMTM3XSw2OlsyLDEzN10sMjU6WzIsMTM3XSwyNjpbMiwxMzddLDQ5OlsyLDEzN10sNTQ6WzIsMTM3XSw1NzpbMiwxMzddLDczOlsyLDEzN10sNzg6WzIsMTM3XSw4NjpbMiwxMzddLDkxOlsyLDEzN10sOTM6WzIsMTM3XSw5ODpbMiwxMzddLDEwMjpbMiwxMzddLDEwNDpbMiwxMzddLDEwNTpbMiwxMzddLDEwNjpbMiwxMzddLDExMDpbMiwxMzddLDExODpbMiwxMzddLDEyNjpbMiwxMzddLDEyODpbMiwxMzddLDEyOTpbMiwxMzddLDEzMjpbMiwxMzddLDEzMzpbMiwxMzddLDEzNDpbMiwxMzddLDEzNTpbMiwxMzddLDEzNjpbMiwxMzddLDEzNzpbMiwxMzddfSx7MTpbMiwxMzhdLDY6WzIsMTM4XSwyNTpbMiwxMzhdLDI2OlsyLDEzOF0sNDk6WzIsMTM4XSw1NDpbMiwxMzhdLDU3OlsyLDEzOF0sNzM6WzIsMTM4XSw3ODpbMiwxMzhdLDg2OlsyLDEzOF0sOTE6WzIsMTM4XSw5MzpbMiwxMzhdLDk4OlsyLDEzOF0sMTAyOlsyLDEzOF0sMTA0OlsyLDEzOF0sMTA1OlsyLDEzOF0sMTA2OlsyLDEzOF0sMTEwOlsyLDEzOF0sMTE4OlsyLDEzOF0sMTI2OlsyLDEzOF0sMTI4OlsyLDEzOF0sMTI5OlsyLDEzOF0sMTMyOlsyLDEzOF0sMTMzOlsyLDEzOF0sMTM0OlsyLDEzOF0sMTM1OlsyLDEzOF0sMTM2OlsyLDEzOF0sMTM3OlsyLDEzOF19LHsxOlsyLDE3M10sNjpbMiwxNzNdLDI1OlsyLDE3M10sMjY6WzIsMTczXSw0OTpbMiwxNzNdLDU0OlsyLDE3M10sNTc6WzIsMTczXSw3MzpbMiwxNzNdLDc4OlsyLDE3M10sODY6WzIsMTczXSw5MTpbMiwxNzNdLDkzOlsyLDE3M10sMTAyOlsyLDE3M10sMTA0OlsyLDE3M10sMTA1OlsyLDE3M10sMTA2OlsyLDE3M10sMTEwOlsyLDE3M10sMTE4OlsyLDE3M10sMTI2OlsyLDE3M10sMTI4OlsyLDE3M10sMTI5OlsyLDE3M10sMTMyOlsyLDE3M10sMTMzOlsyLDE3M10sMTM0OlsyLDE3M10sMTM1OlsyLDE3M10sMTM2OlsyLDE3M10sMTM3OlsyLDE3M119LHs1OjMxNywyNTpbMSw1XX0sezI2OlsxLDMxOF19LHs2OlsxLDMxOV0sMjY6WzIsMTc5XSwxMjE6WzIsMTc5XSwxMjM6WzIsMTc5XX0sezg6MzIwLDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7MTpbMiwxMDNdLDY6WzIsMTAzXSwyNTpbMiwxMDNdLDI2OlsyLDEwM10sNDk6WzIsMTAzXSw1NDpbMiwxMDNdLDU3OlsyLDEwM10sNzM6WzIsMTAzXSw3ODpbMiwxMDNdLDg2OlsyLDEwM10sOTE6WzIsMTAzXSw5MzpbMiwxMDNdLDEwMjpbMiwxMDNdLDEwNDpbMiwxMDNdLDEwNTpbMiwxMDNdLDEwNjpbMiwxMDNdLDExMDpbMiwxMDNdLDExODpbMiwxMDNdLDEyNjpbMiwxMDNdLDEyODpbMiwxMDNdLDEyOTpbMiwxMDNdLDEzMjpbMiwxMDNdLDEzMzpbMiwxMDNdLDEzNDpbMiwxMDNdLDEzNTpbMiwxMDNdLDEzNjpbMiwxMDNdLDEzNzpbMiwxMDNdfSx7MTpbMiwxNDJdLDY6WzIsMTQyXSwyNTpbMiwxNDJdLDI2OlsyLDE0Ml0sNDk6WzIsMTQyXSw1NDpbMiwxNDJdLDU3OlsyLDE0Ml0sNjY6WzIsMTQyXSw2NzpbMiwxNDJdLDY4OlsyLDE0Ml0sNjk6WzIsMTQyXSw3MTpbMiwxNDJdLDczOlsyLDE0Ml0sNzQ6WzIsMTQyXSw3ODpbMiwxNDJdLDg0OlsyLDE0Ml0sODU6WzIsMTQyXSw4NjpbMiwxNDJdLDkxOlsyLDE0Ml0sOTM6WzIsMTQyXSwxMDI6WzIsMTQyXSwxMDQ6WzIsMTQyXSwxMDU6WzIsMTQyXSwxMDY6WzIsMTQyXSwxMTA6WzIsMTQyXSwxMTg6WzIsMTQyXSwxMjY6WzIsMTQyXSwxMjg6WzIsMTQyXSwxMjk6WzIsMTQyXSwxMzI6WzIsMTQyXSwxMzM6WzIsMTQyXSwxMzQ6WzIsMTQyXSwxMzU6WzIsMTQyXSwxMzY6WzIsMTQyXSwxMzc6WzIsMTQyXX0sezE6WzIsMTE5XSw2OlsyLDExOV0sMjU6WzIsMTE5XSwyNjpbMiwxMTldLDQ5OlsyLDExOV0sNTQ6WzIsMTE5XSw1NzpbMiwxMTldLDY2OlsyLDExOV0sNjc6WzIsMTE5XSw2ODpbMiwxMTldLDY5OlsyLDExOV0sNzE6WzIsMTE5XSw3MzpbMiwxMTldLDc0OlsyLDExOV0sNzg6WzIsMTE5XSw4NDpbMiwxMTldLDg1OlsyLDExOV0sODY6WzIsMTE5XSw5MTpbMiwxMTldLDkzOlsyLDExOV0sMTAyOlsyLDExOV0sMTA0OlsyLDExOV0sMTA1OlsyLDExOV0sMTA2OlsyLDExOV0sMTEwOlsyLDExOV0sMTE4OlsyLDExOV0sMTI2OlsyLDExOV0sMTI4OlsyLDExOV0sMTI5OlsyLDExOV0sMTMyOlsyLDExOV0sMTMzOlsyLDExOV0sMTM0OlsyLDExOV0sMTM1OlsyLDExOV0sMTM2OlsyLDExOV0sMTM3OlsyLDExOV19LHs2OlsyLDEyNl0sMjU6WzIsMTI2XSwyNjpbMiwxMjZdLDU0OlsyLDEyNl0sODY6WzIsMTI2XSw5MTpbMiwxMjZdfSx7NjpbMiw1M10sMjU6WzIsNTNdLDI2OlsyLDUzXSw1MzozMjEsNTQ6WzEsMjI5XX0sezY6WzIsMTI3XSwyNTpbMiwxMjddLDI2OlsyLDEyN10sNTQ6WzIsMTI3XSw4NjpbMiwxMjddLDkxOlsyLDEyN119LHsxOlsyLDE2OF0sNjpbMiwxNjhdLDI1OlsyLDE2OF0sMjY6WzIsMTY4XSw0OTpbMiwxNjhdLDU0OlsyLDE2OF0sNTc6WzIsMTY4XSw3MzpbMiwxNjhdLDc4OlsyLDE2OF0sODY6WzIsMTY4XSw5MTpbMiwxNjhdLDkzOlsyLDE2OF0sMTAyOlsyLDE2OF0sMTAzOjg3LDEwNDpbMiwxNjhdLDEwNTpbMiwxNjhdLDEwNjpbMiwxNjhdLDEwOTo4OCwxMTA6WzIsMTY4XSwxMTE6NjksMTE4OlsxLDMyMl0sMTI2OlsyLDE2OF0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7MTpbMiwxNzBdLDY6WzIsMTcwXSwyNTpbMiwxNzBdLDI2OlsyLDE3MF0sNDk6WzIsMTcwXSw1NDpbMiwxNzBdLDU3OlsyLDE3MF0sNzM6WzIsMTcwXSw3ODpbMiwxNzBdLDg2OlsyLDE3MF0sOTE6WzIsMTcwXSw5MzpbMiwxNzBdLDEwMjpbMiwxNzBdLDEwMzo4NywxMDQ6WzIsMTcwXSwxMDU6WzEsMzIzXSwxMDY6WzIsMTcwXSwxMDk6ODgsMTEwOlsyLDE3MF0sMTExOjY5LDExODpbMiwxNzBdLDEyNjpbMiwxNzBdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezE6WzIsMTY5XSw2OlsyLDE2OV0sMjU6WzIsMTY5XSwyNjpbMiwxNjldLDQ5OlsyLDE2OV0sNTQ6WzIsMTY5XSw1NzpbMiwxNjldLDczOlsyLDE2OV0sNzg6WzIsMTY5XSw4NjpbMiwxNjldLDkxOlsyLDE2OV0sOTM6WzIsMTY5XSwxMDI6WzIsMTY5XSwxMDM6ODcsMTA0OlsyLDE2OV0sMTA1OlsyLDE2OV0sMTA2OlsyLDE2OV0sMTA5Ojg4LDExMDpbMiwxNjldLDExMTo2OSwxMTg6WzIsMTY5XSwxMjY6WzIsMTY5XSwxMjg6WzEsODBdLDEyOTpbMSw3OV0sMTMyOlsxLDc4XSwxMzM6WzEsODFdLDEzNDpbMSw4Ml0sMTM1OlsxLDgzXSwxMzY6WzEsODRdLDEzNzpbMSw4NV19LHs2OlsyLDk0XSwyNTpbMiw5NF0sMjY6WzIsOTRdLDU0OlsyLDk0XSw3ODpbMiw5NF19LHs2OlsyLDUzXSwyNTpbMiw1M10sMjY6WzIsNTNdLDUzOjMyNCw1NDpbMSwyMzldfSx7MjY6WzEsMzI1XSwxMDM6ODcsMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwOTo4OCwxMTA6WzEsNjhdLDExMTo2OSwxMjY6WzEsODZdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezY6WzEsMjUwXSwyNTpbMSwyNTFdLDI2OlsxLDMyNl19LHsyNjpbMSwzMjddfSx7MTpbMiwxNzZdLDY6WzIsMTc2XSwyNTpbMiwxNzZdLDI2OlsyLDE3Nl0sNDk6WzIsMTc2XSw1NDpbMiwxNzZdLDU3OlsyLDE3Nl0sNzM6WzIsMTc2XSw3ODpbMiwxNzZdLDg2OlsyLDE3Nl0sOTE6WzIsMTc2XSw5MzpbMiwxNzZdLDEwMjpbMiwxNzZdLDEwNDpbMiwxNzZdLDEwNTpbMiwxNzZdLDEwNjpbMiwxNzZdLDExMDpbMiwxNzZdLDExODpbMiwxNzZdLDEyNjpbMiwxNzZdLDEyODpbMiwxNzZdLDEyOTpbMiwxNzZdLDEzMjpbMiwxNzZdLDEzMzpbMiwxNzZdLDEzNDpbMiwxNzZdLDEzNTpbMiwxNzZdLDEzNjpbMiwxNzZdLDEzNzpbMiwxNzZdfSx7MjY6WzIsMTgwXSwxMjE6WzIsMTgwXSwxMjM6WzIsMTgwXX0sezI1OlsyLDEzMl0sNTQ6WzIsMTMyXSwxMDM6ODcsMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwOTo4OCwxMTA6WzEsNjhdLDExMTo2OSwxMjY6WzEsODZdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezY6WzEsMjcyXSwyNTpbMSwyNzNdLDI2OlsxLDMyOF19LHs4OjMyOSw5OjExOCwxMDoyMCwxMToyMSwxMjpbMSwyMl0sMTM6OCwxNDo5LDE1OjEwLDE2OjExLDE3OjEyLDE4OjEzLDE5OjE0LDIwOjE1LDIxOjE2LDIyOjE3LDIzOjE4LDI0OjE5LDI3OjYyLDI4OlsxLDczXSwyOTo0OSwzMDpbMSw3MV0sMzE6WzEsNzJdLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OlsxLDUzXSwzNzpbMSw1NF0sMzg6WzEsNTVdLDM5OjIzLDQ0OjYzLDQ1OlsxLDQ1XSw0NjpbMSw0Nl0sNDc6WzEsMjldLDUwOjMwLDUxOlsxLDYwXSw1MjpbMSw2MV0sNTg6NDcsNTk6NDgsNjE6MzYsNjM6MjUsNjQ6MjYsNjU6MjcsNzY6WzEsNzBdLDc5OlsxLDQzXSw4MzpbMSwyOF0sODg6WzEsNThdLDg5OlsxLDU5XSw5MDpbMSw1N10sOTY6WzEsMzhdLDEwMDpbMSw0NF0sMTAxOlsxLDU2XSwxMDM6MzksMTA0OlsxLDY1XSwxMDY6WzEsNjZdLDEwNzo0MCwxMDg6WzEsNjddLDEwOTo0MSwxMTA6WzEsNjhdLDExMTo2OSwxMTk6WzEsNDJdLDEyNDozNywxMjU6WzEsNjRdLDEyNzpbMSwzMV0sMTI4OlsxLDMyXSwxMjk6WzEsMzNdLDEzMDpbMSwzNF0sMTMxOlsxLDM1XX0sezg6MzMwLDk6MTE4LDEwOjIwLDExOjIxLDEyOlsxLDIyXSwxMzo4LDE0OjksMTU6MTAsMTY6MTEsMTc6MTIsMTg6MTMsMTk6MTQsMjA6MTUsMjE6MTYsMjI6MTcsMjM6MTgsMjQ6MTksMjc6NjIsMjg6WzEsNzNdLDI5OjQ5LDMwOlsxLDcxXSwzMTpbMSw3Ml0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6WzEsNTNdLDM3OlsxLDU0XSwzODpbMSw1NV0sMzk6MjMsNDQ6NjMsNDU6WzEsNDVdLDQ2OlsxLDQ2XSw0NzpbMSwyOV0sNTA6MzAsNTE6WzEsNjBdLDUyOlsxLDYxXSw1ODo0Nyw1OTo0OCw2MTozNiw2MzoyNSw2NDoyNiw2NToyNyw3NjpbMSw3MF0sNzk6WzEsNDNdLDgzOlsxLDI4XSw4ODpbMSw1OF0sODk6WzEsNTldLDkwOlsxLDU3XSw5NjpbMSwzOF0sMTAwOlsxLDQ0XSwxMDE6WzEsNTZdLDEwMzozOSwxMDQ6WzEsNjVdLDEwNjpbMSw2Nl0sMTA3OjQwLDEwODpbMSw2N10sMTA5OjQxLDExMDpbMSw2OF0sMTExOjY5LDExOTpbMSw0Ml0sMTI0OjM3LDEyNTpbMSw2NF0sMTI3OlsxLDMxXSwxMjg6WzEsMzJdLDEyOTpbMSwzM10sMTMwOlsxLDM0XSwxMzE6WzEsMzVdfSx7NjpbMSwyODNdLDI1OlsxLDI4NF0sMjY6WzEsMzMxXX0sezY6WzIsNDFdLDI1OlsyLDQxXSwyNjpbMiw0MV0sNTQ6WzIsNDFdLDc4OlsyLDQxXX0sezY6WzIsNTldLDI1OlsyLDU5XSwyNjpbMiw1OV0sNDk6WzIsNTldLDU0OlsyLDU5XX0sezE6WzIsMTc0XSw2OlsyLDE3NF0sMjU6WzIsMTc0XSwyNjpbMiwxNzRdLDQ5OlsyLDE3NF0sNTQ6WzIsMTc0XSw1NzpbMiwxNzRdLDczOlsyLDE3NF0sNzg6WzIsMTc0XSw4NjpbMiwxNzRdLDkxOlsyLDE3NF0sOTM6WzIsMTc0XSwxMDI6WzIsMTc0XSwxMDQ6WzIsMTc0XSwxMDU6WzIsMTc0XSwxMDY6WzIsMTc0XSwxMTA6WzIsMTc0XSwxMTg6WzIsMTc0XSwxMjY6WzIsMTc0XSwxMjg6WzIsMTc0XSwxMjk6WzIsMTc0XSwxMzI6WzIsMTc0XSwxMzM6WzIsMTc0XSwxMzQ6WzIsMTc0XSwxMzU6WzIsMTc0XSwxMzY6WzIsMTc0XSwxMzc6WzIsMTc0XX0sezY6WzIsMTI4XSwyNTpbMiwxMjhdLDI2OlsyLDEyOF0sNTQ6WzIsMTI4XSw4NjpbMiwxMjhdLDkxOlsyLDEyOF19LHsxOlsyLDE3MV0sNjpbMiwxNzFdLDI1OlsyLDE3MV0sMjY6WzIsMTcxXSw0OTpbMiwxNzFdLDU0OlsyLDE3MV0sNTc6WzIsMTcxXSw3MzpbMiwxNzFdLDc4OlsyLDE3MV0sODY6WzIsMTcxXSw5MTpbMiwxNzFdLDkzOlsyLDE3MV0sMTAyOlsyLDE3MV0sMTAzOjg3LDEwNDpbMiwxNzFdLDEwNTpbMiwxNzFdLDEwNjpbMiwxNzFdLDEwOTo4OCwxMTA6WzIsMTcxXSwxMTE6NjksMTE4OlsyLDE3MV0sMTI2OlsyLDE3MV0sMTI4OlsxLDgwXSwxMjk6WzEsNzldLDEzMjpbMSw3OF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdLDEzNTpbMSw4M10sMTM2OlsxLDg0XSwxMzc6WzEsODVdfSx7MTpbMiwxNzJdLDY6WzIsMTcyXSwyNTpbMiwxNzJdLDI2OlsyLDE3Ml0sNDk6WzIsMTcyXSw1NDpbMiwxNzJdLDU3OlsyLDE3Ml0sNzM6WzIsMTcyXSw3ODpbMiwxNzJdLDg2OlsyLDE3Ml0sOTE6WzIsMTcyXSw5MzpbMiwxNzJdLDEwMjpbMiwxNzJdLDEwMzo4NywxMDQ6WzIsMTcyXSwxMDU6WzIsMTcyXSwxMDY6WzIsMTcyXSwxMDk6ODgsMTEwOlsyLDE3Ml0sMTExOjY5LDExODpbMiwxNzJdLDEyNjpbMiwxNzJdLDEyODpbMSw4MF0sMTI5OlsxLDc5XSwxMzI6WzEsNzhdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXSwxMzU6WzEsODNdLDEzNjpbMSw4NF0sMTM3OlsxLDg1XX0sezY6WzIsOTVdLDI1OlsyLDk1XSwyNjpbMiw5NV0sNTQ6WzIsOTVdLDc4OlsyLDk1XX1dLGRlZmF1bHRBY3Rpb25zOns2MDpbMiw1MV0sNjE6WzIsNTJdLDc1OlsyLDNdLDk0OlsyLDEwOV0sMTkxOlsyLDg5XX0scGFyc2VFcnJvcjpmdW5jdGlvbihzdHIsaGFzaCl7dmFyIGU9RXJyb3Ioc3RyKTtcXG50aHJvdyBlLmxvY2F0aW9uPWhhc2gubG9jLGV9LHBhcnNlOmZ1bmN0aW9uKGlucHV0KXtmdW5jdGlvbiBsZXgoKXt2YXIgdG9rZW47cmV0dXJuIHRva2VuPXNlbGYubGV4ZXIubGV4KCl8fDEsXFxcIm51bWJlclxcXCIhPXR5cGVvZiB0b2tlbiYmKHRva2VuPXNlbGYuc3ltYm9sc19bdG9rZW5dfHx0b2tlbiksdG9rZW59dmFyIHNlbGY9dGhpcyxzdGFjaz1bMF0sdnN0YWNrPVtudWxsXSxsc3RhY2s9W10sdGFibGU9dGhpcy50YWJsZSx5eXRleHQ9XFxcIlxcXCIseXlsaW5lbm89MCx5eWxlbmc9MCxyZWNvdmVyaW5nPTA7dGhpcy5sZXhlci5zZXRJbnB1dChpbnB1dCksdGhpcy5sZXhlci55eT10aGlzLnl5LHRoaXMueXkubGV4ZXI9dGhpcy5sZXhlcix0aGlzLnl5LnBhcnNlcj10aGlzLHRoaXMubGV4ZXIueXlsbG9jPT09dm9pZCAwJiYodGhpcy5sZXhlci55eWxsb2M9e30pO3ZhciB5eWxvYz10aGlzLmxleGVyLnl5bGxvYztsc3RhY2sucHVzaCh5eWxvYyk7dmFyIHJhbmdlcz10aGlzLmxleGVyLm9wdGlvbnMmJnRoaXMubGV4ZXIub3B0aW9ucy5yYW5nZXM7XFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIHRoaXMueXkucGFyc2VFcnJvciYmKHRoaXMucGFyc2VFcnJvcj10aGlzLnl5LnBhcnNlRXJyb3IpO2Zvcih2YXIgc3ltYm9sLHByZUVycm9yU3ltYm9sLHN0YXRlLGFjdGlvbixyLHAsbGVuLG5ld1N0YXRlLGV4cGVjdGVkLHl5dmFsPXt9Ozspe2lmKHN0YXRlPXN0YWNrW3N0YWNrLmxlbmd0aC0xXSx0aGlzLmRlZmF1bHRBY3Rpb25zW3N0YXRlXT9hY3Rpb249dGhpcy5kZWZhdWx0QWN0aW9uc1tzdGF0ZV06KChudWxsPT09c3ltYm9sfHxzeW1ib2w9PT12b2lkIDApJiYoc3ltYm9sPWxleCgpKSxhY3Rpb249dGFibGVbc3RhdGVdJiZ0YWJsZVtzdGF0ZV1bc3ltYm9sXSksYWN0aW9uPT09dm9pZCAwfHwhYWN0aW9uLmxlbmd0aHx8IWFjdGlvblswXSl7dmFyIGVyclN0cj1cXFwiXFxcIjtpZighcmVjb3ZlcmluZyl7ZXhwZWN0ZWQ9W107Zm9yKHAgaW4gdGFibGVbc3RhdGVdKXRoaXMudGVybWluYWxzX1twXSYmcD4yJiZleHBlY3RlZC5wdXNoKFxcXCInXFxcIit0aGlzLnRlcm1pbmFsc19bcF0rXFxcIidcXFwiKTtlcnJTdHI9dGhpcy5sZXhlci5zaG93UG9zaXRpb24/dGhpcy5sZXhlci5zaG93UG9zaXRpb24oKStcXFwiXFxcXG5FeHBlY3RpbmcgXFxcIitleHBlY3RlZC5qb2luKFxcXCIsIFxcXCIpK1xcXCIsIGdvdCAnXFxcIisodGhpcy50ZXJtaW5hbHNfW3N5bWJvbF18fHN5bWJvbCkrXFxcIidcXFwiOlxcXCJVbmV4cGVjdGVkIFxcXCIrKDE9PXN5bWJvbD9cXFwiZW5kIG9mIGlucHV0XFxcIjpcXFwiJ1xcXCIrKHRoaXMudGVybWluYWxzX1tzeW1ib2xdfHxzeW1ib2wpK1xcXCInXFxcIiksdGhpcy5wYXJzZUVycm9yKGVyclN0cix7dGV4dDp0aGlzLmxleGVyLm1hdGNoLHRva2VuOnRoaXMudGVybWluYWxzX1tzeW1ib2xdfHxzeW1ib2wsbGluZTp0aGlzLmxleGVyLnl5bGluZW5vLGxvYzp5eWxvYyxleHBlY3RlZDpleHBlY3RlZH0pfX1pZihhY3Rpb25bMF1pbnN0YW5jZW9mIEFycmF5JiZhY3Rpb24ubGVuZ3RoPjEpdGhyb3cgRXJyb3IoXFxcIlBhcnNlIEVycm9yOiBtdWx0aXBsZSBhY3Rpb25zIHBvc3NpYmxlIGF0IHN0YXRlOiBcXFwiK3N0YXRlK1xcXCIsIHRva2VuOiBcXFwiK3N5bWJvbCk7c3dpdGNoKGFjdGlvblswXSl7Y2FzZSAxOnN0YWNrLnB1c2goc3ltYm9sKSx2c3RhY2sucHVzaCh0aGlzLmxleGVyLnl5dGV4dCksbHN0YWNrLnB1c2godGhpcy5sZXhlci55eWxsb2MpLHN0YWNrLnB1c2goYWN0aW9uWzFdKSxzeW1ib2w9bnVsbCxwcmVFcnJvclN5bWJvbD8oc3ltYm9sPXByZUVycm9yU3ltYm9sLHByZUVycm9yU3ltYm9sPW51bGwpOih5eWxlbmc9dGhpcy5sZXhlci55eWxlbmcseXl0ZXh0PXRoaXMubGV4ZXIueXl0ZXh0LHl5bGluZW5vPXRoaXMubGV4ZXIueXlsaW5lbm8seXlsb2M9dGhpcy5sZXhlci55eWxsb2MscmVjb3ZlcmluZz4wJiZyZWNvdmVyaW5nLS0pO2JyZWFrO2Nhc2UgMjppZihsZW49dGhpcy5wcm9kdWN0aW9uc19bYWN0aW9uWzFdXVsxXSx5eXZhbC4kPXZzdGFja1t2c3RhY2subGVuZ3RoLWxlbl0seXl2YWwuXyQ9e2ZpcnN0X2xpbmU6bHN0YWNrW2xzdGFjay5sZW5ndGgtKGxlbnx8MSldLmZpcnN0X2xpbmUsbGFzdF9saW5lOmxzdGFja1tsc3RhY2subGVuZ3RoLTFdLmxhc3RfbGluZSxmaXJzdF9jb2x1bW46bHN0YWNrW2xzdGFjay5sZW5ndGgtKGxlbnx8MSldLmZpcnN0X2NvbHVtbixsYXN0X2NvbHVtbjpsc3RhY2tbbHN0YWNrLmxlbmd0aC0xXS5sYXN0X2NvbHVtbn0scmFuZ2VzJiYoeXl2YWwuXyQucmFuZ2U9W2xzdGFja1tsc3RhY2subGVuZ3RoLShsZW58fDEpXS5yYW5nZVswXSxsc3RhY2tbbHN0YWNrLmxlbmd0aC0xXS5yYW5nZVsxXV0pLHI9dGhpcy5wZXJmb3JtQWN0aW9uLmNhbGwoeXl2YWwseXl0ZXh0LHl5bGVuZyx5eWxpbmVubyx0aGlzLnl5LGFjdGlvblsxXSx2c3RhY2ssbHN0YWNrKSxyIT09dm9pZCAwKXJldHVybiByO2xlbiYmKHN0YWNrPXN0YWNrLnNsaWNlKDAsMiotMSpsZW4pLHZzdGFjaz12c3RhY2suc2xpY2UoMCwtMSpsZW4pLGxzdGFjaz1sc3RhY2suc2xpY2UoMCwtMSpsZW4pKSxzdGFjay5wdXNoKHRoaXMucHJvZHVjdGlvbnNfW2FjdGlvblsxXV1bMF0pLHZzdGFjay5wdXNoKHl5dmFsLiQpLGxzdGFjay5wdXNoKHl5dmFsLl8kKSxuZXdTdGF0ZT10YWJsZVtzdGFja1tzdGFjay5sZW5ndGgtMl1dW3N0YWNrW3N0YWNrLmxlbmd0aC0xXV0sc3RhY2sucHVzaChuZXdTdGF0ZSk7YnJlYWs7Y2FzZSAzOnJldHVybiEwfX1yZXR1cm4hMH19O1BhcnNlci5wcm90b3R5cGU9cGFyc2VyLHBhcnNlci5QYXJzZXI9UGFyc2VyLG1vZHVsZS5leHBvcnRzPW5ldyBQYXJzZXJ9KSxhY2UuZGVmaW5lKFxcXCJhY2UvbW9kZS9jb2ZmZWUvbm9kZXNcXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiLFxcXCJhY2UvbW9kZS9jb2ZmZWUvc2NvcGVcXFwiLFxcXCJhY2UvbW9kZS9jb2ZmZWUvbGV4ZXJcXFwiLFxcXCJhY2UvbW9kZS9jb2ZmZWUvaGVscGVyc1xcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe3ZhciBBY2Nlc3MsQXJyLEFzc2lnbixCYXNlLEJsb2NrLENhbGwsQ2xhc3MsQ2xvc3VyZSxDb2RlLENvZGVGcmFnbWVudCxDb21tZW50LEV4aXN0ZW5jZSxFeHRlbmRzLEZvcixJREVOVElGSUVSLElERU5USUZJRVJfU1RSLElTX1NUUklORyxJZixJbixJbmRleCxMRVZFTF9BQ0NFU1MsTEVWRUxfQ09ORCxMRVZFTF9MSVNULExFVkVMX09QLExFVkVMX1BBUkVOLExFVkVMX1RPUCxMaXRlcmFsLE1FVEhPRF9ERUYsTkVHQVRFLE5PLE9iaixPcCxQYXJhbSxQYXJlbnMsUkVTRVJWRUQsUmFuZ2UsUmV0dXJuLFNJTVBMRU5VTSxTVFJJQ1RfUFJPU0NSSUJFRCxTY29wZSxTbGljZSxTcGxhdCxTd2l0Y2gsVEFCLFRISVMsVGhyb3csVHJ5LFVUSUxJVElFUyxWYWx1ZSxXaGlsZSxZRVMsYWRkTG9jYXRpb25EYXRhRm4sY29tcGFjdCxkZWwsZW5kcyxleHRlbmQsZmxhdHRlbixmcmFnbWVudHNUb1RleHQsbGFzdCxsb2NhdGlvbkRhdGFUb1N0cmluZyxtZXJnZSxtdWx0aWRlbnQsc29tZSxzdGFydHMsdGhyb3dTeW50YXhFcnJvcix1bmZvbGRTb2FrLHV0aWxpdHksX3JlZixfcmVmMSxfcmVmMixfcmVmMyxfX2hhc1Byb3A9e30uaGFzT3duUHJvcGVydHksX19leHRlbmRzPWZ1bmN0aW9uKGNoaWxkLHBhcmVudCl7ZnVuY3Rpb24gY3Rvcigpe3RoaXMuY29uc3RydWN0b3I9Y2hpbGR9Zm9yKHZhciBrZXkgaW4gcGFyZW50KV9faGFzUHJvcC5jYWxsKHBhcmVudCxrZXkpJiYoY2hpbGRba2V5XT1wYXJlbnRba2V5XSk7cmV0dXJuIGN0b3IucHJvdG90eXBlPXBhcmVudC5wcm90b3R5cGUsY2hpbGQucHJvdG90eXBlPW5ldyBjdG9yLGNoaWxkLl9fc3VwZXJfXz1wYXJlbnQucHJvdG90eXBlLGNoaWxkfSxfX2luZGV4T2Y9W10uaW5kZXhPZnx8ZnVuY3Rpb24oaXRlbSl7Zm9yKHZhciBpPTAsbD10aGlzLmxlbmd0aDtsPmk7aSsrKWlmKGkgaW4gdGhpcyYmdGhpc1tpXT09PWl0ZW0pcmV0dXJuIGk7cmV0dXJuLTF9LF9fc2xpY2U9W10uc2xpY2U7RXJyb3Iuc3RhY2tUcmFjZUxpbWl0PTEvMCxTY29wZT1hY2VxdWlyZShcXFwiLi9zY29wZVxcXCIpLlNjb3BlLF9yZWY9YWNlcXVpcmUoXFxcIi4vbGV4ZXJcXFwiKSxSRVNFUlZFRD1fcmVmLlJFU0VSVkVELFNUUklDVF9QUk9TQ1JJQkVEPV9yZWYuU1RSSUNUX1BST1NDUklCRUQsX3JlZjE9YWNlcXVpcmUoXFxcIi4vaGVscGVyc1xcXCIpLGNvbXBhY3Q9X3JlZjEuY29tcGFjdCxmbGF0dGVuPV9yZWYxLmZsYXR0ZW4sZXh0ZW5kPV9yZWYxLmV4dGVuZCxtZXJnZT1fcmVmMS5tZXJnZSxkZWw9X3JlZjEuZGVsLHN0YXJ0cz1fcmVmMS5zdGFydHMsZW5kcz1fcmVmMS5lbmRzLGxhc3Q9X3JlZjEubGFzdCxzb21lPV9yZWYxLnNvbWUsYWRkTG9jYXRpb25EYXRhRm49X3JlZjEuYWRkTG9jYXRpb25EYXRhRm4sbG9jYXRpb25EYXRhVG9TdHJpbmc9X3JlZjEubG9jYXRpb25EYXRhVG9TdHJpbmcsdGhyb3dTeW50YXhFcnJvcj1fcmVmMS50aHJvd1N5bnRheEVycm9yLGV4cG9ydHMuZXh0ZW5kPWV4dGVuZCxleHBvcnRzLmFkZExvY2F0aW9uRGF0YUZuPWFkZExvY2F0aW9uRGF0YUZuLFlFUz1mdW5jdGlvbigpe3JldHVybiEwfSxOTz1mdW5jdGlvbigpe3JldHVybiExfSxUSElTPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LE5FR0FURT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5lZ2F0ZWQ9IXRoaXMubmVnYXRlZCx0aGlzfSxleHBvcnRzLkNvZGVGcmFnbWVudD1Db2RlRnJhZ21lbnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBDb2RlRnJhZ21lbnQocGFyZW50LGNvZGUpe3ZhciBfcmVmMjt0aGlzLmNvZGU9XFxcIlxcXCIrY29kZSx0aGlzLmxvY2F0aW9uRGF0YT1udWxsIT1wYXJlbnQ/cGFyZW50LmxvY2F0aW9uRGF0YTp2b2lkIDAsdGhpcy50eXBlPShudWxsIT1wYXJlbnQ/bnVsbCE9KF9yZWYyPXBhcmVudC5jb25zdHJ1Y3Rvcik/X3JlZjIubmFtZTp2b2lkIDA6dm9pZCAwKXx8XFxcInVua25vd25cXFwifXJldHVybiBDb2RlRnJhZ21lbnQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXFxcIlxcXCIrdGhpcy5jb2RlK1t0aGlzLmxvY2F0aW9uRGF0YT9cXFwiOiBcXFwiK2xvY2F0aW9uRGF0YVRvU3RyaW5nKHRoaXMubG9jYXRpb25EYXRhKTp2b2lkIDBdfSxDb2RlRnJhZ21lbnR9KCksZnJhZ21lbnRzVG9UZXh0PWZ1bmN0aW9uKGZyYWdtZW50cyl7dmFyIGZyYWdtZW50O3JldHVybiBmdW5jdGlvbigpe3ZhciBfaSxfbGVuLF9yZXN1bHRzO2ZvcihfcmVzdWx0cz1bXSxfaT0wLF9sZW49ZnJhZ21lbnRzLmxlbmd0aDtfbGVuPl9pO19pKyspZnJhZ21lbnQ9ZnJhZ21lbnRzW19pXSxfcmVzdWx0cy5wdXNoKGZyYWdtZW50LmNvZGUpO3JldHVybiBfcmVzdWx0c30oKS5qb2luKFxcXCJcXFwiKX0sZXhwb3J0cy5CYXNlPUJhc2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBCYXNlKCl7fXJldHVybiBCYXNlLnByb3RvdHlwZS5jb21waWxlPWZ1bmN0aW9uKG8sbHZsKXtyZXR1cm4gZnJhZ21lbnRzVG9UZXh0KHRoaXMuY29tcGlsZVRvRnJhZ21lbnRzKG8sbHZsKSl9LEJhc2UucHJvdG90eXBlLmNvbXBpbGVUb0ZyYWdtZW50cz1mdW5jdGlvbihvLGx2bCl7dmFyIG5vZGU7cmV0dXJuIG89ZXh0ZW5kKHt9LG8pLGx2bCYmKG8ubGV2ZWw9bHZsKSxub2RlPXRoaXMudW5mb2xkU29hayhvKXx8dGhpcyxub2RlLnRhYj1vLmluZGVudCxvLmxldmVsIT09TEVWRUxfVE9QJiZub2RlLmlzU3RhdGVtZW50KG8pP25vZGUuY29tcGlsZUNsb3N1cmUobyk6bm9kZS5jb21waWxlTm9kZShvKX0sQmFzZS5wcm90b3R5cGUuY29tcGlsZUNsb3N1cmU9ZnVuY3Rpb24obyl7dmFyIGp1bXBOb2RlO3JldHVybihqdW1wTm9kZT10aGlzLmp1bXBzKCkpJiZqdW1wTm9kZS5lcnJvcihcXFwiY2Fubm90IHVzZSBhIHB1cmUgc3RhdGVtZW50IGluIGFuIGV4cHJlc3Npb25cXFwiKSxvLnNoYXJlZFNjb3BlPSEwLENsb3N1cmUud3JhcCh0aGlzKS5jb21waWxlTm9kZShvKX0sQmFzZS5wcm90b3R5cGUuY2FjaGU9ZnVuY3Rpb24obyxsZXZlbCxyZXVzZWQpe3ZhciByZWYsc3ViO3JldHVybiB0aGlzLmlzQ29tcGxleCgpPyhyZWY9bmV3IExpdGVyYWwocmV1c2VkfHxvLnNjb3BlLmZyZWVWYXJpYWJsZShcXFwicmVmXFxcIikpLHN1Yj1uZXcgQXNzaWduKHJlZix0aGlzKSxsZXZlbD9bc3ViLmNvbXBpbGVUb0ZyYWdtZW50cyhvLGxldmVsKSxbdGhpcy5tYWtlQ29kZShyZWYudmFsdWUpXV06W3N1YixyZWZdKToocmVmPWxldmVsP3RoaXMuY29tcGlsZVRvRnJhZ21lbnRzKG8sbGV2ZWwpOnRoaXMsW3JlZixyZWZdKX0sQmFzZS5wcm90b3R5cGUuY2FjaGVUb0NvZGVGcmFnbWVudHM9ZnVuY3Rpb24oY2FjaGVWYWx1ZXMpe3JldHVybltmcmFnbWVudHNUb1RleHQoY2FjaGVWYWx1ZXNbMF0pLGZyYWdtZW50c1RvVGV4dChjYWNoZVZhbHVlc1sxXSldfSxCYXNlLnByb3RvdHlwZS5tYWtlUmV0dXJuPWZ1bmN0aW9uKHJlcyl7dmFyIG1lO3JldHVybiBtZT10aGlzLnVud3JhcEFsbCgpLHJlcz9uZXcgQ2FsbChuZXcgTGl0ZXJhbChcXFwiXFxcIityZXMrXFxcIi5wdXNoXFxcIiksW21lXSk6bmV3IFJldHVybihtZSl9LEJhc2UucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKHByZWQpe3ZhciBub2RlO3JldHVybiBub2RlPXZvaWQgMCx0aGlzLnRyYXZlcnNlQ2hpbGRyZW4oITEsZnVuY3Rpb24obil7cmV0dXJuIHByZWQobik/KG5vZGU9biwhMSk6dm9pZCAwfSksbm9kZX0sQmFzZS5wcm90b3R5cGUubGFzdE5vbkNvbW1lbnQ9ZnVuY3Rpb24obGlzdCl7dmFyIGk7Zm9yKGk9bGlzdC5sZW5ndGg7aS0tOylpZighKGxpc3RbaV1pbnN0YW5jZW9mIENvbW1lbnQpKXJldHVybiBsaXN0W2ldO3JldHVybiBudWxsfSxCYXNlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbihpZHQsbmFtZSl7dmFyIHRyZWU7cmV0dXJuIG51bGw9PWlkdCYmKGlkdD1cXFwiXFxcIiksbnVsbD09bmFtZSYmKG5hbWU9dGhpcy5jb25zdHJ1Y3Rvci5uYW1lKSx0cmVlPVxcXCJcXFxcblxcXCIraWR0K25hbWUsdGhpcy5zb2FrJiYodHJlZSs9XFxcIj9cXFwiKSx0aGlzLmVhY2hDaGlsZChmdW5jdGlvbihub2RlKXtyZXR1cm4gdHJlZSs9bm9kZS50b1N0cmluZyhpZHQrVEFCKX0pLHRyZWV9LEJhc2UucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbihmdW5jKXt2YXIgYXR0cixjaGlsZCxfaSxfaixfbGVuLF9sZW4xLF9yZWYyLF9yZWYzO2lmKCF0aGlzLmNoaWxkcmVuKXJldHVybiB0aGlzO2ZvcihfcmVmMj10aGlzLmNoaWxkcmVuLF9pPTAsX2xlbj1fcmVmMi5sZW5ndGg7X2xlbj5faTtfaSsrKWlmKGF0dHI9X3JlZjJbX2ldLHRoaXNbYXR0cl0pZm9yKF9yZWYzPWZsYXR0ZW4oW3RoaXNbYXR0cl1dKSxfaj0wLF9sZW4xPV9yZWYzLmxlbmd0aDtfbGVuMT5fajtfaisrKWlmKGNoaWxkPV9yZWYzW19qXSxmdW5jKGNoaWxkKT09PSExKXJldHVybiB0aGlzO3JldHVybiB0aGlzfSxCYXNlLnByb3RvdHlwZS50cmF2ZXJzZUNoaWxkcmVuPWZ1bmN0aW9uKGNyb3NzU2NvcGUsZnVuYyl7cmV0dXJuIHRoaXMuZWFjaENoaWxkKGZ1bmN0aW9uKGNoaWxkKXt2YXIgcmVjdXI7cmV0dXJuIHJlY3VyPWZ1bmMoY2hpbGQpLHJlY3VyIT09ITE/Y2hpbGQudHJhdmVyc2VDaGlsZHJlbihjcm9zc1Njb3BlLGZ1bmMpOnZvaWQgMH0pfSxCYXNlLnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE9wKFxcXCIhXFxcIix0aGlzKX0sQmFzZS5wcm90b3R5cGUudW53cmFwQWxsPWZ1bmN0aW9uKCl7dmFyIG5vZGU7Zm9yKG5vZGU9dGhpcztub2RlIT09KG5vZGU9bm9kZS51bndyYXAoKSk7KTtyZXR1cm4gbm9kZX0sQmFzZS5wcm90b3R5cGUuY2hpbGRyZW49W10sQmFzZS5wcm90b3R5cGUuaXNTdGF0ZW1lbnQ9Tk8sQmFzZS5wcm90b3R5cGUuanVtcHM9Tk8sQmFzZS5wcm90b3R5cGUuaXNDb21wbGV4PVlFUyxCYXNlLnByb3RvdHlwZS5pc0NoYWluYWJsZT1OTyxCYXNlLnByb3RvdHlwZS5pc0Fzc2lnbmFibGU9Tk8sQmFzZS5wcm90b3R5cGUudW53cmFwPVRISVMsQmFzZS5wcm90b3R5cGUudW5mb2xkU29haz1OTyxCYXNlLnByb3RvdHlwZS5hc3NpZ25zPU5PLEJhc2UucHJvdG90eXBlLnVwZGF0ZUxvY2F0aW9uRGF0YUlmTWlzc2luZz1mdW5jdGlvbihsb2NhdGlvbkRhdGEpe3JldHVybiB0aGlzLmxvY2F0aW9uRGF0YXx8KHRoaXMubG9jYXRpb25EYXRhPWxvY2F0aW9uRGF0YSksdGhpcy5lYWNoQ2hpbGQoZnVuY3Rpb24oY2hpbGQpe3JldHVybiBjaGlsZC51cGRhdGVMb2NhdGlvbkRhdGFJZk1pc3NpbmcobG9jYXRpb25EYXRhKX0pfSxCYXNlLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihtZXNzYWdlKXtyZXR1cm4gdGhyb3dTeW50YXhFcnJvcihtZXNzYWdlLHRoaXMubG9jYXRpb25EYXRhKX0sQmFzZS5wcm90b3R5cGUubWFrZUNvZGU9ZnVuY3Rpb24oY29kZSl7cmV0dXJuIG5ldyBDb2RlRnJhZ21lbnQodGhpcyxjb2RlKX0sQmFzZS5wcm90b3R5cGUud3JhcEluQnJhY2VzPWZ1bmN0aW9uKGZyYWdtZW50cyl7cmV0dXJuW10uY29uY2F0KHRoaXMubWFrZUNvZGUoXFxcIihcXFwiKSxmcmFnbWVudHMsdGhpcy5tYWtlQ29kZShcXFwiKVxcXCIpKX0sQmFzZS5wcm90b3R5cGUuam9pbkZyYWdtZW50QXJyYXlzPWZ1bmN0aW9uKGZyYWdtZW50c0xpc3Qsam9pblN0cil7dmFyIGFuc3dlcixmcmFnbWVudHMsaSxfaSxfbGVuO2ZvcihhbnN3ZXI9W10saT1faT0wLF9sZW49ZnJhZ21lbnRzTGlzdC5sZW5ndGg7X2xlbj5faTtpPSsrX2kpZnJhZ21lbnRzPWZyYWdtZW50c0xpc3RbaV0saSYmYW5zd2VyLnB1c2godGhpcy5tYWtlQ29kZShqb2luU3RyKSksYW5zd2VyPWFuc3dlci5jb25jYXQoZnJhZ21lbnRzKTtyZXR1cm4gYW5zd2VyfSxCYXNlfSgpLGV4cG9ydHMuQmxvY2s9QmxvY2s9ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBCbG9jayhub2Rlcyl7dGhpcy5leHByZXNzaW9ucz1jb21wYWN0KGZsYXR0ZW4obm9kZXN8fFtdKSl9cmV0dXJuIF9fZXh0ZW5kcyhCbG9jayxfc3VwZXIpLEJsb2NrLnByb3RvdHlwZS5jaGlsZHJlbj1bXFxcImV4cHJlc3Npb25zXFxcIl0sQmxvY2sucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24obm9kZSl7cmV0dXJuIHRoaXMuZXhwcmVzc2lvbnMucHVzaChub2RlKSx0aGlzfSxCbG9jay5wcm90b3R5cGUucG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXhwcmVzc2lvbnMucG9wKCl9LEJsb2NrLnByb3RvdHlwZS51bnNoaWZ0PWZ1bmN0aW9uKG5vZGUpe3JldHVybiB0aGlzLmV4cHJlc3Npb25zLnVuc2hpZnQobm9kZSksdGhpc30sQmxvY2sucHJvdG90eXBlLnVud3JhcD1mdW5jdGlvbigpe3JldHVybiAxPT09dGhpcy5leHByZXNzaW9ucy5sZW5ndGg/dGhpcy5leHByZXNzaW9uc1swXTp0aGlzfSxCbG9jay5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiF0aGlzLmV4cHJlc3Npb25zLmxlbmd0aH0sQmxvY2sucHJvdG90eXBlLmlzU3RhdGVtZW50PWZ1bmN0aW9uKG8pe3ZhciBleHAsX2ksX2xlbixfcmVmMjtmb3IoX3JlZjI9dGhpcy5leHByZXNzaW9ucyxfaT0wLF9sZW49X3JlZjIubGVuZ3RoO19sZW4+X2k7X2krKylpZihleHA9X3JlZjJbX2ldLGV4cC5pc1N0YXRlbWVudChvKSlyZXR1cm4hMDtyZXR1cm4hMX0sQmxvY2sucHJvdG90eXBlLmp1bXBzPWZ1bmN0aW9uKG8pe3ZhciBleHAsX2ksX2xlbixfcmVmMjtmb3IoX3JlZjI9dGhpcy5leHByZXNzaW9ucyxfaT0wLF9sZW49X3JlZjIubGVuZ3RoO19sZW4+X2k7X2krKylpZihleHA9X3JlZjJbX2ldLGV4cC5qdW1wcyhvKSlyZXR1cm4gZXhwfSxCbG9jay5wcm90b3R5cGUubWFrZVJldHVybj1mdW5jdGlvbihyZXMpe3ZhciBleHByLGxlbjtmb3IobGVuPXRoaXMuZXhwcmVzc2lvbnMubGVuZ3RoO2xlbi0tOylpZihleHByPXRoaXMuZXhwcmVzc2lvbnNbbGVuXSwhKGV4cHIgaW5zdGFuY2VvZiBDb21tZW50KSl7dGhpcy5leHByZXNzaW9uc1tsZW5dPWV4cHIubWFrZVJldHVybihyZXMpLGV4cHIgaW5zdGFuY2VvZiBSZXR1cm4mJiFleHByLmV4cHJlc3Npb24mJnRoaXMuZXhwcmVzc2lvbnMuc3BsaWNlKGxlbiwxKTticmVha31yZXR1cm4gdGhpc30sQmxvY2sucHJvdG90eXBlLmNvbXBpbGVUb0ZyYWdtZW50cz1mdW5jdGlvbihvLGxldmVsKXtyZXR1cm4gbnVsbD09byYmKG89e30pLG8uc2NvcGU/QmxvY2suX19zdXBlcl9fLmNvbXBpbGVUb0ZyYWdtZW50cy5jYWxsKHRoaXMsbyxsZXZlbCk6dGhpcy5jb21waWxlUm9vdChvKX0sQmxvY2sucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKG8pe3ZhciBhbnN3ZXIsY29tcGlsZWROb2RlcyxmcmFnbWVudHMsaW5kZXgsbm9kZSx0b3AsX2ksX2xlbixfcmVmMjtmb3IodGhpcy50YWI9by5pbmRlbnQsdG9wPW8ubGV2ZWw9PT1MRVZFTF9UT1AsY29tcGlsZWROb2Rlcz1bXSxfcmVmMj10aGlzLmV4cHJlc3Npb25zLGluZGV4PV9pPTAsX2xlbj1fcmVmMi5sZW5ndGg7X2xlbj5faTtpbmRleD0rK19pKW5vZGU9X3JlZjJbaW5kZXhdLG5vZGU9bm9kZS51bndyYXBBbGwoKSxub2RlPW5vZGUudW5mb2xkU29hayhvKXx8bm9kZSxub2RlIGluc3RhbmNlb2YgQmxvY2s/Y29tcGlsZWROb2Rlcy5wdXNoKG5vZGUuY29tcGlsZU5vZGUobykpOnRvcD8obm9kZS5mcm9udD0hMCxmcmFnbWVudHM9bm9kZS5jb21waWxlVG9GcmFnbWVudHMobyksbm9kZS5pc1N0YXRlbWVudChvKXx8KGZyYWdtZW50cy51bnNoaWZ0KHRoaXMubWFrZUNvZGUoXFxcIlxcXCIrdGhpcy50YWIpKSxmcmFnbWVudHMucHVzaCh0aGlzLm1ha2VDb2RlKFxcXCI7XFxcIikpKSxjb21waWxlZE5vZGVzLnB1c2goZnJhZ21lbnRzKSk6Y29tcGlsZWROb2Rlcy5wdXNoKG5vZGUuY29tcGlsZVRvRnJhZ21lbnRzKG8sTEVWRUxfTElTVCkpO3JldHVybiB0b3A/dGhpcy5zcGFjZWQ/W10uY29uY2F0KHRoaXMuam9pbkZyYWdtZW50QXJyYXlzKGNvbXBpbGVkTm9kZXMsXFxcIlxcXFxuXFxcXG5cXFwiKSx0aGlzLm1ha2VDb2RlKFxcXCJcXFxcblxcXCIpKTp0aGlzLmpvaW5GcmFnbWVudEFycmF5cyhjb21waWxlZE5vZGVzLFxcXCJcXFxcblxcXCIpOihhbnN3ZXI9Y29tcGlsZWROb2Rlcy5sZW5ndGg/dGhpcy5qb2luRnJhZ21lbnRBcnJheXMoY29tcGlsZWROb2RlcyxcXFwiLCBcXFwiKTpbdGhpcy5tYWtlQ29kZShcXFwidm9pZCAwXFxcIildLGNvbXBpbGVkTm9kZXMubGVuZ3RoPjEmJm8ubGV2ZWw+PUxFVkVMX0xJU1Q/dGhpcy53cmFwSW5CcmFjZXMoYW5zd2VyKTphbnN3ZXIpfSxCbG9jay5wcm90b3R5cGUuY29tcGlsZVJvb3Q9ZnVuY3Rpb24obyl7dmFyIGV4cCxmcmFnbWVudHMsaSxuYW1lLHByZWx1ZGUscHJlbHVkZUV4cHMscmVzdCxfaSxfbGVuLF9yZWYyO2ZvcihvLmluZGVudD1vLmJhcmU/XFxcIlxcXCI6VEFCLG8ubGV2ZWw9TEVWRUxfVE9QLHRoaXMuc3BhY2VkPSEwLG8uc2NvcGU9bmV3IFNjb3BlKG51bGwsdGhpcyxudWxsKSxfcmVmMj1vLmxvY2Fsc3x8W10sX2k9MCxfbGVuPV9yZWYyLmxlbmd0aDtfbGVuPl9pO19pKyspbmFtZT1fcmVmMltfaV0sby5zY29wZS5wYXJhbWV0ZXIobmFtZSk7cmV0dXJuIHByZWx1ZGU9W10sby5iYXJlfHwocHJlbHVkZUV4cHM9ZnVuY3Rpb24oKXt2YXIgX2osX2xlbjEsX3JlZjMsX3Jlc3VsdHM7Zm9yKF9yZWYzPXRoaXMuZXhwcmVzc2lvbnMsX3Jlc3VsdHM9W10saT1faj0wLF9sZW4xPV9yZWYzLmxlbmd0aDtfbGVuMT5faiYmKGV4cD1fcmVmM1tpXSxleHAudW53cmFwKClpbnN0YW5jZW9mIENvbW1lbnQpO2k9KytfailfcmVzdWx0cy5wdXNoKGV4cCk7cmV0dXJuIF9yZXN1bHRzfS5jYWxsKHRoaXMpLHJlc3Q9dGhpcy5leHByZXNzaW9ucy5zbGljZShwcmVsdWRlRXhwcy5sZW5ndGgpLHRoaXMuZXhwcmVzc2lvbnM9cHJlbHVkZUV4cHMscHJlbHVkZUV4cHMubGVuZ3RoJiYocHJlbHVkZT10aGlzLmNvbXBpbGVOb2RlKG1lcmdlKG8se2luZGVudDpcXFwiXFxcIn0pKSxwcmVsdWRlLnB1c2godGhpcy5tYWtlQ29kZShcXFwiXFxcXG5cXFwiKSkpLHRoaXMuZXhwcmVzc2lvbnM9cmVzdCksZnJhZ21lbnRzPXRoaXMuY29tcGlsZVdpdGhEZWNsYXJhdGlvbnMobyksby5iYXJlP2ZyYWdtZW50czpbXS5jb25jYXQocHJlbHVkZSx0aGlzLm1ha2VDb2RlKFxcXCIoZnVuY3Rpb24oKSB7XFxcXG5cXFwiKSxmcmFnbWVudHMsdGhpcy5tYWtlQ29kZShcXFwiXFxcXG59KS5jYWxsKHRoaXMpO1xcXFxuXFxcIikpfSxCbG9jay5wcm90b3R5cGUuY29tcGlsZVdpdGhEZWNsYXJhdGlvbnM9ZnVuY3Rpb24obyl7dmFyIGFzc2lnbnMsZGVjbGFycyxleHAsZnJhZ21lbnRzLGkscG9zdCxyZXN0LHNjb3BlLHNwYWNlZCxfaSxfbGVuLF9yZWYyLF9yZWYzLF9yZWY0O2ZvcihmcmFnbWVudHM9W10scG9zdD1bXSxfcmVmMj10aGlzLmV4cHJlc3Npb25zLGk9X2k9MCxfbGVuPV9yZWYyLmxlbmd0aDtfbGVuPl9pJiYoZXhwPV9yZWYyW2ldLGV4cD1leHAudW53cmFwKCksZXhwIGluc3RhbmNlb2YgQ29tbWVudHx8ZXhwIGluc3RhbmNlb2YgTGl0ZXJhbCk7aT0rK19pKTtyZXR1cm4gbz1tZXJnZShvLHtsZXZlbDpMRVZFTF9UT1B9KSxpJiYocmVzdD10aGlzLmV4cHJlc3Npb25zLnNwbGljZShpLDllOSksX3JlZjM9W3RoaXMuc3BhY2VkLCExXSxzcGFjZWQ9X3JlZjNbMF0sdGhpcy5zcGFjZWQ9X3JlZjNbMV0sX3JlZjQ9W3RoaXMuY29tcGlsZU5vZGUobyksc3BhY2VkXSxmcmFnbWVudHM9X3JlZjRbMF0sdGhpcy5zcGFjZWQ9X3JlZjRbMV0sdGhpcy5leHByZXNzaW9ucz1yZXN0KSxwb3N0PXRoaXMuY29tcGlsZU5vZGUobyksc2NvcGU9by5zY29wZSxzY29wZS5leHByZXNzaW9ucz09PXRoaXMmJihkZWNsYXJzPW8uc2NvcGUuaGFzRGVjbGFyYXRpb25zKCksYXNzaWducz1zY29wZS5oYXNBc3NpZ25tZW50cywoZGVjbGFyc3x8YXNzaWducykmJihpJiZmcmFnbWVudHMucHVzaCh0aGlzLm1ha2VDb2RlKFxcXCJcXFxcblxcXCIpKSxmcmFnbWVudHMucHVzaCh0aGlzLm1ha2VDb2RlKFxcXCJcXFwiK3RoaXMudGFiK1xcXCJ2YXIgXFxcIikpLGRlY2xhcnMmJmZyYWdtZW50cy5wdXNoKHRoaXMubWFrZUNvZGUoc2NvcGUuZGVjbGFyZWRWYXJpYWJsZXMoKS5qb2luKFxcXCIsIFxcXCIpKSksYXNzaWducyYmKGRlY2xhcnMmJmZyYWdtZW50cy5wdXNoKHRoaXMubWFrZUNvZGUoXFxcIixcXFxcblxcXCIrKHRoaXMudGFiK1RBQikpKSxmcmFnbWVudHMucHVzaCh0aGlzLm1ha2VDb2RlKHNjb3BlLmFzc2lnbmVkVmFyaWFibGVzKCkuam9pbihcXFwiLFxcXFxuXFxcIisodGhpcy50YWIrVEFCKSkpKSksZnJhZ21lbnRzLnB1c2godGhpcy5tYWtlQ29kZShcXFwiO1xcXFxuXFxcIisodGhpcy5zcGFjZWQ/XFxcIlxcXFxuXFxcIjpcXFwiXFxcIikpKSkpLGZyYWdtZW50cy5jb25jYXQocG9zdCl9LEJsb2NrLndyYXA9ZnVuY3Rpb24obm9kZXMpe3JldHVybiAxPT09bm9kZXMubGVuZ3RoJiZub2Rlc1swXWluc3RhbmNlb2YgQmxvY2s/bm9kZXNbMF06bmV3IEJsb2NrKG5vZGVzKX0sQmxvY2t9KEJhc2UpLGV4cG9ydHMuTGl0ZXJhbD1MaXRlcmFsPWZ1bmN0aW9uKF9zdXBlcil7ZnVuY3Rpb24gTGl0ZXJhbCh2YWx1ZSl7dGhpcy52YWx1ZT12YWx1ZX1yZXR1cm4gX19leHRlbmRzKExpdGVyYWwsX3N1cGVyKSxMaXRlcmFsLnByb3RvdHlwZS5tYWtlUmV0dXJuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNTdGF0ZW1lbnQoKT90aGlzOkxpdGVyYWwuX19zdXBlcl9fLm1ha2VSZXR1cm4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxMaXRlcmFsLnByb3RvdHlwZS5pc0Fzc2lnbmFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gSURFTlRJRklFUi50ZXN0KHRoaXMudmFsdWUpfSxMaXRlcmFsLnByb3RvdHlwZS5pc1N0YXRlbWVudD1mdW5jdGlvbigpe3ZhciBfcmVmMjtyZXR1cm5cXFwiYnJlYWtcXFwiPT09KF9yZWYyPXRoaXMudmFsdWUpfHxcXFwiY29udGludWVcXFwiPT09X3JlZjJ8fFxcXCJkZWJ1Z2dlclxcXCI9PT1fcmVmMn0sTGl0ZXJhbC5wcm90b3R5cGUuaXNDb21wbGV4PU5PLExpdGVyYWwucHJvdG90eXBlLmFzc2lnbnM9ZnVuY3Rpb24obmFtZSl7cmV0dXJuIG5hbWU9PT10aGlzLnZhbHVlfSxMaXRlcmFsLnByb3RvdHlwZS5qdW1wcz1mdW5jdGlvbihvKXtyZXR1cm5cXFwiYnJlYWtcXFwiIT09dGhpcy52YWx1ZXx8KG51bGwhPW8/by5sb29wOnZvaWQgMCl8fChudWxsIT1vP28uYmxvY2s6dm9pZCAwKT9cXFwiY29udGludWVcXFwiIT09dGhpcy52YWx1ZXx8KG51bGwhPW8/by5sb29wOnZvaWQgMCk/dm9pZCAwOnRoaXM6dGhpc30sTGl0ZXJhbC5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24obyl7dmFyIGFuc3dlcixjb2RlLF9yZWYyO3JldHVybiBjb2RlPVxcXCJ0aGlzXFxcIj09PXRoaXMudmFsdWU/KG51bGwhPShfcmVmMj1vLnNjb3BlLm1ldGhvZCk/X3JlZjIuYm91bmQ6dm9pZCAwKT9vLnNjb3BlLm1ldGhvZC5jb250ZXh0OnRoaXMudmFsdWU6dGhpcy52YWx1ZS5yZXNlcnZlZD8nXFxcIicrdGhpcy52YWx1ZSsnXFxcIic6dGhpcy52YWx1ZSxhbnN3ZXI9dGhpcy5pc1N0YXRlbWVudCgpP1xcXCJcXFwiK3RoaXMudGFiK2NvZGUrXFxcIjtcXFwiOmNvZGUsW3RoaXMubWFrZUNvZGUoYW5zd2VyKV19LExpdGVyYWwucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuJyBcXFwiJyt0aGlzLnZhbHVlKydcXFwiJ30sTGl0ZXJhbH0oQmFzZSksZXhwb3J0cy5VbmRlZmluZWQ9ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBVbmRlZmluZWQoKXtyZXR1cm4gX3JlZjI9VW5kZWZpbmVkLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIF9fZXh0ZW5kcyhVbmRlZmluZWQsX3N1cGVyKSxVbmRlZmluZWQucHJvdG90eXBlLmlzQXNzaWduYWJsZT1OTyxVbmRlZmluZWQucHJvdG90eXBlLmlzQ29tcGxleD1OTyxVbmRlZmluZWQucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKG8pe3JldHVyblt0aGlzLm1ha2VDb2RlKG8ubGV2ZWw+PUxFVkVMX0FDQ0VTUz9cXFwiKHZvaWQgMClcXFwiOlxcXCJ2b2lkIDBcXFwiKV19LFVuZGVmaW5lZH0oQmFzZSksZXhwb3J0cy5OdWxsPWZ1bmN0aW9uKF9zdXBlcil7ZnVuY3Rpb24gTnVsbCgpe3JldHVybiBfcmVmMz1OdWxsLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIF9fZXh0ZW5kcyhOdWxsLF9zdXBlciksTnVsbC5wcm90b3R5cGUuaXNBc3NpZ25hYmxlPU5PLE51bGwucHJvdG90eXBlLmlzQ29tcGxleD1OTyxOdWxsLnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbigpe3JldHVyblt0aGlzLm1ha2VDb2RlKFxcXCJudWxsXFxcIildfSxOdWxsfShCYXNlKSxleHBvcnRzLkJvb2w9ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBCb29sKHZhbCl7dGhpcy52YWw9dmFsfXJldHVybiBfX2V4dGVuZHMoQm9vbCxfc3VwZXIpLEJvb2wucHJvdG90eXBlLmlzQXNzaWduYWJsZT1OTyxCb29sLnByb3RvdHlwZS5pc0NvbXBsZXg9Tk8sQm9vbC5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5tYWtlQ29kZSh0aGlzLnZhbCldfSxCb29sfShCYXNlKSxleHBvcnRzLlJldHVybj1SZXR1cm49ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBSZXR1cm4oZXhwcil7ZXhwciYmIWV4cHIudW53cmFwKCkuaXNVbmRlZmluZWQmJih0aGlzLmV4cHJlc3Npb249ZXhwcil9cmV0dXJuIF9fZXh0ZW5kcyhSZXR1cm4sX3N1cGVyKSxSZXR1cm4ucHJvdG90eXBlLmNoaWxkcmVuPVtcXFwiZXhwcmVzc2lvblxcXCJdLFJldHVybi5wcm90b3R5cGUuaXNTdGF0ZW1lbnQ9WUVTLFJldHVybi5wcm90b3R5cGUubWFrZVJldHVybj1USElTLFJldHVybi5wcm90b3R5cGUuanVtcHM9VEhJUyxSZXR1cm4ucHJvdG90eXBlLmNvbXBpbGVUb0ZyYWdtZW50cz1mdW5jdGlvbihvLGxldmVsKXt2YXIgZXhwcixfcmVmNDtyZXR1cm4gZXhwcj1udWxsIT0oX3JlZjQ9dGhpcy5leHByZXNzaW9uKT9fcmVmNC5tYWtlUmV0dXJuKCk6dm9pZCAwLCFleHByfHxleHByIGluc3RhbmNlb2YgUmV0dXJuP1JldHVybi5fX3N1cGVyX18uY29tcGlsZVRvRnJhZ21lbnRzLmNhbGwodGhpcyxvLGxldmVsKTpleHByLmNvbXBpbGVUb0ZyYWdtZW50cyhvLGxldmVsKX0sUmV0dXJuLnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihvKXt2YXIgYW5zd2VyO3JldHVybiBhbnN3ZXI9W10sYW5zd2VyLnB1c2godGhpcy5tYWtlQ29kZSh0aGlzLnRhYisoXFxcInJldHVyblxcXCIrW3RoaXMuZXhwcmVzc2lvbj9cXFwiIFxcXCI6dm9pZCAwXSkpKSx0aGlzLmV4cHJlc3Npb24mJihhbnN3ZXI9YW5zd2VyLmNvbmNhdCh0aGlzLmV4cHJlc3Npb24uY29tcGlsZVRvRnJhZ21lbnRzKG8sTEVWRUxfUEFSRU4pKSksYW5zd2VyLnB1c2godGhpcy5tYWtlQ29kZShcXFwiO1xcXCIpKSxhbnN3ZXJ9LFJldHVybn0oQmFzZSksZXhwb3J0cy5WYWx1ZT1WYWx1ZT1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIFZhbHVlKGJhc2UscHJvcHMsdGFnKXtyZXR1cm4hcHJvcHMmJmJhc2UgaW5zdGFuY2VvZiBWYWx1ZT9iYXNlOih0aGlzLmJhc2U9YmFzZSx0aGlzLnByb3BlcnRpZXM9cHJvcHN8fFtdLHRhZyYmKHRoaXNbdGFnXT0hMCksdGhpcyl9cmV0dXJuIF9fZXh0ZW5kcyhWYWx1ZSxfc3VwZXIpLFZhbHVlLnByb3RvdHlwZS5jaGlsZHJlbj1bXFxcImJhc2VcXFwiLFxcXCJwcm9wZXJ0aWVzXFxcIl0sVmFsdWUucHJvdG90eXBlLmFkZD1mdW5jdGlvbihwcm9wcyl7cmV0dXJuIHRoaXMucHJvcGVydGllcz10aGlzLnByb3BlcnRpZXMuY29uY2F0KHByb3BzKSx0aGlzfSxWYWx1ZS5wcm90b3R5cGUuaGFzUHJvcGVydGllcz1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5wcm9wZXJ0aWVzLmxlbmd0aH0sVmFsdWUucHJvdG90eXBlLmlzQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5wcm9wZXJ0aWVzLmxlbmd0aCYmdGhpcy5iYXNlIGluc3RhbmNlb2YgQXJyfSxWYWx1ZS5wcm90b3R5cGUuaXNDb21wbGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzUHJvcGVydGllcygpfHx0aGlzLmJhc2UuaXNDb21wbGV4KCl9LFZhbHVlLnByb3RvdHlwZS5pc0Fzc2lnbmFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYXNQcm9wZXJ0aWVzKCl8fHRoaXMuYmFzZS5pc0Fzc2lnbmFibGUoKX0sVmFsdWUucHJvdG90eXBlLmlzU2ltcGxlTnVtYmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmFzZSBpbnN0YW5jZW9mIExpdGVyYWwmJlNJTVBMRU5VTS50ZXN0KHRoaXMuYmFzZS52YWx1ZSl9LFZhbHVlLnByb3RvdHlwZS5pc1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJhc2UgaW5zdGFuY2VvZiBMaXRlcmFsJiZJU19TVFJJTkcudGVzdCh0aGlzLmJhc2UudmFsdWUpfSxWYWx1ZS5wcm90b3R5cGUuaXNBdG9taWM9ZnVuY3Rpb24oKXt2YXIgbm9kZSxfaSxfbGVuLF9yZWY0O2ZvcihfcmVmND10aGlzLnByb3BlcnRpZXMuY29uY2F0KHRoaXMuYmFzZSksX2k9MCxfbGVuPV9yZWY0Lmxlbmd0aDtfbGVuPl9pO19pKyspaWYobm9kZT1fcmVmNFtfaV0sbm9kZS5zb2FrfHxub2RlIGluc3RhbmNlb2YgQ2FsbClyZXR1cm4hMTtyZXR1cm4hMH0sVmFsdWUucHJvdG90eXBlLmlzU3RhdGVtZW50PWZ1bmN0aW9uKG8pe3JldHVybiF0aGlzLnByb3BlcnRpZXMubGVuZ3RoJiZ0aGlzLmJhc2UuaXNTdGF0ZW1lbnQobyl9LFZhbHVlLnByb3RvdHlwZS5hc3NpZ25zPWZ1bmN0aW9uKG5hbWUpe3JldHVybiF0aGlzLnByb3BlcnRpZXMubGVuZ3RoJiZ0aGlzLmJhc2UuYXNzaWducyhuYW1lKX0sVmFsdWUucHJvdG90eXBlLmp1bXBzPWZ1bmN0aW9uKG8pe3JldHVybiF0aGlzLnByb3BlcnRpZXMubGVuZ3RoJiZ0aGlzLmJhc2UuanVtcHMobyl9LFZhbHVlLnByb3RvdHlwZS5pc09iamVjdD1mdW5jdGlvbihvbmx5R2VuZXJhdGVkKXtyZXR1cm4gdGhpcy5wcm9wZXJ0aWVzLmxlbmd0aD8hMTp0aGlzLmJhc2UgaW5zdGFuY2VvZiBPYmomJighb25seUdlbmVyYXRlZHx8dGhpcy5iYXNlLmdlbmVyYXRlZCl9LFZhbHVlLnByb3RvdHlwZS5pc1NwbGljZT1mdW5jdGlvbigpe3JldHVybiBsYXN0KHRoaXMucHJvcGVydGllcylpbnN0YW5jZW9mIFNsaWNlfSxWYWx1ZS5wcm90b3R5cGUudW53cmFwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvcGVydGllcy5sZW5ndGg/dGhpczp0aGlzLmJhc2V9LFZhbHVlLnByb3RvdHlwZS5jYWNoZVJlZmVyZW5jZT1mdW5jdGlvbihvKXt2YXIgYmFzZSxicmVmLG5hbWUsbnJlZjtyZXR1cm4gbmFtZT1sYXN0KHRoaXMucHJvcGVydGllcyksMj50aGlzLnByb3BlcnRpZXMubGVuZ3RoJiYhdGhpcy5iYXNlLmlzQ29tcGxleCgpJiYhKG51bGwhPW5hbWU/bmFtZS5pc0NvbXBsZXgoKTp2b2lkIDApP1t0aGlzLHRoaXNdOihiYXNlPW5ldyBWYWx1ZSh0aGlzLmJhc2UsdGhpcy5wcm9wZXJ0aWVzLnNsaWNlKDAsLTEpKSxiYXNlLmlzQ29tcGxleCgpJiYoYnJlZj1uZXcgTGl0ZXJhbChvLnNjb3BlLmZyZWVWYXJpYWJsZShcXFwiYmFzZVxcXCIpKSxiYXNlPW5ldyBWYWx1ZShuZXcgUGFyZW5zKG5ldyBBc3NpZ24oYnJlZixiYXNlKSkpKSxuYW1lPyhuYW1lLmlzQ29tcGxleCgpJiYobnJlZj1uZXcgTGl0ZXJhbChvLnNjb3BlLmZyZWVWYXJpYWJsZShcXFwibmFtZVxcXCIpKSxuYW1lPW5ldyBJbmRleChuZXcgQXNzaWduKG5yZWYsbmFtZS5pbmRleCkpLG5yZWY9bmV3IEluZGV4KG5yZWYpKSxbYmFzZS5hZGQobmFtZSksbmV3IFZhbHVlKGJyZWZ8fGJhc2UuYmFzZSxbbnJlZnx8bmFtZV0pXSk6W2Jhc2UsYnJlZl0pfSxWYWx1ZS5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24obyl7dmFyIGZyYWdtZW50cyxwcm9wLHByb3BzLF9pLF9sZW47Zm9yKHRoaXMuYmFzZS5mcm9udD10aGlzLmZyb250LHByb3BzPXRoaXMucHJvcGVydGllcyxmcmFnbWVudHM9dGhpcy5iYXNlLmNvbXBpbGVUb0ZyYWdtZW50cyhvLHByb3BzLmxlbmd0aD9MRVZFTF9BQ0NFU1M6bnVsbCksKHRoaXMuYmFzZSBpbnN0YW5jZW9mIFBhcmVuc3x8cHJvcHMubGVuZ3RoKSYmU0lNUExFTlVNLnRlc3QoZnJhZ21lbnRzVG9UZXh0KGZyYWdtZW50cykpJiZmcmFnbWVudHMucHVzaCh0aGlzLm1ha2VDb2RlKFxcXCIuXFxcIikpLF9pPTAsX2xlbj1wcm9wcy5sZW5ndGg7X2xlbj5faTtfaSsrKXByb3A9cHJvcHNbX2ldLGZyYWdtZW50cy5wdXNoLmFwcGx5KGZyYWdtZW50cyxwcm9wLmNvbXBpbGVUb0ZyYWdtZW50cyhvKSk7cmV0dXJuIGZyYWdtZW50c30sVmFsdWUucHJvdG90eXBlLnVuZm9sZFNvYWs9ZnVuY3Rpb24obyl7dmFyIF9yZWY0LF90aGlzPXRoaXM7cmV0dXJuIG51bGwhPShfcmVmND10aGlzLnVuZm9sZGVkU29hayk/X3JlZjQ6dGhpcy51bmZvbGRlZFNvYWs9ZnVuY3Rpb24oKXt2YXIgZnN0LGksaWZuLHByb3AscmVmLHNuZCxfaSxfbGVuLF9yZWY1LF9yZWY2O2lmKGlmbj1fdGhpcy5iYXNlLnVuZm9sZFNvYWsobykpcmV0dXJuKF9yZWY1PWlmbi5ib2R5LnByb3BlcnRpZXMpLnB1c2guYXBwbHkoX3JlZjUsX3RoaXMucHJvcGVydGllcyksaWZuO2ZvcihfcmVmNj1fdGhpcy5wcm9wZXJ0aWVzLGk9X2k9MCxfbGVuPV9yZWY2Lmxlbmd0aDtfbGVuPl9pO2k9KytfaSlpZihwcm9wPV9yZWY2W2ldLHByb3Auc29haylyZXR1cm4gcHJvcC5zb2FrPSExLGZzdD1uZXcgVmFsdWUoX3RoaXMuYmFzZSxfdGhpcy5wcm9wZXJ0aWVzLnNsaWNlKDAsaSkpLHNuZD1uZXcgVmFsdWUoX3RoaXMuYmFzZSxfdGhpcy5wcm9wZXJ0aWVzLnNsaWNlKGkpKSxmc3QuaXNDb21wbGV4KCkmJihyZWY9bmV3IExpdGVyYWwoby5zY29wZS5mcmVlVmFyaWFibGUoXFxcInJlZlxcXCIpKSxmc3Q9bmV3IFBhcmVucyhuZXcgQXNzaWduKHJlZixmc3QpKSxzbmQuYmFzZT1yZWYpLG5ldyBJZihuZXcgRXhpc3RlbmNlKGZzdCksc25kLHtzb2FrOiEwfSk7cmV0dXJuITF9KCl9LFZhbHVlfShCYXNlKSxleHBvcnRzLkNvbW1lbnQ9Q29tbWVudD1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIENvbW1lbnQoY29tbWVudCl7dGhpcy5jb21tZW50PWNvbW1lbnR9cmV0dXJuIF9fZXh0ZW5kcyhDb21tZW50LF9zdXBlciksQ29tbWVudC5wcm90b3R5cGUuaXNTdGF0ZW1lbnQ9WUVTLENvbW1lbnQucHJvdG90eXBlLm1ha2VSZXR1cm49VEhJUyxDb21tZW50LnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihvLGxldmVsKXt2YXIgY29kZTtyZXR1cm4gY29kZT1cXFwiLypcXFwiK211bHRpZGVudCh0aGlzLmNvbW1lbnQsdGhpcy50YWIpKyhfX2luZGV4T2YuY2FsbCh0aGlzLmNvbW1lbnQsXFxcIlxcXFxuXFxcIik+PTA/XFxcIlxcXFxuXFxcIit0aGlzLnRhYjpcXFwiXFxcIikrXFxcIiovXFxcXG5cXFwiLChsZXZlbHx8by5sZXZlbCk9PT1MRVZFTF9UT1AmJihjb2RlPW8uaW5kZW50K2NvZGUpLFt0aGlzLm1ha2VDb2RlKGNvZGUpXX0sQ29tbWVudH0oQmFzZSksZXhwb3J0cy5DYWxsPUNhbGw9ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBDYWxsKHZhcmlhYmxlLGFyZ3Msc29hayl7dGhpcy5hcmdzPW51bGwhPWFyZ3M/YXJnczpbXSx0aGlzLnNvYWs9c29hayx0aGlzLmlzTmV3PSExLHRoaXMuaXNTdXBlcj1cXFwic3VwZXJcXFwiPT09dmFyaWFibGUsdGhpcy52YXJpYWJsZT10aGlzLmlzU3VwZXI/bnVsbDp2YXJpYWJsZX1yZXR1cm4gX19leHRlbmRzKENhbGwsX3N1cGVyKSxDYWxsLnByb3RvdHlwZS5jaGlsZHJlbj1bXFxcInZhcmlhYmxlXFxcIixcXFwiYXJnc1xcXCJdLENhbGwucHJvdG90eXBlLm5ld0luc3RhbmNlPWZ1bmN0aW9uKCl7dmFyIGJhc2UsX3JlZjQ7cmV0dXJuIGJhc2U9KG51bGwhPShfcmVmND10aGlzLnZhcmlhYmxlKT9fcmVmNC5iYXNlOnZvaWQgMCl8fHRoaXMudmFyaWFibGUsYmFzZSBpbnN0YW5jZW9mIENhbGwmJiFiYXNlLmlzTmV3P2Jhc2UubmV3SW5zdGFuY2UoKTp0aGlzLmlzTmV3PSEwLHRoaXN9LENhbGwucHJvdG90eXBlLnN1cGVyUmVmZXJlbmNlPWZ1bmN0aW9uKG8pe3ZhciBhY2Nlc3NlcyxtZXRob2Q7cmV0dXJuIG1ldGhvZD1vLnNjb3BlLm5hbWVkTWV0aG9kKCksKG51bGwhPW1ldGhvZD9tZXRob2Qua2xhc3M6dm9pZCAwKT8oYWNjZXNzZXM9W25ldyBBY2Nlc3MobmV3IExpdGVyYWwoXFxcIl9fc3VwZXJfX1xcXCIpKV0sbWV0aG9kW1xcXCJzdGF0aWNcXFwiXSYmYWNjZXNzZXMucHVzaChuZXcgQWNjZXNzKG5ldyBMaXRlcmFsKFxcXCJjb25zdHJ1Y3RvclxcXCIpKSksYWNjZXNzZXMucHVzaChuZXcgQWNjZXNzKG5ldyBMaXRlcmFsKG1ldGhvZC5uYW1lKSkpLG5ldyBWYWx1ZShuZXcgTGl0ZXJhbChtZXRob2Qua2xhc3MpLGFjY2Vzc2VzKS5jb21waWxlKG8pKToobnVsbCE9bWV0aG9kP21ldGhvZC5jdG9yOnZvaWQgMCk/XFxcIlxcXCIrbWV0aG9kLm5hbWUrXFxcIi5fX3N1cGVyX18uY29uc3RydWN0b3JcXFwiOnRoaXMuZXJyb3IoXFxcImNhbm5vdCBjYWxsIHN1cGVyIG91dHNpZGUgb2YgYW4gaW5zdGFuY2UgbWV0aG9kLlxcXCIpfSxDYWxsLnByb3RvdHlwZS5zdXBlclRoaXM9ZnVuY3Rpb24obyl7dmFyIG1ldGhvZDtyZXR1cm4gbWV0aG9kPW8uc2NvcGUubWV0aG9kLG1ldGhvZCYmIW1ldGhvZC5rbGFzcyYmbWV0aG9kLmNvbnRleHR8fFxcXCJ0aGlzXFxcIn0sQ2FsbC5wcm90b3R5cGUudW5mb2xkU29haz1mdW5jdGlvbihvKXt2YXIgY2FsbCxpZm4sbGVmdCxsaXN0LHJpdGUsX2ksX2xlbixfcmVmNCxfcmVmNTtpZih0aGlzLnNvYWspe2lmKHRoaXMudmFyaWFibGUpe2lmKGlmbj11bmZvbGRTb2FrKG8sdGhpcyxcXFwidmFyaWFibGVcXFwiKSlyZXR1cm4gaWZuO19yZWY0PW5ldyBWYWx1ZSh0aGlzLnZhcmlhYmxlKS5jYWNoZVJlZmVyZW5jZShvKSxsZWZ0PV9yZWY0WzBdLHJpdGU9X3JlZjRbMV19ZWxzZSBsZWZ0PW5ldyBMaXRlcmFsKHRoaXMuc3VwZXJSZWZlcmVuY2UobykpLHJpdGU9bmV3IFZhbHVlKGxlZnQpO3JldHVybiByaXRlPW5ldyBDYWxsKHJpdGUsdGhpcy5hcmdzKSxyaXRlLmlzTmV3PXRoaXMuaXNOZXcsbGVmdD1uZXcgTGl0ZXJhbChcXFwidHlwZW9mIFxcXCIrbGVmdC5jb21waWxlKG8pKycgPT09IFxcXCJmdW5jdGlvblxcXCInKSxuZXcgSWYobGVmdCxuZXcgVmFsdWUocml0ZSkse3NvYWs6ITB9KX1mb3IoY2FsbD10aGlzLGxpc3Q9W107OylpZihjYWxsLnZhcmlhYmxlIGluc3RhbmNlb2YgQ2FsbClsaXN0LnB1c2goY2FsbCksY2FsbD1jYWxsLnZhcmlhYmxlO2Vsc2V7aWYoIShjYWxsLnZhcmlhYmxlIGluc3RhbmNlb2YgVmFsdWUpKWJyZWFrO2lmKGxpc3QucHVzaChjYWxsKSwhKChjYWxsPWNhbGwudmFyaWFibGUuYmFzZSlpbnN0YW5jZW9mIENhbGwpKWJyZWFrfWZvcihfcmVmNT1saXN0LnJldmVyc2UoKSxfaT0wLF9sZW49X3JlZjUubGVuZ3RoO19sZW4+X2k7X2krKyljYWxsPV9yZWY1W19pXSxpZm4mJihjYWxsLnZhcmlhYmxlIGluc3RhbmNlb2YgQ2FsbD9jYWxsLnZhcmlhYmxlPWlmbjpjYWxsLnZhcmlhYmxlLmJhc2U9aWZuKSxpZm49dW5mb2xkU29hayhvLGNhbGwsXFxcInZhcmlhYmxlXFxcIik7cmV0dXJuIGlmbn0sQ2FsbC5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24obyl7dmFyIGFyZyxhcmdJbmRleCxjb21waWxlZEFyZ3MsY29tcGlsZWRBcnJheSxmcmFnbWVudHMscHJlZmFjZSxfaSxfbGVuLF9yZWY0LF9yZWY1O2lmKG51bGwhPShfcmVmND10aGlzLnZhcmlhYmxlKSYmKF9yZWY0LmZyb250PXRoaXMuZnJvbnQpLGNvbXBpbGVkQXJyYXk9U3BsYXQuY29tcGlsZVNwbGF0dGVkQXJyYXkobyx0aGlzLmFyZ3MsITApLGNvbXBpbGVkQXJyYXkubGVuZ3RoKXJldHVybiB0aGlzLmNvbXBpbGVTcGxhdChvLGNvbXBpbGVkQXJyYXkpO2Zvcihjb21waWxlZEFyZ3M9W10sX3JlZjU9dGhpcy5hcmdzLGFyZ0luZGV4PV9pPTAsX2xlbj1fcmVmNS5sZW5ndGg7X2xlbj5faTthcmdJbmRleD0rK19pKWFyZz1fcmVmNVthcmdJbmRleF0sYXJnSW5kZXgmJmNvbXBpbGVkQXJncy5wdXNoKHRoaXMubWFrZUNvZGUoXFxcIiwgXFxcIikpLGNvbXBpbGVkQXJncy5wdXNoLmFwcGx5KGNvbXBpbGVkQXJncyxhcmcuY29tcGlsZVRvRnJhZ21lbnRzKG8sTEVWRUxfTElTVCkpO3JldHVybiBmcmFnbWVudHM9W10sdGhpcy5pc1N1cGVyPyhwcmVmYWNlPXRoaXMuc3VwZXJSZWZlcmVuY2UobykrKFxcXCIuY2FsbChcXFwiK3RoaXMuc3VwZXJUaGlzKG8pKSxjb21waWxlZEFyZ3MubGVuZ3RoJiYocHJlZmFjZSs9XFxcIiwgXFxcIiksZnJhZ21lbnRzLnB1c2godGhpcy5tYWtlQ29kZShwcmVmYWNlKSkpOih0aGlzLmlzTmV3JiZmcmFnbWVudHMucHVzaCh0aGlzLm1ha2VDb2RlKFxcXCJuZXcgXFxcIikpLGZyYWdtZW50cy5wdXNoLmFwcGx5KGZyYWdtZW50cyx0aGlzLnZhcmlhYmxlLmNvbXBpbGVUb0ZyYWdtZW50cyhvLExFVkVMX0FDQ0VTUykpLGZyYWdtZW50cy5wdXNoKHRoaXMubWFrZUNvZGUoXFxcIihcXFwiKSkpLGZyYWdtZW50cy5wdXNoLmFwcGx5KGZyYWdtZW50cyxjb21waWxlZEFyZ3MpLGZyYWdtZW50cy5wdXNoKHRoaXMubWFrZUNvZGUoXFxcIilcXFwiKSksZnJhZ21lbnRzfSxDYWxsLnByb3RvdHlwZS5jb21waWxlU3BsYXQ9ZnVuY3Rpb24obyxzcGxhdEFyZ3Mpe3ZhciBhbnN3ZXIsYmFzZSxmdW4saWR0LG5hbWUscmVmO3JldHVybiB0aGlzLmlzU3VwZXI/W10uY29uY2F0KHRoaXMubWFrZUNvZGUoXFxcIlxcXCIrdGhpcy5zdXBlclJlZmVyZW5jZShvKStcXFwiLmFwcGx5KFxcXCIrdGhpcy5zdXBlclRoaXMobykrXFxcIiwgXFxcIiksc3BsYXRBcmdzLHRoaXMubWFrZUNvZGUoXFxcIilcXFwiKSk6dGhpcy5pc05ldz8oaWR0PXRoaXMudGFiK1RBQixbXS5jb25jYXQodGhpcy5tYWtlQ29kZShcXFwiKGZ1bmN0aW9uKGZ1bmMsIGFyZ3MsIGN0b3IpIHtcXFxcblxcXCIraWR0K1xcXCJjdG9yLnByb3RvdHlwZSA9IGZ1bmMucHJvdG90eXBlO1xcXFxuXFxcIitpZHQrXFxcInZhciBjaGlsZCA9IG5ldyBjdG9yLCByZXN1bHQgPSBmdW5jLmFwcGx5KGNoaWxkLCBhcmdzKTtcXFxcblxcXCIraWR0K1xcXCJyZXR1cm4gT2JqZWN0KHJlc3VsdCkgPT09IHJlc3VsdCA/IHJlc3VsdCA6IGNoaWxkO1xcXFxuXFxcIit0aGlzLnRhYitcXFwifSkoXFxcIiksdGhpcy52YXJpYWJsZS5jb21waWxlVG9GcmFnbWVudHMobyxMRVZFTF9MSVNUKSx0aGlzLm1ha2VDb2RlKFxcXCIsIFxcXCIpLHNwbGF0QXJncyx0aGlzLm1ha2VDb2RlKFxcXCIsIGZ1bmN0aW9uKCl7fSlcXFwiKSkpOihhbnN3ZXI9W10sYmFzZT1uZXcgVmFsdWUodGhpcy52YXJpYWJsZSksKG5hbWU9YmFzZS5wcm9wZXJ0aWVzLnBvcCgpKSYmYmFzZS5pc0NvbXBsZXgoKT8ocmVmPW8uc2NvcGUuZnJlZVZhcmlhYmxlKFxcXCJyZWZcXFwiKSxhbnN3ZXI9YW5zd2VyLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFxcXCIoXFxcIityZWYrXFxcIiA9IFxcXCIpLGJhc2UuY29tcGlsZVRvRnJhZ21lbnRzKG8sTEVWRUxfTElTVCksdGhpcy5tYWtlQ29kZShcXFwiKVxcXCIpLG5hbWUuY29tcGlsZVRvRnJhZ21lbnRzKG8pKSk6KGZ1bj1iYXNlLmNvbXBpbGVUb0ZyYWdtZW50cyhvLExFVkVMX0FDQ0VTUyksU0lNUExFTlVNLnRlc3QoZnJhZ21lbnRzVG9UZXh0KGZ1bikpJiYoZnVuPXRoaXMud3JhcEluQnJhY2VzKGZ1bikpLG5hbWU/KHJlZj1mcmFnbWVudHNUb1RleHQoZnVuKSxmdW4ucHVzaC5hcHBseShmdW4sbmFtZS5jb21waWxlVG9GcmFnbWVudHMobykpKTpyZWY9XFxcIm51bGxcXFwiLGFuc3dlcj1hbnN3ZXIuY29uY2F0KGZ1bikpLGFuc3dlcj1hbnN3ZXIuY29uY2F0KHRoaXMubWFrZUNvZGUoXFxcIi5hcHBseShcXFwiK3JlZitcXFwiLCBcXFwiKSxzcGxhdEFyZ3MsdGhpcy5tYWtlQ29kZShcXFwiKVxcXCIpKSl9LENhbGx9KEJhc2UpLGV4cG9ydHMuRXh0ZW5kcz1FeHRlbmRzPWZ1bmN0aW9uKF9zdXBlcil7ZnVuY3Rpb24gRXh0ZW5kcyhjaGlsZCxwYXJlbnQpe3RoaXMuY2hpbGQ9Y2hpbGQsdGhpcy5wYXJlbnQ9cGFyZW50fXJldHVybiBfX2V4dGVuZHMoRXh0ZW5kcyxfc3VwZXIpLEV4dGVuZHMucHJvdG90eXBlLmNoaWxkcmVuPVtcXFwiY2hpbGRcXFwiLFxcXCJwYXJlbnRcXFwiXSxFeHRlbmRzLnByb3RvdHlwZS5jb21waWxlVG9GcmFnbWVudHM9ZnVuY3Rpb24obyl7cmV0dXJuIG5ldyBDYWxsKG5ldyBWYWx1ZShuZXcgTGl0ZXJhbCh1dGlsaXR5KFxcXCJleHRlbmRzXFxcIikpKSxbdGhpcy5jaGlsZCx0aGlzLnBhcmVudF0pLmNvbXBpbGVUb0ZyYWdtZW50cyhvKX0sRXh0ZW5kc30oQmFzZSksZXhwb3J0cy5BY2Nlc3M9QWNjZXNzPWZ1bmN0aW9uKF9zdXBlcil7ZnVuY3Rpb24gQWNjZXNzKG5hbWUsdGFnKXt0aGlzLm5hbWU9bmFtZSx0aGlzLm5hbWUuYXNLZXk9ITAsdGhpcy5zb2FrPVxcXCJzb2FrXFxcIj09PXRhZ31yZXR1cm4gX19leHRlbmRzKEFjY2Vzcyxfc3VwZXIpLEFjY2Vzcy5wcm90b3R5cGUuY2hpbGRyZW49W1xcXCJuYW1lXFxcIl0sQWNjZXNzLnByb3RvdHlwZS5jb21waWxlVG9GcmFnbWVudHM9ZnVuY3Rpb24obyl7dmFyIG5hbWU7cmV0dXJuIG5hbWU9dGhpcy5uYW1lLmNvbXBpbGVUb0ZyYWdtZW50cyhvKSxJREVOVElGSUVSLnRlc3QoZnJhZ21lbnRzVG9UZXh0KG5hbWUpKT9uYW1lLnVuc2hpZnQodGhpcy5tYWtlQ29kZShcXFwiLlxcXCIpKToobmFtZS51bnNoaWZ0KHRoaXMubWFrZUNvZGUoXFxcIltcXFwiKSksbmFtZS5wdXNoKHRoaXMubWFrZUNvZGUoXFxcIl1cXFwiKSkpLG5hbWV9LEFjY2Vzcy5wcm90b3R5cGUuaXNDb21wbGV4PU5PLEFjY2Vzc30oQmFzZSksZXhwb3J0cy5JbmRleD1JbmRleD1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIEluZGV4KGluZGV4KXt0aGlzLmluZGV4PWluZGV4fXJldHVybiBfX2V4dGVuZHMoSW5kZXgsX3N1cGVyKSxJbmRleC5wcm90b3R5cGUuY2hpbGRyZW49W1xcXCJpbmRleFxcXCJdLEluZGV4LnByb3RvdHlwZS5jb21waWxlVG9GcmFnbWVudHM9ZnVuY3Rpb24obyl7cmV0dXJuW10uY29uY2F0KHRoaXMubWFrZUNvZGUoXFxcIltcXFwiKSx0aGlzLmluZGV4LmNvbXBpbGVUb0ZyYWdtZW50cyhvLExFVkVMX1BBUkVOKSx0aGlzLm1ha2VDb2RlKFxcXCJdXFxcIikpfSxJbmRleC5wcm90b3R5cGUuaXNDb21wbGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5kZXguaXNDb21wbGV4KCl9LEluZGV4fShCYXNlKSxleHBvcnRzLlJhbmdlPVJhbmdlPWZ1bmN0aW9uKF9zdXBlcil7ZnVuY3Rpb24gUmFuZ2UoZnJvbSx0byx0YWcpe3RoaXMuZnJvbT1mcm9tLHRoaXMudG89dG8sdGhpcy5leGNsdXNpdmU9XFxcImV4Y2x1c2l2ZVxcXCI9PT10YWcsdGhpcy5lcXVhbHM9dGhpcy5leGNsdXNpdmU/XFxcIlxcXCI6XFxcIj1cXFwifXJldHVybiBfX2V4dGVuZHMoUmFuZ2UsX3N1cGVyKSxSYW5nZS5wcm90b3R5cGUuY2hpbGRyZW49W1xcXCJmcm9tXFxcIixcXFwidG9cXFwiXSxSYW5nZS5wcm90b3R5cGUuY29tcGlsZVZhcmlhYmxlcz1mdW5jdGlvbihvKXt2YXIgc3RlcCxfcmVmNCxfcmVmNSxfcmVmNixfcmVmNztyZXR1cm4gbz1tZXJnZShvLHt0b3A6ITB9KSxfcmVmND10aGlzLmNhY2hlVG9Db2RlRnJhZ21lbnRzKHRoaXMuZnJvbS5jYWNoZShvLExFVkVMX0xJU1QpKSx0aGlzLmZyb21DPV9yZWY0WzBdLHRoaXMuZnJvbVZhcj1fcmVmNFsxXSxfcmVmNT10aGlzLmNhY2hlVG9Db2RlRnJhZ21lbnRzKHRoaXMudG8uY2FjaGUobyxMRVZFTF9MSVNUKSksdGhpcy50b0M9X3JlZjVbMF0sdGhpcy50b1Zhcj1fcmVmNVsxXSwoc3RlcD1kZWwobyxcXFwic3RlcFxcXCIpKSYmKF9yZWY2PXRoaXMuY2FjaGVUb0NvZGVGcmFnbWVudHMoc3RlcC5jYWNoZShvLExFVkVMX0xJU1QpKSx0aGlzLnN0ZXA9X3JlZjZbMF0sdGhpcy5zdGVwVmFyPV9yZWY2WzFdKSxfcmVmNz1bdGhpcy5mcm9tVmFyLm1hdGNoKFNJTVBMRU5VTSksdGhpcy50b1Zhci5tYXRjaChTSU1QTEVOVU0pXSx0aGlzLmZyb21OdW09X3JlZjdbMF0sdGhpcy50b051bT1fcmVmN1sxXSx0aGlzLnN0ZXBWYXI/dGhpcy5zdGVwTnVtPXRoaXMuc3RlcFZhci5tYXRjaChTSU1QTEVOVU0pOnZvaWQgMH0sUmFuZ2UucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKG8pe3ZhciBjb25kLGNvbmRQYXJ0LGZyb20sZ3QsaWR4LGlkeE5hbWUsa25vd24sbHQsbmFtZWRJbmRleCxzdGVwUGFydCx0byx2YXJQYXJ0LF9yZWY0LF9yZWY1O3JldHVybiB0aGlzLmZyb21WYXJ8fHRoaXMuY29tcGlsZVZhcmlhYmxlcyhvKSxvLmluZGV4Pyhrbm93bj10aGlzLmZyb21OdW0mJnRoaXMudG9OdW0saWR4PWRlbChvLFxcXCJpbmRleFxcXCIpLGlkeE5hbWU9ZGVsKG8sXFxcIm5hbWVcXFwiKSxuYW1lZEluZGV4PWlkeE5hbWUmJmlkeE5hbWUhPT1pZHgsdmFyUGFydD1cXFwiXFxcIitpZHgrXFxcIiA9IFxcXCIrdGhpcy5mcm9tQyx0aGlzLnRvQyE9PXRoaXMudG9WYXImJih2YXJQYXJ0Kz1cXFwiLCBcXFwiK3RoaXMudG9DKSx0aGlzLnN0ZXAhPT10aGlzLnN0ZXBWYXImJih2YXJQYXJ0Kz1cXFwiLCBcXFwiK3RoaXMuc3RlcCksX3JlZjQ9W1xcXCJcXFwiK2lkeCtcXFwiIDxcXFwiK3RoaXMuZXF1YWxzLFxcXCJcXFwiK2lkeCtcXFwiID5cXFwiK3RoaXMuZXF1YWxzXSxsdD1fcmVmNFswXSxndD1fcmVmNFsxXSxjb25kUGFydD10aGlzLnN0ZXBOdW0/K3RoaXMuc3RlcE51bT4wP1xcXCJcXFwiK2x0K1xcXCIgXFxcIit0aGlzLnRvVmFyOlxcXCJcXFwiK2d0K1xcXCIgXFxcIit0aGlzLnRvVmFyOmtub3duPyhfcmVmNT1bK3RoaXMuZnJvbU51bSwrdGhpcy50b051bV0sZnJvbT1fcmVmNVswXSx0bz1fcmVmNVsxXSxfcmVmNSx0bz49ZnJvbT9cXFwiXFxcIitsdCtcXFwiIFxcXCIrdG86XFxcIlxcXCIrZ3QrXFxcIiBcXFwiK3RvKTooY29uZD10aGlzLnN0ZXBWYXI/XFxcIlxcXCIrdGhpcy5zdGVwVmFyK1xcXCIgPiAwXFxcIjpcXFwiXFxcIit0aGlzLmZyb21WYXIrXFxcIiA8PSBcXFwiK3RoaXMudG9WYXIsXFxcIlxcXCIrY29uZCtcXFwiID8gXFxcIitsdCtcXFwiIFxcXCIrdGhpcy50b1ZhcitcXFwiIDogXFxcIitndCtcXFwiIFxcXCIrdGhpcy50b1Zhciksc3RlcFBhcnQ9dGhpcy5zdGVwVmFyP1xcXCJcXFwiK2lkeCtcXFwiICs9IFxcXCIrdGhpcy5zdGVwVmFyOmtub3duP25hbWVkSW5kZXg/dG8+PWZyb20/XFxcIisrXFxcIitpZHg6XFxcIi0tXFxcIitpZHg6dG8+PWZyb20/XFxcIlxcXCIraWR4K1xcXCIrK1xcXCI6XFxcIlxcXCIraWR4K1xcXCItLVxcXCI6bmFtZWRJbmRleD9cXFwiXFxcIitjb25kK1xcXCIgPyArK1xcXCIraWR4K1xcXCIgOiAtLVxcXCIraWR4OlxcXCJcXFwiK2NvbmQrXFxcIiA/IFxcXCIraWR4K1xcXCIrKyA6IFxcXCIraWR4K1xcXCItLVxcXCIsbmFtZWRJbmRleCYmKHZhclBhcnQ9XFxcIlxcXCIraWR4TmFtZStcXFwiID0gXFxcIit2YXJQYXJ0KSxuYW1lZEluZGV4JiYoc3RlcFBhcnQ9XFxcIlxcXCIraWR4TmFtZStcXFwiID0gXFxcIitzdGVwUGFydCksW3RoaXMubWFrZUNvZGUoXFxcIlxcXCIrdmFyUGFydCtcXFwiOyBcXFwiK2NvbmRQYXJ0K1xcXCI7IFxcXCIrc3RlcFBhcnQpXSk6dGhpcy5jb21waWxlQXJyYXkobyl9LFJhbmdlLnByb3RvdHlwZS5jb21waWxlQXJyYXk9ZnVuY3Rpb24obyl7dmFyIGFyZ3MsYm9keSxjb25kLGhhc0FyZ3MsaSxpZHQscG9zdCxwcmUscmFuZ2UscmVzdWx0LHZhcnMsX3JlZjQsX3Jlc3VsdHM7cmV0dXJuIHRoaXMuZnJvbU51bSYmdGhpcy50b051bSYmMjA+PU1hdGguYWJzKHRoaXMuZnJvbU51bS10aGlzLnRvTnVtKT8ocmFuZ2U9ZnVuY3Rpb24oKXtfcmVzdWx0cz1bXTtmb3IodmFyIF9pPV9yZWY0PSt0aGlzLmZyb21OdW0sX3JlZjU9K3RoaXMudG9OdW07X3JlZjU+PV9yZWY0P19yZWY1Pj1faTpfaT49X3JlZjU7X3JlZjU+PV9yZWY0P19pKys6X2ktLSlfcmVzdWx0cy5wdXNoKF9pKTtyZXR1cm4gX3Jlc3VsdHN9LmFwcGx5KHRoaXMpLHRoaXMuZXhjbHVzaXZlJiZyYW5nZS5wb3AoKSxbdGhpcy5tYWtlQ29kZShcXFwiW1xcXCIrcmFuZ2Uuam9pbihcXFwiLCBcXFwiKStcXFwiXVxcXCIpXSk6KGlkdD10aGlzLnRhYitUQUIsaT1vLnNjb3BlLmZyZWVWYXJpYWJsZShcXFwiaVxcXCIpLHJlc3VsdD1vLnNjb3BlLmZyZWVWYXJpYWJsZShcXFwicmVzdWx0c1xcXCIpLHByZT1cXFwiXFxcXG5cXFwiK2lkdCtyZXN1bHQrXFxcIiA9IFtdO1xcXCIsdGhpcy5mcm9tTnVtJiZ0aGlzLnRvTnVtPyhvLmluZGV4PWksYm9keT1mcmFnbWVudHNUb1RleHQodGhpcy5jb21waWxlTm9kZShvKSkpOih2YXJzPVxcXCJcXFwiK2krXFxcIiA9IFxcXCIrdGhpcy5mcm9tQysodGhpcy50b0MhPT10aGlzLnRvVmFyP1xcXCIsIFxcXCIrdGhpcy50b0M6XFxcIlxcXCIpLGNvbmQ9XFxcIlxcXCIrdGhpcy5mcm9tVmFyK1xcXCIgPD0gXFxcIit0aGlzLnRvVmFyLGJvZHk9XFxcInZhciBcXFwiK3ZhcnMrXFxcIjsgXFxcIitjb25kK1xcXCIgPyBcXFwiK2krXFxcIiA8XFxcIit0aGlzLmVxdWFscytcXFwiIFxcXCIrdGhpcy50b1ZhcitcXFwiIDogXFxcIitpK1xcXCIgPlxcXCIrdGhpcy5lcXVhbHMrXFxcIiBcXFwiK3RoaXMudG9WYXIrXFxcIjsgXFxcIitjb25kK1xcXCIgPyBcXFwiK2krXFxcIisrIDogXFxcIitpK1xcXCItLVxcXCIpLHBvc3Q9XFxcInsgXFxcIityZXN1bHQrXFxcIi5wdXNoKFxcXCIraStcXFwiKTsgfVxcXFxuXFxcIitpZHQrXFxcInJldHVybiBcXFwiK3Jlc3VsdCtcXFwiO1xcXFxuXFxcIitvLmluZGVudCxoYXNBcmdzPWZ1bmN0aW9uKG5vZGUpe3JldHVybiBudWxsIT1ub2RlP25vZGUuY29udGFpbnMoZnVuY3Rpb24obil7cmV0dXJuIG4gaW5zdGFuY2VvZiBMaXRlcmFsJiZcXFwiYXJndW1lbnRzXFxcIj09PW4udmFsdWUmJiFuLmFzS2V5fSk6dm9pZCAwfSwoaGFzQXJncyh0aGlzLmZyb20pfHxoYXNBcmdzKHRoaXMudG8pKSYmKGFyZ3M9XFxcIiwgYXJndW1lbnRzXFxcIiksW3RoaXMubWFrZUNvZGUoXFxcIihmdW5jdGlvbigpIHtcXFwiK3ByZStcXFwiXFxcXG5cXFwiK2lkdCtcXFwiZm9yIChcXFwiK2JvZHkrXFxcIilcXFwiK3Bvc3QrXFxcIn0pLmFwcGx5KHRoaXNcXFwiKyhudWxsIT1hcmdzP2FyZ3M6XFxcIlxcXCIpK1xcXCIpXFxcIildKX0sUmFuZ2V9KEJhc2UpLGV4cG9ydHMuU2xpY2U9U2xpY2U9ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBTbGljZShyYW5nZSl7dGhpcy5yYW5nZT1yYW5nZSxTbGljZS5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzKX1yZXR1cm4gX19leHRlbmRzKFNsaWNlLF9zdXBlciksU2xpY2UucHJvdG90eXBlLmNoaWxkcmVuPVtcXFwicmFuZ2VcXFwiXSxTbGljZS5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24obyl7dmFyIGNvbXBpbGVkLGNvbXBpbGVkVGV4dCxmcm9tLGZyb21Db21waWxlZCx0byx0b1N0cixfcmVmNDtyZXR1cm4gX3JlZjQ9dGhpcy5yYW5nZSx0bz1fcmVmNC50byxmcm9tPV9yZWY0LmZyb20sZnJvbUNvbXBpbGVkPWZyb20mJmZyb20uY29tcGlsZVRvRnJhZ21lbnRzKG8sTEVWRUxfUEFSRU4pfHxbdGhpcy5tYWtlQ29kZShcXFwiMFxcXCIpXSx0byYmKGNvbXBpbGVkPXRvLmNvbXBpbGVUb0ZyYWdtZW50cyhvLExFVkVMX1BBUkVOKSxjb21waWxlZFRleHQ9ZnJhZ21lbnRzVG9UZXh0KGNvbXBpbGVkKSwodGhpcy5yYW5nZS5leGNsdXNpdmV8fC0xIT09K2NvbXBpbGVkVGV4dCkmJih0b1N0cj1cXFwiLCBcXFwiKyh0aGlzLnJhbmdlLmV4Y2x1c2l2ZT9jb21waWxlZFRleHQ6U0lNUExFTlVNLnRlc3QoY29tcGlsZWRUZXh0KT9cXFwiXFxcIisoK2NvbXBpbGVkVGV4dCsxKTooY29tcGlsZWQ9dG8uY29tcGlsZVRvRnJhZ21lbnRzKG8sTEVWRUxfQUNDRVNTKSxcXFwiK1xcXCIrZnJhZ21lbnRzVG9UZXh0KGNvbXBpbGVkKStcXFwiICsgMSB8fCA5ZTlcXFwiKSkpKSxbdGhpcy5tYWtlQ29kZShcXFwiLnNsaWNlKFxcXCIrZnJhZ21lbnRzVG9UZXh0KGZyb21Db21waWxlZCkrKHRvU3RyfHxcXFwiXFxcIikrXFxcIilcXFwiKV19LFNsaWNlfShCYXNlKSxleHBvcnRzLk9iaj1PYmo9ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBPYmoocHJvcHMsZ2VuZXJhdGVkKXt0aGlzLmdlbmVyYXRlZD1udWxsIT1nZW5lcmF0ZWQ/Z2VuZXJhdGVkOiExLHRoaXMub2JqZWN0cz10aGlzLnByb3BlcnRpZXM9cHJvcHN8fFtdfXJldHVybiBfX2V4dGVuZHMoT2JqLF9zdXBlciksT2JqLnByb3RvdHlwZS5jaGlsZHJlbj1bXFxcInByb3BlcnRpZXNcXFwiXSxPYmoucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKG8pe3ZhciBhbnN3ZXIsaSxpZHQsaW5kZW50LGpvaW4sbGFzdE5vbmNvbSxub2RlLHByb3AscHJvcHMsX2ksX2osX2xlbixfbGVuMTtpZihwcm9wcz10aGlzLnByb3BlcnRpZXMsIXByb3BzLmxlbmd0aClyZXR1cm5bdGhpcy5tYWtlQ29kZSh0aGlzLmZyb250P1xcXCIoe30pXFxcIjpcXFwie31cXFwiKV07aWYodGhpcy5nZW5lcmF0ZWQpZm9yKF9pPTAsX2xlbj1wcm9wcy5sZW5ndGg7X2xlbj5faTtfaSsrKW5vZGU9cHJvcHNbX2ldLG5vZGUgaW5zdGFuY2VvZiBWYWx1ZSYmbm9kZS5lcnJvcihcXFwiY2Fubm90IGhhdmUgYW4gaW1wbGljaXQgdmFsdWUgaW4gYW4gaW1wbGljaXQgb2JqZWN0XFxcIik7Zm9yKGlkdD1vLmluZGVudCs9VEFCLGxhc3ROb25jb209dGhpcy5sYXN0Tm9uQ29tbWVudCh0aGlzLnByb3BlcnRpZXMpLGFuc3dlcj1bXSxpPV9qPTAsX2xlbjE9cHJvcHMubGVuZ3RoO19sZW4xPl9qO2k9Kytfailwcm9wPXByb3BzW2ldLGpvaW49aT09PXByb3BzLmxlbmd0aC0xP1xcXCJcXFwiOnByb3A9PT1sYXN0Tm9uY29tfHxwcm9wIGluc3RhbmNlb2YgQ29tbWVudD9cXFwiXFxcXG5cXFwiOlxcXCIsXFxcXG5cXFwiLGluZGVudD1wcm9wIGluc3RhbmNlb2YgQ29tbWVudD9cXFwiXFxcIjppZHQscHJvcCBpbnN0YW5jZW9mIEFzc2lnbiYmcHJvcC52YXJpYWJsZSBpbnN0YW5jZW9mIFZhbHVlJiZwcm9wLnZhcmlhYmxlLmhhc1Byb3BlcnRpZXMoKSYmcHJvcC52YXJpYWJsZS5lcnJvcihcXFwiSW52YWxpZCBvYmplY3Qga2V5XFxcIikscHJvcCBpbnN0YW5jZW9mIFZhbHVlJiZwcm9wW1xcXCJ0aGlzXFxcIl0mJihwcm9wPW5ldyBBc3NpZ24ocHJvcC5wcm9wZXJ0aWVzWzBdLm5hbWUscHJvcCxcXFwib2JqZWN0XFxcIikpLHByb3AgaW5zdGFuY2VvZiBDb21tZW50fHwocHJvcCBpbnN0YW5jZW9mIEFzc2lnbnx8KHByb3A9bmV3IEFzc2lnbihwcm9wLHByb3AsXFxcIm9iamVjdFxcXCIpKSwocHJvcC52YXJpYWJsZS5iYXNlfHxwcm9wLnZhcmlhYmxlKS5hc0tleT0hMCksaW5kZW50JiZhbnN3ZXIucHVzaCh0aGlzLm1ha2VDb2RlKGluZGVudCkpLGFuc3dlci5wdXNoLmFwcGx5KGFuc3dlcixwcm9wLmNvbXBpbGVUb0ZyYWdtZW50cyhvLExFVkVMX1RPUCkpLGpvaW4mJmFuc3dlci5wdXNoKHRoaXMubWFrZUNvZGUoam9pbikpO3JldHVybiBhbnN3ZXIudW5zaGlmdCh0aGlzLm1ha2VDb2RlKFxcXCJ7XFxcIisocHJvcHMubGVuZ3RoJiZcXFwiXFxcXG5cXFwiKSkpLGFuc3dlci5wdXNoKHRoaXMubWFrZUNvZGUoXFxcIlxcXCIrKHByb3BzLmxlbmd0aCYmXFxcIlxcXFxuXFxcIit0aGlzLnRhYikrXFxcIn1cXFwiKSksdGhpcy5mcm9udD90aGlzLndyYXBJbkJyYWNlcyhhbnN3ZXIpOmFuc3dlcn0sT2JqLnByb3RvdHlwZS5hc3NpZ25zPWZ1bmN0aW9uKG5hbWUpe3ZhciBwcm9wLF9pLF9sZW4sX3JlZjQ7Zm9yKF9yZWY0PXRoaXMucHJvcGVydGllcyxfaT0wLF9sZW49X3JlZjQubGVuZ3RoO19sZW4+X2k7X2krKylpZihwcm9wPV9yZWY0W19pXSxwcm9wLmFzc2lnbnMobmFtZSkpcmV0dXJuITA7cmV0dXJuITF9LE9ian0oQmFzZSksZXhwb3J0cy5BcnI9QXJyPWZ1bmN0aW9uKF9zdXBlcil7ZnVuY3Rpb24gQXJyKG9ianMpe3RoaXMub2JqZWN0cz1vYmpzfHxbXX1yZXR1cm4gX19leHRlbmRzKEFycixfc3VwZXIpLEFyci5wcm90b3R5cGUuY2hpbGRyZW49W1xcXCJvYmplY3RzXFxcIl0sQXJyLnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihvKXt2YXIgYW5zd2VyLGNvbXBpbGVkT2JqcyxmcmFnbWVudHMsaW5kZXgsb2JqLF9pLF9sZW47aWYoIXRoaXMub2JqZWN0cy5sZW5ndGgpcmV0dXJuW3RoaXMubWFrZUNvZGUoXFxcIltdXFxcIildO2lmKG8uaW5kZW50Kz1UQUIsYW5zd2VyPVNwbGF0LmNvbXBpbGVTcGxhdHRlZEFycmF5KG8sdGhpcy5vYmplY3RzKSxhbnN3ZXIubGVuZ3RoKXJldHVybiBhbnN3ZXI7Zm9yKGFuc3dlcj1bXSxjb21waWxlZE9ianM9ZnVuY3Rpb24oKXt2YXIgX2ksX2xlbixfcmVmNCxfcmVzdWx0cztmb3IoX3JlZjQ9dGhpcy5vYmplY3RzLF9yZXN1bHRzPVtdLF9pPTAsX2xlbj1fcmVmNC5sZW5ndGg7X2xlbj5faTtfaSsrKW9iaj1fcmVmNFtfaV0sX3Jlc3VsdHMucHVzaChvYmouY29tcGlsZVRvRnJhZ21lbnRzKG8sTEVWRUxfTElTVCkpO3JldHVybiBfcmVzdWx0c30uY2FsbCh0aGlzKSxpbmRleD1faT0wLF9sZW49Y29tcGlsZWRPYmpzLmxlbmd0aDtfbGVuPl9pO2luZGV4PSsrX2kpZnJhZ21lbnRzPWNvbXBpbGVkT2Jqc1tpbmRleF0saW5kZXgmJmFuc3dlci5wdXNoKHRoaXMubWFrZUNvZGUoXFxcIiwgXFxcIikpLGFuc3dlci5wdXNoLmFwcGx5KGFuc3dlcixmcmFnbWVudHMpO3JldHVybiBmcmFnbWVudHNUb1RleHQoYW5zd2VyKS5pbmRleE9mKFxcXCJcXFxcblxcXCIpPj0wPyhhbnN3ZXIudW5zaGlmdCh0aGlzLm1ha2VDb2RlKFxcXCJbXFxcXG5cXFwiK28uaW5kZW50KSksYW5zd2VyLnB1c2godGhpcy5tYWtlQ29kZShcXFwiXFxcXG5cXFwiK3RoaXMudGFiK1xcXCJdXFxcIikpKTooYW5zd2VyLnVuc2hpZnQodGhpcy5tYWtlQ29kZShcXFwiW1xcXCIpKSxhbnN3ZXIucHVzaCh0aGlzLm1ha2VDb2RlKFxcXCJdXFxcIikpKSxhbnN3ZXJ9LEFyci5wcm90b3R5cGUuYXNzaWducz1mdW5jdGlvbihuYW1lKXt2YXIgb2JqLF9pLF9sZW4sX3JlZjQ7Zm9yKF9yZWY0PXRoaXMub2JqZWN0cyxfaT0wLF9sZW49X3JlZjQubGVuZ3RoO19sZW4+X2k7X2krKylpZihvYmo9X3JlZjRbX2ldLG9iai5hc3NpZ25zKG5hbWUpKXJldHVybiEwO3JldHVybiExXFxufSxBcnJ9KEJhc2UpLGV4cG9ydHMuQ2xhc3M9Q2xhc3M9ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBDbGFzcyh2YXJpYWJsZSxwYXJlbnQsYm9keSl7dGhpcy52YXJpYWJsZT12YXJpYWJsZSx0aGlzLnBhcmVudD1wYXJlbnQsdGhpcy5ib2R5PW51bGwhPWJvZHk/Ym9keTpuZXcgQmxvY2ssdGhpcy5ib3VuZEZ1bmNzPVtdLHRoaXMuYm9keS5jbGFzc0JvZHk9ITB9cmV0dXJuIF9fZXh0ZW5kcyhDbGFzcyxfc3VwZXIpLENsYXNzLnByb3RvdHlwZS5jaGlsZHJlbj1bXFxcInZhcmlhYmxlXFxcIixcXFwicGFyZW50XFxcIixcXFwiYm9keVxcXCJdLENsYXNzLnByb3RvdHlwZS5kZXRlcm1pbmVOYW1lPWZ1bmN0aW9uKCl7dmFyIGRlY2wsdGFpbDtyZXR1cm4gdGhpcy52YXJpYWJsZT8oZGVjbD0odGFpbD1sYXN0KHRoaXMudmFyaWFibGUucHJvcGVydGllcykpP3RhaWwgaW5zdGFuY2VvZiBBY2Nlc3MmJnRhaWwubmFtZS52YWx1ZTp0aGlzLnZhcmlhYmxlLmJhc2UudmFsdWUsX19pbmRleE9mLmNhbGwoU1RSSUNUX1BST1NDUklCRUQsZGVjbCk+PTAmJnRoaXMudmFyaWFibGUuZXJyb3IoXFxcImNsYXNzIHZhcmlhYmxlIG5hbWUgbWF5IG5vdCBiZSBcXFwiK2RlY2wpLGRlY2wmJihkZWNsPUlERU5USUZJRVIudGVzdChkZWNsKSYmZGVjbCkpOm51bGx9LENsYXNzLnByb3RvdHlwZS5zZXRDb250ZXh0PWZ1bmN0aW9uKG5hbWUpe3JldHVybiB0aGlzLmJvZHkudHJhdmVyc2VDaGlsZHJlbighMSxmdW5jdGlvbihub2RlKXtyZXR1cm4gbm9kZS5jbGFzc0JvZHk/ITE6bm9kZSBpbnN0YW5jZW9mIExpdGVyYWwmJlxcXCJ0aGlzXFxcIj09PW5vZGUudmFsdWU/bm9kZS52YWx1ZT1uYW1lOm5vZGUgaW5zdGFuY2VvZiBDb2RlJiYobm9kZS5rbGFzcz1uYW1lLG5vZGUuYm91bmQpP25vZGUuY29udGV4dD1uYW1lOnZvaWQgMH0pfSxDbGFzcy5wcm90b3R5cGUuYWRkQm91bmRGdW5jdGlvbnM9ZnVuY3Rpb24obyl7dmFyIGJ2YXIsbGhzLF9pLF9sZW4sX3JlZjQ7Zm9yKF9yZWY0PXRoaXMuYm91bmRGdW5jcyxfaT0wLF9sZW49X3JlZjQubGVuZ3RoO19sZW4+X2k7X2krKylidmFyPV9yZWY0W19pXSxsaHM9bmV3IFZhbHVlKG5ldyBMaXRlcmFsKFxcXCJ0aGlzXFxcIiksW25ldyBBY2Nlc3MoYnZhcildKS5jb21waWxlKG8pLHRoaXMuY3Rvci5ib2R5LnVuc2hpZnQobmV3IExpdGVyYWwoXFxcIlxcXCIrbGhzK1xcXCIgPSBcXFwiK3V0aWxpdHkoXFxcImJpbmRcXFwiKStcXFwiKFxcXCIrbGhzK1xcXCIsIHRoaXMpXFxcIikpfSxDbGFzcy5wcm90b3R5cGUuYWRkUHJvcGVydGllcz1mdW5jdGlvbihub2RlLG5hbWUsbyl7dmFyIGFzc2lnbixiYXNlLGV4cHJzLGZ1bmMscHJvcHM7cmV0dXJuIHByb3BzPW5vZGUuYmFzZS5wcm9wZXJ0aWVzLnNsaWNlKDApLGV4cHJzPWZ1bmN0aW9uKCl7dmFyIF9yZXN1bHRzO2ZvcihfcmVzdWx0cz1bXTthc3NpZ249cHJvcHMuc2hpZnQoKTspYXNzaWduIGluc3RhbmNlb2YgQXNzaWduJiYoYmFzZT1hc3NpZ24udmFyaWFibGUuYmFzZSxkZWxldGUgYXNzaWduLmNvbnRleHQsZnVuYz1hc3NpZ24udmFsdWUsXFxcImNvbnN0cnVjdG9yXFxcIj09PWJhc2UudmFsdWU/KHRoaXMuY3RvciYmYXNzaWduLmVycm9yKFxcXCJjYW5ub3QgZGVmaW5lIG1vcmUgdGhhbiBvbmUgY29uc3RydWN0b3IgaW4gYSBjbGFzc1xcXCIpLGZ1bmMuYm91bmQmJmFzc2lnbi5lcnJvcihcXFwiY2Fubm90IGRlZmluZSBhIGNvbnN0cnVjdG9yIGFzIGEgYm91bmQgZnVuY3Rpb25cXFwiKSxmdW5jIGluc3RhbmNlb2YgQ29kZT9hc3NpZ249dGhpcy5jdG9yPWZ1bmM6KHRoaXMuZXh0ZXJuYWxDdG9yPW8uc2NvcGUuZnJlZVZhcmlhYmxlKFxcXCJjbGFzc1xcXCIpLGFzc2lnbj1uZXcgQXNzaWduKG5ldyBMaXRlcmFsKHRoaXMuZXh0ZXJuYWxDdG9yKSxmdW5jKSkpOmFzc2lnbi52YXJpYWJsZVtcXFwidGhpc1xcXCJdPyhmdW5jW1xcXCJzdGF0aWNcXFwiXT0hMCxmdW5jLmJvdW5kJiYoZnVuYy5jb250ZXh0PW5hbWUpKTooYXNzaWduLnZhcmlhYmxlPW5ldyBWYWx1ZShuZXcgTGl0ZXJhbChuYW1lKSxbbmV3IEFjY2VzcyhuZXcgTGl0ZXJhbChcXFwicHJvdG90eXBlXFxcIikpLG5ldyBBY2Nlc3MoYmFzZSldKSxmdW5jIGluc3RhbmNlb2YgQ29kZSYmZnVuYy5ib3VuZCYmKHRoaXMuYm91bmRGdW5jcy5wdXNoKGJhc2UpLGZ1bmMuYm91bmQ9ITEpKSksX3Jlc3VsdHMucHVzaChhc3NpZ24pO3JldHVybiBfcmVzdWx0c30uY2FsbCh0aGlzKSxjb21wYWN0KGV4cHJzKX0sQ2xhc3MucHJvdG90eXBlLndhbGtCb2R5PWZ1bmN0aW9uKG5hbWUsbyl7dmFyIF90aGlzPXRoaXM7cmV0dXJuIHRoaXMudHJhdmVyc2VDaGlsZHJlbighMSxmdW5jdGlvbihjaGlsZCl7dmFyIGNvbnQsZXhwcyxpLG5vZGUsX2ksX2xlbixfcmVmNDtpZihjb250PSEwLGNoaWxkIGluc3RhbmNlb2YgQ2xhc3MpcmV0dXJuITE7aWYoY2hpbGQgaW5zdGFuY2VvZiBCbG9jayl7Zm9yKF9yZWY0PWV4cHM9Y2hpbGQuZXhwcmVzc2lvbnMsaT1faT0wLF9sZW49X3JlZjQubGVuZ3RoO19sZW4+X2k7aT0rK19pKW5vZGU9X3JlZjRbaV0sbm9kZSBpbnN0YW5jZW9mIFZhbHVlJiZub2RlLmlzT2JqZWN0KCEwKSYmKGNvbnQ9ITEsZXhwc1tpXT1fdGhpcy5hZGRQcm9wZXJ0aWVzKG5vZGUsbmFtZSxvKSk7Y2hpbGQuZXhwcmVzc2lvbnM9ZXhwcz1mbGF0dGVuKGV4cHMpfXJldHVybiBjb250JiYhKGNoaWxkIGluc3RhbmNlb2YgQ2xhc3MpfSl9LENsYXNzLnByb3RvdHlwZS5ob2lzdERpcmVjdGl2ZVByb2xvZ3VlPWZ1bmN0aW9uKCl7dmFyIGV4cHJlc3Npb25zLGluZGV4LG5vZGU7Zm9yKGluZGV4PTAsZXhwcmVzc2lvbnM9dGhpcy5ib2R5LmV4cHJlc3Npb25zOyhub2RlPWV4cHJlc3Npb25zW2luZGV4XSkmJm5vZGUgaW5zdGFuY2VvZiBDb21tZW50fHxub2RlIGluc3RhbmNlb2YgVmFsdWUmJm5vZGUuaXNTdHJpbmcoKTspKytpbmRleDtyZXR1cm4gdGhpcy5kaXJlY3RpdmVzPWV4cHJlc3Npb25zLnNwbGljZSgwLGluZGV4KX0sQ2xhc3MucHJvdG90eXBlLmVuc3VyZUNvbnN0cnVjdG9yPWZ1bmN0aW9uKG5hbWUsbyl7dmFyIG1pc3NpbmcscmVmLHN1cGVyQ2FsbDtyZXR1cm4gbWlzc2luZz0hdGhpcy5jdG9yLHRoaXMuY3Rvcnx8KHRoaXMuY3Rvcj1uZXcgQ29kZSksdGhpcy5jdG9yLmN0b3I9dGhpcy5jdG9yLm5hbWU9bmFtZSx0aGlzLmN0b3Iua2xhc3M9bnVsbCx0aGlzLmN0b3Iubm9SZXR1cm49ITAsbWlzc2luZz8odGhpcy5wYXJlbnQmJihzdXBlckNhbGw9bmV3IExpdGVyYWwoXFxcIlxcXCIrbmFtZStcXFwiLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpXFxcIikpLHRoaXMuZXh0ZXJuYWxDdG9yJiYoc3VwZXJDYWxsPW5ldyBMaXRlcmFsKFxcXCJcXFwiK3RoaXMuZXh0ZXJuYWxDdG9yK1xcXCIuYXBwbHkodGhpcywgYXJndW1lbnRzKVxcXCIpKSxzdXBlckNhbGwmJihyZWY9bmV3IExpdGVyYWwoby5zY29wZS5mcmVlVmFyaWFibGUoXFxcInJlZlxcXCIpKSx0aGlzLmN0b3IuYm9keS51bnNoaWZ0KG5ldyBBc3NpZ24ocmVmLHN1cGVyQ2FsbCkpKSx0aGlzLmFkZEJvdW5kRnVuY3Rpb25zKG8pLHN1cGVyQ2FsbCYmKHRoaXMuY3Rvci5ib2R5LnB1c2gocmVmKSx0aGlzLmN0b3IuYm9keS5tYWtlUmV0dXJuKCkpLHRoaXMuYm9keS5leHByZXNzaW9ucy51bnNoaWZ0KHRoaXMuY3RvcikpOnRoaXMuYWRkQm91bmRGdW5jdGlvbnMobyl9LENsYXNzLnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihvKXt2YXIgY2FsbCxkZWNsLGtsYXNzLGxuYW1lLG5hbWUscGFyYW1zLF9yZWY0O3JldHVybiBkZWNsPXRoaXMuZGV0ZXJtaW5lTmFtZSgpLG5hbWU9ZGVjbHx8XFxcIl9DbGFzc1xcXCIsbmFtZS5yZXNlcnZlZCYmKG5hbWU9XFxcIl9cXFwiK25hbWUpLGxuYW1lPW5ldyBMaXRlcmFsKG5hbWUpLHRoaXMuaG9pc3REaXJlY3RpdmVQcm9sb2d1ZSgpLHRoaXMuc2V0Q29udGV4dChuYW1lKSx0aGlzLndhbGtCb2R5KG5hbWUsbyksdGhpcy5lbnN1cmVDb25zdHJ1Y3RvcihuYW1lLG8pLHRoaXMuYm9keS5zcGFjZWQ9ITAsdGhpcy5jdG9yIGluc3RhbmNlb2YgQ29kZXx8dGhpcy5ib2R5LmV4cHJlc3Npb25zLnVuc2hpZnQodGhpcy5jdG9yKSx0aGlzLmJvZHkuZXhwcmVzc2lvbnMucHVzaChsbmFtZSksKF9yZWY0PXRoaXMuYm9keS5leHByZXNzaW9ucykudW5zaGlmdC5hcHBseShfcmVmNCx0aGlzLmRpcmVjdGl2ZXMpLGNhbGw9Q2xvc3VyZS53cmFwKHRoaXMuYm9keSksdGhpcy5wYXJlbnQmJih0aGlzLnN1cGVyQ2xhc3M9bmV3IExpdGVyYWwoby5zY29wZS5mcmVlVmFyaWFibGUoXFxcInN1cGVyXFxcIiwhMSkpLHRoaXMuYm9keS5leHByZXNzaW9ucy51bnNoaWZ0KG5ldyBFeHRlbmRzKGxuYW1lLHRoaXMuc3VwZXJDbGFzcykpLGNhbGwuYXJncy5wdXNoKHRoaXMucGFyZW50KSxwYXJhbXM9Y2FsbC52YXJpYWJsZS5wYXJhbXN8fGNhbGwudmFyaWFibGUuYmFzZS5wYXJhbXMscGFyYW1zLnB1c2gobmV3IFBhcmFtKHRoaXMuc3VwZXJDbGFzcykpKSxrbGFzcz1uZXcgUGFyZW5zKGNhbGwsITApLHRoaXMudmFyaWFibGUmJihrbGFzcz1uZXcgQXNzaWduKHRoaXMudmFyaWFibGUsa2xhc3MpKSxrbGFzcy5jb21waWxlVG9GcmFnbWVudHMobyl9LENsYXNzfShCYXNlKSxleHBvcnRzLkFzc2lnbj1Bc3NpZ249ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBBc3NpZ24odmFyaWFibGUsdmFsdWUsY29udGV4dCxvcHRpb25zKXt2YXIgZm9yYmlkZGVuLG5hbWUsX3JlZjQ7dGhpcy52YXJpYWJsZT12YXJpYWJsZSx0aGlzLnZhbHVlPXZhbHVlLHRoaXMuY29udGV4dD1jb250ZXh0LHRoaXMucGFyYW09b3B0aW9ucyYmb3B0aW9ucy5wYXJhbSx0aGlzLnN1YnBhdHRlcm49b3B0aW9ucyYmb3B0aW9ucy5zdWJwYXR0ZXJuLF9yZWY0PW5hbWU9dGhpcy52YXJpYWJsZS51bndyYXBBbGwoKS52YWx1ZSxmb3JiaWRkZW49X19pbmRleE9mLmNhbGwoU1RSSUNUX1BST1NDUklCRUQsX3JlZjQpPj0wLGZvcmJpZGRlbiYmXFxcIm9iamVjdFxcXCIhPT10aGlzLmNvbnRleHQmJnRoaXMudmFyaWFibGUuZXJyb3IoJ3ZhcmlhYmxlIG5hbWUgbWF5IG5vdCBiZSBcXFwiJytuYW1lKydcXFwiJyl9cmV0dXJuIF9fZXh0ZW5kcyhBc3NpZ24sX3N1cGVyKSxBc3NpZ24ucHJvdG90eXBlLmNoaWxkcmVuPVtcXFwidmFyaWFibGVcXFwiLFxcXCJ2YWx1ZVxcXCJdLEFzc2lnbi5wcm90b3R5cGUuaXNTdGF0ZW1lbnQ9ZnVuY3Rpb24obyl7cmV0dXJuKG51bGwhPW8/by5sZXZlbDp2b2lkIDApPT09TEVWRUxfVE9QJiZudWxsIT10aGlzLmNvbnRleHQmJl9faW5kZXhPZi5jYWxsKHRoaXMuY29udGV4dCxcXFwiP1xcXCIpPj0wfSxBc3NpZ24ucHJvdG90eXBlLmFzc2lnbnM9ZnVuY3Rpb24obmFtZSl7cmV0dXJuIHRoaXNbXFxcIm9iamVjdFxcXCI9PT10aGlzLmNvbnRleHQ/XFxcInZhbHVlXFxcIjpcXFwidmFyaWFibGVcXFwiXS5hc3NpZ25zKG5hbWUpfSxBc3NpZ24ucHJvdG90eXBlLnVuZm9sZFNvYWs9ZnVuY3Rpb24obyl7cmV0dXJuIHVuZm9sZFNvYWsobyx0aGlzLFxcXCJ2YXJpYWJsZVxcXCIpfSxBc3NpZ24ucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKG8pe3ZhciBhbnN3ZXIsY29tcGlsZWROYW1lLGlzVmFsdWUsbWF0Y2gsbmFtZSx2YWwsdmFyQmFzZSxfcmVmNCxfcmVmNSxfcmVmNixfcmVmNztpZihpc1ZhbHVlPXRoaXMudmFyaWFibGUgaW5zdGFuY2VvZiBWYWx1ZSl7aWYodGhpcy52YXJpYWJsZS5pc0FycmF5KCl8fHRoaXMudmFyaWFibGUuaXNPYmplY3QoKSlyZXR1cm4gdGhpcy5jb21waWxlUGF0dGVybk1hdGNoKG8pO2lmKHRoaXMudmFyaWFibGUuaXNTcGxpY2UoKSlyZXR1cm4gdGhpcy5jb21waWxlU3BsaWNlKG8pO2lmKFxcXCJ8fD1cXFwiPT09KF9yZWY0PXRoaXMuY29udGV4dCl8fFxcXCImJj1cXFwiPT09X3JlZjR8fFxcXCI/PVxcXCI9PT1fcmVmNClyZXR1cm4gdGhpcy5jb21waWxlQ29uZGl0aW9uYWwobyl9cmV0dXJuIGNvbXBpbGVkTmFtZT10aGlzLnZhcmlhYmxlLmNvbXBpbGVUb0ZyYWdtZW50cyhvLExFVkVMX0xJU1QpLG5hbWU9ZnJhZ21lbnRzVG9UZXh0KGNvbXBpbGVkTmFtZSksdGhpcy5jb250ZXh0fHwodmFyQmFzZT10aGlzLnZhcmlhYmxlLnVud3JhcEFsbCgpLHZhckJhc2UuaXNBc3NpZ25hYmxlKCl8fHRoaXMudmFyaWFibGUuZXJyb3IoJ1xcXCInK3RoaXMudmFyaWFibGUuY29tcGlsZShvKSsnXFxcIiBjYW5ub3QgYmUgYXNzaWduZWQnKSwoXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIHZhckJhc2UuaGFzUHJvcGVydGllcz92YXJCYXNlLmhhc1Byb3BlcnRpZXMoKTp2b2lkIDApfHwodGhpcy5wYXJhbT9vLnNjb3BlLmFkZChuYW1lLFxcXCJ2YXJcXFwiKTpvLnNjb3BlLmZpbmQobmFtZSkpKSx0aGlzLnZhbHVlIGluc3RhbmNlb2YgQ29kZSYmKG1hdGNoPU1FVEhPRF9ERUYuZXhlYyhuYW1lKSkmJihtYXRjaFsxXSYmKHRoaXMudmFsdWUua2xhc3M9bWF0Y2hbMV0pLHRoaXMudmFsdWUubmFtZT1udWxsIT0oX3JlZjU9bnVsbCE9KF9yZWY2PW51bGwhPShfcmVmNz1tYXRjaFsyXSk/X3JlZjc6bWF0Y2hbM10pP19yZWY2Om1hdGNoWzRdKT9fcmVmNTptYXRjaFs1XSksdmFsPXRoaXMudmFsdWUuY29tcGlsZVRvRnJhZ21lbnRzKG8sTEVWRUxfTElTVCksXFxcIm9iamVjdFxcXCI9PT10aGlzLmNvbnRleHQ/Y29tcGlsZWROYW1lLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFxcXCI6IFxcXCIpLHZhbCk6KGFuc3dlcj1jb21waWxlZE5hbWUuY29uY2F0KHRoaXMubWFrZUNvZGUoXFxcIiBcXFwiKyh0aGlzLmNvbnRleHR8fFxcXCI9XFxcIikrXFxcIiBcXFwiKSx2YWwpLExFVkVMX0xJU1Q+PW8ubGV2ZWw/YW5zd2VyOnRoaXMud3JhcEluQnJhY2VzKGFuc3dlcikpfSxBc3NpZ24ucHJvdG90eXBlLmNvbXBpbGVQYXR0ZXJuTWF0Y2g9ZnVuY3Rpb24obyl7dmFyIGFjYyxhc3NpZ25zLGNvZGUsZnJhZ21lbnRzLGksaWR4LGlzT2JqZWN0LGl2YXIsbmFtZSxvYmosb2JqZWN0cyxvbGVuLHJlZixyZXN0LHNwbGF0LHRvcCx2YWwsdmFsdWUsdnZhcix2dmFyVGV4dCxfaSxfbGVuLF9yZWY0LF9yZWY1LF9yZWY2LF9yZWY3LF9yZWY4LF9yZWY5O2lmKHRvcD1vLmxldmVsPT09TEVWRUxfVE9QLHZhbHVlPXRoaXMudmFsdWUsb2JqZWN0cz10aGlzLnZhcmlhYmxlLmJhc2Uub2JqZWN0cywhKG9sZW49b2JqZWN0cy5sZW5ndGgpKXJldHVybiBjb2RlPXZhbHVlLmNvbXBpbGVUb0ZyYWdtZW50cyhvKSxvLmxldmVsPj1MRVZFTF9PUD90aGlzLndyYXBJbkJyYWNlcyhjb2RlKTpjb2RlO2lmKGlzT2JqZWN0PXRoaXMudmFyaWFibGUuaXNPYmplY3QoKSx0b3AmJjE9PT1vbGVuJiYhKChvYmo9b2JqZWN0c1swXSlpbnN0YW5jZW9mIFNwbGF0KSlyZXR1cm4gb2JqIGluc3RhbmNlb2YgQXNzaWduPyhfcmVmND1vYmosX3JlZjU9X3JlZjQudmFyaWFibGUsaWR4PV9yZWY1LmJhc2Usb2JqPV9yZWY0LnZhbHVlKTppZHg9aXNPYmplY3Q/b2JqW1xcXCJ0aGlzXFxcIl0/b2JqLnByb3BlcnRpZXNbMF0ubmFtZTpvYmo6bmV3IExpdGVyYWwoMCksYWNjPUlERU5USUZJRVIudGVzdChpZHgudW53cmFwKCkudmFsdWV8fDApLHZhbHVlPW5ldyBWYWx1ZSh2YWx1ZSksdmFsdWUucHJvcGVydGllcy5wdXNoKG5ldyhhY2M/QWNjZXNzOkluZGV4KShpZHgpKSxfcmVmNj1vYmoudW53cmFwKCkudmFsdWUsX19pbmRleE9mLmNhbGwoUkVTRVJWRUQsX3JlZjYpPj0wJiZvYmouZXJyb3IoXFxcImFzc2lnbm1lbnQgdG8gYSByZXNlcnZlZCB3b3JkOiBcXFwiK29iai5jb21waWxlKG8pKSxuZXcgQXNzaWduKG9iaix2YWx1ZSxudWxsLHtwYXJhbTp0aGlzLnBhcmFtfSkuY29tcGlsZVRvRnJhZ21lbnRzKG8sTEVWRUxfVE9QKTtmb3IodnZhcj12YWx1ZS5jb21waWxlVG9GcmFnbWVudHMobyxMRVZFTF9MSVNUKSx2dmFyVGV4dD1mcmFnbWVudHNUb1RleHQodnZhciksYXNzaWducz1bXSxzcGxhdD0hMSwoIUlERU5USUZJRVIudGVzdCh2dmFyVGV4dCl8fHRoaXMudmFyaWFibGUuYXNzaWducyh2dmFyVGV4dCkpJiYoYXNzaWducy5wdXNoKFt0aGlzLm1ha2VDb2RlKFxcXCJcXFwiKyhyZWY9by5zY29wZS5mcmVlVmFyaWFibGUoXFxcInJlZlxcXCIpKStcXFwiID0gXFxcIildLmNvbmNhdChfX3NsaWNlLmNhbGwodnZhcikpKSx2dmFyPVt0aGlzLm1ha2VDb2RlKHJlZildLHZ2YXJUZXh0PXJlZiksaT1faT0wLF9sZW49b2JqZWN0cy5sZW5ndGg7X2xlbj5faTtpPSsrX2kpb2JqPW9iamVjdHNbaV0saWR4PWksaXNPYmplY3QmJihvYmogaW5zdGFuY2VvZiBBc3NpZ24/KF9yZWY3PW9iaixfcmVmOD1fcmVmNy52YXJpYWJsZSxpZHg9X3JlZjguYmFzZSxvYmo9X3JlZjcudmFsdWUpOm9iai5iYXNlIGluc3RhbmNlb2YgUGFyZW5zPyhfcmVmOT1uZXcgVmFsdWUob2JqLnVud3JhcEFsbCgpKS5jYWNoZVJlZmVyZW5jZShvKSxvYmo9X3JlZjlbMF0saWR4PV9yZWY5WzFdKTppZHg9b2JqW1xcXCJ0aGlzXFxcIl0/b2JqLnByb3BlcnRpZXNbMF0ubmFtZTpvYmopLCFzcGxhdCYmb2JqIGluc3RhbmNlb2YgU3BsYXQ/KG5hbWU9b2JqLm5hbWUudW53cmFwKCkudmFsdWUsb2JqPW9iai51bndyYXAoKSx2YWw9XFxcIlxcXCIrb2xlbitcXFwiIDw9IFxcXCIrdnZhclRleHQrXFxcIi5sZW5ndGggPyBcXFwiK3V0aWxpdHkoXFxcInNsaWNlXFxcIikrXFxcIi5jYWxsKFxcXCIrdnZhclRleHQrXFxcIiwgXFxcIitpLChyZXN0PW9sZW4taS0xKT8oaXZhcj1vLnNjb3BlLmZyZWVWYXJpYWJsZShcXFwiaVxcXCIpLHZhbCs9XFxcIiwgXFxcIitpdmFyK1xcXCIgPSBcXFwiK3Z2YXJUZXh0K1xcXCIubGVuZ3RoIC0gXFxcIityZXN0K1xcXCIpIDogKFxcXCIraXZhcitcXFwiID0gXFxcIitpK1xcXCIsIFtdKVxcXCIpOnZhbCs9XFxcIikgOiBbXVxcXCIsdmFsPW5ldyBMaXRlcmFsKHZhbCksc3BsYXQ9XFxcIlxcXCIraXZhcitcXFwiKytcXFwiKToobmFtZT1vYmoudW53cmFwKCkudmFsdWUsb2JqIGluc3RhbmNlb2YgU3BsYXQmJm9iai5lcnJvcihcXFwibXVsdGlwbGUgc3BsYXRzIGFyZSBkaXNhbGxvd2VkIGluIGFuIGFzc2lnbm1lbnRcXFwiKSxcXFwibnVtYmVyXFxcIj09dHlwZW9mIGlkeD8oaWR4PW5ldyBMaXRlcmFsKHNwbGF0fHxpZHgpLGFjYz0hMSk6YWNjPWlzT2JqZWN0JiZJREVOVElGSUVSLnRlc3QoaWR4LnVud3JhcCgpLnZhbHVlfHwwKSx2YWw9bmV3IFZhbHVlKG5ldyBMaXRlcmFsKHZ2YXJUZXh0KSxbbmV3KGFjYz9BY2Nlc3M6SW5kZXgpKGlkeCldKSksbnVsbCE9bmFtZSYmX19pbmRleE9mLmNhbGwoUkVTRVJWRUQsbmFtZSk+PTAmJm9iai5lcnJvcihcXFwiYXNzaWdubWVudCB0byBhIHJlc2VydmVkIHdvcmQ6IFxcXCIrb2JqLmNvbXBpbGUobykpLGFzc2lnbnMucHVzaChuZXcgQXNzaWduKG9iaix2YWwsbnVsbCx7cGFyYW06dGhpcy5wYXJhbSxzdWJwYXR0ZXJuOiEwfSkuY29tcGlsZVRvRnJhZ21lbnRzKG8sTEVWRUxfTElTVCkpO3JldHVybiB0b3B8fHRoaXMuc3VicGF0dGVybnx8YXNzaWducy5wdXNoKHZ2YXIpLGZyYWdtZW50cz10aGlzLmpvaW5GcmFnbWVudEFycmF5cyhhc3NpZ25zLFxcXCIsIFxcXCIpLExFVkVMX0xJU1Q+by5sZXZlbD9mcmFnbWVudHM6dGhpcy53cmFwSW5CcmFjZXMoZnJhZ21lbnRzKX0sQXNzaWduLnByb3RvdHlwZS5jb21waWxlQ29uZGl0aW9uYWw9ZnVuY3Rpb24obyl7dmFyIGxlZnQscmlnaHQsX3JlZjQ7cmV0dXJuIF9yZWY0PXRoaXMudmFyaWFibGUuY2FjaGVSZWZlcmVuY2UobyksbGVmdD1fcmVmNFswXSxyaWdodD1fcmVmNFsxXSwhbGVmdC5wcm9wZXJ0aWVzLmxlbmd0aCYmbGVmdC5iYXNlIGluc3RhbmNlb2YgTGl0ZXJhbCYmXFxcInRoaXNcXFwiIT09bGVmdC5iYXNlLnZhbHVlJiYhby5zY29wZS5jaGVjayhsZWZ0LmJhc2UudmFsdWUpJiZ0aGlzLnZhcmlhYmxlLmVycm9yKCd0aGUgdmFyaWFibGUgXFxcIicrbGVmdC5iYXNlLnZhbHVlK1xcXCJcXFxcXFxcIiBjYW4ndCBiZSBhc3NpZ25lZCB3aXRoIFxcXCIrdGhpcy5jb250ZXh0K1xcXCIgYmVjYXVzZSBpdCBoYXMgbm90IGJlZW4gZGVjbGFyZWQgYmVmb3JlXFxcIiksX19pbmRleE9mLmNhbGwodGhpcy5jb250ZXh0LFxcXCI/XFxcIik+PTAmJihvLmlzRXhpc3RlbnRpYWxFcXVhbHM9ITApLG5ldyBPcCh0aGlzLmNvbnRleHQuc2xpY2UoMCwtMSksbGVmdCxuZXcgQXNzaWduKHJpZ2h0LHRoaXMudmFsdWUsXFxcIj1cXFwiKSkuY29tcGlsZVRvRnJhZ21lbnRzKG8pfSxBc3NpZ24ucHJvdG90eXBlLmNvbXBpbGVTcGxpY2U9ZnVuY3Rpb24obyl7dmFyIGFuc3dlcixleGNsdXNpdmUsZnJvbSxmcm9tRGVjbCxmcm9tUmVmLG5hbWUsdG8sdmFsRGVmLHZhbFJlZixfcmVmNCxfcmVmNSxfcmVmNjtyZXR1cm4gX3JlZjQ9dGhpcy52YXJpYWJsZS5wcm9wZXJ0aWVzLnBvcCgpLnJhbmdlLGZyb209X3JlZjQuZnJvbSx0bz1fcmVmNC50byxleGNsdXNpdmU9X3JlZjQuZXhjbHVzaXZlLG5hbWU9dGhpcy52YXJpYWJsZS5jb21waWxlKG8pLGZyb20/KF9yZWY1PXRoaXMuY2FjaGVUb0NvZGVGcmFnbWVudHMoZnJvbS5jYWNoZShvLExFVkVMX09QKSksZnJvbURlY2w9X3JlZjVbMF0sZnJvbVJlZj1fcmVmNVsxXSk6ZnJvbURlY2w9ZnJvbVJlZj1cXFwiMFxcXCIsdG8/KG51bGwhPWZyb20/ZnJvbS5pc1NpbXBsZU51bWJlcigpOnZvaWQgMCkmJnRvLmlzU2ltcGxlTnVtYmVyKCk/KHRvPSt0by5jb21waWxlKG8pLStmcm9tUmVmLGV4Y2x1c2l2ZXx8KHRvKz0xKSk6KHRvPXRvLmNvbXBpbGUobyxMRVZFTF9BQ0NFU1MpK1xcXCIgLSBcXFwiK2Zyb21SZWYsZXhjbHVzaXZlfHwodG8rPVxcXCIgKyAxXFxcIikpOnRvPVxcXCI5ZTlcXFwiLF9yZWY2PXRoaXMudmFsdWUuY2FjaGUobyxMRVZFTF9MSVNUKSx2YWxEZWY9X3JlZjZbMF0sdmFsUmVmPV9yZWY2WzFdLGFuc3dlcj1bXS5jb25jYXQodGhpcy5tYWtlQ29kZShcXFwiW10uc3BsaWNlLmFwcGx5KFxcXCIrbmFtZStcXFwiLCBbXFxcIitmcm9tRGVjbCtcXFwiLCBcXFwiK3RvK1xcXCJdLmNvbmNhdChcXFwiKSx2YWxEZWYsdGhpcy5tYWtlQ29kZShcXFwiKSksIFxcXCIpLHZhbFJlZiksby5sZXZlbD5MRVZFTF9UT1A/dGhpcy53cmFwSW5CcmFjZXMoYW5zd2VyKTphbnN3ZXJ9LEFzc2lnbn0oQmFzZSksZXhwb3J0cy5Db2RlPUNvZGU9ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBDb2RlKHBhcmFtcyxib2R5LHRhZyl7dGhpcy5wYXJhbXM9cGFyYW1zfHxbXSx0aGlzLmJvZHk9Ym9keXx8bmV3IEJsb2NrLHRoaXMuYm91bmQ9XFxcImJvdW5kZnVuY1xcXCI9PT10YWcsdGhpcy5ib3VuZCYmKHRoaXMuY29udGV4dD1cXFwiX3RoaXNcXFwiKX1yZXR1cm4gX19leHRlbmRzKENvZGUsX3N1cGVyKSxDb2RlLnByb3RvdHlwZS5jaGlsZHJlbj1bXFxcInBhcmFtc1xcXCIsXFxcImJvZHlcXFwiXSxDb2RlLnByb3RvdHlwZS5pc1N0YXRlbWVudD1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5jdG9yfSxDb2RlLnByb3RvdHlwZS5qdW1wcz1OTyxDb2RlLnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihvKXt2YXIgYW5zd2VyLGNvZGUsZXhwcnMsaSxpZHQsbGl0LHAscGFyYW0scGFyYW1zLHJlZixzcGxhdHMsdW5pcXMsdmFsLHdhc0VtcHR5LF9pLF9qLF9rLF9sLF9sZW4sX2xlbjEsX2xlbjIsX2xlbjMsX2xlbjQsX20sX3JlZjQsX3JlZjUsX3JlZjYsX3JlZjcsX3JlZjg7Zm9yKG8uc2NvcGU9bmV3IFNjb3BlKG8uc2NvcGUsdGhpcy5ib2R5LHRoaXMpLG8uc2NvcGUuc2hhcmVkPWRlbChvLFxcXCJzaGFyZWRTY29wZVxcXCIpLG8uaW5kZW50Kz1UQUIsZGVsZXRlIG8uYmFyZSxkZWxldGUgby5pc0V4aXN0ZW50aWFsRXF1YWxzLHBhcmFtcz1bXSxleHBycz1bXSx0aGlzLmVhY2hQYXJhbU5hbWUoZnVuY3Rpb24obmFtZSl7cmV0dXJuIG8uc2NvcGUuY2hlY2sobmFtZSk/dm9pZCAwOm8uc2NvcGUucGFyYW1ldGVyKG5hbWUpfSksX3JlZjQ9dGhpcy5wYXJhbXMsX2k9MCxfbGVuPV9yZWY0Lmxlbmd0aDtfbGVuPl9pO19pKyspaWYocGFyYW09X3JlZjRbX2ldLHBhcmFtLnNwbGF0KXtmb3IoX3JlZjU9dGhpcy5wYXJhbXMsX2o9MCxfbGVuMT1fcmVmNS5sZW5ndGg7X2xlbjE+X2o7X2orKylwPV9yZWY1W19qXS5uYW1lLHBbXFxcInRoaXNcXFwiXSYmKHA9cC5wcm9wZXJ0aWVzWzBdLm5hbWUpLHAudmFsdWUmJm8uc2NvcGUuYWRkKHAudmFsdWUsXFxcInZhclxcXCIsITApO3NwbGF0cz1uZXcgQXNzaWduKG5ldyBWYWx1ZShuZXcgQXJyKGZ1bmN0aW9uKCl7dmFyIF9rLF9sZW4yLF9yZWY2LF9yZXN1bHRzO2ZvcihfcmVmNj10aGlzLnBhcmFtcyxfcmVzdWx0cz1bXSxfaz0wLF9sZW4yPV9yZWY2Lmxlbmd0aDtfbGVuMj5faztfaysrKXA9X3JlZjZbX2tdLF9yZXN1bHRzLnB1c2gocC5hc1JlZmVyZW5jZShvKSk7cmV0dXJuIF9yZXN1bHRzfS5jYWxsKHRoaXMpKSksbmV3IFZhbHVlKG5ldyBMaXRlcmFsKFxcXCJhcmd1bWVudHNcXFwiKSkpO2JyZWFrfWZvcihfcmVmNj10aGlzLnBhcmFtcyxfaz0wLF9sZW4yPV9yZWY2Lmxlbmd0aDtfbGVuMj5faztfaysrKXBhcmFtPV9yZWY2W19rXSxwYXJhbS5pc0NvbXBsZXgoKT8odmFsPXJlZj1wYXJhbS5hc1JlZmVyZW5jZShvKSxwYXJhbS52YWx1ZSYmKHZhbD1uZXcgT3AoXFxcIj9cXFwiLHJlZixwYXJhbS52YWx1ZSkpLGV4cHJzLnB1c2gobmV3IEFzc2lnbihuZXcgVmFsdWUocGFyYW0ubmFtZSksdmFsLFxcXCI9XFxcIix7cGFyYW06ITB9KSkpOihyZWY9cGFyYW0scGFyYW0udmFsdWUmJihsaXQ9bmV3IExpdGVyYWwocmVmLm5hbWUudmFsdWUrXFxcIiA9PSBudWxsXFxcIiksdmFsPW5ldyBBc3NpZ24obmV3IFZhbHVlKHBhcmFtLm5hbWUpLHBhcmFtLnZhbHVlLFxcXCI9XFxcIiksZXhwcnMucHVzaChuZXcgSWYobGl0LHZhbCkpKSksc3BsYXRzfHxwYXJhbXMucHVzaChyZWYpO2Zvcih3YXNFbXB0eT10aGlzLmJvZHkuaXNFbXB0eSgpLHNwbGF0cyYmZXhwcnMudW5zaGlmdChzcGxhdHMpLGV4cHJzLmxlbmd0aCYmKF9yZWY3PXRoaXMuYm9keS5leHByZXNzaW9ucykudW5zaGlmdC5hcHBseShfcmVmNyxleHBycyksaT1fbD0wLF9sZW4zPXBhcmFtcy5sZW5ndGg7X2xlbjM+X2w7aT0rK19sKXA9cGFyYW1zW2ldLHBhcmFtc1tpXT1wLmNvbXBpbGVUb0ZyYWdtZW50cyhvKSxvLnNjb3BlLnBhcmFtZXRlcihmcmFnbWVudHNUb1RleHQocGFyYW1zW2ldKSk7Zm9yKHVuaXFzPVtdLHRoaXMuZWFjaFBhcmFtTmFtZShmdW5jdGlvbihuYW1lLG5vZGUpe3JldHVybiBfX2luZGV4T2YuY2FsbCh1bmlxcyxuYW1lKT49MCYmbm9kZS5lcnJvcihcXFwibXVsdGlwbGUgcGFyYW1ldGVycyBuYW1lZCAnXFxcIituYW1lK1xcXCInXFxcIiksdW5pcXMucHVzaChuYW1lKX0pLHdhc0VtcHR5fHx0aGlzLm5vUmV0dXJufHx0aGlzLmJvZHkubWFrZVJldHVybigpLHRoaXMuYm91bmQmJigobnVsbCE9KF9yZWY4PW8uc2NvcGUucGFyZW50Lm1ldGhvZCk/X3JlZjguYm91bmQ6dm9pZCAwKT90aGlzLmJvdW5kPXRoaXMuY29udGV4dD1vLnNjb3BlLnBhcmVudC5tZXRob2QuY29udGV4dDp0aGlzW1xcXCJzdGF0aWNcXFwiXXx8by5zY29wZS5wYXJlbnQuYXNzaWduKFxcXCJfdGhpc1xcXCIsXFxcInRoaXNcXFwiKSksaWR0PW8uaW5kZW50LGNvZGU9XFxcImZ1bmN0aW9uXFxcIix0aGlzLmN0b3ImJihjb2RlKz1cXFwiIFxcXCIrdGhpcy5uYW1lKSxjb2RlKz1cXFwiKFxcXCIsYW5zd2VyPVt0aGlzLm1ha2VDb2RlKGNvZGUpXSxpPV9tPTAsX2xlbjQ9cGFyYW1zLmxlbmd0aDtfbGVuND5fbTtpPSsrX20pcD1wYXJhbXNbaV0saSYmYW5zd2VyLnB1c2godGhpcy5tYWtlQ29kZShcXFwiLCBcXFwiKSksYW5zd2VyLnB1c2guYXBwbHkoYW5zd2VyLHApO3JldHVybiBhbnN3ZXIucHVzaCh0aGlzLm1ha2VDb2RlKFxcXCIpIHtcXFwiKSksdGhpcy5ib2R5LmlzRW1wdHkoKXx8KGFuc3dlcj1hbnN3ZXIuY29uY2F0KHRoaXMubWFrZUNvZGUoXFxcIlxcXFxuXFxcIiksdGhpcy5ib2R5LmNvbXBpbGVXaXRoRGVjbGFyYXRpb25zKG8pLHRoaXMubWFrZUNvZGUoXFxcIlxcXFxuXFxcIit0aGlzLnRhYikpKSxhbnN3ZXIucHVzaCh0aGlzLm1ha2VDb2RlKFxcXCJ9XFxcIikpLHRoaXMuY3Rvcj9bdGhpcy5tYWtlQ29kZSh0aGlzLnRhYildLmNvbmNhdChfX3NsaWNlLmNhbGwoYW5zd2VyKSk6dGhpcy5mcm9udHx8by5sZXZlbD49TEVWRUxfQUNDRVNTP3RoaXMud3JhcEluQnJhY2VzKGFuc3dlcik6YW5zd2VyfSxDb2RlLnByb3RvdHlwZS5lYWNoUGFyYW1OYW1lPWZ1bmN0aW9uKGl0ZXJhdG9yKXt2YXIgcGFyYW0sX2ksX2xlbixfcmVmNCxfcmVzdWx0cztmb3IoX3JlZjQ9dGhpcy5wYXJhbXMsX3Jlc3VsdHM9W10sX2k9MCxfbGVuPV9yZWY0Lmxlbmd0aDtfbGVuPl9pO19pKyspcGFyYW09X3JlZjRbX2ldLF9yZXN1bHRzLnB1c2gocGFyYW0uZWFjaE5hbWUoaXRlcmF0b3IpKTtyZXR1cm4gX3Jlc3VsdHN9LENvZGUucHJvdG90eXBlLnRyYXZlcnNlQ2hpbGRyZW49ZnVuY3Rpb24oY3Jvc3NTY29wZSxmdW5jKXtyZXR1cm4gY3Jvc3NTY29wZT9Db2RlLl9fc3VwZXJfXy50cmF2ZXJzZUNoaWxkcmVuLmNhbGwodGhpcyxjcm9zc1Njb3BlLGZ1bmMpOnZvaWQgMH0sQ29kZX0oQmFzZSksZXhwb3J0cy5QYXJhbT1QYXJhbT1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIFBhcmFtKG5hbWUsdmFsdWUsc3BsYXQpe3ZhciBfcmVmNDt0aGlzLm5hbWU9bmFtZSx0aGlzLnZhbHVlPXZhbHVlLHRoaXMuc3BsYXQ9c3BsYXQsX3JlZjQ9bmFtZT10aGlzLm5hbWUudW53cmFwQWxsKCkudmFsdWUsX19pbmRleE9mLmNhbGwoU1RSSUNUX1BST1NDUklCRUQsX3JlZjQpPj0wJiZ0aGlzLm5hbWUuZXJyb3IoJ3BhcmFtZXRlciBuYW1lIFxcXCInK25hbWUrJ1xcXCIgaXMgbm90IGFsbG93ZWQnKX1yZXR1cm4gX19leHRlbmRzKFBhcmFtLF9zdXBlciksUGFyYW0ucHJvdG90eXBlLmNoaWxkcmVuPVtcXFwibmFtZVxcXCIsXFxcInZhbHVlXFxcIl0sUGFyYW0ucHJvdG90eXBlLmNvbXBpbGVUb0ZyYWdtZW50cz1mdW5jdGlvbihvKXtyZXR1cm4gdGhpcy5uYW1lLmNvbXBpbGVUb0ZyYWdtZW50cyhvLExFVkVMX0xJU1QpfSxQYXJhbS5wcm90b3R5cGUuYXNSZWZlcmVuY2U9ZnVuY3Rpb24obyl7dmFyIG5vZGU7cmV0dXJuIHRoaXMucmVmZXJlbmNlP3RoaXMucmVmZXJlbmNlOihub2RlPXRoaXMubmFtZSxub2RlW1xcXCJ0aGlzXFxcIl0/KG5vZGU9bm9kZS5wcm9wZXJ0aWVzWzBdLm5hbWUsbm9kZS52YWx1ZS5yZXNlcnZlZCYmKG5vZGU9bmV3IExpdGVyYWwoby5zY29wZS5mcmVlVmFyaWFibGUobm9kZS52YWx1ZSkpKSk6bm9kZS5pc0NvbXBsZXgoKSYmKG5vZGU9bmV3IExpdGVyYWwoby5zY29wZS5mcmVlVmFyaWFibGUoXFxcImFyZ1xcXCIpKSksbm9kZT1uZXcgVmFsdWUobm9kZSksdGhpcy5zcGxhdCYmKG5vZGU9bmV3IFNwbGF0KG5vZGUpKSx0aGlzLnJlZmVyZW5jZT1ub2RlKX0sUGFyYW0ucHJvdG90eXBlLmlzQ29tcGxleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWUuaXNDb21wbGV4KCl9LFBhcmFtLnByb3RvdHlwZS5lYWNoTmFtZT1mdW5jdGlvbihpdGVyYXRvcixuYW1lKXt2YXIgYXRQYXJhbSxub2RlLG9iaixfaSxfbGVuLF9yZWY0O2lmKG51bGw9PW5hbWUmJihuYW1lPXRoaXMubmFtZSksYXRQYXJhbT1mdW5jdGlvbihvYmope3ZhciBub2RlO3JldHVybiBub2RlPW9iai5wcm9wZXJ0aWVzWzBdLm5hbWUsbm9kZS52YWx1ZS5yZXNlcnZlZD92b2lkIDA6aXRlcmF0b3Iobm9kZS52YWx1ZSxub2RlKX0sbmFtZSBpbnN0YW5jZW9mIExpdGVyYWwpcmV0dXJuIGl0ZXJhdG9yKG5hbWUudmFsdWUsbmFtZSk7aWYobmFtZSBpbnN0YW5jZW9mIFZhbHVlKXJldHVybiBhdFBhcmFtKG5hbWUpO2ZvcihfcmVmND1uYW1lLm9iamVjdHMsX2k9MCxfbGVuPV9yZWY0Lmxlbmd0aDtfbGVuPl9pO19pKyspb2JqPV9yZWY0W19pXSxvYmogaW5zdGFuY2VvZiBBc3NpZ24/dGhpcy5lYWNoTmFtZShpdGVyYXRvcixvYmoudmFsdWUudW53cmFwKCkpOm9iaiBpbnN0YW5jZW9mIFNwbGF0Pyhub2RlPW9iai5uYW1lLnVud3JhcCgpLGl0ZXJhdG9yKG5vZGUudmFsdWUsbm9kZSkpOm9iaiBpbnN0YW5jZW9mIFZhbHVlP29iai5pc0FycmF5KCl8fG9iai5pc09iamVjdCgpP3RoaXMuZWFjaE5hbWUoaXRlcmF0b3Isb2JqLmJhc2UpOm9ialtcXFwidGhpc1xcXCJdP2F0UGFyYW0ob2JqKTppdGVyYXRvcihvYmouYmFzZS52YWx1ZSxvYmouYmFzZSk6b2JqLmVycm9yKFxcXCJpbGxlZ2FsIHBhcmFtZXRlciBcXFwiK29iai5jb21waWxlKCkpfSxQYXJhbX0oQmFzZSksZXhwb3J0cy5TcGxhdD1TcGxhdD1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIFNwbGF0KG5hbWUpe3RoaXMubmFtZT1uYW1lLmNvbXBpbGU/bmFtZTpuZXcgTGl0ZXJhbChuYW1lKX1yZXR1cm4gX19leHRlbmRzKFNwbGF0LF9zdXBlciksU3BsYXQucHJvdG90eXBlLmNoaWxkcmVuPVtcXFwibmFtZVxcXCJdLFNwbGF0LnByb3RvdHlwZS5pc0Fzc2lnbmFibGU9WUVTLFNwbGF0LnByb3RvdHlwZS5hc3NpZ25zPWZ1bmN0aW9uKG5hbWUpe3JldHVybiB0aGlzLm5hbWUuYXNzaWducyhuYW1lKX0sU3BsYXQucHJvdG90eXBlLmNvbXBpbGVUb0ZyYWdtZW50cz1mdW5jdGlvbihvKXtyZXR1cm4gdGhpcy5uYW1lLmNvbXBpbGVUb0ZyYWdtZW50cyhvKX0sU3BsYXQucHJvdG90eXBlLnVud3JhcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWV9LFNwbGF0LmNvbXBpbGVTcGxhdHRlZEFycmF5PWZ1bmN0aW9uKG8sbGlzdCxhcHBseSl7dmFyIGFyZ3MsYmFzZSxjb21waWxlZE5vZGUsY29uY2F0UGFydCxmcmFnbWVudHMsaSxpbmRleCxub2RlLF9pLF9sZW47Zm9yKGluZGV4PS0xOyhub2RlPWxpc3RbKytpbmRleF0pJiYhKG5vZGUgaW5zdGFuY2VvZiBTcGxhdCk7KTtpZihpbmRleD49bGlzdC5sZW5ndGgpcmV0dXJuW107aWYoMT09PWxpc3QubGVuZ3RoKXJldHVybiBub2RlPWxpc3RbMF0sZnJhZ21lbnRzPW5vZGUuY29tcGlsZVRvRnJhZ21lbnRzKG8sTEVWRUxfTElTVCksYXBwbHk/ZnJhZ21lbnRzOltdLmNvbmNhdChub2RlLm1ha2VDb2RlKFxcXCJcXFwiK3V0aWxpdHkoXFxcInNsaWNlXFxcIikrXFxcIi5jYWxsKFxcXCIpLGZyYWdtZW50cyxub2RlLm1ha2VDb2RlKFxcXCIpXFxcIikpO2ZvcihhcmdzPWxpc3Quc2xpY2UoaW5kZXgpLGk9X2k9MCxfbGVuPWFyZ3MubGVuZ3RoO19sZW4+X2k7aT0rK19pKW5vZGU9YXJnc1tpXSxjb21waWxlZE5vZGU9bm9kZS5jb21waWxlVG9GcmFnbWVudHMobyxMRVZFTF9MSVNUKSxhcmdzW2ldPW5vZGUgaW5zdGFuY2VvZiBTcGxhdD9bXS5jb25jYXQobm9kZS5tYWtlQ29kZShcXFwiXFxcIit1dGlsaXR5KFxcXCJzbGljZVxcXCIpK1xcXCIuY2FsbChcXFwiKSxjb21waWxlZE5vZGUsbm9kZS5tYWtlQ29kZShcXFwiKVxcXCIpKTpbXS5jb25jYXQobm9kZS5tYWtlQ29kZShcXFwiW1xcXCIpLGNvbXBpbGVkTm9kZSxub2RlLm1ha2VDb2RlKFxcXCJdXFxcIikpO3JldHVybiAwPT09aW5kZXg/KG5vZGU9bGlzdFswXSxjb25jYXRQYXJ0PW5vZGUuam9pbkZyYWdtZW50QXJyYXlzKGFyZ3Muc2xpY2UoMSksXFxcIiwgXFxcIiksYXJnc1swXS5jb25jYXQobm9kZS5tYWtlQ29kZShcXFwiLmNvbmNhdChcXFwiKSxjb25jYXRQYXJ0LG5vZGUubWFrZUNvZGUoXFxcIilcXFwiKSkpOihiYXNlPWZ1bmN0aW9uKCl7dmFyIF9qLF9sZW4xLF9yZWY0LF9yZXN1bHRzO2ZvcihfcmVmND1saXN0LnNsaWNlKDAsaW5kZXgpLF9yZXN1bHRzPVtdLF9qPTAsX2xlbjE9X3JlZjQubGVuZ3RoO19sZW4xPl9qO19qKyspbm9kZT1fcmVmNFtfal0sX3Jlc3VsdHMucHVzaChub2RlLmNvbXBpbGVUb0ZyYWdtZW50cyhvLExFVkVMX0xJU1QpKTtyZXR1cm4gX3Jlc3VsdHN9KCksYmFzZT1saXN0WzBdLmpvaW5GcmFnbWVudEFycmF5cyhiYXNlLFxcXCIsIFxcXCIpLGNvbmNhdFBhcnQ9bGlzdFtpbmRleF0uam9pbkZyYWdtZW50QXJyYXlzKGFyZ3MsXFxcIiwgXFxcIiksW10uY29uY2F0KGxpc3RbMF0ubWFrZUNvZGUoXFxcIltcXFwiKSxiYXNlLGxpc3RbaW5kZXhdLm1ha2VDb2RlKFxcXCJdLmNvbmNhdChcXFwiKSxjb25jYXRQYXJ0LGxhc3QobGlzdCkubWFrZUNvZGUoXFxcIilcXFwiKSkpfSxTcGxhdH0oQmFzZSksZXhwb3J0cy5XaGlsZT1XaGlsZT1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIFdoaWxlKGNvbmRpdGlvbixvcHRpb25zKXt0aGlzLmNvbmRpdGlvbj0obnVsbCE9b3B0aW9ucz9vcHRpb25zLmludmVydDp2b2lkIDApP2NvbmRpdGlvbi5pbnZlcnQoKTpjb25kaXRpb24sdGhpcy5ndWFyZD1udWxsIT1vcHRpb25zP29wdGlvbnMuZ3VhcmQ6dm9pZCAwfXJldHVybiBfX2V4dGVuZHMoV2hpbGUsX3N1cGVyKSxXaGlsZS5wcm90b3R5cGUuY2hpbGRyZW49W1xcXCJjb25kaXRpb25cXFwiLFxcXCJndWFyZFxcXCIsXFxcImJvZHlcXFwiXSxXaGlsZS5wcm90b3R5cGUuaXNTdGF0ZW1lbnQ9WUVTLFdoaWxlLnByb3RvdHlwZS5tYWtlUmV0dXJuPWZ1bmN0aW9uKHJlcyl7cmV0dXJuIHJlcz9XaGlsZS5fX3N1cGVyX18ubWFrZVJldHVybi5hcHBseSh0aGlzLGFyZ3VtZW50cyk6KHRoaXMucmV0dXJucz0hdGhpcy5qdW1wcyh7bG9vcDohMH0pLHRoaXMpfSxXaGlsZS5wcm90b3R5cGUuYWRkQm9keT1mdW5jdGlvbihib2R5KXtyZXR1cm4gdGhpcy5ib2R5PWJvZHksdGhpc30sV2hpbGUucHJvdG90eXBlLmp1bXBzPWZ1bmN0aW9uKCl7dmFyIGV4cHJlc3Npb25zLG5vZGUsX2ksX2xlbjtpZihleHByZXNzaW9ucz10aGlzLmJvZHkuZXhwcmVzc2lvbnMsIWV4cHJlc3Npb25zLmxlbmd0aClyZXR1cm4hMTtmb3IoX2k9MCxfbGVuPWV4cHJlc3Npb25zLmxlbmd0aDtfbGVuPl9pO19pKyspaWYobm9kZT1leHByZXNzaW9uc1tfaV0sbm9kZS5qdW1wcyh7bG9vcDohMH0pKXJldHVybiBub2RlO3JldHVybiExfSxXaGlsZS5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24obyl7dmFyIGFuc3dlcixib2R5LHJ2YXIsc2V0O3JldHVybiBvLmluZGVudCs9VEFCLHNldD1cXFwiXFxcIixib2R5PXRoaXMuYm9keSxib2R5LmlzRW1wdHkoKT9ib2R5PXRoaXMubWFrZUNvZGUoXFxcIlxcXCIpOih0aGlzLnJldHVybnMmJihib2R5Lm1ha2VSZXR1cm4ocnZhcj1vLnNjb3BlLmZyZWVWYXJpYWJsZShcXFwicmVzdWx0c1xcXCIpKSxzZXQ9XFxcIlxcXCIrdGhpcy50YWIrcnZhcitcXFwiID0gW107XFxcXG5cXFwiKSx0aGlzLmd1YXJkJiYoYm9keS5leHByZXNzaW9ucy5sZW5ndGg+MT9ib2R5LmV4cHJlc3Npb25zLnVuc2hpZnQobmV3IElmKG5ldyBQYXJlbnModGhpcy5ndWFyZCkuaW52ZXJ0KCksbmV3IExpdGVyYWwoXFxcImNvbnRpbnVlXFxcIikpKTp0aGlzLmd1YXJkJiYoYm9keT1CbG9jay53cmFwKFtuZXcgSWYodGhpcy5ndWFyZCxib2R5KV0pKSksYm9keT1bXS5jb25jYXQodGhpcy5tYWtlQ29kZShcXFwiXFxcXG5cXFwiKSxib2R5LmNvbXBpbGVUb0ZyYWdtZW50cyhvLExFVkVMX1RPUCksdGhpcy5tYWtlQ29kZShcXFwiXFxcXG5cXFwiK3RoaXMudGFiKSkpLGFuc3dlcj1bXS5jb25jYXQodGhpcy5tYWtlQ29kZShzZXQrdGhpcy50YWIrXFxcIndoaWxlIChcXFwiKSx0aGlzLmNvbmRpdGlvbi5jb21waWxlVG9GcmFnbWVudHMobyxMRVZFTF9QQVJFTiksdGhpcy5tYWtlQ29kZShcXFwiKSB7XFxcIiksYm9keSx0aGlzLm1ha2VDb2RlKFxcXCJ9XFxcIikpLHRoaXMucmV0dXJucyYmYW5zd2VyLnB1c2godGhpcy5tYWtlQ29kZShcXFwiXFxcXG5cXFwiK3RoaXMudGFiK1xcXCJyZXR1cm4gXFxcIitydmFyK1xcXCI7XFxcIikpLGFuc3dlcn0sV2hpbGV9KEJhc2UpLGV4cG9ydHMuT3A9T3A9ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBPcChvcCxmaXJzdCxzZWNvbmQsZmxpcCl7aWYoXFxcImluXFxcIj09PW9wKXJldHVybiBuZXcgSW4oZmlyc3Qsc2Vjb25kKTtpZihcXFwiZG9cXFwiPT09b3ApcmV0dXJuIHRoaXMuZ2VuZXJhdGVEbyhmaXJzdCk7aWYoXFxcIm5ld1xcXCI9PT1vcCl7aWYoZmlyc3QgaW5zdGFuY2VvZiBDYWxsJiYhZmlyc3RbXFxcImRvXFxcIl0mJiFmaXJzdC5pc05ldylyZXR1cm4gZmlyc3QubmV3SW5zdGFuY2UoKTsoZmlyc3QgaW5zdGFuY2VvZiBDb2RlJiZmaXJzdC5ib3VuZHx8Zmlyc3RbXFxcImRvXFxcIl0pJiYoZmlyc3Q9bmV3IFBhcmVucyhmaXJzdCkpfXJldHVybiB0aGlzLm9wZXJhdG9yPUNPTlZFUlNJT05TW29wXXx8b3AsdGhpcy5maXJzdD1maXJzdCx0aGlzLnNlY29uZD1zZWNvbmQsdGhpcy5mbGlwPSEhZmxpcCx0aGlzfXZhciBDT05WRVJTSU9OUyxJTlZFUlNJT05TO3JldHVybiBfX2V4dGVuZHMoT3AsX3N1cGVyKSxDT05WRVJTSU9OUz17XFxcIj09XFxcIjpcXFwiPT09XFxcIixcXFwiIT1cXFwiOlxcXCIhPT1cXFwiLG9mOlxcXCJpblxcXCJ9LElOVkVSU0lPTlM9e1xcXCIhPT1cXFwiOlxcXCI9PT1cXFwiLFxcXCI9PT1cXFwiOlxcXCIhPT1cXFwifSxPcC5wcm90b3R5cGUuY2hpbGRyZW49W1xcXCJmaXJzdFxcXCIsXFxcInNlY29uZFxcXCJdLE9wLnByb3RvdHlwZS5pc1NpbXBsZU51bWJlcj1OTyxPcC5wcm90b3R5cGUuaXNVbmFyeT1mdW5jdGlvbigpe3JldHVybiF0aGlzLnNlY29uZH0sT3AucHJvdG90eXBlLmlzQ29tcGxleD1mdW5jdGlvbigpe3ZhciBfcmVmNDtyZXR1cm4hKHRoaXMuaXNVbmFyeSgpJiYoXFxcIitcXFwiPT09KF9yZWY0PXRoaXMub3BlcmF0b3IpfHxcXFwiLVxcXCI9PT1fcmVmNCkpfHx0aGlzLmZpcnN0LmlzQ29tcGxleCgpfSxPcC5wcm90b3R5cGUuaXNDaGFpbmFibGU9ZnVuY3Rpb24oKXt2YXIgX3JlZjQ7cmV0dXJuXFxcIjxcXFwiPT09KF9yZWY0PXRoaXMub3BlcmF0b3IpfHxcXFwiPlxcXCI9PT1fcmVmNHx8XFxcIj49XFxcIj09PV9yZWY0fHxcXFwiPD1cXFwiPT09X3JlZjR8fFxcXCI9PT1cXFwiPT09X3JlZjR8fFxcXCIhPT1cXFwiPT09X3JlZjR9LE9wLnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXt2YXIgYWxsSW52ZXJ0YWJsZSxjdXJyLGZzdCxvcCxfcmVmNDtpZih0aGlzLmlzQ2hhaW5hYmxlKCkmJnRoaXMuZmlyc3QuaXNDaGFpbmFibGUoKSl7Zm9yKGFsbEludmVydGFibGU9ITAsY3Vycj10aGlzO2N1cnImJmN1cnIub3BlcmF0b3I7KWFsbEludmVydGFibGUmJihhbGxJbnZlcnRhYmxlPWN1cnIub3BlcmF0b3IgaW4gSU5WRVJTSU9OUyksY3Vycj1jdXJyLmZpcnN0O2lmKCFhbGxJbnZlcnRhYmxlKXJldHVybiBuZXcgUGFyZW5zKHRoaXMpLmludmVydCgpO2ZvcihjdXJyPXRoaXM7Y3VyciYmY3Vyci5vcGVyYXRvcjspY3Vyci5pbnZlcnQ9IWN1cnIuaW52ZXJ0LGN1cnIub3BlcmF0b3I9SU5WRVJTSU9OU1tjdXJyLm9wZXJhdG9yXSxjdXJyPWN1cnIuZmlyc3Q7cmV0dXJuIHRoaXN9cmV0dXJuKG9wPUlOVkVSU0lPTlNbdGhpcy5vcGVyYXRvcl0pPyh0aGlzLm9wZXJhdG9yPW9wLHRoaXMuZmlyc3QudW53cmFwKClpbnN0YW5jZW9mIE9wJiZ0aGlzLmZpcnN0LmludmVydCgpLHRoaXMpOnRoaXMuc2Vjb25kP25ldyBQYXJlbnModGhpcykuaW52ZXJ0KCk6XFxcIiFcXFwiPT09dGhpcy5vcGVyYXRvciYmKGZzdD10aGlzLmZpcnN0LnVud3JhcCgpKWluc3RhbmNlb2YgT3AmJihcXFwiIVxcXCI9PT0oX3JlZjQ9ZnN0Lm9wZXJhdG9yKXx8XFxcImluXFxcIj09PV9yZWY0fHxcXFwiaW5zdGFuY2VvZlxcXCI9PT1fcmVmNCk/ZnN0Om5ldyBPcChcXFwiIVxcXCIsdGhpcyl9LE9wLnByb3RvdHlwZS51bmZvbGRTb2FrPWZ1bmN0aW9uKG8pe3ZhciBfcmVmNDtyZXR1cm4oXFxcIisrXFxcIj09PShfcmVmND10aGlzLm9wZXJhdG9yKXx8XFxcIi0tXFxcIj09PV9yZWY0fHxcXFwiZGVsZXRlXFxcIj09PV9yZWY0KSYmdW5mb2xkU29hayhvLHRoaXMsXFxcImZpcnN0XFxcIil9LE9wLnByb3RvdHlwZS5nZW5lcmF0ZURvPWZ1bmN0aW9uKGV4cCl7dmFyIGNhbGwsZnVuYyxwYXJhbSxwYXNzZWRQYXJhbXMscmVmLF9pLF9sZW4sX3JlZjQ7Zm9yKHBhc3NlZFBhcmFtcz1bXSxmdW5jPWV4cCBpbnN0YW5jZW9mIEFzc2lnbiYmKHJlZj1leHAudmFsdWUudW53cmFwKCkpaW5zdGFuY2VvZiBDb2RlP3JlZjpleHAsX3JlZjQ9ZnVuYy5wYXJhbXN8fFtdLF9pPTAsX2xlbj1fcmVmNC5sZW5ndGg7X2xlbj5faTtfaSsrKXBhcmFtPV9yZWY0W19pXSxwYXJhbS52YWx1ZT8ocGFzc2VkUGFyYW1zLnB1c2gocGFyYW0udmFsdWUpLGRlbGV0ZSBwYXJhbS52YWx1ZSk6cGFzc2VkUGFyYW1zLnB1c2gocGFyYW0pO3JldHVybiBjYWxsPW5ldyBDYWxsKGV4cCxwYXNzZWRQYXJhbXMpLGNhbGxbXFxcImRvXFxcIl09ITAsY2FsbH0sT3AucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKG8pe3ZhciBhbnN3ZXIsaXNDaGFpbixfcmVmNCxfcmVmNTtyZXR1cm4gaXNDaGFpbj10aGlzLmlzQ2hhaW5hYmxlKCkmJnRoaXMuZmlyc3QuaXNDaGFpbmFibGUoKSxpc0NoYWlufHwodGhpcy5maXJzdC5mcm9udD10aGlzLmZyb250KSxcXFwiZGVsZXRlXFxcIj09PXRoaXMub3BlcmF0b3ImJm8uc2NvcGUuY2hlY2sodGhpcy5maXJzdC51bndyYXBBbGwoKS52YWx1ZSkmJnRoaXMuZXJyb3IoXFxcImRlbGV0ZSBvcGVyYW5kIG1heSBub3QgYmUgYXJndW1lbnQgb3IgdmFyXFxcIiksKFxcXCItLVxcXCI9PT0oX3JlZjQ9dGhpcy5vcGVyYXRvcil8fFxcXCIrK1xcXCI9PT1fcmVmNCkmJihfcmVmNT10aGlzLmZpcnN0LnVud3JhcEFsbCgpLnZhbHVlLF9faW5kZXhPZi5jYWxsKFNUUklDVF9QUk9TQ1JJQkVELF9yZWY1KT49MCkmJnRoaXMuZXJyb3IoJ2Nhbm5vdCBpbmNyZW1lbnQvZGVjcmVtZW50IFxcXCInK3RoaXMuZmlyc3QudW53cmFwQWxsKCkudmFsdWUrJ1xcXCInKSx0aGlzLmlzVW5hcnkoKT90aGlzLmNvbXBpbGVVbmFyeShvKTppc0NoYWluP3RoaXMuY29tcGlsZUNoYWluKG8pOlxcXCI/XFxcIj09PXRoaXMub3BlcmF0b3I/dGhpcy5jb21waWxlRXhpc3RlbmNlKG8pOihhbnN3ZXI9W10uY29uY2F0KHRoaXMuZmlyc3QuY29tcGlsZVRvRnJhZ21lbnRzKG8sTEVWRUxfT1ApLHRoaXMubWFrZUNvZGUoXFxcIiBcXFwiK3RoaXMub3BlcmF0b3IrXFxcIiBcXFwiKSx0aGlzLnNlY29uZC5jb21waWxlVG9GcmFnbWVudHMobyxMRVZFTF9PUCkpLExFVkVMX09QPj1vLmxldmVsP2Fuc3dlcjp0aGlzLndyYXBJbkJyYWNlcyhhbnN3ZXIpKX0sT3AucHJvdG90eXBlLmNvbXBpbGVDaGFpbj1mdW5jdGlvbihvKXt2YXIgZnJhZ21lbnRzLGZzdCxzaGFyZWQsX3JlZjQ7cmV0dXJuIF9yZWY0PXRoaXMuZmlyc3Quc2Vjb25kLmNhY2hlKG8pLHRoaXMuZmlyc3Quc2Vjb25kPV9yZWY0WzBdLHNoYXJlZD1fcmVmNFsxXSxmc3Q9dGhpcy5maXJzdC5jb21waWxlVG9GcmFnbWVudHMobyxMRVZFTF9PUCksZnJhZ21lbnRzPWZzdC5jb25jYXQodGhpcy5tYWtlQ29kZShcXFwiIFxcXCIrKHRoaXMuaW52ZXJ0P1xcXCImJlxcXCI6XFxcInx8XFxcIikrXFxcIiBcXFwiKSxzaGFyZWQuY29tcGlsZVRvRnJhZ21lbnRzKG8pLHRoaXMubWFrZUNvZGUoXFxcIiBcXFwiK3RoaXMub3BlcmF0b3IrXFxcIiBcXFwiKSx0aGlzLnNlY29uZC5jb21waWxlVG9GcmFnbWVudHMobyxMRVZFTF9PUCkpLHRoaXMud3JhcEluQnJhY2VzKGZyYWdtZW50cyl9LE9wLnByb3RvdHlwZS5jb21waWxlRXhpc3RlbmNlPWZ1bmN0aW9uKG8pe3ZhciBmc3QscmVmO3JldHVybiB0aGlzLmZpcnN0LmlzQ29tcGxleCgpPyhyZWY9bmV3IExpdGVyYWwoby5zY29wZS5mcmVlVmFyaWFibGUoXFxcInJlZlxcXCIpKSxmc3Q9bmV3IFBhcmVucyhuZXcgQXNzaWduKHJlZix0aGlzLmZpcnN0KSkpOihmc3Q9dGhpcy5maXJzdCxyZWY9ZnN0KSxuZXcgSWYobmV3IEV4aXN0ZW5jZShmc3QpLHJlZix7dHlwZTpcXFwiaWZcXFwifSkuYWRkRWxzZSh0aGlzLnNlY29uZCkuY29tcGlsZVRvRnJhZ21lbnRzKG8pfSxPcC5wcm90b3R5cGUuY29tcGlsZVVuYXJ5PWZ1bmN0aW9uKG8pe3ZhciBvcCxwYXJ0cyxwbHVzTWludXM7cmV0dXJuIHBhcnRzPVtdLG9wPXRoaXMub3BlcmF0b3IscGFydHMucHVzaChbdGhpcy5tYWtlQ29kZShvcCldKSxcXFwiIVxcXCI9PT1vcCYmdGhpcy5maXJzdCBpbnN0YW5jZW9mIEV4aXN0ZW5jZT8odGhpcy5maXJzdC5uZWdhdGVkPSF0aGlzLmZpcnN0Lm5lZ2F0ZWQsdGhpcy5maXJzdC5jb21waWxlVG9GcmFnbWVudHMobykpOm8ubGV2ZWw+PUxFVkVMX0FDQ0VTUz9uZXcgUGFyZW5zKHRoaXMpLmNvbXBpbGVUb0ZyYWdtZW50cyhvKToocGx1c01pbnVzPVxcXCIrXFxcIj09PW9wfHxcXFwiLVxcXCI9PT1vcCwoXFxcIm5ld1xcXCI9PT1vcHx8XFxcInR5cGVvZlxcXCI9PT1vcHx8XFxcImRlbGV0ZVxcXCI9PT1vcHx8cGx1c01pbnVzJiZ0aGlzLmZpcnN0IGluc3RhbmNlb2YgT3AmJnRoaXMuZmlyc3Qub3BlcmF0b3I9PT1vcCkmJnBhcnRzLnB1c2goW3RoaXMubWFrZUNvZGUoXFxcIiBcXFwiKV0pLChwbHVzTWludXMmJnRoaXMuZmlyc3QgaW5zdGFuY2VvZiBPcHx8XFxcIm5ld1xcXCI9PT1vcCYmdGhpcy5maXJzdC5pc1N0YXRlbWVudChvKSkmJih0aGlzLmZpcnN0PW5ldyBQYXJlbnModGhpcy5maXJzdCkpLHBhcnRzLnB1c2godGhpcy5maXJzdC5jb21waWxlVG9GcmFnbWVudHMobyxMRVZFTF9PUCkpLHRoaXMuZmxpcCYmcGFydHMucmV2ZXJzZSgpLHRoaXMuam9pbkZyYWdtZW50QXJyYXlzKHBhcnRzLFxcXCJcXFwiKSl9LE9wLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbihpZHQpe3JldHVybiBPcC5fX3N1cGVyX18udG9TdHJpbmcuY2FsbCh0aGlzLGlkdCx0aGlzLmNvbnN0cnVjdG9yLm5hbWUrXFxcIiBcXFwiK3RoaXMub3BlcmF0b3IpfSxPcH0oQmFzZSksZXhwb3J0cy5Jbj1Jbj1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIEluKG9iamVjdCxhcnJheSl7dGhpcy5vYmplY3Q9b2JqZWN0LHRoaXMuYXJyYXk9YXJyYXl9cmV0dXJuIF9fZXh0ZW5kcyhJbixfc3VwZXIpLEluLnByb3RvdHlwZS5jaGlsZHJlbj1bXFxcIm9iamVjdFxcXCIsXFxcImFycmF5XFxcIl0sSW4ucHJvdG90eXBlLmludmVydD1ORUdBVEUsSW4ucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKG8pe3ZhciBoYXNTcGxhdCxvYmosX2ksX2xlbixfcmVmNDtpZih0aGlzLmFycmF5IGluc3RhbmNlb2YgVmFsdWUmJnRoaXMuYXJyYXkuaXNBcnJheSgpKXtmb3IoX3JlZjQ9dGhpcy5hcnJheS5iYXNlLm9iamVjdHMsX2k9MCxfbGVuPV9yZWY0Lmxlbmd0aDtfbGVuPl9pO19pKyspaWYob2JqPV9yZWY0W19pXSxvYmogaW5zdGFuY2VvZiBTcGxhdCl7aGFzU3BsYXQ9ITA7YnJlYWt9aWYoIWhhc1NwbGF0KXJldHVybiB0aGlzLmNvbXBpbGVPclRlc3Qobyl9cmV0dXJuIHRoaXMuY29tcGlsZUxvb3BUZXN0KG8pfSxJbi5wcm90b3R5cGUuY29tcGlsZU9yVGVzdD1mdW5jdGlvbihvKXt2YXIgY21wLGNuaixpLGl0ZW0scmVmLHN1Yix0ZXN0cyxfaSxfbGVuLF9yZWY0LF9yZWY1LF9yZWY2O2lmKDA9PT10aGlzLmFycmF5LmJhc2Uub2JqZWN0cy5sZW5ndGgpcmV0dXJuW3RoaXMubWFrZUNvZGUoXFxcIlxcXCIrISF0aGlzLm5lZ2F0ZWQpXTtmb3IoX3JlZjQ9dGhpcy5vYmplY3QuY2FjaGUobyxMRVZFTF9PUCksc3ViPV9yZWY0WzBdLHJlZj1fcmVmNFsxXSxfcmVmNT10aGlzLm5lZ2F0ZWQ/W1xcXCIgIT09IFxcXCIsXFxcIiAmJiBcXFwiXTpbXFxcIiA9PT0gXFxcIixcXFwiIHx8IFxcXCJdLGNtcD1fcmVmNVswXSxjbmo9X3JlZjVbMV0sdGVzdHM9W10sX3JlZjY9dGhpcy5hcnJheS5iYXNlLm9iamVjdHMsaT1faT0wLF9sZW49X3JlZjYubGVuZ3RoO19sZW4+X2k7aT0rK19pKWl0ZW09X3JlZjZbaV0saSYmdGVzdHMucHVzaCh0aGlzLm1ha2VDb2RlKGNuaikpLHRlc3RzPXRlc3RzLmNvbmNhdChpP3JlZjpzdWIsdGhpcy5tYWtlQ29kZShjbXApLGl0ZW0uY29tcGlsZVRvRnJhZ21lbnRzKG8sTEVWRUxfQUNDRVNTKSk7cmV0dXJuIExFVkVMX09QPm8ubGV2ZWw/dGVzdHM6dGhpcy53cmFwSW5CcmFjZXModGVzdHMpfSxJbi5wcm90b3R5cGUuY29tcGlsZUxvb3BUZXN0PWZ1bmN0aW9uKG8pe3ZhciBmcmFnbWVudHMscmVmLHN1YixfcmVmNDtyZXR1cm4gX3JlZjQ9dGhpcy5vYmplY3QuY2FjaGUobyxMRVZFTF9MSVNUKSxzdWI9X3JlZjRbMF0scmVmPV9yZWY0WzFdLGZyYWdtZW50cz1bXS5jb25jYXQodGhpcy5tYWtlQ29kZSh1dGlsaXR5KFxcXCJpbmRleE9mXFxcIikrXFxcIi5jYWxsKFxcXCIpLHRoaXMuYXJyYXkuY29tcGlsZVRvRnJhZ21lbnRzKG8sTEVWRUxfTElTVCksdGhpcy5tYWtlQ29kZShcXFwiLCBcXFwiKSxyZWYsdGhpcy5tYWtlQ29kZShcXFwiKSBcXFwiKyh0aGlzLm5lZ2F0ZWQ/XFxcIjwgMFxcXCI6XFxcIj49IDBcXFwiKSkpLGZyYWdtZW50c1RvVGV4dChzdWIpPT09ZnJhZ21lbnRzVG9UZXh0KHJlZik/ZnJhZ21lbnRzOihmcmFnbWVudHM9c3ViLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFxcXCIsIFxcXCIpLGZyYWdtZW50cyksTEVWRUxfTElTVD5vLmxldmVsP2ZyYWdtZW50czp0aGlzLndyYXBJbkJyYWNlcyhmcmFnbWVudHMpKX0sSW4ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKGlkdCl7cmV0dXJuIEluLl9fc3VwZXJfXy50b1N0cmluZy5jYWxsKHRoaXMsaWR0LHRoaXMuY29uc3RydWN0b3IubmFtZSsodGhpcy5uZWdhdGVkP1xcXCIhXFxcIjpcXFwiXFxcIikpfSxJbn0oQmFzZSksZXhwb3J0cy5Ucnk9VHJ5PWZ1bmN0aW9uKF9zdXBlcil7ZnVuY3Rpb24gVHJ5KGF0dGVtcHQsZXJyb3JWYXJpYWJsZSxyZWNvdmVyeSxlbnN1cmUpe3RoaXMuYXR0ZW1wdD1hdHRlbXB0LHRoaXMuZXJyb3JWYXJpYWJsZT1lcnJvclZhcmlhYmxlLHRoaXMucmVjb3Zlcnk9cmVjb3ZlcnksdGhpcy5lbnN1cmU9ZW5zdXJlfXJldHVybiBfX2V4dGVuZHMoVHJ5LF9zdXBlciksVHJ5LnByb3RvdHlwZS5jaGlsZHJlbj1bXFxcImF0dGVtcHRcXFwiLFxcXCJyZWNvdmVyeVxcXCIsXFxcImVuc3VyZVxcXCJdLFRyeS5wcm90b3R5cGUuaXNTdGF0ZW1lbnQ9WUVTLFRyeS5wcm90b3R5cGUuanVtcHM9ZnVuY3Rpb24obyl7dmFyIF9yZWY0O3JldHVybiB0aGlzLmF0dGVtcHQuanVtcHMobyl8fChudWxsIT0oX3JlZjQ9dGhpcy5yZWNvdmVyeSk/X3JlZjQuanVtcHMobyk6dm9pZCAwKX0sVHJ5LnByb3RvdHlwZS5tYWtlUmV0dXJuPWZ1bmN0aW9uKHJlcyl7cmV0dXJuIHRoaXMuYXR0ZW1wdCYmKHRoaXMuYXR0ZW1wdD10aGlzLmF0dGVtcHQubWFrZVJldHVybihyZXMpKSx0aGlzLnJlY292ZXJ5JiYodGhpcy5yZWNvdmVyeT10aGlzLnJlY292ZXJ5Lm1ha2VSZXR1cm4ocmVzKSksdGhpc30sVHJ5LnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihvKXt2YXIgY2F0Y2hQYXJ0LGVuc3VyZVBhcnQscGxhY2Vob2xkZXIsdHJ5UGFydDtyZXR1cm4gby5pbmRlbnQrPVRBQix0cnlQYXJ0PXRoaXMuYXR0ZW1wdC5jb21waWxlVG9GcmFnbWVudHMobyxMRVZFTF9UT1ApLGNhdGNoUGFydD10aGlzLnJlY292ZXJ5PyhwbGFjZWhvbGRlcj1uZXcgTGl0ZXJhbChcXFwiX2Vycm9yXFxcIiksdGhpcy5lcnJvclZhcmlhYmxlP3RoaXMucmVjb3ZlcnkudW5zaGlmdChuZXcgQXNzaWduKHRoaXMuZXJyb3JWYXJpYWJsZSxwbGFjZWhvbGRlcikpOnZvaWQgMCxbXS5jb25jYXQodGhpcy5tYWtlQ29kZShcXFwiIGNhdGNoIChcXFwiKSxwbGFjZWhvbGRlci5jb21waWxlVG9GcmFnbWVudHMobyksdGhpcy5tYWtlQ29kZShcXFwiKSB7XFxcXG5cXFwiKSx0aGlzLnJlY292ZXJ5LmNvbXBpbGVUb0ZyYWdtZW50cyhvLExFVkVMX1RPUCksdGhpcy5tYWtlQ29kZShcXFwiXFxcXG5cXFwiK3RoaXMudGFiK1xcXCJ9XFxcIikpKTp0aGlzLmVuc3VyZXx8dGhpcy5yZWNvdmVyeT9bXTpbdGhpcy5tYWtlQ29kZShcXFwiIGNhdGNoIChfZXJyb3IpIHt9XFxcIildLGVuc3VyZVBhcnQ9dGhpcy5lbnN1cmU/W10uY29uY2F0KHRoaXMubWFrZUNvZGUoXFxcIiBmaW5hbGx5IHtcXFxcblxcXCIpLHRoaXMuZW5zdXJlLmNvbXBpbGVUb0ZyYWdtZW50cyhvLExFVkVMX1RPUCksdGhpcy5tYWtlQ29kZShcXFwiXFxcXG5cXFwiK3RoaXMudGFiK1xcXCJ9XFxcIikpOltdLFtdLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFxcXCJcXFwiK3RoaXMudGFiK1xcXCJ0cnkge1xcXFxuXFxcIiksdHJ5UGFydCx0aGlzLm1ha2VDb2RlKFxcXCJcXFxcblxcXCIrdGhpcy50YWIrXFxcIn1cXFwiKSxjYXRjaFBhcnQsZW5zdXJlUGFydCl9LFRyeX0oQmFzZSksZXhwb3J0cy5UaHJvdz1UaHJvdz1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIFRocm93KGV4cHJlc3Npb24pe3RoaXMuZXhwcmVzc2lvbj1leHByZXNzaW9ufXJldHVybiBfX2V4dGVuZHMoVGhyb3csX3N1cGVyKSxUaHJvdy5wcm90b3R5cGUuY2hpbGRyZW49W1xcXCJleHByZXNzaW9uXFxcIl0sVGhyb3cucHJvdG90eXBlLmlzU3RhdGVtZW50PVlFUyxUaHJvdy5wcm90b3R5cGUuanVtcHM9Tk8sVGhyb3cucHJvdG90eXBlLm1ha2VSZXR1cm49VEhJUyxUaHJvdy5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24obyl7cmV0dXJuW10uY29uY2F0KHRoaXMubWFrZUNvZGUodGhpcy50YWIrXFxcInRocm93IFxcXCIpLHRoaXMuZXhwcmVzc2lvbi5jb21waWxlVG9GcmFnbWVudHMobyksdGhpcy5tYWtlQ29kZShcXFwiO1xcXCIpKX0sVGhyb3d9KEJhc2UpLGV4cG9ydHMuRXhpc3RlbmNlPUV4aXN0ZW5jZT1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIEV4aXN0ZW5jZShleHByZXNzaW9uKXt0aGlzLmV4cHJlc3Npb249ZXhwcmVzc2lvbn1yZXR1cm4gX19leHRlbmRzKEV4aXN0ZW5jZSxfc3VwZXIpLEV4aXN0ZW5jZS5wcm90b3R5cGUuY2hpbGRyZW49W1xcXCJleHByZXNzaW9uXFxcIl0sRXhpc3RlbmNlLnByb3RvdHlwZS5pbnZlcnQ9TkVHQVRFLEV4aXN0ZW5jZS5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24obyl7dmFyIGNtcCxjbmosY29kZSxfcmVmNDtyZXR1cm4gdGhpcy5leHByZXNzaW9uLmZyb250PXRoaXMuZnJvbnQsY29kZT10aGlzLmV4cHJlc3Npb24uY29tcGlsZShvLExFVkVMX09QKSxJREVOVElGSUVSLnRlc3QoY29kZSkmJiFvLnNjb3BlLmNoZWNrKGNvZGUpPyhfcmVmND10aGlzLm5lZ2F0ZWQ/W1xcXCI9PT1cXFwiLFxcXCJ8fFxcXCJdOltcXFwiIT09XFxcIixcXFwiJiZcXFwiXSxjbXA9X3JlZjRbMF0sY25qPV9yZWY0WzFdLGNvZGU9XFxcInR5cGVvZiBcXFwiK2NvZGUrXFxcIiBcXFwiK2NtcCsnIFxcXCJ1bmRlZmluZWRcXFwiICcrY25qK1xcXCIgXFxcIitjb2RlK1xcXCIgXFxcIitjbXArXFxcIiBudWxsXFxcIik6Y29kZT1cXFwiXFxcIitjb2RlK1xcXCIgXFxcIisodGhpcy5uZWdhdGVkP1xcXCI9PVxcXCI6XFxcIiE9XFxcIikrXFxcIiBudWxsXFxcIixbdGhpcy5tYWtlQ29kZShMRVZFTF9DT05EPj1vLmxldmVsP2NvZGU6XFxcIihcXFwiK2NvZGUrXFxcIilcXFwiKV19LEV4aXN0ZW5jZX0oQmFzZSksZXhwb3J0cy5QYXJlbnM9UGFyZW5zPWZ1bmN0aW9uKF9zdXBlcil7ZnVuY3Rpb24gUGFyZW5zKGJvZHkpe3RoaXMuYm9keT1ib2R5fXJldHVybiBfX2V4dGVuZHMoUGFyZW5zLF9zdXBlciksUGFyZW5zLnByb3RvdHlwZS5jaGlsZHJlbj1bXFxcImJvZHlcXFwiXSxQYXJlbnMucHJvdG90eXBlLnVud3JhcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHl9LFBhcmVucy5wcm90b3R5cGUuaXNDb21wbGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9keS5pc0NvbXBsZXgoKX0sUGFyZW5zLnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihvKXt2YXIgYmFyZSxleHByLGZyYWdtZW50cztyZXR1cm4gZXhwcj10aGlzLmJvZHkudW53cmFwKCksZXhwciBpbnN0YW5jZW9mIFZhbHVlJiZleHByLmlzQXRvbWljKCk/KGV4cHIuZnJvbnQ9dGhpcy5mcm9udCxleHByLmNvbXBpbGVUb0ZyYWdtZW50cyhvKSk6KGZyYWdtZW50cz1leHByLmNvbXBpbGVUb0ZyYWdtZW50cyhvLExFVkVMX1BBUkVOKSxiYXJlPUxFVkVMX09QPm8ubGV2ZWwmJihleHByIGluc3RhbmNlb2YgT3B8fGV4cHIgaW5zdGFuY2VvZiBDYWxsfHxleHByIGluc3RhbmNlb2YgRm9yJiZleHByLnJldHVybnMpLGJhcmU/ZnJhZ21lbnRzOnRoaXMud3JhcEluQnJhY2VzKGZyYWdtZW50cykpfSxQYXJlbnN9KEJhc2UpLGV4cG9ydHMuRm9yPUZvcj1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIEZvcihib2R5LHNvdXJjZSl7dmFyIF9yZWY0O3RoaXMuc291cmNlPXNvdXJjZS5zb3VyY2UsdGhpcy5ndWFyZD1zb3VyY2UuZ3VhcmQsdGhpcy5zdGVwPXNvdXJjZS5zdGVwLHRoaXMubmFtZT1zb3VyY2UubmFtZSx0aGlzLmluZGV4PXNvdXJjZS5pbmRleCx0aGlzLmJvZHk9QmxvY2sud3JhcChbYm9keV0pLHRoaXMub3duPSEhc291cmNlLm93bix0aGlzLm9iamVjdD0hIXNvdXJjZS5vYmplY3QsdGhpcy5vYmplY3QmJihfcmVmND1bdGhpcy5pbmRleCx0aGlzLm5hbWVdLHRoaXMubmFtZT1fcmVmNFswXSx0aGlzLmluZGV4PV9yZWY0WzFdKSx0aGlzLmluZGV4IGluc3RhbmNlb2YgVmFsdWUmJnRoaXMuaW5kZXguZXJyb3IoXFxcImluZGV4IGNhbm5vdCBiZSBhIHBhdHRlcm4gbWF0Y2hpbmcgZXhwcmVzc2lvblxcXCIpLHRoaXMucmFuZ2U9dGhpcy5zb3VyY2UgaW5zdGFuY2VvZiBWYWx1ZSYmdGhpcy5zb3VyY2UuYmFzZSBpbnN0YW5jZW9mIFJhbmdlJiYhdGhpcy5zb3VyY2UucHJvcGVydGllcy5sZW5ndGgsdGhpcy5wYXR0ZXJuPXRoaXMubmFtZSBpbnN0YW5jZW9mIFZhbHVlLHRoaXMucmFuZ2UmJnRoaXMuaW5kZXgmJnRoaXMuaW5kZXguZXJyb3IoXFxcImluZGV4ZXMgZG8gbm90IGFwcGx5IHRvIHJhbmdlIGxvb3BzXFxcIiksdGhpcy5yYW5nZSYmdGhpcy5wYXR0ZXJuJiZ0aGlzLm5hbWUuZXJyb3IoXFxcImNhbm5vdCBwYXR0ZXJuIG1hdGNoIG92ZXIgcmFuZ2UgbG9vcHNcXFwiKSx0aGlzLnJldHVybnM9ITF9cmV0dXJuIF9fZXh0ZW5kcyhGb3IsX3N1cGVyKSxGb3IucHJvdG90eXBlLmNoaWxkcmVuPVtcXFwiYm9keVxcXCIsXFxcInNvdXJjZVxcXCIsXFxcImd1YXJkXFxcIixcXFwic3RlcFxcXCJdLEZvci5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24obyl7dmFyIGJvZHksYm9keUZyYWdtZW50cyxjb21wYXJlLGNvbXBhcmVEb3duLGRlY2xhcmUsZGVjbGFyZURvd24sZGVmUGFydCxkZWZQYXJ0RnJhZ21lbnRzLGRvd24sZm9yUGFydEZyYWdtZW50cyxndWFyZFBhcnQsaWR0MSxpbmNyZW1lbnQsaW5kZXgsaXZhcixrdmFyLGt2YXJBc3NpZ24sbGFzdEp1bXBzLGx2YXIsbmFtZSxuYW1lUGFydCxyZWYscmVzdWx0UGFydCxyZXR1cm5SZXN1bHQscnZhcixzY29wZSxzb3VyY2Usc3RlcCxzdGVwTnVtLHN0ZXBWYXIsc3Zhcix2YXJQYXJ0LF9yZWY0LF9yZWY1O3JldHVybiBib2R5PUJsb2NrLndyYXAoW3RoaXMuYm9keV0pLGxhc3RKdW1wcz1udWxsIT0oX3JlZjQ9bGFzdChib2R5LmV4cHJlc3Npb25zKSk/X3JlZjQuanVtcHMoKTp2b2lkIDAsbGFzdEp1bXBzJiZsYXN0SnVtcHMgaW5zdGFuY2VvZiBSZXR1cm4mJih0aGlzLnJldHVybnM9ITEpLHNvdXJjZT10aGlzLnJhbmdlP3RoaXMuc291cmNlLmJhc2U6dGhpcy5zb3VyY2Usc2NvcGU9by5zY29wZSxuYW1lPXRoaXMubmFtZSYmdGhpcy5uYW1lLmNvbXBpbGUobyxMRVZFTF9MSVNUKSxpbmRleD10aGlzLmluZGV4JiZ0aGlzLmluZGV4LmNvbXBpbGUobyxMRVZFTF9MSVNUKSxuYW1lJiYhdGhpcy5wYXR0ZXJuJiZzY29wZS5maW5kKG5hbWUpLGluZGV4JiZzY29wZS5maW5kKGluZGV4KSx0aGlzLnJldHVybnMmJihydmFyPXNjb3BlLmZyZWVWYXJpYWJsZShcXFwicmVzdWx0c1xcXCIpKSxpdmFyPXRoaXMub2JqZWN0JiZpbmRleHx8c2NvcGUuZnJlZVZhcmlhYmxlKFxcXCJpXFxcIiksa3Zhcj10aGlzLnJhbmdlJiZuYW1lfHxpbmRleHx8aXZhcixrdmFyQXNzaWduPWt2YXIhPT1pdmFyP1xcXCJcXFwiK2t2YXIrXFxcIiA9IFxcXCI6XFxcIlxcXCIsdGhpcy5zdGVwJiYhdGhpcy5yYW5nZSYmKF9yZWY1PXRoaXMuY2FjaGVUb0NvZGVGcmFnbWVudHModGhpcy5zdGVwLmNhY2hlKG8sTEVWRUxfTElTVCkpLHN0ZXA9X3JlZjVbMF0sc3RlcFZhcj1fcmVmNVsxXSxzdGVwTnVtPXN0ZXBWYXIubWF0Y2goU0lNUExFTlVNKSksdGhpcy5wYXR0ZXJuJiYobmFtZT1pdmFyKSx2YXJQYXJ0PVxcXCJcXFwiLGd1YXJkUGFydD1cXFwiXFxcIixkZWZQYXJ0PVxcXCJcXFwiLGlkdDE9dGhpcy50YWIrVEFCLHRoaXMucmFuZ2U/Zm9yUGFydEZyYWdtZW50cz1zb3VyY2UuY29tcGlsZVRvRnJhZ21lbnRzKG1lcmdlKG8se2luZGV4Oml2YXIsbmFtZTpuYW1lLHN0ZXA6dGhpcy5zdGVwfSkpOihzdmFyPXRoaXMuc291cmNlLmNvbXBpbGUobyxMRVZFTF9MSVNUKSwhbmFtZSYmIXRoaXMub3dufHxJREVOVElGSUVSLnRlc3Qoc3Zhcil8fChkZWZQYXJ0Kz1cXFwiXFxcIit0aGlzLnRhYisocmVmPXNjb3BlLmZyZWVWYXJpYWJsZShcXFwicmVmXFxcIikpK1xcXCIgPSBcXFwiK3N2YXIrXFxcIjtcXFxcblxcXCIsc3Zhcj1yZWYpLG5hbWUmJiF0aGlzLnBhdHRlcm4mJihuYW1lUGFydD1cXFwiXFxcIituYW1lK1xcXCIgPSBcXFwiK3N2YXIrXFxcIltcXFwiK2t2YXIrXFxcIl1cXFwiKSx0aGlzLm9iamVjdHx8KHN0ZXAhPT1zdGVwVmFyJiYoZGVmUGFydCs9XFxcIlxcXCIrdGhpcy50YWIrc3RlcCtcXFwiO1xcXFxuXFxcIiksdGhpcy5zdGVwJiZzdGVwTnVtJiYoZG93bj0wPitzdGVwTnVtKXx8KGx2YXI9c2NvcGUuZnJlZVZhcmlhYmxlKFxcXCJsZW5cXFwiKSksZGVjbGFyZT1cXFwiXFxcIitrdmFyQXNzaWduK2l2YXIrXFxcIiA9IDAsIFxcXCIrbHZhcitcXFwiID0gXFxcIitzdmFyK1xcXCIubGVuZ3RoXFxcIixkZWNsYXJlRG93bj1cXFwiXFxcIitrdmFyQXNzaWduK2l2YXIrXFxcIiA9IFxcXCIrc3ZhcitcXFwiLmxlbmd0aCAtIDFcXFwiLGNvbXBhcmU9XFxcIlxcXCIraXZhcitcXFwiIDwgXFxcIitsdmFyLGNvbXBhcmVEb3duPVxcXCJcXFwiK2l2YXIrXFxcIiA+PSAwXFxcIix0aGlzLnN0ZXA/KHN0ZXBOdW0/ZG93biYmKGNvbXBhcmU9Y29tcGFyZURvd24sZGVjbGFyZT1kZWNsYXJlRG93bik6KGNvbXBhcmU9XFxcIlxcXCIrc3RlcFZhcitcXFwiID4gMCA/IFxcXCIrY29tcGFyZStcXFwiIDogXFxcIitjb21wYXJlRG93bixkZWNsYXJlPVxcXCIoXFxcIitzdGVwVmFyK1xcXCIgPiAwID8gKFxcXCIrZGVjbGFyZStcXFwiKSA6IFxcXCIrZGVjbGFyZURvd24rXFxcIilcXFwiKSxpbmNyZW1lbnQ9XFxcIlxcXCIraXZhcitcXFwiICs9IFxcXCIrc3RlcFZhcik6aW5jcmVtZW50PVxcXCJcXFwiKyhrdmFyIT09aXZhcj9cXFwiKytcXFwiK2l2YXI6XFxcIlxcXCIraXZhcitcXFwiKytcXFwiKSxmb3JQYXJ0RnJhZ21lbnRzPVt0aGlzLm1ha2VDb2RlKFxcXCJcXFwiK2RlY2xhcmUrXFxcIjsgXFxcIitjb21wYXJlK1xcXCI7IFxcXCIra3ZhckFzc2lnbitpbmNyZW1lbnQpXSkpLHRoaXMucmV0dXJucyYmKHJlc3VsdFBhcnQ9XFxcIlxcXCIrdGhpcy50YWIrcnZhcitcXFwiID0gW107XFxcXG5cXFwiLHJldHVyblJlc3VsdD1cXFwiXFxcXG5cXFwiK3RoaXMudGFiK1xcXCJyZXR1cm4gXFxcIitydmFyK1xcXCI7XFxcIixib2R5Lm1ha2VSZXR1cm4ocnZhcikpLHRoaXMuZ3VhcmQmJihib2R5LmV4cHJlc3Npb25zLmxlbmd0aD4xP2JvZHkuZXhwcmVzc2lvbnMudW5zaGlmdChuZXcgSWYobmV3IFBhcmVucyh0aGlzLmd1YXJkKS5pbnZlcnQoKSxuZXcgTGl0ZXJhbChcXFwiY29udGludWVcXFwiKSkpOnRoaXMuZ3VhcmQmJihib2R5PUJsb2NrLndyYXAoW25ldyBJZih0aGlzLmd1YXJkLGJvZHkpXSkpKSx0aGlzLnBhdHRlcm4mJmJvZHkuZXhwcmVzc2lvbnMudW5zaGlmdChuZXcgQXNzaWduKHRoaXMubmFtZSxuZXcgTGl0ZXJhbChcXFwiXFxcIitzdmFyK1xcXCJbXFxcIitrdmFyK1xcXCJdXFxcIikpKSxkZWZQYXJ0RnJhZ21lbnRzPVtdLmNvbmNhdCh0aGlzLm1ha2VDb2RlKGRlZlBhcnQpLHRoaXMucGx1Y2tEaXJlY3RDYWxsKG8sYm9keSkpLG5hbWVQYXJ0JiYodmFyUGFydD1cXFwiXFxcXG5cXFwiK2lkdDErbmFtZVBhcnQrXFxcIjtcXFwiKSx0aGlzLm9iamVjdCYmKGZvclBhcnRGcmFnbWVudHM9W3RoaXMubWFrZUNvZGUoXFxcIlxcXCIra3ZhcitcXFwiIGluIFxcXCIrc3ZhcildLHRoaXMub3duJiYoZ3VhcmRQYXJ0PVxcXCJcXFxcblxcXCIraWR0MStcXFwiaWYgKCFcXFwiK3V0aWxpdHkoXFxcImhhc1Byb3BcXFwiKStcXFwiLmNhbGwoXFxcIitzdmFyK1xcXCIsIFxcXCIra3ZhcitcXFwiKSkgY29udGludWU7XFxcIikpLGJvZHlGcmFnbWVudHM9Ym9keS5jb21waWxlVG9GcmFnbWVudHMobWVyZ2Uobyx7aW5kZW50OmlkdDF9KSxMRVZFTF9UT1ApLGJvZHlGcmFnbWVudHMmJmJvZHlGcmFnbWVudHMubGVuZ3RoPjAmJihib2R5RnJhZ21lbnRzPVtdLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFxcXCJcXFxcblxcXCIpLGJvZHlGcmFnbWVudHMsdGhpcy5tYWtlQ29kZShcXFwiXFxcXG5cXFwiKSkpLFtdLmNvbmNhdChkZWZQYXJ0RnJhZ21lbnRzLHRoaXMubWFrZUNvZGUoXFxcIlxcXCIrKHJlc3VsdFBhcnR8fFxcXCJcXFwiKSt0aGlzLnRhYitcXFwiZm9yIChcXFwiKSxmb3JQYXJ0RnJhZ21lbnRzLHRoaXMubWFrZUNvZGUoXFxcIikge1xcXCIrZ3VhcmRQYXJ0K3ZhclBhcnQpLGJvZHlGcmFnbWVudHMsdGhpcy5tYWtlQ29kZShcXFwiXFxcIit0aGlzLnRhYitcXFwifVxcXCIrKHJldHVyblJlc3VsdHx8XFxcIlxcXCIpKSlcXG59LEZvci5wcm90b3R5cGUucGx1Y2tEaXJlY3RDYWxsPWZ1bmN0aW9uKG8sYm9keSl7dmFyIGJhc2UsZGVmcyxleHByLGZuLGlkeCxyZWYsdmFsLF9pLF9sZW4sX3JlZjQsX3JlZjUsX3JlZjYsX3JlZjcsX3JlZjgsX3JlZjk7Zm9yKGRlZnM9W10sX3JlZjQ9Ym9keS5leHByZXNzaW9ucyxpZHg9X2k9MCxfbGVuPV9yZWY0Lmxlbmd0aDtfbGVuPl9pO2lkeD0rK19pKWV4cHI9X3JlZjRbaWR4XSxleHByPWV4cHIudW53cmFwQWxsKCksZXhwciBpbnN0YW5jZW9mIENhbGwmJih2YWw9ZXhwci52YXJpYWJsZS51bndyYXBBbGwoKSwodmFsIGluc3RhbmNlb2YgQ29kZXx8dmFsIGluc3RhbmNlb2YgVmFsdWUmJihudWxsIT0oX3JlZjU9dmFsLmJhc2UpP19yZWY1LnVud3JhcEFsbCgpOnZvaWQgMClpbnN0YW5jZW9mIENvZGUmJjE9PT12YWwucHJvcGVydGllcy5sZW5ndGgmJihcXFwiY2FsbFxcXCI9PT0oX3JlZjY9bnVsbCE9KF9yZWY3PXZhbC5wcm9wZXJ0aWVzWzBdLm5hbWUpP19yZWY3LnZhbHVlOnZvaWQgMCl8fFxcXCJhcHBseVxcXCI9PT1fcmVmNikpJiYoZm49KG51bGwhPShfcmVmOD12YWwuYmFzZSk/X3JlZjgudW53cmFwQWxsKCk6dm9pZCAwKXx8dmFsLHJlZj1uZXcgTGl0ZXJhbChvLnNjb3BlLmZyZWVWYXJpYWJsZShcXFwiZm5cXFwiKSksYmFzZT1uZXcgVmFsdWUocmVmKSx2YWwuYmFzZSYmKF9yZWY5PVtiYXNlLHZhbF0sdmFsLmJhc2U9X3JlZjlbMF0sYmFzZT1fcmVmOVsxXSksYm9keS5leHByZXNzaW9uc1tpZHhdPW5ldyBDYWxsKGJhc2UsZXhwci5hcmdzKSxkZWZzPWRlZnMuY29uY2F0KHRoaXMubWFrZUNvZGUodGhpcy50YWIpLG5ldyBBc3NpZ24ocmVmLGZuKS5jb21waWxlVG9GcmFnbWVudHMobyxMRVZFTF9UT1ApLHRoaXMubWFrZUNvZGUoXFxcIjtcXFxcblxcXCIpKSkpO3JldHVybiBkZWZzfSxGb3J9KFdoaWxlKSxleHBvcnRzLlN3aXRjaD1Td2l0Y2g9ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBTd2l0Y2goc3ViamVjdCxjYXNlcyxvdGhlcndpc2Upe3RoaXMuc3ViamVjdD1zdWJqZWN0LHRoaXMuY2FzZXM9Y2FzZXMsdGhpcy5vdGhlcndpc2U9b3RoZXJ3aXNlfXJldHVybiBfX2V4dGVuZHMoU3dpdGNoLF9zdXBlciksU3dpdGNoLnByb3RvdHlwZS5jaGlsZHJlbj1bXFxcInN1YmplY3RcXFwiLFxcXCJjYXNlc1xcXCIsXFxcIm90aGVyd2lzZVxcXCJdLFN3aXRjaC5wcm90b3R5cGUuaXNTdGF0ZW1lbnQ9WUVTLFN3aXRjaC5wcm90b3R5cGUuanVtcHM9ZnVuY3Rpb24obyl7dmFyIGJsb2NrLGNvbmRzLF9pLF9sZW4sX3JlZjQsX3JlZjUsX3JlZjY7Zm9yKG51bGw9PW8mJihvPXtibG9jazohMH0pLF9yZWY0PXRoaXMuY2FzZXMsX2k9MCxfbGVuPV9yZWY0Lmxlbmd0aDtfbGVuPl9pO19pKyspaWYoX3JlZjU9X3JlZjRbX2ldLGNvbmRzPV9yZWY1WzBdLGJsb2NrPV9yZWY1WzFdLGJsb2NrLmp1bXBzKG8pKXJldHVybiBibG9jaztyZXR1cm4gbnVsbCE9KF9yZWY2PXRoaXMub3RoZXJ3aXNlKT9fcmVmNi5qdW1wcyhvKTp2b2lkIDB9LFN3aXRjaC5wcm90b3R5cGUubWFrZVJldHVybj1mdW5jdGlvbihyZXMpe3ZhciBwYWlyLF9pLF9sZW4sX3JlZjQsX3JlZjU7Zm9yKF9yZWY0PXRoaXMuY2FzZXMsX2k9MCxfbGVuPV9yZWY0Lmxlbmd0aDtfbGVuPl9pO19pKyspcGFpcj1fcmVmNFtfaV0scGFpclsxXS5tYWtlUmV0dXJuKHJlcyk7cmV0dXJuIHJlcyYmKHRoaXMub3RoZXJ3aXNlfHwodGhpcy5vdGhlcndpc2U9bmV3IEJsb2NrKFtuZXcgTGl0ZXJhbChcXFwidm9pZCAwXFxcIildKSkpLG51bGwhPShfcmVmNT10aGlzLm90aGVyd2lzZSkmJl9yZWY1Lm1ha2VSZXR1cm4ocmVzKSx0aGlzfSxTd2l0Y2gucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKG8pe3ZhciBibG9jayxib2R5LGNvbmQsY29uZGl0aW9ucyxleHByLGZyYWdtZW50cyxpLGlkdDEsaWR0MixfaSxfaixfbGVuLF9sZW4xLF9yZWY0LF9yZWY1LF9yZWY2O2ZvcihpZHQxPW8uaW5kZW50K1RBQixpZHQyPW8uaW5kZW50PWlkdDErVEFCLGZyYWdtZW50cz1bXS5jb25jYXQodGhpcy5tYWtlQ29kZSh0aGlzLnRhYitcXFwic3dpdGNoIChcXFwiKSx0aGlzLnN1YmplY3Q/dGhpcy5zdWJqZWN0LmNvbXBpbGVUb0ZyYWdtZW50cyhvLExFVkVMX1BBUkVOKTp0aGlzLm1ha2VDb2RlKFxcXCJmYWxzZVxcXCIpLHRoaXMubWFrZUNvZGUoXFxcIikge1xcXFxuXFxcIikpLF9yZWY0PXRoaXMuY2FzZXMsaT1faT0wLF9sZW49X3JlZjQubGVuZ3RoO19sZW4+X2k7aT0rK19pKXtmb3IoX3JlZjU9X3JlZjRbaV0sY29uZGl0aW9ucz1fcmVmNVswXSxibG9jaz1fcmVmNVsxXSxfcmVmNj1mbGF0dGVuKFtjb25kaXRpb25zXSksX2o9MCxfbGVuMT1fcmVmNi5sZW5ndGg7X2xlbjE+X2o7X2orKyljb25kPV9yZWY2W19qXSx0aGlzLnN1YmplY3R8fChjb25kPWNvbmQuaW52ZXJ0KCkpLGZyYWdtZW50cz1mcmFnbWVudHMuY29uY2F0KHRoaXMubWFrZUNvZGUoaWR0MStcXFwiY2FzZSBcXFwiKSxjb25kLmNvbXBpbGVUb0ZyYWdtZW50cyhvLExFVkVMX1BBUkVOKSx0aGlzLm1ha2VDb2RlKFxcXCI6XFxcXG5cXFwiKSk7aWYoKGJvZHk9YmxvY2suY29tcGlsZVRvRnJhZ21lbnRzKG8sTEVWRUxfVE9QKSkubGVuZ3RoPjAmJihmcmFnbWVudHM9ZnJhZ21lbnRzLmNvbmNhdChib2R5LHRoaXMubWFrZUNvZGUoXFxcIlxcXFxuXFxcIikpKSxpPT09dGhpcy5jYXNlcy5sZW5ndGgtMSYmIXRoaXMub3RoZXJ3aXNlKWJyZWFrO2V4cHI9dGhpcy5sYXN0Tm9uQ29tbWVudChibG9jay5leHByZXNzaW9ucyksZXhwciBpbnN0YW5jZW9mIFJldHVybnx8ZXhwciBpbnN0YW5jZW9mIExpdGVyYWwmJmV4cHIuanVtcHMoKSYmXFxcImRlYnVnZ2VyXFxcIiE9PWV4cHIudmFsdWV8fGZyYWdtZW50cy5wdXNoKGNvbmQubWFrZUNvZGUoaWR0MitcXFwiYnJlYWs7XFxcXG5cXFwiKSl9cmV0dXJuIHRoaXMub3RoZXJ3aXNlJiZ0aGlzLm90aGVyd2lzZS5leHByZXNzaW9ucy5sZW5ndGgmJmZyYWdtZW50cy5wdXNoLmFwcGx5KGZyYWdtZW50cyxbdGhpcy5tYWtlQ29kZShpZHQxK1xcXCJkZWZhdWx0OlxcXFxuXFxcIildLmNvbmNhdChfX3NsaWNlLmNhbGwodGhpcy5vdGhlcndpc2UuY29tcGlsZVRvRnJhZ21lbnRzKG8sTEVWRUxfVE9QKSksW3RoaXMubWFrZUNvZGUoXFxcIlxcXFxuXFxcIildKSksZnJhZ21lbnRzLnB1c2godGhpcy5tYWtlQ29kZSh0aGlzLnRhYitcXFwifVxcXCIpKSxmcmFnbWVudHN9LFN3aXRjaH0oQmFzZSksZXhwb3J0cy5JZj1JZj1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIElmKGNvbmRpdGlvbixib2R5LG9wdGlvbnMpe3RoaXMuYm9keT1ib2R5LG51bGw9PW9wdGlvbnMmJihvcHRpb25zPXt9KSx0aGlzLmNvbmRpdGlvbj1cXFwidW5sZXNzXFxcIj09PW9wdGlvbnMudHlwZT9jb25kaXRpb24uaW52ZXJ0KCk6Y29uZGl0aW9uLHRoaXMuZWxzZUJvZHk9bnVsbCx0aGlzLmlzQ2hhaW49ITEsdGhpcy5zb2FrPW9wdGlvbnMuc29ha31yZXR1cm4gX19leHRlbmRzKElmLF9zdXBlciksSWYucHJvdG90eXBlLmNoaWxkcmVuPVtcXFwiY29uZGl0aW9uXFxcIixcXFwiYm9keVxcXCIsXFxcImVsc2VCb2R5XFxcIl0sSWYucHJvdG90eXBlLmJvZHlOb2RlPWZ1bmN0aW9uKCl7dmFyIF9yZWY0O3JldHVybiBudWxsIT0oX3JlZjQ9dGhpcy5ib2R5KT9fcmVmNC51bndyYXAoKTp2b2lkIDB9LElmLnByb3RvdHlwZS5lbHNlQm9keU5vZGU9ZnVuY3Rpb24oKXt2YXIgX3JlZjQ7cmV0dXJuIG51bGwhPShfcmVmND10aGlzLmVsc2VCb2R5KT9fcmVmNC51bndyYXAoKTp2b2lkIDB9LElmLnByb3RvdHlwZS5hZGRFbHNlPWZ1bmN0aW9uKGVsc2VCb2R5KXtyZXR1cm4gdGhpcy5pc0NoYWluP3RoaXMuZWxzZUJvZHlOb2RlKCkuYWRkRWxzZShlbHNlQm9keSk6KHRoaXMuaXNDaGFpbj1lbHNlQm9keSBpbnN0YW5jZW9mIElmLHRoaXMuZWxzZUJvZHk9dGhpcy5lbnN1cmVCbG9jayhlbHNlQm9keSkpLHRoaXN9LElmLnByb3RvdHlwZS5pc1N0YXRlbWVudD1mdW5jdGlvbihvKXt2YXIgX3JlZjQ7cmV0dXJuKG51bGwhPW8/by5sZXZlbDp2b2lkIDApPT09TEVWRUxfVE9QfHx0aGlzLmJvZHlOb2RlKCkuaXNTdGF0ZW1lbnQobyl8fChudWxsIT0oX3JlZjQ9dGhpcy5lbHNlQm9keU5vZGUoKSk/X3JlZjQuaXNTdGF0ZW1lbnQobyk6dm9pZCAwKX0sSWYucHJvdG90eXBlLmp1bXBzPWZ1bmN0aW9uKG8pe3ZhciBfcmVmNDtyZXR1cm4gdGhpcy5ib2R5Lmp1bXBzKG8pfHwobnVsbCE9KF9yZWY0PXRoaXMuZWxzZUJvZHkpP19yZWY0Lmp1bXBzKG8pOnZvaWQgMCl9LElmLnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihvKXtyZXR1cm4gdGhpcy5pc1N0YXRlbWVudChvKT90aGlzLmNvbXBpbGVTdGF0ZW1lbnQobyk6dGhpcy5jb21waWxlRXhwcmVzc2lvbihvKX0sSWYucHJvdG90eXBlLm1ha2VSZXR1cm49ZnVuY3Rpb24ocmVzKXtyZXR1cm4gcmVzJiYodGhpcy5lbHNlQm9keXx8KHRoaXMuZWxzZUJvZHk9bmV3IEJsb2NrKFtuZXcgTGl0ZXJhbChcXFwidm9pZCAwXFxcIildKSkpLHRoaXMuYm9keSYmKHRoaXMuYm9keT1uZXcgQmxvY2soW3RoaXMuYm9keS5tYWtlUmV0dXJuKHJlcyldKSksdGhpcy5lbHNlQm9keSYmKHRoaXMuZWxzZUJvZHk9bmV3IEJsb2NrKFt0aGlzLmVsc2VCb2R5Lm1ha2VSZXR1cm4ocmVzKV0pKSx0aGlzfSxJZi5wcm90b3R5cGUuZW5zdXJlQmxvY2s9ZnVuY3Rpb24obm9kZSl7cmV0dXJuIG5vZGUgaW5zdGFuY2VvZiBCbG9jaz9ub2RlOm5ldyBCbG9jayhbbm9kZV0pfSxJZi5wcm90b3R5cGUuY29tcGlsZVN0YXRlbWVudD1mdW5jdGlvbihvKXt2YXIgYW5zd2VyLGJvZHksY2hpbGQsY29uZCxleGVxLGlmUGFydCxpbmRlbnQ7cmV0dXJuIGNoaWxkPWRlbChvLFxcXCJjaGFpbkNoaWxkXFxcIiksKGV4ZXE9ZGVsKG8sXFxcImlzRXhpc3RlbnRpYWxFcXVhbHNcXFwiKSk/bmV3IElmKHRoaXMuY29uZGl0aW9uLmludmVydCgpLHRoaXMuZWxzZUJvZHlOb2RlKCkse3R5cGU6XFxcImlmXFxcIn0pLmNvbXBpbGVUb0ZyYWdtZW50cyhvKTooaW5kZW50PW8uaW5kZW50K1RBQixjb25kPXRoaXMuY29uZGl0aW9uLmNvbXBpbGVUb0ZyYWdtZW50cyhvLExFVkVMX1BBUkVOKSxib2R5PXRoaXMuZW5zdXJlQmxvY2sodGhpcy5ib2R5KS5jb21waWxlVG9GcmFnbWVudHMobWVyZ2Uobyx7aW5kZW50OmluZGVudH0pKSxpZlBhcnQ9W10uY29uY2F0KHRoaXMubWFrZUNvZGUoXFxcImlmIChcXFwiKSxjb25kLHRoaXMubWFrZUNvZGUoXFxcIikge1xcXFxuXFxcIiksYm9keSx0aGlzLm1ha2VDb2RlKFxcXCJcXFxcblxcXCIrdGhpcy50YWIrXFxcIn1cXFwiKSksY2hpbGR8fGlmUGFydC51bnNoaWZ0KHRoaXMubWFrZUNvZGUodGhpcy50YWIpKSx0aGlzLmVsc2VCb2R5PyhhbnN3ZXI9aWZQYXJ0LmNvbmNhdCh0aGlzLm1ha2VDb2RlKFxcXCIgZWxzZSBcXFwiKSksdGhpcy5pc0NoYWluPyhvLmNoYWluQ2hpbGQ9ITAsYW5zd2VyPWFuc3dlci5jb25jYXQodGhpcy5lbHNlQm9keS51bndyYXAoKS5jb21waWxlVG9GcmFnbWVudHMobyxMRVZFTF9UT1ApKSk6YW5zd2VyPWFuc3dlci5jb25jYXQodGhpcy5tYWtlQ29kZShcXFwie1xcXFxuXFxcIiksdGhpcy5lbHNlQm9keS5jb21waWxlVG9GcmFnbWVudHMobWVyZ2Uobyx7aW5kZW50OmluZGVudH0pLExFVkVMX1RPUCksdGhpcy5tYWtlQ29kZShcXFwiXFxcXG5cXFwiK3RoaXMudGFiK1xcXCJ9XFxcIikpLGFuc3dlcik6aWZQYXJ0KX0sSWYucHJvdG90eXBlLmNvbXBpbGVFeHByZXNzaW9uPWZ1bmN0aW9uKG8pe3ZhciBhbHQsYm9keSxjb25kLGZyYWdtZW50cztyZXR1cm4gY29uZD10aGlzLmNvbmRpdGlvbi5jb21waWxlVG9GcmFnbWVudHMobyxMRVZFTF9DT05EKSxib2R5PXRoaXMuYm9keU5vZGUoKS5jb21waWxlVG9GcmFnbWVudHMobyxMRVZFTF9MSVNUKSxhbHQ9dGhpcy5lbHNlQm9keU5vZGUoKT90aGlzLmVsc2VCb2R5Tm9kZSgpLmNvbXBpbGVUb0ZyYWdtZW50cyhvLExFVkVMX0xJU1QpOlt0aGlzLm1ha2VDb2RlKFxcXCJ2b2lkIDBcXFwiKV0sZnJhZ21lbnRzPWNvbmQuY29uY2F0KHRoaXMubWFrZUNvZGUoXFxcIiA/IFxcXCIpLGJvZHksdGhpcy5tYWtlQ29kZShcXFwiIDogXFxcIiksYWx0KSxvLmxldmVsPj1MRVZFTF9DT05EP3RoaXMud3JhcEluQnJhY2VzKGZyYWdtZW50cyk6ZnJhZ21lbnRzfSxJZi5wcm90b3R5cGUudW5mb2xkU29haz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNvYWsmJnRoaXN9LElmfShCYXNlKSxDbG9zdXJlPXt3cmFwOmZ1bmN0aW9uKGV4cHJlc3Npb25zLHN0YXRlbWVudCxub1JldHVybil7dmFyIGFyZ3MsYXJndW1lbnRzTm9kZSxjYWxsLGZ1bmMsbWV0aDtyZXR1cm4gZXhwcmVzc2lvbnMuanVtcHMoKT9leHByZXNzaW9uczooZnVuYz1uZXcgQ29kZShbXSxCbG9jay53cmFwKFtleHByZXNzaW9uc10pKSxhcmdzPVtdLGFyZ3VtZW50c05vZGU9ZXhwcmVzc2lvbnMuY29udGFpbnModGhpcy5pc0xpdGVyYWxBcmd1bWVudHMpLGFyZ3VtZW50c05vZGUmJmV4cHJlc3Npb25zLmNsYXNzQm9keSYmYXJndW1lbnRzTm9kZS5lcnJvcihcXFwiQ2xhc3MgYm9kaWVzIHNob3VsZG4ndCByZWZlcmVuY2UgYXJndW1lbnRzXFxcIiksKGFyZ3VtZW50c05vZGV8fGV4cHJlc3Npb25zLmNvbnRhaW5zKHRoaXMuaXNMaXRlcmFsVGhpcykpJiYobWV0aD1uZXcgTGl0ZXJhbChhcmd1bWVudHNOb2RlP1xcXCJhcHBseVxcXCI6XFxcImNhbGxcXFwiKSxhcmdzPVtuZXcgTGl0ZXJhbChcXFwidGhpc1xcXCIpXSxhcmd1bWVudHNOb2RlJiZhcmdzLnB1c2gobmV3IExpdGVyYWwoXFxcImFyZ3VtZW50c1xcXCIpKSxmdW5jPW5ldyBWYWx1ZShmdW5jLFtuZXcgQWNjZXNzKG1ldGgpXSkpLGZ1bmMubm9SZXR1cm49bm9SZXR1cm4sY2FsbD1uZXcgQ2FsbChmdW5jLGFyZ3MpLHN0YXRlbWVudD9CbG9jay53cmFwKFtjYWxsXSk6Y2FsbCl9LGlzTGl0ZXJhbEFyZ3VtZW50czpmdW5jdGlvbihub2RlKXtyZXR1cm4gbm9kZSBpbnN0YW5jZW9mIExpdGVyYWwmJlxcXCJhcmd1bWVudHNcXFwiPT09bm9kZS52YWx1ZSYmIW5vZGUuYXNLZXl9LGlzTGl0ZXJhbFRoaXM6ZnVuY3Rpb24obm9kZSl7cmV0dXJuIG5vZGUgaW5zdGFuY2VvZiBMaXRlcmFsJiZcXFwidGhpc1xcXCI9PT1ub2RlLnZhbHVlJiYhbm9kZS5hc0tleXx8bm9kZSBpbnN0YW5jZW9mIENvZGUmJm5vZGUuYm91bmR8fG5vZGUgaW5zdGFuY2VvZiBDYWxsJiZub2RlLmlzU3VwZXJ9fSx1bmZvbGRTb2FrPWZ1bmN0aW9uKG8scGFyZW50LG5hbWUpe3ZhciBpZm47aWYoaWZuPXBhcmVudFtuYW1lXS51bmZvbGRTb2FrKG8pKXJldHVybiBwYXJlbnRbbmFtZV09aWZuLmJvZHksaWZuLmJvZHk9bmV3IFZhbHVlKHBhcmVudCksaWZufSxVVElMSVRJRVM9e1xcXCJleHRlbmRzXFxcIjpmdW5jdGlvbigpe3JldHVyblxcXCJmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKFxcXCIrdXRpbGl0eShcXFwiaGFzUHJvcFxcXCIpK1xcXCIuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH1cXFwifSxiaW5kOmZ1bmN0aW9uKCl7cmV0dXJuXFxcImZ1bmN0aW9uKGZuLCBtZSl7IHJldHVybiBmdW5jdGlvbigpeyByZXR1cm4gZm4uYXBwbHkobWUsIGFyZ3VtZW50cyk7IH07IH1cXFwifSxpbmRleE9mOmZ1bmN0aW9uKCl7cmV0dXJuXFxcIltdLmluZGV4T2YgfHwgZnVuY3Rpb24oaXRlbSkgeyBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7IGlmIChpIGluIHRoaXMgJiYgdGhpc1tpXSA9PT0gaXRlbSkgcmV0dXJuIGk7IH0gcmV0dXJuIC0xOyB9XFxcIn0saGFzUHJvcDpmdW5jdGlvbigpe3JldHVyblxcXCJ7fS5oYXNPd25Qcm9wZXJ0eVxcXCJ9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuXFxcIltdLnNsaWNlXFxcIn19LExFVkVMX1RPUD0xLExFVkVMX1BBUkVOPTIsTEVWRUxfTElTVD0zLExFVkVMX0NPTkQ9NCxMRVZFTF9PUD01LExFVkVMX0FDQ0VTUz02LFRBQj1cXFwiICBcXFwiLElERU5USUZJRVJfU1RSPVxcXCJbJEEtWmEtel9cXFxcXFxcXHg3Zi1cXFxcXFxcXHVmZmZmXVskXFxcXFxcXFx3XFxcXFxcXFx4N2YtXFxcXFxcXFx1ZmZmZl0qXFxcIixJREVOVElGSUVSPVJlZ0V4cChcXFwiXlxcXCIrSURFTlRJRklFUl9TVFIrXFxcIiRcXFwiKSxTSU1QTEVOVU09L15bKy1dP1xcXFxkKyQvLE1FVEhPRF9ERUY9UmVnRXhwKFxcXCJeKD86KFxcXCIrSURFTlRJRklFUl9TVFIrXFxcIilcXFxcXFxcXC5wcm90b3R5cGUoPzpcXFxcXFxcXC4oXFxcIitJREVOVElGSUVSX1NUUitcXFwiKXxcXFxcXFxcXFsoXFxcXFxcXCIoPzpbXlxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcIlxcXFxcXFxcclxcXFxcXFxcbl18XFxcXFxcXFxcXFxcXFxcXC4pKlxcXFxcXFwifCcoPzpbXlxcXFxcXFxcXFxcXFxcXFwnXFxcXFxcXFxyXFxcXFxcXFxuXXxcXFxcXFxcXFxcXFxcXFxcLikqJylcXFxcXFxcXF18XFxcXFxcXFxbKDB4W1xcXFxcXFxcZGEtZkEtRl0rfFxcXFxcXFxcZCpcXFxcXFxcXC4/XFxcXFxcXFxkKyg/OltlRV1bKy1dP1xcXFxcXFxcZCspPylcXFxcXFxcXF0pKXwoXFxcIitJREVOVElGSUVSX1NUUitcXFwiKSRcXFwiKSxJU19TVFJJTkc9L15bJ1xcXCJdLyx1dGlsaXR5PWZ1bmN0aW9uKG5hbWUpe3ZhciByZWY7cmV0dXJuIHJlZj1cXFwiX19cXFwiK25hbWUsU2NvcGUucm9vdC5hc3NpZ24ocmVmLFVUSUxJVElFU1tuYW1lXSgpKSxyZWZ9LG11bHRpZGVudD1mdW5jdGlvbihjb2RlLHRhYil7cmV0dXJuIGNvZGU9Y29kZS5yZXBsYWNlKC9cXFxcbi9nLFxcXCIkJlxcXCIrdGFiKSxjb2RlLnJlcGxhY2UoL1xcXFxzKyQvLFxcXCJcXFwiKX19KSxhY2UuZGVmaW5lKFxcXCJhY2UvbW9kZS9jb2ZmZWUvc2NvcGVcXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiLFxcXCJhY2UvbW9kZS9jb2ZmZWUvaGVscGVyc1xcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe3ZhciBTY29wZSxleHRlbmQsbGFzdCxfcmVmO19yZWY9YWNlcXVpcmUoXFxcIi4vaGVscGVyc1xcXCIpLGV4dGVuZD1fcmVmLmV4dGVuZCxsYXN0PV9yZWYubGFzdCxleHBvcnRzLlNjb3BlPVNjb3BlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU2NvcGUocGFyZW50LGV4cHJlc3Npb25zLG1ldGhvZCl7dGhpcy5wYXJlbnQ9cGFyZW50LHRoaXMuZXhwcmVzc2lvbnM9ZXhwcmVzc2lvbnMsdGhpcy5tZXRob2Q9bWV0aG9kLHRoaXMudmFyaWFibGVzPVt7bmFtZTpcXFwiYXJndW1lbnRzXFxcIix0eXBlOlxcXCJhcmd1bWVudHNcXFwifV0sdGhpcy5wb3NpdGlvbnM9e30sdGhpcy5wYXJlbnR8fChTY29wZS5yb290PXRoaXMpfXJldHVybiBTY29wZS5yb290PW51bGwsU2NvcGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbihuYW1lLHR5cGUsaW1tZWRpYXRlKXtyZXR1cm4gdGhpcy5zaGFyZWQmJiFpbW1lZGlhdGU/dGhpcy5wYXJlbnQuYWRkKG5hbWUsdHlwZSxpbW1lZGlhdGUpOk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnBvc2l0aW9ucyxuYW1lKT90aGlzLnZhcmlhYmxlc1t0aGlzLnBvc2l0aW9uc1tuYW1lXV0udHlwZT10eXBlOnRoaXMucG9zaXRpb25zW25hbWVdPXRoaXMudmFyaWFibGVzLnB1c2goe25hbWU6bmFtZSx0eXBlOnR5cGV9KS0xfSxTY29wZS5wcm90b3R5cGUubmFtZWRNZXRob2Q9ZnVuY3Rpb24oKXt2YXIgX3JlZjE7cmV0dXJuKG51bGwhPShfcmVmMT10aGlzLm1ldGhvZCk/X3JlZjEubmFtZTp2b2lkIDApfHwhdGhpcy5wYXJlbnQ/dGhpcy5tZXRob2Q6dGhpcy5wYXJlbnQubmFtZWRNZXRob2QoKX0sU2NvcGUucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24obmFtZSl7cmV0dXJuIHRoaXMuY2hlY2sobmFtZSk/ITA6KHRoaXMuYWRkKG5hbWUsXFxcInZhclxcXCIpLCExKX0sU2NvcGUucHJvdG90eXBlLnBhcmFtZXRlcj1mdW5jdGlvbihuYW1lKXtyZXR1cm4gdGhpcy5zaGFyZWQmJnRoaXMucGFyZW50LmNoZWNrKG5hbWUsITApP3ZvaWQgMDp0aGlzLmFkZChuYW1lLFxcXCJwYXJhbVxcXCIpfSxTY29wZS5wcm90b3R5cGUuY2hlY2s9ZnVuY3Rpb24obmFtZSl7dmFyIF9yZWYxO3JldHVybiEhKHRoaXMudHlwZShuYW1lKXx8KG51bGwhPShfcmVmMT10aGlzLnBhcmVudCk/X3JlZjEuY2hlY2sobmFtZSk6dm9pZCAwKSl9LFNjb3BlLnByb3RvdHlwZS50ZW1wb3Jhcnk9ZnVuY3Rpb24obmFtZSxpbmRleCl7cmV0dXJuIG5hbWUubGVuZ3RoPjE/XFxcIl9cXFwiK25hbWUrKGluZGV4PjE/aW5kZXgtMTpcXFwiXFxcIik6XFxcIl9cXFwiKyhpbmRleCtwYXJzZUludChuYW1lLDM2KSkudG9TdHJpbmcoMzYpLnJlcGxhY2UoL1xcXFxkL2csXFxcImFcXFwiKX0sU2NvcGUucHJvdG90eXBlLnR5cGU9ZnVuY3Rpb24obmFtZSl7dmFyIHYsX2ksX2xlbixfcmVmMTtmb3IoX3JlZjE9dGhpcy52YXJpYWJsZXMsX2k9MCxfbGVuPV9yZWYxLmxlbmd0aDtfbGVuPl9pO19pKyspaWYodj1fcmVmMVtfaV0sdi5uYW1lPT09bmFtZSlyZXR1cm4gdi50eXBlO3JldHVybiBudWxsfSxTY29wZS5wcm90b3R5cGUuZnJlZVZhcmlhYmxlPWZ1bmN0aW9uKG5hbWUscmVzZXJ2ZSl7dmFyIGluZGV4LHRlbXA7Zm9yKG51bGw9PXJlc2VydmUmJihyZXNlcnZlPSEwKSxpbmRleD0wO3RoaXMuY2hlY2sodGVtcD10aGlzLnRlbXBvcmFyeShuYW1lLGluZGV4KSk7KWluZGV4Kys7cmV0dXJuIHJlc2VydmUmJnRoaXMuYWRkKHRlbXAsXFxcInZhclxcXCIsITApLHRlbXB9LFNjb3BlLnByb3RvdHlwZS5hc3NpZ249ZnVuY3Rpb24obmFtZSx2YWx1ZSl7cmV0dXJuIHRoaXMuYWRkKG5hbWUse3ZhbHVlOnZhbHVlLGFzc2lnbmVkOiEwfSwhMCksdGhpcy5oYXNBc3NpZ25tZW50cz0hMH0sU2NvcGUucHJvdG90eXBlLmhhc0RlY2xhcmF0aW9ucz1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5kZWNsYXJlZFZhcmlhYmxlcygpLmxlbmd0aH0sU2NvcGUucHJvdG90eXBlLmRlY2xhcmVkVmFyaWFibGVzPWZ1bmN0aW9uKCl7dmFyIHJlYWxWYXJzLHRlbXBWYXJzLHYsX2ksX2xlbixfcmVmMTtmb3IocmVhbFZhcnM9W10sdGVtcFZhcnM9W10sX3JlZjE9dGhpcy52YXJpYWJsZXMsX2k9MCxfbGVuPV9yZWYxLmxlbmd0aDtfbGVuPl9pO19pKyspdj1fcmVmMVtfaV0sXFxcInZhclxcXCI9PT12LnR5cGUmJihcXFwiX1xcXCI9PT12Lm5hbWUuY2hhckF0KDApP3RlbXBWYXJzOnJlYWxWYXJzKS5wdXNoKHYubmFtZSk7cmV0dXJuIHJlYWxWYXJzLnNvcnQoKS5jb25jYXQodGVtcFZhcnMuc29ydCgpKX0sU2NvcGUucHJvdG90eXBlLmFzc2lnbmVkVmFyaWFibGVzPWZ1bmN0aW9uKCl7dmFyIHYsX2ksX2xlbixfcmVmMSxfcmVzdWx0cztmb3IoX3JlZjE9dGhpcy52YXJpYWJsZXMsX3Jlc3VsdHM9W10sX2k9MCxfbGVuPV9yZWYxLmxlbmd0aDtfbGVuPl9pO19pKyspdj1fcmVmMVtfaV0sdi50eXBlLmFzc2lnbmVkJiZfcmVzdWx0cy5wdXNoKFxcXCJcXFwiK3YubmFtZStcXFwiID0gXFxcIit2LnR5cGUudmFsdWUpO3JldHVybiBfcmVzdWx0c30sU2NvcGV9KCl9KTtcIjsiLCJtb2R1bGUuZXhwb3J0cy5pZCA9ICdhY2UvbW9kZS9qYXZhc2NyaXB0X3dvcmtlcic7XG5tb2R1bGUuZXhwb3J0cy5zcmMgPSBcIlxcXCJubyB1c2Ugc3RyaWN0XFxcIjsoZnVuY3Rpb24od2luZG93KXt2b2lkIDAhPT13aW5kb3cud2luZG93JiZ3aW5kb3cuZG9jdW1lbnR8fCh3aW5kb3cuY29uc29sZT17bG9nOmZ1bmN0aW9uKCl7dmFyIG1zZ3M9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO3Bvc3RNZXNzYWdlKHt0eXBlOlxcXCJsb2dcXFwiLGRhdGE6bXNnc30pfSxlcnJvcjpmdW5jdGlvbigpe3ZhciBtc2dzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtwb3N0TWVzc2FnZSh7dHlwZTpcXFwibG9nXFxcIixkYXRhOm1zZ3N9KX19LHdpbmRvdy53aW5kb3c9d2luZG93LHdpbmRvdy5hY2U9d2luZG93LHdpbmRvdy5ub3JtYWxpemVNb2R1bGU9ZnVuY3Rpb24ocGFyZW50SWQsbW9kdWxlTmFtZSl7aWYoLTEhPT1tb2R1bGVOYW1lLmluZGV4T2YoXFxcIiFcXFwiKSl7dmFyIGNodW5rcz1tb2R1bGVOYW1lLnNwbGl0KFxcXCIhXFxcIik7cmV0dXJuIG5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCxjaHVua3NbMF0pK1xcXCIhXFxcIitub3JtYWxpemVNb2R1bGUocGFyZW50SWQsY2h1bmtzWzFdKX1pZihcXFwiLlxcXCI9PW1vZHVsZU5hbWUuY2hhckF0KDApKXt2YXIgYmFzZT1wYXJlbnRJZC5zcGxpdChcXFwiL1xcXCIpLnNsaWNlKDAsLTEpLmpvaW4oXFxcIi9cXFwiKTtmb3IobW9kdWxlTmFtZT1iYXNlK1xcXCIvXFxcIittb2R1bGVOYW1lOy0xIT09bW9kdWxlTmFtZS5pbmRleE9mKFxcXCIuXFxcIikmJnByZXZpb3VzIT1tb2R1bGVOYW1lOyl7dmFyIHByZXZpb3VzPW1vZHVsZU5hbWU7bW9kdWxlTmFtZT1tb2R1bGVOYW1lLnJlcGxhY2UoL1xcXFwvXFxcXC5cXFxcLy8sXFxcIi9cXFwiKS5yZXBsYWNlKC9bXlxcXFwvXStcXFxcL1xcXFwuXFxcXC5cXFxcLy8sXFxcIlxcXCIpfX1yZXR1cm4gbW9kdWxlTmFtZX0sd2luZG93LmFjZXF1aXJlPWZ1bmN0aW9uKHBhcmVudElkLGlkKXtpZihpZHx8KGlkPXBhcmVudElkLHBhcmVudElkPW51bGwpLCFpZC5jaGFyQXQpdGhyb3cgRXJyb3IoXFxcIndvcmtlci5qcyBhY2VxdWlyZSgpIGFjY2VwdHMgb25seSAocGFyZW50SWQsIGlkKSBhcyBhcmd1bWVudHNcXFwiKTtpZD1ub3JtYWxpemVNb2R1bGUocGFyZW50SWQsaWQpO3ZhciBtb2R1bGU9YWNlcXVpcmUubW9kdWxlc1tpZF07aWYobW9kdWxlKXJldHVybiBtb2R1bGUuaW5pdGlhbGl6ZWR8fChtb2R1bGUuaW5pdGlhbGl6ZWQ9ITAsbW9kdWxlLmV4cG9ydHM9bW9kdWxlLmZhY3RvcnkoKS5leHBvcnRzKSxtb2R1bGUuZXhwb3J0czt2YXIgY2h1bmtzPWlkLnNwbGl0KFxcXCIvXFxcIik7Y2h1bmtzWzBdPWFjZXF1aXJlLnRsbnNbY2h1bmtzWzBdXXx8Y2h1bmtzWzBdO3ZhciBwYXRoPWNodW5rcy5qb2luKFxcXCIvXFxcIikrXFxcIi5qc1xcXCI7cmV0dXJuIGFjZXF1aXJlLmlkPWlkLGltcG9ydFNjcmlwdHMocGF0aCksYWNlcXVpcmUocGFyZW50SWQsaWQpfSxhY2VxdWlyZS5tb2R1bGVzPXt9LGFjZXF1aXJlLnRsbnM9e30sd2luZG93LmRlZmluZT1mdW5jdGlvbihpZCxkZXBzLGZhY3Rvcnkpe2lmKDI9PWFyZ3VtZW50cy5sZW5ndGg/KGZhY3Rvcnk9ZGVwcyxcXFwic3RyaW5nXFxcIiE9dHlwZW9mIGlkJiYoZGVwcz1pZCxpZD1hY2VxdWlyZS5pZCkpOjE9PWFyZ3VtZW50cy5sZW5ndGgmJihmYWN0b3J5PWlkLGlkPWFjZXF1aXJlLmlkKSwwIT09aWQuaW5kZXhPZihcXFwidGV4dCFcXFwiKSl7dmFyIHJlcT1mdW5jdGlvbihkZXBzLGZhY3Rvcnkpe3JldHVybiBhY2VxdWlyZShpZCxkZXBzLGZhY3RvcnkpfTthY2VxdWlyZS5tb2R1bGVzW2lkXT17ZmFjdG9yeTpmdW5jdGlvbigpe3ZhciBtb2R1bGU9e2V4cG9ydHM6e319LHJldHVybkV4cG9ydHM9ZmFjdG9yeShyZXEsbW9kdWxlLmV4cG9ydHMsbW9kdWxlKTtyZXR1cm4gcmV0dXJuRXhwb3J0cyYmKG1vZHVsZS5leHBvcnRzPXJldHVybkV4cG9ydHMpLG1vZHVsZX19fX0sd2luZG93LmluaXRCYXNlVXJscz1mdW5jdGlvbiBpbml0QmFzZVVybHModG9wTGV2ZWxOYW1lc3BhY2VzKXthY2VxdWlyZS50bG5zPXRvcExldmVsTmFtZXNwYWNlc30sd2luZG93LmluaXRTZW5kZXI9ZnVuY3Rpb24gaW5pdFNlbmRlcigpe3ZhciBFdmVudEVtaXR0ZXI9YWNlcXVpcmUoXFxcImFjZS9saWIvZXZlbnRfZW1pdHRlclxcXCIpLkV2ZW50RW1pdHRlcixvb3A9YWNlcXVpcmUoXFxcImFjZS9saWIvb29wXFxcIiksU2VuZGVyPWZ1bmN0aW9uKCl7fTtyZXR1cm4gZnVuY3Rpb24oKXtvb3AuaW1wbGVtZW50KHRoaXMsRXZlbnRFbWl0dGVyKSx0aGlzLmNhbGxiYWNrPWZ1bmN0aW9uKGRhdGEsY2FsbGJhY2tJZCl7cG9zdE1lc3NhZ2Uoe3R5cGU6XFxcImNhbGxcXFwiLGlkOmNhbGxiYWNrSWQsZGF0YTpkYXRhfSl9LHRoaXMuZW1pdD1mdW5jdGlvbihuYW1lLGRhdGEpe3Bvc3RNZXNzYWdlKHt0eXBlOlxcXCJldmVudFxcXCIsbmFtZTpuYW1lLGRhdGE6ZGF0YX0pfX0uY2FsbChTZW5kZXIucHJvdG90eXBlKSxuZXcgU2VuZGVyfSx3aW5kb3cubWFpbj1udWxsLHdpbmRvdy5zZW5kZXI9bnVsbCx3aW5kb3cub25tZXNzYWdlPWZ1bmN0aW9uKGUpe3ZhciBtc2c9ZS5kYXRhO2lmKG1zZy5jb21tYW5kKXtpZighbWFpblttc2cuY29tbWFuZF0pdGhyb3cgRXJyb3IoXFxcIlVua25vd24gY29tbWFuZDpcXFwiK21zZy5jb21tYW5kKTttYWluW21zZy5jb21tYW5kXS5hcHBseShtYWluLG1zZy5hcmdzKX1lbHNlIGlmKG1zZy5pbml0KXtpbml0QmFzZVVybHMobXNnLnRsbnMpLGFjZXF1aXJlKFxcXCJhY2UvbGliL2VzNS1zaGltXFxcIiksc2VuZGVyPWluaXRTZW5kZXIoKTt2YXIgY2xheno9YWNlcXVpcmUobXNnLm1vZHVsZSlbbXNnLmNsYXNzbmFtZV07bWFpbj1uZXcgY2xhenooc2VuZGVyKX1lbHNlIG1zZy5ldmVudCYmc2VuZGVyJiZzZW5kZXIuX2VtaXQobXNnLmV2ZW50LG1zZy5kYXRhKX0pfSkodGhpcyksYWNlLmRlZmluZShcXFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7dmFyIEV2ZW50RW1pdHRlcj17fSxzdG9wUHJvcGFnYXRpb249ZnVuY3Rpb24oKXt0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZD0hMH0scHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITB9O0V2ZW50RW1pdHRlci5fZW1pdD1FdmVudEVtaXR0ZXIuX2Rpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oZXZlbnROYW1lLGUpe3RoaXMuX2V2ZW50UmVnaXN0cnl8fCh0aGlzLl9ldmVudFJlZ2lzdHJ5PXt9KSx0aGlzLl9kZWZhdWx0SGFuZGxlcnN8fCh0aGlzLl9kZWZhdWx0SGFuZGxlcnM9e30pO3ZhciBsaXN0ZW5lcnM9dGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdfHxbXSxkZWZhdWx0SGFuZGxlcj10aGlzLl9kZWZhdWx0SGFuZGxlcnNbZXZlbnROYW1lXTtpZihsaXN0ZW5lcnMubGVuZ3RofHxkZWZhdWx0SGFuZGxlcil7XFxcIm9iamVjdFxcXCI9PXR5cGVvZiBlJiZlfHwoZT17fSksZS50eXBlfHwoZS50eXBlPWV2ZW50TmFtZSksZS5zdG9wUHJvcGFnYXRpb258fChlLnN0b3BQcm9wYWdhdGlvbj1zdG9wUHJvcGFnYXRpb24pLGUucHJldmVudERlZmF1bHR8fChlLnByZXZlbnREZWZhdWx0PXByZXZlbnREZWZhdWx0KTtmb3IodmFyIGk9MDtsaXN0ZW5lcnMubGVuZ3RoPmkmJihsaXN0ZW5lcnNbaV0oZSx0aGlzKSwhZS5wcm9wYWdhdGlvblN0b3BwZWQpO2krKyk7cmV0dXJuIGRlZmF1bHRIYW5kbGVyJiYhZS5kZWZhdWx0UHJldmVudGVkP2RlZmF1bHRIYW5kbGVyKGUsdGhpcyk6dm9pZCAwfX0sRXZlbnRFbWl0dGVyLl9zaWduYWw9ZnVuY3Rpb24oZXZlbnROYW1lLGUpe3ZhciBsaXN0ZW5lcnM9KHRoaXMuX2V2ZW50UmVnaXN0cnl8fHt9KVtldmVudE5hbWVdO2lmKGxpc3RlbmVycylmb3IodmFyIGk9MDtsaXN0ZW5lcnMubGVuZ3RoPmk7aSsrKWxpc3RlbmVyc1tpXShlLHRoaXMpfSxFdmVudEVtaXR0ZXIub25jZT1mdW5jdGlvbihldmVudE5hbWUsY2FsbGJhY2spe3ZhciBfc2VsZj10aGlzO2NhbGxiYWNrJiZ0aGlzLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLGZ1bmN0aW9uIG5ld0NhbGxiYWNrKCl7X3NlbGYucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsbmV3Q2FsbGJhY2spLGNhbGxiYWNrLmFwcGx5KG51bGwsYXJndW1lbnRzKX0pfSxFdmVudEVtaXR0ZXIuc2V0RGVmYXVsdEhhbmRsZXI9ZnVuY3Rpb24oZXZlbnROYW1lLGNhbGxiYWNrKXt2YXIgaGFuZGxlcnM9dGhpcy5fZGVmYXVsdEhhbmRsZXJzO2lmKGhhbmRsZXJzfHwoaGFuZGxlcnM9dGhpcy5fZGVmYXVsdEhhbmRsZXJzPXtfZGlzYWJsZWRfOnt9fSksaGFuZGxlcnNbZXZlbnROYW1lXSl7dmFyIG9sZD1oYW5kbGVyc1tldmVudE5hbWVdLGRpc2FibGVkPWhhbmRsZXJzLl9kaXNhYmxlZF9bZXZlbnROYW1lXTtkaXNhYmxlZHx8KGhhbmRsZXJzLl9kaXNhYmxlZF9bZXZlbnROYW1lXT1kaXNhYmxlZD1bXSksZGlzYWJsZWQucHVzaChvbGQpO3ZhciBpPWRpc2FibGVkLmluZGV4T2YoY2FsbGJhY2spOy0xIT1pJiZkaXNhYmxlZC5zcGxpY2UoaSwxKX1oYW5kbGVyc1tldmVudE5hbWVdPWNhbGxiYWNrfSxFdmVudEVtaXR0ZXIucmVtb3ZlRGVmYXVsdEhhbmRsZXI9ZnVuY3Rpb24oZXZlbnROYW1lLGNhbGxiYWNrKXt2YXIgaGFuZGxlcnM9dGhpcy5fZGVmYXVsdEhhbmRsZXJzO2lmKGhhbmRsZXJzKXt2YXIgZGlzYWJsZWQ9aGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdO2lmKGhhbmRsZXJzW2V2ZW50TmFtZV09PWNhbGxiYWNrKWhhbmRsZXJzW2V2ZW50TmFtZV0sZGlzYWJsZWQmJnRoaXMuc2V0RGVmYXVsdEhhbmRsZXIoZXZlbnROYW1lLGRpc2FibGVkLnBvcCgpKTtlbHNlIGlmKGRpc2FibGVkKXt2YXIgaT1kaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTstMSE9aSYmZGlzYWJsZWQuc3BsaWNlKGksMSl9fX0sRXZlbnRFbWl0dGVyLm9uPUV2ZW50RW1pdHRlci5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50TmFtZSxjYWxsYmFjayxjYXB0dXJpbmcpe3RoaXMuX2V2ZW50UmVnaXN0cnk9dGhpcy5fZXZlbnRSZWdpc3RyeXx8e307dmFyIGxpc3RlbmVycz10aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV07cmV0dXJuIGxpc3RlbmVyc3x8KGxpc3RlbmVycz10aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV09W10pLC0xPT1saXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjaykmJmxpc3RlbmVyc1tjYXB0dXJpbmc/XFxcInVuc2hpZnRcXFwiOlxcXCJwdXNoXFxcIl0oY2FsbGJhY2spLGNhbGxiYWNrfSxFdmVudEVtaXR0ZXIub2ZmPUV2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lcj1FdmVudEVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihldmVudE5hbWUsY2FsbGJhY2spe3RoaXMuX2V2ZW50UmVnaXN0cnk9dGhpcy5fZXZlbnRSZWdpc3RyeXx8e307dmFyIGxpc3RlbmVycz10aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV07aWYobGlzdGVuZXJzKXt2YXIgaW5kZXg9bGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spOy0xIT09aW5kZXgmJmxpc3RlbmVycy5zcGxpY2UoaW5kZXgsMSl9fSxFdmVudEVtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKGV2ZW50TmFtZSl7dGhpcy5fZXZlbnRSZWdpc3RyeSYmKHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXT1bXSl9LGV4cG9ydHMuRXZlbnRFbWl0dGVyPUV2ZW50RW1pdHRlcn0pLGFjZS5kZWZpbmUoXFxcImFjZS9saWIvb29wXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7ZXhwb3J0cy5pbmhlcml0cz1mdW5jdGlvbigpe3ZhciB0ZW1wQ3Rvcj1mdW5jdGlvbigpe307cmV0dXJuIGZ1bmN0aW9uKGN0b3Isc3VwZXJDdG9yKXt0ZW1wQ3Rvci5wcm90b3R5cGU9c3VwZXJDdG9yLnByb3RvdHlwZSxjdG9yLnN1cGVyXz1zdXBlckN0b3IucHJvdG90eXBlLGN0b3IucHJvdG90eXBlPW5ldyB0ZW1wQ3RvcixjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1jdG9yfX0oKSxleHBvcnRzLm1peGluPWZ1bmN0aW9uKG9iaixtaXhpbil7Zm9yKHZhciBrZXkgaW4gbWl4aW4pb2JqW2tleV09bWl4aW5ba2V5XTtyZXR1cm4gb2JqfSxleHBvcnRzLmltcGxlbWVudD1mdW5jdGlvbihwcm90byxtaXhpbil7ZXhwb3J0cy5taXhpbihwcm90byxtaXhpbil9fSksYWNlLmRlZmluZShcXFwiYWNlL2xpYi9lczUtc2hpbVxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCJdLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gRW1wdHkoKXt9ZnVuY3Rpb24gZG9lc0RlZmluZVByb3BlcnR5V29yayhvYmplY3Qpe3RyeXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCxcXFwic2VudGluZWxcXFwiLHt9KSxcXFwic2VudGluZWxcXFwiaW4gb2JqZWN0fWNhdGNoKGV4Y2VwdGlvbil7fX1mdW5jdGlvbiB0b0ludGVnZXIobil7cmV0dXJuIG49K24sbiE9PW4/bj0wOjAhPT1uJiZuIT09MS8wJiZuIT09LSgxLzApJiYobj0obj4wfHwtMSkqTWF0aC5mbG9vcihNYXRoLmFicyhuKSkpLG59RnVuY3Rpb24ucHJvdG90eXBlLmJpbmR8fChGdW5jdGlvbi5wcm90b3R5cGUuYmluZD1mdW5jdGlvbih0aGF0KXt2YXIgdGFyZ2V0PXRoaXM7aWYoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIHRhcmdldCl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJGdW5jdGlvbi5wcm90b3R5cGUuYmluZCBjYWxsZWQgb24gaW5jb21wYXRpYmxlIFxcXCIrdGFyZ2V0KTt2YXIgYXJncz1zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxib3VuZD1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiBib3VuZCl7dmFyIHJlc3VsdD10YXJnZXQuYXBwbHkodGhpcyxhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKTtyZXR1cm4gT2JqZWN0KHJlc3VsdCk9PT1yZXN1bHQ/cmVzdWx0OnRoaXN9cmV0dXJuIHRhcmdldC5hcHBseSh0aGF0LGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpfTtyZXR1cm4gdGFyZ2V0LnByb3RvdHlwZSYmKEVtcHR5LnByb3RvdHlwZT10YXJnZXQucHJvdG90eXBlLGJvdW5kLnByb3RvdHlwZT1uZXcgRW1wdHksRW1wdHkucHJvdG90eXBlPW51bGwpLGJvdW5kfSk7dmFyIGRlZmluZUdldHRlcixkZWZpbmVTZXR0ZXIsbG9va3VwR2V0dGVyLGxvb2t1cFNldHRlcixzdXBwb3J0c0FjY2Vzc29ycyxjYWxsPUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLHByb3RvdHlwZU9mQXJyYXk9QXJyYXkucHJvdG90eXBlLHByb3RvdHlwZU9mT2JqZWN0PU9iamVjdC5wcm90b3R5cGUsc2xpY2U9cHJvdG90eXBlT2ZBcnJheS5zbGljZSxfdG9TdHJpbmc9Y2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0LnRvU3RyaW5nKSxvd25zPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5oYXNPd25Qcm9wZXJ0eSk7aWYoKHN1cHBvcnRzQWNjZXNzb3JzPW93bnMocHJvdG90eXBlT2ZPYmplY3QsXFxcIl9fZGVmaW5lR2V0dGVyX19cXFwiKSkmJihkZWZpbmVHZXR0ZXI9Y2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0Ll9fZGVmaW5lR2V0dGVyX18pLGRlZmluZVNldHRlcj1jYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19kZWZpbmVTZXR0ZXJfXyksbG9va3VwR2V0dGVyPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5fX2xvb2t1cEdldHRlcl9fKSxsb29rdXBTZXR0ZXI9Y2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0Ll9fbG9va3VwU2V0dGVyX18pKSwyIT1bMSwyXS5zcGxpY2UoMCkubGVuZ3RoKWlmKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gbWFrZUFycmF5KGwpe3ZhciBhPUFycmF5KGwrMik7cmV0dXJuIGFbMF09YVsxXT0wLGF9dmFyIGxlbmd0aEJlZm9yZSxhcnJheT1bXTtyZXR1cm4gYXJyYXkuc3BsaWNlLmFwcGx5KGFycmF5LG1ha2VBcnJheSgyMCkpLGFycmF5LnNwbGljZS5hcHBseShhcnJheSxtYWtlQXJyYXkoMjYpKSxsZW5ndGhCZWZvcmU9YXJyYXkubGVuZ3RoLGFycmF5LnNwbGljZSg1LDAsXFxcIlhYWFxcXCIpLGxlbmd0aEJlZm9yZSsxPT1hcnJheS5sZW5ndGgsbGVuZ3RoQmVmb3JlKzE9PWFycmF5Lmxlbmd0aD8hMDp2b2lkIDB9KCkpe3ZhciBhcnJheV9zcGxpY2U9QXJyYXkucHJvdG90eXBlLnNwbGljZTtBcnJheS5wcm90b3R5cGUuc3BsaWNlPWZ1bmN0aW9uKHN0YXJ0LGRlbGV0ZUNvdW50KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9hcnJheV9zcGxpY2UuYXBwbHkodGhpcyxbdm9pZCAwPT09c3RhcnQ/MDpzdGFydCx2b2lkIDA9PT1kZWxldGVDb3VudD90aGlzLmxlbmd0aC1zdGFydDpkZWxldGVDb3VudF0uY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKSk6W119fWVsc2UgQXJyYXkucHJvdG90eXBlLnNwbGljZT1mdW5jdGlvbihwb3MscmVtb3ZlQ291bnQpe3ZhciBsZW5ndGg9dGhpcy5sZW5ndGg7cG9zPjA/cG9zPmxlbmd0aCYmKHBvcz1sZW5ndGgpOnZvaWQgMD09cG9zP3Bvcz0wOjA+cG9zJiYocG9zPU1hdGgubWF4KGxlbmd0aCtwb3MsMCkpLGxlbmd0aD5wb3MrcmVtb3ZlQ291bnR8fChyZW1vdmVDb3VudD1sZW5ndGgtcG9zKTt2YXIgcmVtb3ZlZD10aGlzLnNsaWNlKHBvcyxwb3MrcmVtb3ZlQ291bnQpLGluc2VydD1zbGljZS5jYWxsKGFyZ3VtZW50cywyKSxhZGQ9aW5zZXJ0Lmxlbmd0aDtpZihwb3M9PT1sZW5ndGgpYWRkJiZ0aGlzLnB1c2guYXBwbHkodGhpcyxpbnNlcnQpO2Vsc2V7dmFyIHJlbW92ZT1NYXRoLm1pbihyZW1vdmVDb3VudCxsZW5ndGgtcG9zKSx0YWlsT2xkUG9zPXBvcytyZW1vdmUsdGFpbE5ld1Bvcz10YWlsT2xkUG9zK2FkZC1yZW1vdmUsdGFpbENvdW50PWxlbmd0aC10YWlsT2xkUG9zLGxlbmd0aEFmdGVyUmVtb3ZlPWxlbmd0aC1yZW1vdmU7aWYodGFpbE9sZFBvcz50YWlsTmV3UG9zKWZvcih2YXIgaT0wO3RhaWxDb3VudD5pOysraSl0aGlzW3RhaWxOZXdQb3MraV09dGhpc1t0YWlsT2xkUG9zK2ldO2Vsc2UgaWYodGFpbE5ld1Bvcz50YWlsT2xkUG9zKWZvcihpPXRhaWxDb3VudDtpLS07KXRoaXNbdGFpbE5ld1BvcytpXT10aGlzW3RhaWxPbGRQb3MraV07aWYoYWRkJiZwb3M9PT1sZW5ndGhBZnRlclJlbW92ZSl0aGlzLmxlbmd0aD1sZW5ndGhBZnRlclJlbW92ZSx0aGlzLnB1c2guYXBwbHkodGhpcyxpbnNlcnQpO2Vsc2UgZm9yKHRoaXMubGVuZ3RoPWxlbmd0aEFmdGVyUmVtb3ZlK2FkZCxpPTA7YWRkPmk7KytpKXRoaXNbcG9zK2ldPWluc2VydFtpXX1yZXR1cm4gcmVtb3ZlZH07QXJyYXkuaXNBcnJheXx8KEFycmF5LmlzQXJyYXk9ZnVuY3Rpb24ob2JqKXtyZXR1cm5cXFwiW29iamVjdCBBcnJheV1cXFwiPT1fdG9TdHJpbmcob2JqKX0pO3ZhciBib3hlZFN0cmluZz1PYmplY3QoXFxcImFcXFwiKSxzcGxpdFN0cmluZz1cXFwiYVxcXCIhPWJveGVkU3RyaW5nWzBdfHwhKDAgaW4gYm94ZWRTdHJpbmcpO2lmKEFycmF5LnByb3RvdHlwZS5mb3JFYWNofHwoQXJyYXkucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24oZnVuKXt2YXIgb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6b2JqZWN0LHRoaXNwPWFyZ3VtZW50c1sxXSxpPS0xLGxlbmd0aD1zZWxmLmxlbmd0aD4+PjA7aWYoXFxcIltvYmplY3QgRnVuY3Rpb25dXFxcIiE9X3RvU3RyaW5nKGZ1bikpdGhyb3cgbmV3IFR5cGVFcnJvcjtmb3IoO2xlbmd0aD4rK2k7KWkgaW4gc2VsZiYmZnVuLmNhbGwodGhpc3Asc2VsZltpXSxpLG9iamVjdCl9KSxBcnJheS5wcm90b3R5cGUubWFwfHwoQXJyYXkucHJvdG90eXBlLm1hcD1mdW5jdGlvbihmdW4pe3ZhciBvYmplY3Q9dG9PYmplY3QodGhpcyksc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTpvYmplY3QsbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MCxyZXN1bHQ9QXJyYXkobGVuZ3RoKSx0aGlzcD1hcmd1bWVudHNbMV07aWYoXFxcIltvYmplY3QgRnVuY3Rpb25dXFxcIiE9X3RvU3RyaW5nKGZ1bikpdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4rXFxcIiBpcyBub3QgYSBmdW5jdGlvblxcXCIpO2Zvcih2YXIgaT0wO2xlbmd0aD5pO2krKylpIGluIHNlbGYmJihyZXN1bHRbaV09ZnVuLmNhbGwodGhpc3Asc2VsZltpXSxpLG9iamVjdCkpO3JldHVybiByZXN1bHR9KSxBcnJheS5wcm90b3R5cGUuZmlsdGVyfHwoQXJyYXkucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbihmdW4pe3ZhciB2YWx1ZSxvYmplY3Q9dG9PYmplY3QodGhpcyksc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTpvYmplY3QsbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MCxyZXN1bHQ9W10sdGhpc3A9YXJndW1lbnRzWzFdO2lmKFxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuK1xcXCIgaXMgbm90IGEgZnVuY3Rpb25cXFwiKTtmb3IodmFyIGk9MDtsZW5ndGg+aTtpKyspaSBpbiBzZWxmJiYodmFsdWU9c2VsZltpXSxmdW4uY2FsbCh0aGlzcCx2YWx1ZSxpLG9iamVjdCkmJnJlc3VsdC5wdXNoKHZhbHVlKSk7cmV0dXJuIHJlc3VsdH0pLEFycmF5LnByb3RvdHlwZS5ldmVyeXx8KEFycmF5LnByb3RvdHlwZS5ldmVyeT1mdW5jdGlvbihmdW4pe3ZhciBvYmplY3Q9dG9PYmplY3QodGhpcyksc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTpvYmplY3QsbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MCx0aGlzcD1hcmd1bWVudHNbMV07aWYoXFxcIltvYmplY3QgRnVuY3Rpb25dXFxcIiE9X3RvU3RyaW5nKGZ1bikpdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4rXFxcIiBpcyBub3QgYSBmdW5jdGlvblxcXCIpO2Zvcih2YXIgaT0wO2xlbmd0aD5pO2krKylpZihpIGluIHNlbGYmJiFmdW4uY2FsbCh0aGlzcCxzZWxmW2ldLGksb2JqZWN0KSlyZXR1cm4hMTtyZXR1cm4hMH0pLEFycmF5LnByb3RvdHlwZS5zb21lfHwoQXJyYXkucHJvdG90eXBlLnNvbWU9ZnVuY3Rpb24oZnVuKXt2YXIgb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjAsdGhpc3A9YXJndW1lbnRzWzFdO2lmKFxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuK1xcXCIgaXMgbm90IGEgZnVuY3Rpb25cXFwiKTtmb3IodmFyIGk9MDtsZW5ndGg+aTtpKyspaWYoaSBpbiBzZWxmJiZmdW4uY2FsbCh0aGlzcCxzZWxmW2ldLGksb2JqZWN0KSlyZXR1cm4hMDtyZXR1cm4hMX0pLEFycmF5LnByb3RvdHlwZS5yZWR1Y2V8fChBcnJheS5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOm9iamVjdCxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wO2lmKFxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuK1xcXCIgaXMgbm90IGEgZnVuY3Rpb25cXFwiKTtpZighbGVuZ3RoJiYxPT1hcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcInJlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWVcXFwiKTt2YXIgcmVzdWx0LGk9MDtpZihhcmd1bWVudHMubGVuZ3RoPj0yKXJlc3VsdD1hcmd1bWVudHNbMV07ZWxzZSBmb3IoOzspe2lmKGkgaW4gc2VsZil7cmVzdWx0PXNlbGZbaSsrXTticmVha31pZigrK2k+PWxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJyZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXFxcIil9Zm9yKDtsZW5ndGg+aTtpKyspaSBpbiBzZWxmJiYocmVzdWx0PWZ1bi5jYWxsKHZvaWQgMCxyZXN1bHQsc2VsZltpXSxpLG9iamVjdCkpO3JldHVybiByZXN1bHR9KSxBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHR8fChBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQ9ZnVuY3Rpb24oZnVuKXt2YXIgb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjA7aWYoXFxcIltvYmplY3QgRnVuY3Rpb25dXFxcIiE9X3RvU3RyaW5nKGZ1bikpdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4rXFxcIiBpcyBub3QgYSBmdW5jdGlvblxcXCIpO2lmKCFsZW5ndGgmJjE9PWFyZ3VtZW50cy5sZW5ndGgpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwicmVkdWNlUmlnaHQgb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXFxcIik7dmFyIHJlc3VsdCxpPWxlbmd0aC0xO2lmKGFyZ3VtZW50cy5sZW5ndGg+PTIpcmVzdWx0PWFyZ3VtZW50c1sxXTtlbHNlIGZvcig7Oyl7aWYoaSBpbiBzZWxmKXtyZXN1bHQ9c2VsZltpLS1dO2JyZWFrfWlmKDA+LS1pKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcInJlZHVjZVJpZ2h0IG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVxcXCIpfWRvIGkgaW4gdGhpcyYmKHJlc3VsdD1mdW4uY2FsbCh2b2lkIDAscmVzdWx0LHNlbGZbaV0saSxvYmplY3QpKTt3aGlsZShpLS0pO3JldHVybiByZXN1bHR9KSxBcnJheS5wcm90b3R5cGUuaW5kZXhPZiYmLTE9PVswLDFdLmluZGV4T2YoMSwyKXx8KEFycmF5LnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKHNvdWdodCl7dmFyIHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6dG9PYmplY3QodGhpcyksbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MDtpZighbGVuZ3RoKXJldHVybi0xO3ZhciBpPTA7Zm9yKGFyZ3VtZW50cy5sZW5ndGg+MSYmKGk9dG9JbnRlZ2VyKGFyZ3VtZW50c1sxXSkpLGk9aT49MD9pOk1hdGgubWF4KDAsbGVuZ3RoK2kpO2xlbmd0aD5pO2krKylpZihpIGluIHNlbGYmJnNlbGZbaV09PT1zb3VnaHQpcmV0dXJuIGk7cmV0dXJuLTF9KSxBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YmJi0xPT1bMCwxXS5sYXN0SW5kZXhPZigwLC0zKXx8KEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZj1mdW5jdGlvbihzb3VnaHQpe3ZhciBzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOnRvT2JqZWN0KHRoaXMpLGxlbmd0aD1zZWxmLmxlbmd0aD4+PjA7aWYoIWxlbmd0aClyZXR1cm4tMTt2YXIgaT1sZW5ndGgtMTtmb3IoYXJndW1lbnRzLmxlbmd0aD4xJiYoaT1NYXRoLm1pbihpLHRvSW50ZWdlcihhcmd1bWVudHNbMV0pKSksaT1pPj0wP2k6bGVuZ3RoLU1hdGguYWJzKGkpO2k+PTA7aS0tKWlmKGkgaW4gc2VsZiYmc291Z2h0PT09c2VsZltpXSlyZXR1cm4gaTtyZXR1cm4tMX0pLE9iamVjdC5nZXRQcm90b3R5cGVPZnx8KE9iamVjdC5nZXRQcm90b3R5cGVPZj1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBvYmplY3QuX19wcm90b19ffHwob2JqZWN0LmNvbnN0cnVjdG9yP29iamVjdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6cHJvdG90eXBlT2ZPYmplY3QpfSksIU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ipe3ZhciBFUlJfTk9OX09CSkVDVD1cXFwiT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciBjYWxsZWQgb24gYSBub24tb2JqZWN0OiBcXFwiO09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I9ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnR5KXtpZihcXFwib2JqZWN0XFxcIiE9dHlwZW9mIG9iamVjdCYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIG9iamVjdHx8bnVsbD09PW9iamVjdCl0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9OT05fT0JKRUNUK29iamVjdCk7aWYob3ducyhvYmplY3QscHJvcGVydHkpKXt2YXIgZGVzY3JpcHRvcixnZXR0ZXIsc2V0dGVyO2lmKGRlc2NyaXB0b3I9e2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSxzdXBwb3J0c0FjY2Vzc29ycyl7dmFyIHByb3RvdHlwZT1vYmplY3QuX19wcm90b19fO29iamVjdC5fX3Byb3RvX189cHJvdG90eXBlT2ZPYmplY3Q7dmFyIGdldHRlcj1sb29rdXBHZXR0ZXIob2JqZWN0LHByb3BlcnR5KSxzZXR0ZXI9bG9va3VwU2V0dGVyKG9iamVjdCxwcm9wZXJ0eSk7aWYob2JqZWN0Ll9fcHJvdG9fXz1wcm90b3R5cGUsZ2V0dGVyfHxzZXR0ZXIpcmV0dXJuIGdldHRlciYmKGRlc2NyaXB0b3IuZ2V0PWdldHRlciksc2V0dGVyJiYoZGVzY3JpcHRvci5zZXQ9c2V0dGVyKSxkZXNjcmlwdG9yfXJldHVybiBkZXNjcmlwdG9yLnZhbHVlPW9iamVjdFtwcm9wZXJ0eV0sZGVzY3JpcHRvcn19fWlmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHwoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM9ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gT2JqZWN0LmtleXMob2JqZWN0KX0pLCFPYmplY3QuY3JlYXRlKXt2YXIgY3JlYXRlRW1wdHk7Y3JlYXRlRW1wdHk9bnVsbD09PU9iamVjdC5wcm90b3R5cGUuX19wcm90b19fP2Z1bmN0aW9uKCl7cmV0dXJue19fcHJvdG9fXzpudWxsfX06ZnVuY3Rpb24oKXt2YXIgZW1wdHk9e307Zm9yKHZhciBpIGluIGVtcHR5KWVtcHR5W2ldPW51bGw7cmV0dXJuIGVtcHR5LmNvbnN0cnVjdG9yPWVtcHR5Lmhhc093blByb3BlcnR5PWVtcHR5LnByb3BlcnR5SXNFbnVtZXJhYmxlPWVtcHR5LmlzUHJvdG90eXBlT2Y9ZW1wdHkudG9Mb2NhbGVTdHJpbmc9ZW1wdHkudG9TdHJpbmc9ZW1wdHkudmFsdWVPZj1lbXB0eS5fX3Byb3RvX189bnVsbCxlbXB0eX0sT2JqZWN0LmNyZWF0ZT1mdW5jdGlvbihwcm90b3R5cGUscHJvcGVydGllcyl7dmFyIG9iamVjdDtpZihudWxsPT09cHJvdG90eXBlKW9iamVjdD1jcmVhdGVFbXB0eSgpO2Vsc2V7aWYoXFxcIm9iamVjdFxcXCIhPXR5cGVvZiBwcm90b3R5cGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwidHlwZW9mIHByb3RvdHlwZVtcXFwiK3R5cGVvZiBwcm90b3R5cGUrXFxcIl0gIT0gJ29iamVjdCdcXFwiKTt2YXIgVHlwZT1mdW5jdGlvbigpe307VHlwZS5wcm90b3R5cGU9cHJvdG90eXBlLG9iamVjdD1uZXcgVHlwZSxvYmplY3QuX19wcm90b19fPXByb3RvdHlwZX1yZXR1cm4gdm9pZCAwIT09cHJvcGVydGllcyYmT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqZWN0LHByb3BlcnRpZXMpLG9iamVjdH19aWYoT2JqZWN0LmRlZmluZVByb3BlcnR5KXt2YXIgZGVmaW5lUHJvcGVydHlXb3Jrc09uT2JqZWN0PWRvZXNEZWZpbmVQcm9wZXJ0eVdvcmsoe30pLGRlZmluZVByb3BlcnR5V29ya3NPbkRvbT1cXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGRvY3VtZW50fHxkb2VzRGVmaW5lUHJvcGVydHlXb3JrKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXFxcImRpdlxcXCIpKTtpZighZGVmaW5lUHJvcGVydHlXb3Jrc09uT2JqZWN0fHwhZGVmaW5lUHJvcGVydHlXb3Jrc09uRG9tKXZhciBkZWZpbmVQcm9wZXJ0eUZhbGxiYWNrPU9iamVjdC5kZWZpbmVQcm9wZXJ0eX1pZighT2JqZWN0LmRlZmluZVByb3BlcnR5fHxkZWZpbmVQcm9wZXJ0eUZhbGxiYWNrKXt2YXIgRVJSX05PTl9PQkpFQ1RfREVTQ1JJUFRPUj1cXFwiUHJvcGVydHkgZGVzY3JpcHRpb24gbXVzdCBiZSBhbiBvYmplY3Q6IFxcXCIsRVJSX05PTl9PQkpFQ1RfVEFSR0VUPVxcXCJPYmplY3QuZGVmaW5lUHJvcGVydHkgY2FsbGVkIG9uIG5vbi1vYmplY3Q6IFxcXCIsRVJSX0FDQ0VTU09SU19OT1RfU1VQUE9SVEVEPVxcXCJnZXR0ZXJzICYgc2V0dGVycyBjYW4gbm90IGJlIGRlZmluZWQgb24gdGhpcyBqYXZhc2NyaXB0IGVuZ2luZVxcXCI7T2JqZWN0LmRlZmluZVByb3BlcnR5PWZ1bmN0aW9uKG9iamVjdCxwcm9wZXJ0eSxkZXNjcmlwdG9yKXtpZihcXFwib2JqZWN0XFxcIiE9dHlwZW9mIG9iamVjdCYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIG9iamVjdHx8bnVsbD09PW9iamVjdCl0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9OT05fT0JKRUNUX1RBUkdFVCtvYmplY3QpO2lmKFxcXCJvYmplY3RcXFwiIT10eXBlb2YgZGVzY3JpcHRvciYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGRlc2NyaXB0b3J8fG51bGw9PT1kZXNjcmlwdG9yKXRocm93IG5ldyBUeXBlRXJyb3IoRVJSX05PTl9PQkpFQ1RfREVTQ1JJUFRPUitkZXNjcmlwdG9yKTtpZihkZWZpbmVQcm9wZXJ0eUZhbGxiYWNrKXRyeXtyZXR1cm4gZGVmaW5lUHJvcGVydHlGYWxsYmFjay5jYWxsKE9iamVjdCxvYmplY3QscHJvcGVydHksZGVzY3JpcHRvcil9Y2F0Y2goZXhjZXB0aW9uKXt9aWYob3ducyhkZXNjcmlwdG9yLFxcXCJ2YWx1ZVxcXCIpKWlmKHN1cHBvcnRzQWNjZXNzb3JzJiYobG9va3VwR2V0dGVyKG9iamVjdCxwcm9wZXJ0eSl8fGxvb2t1cFNldHRlcihvYmplY3QscHJvcGVydHkpKSl7dmFyIHByb3RvdHlwZT1vYmplY3QuX19wcm90b19fO29iamVjdC5fX3Byb3RvX189cHJvdG90eXBlT2ZPYmplY3QsZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV0sb2JqZWN0W3Byb3BlcnR5XT1kZXNjcmlwdG9yLnZhbHVlLG9iamVjdC5fX3Byb3RvX189cHJvdG90eXBlfWVsc2Ugb2JqZWN0W3Byb3BlcnR5XT1kZXNjcmlwdG9yLnZhbHVlO2Vsc2V7aWYoIXN1cHBvcnRzQWNjZXNzb3JzKXRocm93IG5ldyBUeXBlRXJyb3IoRVJSX0FDQ0VTU09SU19OT1RfU1VQUE9SVEVEKTtvd25zKGRlc2NyaXB0b3IsXFxcImdldFxcXCIpJiZkZWZpbmVHZXR0ZXIob2JqZWN0LHByb3BlcnR5LGRlc2NyaXB0b3IuZ2V0KSxvd25zKGRlc2NyaXB0b3IsXFxcInNldFxcXCIpJiZkZWZpbmVTZXR0ZXIob2JqZWN0LHByb3BlcnR5LGRlc2NyaXB0b3Iuc2V0KX1yZXR1cm4gb2JqZWN0fX1PYmplY3QuZGVmaW5lUHJvcGVydGllc3x8KE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzPWZ1bmN0aW9uKG9iamVjdCxwcm9wZXJ0aWVzKXtmb3IodmFyIHByb3BlcnR5IGluIHByb3BlcnRpZXMpb3ducyhwcm9wZXJ0aWVzLHByb3BlcnR5KSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCxwcm9wZXJ0eSxwcm9wZXJ0aWVzW3Byb3BlcnR5XSk7cmV0dXJuIG9iamVjdH0pLE9iamVjdC5zZWFsfHwoT2JqZWN0LnNlYWw9ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gb2JqZWN0fSksT2JqZWN0LmZyZWV6ZXx8KE9iamVjdC5mcmVlemU9ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gb2JqZWN0fSk7dHJ5e09iamVjdC5mcmVlemUoZnVuY3Rpb24oKXt9KX1jYXRjaChleGNlcHRpb24pe09iamVjdC5mcmVlemU9ZnVuY3Rpb24oZnJlZXplT2JqZWN0KXtyZXR1cm4gZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm5cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2Ygb2JqZWN0P29iamVjdDpmcmVlemVPYmplY3Qob2JqZWN0KX19KE9iamVjdC5mcmVlemUpfWlmKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9uc3x8KE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucz1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBvYmplY3R9KSxPYmplY3QuaXNTZWFsZWR8fChPYmplY3QuaXNTZWFsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0pLE9iamVjdC5pc0Zyb3plbnx8KE9iamVjdC5pc0Zyb3plbj1mdW5jdGlvbigpe3JldHVybiExfSksT2JqZWN0LmlzRXh0ZW5zaWJsZXx8KE9iamVjdC5pc0V4dGVuc2libGU9ZnVuY3Rpb24ob2JqZWN0KXtpZihPYmplY3Qob2JqZWN0KT09PW9iamVjdCl0aHJvdyBuZXcgVHlwZUVycm9yO2Zvcih2YXIgbmFtZT1cXFwiXFxcIjtvd25zKG9iamVjdCxuYW1lKTspbmFtZSs9XFxcIj9cXFwiO29iamVjdFtuYW1lXT0hMDt2YXIgcmV0dXJuVmFsdWU9b3ducyhvYmplY3QsbmFtZSk7cmV0dXJuIGRlbGV0ZSBvYmplY3RbbmFtZV0scmV0dXJuVmFsdWV9KSwhT2JqZWN0LmtleXMpe3ZhciBoYXNEb250RW51bUJ1Zz0hMCxkb250RW51bXM9W1xcXCJ0b1N0cmluZ1xcXCIsXFxcInRvTG9jYWxlU3RyaW5nXFxcIixcXFwidmFsdWVPZlxcXCIsXFxcImhhc093blByb3BlcnR5XFxcIixcXFwiaXNQcm90b3R5cGVPZlxcXCIsXFxcInByb3BlcnR5SXNFbnVtZXJhYmxlXFxcIixcXFwiY29uc3RydWN0b3JcXFwiXSxkb250RW51bXNMZW5ndGg9ZG9udEVudW1zLmxlbmd0aDtmb3IodmFyIGtleSBpbnt0b1N0cmluZzpudWxsfSloYXNEb250RW51bUJ1Zz0hMTtPYmplY3Qua2V5cz1mdW5jdGlvbihvYmplY3Qpe2lmKFxcXCJvYmplY3RcXFwiIT10eXBlb2Ygb2JqZWN0JiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2Ygb2JqZWN0fHxudWxsPT09b2JqZWN0KXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIk9iamVjdC5rZXlzIGNhbGxlZCBvbiBhIG5vbi1vYmplY3RcXFwiKTt2YXIga2V5cz1bXTtmb3IodmFyIG5hbWUgaW4gb2JqZWN0KW93bnMob2JqZWN0LG5hbWUpJiZrZXlzLnB1c2gobmFtZSk7aWYoaGFzRG9udEVudW1CdWcpZm9yKHZhciBpPTAsaWk9ZG9udEVudW1zTGVuZ3RoO2lpPmk7aSsrKXt2YXIgZG9udEVudW09ZG9udEVudW1zW2ldO293bnMob2JqZWN0LGRvbnRFbnVtKSYma2V5cy5wdXNoKGRvbnRFbnVtKX1yZXR1cm4ga2V5c319RGF0ZS5ub3d8fChEYXRlLm5vdz1mdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfSk7dmFyIHdzPVxcXCJcXHRcXFxcblxcdTAwMGJcXFxcZlxcXFxyIMKg4ZqA4aCO4oCA4oCB4oCC4oCD4oCE4oCF4oCG4oCH4oCI4oCJ4oCK4oCv4oGf44CAXFxcXHUyMDI4XFxcXHUyMDI577u/XFxcIjtpZighU3RyaW5nLnByb3RvdHlwZS50cmltfHx3cy50cmltKCkpe3dzPVxcXCJbXFxcIit3cytcXFwiXVxcXCI7dmFyIHRyaW1CZWdpblJlZ2V4cD1SZWdFeHAoXFxcIl5cXFwiK3dzK3dzK1xcXCIqXFxcIiksdHJpbUVuZFJlZ2V4cD1SZWdFeHAod3Mrd3MrXFxcIiokXFxcIik7U3RyaW5nLnByb3RvdHlwZS50cmltPWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMrXFxcIlxcXCIpLnJlcGxhY2UodHJpbUJlZ2luUmVnZXhwLFxcXCJcXFwiKS5yZXBsYWNlKHRyaW1FbmRSZWdleHAsXFxcIlxcXCIpfX12YXIgdG9PYmplY3Q9ZnVuY3Rpb24obyl7aWYobnVsbD09byl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJjYW4ndCBjb252ZXJ0IFxcXCIrbytcXFwiIHRvIG9iamVjdFxcXCIpO3JldHVybiBPYmplY3Qobyl9fSksYWNlLmRlZmluZShcXFwiYWNlL21vZGUvamF2YXNjcmlwdF93b3JrZXJcXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiLFxcXCJhY2UvbGliL29vcFxcXCIsXFxcImFjZS93b3JrZXIvbWlycm9yXFxcIixcXFwiYWNlL21vZGUvamF2YXNjcmlwdC9qc2hpbnRcXFwiXSxmdW5jdGlvbihhY2VxdWlyZSxleHBvcnRzLG1vZHVsZSl7ZnVuY3Rpb24gc3RhcnRSZWdleChhcnIpe3JldHVybiBSZWdFeHAoXFxcIl4oXFxcIithcnIuam9pbihcXFwifFxcXCIpK1xcXCIpXFxcIil9dmFyIG9vcD1hY2VxdWlyZShcXFwiLi4vbGliL29vcFxcXCIpLE1pcnJvcj1hY2VxdWlyZShcXFwiLi4vd29ya2VyL21pcnJvclxcXCIpLk1pcnJvcixsaW50PWFjZXF1aXJlKFxcXCIuL2phdmFzY3JpcHQvanNoaW50XFxcIikuSlNISU5ULGRpc2FibGVkV2FybmluZ3NSZT1zdGFydFJlZ2V4KFtcXFwiQmFkIGZvciBpbiB2YXJpYWJsZSAnKC4rKScuXFxcIiwnTWlzc2luZyBcXFwidXNlIHN0cmljdFxcXCInXSksZXJyb3JzUmU9c3RhcnRSZWdleChbXFxcIlVuZXhwZWN0ZWRcXFwiLFxcXCJFeHBlY3RlZCBcXFwiLFxcXCJDb25mdXNpbmcgKHBsdXN8bWludXMpXFxcIixcXFwiXFxcXFxcXFx7YVxcXFxcXFxcfSB1bnRlcm1pbmF0ZWQgcmVndWxhciBleHByZXNzaW9uXFxcIixcXFwiVW5jbG9zZWQgXFxcIixcXFwiVW5tYXRjaGVkIFxcXCIsXFxcIlVuYmVndW4gY29tbWVudFxcXCIsXFxcIkJhZCBpbnZvY2F0aW9uXFxcIixcXFwiTWlzc2luZyBzcGFjZSBhZnRlclxcXCIsXFxcIk1pc3Npbmcgb3BlcmF0b3IgYXRcXFwiXSksaW5mb1JlPXN0YXJ0UmVnZXgoW1xcXCJFeHBlY3RlZCBhbiBhc3NpZ25tZW50XFxcIixcXFwiQmFkIGVzY2FwZW1lbnQgb2YgRU9MXFxcIixcXFwiVW5leHBlY3RlZCBjb21tYVxcXCIsXFxcIlVuZXhwZWN0ZWQgc3BhY2VcXFwiLFxcXCJNaXNzaW5nIHJhZGl4IHBhcmFtZXRlci5cXFwiLFxcXCJBIGxlYWRpbmcgZGVjaW1hbCBwb2ludCBjYW5cXFwiLFxcXCJcXFxcXFxcXFsne2F9J1xcXFxcXFxcXSBpcyBiZXR0ZXIgd3JpdHRlbiBpbiBkb3Qgbm90YXRpb24uXFxcIixcXFwiJ3thfScgdXNlZCBvdXQgb2Ygc2NvcGVcXFwiXSksSmF2YVNjcmlwdFdvcmtlcj1leHBvcnRzLkphdmFTY3JpcHRXb3JrZXI9ZnVuY3Rpb24oc2VuZGVyKXtNaXJyb3IuY2FsbCh0aGlzLHNlbmRlciksdGhpcy5zZXRUaW1lb3V0KDUwMCksdGhpcy5zZXRPcHRpb25zKCl9O29vcC5pbmhlcml0cyhKYXZhU2NyaXB0V29ya2VyLE1pcnJvciksZnVuY3Rpb24oKXt0aGlzLnNldE9wdGlvbnM9ZnVuY3Rpb24ob3B0aW9ucyl7dGhpcy5vcHRpb25zPW9wdGlvbnN8fHtlczU6ITAsZXNuZXh0OiEwLGRldmVsOiEwLGJyb3dzZXI6ITAsbm9kZTohMCxsYXhjb21tYTohMCxsYXhicmVhazohMCxsYXN0c2VtaWM6ITAsb25ldmFyOiExLHBhc3NmYWlsOiExLG1heGVycjoxMDAsZXhwcjohMCxtdWx0aXN0cjohMCxnbG9iYWxzdHJpY3Q6ITB9LHRoaXMuZG9jLmdldFZhbHVlKCkmJnRoaXMuZGVmZXJyZWRVcGRhdGUuc2NoZWR1bGUoMTAwKX0sdGhpcy5jaGFuZ2VPcHRpb25zPWZ1bmN0aW9uKG5ld09wdGlvbnMpe29vcC5taXhpbih0aGlzLm9wdGlvbnMsbmV3T3B0aW9ucyksdGhpcy5kb2MuZ2V0VmFsdWUoKSYmdGhpcy5kZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZSgxMDApfSx0aGlzLmlzVmFsaWRKUz1mdW5jdGlvbihzdHIpe3RyeXtldmFsKFxcXCJ0aHJvdyAwO1xcXCIrc3RyKX1jYXRjaChlKXtpZigwPT09ZSlyZXR1cm4hMH1yZXR1cm4hMX0sdGhpcy5vblVwZGF0ZT1mdW5jdGlvbigpe3ZhciB2YWx1ZT10aGlzLmRvYy5nZXRWYWx1ZSgpO2lmKHZhbHVlPXZhbHVlLnJlcGxhY2UoL14jIS4qXFxcXG4vLFxcXCJcXFxcblxcXCIpLCF2YWx1ZSlyZXR1cm4gdGhpcy5zZW5kZXIuZW1pdChcXFwianNsaW50XFxcIixbXSksdm9pZCAwO3ZhciBlcnJvcnM9W10sbWF4RXJyb3JMZXZlbD10aGlzLmlzVmFsaWRKUyh2YWx1ZSk/XFxcIndhcm5pbmdcXFwiOlxcXCJlcnJvclxcXCI7bGludCh2YWx1ZSx0aGlzLm9wdGlvbnMpO2Zvcih2YXIgcmVzdWx0cz1saW50LmVycm9ycyxlcnJvckFkZGVkPSExLGk9MDtyZXN1bHRzLmxlbmd0aD5pO2krKyl7dmFyIGVycm9yPXJlc3VsdHNbaV07aWYoZXJyb3Ipe3ZhciByYXc9ZXJyb3IucmF3LHR5cGU9XFxcIndhcm5pbmdcXFwiO2lmKFxcXCJNaXNzaW5nIHNlbWljb2xvbi5cXFwiPT1yYXcpe3ZhciBzdHI9ZXJyb3IuZXZpZGVuY2Uuc3Vic3RyKGVycm9yLmNoYXJhY3Rlcik7c3RyPXN0ci5jaGFyQXQoc3RyLnNlYXJjaCgvXFxcXFMvKSksXFxcImVycm9yXFxcIj09bWF4RXJyb3JMZXZlbCYmc3RyJiYvW1xcXFx3XFxcXGR7KFsnXFxcIl0vLnRlc3Qoc3RyKT8oZXJyb3IucmVhc29uPSdNaXNzaW5nIFxcXCI7XFxcIiBiZWZvcmUgc3RhdGVtZW50Jyx0eXBlPVxcXCJlcnJvclxcXCIpOnR5cGU9XFxcImluZm9cXFwifWVsc2V7aWYoZGlzYWJsZWRXYXJuaW5nc1JlLnRlc3QocmF3KSljb250aW51ZTtpbmZvUmUudGVzdChyYXcpP3R5cGU9XFxcImluZm9cXFwiOmVycm9yc1JlLnRlc3QocmF3KT8oZXJyb3JBZGRlZD0hMCx0eXBlPW1heEVycm9yTGV2ZWwpOlxcXCIne2F9JyBpcyBub3QgZGVmaW5lZC5cXFwiPT1yYXc/dHlwZT1cXFwid2FybmluZ1xcXCI6XFxcIid7YX0nIGlzIGRlZmluZWQgYnV0IG5ldmVyIHVzZWQuXFxcIj09cmF3JiYodHlwZT1cXFwiaW5mb1xcXCIpfWVycm9ycy5wdXNoKHtyb3c6ZXJyb3IubGluZS0xLGNvbHVtbjplcnJvci5jaGFyYWN0ZXItMSx0ZXh0OmVycm9yLnJlYXNvbix0eXBlOnR5cGUscmF3OnJhd30pfX10aGlzLnNlbmRlci5lbWl0KFxcXCJqc2xpbnRcXFwiLGVycm9ycyl9fS5jYWxsKEphdmFTY3JpcHRXb3JrZXIucHJvdG90eXBlKX0pLGFjZS5kZWZpbmUoXFxcImFjZS93b3JrZXIvbWlycm9yXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIixcXFwiYWNlL2RvY3VtZW50XFxcIixcXFwiYWNlL2xpYi9sYW5nXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7dmFyIERvY3VtZW50PWFjZXF1aXJlKFxcXCIuLi9kb2N1bWVudFxcXCIpLkRvY3VtZW50LGxhbmc9YWNlcXVpcmUoXFxcIi4uL2xpYi9sYW5nXFxcIiksTWlycm9yPWV4cG9ydHMuTWlycm9yPWZ1bmN0aW9uKHNlbmRlcil7dGhpcy5zZW5kZXI9c2VuZGVyO3ZhciBkb2M9dGhpcy5kb2M9bmV3IERvY3VtZW50KFxcXCJcXFwiKSxkZWZlcnJlZFVwZGF0ZT10aGlzLmRlZmVycmVkVXBkYXRlPWxhbmcuZGVsYXllZENhbGwodGhpcy5vblVwZGF0ZS5iaW5kKHRoaXMpKSxfc2VsZj10aGlzO3NlbmRlci5vbihcXFwiY2hhbmdlXFxcIixmdW5jdGlvbihlKXtkb2MuYXBwbHlEZWx0YXMoZS5kYXRhKSxkZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZShfc2VsZi4kdGltZW91dCl9KX07KGZ1bmN0aW9uKCl7dGhpcy4kdGltZW91dD01MDAsdGhpcy5zZXRUaW1lb3V0PWZ1bmN0aW9uKHRpbWVvdXQpe3RoaXMuJHRpbWVvdXQ9dGltZW91dH0sdGhpcy5zZXRWYWx1ZT1mdW5jdGlvbih2YWx1ZSl7dGhpcy5kb2Muc2V0VmFsdWUodmFsdWUpLHRoaXMuZGVmZXJyZWRVcGRhdGUuc2NoZWR1bGUodGhpcy4kdGltZW91dCl9LHRoaXMuZ2V0VmFsdWU9ZnVuY3Rpb24oY2FsbGJhY2tJZCl7dGhpcy5zZW5kZXIuY2FsbGJhY2sodGhpcy5kb2MuZ2V0VmFsdWUoKSxjYWxsYmFja0lkKX0sdGhpcy5vblVwZGF0ZT1mdW5jdGlvbigpe319KS5jYWxsKE1pcnJvci5wcm90b3R5cGUpfSksYWNlLmRlZmluZShcXFwiYWNlL2RvY3VtZW50XFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIixcXFwiYWNlL2xpYi9vb3BcXFwiLFxcXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcXFwiLFxcXCJhY2UvcmFuZ2VcXFwiLFxcXCJhY2UvYW5jaG9yXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7dmFyIG9vcD1hY2VxdWlyZShcXFwiLi9saWIvb29wXFxcIiksRXZlbnRFbWl0dGVyPWFjZXF1aXJlKFxcXCIuL2xpYi9ldmVudF9lbWl0dGVyXFxcIikuRXZlbnRFbWl0dGVyLFJhbmdlPWFjZXF1aXJlKFxcXCIuL3JhbmdlXFxcIikuUmFuZ2UsQW5jaG9yPWFjZXF1aXJlKFxcXCIuL2FuY2hvclxcXCIpLkFuY2hvcixEb2N1bWVudD1mdW5jdGlvbih0ZXh0KXt0aGlzLiRsaW5lcz1bXSwwPT10ZXh0Lmxlbmd0aD90aGlzLiRsaW5lcz1bXFxcIlxcXCJdOkFycmF5LmlzQXJyYXkodGV4dCk/dGhpcy5faW5zZXJ0TGluZXMoMCx0ZXh0KTp0aGlzLmluc2VydCh7cm93OjAsY29sdW1uOjB9LHRleHQpfTsoZnVuY3Rpb24oKXtvb3AuaW1wbGVtZW50KHRoaXMsRXZlbnRFbWl0dGVyKSx0aGlzLnNldFZhbHVlPWZ1bmN0aW9uKHRleHQpe3ZhciBsZW49dGhpcy5nZXRMZW5ndGgoKTt0aGlzLnJlbW92ZShuZXcgUmFuZ2UoMCwwLGxlbix0aGlzLmdldExpbmUobGVuLTEpLmxlbmd0aCkpLHRoaXMuaW5zZXJ0KHtyb3c6MCxjb2x1bW46MH0sdGV4dCl9LHRoaXMuZ2V0VmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBbGxMaW5lcygpLmpvaW4odGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkpfSx0aGlzLmNyZWF0ZUFuY2hvcj1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gbmV3IEFuY2hvcih0aGlzLHJvdyxjb2x1bW4pfSx0aGlzLiRzcGxpdD0wPT1cXFwiYWFhXFxcIi5zcGxpdCgvYS8pLmxlbmd0aD9mdW5jdGlvbih0ZXh0KXtyZXR1cm4gdGV4dC5yZXBsYWNlKC9cXFxcclxcXFxufFxcXFxyL2csXFxcIlxcXFxuXFxcIikuc3BsaXQoXFxcIlxcXFxuXFxcIil9OmZ1bmN0aW9uKHRleHQpe3JldHVybiB0ZXh0LnNwbGl0KC9cXFxcclxcXFxufFxcXFxyfFxcXFxuLyl9LHRoaXMuJGRldGVjdE5ld0xpbmU9ZnVuY3Rpb24odGV4dCl7dmFyIG1hdGNoPXRleHQubWF0Y2goL14uKj8oXFxcXHJcXFxcbnxcXFxccnxcXFxcbikvbSk7dGhpcy4kYXV0b05ld0xpbmU9bWF0Y2g/bWF0Y2hbMV06XFxcIlxcXFxuXFxcIn0sdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyPWZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuJG5ld0xpbmVNb2RlKXtjYXNlXFxcIndpbmRvd3NcXFwiOnJldHVyblxcXCJcXFxcclxcXFxuXFxcIjtjYXNlXFxcInVuaXhcXFwiOnJldHVyblxcXCJcXFxcblxcXCI7ZGVmYXVsdDpyZXR1cm4gdGhpcy4kYXV0b05ld0xpbmV9fSx0aGlzLiRhdXRvTmV3TGluZT1cXFwiXFxcXG5cXFwiLHRoaXMuJG5ld0xpbmVNb2RlPVxcXCJhdXRvXFxcIix0aGlzLnNldE5ld0xpbmVNb2RlPWZ1bmN0aW9uKG5ld0xpbmVNb2RlKXt0aGlzLiRuZXdMaW5lTW9kZSE9PW5ld0xpbmVNb2RlJiYodGhpcy4kbmV3TGluZU1vZGU9bmV3TGluZU1vZGUpfSx0aGlzLmdldE5ld0xpbmVNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJG5ld0xpbmVNb2RlfSx0aGlzLmlzTmV3TGluZT1mdW5jdGlvbih0ZXh0KXtyZXR1cm5cXFwiXFxcXHJcXFxcblxcXCI9PXRleHR8fFxcXCJcXFxcclxcXCI9PXRleHR8fFxcXCJcXFxcblxcXCI9PXRleHR9LHRoaXMuZ2V0TGluZT1mdW5jdGlvbihyb3cpe3JldHVybiB0aGlzLiRsaW5lc1tyb3ddfHxcXFwiXFxcIn0sdGhpcy5nZXRMaW5lcz1mdW5jdGlvbihmaXJzdFJvdyxsYXN0Um93KXtyZXR1cm4gdGhpcy4kbGluZXMuc2xpY2UoZmlyc3RSb3csbGFzdFJvdysxKX0sdGhpcy5nZXRBbGxMaW5lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldExpbmVzKDAsdGhpcy5nZXRMZW5ndGgoKSl9LHRoaXMuZ2V0TGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGxpbmVzLmxlbmd0aH0sdGhpcy5nZXRUZXh0UmFuZ2U9ZnVuY3Rpb24ocmFuZ2Upe2lmKHJhbmdlLnN0YXJ0LnJvdz09cmFuZ2UuZW5kLnJvdylyZXR1cm4gdGhpcy4kbGluZXNbcmFuZ2Uuc3RhcnQucm93XS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uLHJhbmdlLmVuZC5jb2x1bW4pO3ZhciBsaW5lcz10aGlzLmdldExpbmVzKHJhbmdlLnN0YXJ0LnJvdyxyYW5nZS5lbmQucm93KTtsaW5lc1swXT0obGluZXNbMF18fFxcXCJcXFwiKS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uKTt2YXIgbD1saW5lcy5sZW5ndGgtMTtyZXR1cm4gcmFuZ2UuZW5kLnJvdy1yYW5nZS5zdGFydC5yb3c9PWwmJihsaW5lc1tsXT1saW5lc1tsXS5zdWJzdHJpbmcoMCxyYW5nZS5lbmQuY29sdW1uKSksbGluZXMuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSl9LHRoaXMuJGNsaXBQb3NpdGlvbj1mdW5jdGlvbihwb3NpdGlvbil7dmFyIGxlbmd0aD10aGlzLmdldExlbmd0aCgpO3JldHVybiBwb3NpdGlvbi5yb3c+PWxlbmd0aD8ocG9zaXRpb24ucm93PU1hdGgubWF4KDAsbGVuZ3RoLTEpLHBvc2l0aW9uLmNvbHVtbj10aGlzLmdldExpbmUobGVuZ3RoLTEpLmxlbmd0aCk6MD5wb3NpdGlvbi5yb3cmJihwb3NpdGlvbi5yb3c9MCkscG9zaXRpb259LHRoaXMuaW5zZXJ0PWZ1bmN0aW9uKHBvc2l0aW9uLHRleHQpe2lmKCF0ZXh0fHwwPT09dGV4dC5sZW5ndGgpcmV0dXJuIHBvc2l0aW9uO3Bvc2l0aW9uPXRoaXMuJGNsaXBQb3NpdGlvbihwb3NpdGlvbiksMT49dGhpcy5nZXRMZW5ndGgoKSYmdGhpcy4kZGV0ZWN0TmV3TGluZSh0ZXh0KTt2YXIgbGluZXM9dGhpcy4kc3BsaXQodGV4dCksZmlyc3RMaW5lPWxpbmVzLnNwbGljZSgwLDEpWzBdLGxhc3RMaW5lPTA9PWxpbmVzLmxlbmd0aD9udWxsOmxpbmVzLnNwbGljZShsaW5lcy5sZW5ndGgtMSwxKVswXTtyZXR1cm4gcG9zaXRpb249dGhpcy5pbnNlcnRJbkxpbmUocG9zaXRpb24sZmlyc3RMaW5lKSxudWxsIT09bGFzdExpbmUmJihwb3NpdGlvbj10aGlzLmluc2VydE5ld0xpbmUocG9zaXRpb24pLHBvc2l0aW9uPXRoaXMuX2luc2VydExpbmVzKHBvc2l0aW9uLnJvdyxsaW5lcykscG9zaXRpb249dGhpcy5pbnNlcnRJbkxpbmUocG9zaXRpb24sbGFzdExpbmV8fFxcXCJcXFwiKSkscG9zaXRpb259LHRoaXMuaW5zZXJ0TGluZXM9ZnVuY3Rpb24ocm93LGxpbmVzKXtyZXR1cm4gcm93Pj10aGlzLmdldExlbmd0aCgpP3RoaXMuaW5zZXJ0KHtyb3c6cm93LGNvbHVtbjowfSxcXFwiXFxcXG5cXFwiK2xpbmVzLmpvaW4oXFxcIlxcXFxuXFxcIikpOnRoaXMuX2luc2VydExpbmVzKE1hdGgubWF4KHJvdywwKSxsaW5lcyl9LHRoaXMuX2luc2VydExpbmVzPWZ1bmN0aW9uKHJvdyxsaW5lcyl7aWYoMD09bGluZXMubGVuZ3RoKXJldHVybntyb3c6cm93LGNvbHVtbjowfTtpZihsaW5lcy5sZW5ndGg+NjU1MzUpe3ZhciBlbmQ9dGhpcy5faW5zZXJ0TGluZXMocm93LGxpbmVzLnNsaWNlKDY1NTM1KSk7bGluZXM9bGluZXMuc2xpY2UoMCw2NTUzNSl9dmFyIGFyZ3M9W3JvdywwXTthcmdzLnB1c2guYXBwbHkoYXJncyxsaW5lcyksdGhpcy4kbGluZXMuc3BsaWNlLmFwcGx5KHRoaXMuJGxpbmVzLGFyZ3MpO3ZhciByYW5nZT1uZXcgUmFuZ2Uocm93LDAscm93K2xpbmVzLmxlbmd0aCwwKSxkZWx0YT17YWN0aW9uOlxcXCJpbnNlcnRMaW5lc1xcXCIscmFuZ2U6cmFuZ2UsbGluZXM6bGluZXN9O3JldHVybiB0aGlzLl9lbWl0KFxcXCJjaGFuZ2VcXFwiLHtkYXRhOmRlbHRhfSksZW5kfHxyYW5nZS5lbmR9LHRoaXMuaW5zZXJ0TmV3TGluZT1mdW5jdGlvbihwb3NpdGlvbil7cG9zaXRpb249dGhpcy4kY2xpcFBvc2l0aW9uKHBvc2l0aW9uKTt2YXIgbGluZT10aGlzLiRsaW5lc1twb3NpdGlvbi5yb3ddfHxcXFwiXFxcIjt0aGlzLiRsaW5lc1twb3NpdGlvbi5yb3ddPWxpbmUuc3Vic3RyaW5nKDAscG9zaXRpb24uY29sdW1uKSx0aGlzLiRsaW5lcy5zcGxpY2UocG9zaXRpb24ucm93KzEsMCxsaW5lLnN1YnN0cmluZyhwb3NpdGlvbi5jb2x1bW4sbGluZS5sZW5ndGgpKTt2YXIgZW5kPXtyb3c6cG9zaXRpb24ucm93KzEsY29sdW1uOjB9LGRlbHRhPXthY3Rpb246XFxcImluc2VydFRleHRcXFwiLHJhbmdlOlJhbmdlLmZyb21Qb2ludHMocG9zaXRpb24sZW5kKSx0ZXh0OnRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpfTtyZXR1cm4gdGhpcy5fZW1pdChcXFwiY2hhbmdlXFxcIix7ZGF0YTpkZWx0YX0pLGVuZH0sdGhpcy5pbnNlcnRJbkxpbmU9ZnVuY3Rpb24ocG9zaXRpb24sdGV4dCl7aWYoMD09dGV4dC5sZW5ndGgpcmV0dXJuIHBvc2l0aW9uO3ZhciBsaW5lPXRoaXMuJGxpbmVzW3Bvc2l0aW9uLnJvd118fFxcXCJcXFwiO3RoaXMuJGxpbmVzW3Bvc2l0aW9uLnJvd109bGluZS5zdWJzdHJpbmcoMCxwb3NpdGlvbi5jb2x1bW4pK3RleHQrbGluZS5zdWJzdHJpbmcocG9zaXRpb24uY29sdW1uKTt2YXIgZW5kPXtyb3c6cG9zaXRpb24ucm93LGNvbHVtbjpwb3NpdGlvbi5jb2x1bW4rdGV4dC5sZW5ndGh9LGRlbHRhPXthY3Rpb246XFxcImluc2VydFRleHRcXFwiLHJhbmdlOlJhbmdlLmZyb21Qb2ludHMocG9zaXRpb24sZW5kKSx0ZXh0OnRleHR9O3JldHVybiB0aGlzLl9lbWl0KFxcXCJjaGFuZ2VcXFwiLHtkYXRhOmRlbHRhfSksZW5kfSx0aGlzLnJlbW92ZT1mdW5jdGlvbihyYW5nZSl7aWYocmFuZ2Uuc3RhcnQ9dGhpcy4kY2xpcFBvc2l0aW9uKHJhbmdlLnN0YXJ0KSxyYW5nZS5lbmQ9dGhpcy4kY2xpcFBvc2l0aW9uKHJhbmdlLmVuZCkscmFuZ2UuaXNFbXB0eSgpKXJldHVybiByYW5nZS5zdGFydDt2YXIgZmlyc3RSb3c9cmFuZ2Uuc3RhcnQucm93LGxhc3RSb3c9cmFuZ2UuZW5kLnJvdztpZihyYW5nZS5pc011bHRpTGluZSgpKXt2YXIgZmlyc3RGdWxsUm93PTA9PXJhbmdlLnN0YXJ0LmNvbHVtbj9maXJzdFJvdzpmaXJzdFJvdysxLGxhc3RGdWxsUm93PWxhc3RSb3ctMTtyYW5nZS5lbmQuY29sdW1uPjAmJnRoaXMucmVtb3ZlSW5MaW5lKGxhc3RSb3csMCxyYW5nZS5lbmQuY29sdW1uKSxsYXN0RnVsbFJvdz49Zmlyc3RGdWxsUm93JiZ0aGlzLl9yZW1vdmVMaW5lcyhmaXJzdEZ1bGxSb3csbGFzdEZ1bGxSb3cpLGZpcnN0RnVsbFJvdyE9Zmlyc3RSb3cmJih0aGlzLnJlbW92ZUluTGluZShmaXJzdFJvdyxyYW5nZS5zdGFydC5jb2x1bW4sdGhpcy5nZXRMaW5lKGZpcnN0Um93KS5sZW5ndGgpLHRoaXMucmVtb3ZlTmV3TGluZShyYW5nZS5zdGFydC5yb3cpKX1lbHNlIHRoaXMucmVtb3ZlSW5MaW5lKGZpcnN0Um93LHJhbmdlLnN0YXJ0LmNvbHVtbixyYW5nZS5lbmQuY29sdW1uKTtyZXR1cm4gcmFuZ2Uuc3RhcnR9LHRoaXMucmVtb3ZlSW5MaW5lPWZ1bmN0aW9uKHJvdyxzdGFydENvbHVtbixlbmRDb2x1bW4pe2lmKHN0YXJ0Q29sdW1uIT1lbmRDb2x1bW4pe3ZhciByYW5nZT1uZXcgUmFuZ2Uocm93LHN0YXJ0Q29sdW1uLHJvdyxlbmRDb2x1bW4pLGxpbmU9dGhpcy5nZXRMaW5lKHJvdykscmVtb3ZlZD1saW5lLnN1YnN0cmluZyhzdGFydENvbHVtbixlbmRDb2x1bW4pLG5ld0xpbmU9bGluZS5zdWJzdHJpbmcoMCxzdGFydENvbHVtbikrbGluZS5zdWJzdHJpbmcoZW5kQ29sdW1uLGxpbmUubGVuZ3RoKTt0aGlzLiRsaW5lcy5zcGxpY2Uocm93LDEsbmV3TGluZSk7dmFyIGRlbHRhPXthY3Rpb246XFxcInJlbW92ZVRleHRcXFwiLHJhbmdlOnJhbmdlLHRleHQ6cmVtb3ZlZH07cmV0dXJuIHRoaXMuX2VtaXQoXFxcImNoYW5nZVxcXCIse2RhdGE6ZGVsdGF9KSxyYW5nZS5zdGFydH19LHRoaXMucmVtb3ZlTGluZXM9ZnVuY3Rpb24oZmlyc3RSb3csbGFzdFJvdyl7cmV0dXJuIDA+Zmlyc3RSb3d8fGxhc3RSb3c+PXRoaXMuZ2V0TGVuZ3RoKCk/dGhpcy5yZW1vdmUobmV3IFJhbmdlKGZpcnN0Um93LDAsbGFzdFJvdysxLDApKTp0aGlzLl9yZW1vdmVMaW5lcyhmaXJzdFJvdyxsYXN0Um93KX0sdGhpcy5fcmVtb3ZlTGluZXM9ZnVuY3Rpb24oZmlyc3RSb3csbGFzdFJvdyl7dmFyIHJhbmdlPW5ldyBSYW5nZShmaXJzdFJvdywwLGxhc3RSb3crMSwwKSxyZW1vdmVkPXRoaXMuJGxpbmVzLnNwbGljZShmaXJzdFJvdyxsYXN0Um93LWZpcnN0Um93KzEpLGRlbHRhPXthY3Rpb246XFxcInJlbW92ZUxpbmVzXFxcIixyYW5nZTpyYW5nZSxubDp0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSxsaW5lczpyZW1vdmVkfTtyZXR1cm4gdGhpcy5fZW1pdChcXFwiY2hhbmdlXFxcIix7ZGF0YTpkZWx0YX0pLHJlbW92ZWR9LHRoaXMucmVtb3ZlTmV3TGluZT1mdW5jdGlvbihyb3cpe3ZhciBmaXJzdExpbmU9dGhpcy5nZXRMaW5lKHJvdyksc2Vjb25kTGluZT10aGlzLmdldExpbmUocm93KzEpLHJhbmdlPW5ldyBSYW5nZShyb3csZmlyc3RMaW5lLmxlbmd0aCxyb3crMSwwKSxsaW5lPWZpcnN0TGluZStzZWNvbmRMaW5lO3RoaXMuJGxpbmVzLnNwbGljZShyb3csMixsaW5lKTt2YXIgZGVsdGE9e2FjdGlvbjpcXFwicmVtb3ZlVGV4dFxcXCIscmFuZ2U6cmFuZ2UsdGV4dDp0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKX07dGhpcy5fZW1pdChcXFwiY2hhbmdlXFxcIix7ZGF0YTpkZWx0YX0pfSx0aGlzLnJlcGxhY2U9ZnVuY3Rpb24ocmFuZ2UsdGV4dCl7aWYoMD09dGV4dC5sZW5ndGgmJnJhbmdlLmlzRW1wdHkoKSlyZXR1cm4gcmFuZ2Uuc3RhcnQ7aWYodGV4dD09dGhpcy5nZXRUZXh0UmFuZ2UocmFuZ2UpKXJldHVybiByYW5nZS5lbmQ7aWYodGhpcy5yZW1vdmUocmFuZ2UpLHRleHQpdmFyIGVuZD10aGlzLmluc2VydChyYW5nZS5zdGFydCx0ZXh0KTtlbHNlIGVuZD1yYW5nZS5zdGFydDtyZXR1cm4gZW5kfSx0aGlzLmFwcGx5RGVsdGFzPWZ1bmN0aW9uKGRlbHRhcyl7Zm9yKHZhciBpPTA7ZGVsdGFzLmxlbmd0aD5pO2krKyl7dmFyIGRlbHRhPWRlbHRhc1tpXSxyYW5nZT1SYW5nZS5mcm9tUG9pbnRzKGRlbHRhLnJhbmdlLnN0YXJ0LGRlbHRhLnJhbmdlLmVuZCk7XFxcImluc2VydExpbmVzXFxcIj09ZGVsdGEuYWN0aW9uP3RoaXMuaW5zZXJ0TGluZXMocmFuZ2Uuc3RhcnQucm93LGRlbHRhLmxpbmVzKTpcXFwiaW5zZXJ0VGV4dFxcXCI9PWRlbHRhLmFjdGlvbj90aGlzLmluc2VydChyYW5nZS5zdGFydCxkZWx0YS50ZXh0KTpcXFwicmVtb3ZlTGluZXNcXFwiPT1kZWx0YS5hY3Rpb24/dGhpcy5fcmVtb3ZlTGluZXMocmFuZ2Uuc3RhcnQucm93LHJhbmdlLmVuZC5yb3ctMSk6XFxcInJlbW92ZVRleHRcXFwiPT1kZWx0YS5hY3Rpb24mJnRoaXMucmVtb3ZlKHJhbmdlKX19LHRoaXMucmV2ZXJ0RGVsdGFzPWZ1bmN0aW9uKGRlbHRhcyl7Zm9yKHZhciBpPWRlbHRhcy5sZW5ndGgtMTtpPj0wO2ktLSl7dmFyIGRlbHRhPWRlbHRhc1tpXSxyYW5nZT1SYW5nZS5mcm9tUG9pbnRzKGRlbHRhLnJhbmdlLnN0YXJ0LGRlbHRhLnJhbmdlLmVuZCk7XFxcImluc2VydExpbmVzXFxcIj09ZGVsdGEuYWN0aW9uP3RoaXMuX3JlbW92ZUxpbmVzKHJhbmdlLnN0YXJ0LnJvdyxyYW5nZS5lbmQucm93LTEpOlxcXCJpbnNlcnRUZXh0XFxcIj09ZGVsdGEuYWN0aW9uP3RoaXMucmVtb3ZlKHJhbmdlKTpcXFwicmVtb3ZlTGluZXNcXFwiPT1kZWx0YS5hY3Rpb24/dGhpcy5faW5zZXJ0TGluZXMocmFuZ2Uuc3RhcnQucm93LGRlbHRhLmxpbmVzKTpcXFwicmVtb3ZlVGV4dFxcXCI9PWRlbHRhLmFjdGlvbiYmdGhpcy5pbnNlcnQocmFuZ2Uuc3RhcnQsZGVsdGEudGV4dCl9fSx0aGlzLmluZGV4VG9Qb3NpdGlvbj1mdW5jdGlvbihpbmRleCxzdGFydFJvdyl7Zm9yKHZhciBsaW5lcz10aGlzLiRsaW5lc3x8dGhpcy5nZXRBbGxMaW5lcygpLG5ld2xpbmVMZW5ndGg9dGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoLGk9c3RhcnRSb3d8fDAsbD1saW5lcy5sZW5ndGg7bD5pO2krKylpZihpbmRleC09bGluZXNbaV0ubGVuZ3RoK25ld2xpbmVMZW5ndGgsMD5pbmRleClyZXR1cm57cm93OmksY29sdW1uOmluZGV4K2xpbmVzW2ldLmxlbmd0aCtuZXdsaW5lTGVuZ3RofTtyZXR1cm57cm93OmwtMSxjb2x1bW46bGluZXNbbC0xXS5sZW5ndGh9fSx0aGlzLnBvc2l0aW9uVG9JbmRleD1mdW5jdGlvbihwb3Msc3RhcnRSb3cpe2Zvcih2YXIgbGluZXM9dGhpcy4kbGluZXN8fHRoaXMuZ2V0QWxsTGluZXMoKSxuZXdsaW5lTGVuZ3RoPXRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aCxpbmRleD0wLHJvdz1NYXRoLm1pbihwb3Mucm93LGxpbmVzLmxlbmd0aCksaT1zdGFydFJvd3x8MDtyb3c+aTsrK2kpaW5kZXgrPWxpbmVzW2ldLmxlbmd0aCtuZXdsaW5lTGVuZ3RoO3JldHVybiBpbmRleCtwb3MuY29sdW1ufX0pLmNhbGwoRG9jdW1lbnQucHJvdG90eXBlKSxleHBvcnRzLkRvY3VtZW50PURvY3VtZW50fSksYWNlLmRlZmluZShcXFwiYWNlL3JhbmdlXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7dmFyIGNvbXBhcmVQb2ludHM9ZnVuY3Rpb24ocDEscDIpe3JldHVybiBwMS5yb3ctcDIucm93fHxwMS5jb2x1bW4tcDIuY29sdW1ufSxSYW5nZT1mdW5jdGlvbihzdGFydFJvdyxzdGFydENvbHVtbixlbmRSb3csZW5kQ29sdW1uKXt0aGlzLnN0YXJ0PXtyb3c6c3RhcnRSb3csY29sdW1uOnN0YXJ0Q29sdW1ufSx0aGlzLmVuZD17cm93OmVuZFJvdyxjb2x1bW46ZW5kQ29sdW1ufX07KGZ1bmN0aW9uKCl7dGhpcy5pc0VxdWFsPWZ1bmN0aW9uKHJhbmdlKXtyZXR1cm4gdGhpcy5zdGFydC5yb3c9PT1yYW5nZS5zdGFydC5yb3cmJnRoaXMuZW5kLnJvdz09PXJhbmdlLmVuZC5yb3cmJnRoaXMuc3RhcnQuY29sdW1uPT09cmFuZ2Uuc3RhcnQuY29sdW1uJiZ0aGlzLmVuZC5jb2x1bW49PT1yYW5nZS5lbmQuY29sdW1ufSx0aGlzLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXFxcIlJhbmdlOiBbXFxcIit0aGlzLnN0YXJ0LnJvdytcXFwiL1xcXCIrdGhpcy5zdGFydC5jb2x1bW4rXFxcIl0gLT4gW1xcXCIrdGhpcy5lbmQucm93K1xcXCIvXFxcIit0aGlzLmVuZC5jb2x1bW4rXFxcIl1cXFwifSx0aGlzLmNvbnRhaW5zPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiAwPT10aGlzLmNvbXBhcmUocm93LGNvbHVtbil9LHRoaXMuY29tcGFyZVJhbmdlPWZ1bmN0aW9uKHJhbmdlKXt2YXIgY21wLGVuZD1yYW5nZS5lbmQsc3RhcnQ9cmFuZ2Uuc3RhcnQ7cmV0dXJuIGNtcD10aGlzLmNvbXBhcmUoZW5kLnJvdyxlbmQuY29sdW1uKSwxPT1jbXA/KGNtcD10aGlzLmNvbXBhcmUoc3RhcnQucm93LHN0YXJ0LmNvbHVtbiksMT09Y21wPzI6MD09Y21wPzE6MCk6LTE9PWNtcD8tMjooY21wPXRoaXMuY29tcGFyZShzdGFydC5yb3csc3RhcnQuY29sdW1uKSwtMT09Y21wPy0xOjE9PWNtcD80MjowKX0sdGhpcy5jb21wYXJlUG9pbnQ9ZnVuY3Rpb24ocCl7cmV0dXJuIHRoaXMuY29tcGFyZShwLnJvdyxwLmNvbHVtbil9LHRoaXMuY29udGFpbnNSYW5nZT1mdW5jdGlvbihyYW5nZSl7cmV0dXJuIDA9PXRoaXMuY29tcGFyZVBvaW50KHJhbmdlLnN0YXJ0KSYmMD09dGhpcy5jb21wYXJlUG9pbnQocmFuZ2UuZW5kKX0sdGhpcy5pbnRlcnNlY3RzPWZ1bmN0aW9uKHJhbmdlKXt2YXIgY21wPXRoaXMuY29tcGFyZVJhbmdlKHJhbmdlKTtyZXR1cm4tMT09Y21wfHwwPT1jbXB8fDE9PWNtcH0sdGhpcy5pc0VuZD1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gdGhpcy5lbmQucm93PT1yb3cmJnRoaXMuZW5kLmNvbHVtbj09Y29sdW1ufSx0aGlzLmlzU3RhcnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuc3RhcnQucm93PT1yb3cmJnRoaXMuc3RhcnQuY29sdW1uPT1jb2x1bW59LHRoaXMuc2V0U3RhcnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7XFxcIm9iamVjdFxcXCI9PXR5cGVvZiByb3c/KHRoaXMuc3RhcnQuY29sdW1uPXJvdy5jb2x1bW4sdGhpcy5zdGFydC5yb3c9cm93LnJvdyk6KHRoaXMuc3RhcnQucm93PXJvdyx0aGlzLnN0YXJ0LmNvbHVtbj1jb2x1bW4pfSx0aGlzLnNldEVuZD1mdW5jdGlvbihyb3csY29sdW1uKXtcXFwib2JqZWN0XFxcIj09dHlwZW9mIHJvdz8odGhpcy5lbmQuY29sdW1uPXJvdy5jb2x1bW4sdGhpcy5lbmQucm93PXJvdy5yb3cpOih0aGlzLmVuZC5yb3c9cm93LHRoaXMuZW5kLmNvbHVtbj1jb2x1bW4pfSx0aGlzLmluc2lkZT1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pP3RoaXMuaXNFbmQocm93LGNvbHVtbil8fHRoaXMuaXNTdGFydChyb3csY29sdW1uKT8hMTohMDohMX0sdGhpcy5pbnNpZGVTdGFydD1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pP3RoaXMuaXNFbmQocm93LGNvbHVtbik/ITE6ITA6ITF9LHRoaXMuaW5zaWRlRW5kPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiAwPT10aGlzLmNvbXBhcmUocm93LGNvbHVtbik/dGhpcy5pc1N0YXJ0KHJvdyxjb2x1bW4pPyExOiEwOiExfSx0aGlzLmNvbXBhcmU9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuaXNNdWx0aUxpbmUoKXx8cm93IT09dGhpcy5zdGFydC5yb3c/dGhpcy5zdGFydC5yb3c+cm93Py0xOnJvdz50aGlzLmVuZC5yb3c/MTp0aGlzLnN0YXJ0LnJvdz09PXJvdz9jb2x1bW4+PXRoaXMuc3RhcnQuY29sdW1uPzA6LTE6dGhpcy5lbmQucm93PT09cm93P3RoaXMuZW5kLmNvbHVtbj49Y29sdW1uPzA6MTowOnRoaXMuc3RhcnQuY29sdW1uPmNvbHVtbj8tMTpjb2x1bW4+dGhpcy5lbmQuY29sdW1uPzE6MH0sdGhpcy5jb21wYXJlU3RhcnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuc3RhcnQucm93PT1yb3cmJnRoaXMuc3RhcnQuY29sdW1uPT1jb2x1bW4/LTE6dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pXFxufSx0aGlzLmNvbXBhcmVFbmQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuZW5kLnJvdz09cm93JiZ0aGlzLmVuZC5jb2x1bW49PWNvbHVtbj8xOnRoaXMuY29tcGFyZShyb3csY29sdW1uKX0sdGhpcy5jb21wYXJlSW5zaWRlPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiB0aGlzLmVuZC5yb3c9PXJvdyYmdGhpcy5lbmQuY29sdW1uPT1jb2x1bW4/MTp0aGlzLnN0YXJ0LnJvdz09cm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09Y29sdW1uPy0xOnRoaXMuY29tcGFyZShyb3csY29sdW1uKX0sdGhpcy5jbGlwUm93cz1mdW5jdGlvbihmaXJzdFJvdyxsYXN0Um93KXtpZih0aGlzLmVuZC5yb3c+bGFzdFJvdyl2YXIgZW5kPXtyb3c6bGFzdFJvdysxLGNvbHVtbjowfTtlbHNlIGlmKGZpcnN0Um93PnRoaXMuZW5kLnJvdyl2YXIgZW5kPXtyb3c6Zmlyc3RSb3csY29sdW1uOjB9O2lmKHRoaXMuc3RhcnQucm93Pmxhc3RSb3cpdmFyIHN0YXJ0PXtyb3c6bGFzdFJvdysxLGNvbHVtbjowfTtlbHNlIGlmKGZpcnN0Um93PnRoaXMuc3RhcnQucm93KXZhciBzdGFydD17cm93OmZpcnN0Um93LGNvbHVtbjowfTtyZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyhzdGFydHx8dGhpcy5zdGFydCxlbmR8fHRoaXMuZW5kKX0sdGhpcy5leHRlbmQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7dmFyIGNtcD10aGlzLmNvbXBhcmUocm93LGNvbHVtbik7aWYoMD09Y21wKXJldHVybiB0aGlzO2lmKC0xPT1jbXApdmFyIHN0YXJ0PXtyb3c6cm93LGNvbHVtbjpjb2x1bW59O2Vsc2UgdmFyIGVuZD17cm93OnJvdyxjb2x1bW46Y29sdW1ufTtyZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyhzdGFydHx8dGhpcy5zdGFydCxlbmR8fHRoaXMuZW5kKX0sdGhpcy5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnQucm93PT09dGhpcy5lbmQucm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09PXRoaXMuZW5kLmNvbHVtbn0sdGhpcy5pc011bHRpTGluZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0LnJvdyE9PXRoaXMuZW5kLnJvd30sdGhpcy5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBSYW5nZS5mcm9tUG9pbnRzKHRoaXMuc3RhcnQsdGhpcy5lbmQpfSx0aGlzLmNvbGxhcHNlUm93cz1mdW5jdGlvbigpe3JldHVybiAwPT10aGlzLmVuZC5jb2x1bW4/bmV3IFJhbmdlKHRoaXMuc3RhcnQucm93LDAsTWF0aC5tYXgodGhpcy5zdGFydC5yb3csdGhpcy5lbmQucm93LTEpLDApOm5ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywwLHRoaXMuZW5kLnJvdywwKX0sdGhpcy50b1NjcmVlblJhbmdlPWZ1bmN0aW9uKHNlc3Npb24pe3ZhciBzY3JlZW5Qb3NTdGFydD1zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLnN0YXJ0KSxzY3JlZW5Qb3NFbmQ9c2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24odGhpcy5lbmQpO3JldHVybiBuZXcgUmFuZ2Uoc2NyZWVuUG9zU3RhcnQucm93LHNjcmVlblBvc1N0YXJ0LmNvbHVtbixzY3JlZW5Qb3NFbmQucm93LHNjcmVlblBvc0VuZC5jb2x1bW4pfSx0aGlzLm1vdmVCeT1mdW5jdGlvbihyb3csY29sdW1uKXt0aGlzLnN0YXJ0LnJvdys9cm93LHRoaXMuc3RhcnQuY29sdW1uKz1jb2x1bW4sdGhpcy5lbmQucm93Kz1yb3csdGhpcy5lbmQuY29sdW1uKz1jb2x1bW59fSkuY2FsbChSYW5nZS5wcm90b3R5cGUpLFJhbmdlLmZyb21Qb2ludHM9ZnVuY3Rpb24oc3RhcnQsZW5kKXtyZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LnJvdyxzdGFydC5jb2x1bW4sZW5kLnJvdyxlbmQuY29sdW1uKX0sUmFuZ2UuY29tcGFyZVBvaW50cz1jb21wYXJlUG9pbnRzLFJhbmdlLmNvbXBhcmVQb2ludHM9ZnVuY3Rpb24ocDEscDIpe3JldHVybiBwMS5yb3ctcDIucm93fHxwMS5jb2x1bW4tcDIuY29sdW1ufSxleHBvcnRzLlJhbmdlPVJhbmdlfSksYWNlLmRlZmluZShcXFwiYWNlL2FuY2hvclxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCIsXFxcImFjZS9saWIvb29wXFxcIixcXFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7dmFyIG9vcD1hY2VxdWlyZShcXFwiLi9saWIvb29wXFxcIiksRXZlbnRFbWl0dGVyPWFjZXF1aXJlKFxcXCIuL2xpYi9ldmVudF9lbWl0dGVyXFxcIikuRXZlbnRFbWl0dGVyLEFuY2hvcj1leHBvcnRzLkFuY2hvcj1mdW5jdGlvbihkb2Mscm93LGNvbHVtbil7dGhpcy5kb2N1bWVudD1kb2MsY29sdW1uPT09dm9pZCAwP3RoaXMuc2V0UG9zaXRpb24ocm93LnJvdyxyb3cuY29sdW1uKTp0aGlzLnNldFBvc2l0aW9uKHJvdyxjb2x1bW4pLHRoaXMuJG9uQ2hhbmdlPXRoaXMub25DaGFuZ2UuYmluZCh0aGlzKSxkb2Mub24oXFxcImNoYW5nZVxcXCIsdGhpcy4kb25DaGFuZ2UpfTsoZnVuY3Rpb24oKXtvb3AuaW1wbGVtZW50KHRoaXMsRXZlbnRFbWl0dGVyKSx0aGlzLmdldFBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQodGhpcy5yb3csdGhpcy5jb2x1bW4pfSx0aGlzLmdldERvY3VtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jdW1lbnR9LHRoaXMub25DaGFuZ2U9ZnVuY3Rpb24oZSl7dmFyIGRlbHRhPWUuZGF0YSxyYW5nZT1kZWx0YS5yYW5nZTtpZighKHJhbmdlLnN0YXJ0LnJvdz09cmFuZ2UuZW5kLnJvdyYmcmFuZ2Uuc3RhcnQucm93IT10aGlzLnJvd3x8cmFuZ2Uuc3RhcnQucm93PnRoaXMucm93fHxyYW5nZS5zdGFydC5yb3c9PXRoaXMucm93JiZyYW5nZS5zdGFydC5jb2x1bW4+dGhpcy5jb2x1bW4pKXt2YXIgcm93PXRoaXMucm93LGNvbHVtbj10aGlzLmNvbHVtbixzdGFydD1yYW5nZS5zdGFydCxlbmQ9cmFuZ2UuZW5kO1xcXCJpbnNlcnRUZXh0XFxcIj09PWRlbHRhLmFjdGlvbj9zdGFydC5yb3c9PT1yb3cmJmNvbHVtbj49c3RhcnQuY29sdW1uP3N0YXJ0LnJvdz09PWVuZC5yb3c/Y29sdW1uKz1lbmQuY29sdW1uLXN0YXJ0LmNvbHVtbjooY29sdW1uLT1zdGFydC5jb2x1bW4scm93Kz1lbmQucm93LXN0YXJ0LnJvdyk6c3RhcnQucm93IT09ZW5kLnJvdyYmcm93PnN0YXJ0LnJvdyYmKHJvdys9ZW5kLnJvdy1zdGFydC5yb3cpOlxcXCJpbnNlcnRMaW5lc1xcXCI9PT1kZWx0YS5hY3Rpb24/cm93Pj1zdGFydC5yb3cmJihyb3crPWVuZC5yb3ctc3RhcnQucm93KTpcXFwicmVtb3ZlVGV4dFxcXCI9PT1kZWx0YS5hY3Rpb24/c3RhcnQucm93PT09cm93JiZjb2x1bW4+c3RhcnQuY29sdW1uP2NvbHVtbj1lbmQuY29sdW1uPj1jb2x1bW4/c3RhcnQuY29sdW1uOk1hdGgubWF4KDAsY29sdW1uLShlbmQuY29sdW1uLXN0YXJ0LmNvbHVtbikpOnN0YXJ0LnJvdyE9PWVuZC5yb3cmJnJvdz5zdGFydC5yb3c/KGVuZC5yb3c9PT1yb3cmJihjb2x1bW49TWF0aC5tYXgoMCxjb2x1bW4tZW5kLmNvbHVtbikrc3RhcnQuY29sdW1uKSxyb3ctPWVuZC5yb3ctc3RhcnQucm93KTplbmQucm93PT09cm93JiYocm93LT1lbmQucm93LXN0YXJ0LnJvdyxjb2x1bW49TWF0aC5tYXgoMCxjb2x1bW4tZW5kLmNvbHVtbikrc3RhcnQuY29sdW1uKTpcXFwicmVtb3ZlTGluZXNcXFwiPT1kZWx0YS5hY3Rpb24mJnJvdz49c3RhcnQucm93JiYocm93Pj1lbmQucm93P3Jvdy09ZW5kLnJvdy1zdGFydC5yb3c6KHJvdz1zdGFydC5yb3csY29sdW1uPTApKSx0aGlzLnNldFBvc2l0aW9uKHJvdyxjb2x1bW4sITApfX0sdGhpcy5zZXRQb3NpdGlvbj1mdW5jdGlvbihyb3csY29sdW1uLG5vQ2xpcCl7dmFyIHBvcztpZihwb3M9bm9DbGlwP3tyb3c6cm93LGNvbHVtbjpjb2x1bW59OnRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQocm93LGNvbHVtbiksdGhpcy5yb3chPXBvcy5yb3d8fHRoaXMuY29sdW1uIT1wb3MuY29sdW1uKXt2YXIgb2xkPXtyb3c6dGhpcy5yb3csY29sdW1uOnRoaXMuY29sdW1ufTt0aGlzLnJvdz1wb3Mucm93LHRoaXMuY29sdW1uPXBvcy5jb2x1bW4sdGhpcy5fZW1pdChcXFwiY2hhbmdlXFxcIix7b2xkOm9sZCx2YWx1ZTpwb3N9KX19LHRoaXMuZGV0YWNoPWZ1bmN0aW9uKCl7dGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJjaGFuZ2VcXFwiLHRoaXMuJG9uQ2hhbmdlKX0sdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudD1mdW5jdGlvbihyb3csY29sdW1uKXt2YXIgcG9zPXt9O3JldHVybiByb3c+PXRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCk/KHBvcy5yb3c9TWF0aC5tYXgoMCx0aGlzLmRvY3VtZW50LmdldExlbmd0aCgpLTEpLHBvcy5jb2x1bW49dGhpcy5kb2N1bWVudC5nZXRMaW5lKHBvcy5yb3cpLmxlbmd0aCk6MD5yb3c/KHBvcy5yb3c9MCxwb3MuY29sdW1uPTApOihwb3Mucm93PXJvdyxwb3MuY29sdW1uPU1hdGgubWluKHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgsTWF0aC5tYXgoMCxjb2x1bW4pKSksMD5jb2x1bW4mJihwb3MuY29sdW1uPTApLHBvc319KS5jYWxsKEFuY2hvci5wcm90b3R5cGUpfSksYWNlLmRlZmluZShcXFwiYWNlL2xpYi9sYW5nXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7ZXhwb3J0cy5zdHJpbmdSZXZlcnNlPWZ1bmN0aW9uKHN0cmluZyl7cmV0dXJuIHN0cmluZy5zcGxpdChcXFwiXFxcIikucmV2ZXJzZSgpLmpvaW4oXFxcIlxcXCIpfSxleHBvcnRzLnN0cmluZ1JlcGVhdD1mdW5jdGlvbihzdHJpbmcsY291bnQpe2Zvcih2YXIgcmVzdWx0PVxcXCJcXFwiO2NvdW50PjA7KTEmY291bnQmJihyZXN1bHQrPXN0cmluZyksKGNvdW50Pj49MSkmJihzdHJpbmcrPXN0cmluZyk7cmV0dXJuIHJlc3VsdH07dmFyIHRyaW1CZWdpblJlZ2V4cD0vXlxcXFxzXFxcXHMqLyx0cmltRW5kUmVnZXhwPS9cXFxcc1xcXFxzKiQvO2V4cG9ydHMuc3RyaW5nVHJpbUxlZnQ9ZnVuY3Rpb24oc3RyaW5nKXtyZXR1cm4gc3RyaW5nLnJlcGxhY2UodHJpbUJlZ2luUmVnZXhwLFxcXCJcXFwiKX0sZXhwb3J0cy5zdHJpbmdUcmltUmlnaHQ9ZnVuY3Rpb24oc3RyaW5nKXtyZXR1cm4gc3RyaW5nLnJlcGxhY2UodHJpbUVuZFJlZ2V4cCxcXFwiXFxcIil9LGV4cG9ydHMuY29weU9iamVjdD1mdW5jdGlvbihvYmope3ZhciBjb3B5PXt9O2Zvcih2YXIga2V5IGluIG9iailjb3B5W2tleV09b2JqW2tleV07cmV0dXJuIGNvcHl9LGV4cG9ydHMuY29weUFycmF5PWZ1bmN0aW9uKGFycmF5KXtmb3IodmFyIGNvcHk9W10saT0wLGw9YXJyYXkubGVuZ3RoO2w+aTtpKyspY29weVtpXT1hcnJheVtpXSYmXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBhcnJheVtpXT90aGlzLmNvcHlPYmplY3QoYXJyYXlbaV0pOmFycmF5W2ldO3JldHVybiBjb3B5fSxleHBvcnRzLmRlZXBDb3B5PWZ1bmN0aW9uKG9iail7aWYoXFxcIm9iamVjdFxcXCIhPXR5cGVvZiBvYmopcmV0dXJuIG9iajt2YXIgY29weT1vYmouY29uc3RydWN0b3IoKTtmb3IodmFyIGtleSBpbiBvYmopY29weVtrZXldPVxcXCJvYmplY3RcXFwiPT10eXBlb2Ygb2JqW2tleV0/dGhpcy5kZWVwQ29weShvYmpba2V5XSk6b2JqW2tleV07cmV0dXJuIGNvcHl9LGV4cG9ydHMuYXJyYXlUb01hcD1mdW5jdGlvbihhcnIpe2Zvcih2YXIgbWFwPXt9LGk9MDthcnIubGVuZ3RoPmk7aSsrKW1hcFthcnJbaV1dPTE7cmV0dXJuIG1hcH0sZXhwb3J0cy5jcmVhdGVNYXA9ZnVuY3Rpb24ocHJvcHMpe3ZhciBtYXA9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IodmFyIGkgaW4gcHJvcHMpbWFwW2ldPXByb3BzW2ldO3JldHVybiBtYXB9LGV4cG9ydHMuYXJyYXlSZW1vdmU9ZnVuY3Rpb24oYXJyYXksdmFsdWUpe2Zvcih2YXIgaT0wO2FycmF5Lmxlbmd0aD49aTtpKyspdmFsdWU9PT1hcnJheVtpXSYmYXJyYXkuc3BsaWNlKGksMSl9LGV4cG9ydHMuZXNjYXBlUmVnRXhwPWZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0ci5yZXBsYWNlKC8oWy4qKz9eJHt9KCl8W1xcXFxdXFxcXC9cXFxcXFxcXF0pL2csXFxcIlxcXFxcXFxcJDFcXFwiKX0sZXhwb3J0cy5lc2NhcGVIVE1MPWZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0ci5yZXBsYWNlKC8mL2csXFxcIiYjMzg7XFxcIikucmVwbGFjZSgvXFxcIi9nLFxcXCImIzM0O1xcXCIpLnJlcGxhY2UoLycvZyxcXFwiJiMzOTtcXFwiKS5yZXBsYWNlKC88L2csXFxcIiYjNjA7XFxcIil9LGV4cG9ydHMuZ2V0TWF0Y2hPZmZzZXRzPWZ1bmN0aW9uKHN0cmluZyxyZWdFeHApe3ZhciBtYXRjaGVzPVtdO3JldHVybiBzdHJpbmcucmVwbGFjZShyZWdFeHAsZnVuY3Rpb24oc3RyKXttYXRjaGVzLnB1c2goe29mZnNldDphcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aC0yXSxsZW5ndGg6c3RyLmxlbmd0aH0pfSksbWF0Y2hlc30sZXhwb3J0cy5kZWZlcnJlZENhbGw9ZnVuY3Rpb24oZmNuKXt2YXIgdGltZXI9bnVsbCxjYWxsYmFjaz1mdW5jdGlvbigpe3RpbWVyPW51bGwsZmNuKCl9LGRlZmVycmVkPWZ1bmN0aW9uKHRpbWVvdXQpe3JldHVybiBkZWZlcnJlZC5jYW5jZWwoKSx0aW1lcj1zZXRUaW1lb3V0KGNhbGxiYWNrLHRpbWVvdXR8fDApLGRlZmVycmVkfTtyZXR1cm4gZGVmZXJyZWQuc2NoZWR1bGU9ZGVmZXJyZWQsZGVmZXJyZWQuY2FsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbmNlbCgpLGZjbigpLGRlZmVycmVkfSxkZWZlcnJlZC5jYW5jZWw9ZnVuY3Rpb24oKXtyZXR1cm4gY2xlYXJUaW1lb3V0KHRpbWVyKSx0aW1lcj1udWxsLGRlZmVycmVkfSxkZWZlcnJlZH0sZXhwb3J0cy5kZWxheWVkQ2FsbD1mdW5jdGlvbihmY24sZGVmYXVsdFRpbWVvdXQpe3ZhciB0aW1lcj1udWxsLGNhbGxiYWNrPWZ1bmN0aW9uKCl7dGltZXI9bnVsbCxmY24oKX0sX3NlbGY9ZnVuY3Rpb24odGltZW91dCl7dGltZXImJmNsZWFyVGltZW91dCh0aW1lciksdGltZXI9c2V0VGltZW91dChjYWxsYmFjayx0aW1lb3V0fHxkZWZhdWx0VGltZW91dCl9O3JldHVybiBfc2VsZi5kZWxheT1fc2VsZixfc2VsZi5zY2hlZHVsZT1mdW5jdGlvbih0aW1lb3V0KXtudWxsPT10aW1lciYmKHRpbWVyPXNldFRpbWVvdXQoY2FsbGJhY2ssdGltZW91dHx8MCkpfSxfc2VsZi5jYWxsPWZ1bmN0aW9uKCl7dGhpcy5jYW5jZWwoKSxmY24oKX0sX3NlbGYuY2FuY2VsPWZ1bmN0aW9uKCl7dGltZXImJmNsZWFyVGltZW91dCh0aW1lciksdGltZXI9bnVsbH0sX3NlbGYuaXNQZW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRpbWVyfSxfc2VsZn19KSxhY2UuZGVmaW5lKFxcXCJhY2UvbW9kZS9qYXZhc2NyaXB0L2pzaGludFxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe3ZhciBKU0hJTlQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBGKCl7fWZ1bmN0aW9uIGlzX293bihvYmplY3QsbmFtZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsbmFtZSl9ZnVuY3Rpb24gY2hlY2tPcHRpb24obmFtZSx0KXt2b2lkIDA9PT12YWxPcHRpb25zW25hbWVdJiZ2b2lkIDA9PT1ib29sT3B0aW9uc1tuYW1lXSYmd2FybmluZyhcXFwiQmFkIG9wdGlvbjogJ1xcXCIrbmFtZStcXFwiJy5cXFwiLHQpfWZ1bmN0aW9uIGlzU3RyaW5nKG9iail7cmV0dXJuXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKX1mdW5jdGlvbiBpc0FscGhhKHN0cil7cmV0dXJuIHN0cj49XFxcImFcXFwiJiZcXFwieu+/v1xcXCI+PXN0cnx8c3RyPj1cXFwiQVxcXCImJlxcXCJa77+/XFxcIj49c3RyfWZ1bmN0aW9uIGlzRGlnaXQoc3RyKXtyZXR1cm4gc3RyPj1cXFwiMFxcXCImJlxcXCI5XFxcIj49c3RyfWZ1bmN0aW9uIGlzSWRlbnRpZmllcih0b2tlbix2YWx1ZSl7cmV0dXJuIHRva2VuP3Rva2VuLmlkZW50aWZpZXImJnRva2VuLnZhbHVlPT09dmFsdWU/ITA6ITE6ITF9ZnVuY3Rpb24gc3VwcGxhbnQoc3RyLGRhdGEpe3JldHVybiBzdHIucmVwbGFjZSgvXFxcXHsoW157fV0qKVxcXFx9L2csZnVuY3Rpb24oYSxiKXt2YXIgcj1kYXRhW2JdO3JldHVyblxcXCJzdHJpbmdcXFwiPT10eXBlb2Ygcnx8XFxcIm51bWJlclxcXCI9PXR5cGVvZiByP3I6YX0pfWZ1bmN0aW9uIGNvbWJpbmUodCxvKXt2YXIgbjtmb3IobiBpbiBvKWlzX293bihvLG4pJiYhaXNfb3duKEpTSElOVC5ibGFja2xpc3QsbikmJih0W25dPW9bbl0pfWZ1bmN0aW9uIHVwZGF0ZVByZWRlZmluZWQoKXtPYmplY3Qua2V5cyhKU0hJTlQuYmxhY2tsaXN0KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSl7ZGVsZXRlIHByZWRlZmluZWRba2V5XX0pfWZ1bmN0aW9uIGFzc3VtZSgpe29wdGlvbi5jb3VjaCYmY29tYmluZShwcmVkZWZpbmVkLGNvdWNoKSxvcHRpb24ucmhpbm8mJmNvbWJpbmUocHJlZGVmaW5lZCxyaGlubyksb3B0aW9uLnByb3RvdHlwZWpzJiZjb21iaW5lKHByZWRlZmluZWQscHJvdG90eXBlanMpLG9wdGlvbi5ub2RlJiYoY29tYmluZShwcmVkZWZpbmVkLG5vZGUpLG9wdGlvbi5nbG9iYWxzdHJpY3Q9ITApLG9wdGlvbi5kZXZlbCYmY29tYmluZShwcmVkZWZpbmVkLGRldmVsKSxvcHRpb24uZG9qbyYmY29tYmluZShwcmVkZWZpbmVkLGRvam8pLG9wdGlvbi5icm93c2VyJiZjb21iaW5lKHByZWRlZmluZWQsYnJvd3Nlciksb3B0aW9uLm5vbnN0YW5kYXJkJiZjb21iaW5lKHByZWRlZmluZWQsbm9uc3RhbmRhcmQpLG9wdGlvbi5qcXVlcnkmJmNvbWJpbmUocHJlZGVmaW5lZCxqcXVlcnkpLG9wdGlvbi5tb290b29scyYmY29tYmluZShwcmVkZWZpbmVkLG1vb3Rvb2xzKSxvcHRpb24ud29ya2VyJiZjb21iaW5lKHByZWRlZmluZWQsd29ya2VyKSxvcHRpb24ud3NoJiZjb21iaW5lKHByZWRlZmluZWQsd3NoKSxvcHRpb24uZXNuZXh0JiZ1c2VFU05leHRTeW50YXgoKSxvcHRpb24uZ2xvYmFsc3RyaWN0JiZvcHRpb24uc3RyaWN0IT09ITEmJihvcHRpb24uc3RyaWN0PSEwKSxvcHRpb24ueXVpJiZjb21iaW5lKHByZWRlZmluZWQseXVpKX1mdW5jdGlvbiBxdWl0KG1lc3NhZ2UsbGluZSxjaHIpe3ZhciBwZXJjZW50YWdlPU1hdGguZmxvb3IoMTAwKihsaW5lL2xpbmVzLmxlbmd0aCkpO3Rocm93e25hbWU6XFxcIkpTSGludEVycm9yXFxcIixsaW5lOmxpbmUsY2hhcmFjdGVyOmNocixtZXNzYWdlOm1lc3NhZ2UrXFxcIiAoXFxcIitwZXJjZW50YWdlK1xcXCIlIHNjYW5uZWQpLlxcXCIscmF3Om1lc3NhZ2V9fWZ1bmN0aW9uIGlzdW5kZWYoc2NvcGUsbSx0LGEpe3JldHVybiBKU0hJTlQudW5kZWZzLnB1c2goW3Njb3BlLG0sdCxhXSl9ZnVuY3Rpb24gd2FybmluZyhtLHQsYSxiLGMsZCl7dmFyIGNoLGwsdztyZXR1cm4gdD10fHxuZXh0dG9rZW4sXFxcIihlbmQpXFxcIj09PXQuaWQmJih0PXRva2VuKSxsPXQubGluZXx8MCxjaD10LmZyb218fDAsdz17aWQ6XFxcIihlcnJvcilcXFwiLHJhdzptLGV2aWRlbmNlOmxpbmVzW2wtMV18fFxcXCJcXFwiLGxpbmU6bCxjaGFyYWN0ZXI6Y2gsc2NvcGU6SlNISU5ULnNjb3BlLGE6YSxiOmIsYzpjLGQ6ZH0sdy5yZWFzb249c3VwcGxhbnQobSx3KSxKU0hJTlQuZXJyb3JzLnB1c2godyksb3B0aW9uLnBhc3NmYWlsJiZxdWl0KFxcXCJTdG9wcGluZy4gXFxcIixsLGNoKSx3YXJuaW5ncys9MSx3YXJuaW5ncz49b3B0aW9uLm1heGVyciYmcXVpdChcXFwiVG9vIG1hbnkgZXJyb3JzLlxcXCIsbCxjaCksd31mdW5jdGlvbiB3YXJuaW5nQXQobSxsLGNoLGEsYixjLGQpe3JldHVybiB3YXJuaW5nKG0se2xpbmU6bCxmcm9tOmNofSxhLGIsYyxkKX1mdW5jdGlvbiBlcnJvcihtLHQsYSxiLGMsZCl7d2FybmluZyhtLHQsYSxiLGMsZCl9ZnVuY3Rpb24gZXJyb3JBdChtLGwsY2gsYSxiLGMsZCl7cmV0dXJuIGVycm9yKG0se2xpbmU6bCxmcm9tOmNofSxhLGIsYyxkKX1mdW5jdGlvbiBhZGRJbnRlcm5hbFNyYyhlbGVtLHNyYyl7dmFyIGk7cmV0dXJuIGk9e2lkOlxcXCIoaW50ZXJuYWwpXFxcIixlbGVtOmVsZW0sdmFsdWU6c3JjfSxKU0hJTlQuaW50ZXJuYWxzLnB1c2goaSksaX1mdW5jdGlvbiBhZGRsYWJlbCh0LHR5cGUsdG9rZW4pe1xcXCJoYXNPd25Qcm9wZXJ0eVxcXCI9PT10JiZ3YXJuaW5nKFxcXCInaGFzT3duUHJvcGVydHknIGlzIGEgcmVhbGx5IGJhZCBuYW1lLlxcXCIpLFxcXCJleGNlcHRpb25cXFwiPT09dHlwZSYmaXNfb3duKGZ1bmN0W1xcXCIoY29udGV4dClcXFwiXSx0KSYmKGZ1bmN0W3RdPT09ITB8fG9wdGlvbi5ub2RlfHx3YXJuaW5nKFxcXCJWYWx1ZSBvZiAne2F9JyBtYXkgYmUgb3ZlcndyaXR0ZW4gaW4gSUUuXFxcIixuZXh0dG9rZW4sdCkpLGlzX293bihmdW5jdCx0KSYmIWZ1bmN0W1xcXCIoZ2xvYmFsKVxcXCJdJiYoZnVuY3RbdF09PT0hMD9vcHRpb24ubGF0ZWRlZiYmd2FybmluZyhcXFwiJ3thfScgd2FzIHVzZWQgYmVmb3JlIGl0IHdhcyBkZWZpbmVkLlxcXCIsbmV4dHRva2VuLHQpOm9wdGlvbi5zaGFkb3d8fFxcXCJleGNlcHRpb25cXFwiPT09dHlwZXx8d2FybmluZyhcXFwiJ3thfScgaXMgYWxyZWFkeSBkZWZpbmVkLlxcXCIsbmV4dHRva2VuLHQpKSxmdW5jdFt0XT10eXBlLHRva2VuJiYoZnVuY3RbXFxcIih0b2tlbnMpXFxcIl1bdF09dG9rZW4pLGZ1bmN0W1xcXCIoZ2xvYmFsKVxcXCJdPyhnbG9iYWxbdF09ZnVuY3QsaXNfb3duKGltcGxpZWQsdCkmJihvcHRpb24ubGF0ZWRlZiYmd2FybmluZyhcXFwiJ3thfScgd2FzIHVzZWQgYmVmb3JlIGl0IHdhcyBkZWZpbmVkLlxcXCIsbmV4dHRva2VuLHQpLGRlbGV0ZSBpbXBsaWVkW3RdKSk6c2NvcGVbdF09ZnVuY3R9ZnVuY3Rpb24gZG9PcHRpb24oKXt2YXIgYixvYmosZmlsdGVyLHQsdG4sdixtaW51cyxudD1uZXh0dG9rZW4sbz1udC52YWx1ZSxxdW90bWFya1ZhbHVlPW9wdGlvbi5xdW90bWFyayxwcmVkZWY9e307c3dpdGNoKG8pe2Nhc2VcXFwiKi9cXFwiOmVycm9yKFxcXCJVbmJlZ3VuIGNvbW1lbnQuXFxcIik7YnJlYWs7Y2FzZVxcXCIvKm1lbWJlcnNcXFwiOmNhc2VcXFwiLyptZW1iZXJcXFwiOm89XFxcIi8qbWVtYmVyc1xcXCIsbWVtYmVyc09ubHl8fChtZW1iZXJzT25seT17fSksb2JqPW1lbWJlcnNPbmx5LG9wdGlvbi5xdW90bWFyaz0hMTticmVhaztjYXNlXFxcIi8qanNoaW50XFxcIjpjYXNlXFxcIi8qanNsaW50XFxcIjpvYmo9b3B0aW9uLGZpbHRlcj1ib29sT3B0aW9uczticmVhaztjYXNlXFxcIi8qZ2xvYmFsXFxcIjpvYmo9cHJlZGVmO2JyZWFrO2RlZmF1bHQ6ZXJyb3IoXFxcIldoYXQ/XFxcIil9Zm9yKHQ9bGV4LnRva2VuKCk7Oyl7bWludXM9ITE7Zm9yKHZhciBicmVha091dGVyTG9vcDs7KXtpZihcXFwic3BlY2lhbFxcXCI9PT10LnR5cGUmJlxcXCIqL1xcXCI9PT10LnZhbHVlKXticmVha091dGVyTG9vcD0hMDticmVha31pZihcXFwiKGVuZGxpbmUpXFxcIiE9PXQuaWQmJlxcXCIsXFxcIiE9PXQuaWQpYnJlYWs7dD1sZXgudG9rZW4oKX1pZihicmVha091dGVyTG9vcClicmVhaztpZihcXFwiLypnbG9iYWxcXFwiPT09byYmXFxcIi1cXFwiPT09dC52YWx1ZSYmKG1pbnVzPSEwLHQ9bGV4LnRva2VuKCkpLFxcXCIoc3RyaW5nKVxcXCIhPT10LnR5cGUmJlxcXCIoaWRlbnRpZmllcilcXFwiIT09dC50eXBlJiZcXFwiLyptZW1iZXJzXFxcIiE9PW8mJmVycm9yKFxcXCJCYWQgb3B0aW9uLlxcXCIsdCksdj1sZXgudG9rZW4oKSxcXFwiOlxcXCI9PT12LmlkKXt2PWxleC50b2tlbigpLG9iaj09PW1lbWJlcnNPbmx5JiZlcnJvcihcXFwiRXhwZWN0ZWQgJ3thfScgYW5kIGluc3RlYWQgc2F3ICd7Yn0nLlxcXCIsdCxcXFwiKi9cXFwiLFxcXCI6XFxcIiksXFxcIi8qanNoaW50XFxcIj09PW8mJmNoZWNrT3B0aW9uKHQudmFsdWUsdCk7dmFyIG51bWVyaWNWYWxzPVtcXFwibWF4c3RhdGVtZW50c1xcXCIsXFxcIm1heHBhcmFtc1xcXCIsXFxcIm1heGRlcHRoXFxcIixcXFwibWF4Y29tcGxleGl0eVxcXCIsXFxcIm1heGVyclxcXCIsXFxcIm1heGxlblxcXCIsXFxcImluZGVudFxcXCJdO2lmKG51bWVyaWNWYWxzLmluZGV4T2YodC52YWx1ZSk+LTEmJihcXFwiLypqc2hpbnRcXFwiPT09b3x8XFxcIi8qanNsaW50XFxcIj09PW8pKWI9K3YudmFsdWUsKFxcXCJudW1iZXJcXFwiIT10eXBlb2YgYnx8IWlzRmluaXRlKGIpfHwwPj1ifHxNYXRoLmZsb29yKGIpIT09YikmJmVycm9yKFxcXCJFeHBlY3RlZCBhIHNtYWxsIGludGVnZXIgYW5kIGluc3RlYWQgc2F3ICd7YX0nLlxcXCIsdix2LnZhbHVlKSxcXFwiaW5kZW50XFxcIj09PXQudmFsdWUmJihvYmoud2hpdGU9ITApLG9ialt0LnZhbHVlXT1iO2Vsc2UgaWYoXFxcInZhbGlkdGhpc1xcXCI9PT10LnZhbHVlKWZ1bmN0W1xcXCIoZ2xvYmFsKVxcXCJdP2Vycm9yKFxcXCJPcHRpb24gJ3ZhbGlkdGhpcycgY2FuJ3QgYmUgdXNlZCBpbiBhIGdsb2JhbCBzY29wZS5cXFwiKTpcXFwidHJ1ZVxcXCI9PT12LnZhbHVlfHxcXFwiZmFsc2VcXFwiPT09di52YWx1ZT9vYmpbdC52YWx1ZV09XFxcInRydWVcXFwiPT09di52YWx1ZTplcnJvcihcXFwiQmFkIG9wdGlvbiB2YWx1ZS5cXFwiLHYpO2Vsc2UgaWYoXFxcInF1b3RtYXJrXFxcIj09PXQudmFsdWUmJlxcXCIvKmpzaGludFxcXCI9PT1vKXN3aXRjaCh2LnZhbHVlKXtjYXNlXFxcInRydWVcXFwiOm9iai5xdW90bWFyaz0hMDticmVhaztjYXNlXFxcImZhbHNlXFxcIjpvYmoucXVvdG1hcms9ITE7YnJlYWs7Y2FzZVxcXCJkb3VibGVcXFwiOmNhc2VcXFwic2luZ2xlXFxcIjpvYmoucXVvdG1hcms9di52YWx1ZTticmVhaztkZWZhdWx0OmVycm9yKFxcXCJCYWQgb3B0aW9uIHZhbHVlLlxcXCIsdil9ZWxzZVxcXCJ0cnVlXFxcIj09PXYudmFsdWV8fFxcXCJmYWxzZVxcXCI9PT12LnZhbHVlPyhcXFwiLypqc2xpbnRcXFwiPT09bz8odG49cmVuYW1lZE9wdGlvbnNbdC52YWx1ZV18fHQudmFsdWUsb2JqW3RuXT1cXFwidHJ1ZVxcXCI9PT12LnZhbHVlLHZvaWQgMCE9PWludmVydGVkT3B0aW9uc1t0bl0mJihvYmpbdG5dPSFvYmpbdG5dKSk6b2JqW3QudmFsdWVdPVxcXCJ0cnVlXFxcIj09PXYudmFsdWUsXFxcIm5ld2NhcFxcXCI9PT10LnZhbHVlJiYob2JqW1xcXCIoZXhwbGljaXROZXdjYXApXFxcIl09ITApKTplcnJvcihcXFwiQmFkIG9wdGlvbiB2YWx1ZS5cXFwiLHYpO3Q9bGV4LnRva2VuKCl9ZWxzZShcXFwiLypqc2hpbnRcXFwiPT09b3x8XFxcIi8qanNsaW50XFxcIj09PW8pJiZlcnJvcihcXFwiTWlzc2luZyBvcHRpb24gdmFsdWUuXFxcIix0KSxvYmpbdC52YWx1ZV09ITEsXFxcIi8qZ2xvYmFsXFxcIj09PW8mJm1pbnVzPT09ITAmJihKU0hJTlQuYmxhY2tsaXN0W3QudmFsdWVdPXQudmFsdWUsdXBkYXRlUHJlZGVmaW5lZCgpKSx0PXZ9XFxcIi8qbWVtYmVyc1xcXCI9PT1vJiYob3B0aW9uLnF1b3RtYXJrPXF1b3RtYXJrVmFsdWUpLGNvbWJpbmUocHJlZGVmaW5lZCxwcmVkZWYpO2Zvcih2YXIga2V5IGluIHByZWRlZilpc19vd24ocHJlZGVmLGtleSkmJihkZWNsYXJlZFtrZXldPW50KTtmaWx0ZXImJmFzc3VtZSgpfWZ1bmN0aW9uIHBlZWsocCl7Zm9yKHZhciB0LGk9cHx8MCxqPTA7aT49ajspdD1sb29rYWhlYWRbal0sdHx8KHQ9bG9va2FoZWFkW2pdPWxleC50b2tlbigpKSxqKz0xO3JldHVybiB0fWZ1bmN0aW9uIGFkdmFuY2UoaWQsdCl7c3dpdGNoKHRva2VuLmlkKXtjYXNlXFxcIihudW1iZXIpXFxcIjpcXFwiLlxcXCI9PT1uZXh0dG9rZW4uaWQmJndhcm5pbmcoXFxcIkEgZG90IGZvbGxvd2luZyBhIG51bWJlciBjYW4gYmUgY29uZnVzZWQgd2l0aCBhIGRlY2ltYWwgcG9pbnQuXFxcIix0b2tlbik7YnJlYWs7Y2FzZVxcXCItXFxcIjooXFxcIi1cXFwiPT09bmV4dHRva2VuLmlkfHxcXFwiLS1cXFwiPT09bmV4dHRva2VuLmlkKSYmd2FybmluZyhcXFwiQ29uZnVzaW5nIG1pbnVzc2VzLlxcXCIpO2JyZWFrO2Nhc2VcXFwiK1xcXCI6KFxcXCIrXFxcIj09PW5leHR0b2tlbi5pZHx8XFxcIisrXFxcIj09PW5leHR0b2tlbi5pZCkmJndhcm5pbmcoXFxcIkNvbmZ1c2luZyBwbHVzc2VzLlxcXCIpfWZvcigoXFxcIihzdHJpbmcpXFxcIj09PXRva2VuLnR5cGV8fHRva2VuLmlkZW50aWZpZXIpJiYoYW5vbm5hbWU9dG9rZW4udmFsdWUpLGlkJiZuZXh0dG9rZW4uaWQhPT1pZCYmKHQ/XFxcIihlbmQpXFxcIj09PW5leHR0b2tlbi5pZD93YXJuaW5nKFxcXCJVbm1hdGNoZWQgJ3thfScuXFxcIix0LHQuaWQpOndhcm5pbmcoXFxcIkV4cGVjdGVkICd7YX0nIHRvIG1hdGNoICd7Yn0nIGZyb20gbGluZSB7Y30gYW5kIGluc3RlYWQgc2F3ICd7ZH0nLlxcXCIsbmV4dHRva2VuLGlkLHQuaWQsdC5saW5lLG5leHR0b2tlbi52YWx1ZSk6KFxcXCIoaWRlbnRpZmllcilcXFwiIT09bmV4dHRva2VuLnR5cGV8fG5leHR0b2tlbi52YWx1ZSE9PWlkKSYmd2FybmluZyhcXFwiRXhwZWN0ZWQgJ3thfScgYW5kIGluc3RlYWQgc2F3ICd7Yn0nLlxcXCIsbmV4dHRva2VuLGlkLG5leHR0b2tlbi52YWx1ZSkpLHByZXZ0b2tlbj10b2tlbix0b2tlbj1uZXh0dG9rZW47Oyl7aWYobmV4dHRva2VuPWxvb2thaGVhZC5zaGlmdCgpfHxsZXgudG9rZW4oKSxcXFwiKGVuZClcXFwiPT09bmV4dHRva2VuLmlkfHxcXFwiKGVycm9yKVxcXCI9PT1uZXh0dG9rZW4uaWQpcmV0dXJuO2lmKFxcXCJzcGVjaWFsXFxcIj09PW5leHR0b2tlbi50eXBlKWRvT3B0aW9uKCk7ZWxzZSBpZihcXFwiKGVuZGxpbmUpXFxcIiE9PW5leHR0b2tlbi5pZClicmVha319ZnVuY3Rpb24gZXhwcmVzc2lvbihyYnAsaW5pdGlhbCl7dmFyIGxlZnQsaXNBcnJheT0hMSxpc09iamVjdD0hMTtpZihcXFwiKGVuZClcXFwiPT09bmV4dHRva2VuLmlkJiZlcnJvcihcXFwiVW5leHBlY3RlZCBlYXJseSBlbmQgb2YgcHJvZ3JhbS5cXFwiLHRva2VuKSxhZHZhbmNlKCksaW5pdGlhbCYmKGFub25uYW1lPVxcXCJhbm9ueW1vdXNcXFwiLGZ1bmN0W1xcXCIodmVyYilcXFwiXT10b2tlbi52YWx1ZSksaW5pdGlhbD09PSEwJiZ0b2tlbi5mdWQpbGVmdD10b2tlbi5mdWQoKTtlbHNle2lmKHRva2VuLm51ZClsZWZ0PXRva2VuLm51ZCgpO2Vsc2V7aWYoXFxcIihudW1iZXIpXFxcIj09PW5leHR0b2tlbi50eXBlJiZcXFwiLlxcXCI9PT10b2tlbi5pZClyZXR1cm4gd2FybmluZyhcXFwiQSBsZWFkaW5nIGRlY2ltYWwgcG9pbnQgY2FuIGJlIGNvbmZ1c2VkIHdpdGggYSBkb3Q6ICcue2F9Jy5cXFwiLHRva2VuLG5leHR0b2tlbi52YWx1ZSksYWR2YW5jZSgpLHRva2VuO2Vycm9yKFxcXCJFeHBlY3RlZCBhbiBpZGVudGlmaWVyIGFuZCBpbnN0ZWFkIHNhdyAne2F9Jy5cXFwiLHRva2VuLHRva2VuLmlkKX1mb3IoO25leHR0b2tlbi5sYnA+cmJwOylpc0FycmF5PVxcXCJBcnJheVxcXCI9PT10b2tlbi52YWx1ZSxpc09iamVjdD1cXFwiT2JqZWN0XFxcIj09PXRva2VuLnZhbHVlLGxlZnQmJihsZWZ0LnZhbHVlfHxsZWZ0LmZpcnN0JiZsZWZ0LmZpcnN0LnZhbHVlKSYmKFxcXCJuZXdcXFwiIT09bGVmdC52YWx1ZXx8bGVmdC5maXJzdCYmbGVmdC5maXJzdC52YWx1ZSYmXFxcIi5cXFwiPT09bGVmdC5maXJzdC52YWx1ZSkmJihpc0FycmF5PSExLGxlZnQudmFsdWUhPT10b2tlbi52YWx1ZSYmKGlzT2JqZWN0PSExKSksYWR2YW5jZSgpLGlzQXJyYXkmJlxcXCIoXFxcIj09PXRva2VuLmlkJiZcXFwiKVxcXCI9PT1uZXh0dG9rZW4uaWQmJndhcm5pbmcoXFxcIlVzZSB0aGUgYXJyYXkgbGl0ZXJhbCBub3RhdGlvbiBbXS5cXFwiLHRva2VuKSxpc09iamVjdCYmXFxcIihcXFwiPT09dG9rZW4uaWQmJlxcXCIpXFxcIj09PW5leHR0b2tlbi5pZCYmd2FybmluZyhcXFwiVXNlIHRoZSBvYmplY3QgbGl0ZXJhbCBub3RhdGlvbiB7fS5cXFwiLHRva2VuKSx0b2tlbi5sZWQ/bGVmdD10b2tlbi5sZWQobGVmdCk6ZXJyb3IoXFxcIkV4cGVjdGVkIGFuIG9wZXJhdG9yIGFuZCBpbnN0ZWFkIHNhdyAne2F9Jy5cXFwiLHRva2VuLHRva2VuLmlkKX1yZXR1cm4gbGVmdH1mdW5jdGlvbiBhZGphY2VudChsZWZ0LHJpZ2h0KXtsZWZ0PWxlZnR8fHRva2VuLHJpZ2h0PXJpZ2h0fHxuZXh0dG9rZW4sb3B0aW9uLndoaXRlJiZsZWZ0LmNoYXJhY3RlciE9PXJpZ2h0LmZyb20mJmxlZnQubGluZT09PXJpZ2h0LmxpbmUmJihsZWZ0LmZyb20rPWxlZnQuY2hhcmFjdGVyLWxlZnQuZnJvbSx3YXJuaW5nKFxcXCJVbmV4cGVjdGVkIHNwYWNlIGFmdGVyICd7YX0nLlxcXCIsbGVmdCxsZWZ0LnZhbHVlKSl9ZnVuY3Rpb24gbm9icmVhayhsZWZ0LHJpZ2h0KXtsZWZ0PWxlZnR8fHRva2VuLHJpZ2h0PXJpZ2h0fHxuZXh0dG9rZW4sIW9wdGlvbi53aGl0ZXx8bGVmdC5jaGFyYWN0ZXI9PT1yaWdodC5mcm9tJiZsZWZ0LmxpbmU9PT1yaWdodC5saW5lfHx3YXJuaW5nKFxcXCJVbmV4cGVjdGVkIHNwYWNlIGJlZm9yZSAne2F9Jy5cXFwiLHJpZ2h0LHJpZ2h0LnZhbHVlKX1mdW5jdGlvbiBub3NwYWNlKGxlZnQscmlnaHQpe2xlZnQ9bGVmdHx8dG9rZW4scmlnaHQ9cmlnaHR8fG5leHR0b2tlbixvcHRpb24ud2hpdGUmJiFsZWZ0LmNvbW1lbnQmJmxlZnQubGluZT09PXJpZ2h0LmxpbmUmJmFkamFjZW50KGxlZnQscmlnaHQpfWZ1bmN0aW9uIG5vbmFkamFjZW50KGxlZnQscmlnaHQpe2lmKG9wdGlvbi53aGl0ZSl7aWYobGVmdD1sZWZ0fHx0b2tlbixyaWdodD1yaWdodHx8bmV4dHRva2VuLFxcXCI7XFxcIj09PWxlZnQudmFsdWUmJlxcXCI7XFxcIj09PXJpZ2h0LnZhbHVlKXJldHVybjtsZWZ0LmxpbmU9PT1yaWdodC5saW5lJiZsZWZ0LmNoYXJhY3Rlcj09PXJpZ2h0LmZyb20mJihsZWZ0LmZyb20rPWxlZnQuY2hhcmFjdGVyLWxlZnQuZnJvbSx3YXJuaW5nKFxcXCJNaXNzaW5nIHNwYWNlIGFmdGVyICd7YX0nLlxcXCIsbGVmdCxsZWZ0LnZhbHVlKSl9fWZ1bmN0aW9uIG5vYnJlYWtub25hZGphY2VudChsZWZ0LHJpZ2h0KXtsZWZ0PWxlZnR8fHRva2VuLHJpZ2h0PXJpZ2h0fHxuZXh0dG9rZW4sb3B0aW9uLmxheGJyZWFrfHxsZWZ0LmxpbmU9PT1yaWdodC5saW5lP29wdGlvbi53aGl0ZSYmKGxlZnQ9bGVmdHx8dG9rZW4scmlnaHQ9cmlnaHR8fG5leHR0b2tlbixsZWZ0LmNoYXJhY3Rlcj09PXJpZ2h0LmZyb20mJihsZWZ0LmZyb20rPWxlZnQuY2hhcmFjdGVyLWxlZnQuZnJvbSx3YXJuaW5nKFxcXCJNaXNzaW5nIHNwYWNlIGFmdGVyICd7YX0nLlxcXCIsbGVmdCxsZWZ0LnZhbHVlKSkpOndhcm5pbmcoXFxcIkJhZCBsaW5lIGJyZWFraW5nIGJlZm9yZSAne2F9Jy5cXFwiLHJpZ2h0LHJpZ2h0LmlkKX1mdW5jdGlvbiBpbmRlbnRhdGlvbihiaWFzKXt2YXIgaTtvcHRpb24ud2hpdGUmJlxcXCIoZW5kKVxcXCIhPT1uZXh0dG9rZW4uaWQmJihpPWluZGVudCsoYmlhc3x8MCksbmV4dHRva2VuLmZyb20hPT1pJiZ3YXJuaW5nKFxcXCJFeHBlY3RlZCAne2F9JyB0byBoYXZlIGFuIGluZGVudGF0aW9uIGF0IHtifSBpbnN0ZWFkIGF0IHtjfS5cXFwiLG5leHR0b2tlbixuZXh0dG9rZW4udmFsdWUsaSxuZXh0dG9rZW4uZnJvbSkpfWZ1bmN0aW9uIG5vbGluZWJyZWFrKHQpe3Q9dHx8dG9rZW4sdC5saW5lIT09bmV4dHRva2VuLmxpbmUmJndhcm5pbmcoXFxcIkxpbmUgYnJlYWtpbmcgZXJyb3IgJ3thfScuXFxcIix0LHQudmFsdWUpfWZ1bmN0aW9uIGNvbW1hKCl7dG9rZW4ubGluZSE9PW5leHR0b2tlbi5saW5lP29wdGlvbi5sYXhjb21tYXx8KGNvbW1hLmZpcnN0JiYod2FybmluZyhcXFwiQ29tbWEgd2FybmluZ3MgY2FuIGJlIHR1cm5lZCBvZmYgd2l0aCAnbGF4Y29tbWEnXFxcIiksY29tbWEuZmlyc3Q9ITEpLHdhcm5pbmcoXFxcIkJhZCBsaW5lIGJyZWFraW5nIGJlZm9yZSAne2F9Jy5cXFwiLHRva2VuLG5leHR0b2tlbi5pZCkpOiF0b2tlbi5jb21tZW50JiZ0b2tlbi5jaGFyYWN0ZXIhPT1uZXh0dG9rZW4uZnJvbSYmb3B0aW9uLndoaXRlJiYodG9rZW4uZnJvbSs9dG9rZW4uY2hhcmFjdGVyLXRva2VuLmZyb20sd2FybmluZyhcXFwiVW5leHBlY3RlZCBzcGFjZSBhZnRlciAne2F9Jy5cXFwiLHRva2VuLHRva2VuLnZhbHVlKSksYWR2YW5jZShcXFwiLFxcXCIpLG5vbmFkamFjZW50KHRva2VuLG5leHR0b2tlbil9ZnVuY3Rpb24gc3ltYm9sKHMscCl7dmFyIHg9c3ludGF4W3NdO3JldHVybiB4JiZcXFwib2JqZWN0XFxcIj09dHlwZW9mIHh8fChzeW50YXhbc109eD17aWQ6cyxsYnA6cCx2YWx1ZTpzfSkseH1mdW5jdGlvbiBkZWxpbShzKXtyZXR1cm4gc3ltYm9sKHMsMCl9ZnVuY3Rpb24gc3RtdChzLGYpe3ZhciB4PWRlbGltKHMpO3JldHVybiB4LmlkZW50aWZpZXI9eC5yZXNlcnZlZD0hMCx4LmZ1ZD1mLHh9ZnVuY3Rpb24gYmxvY2tzdG10KHMsZil7dmFyIHg9c3RtdChzLGYpO3JldHVybiB4LmJsb2NrPSEwLHh9ZnVuY3Rpb24gcmVzZXJ2ZU5hbWUoeCl7dmFyIGM9eC5pZC5jaGFyQXQoMCk7cmV0dXJuKGM+PVxcXCJhXFxcIiYmXFxcInpcXFwiPj1jfHxjPj1cXFwiQVxcXCImJlxcXCJaXFxcIj49YykmJih4LmlkZW50aWZpZXI9eC5yZXNlcnZlZD0hMCkseH1mdW5jdGlvbiBwcmVmaXgocyxmKXt2YXIgeD1zeW1ib2wocywxNTApO3JldHVybiByZXNlcnZlTmFtZSh4KSx4Lm51ZD1cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgZj9mOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmlnaHQ9ZXhwcmVzc2lvbigxNTApLHRoaXMuYXJpdHk9XFxcInVuYXJ5XFxcIiwoXFxcIisrXFxcIj09PXRoaXMuaWR8fFxcXCItLVxcXCI9PT10aGlzLmlkKSYmKG9wdGlvbi5wbHVzcGx1cz93YXJuaW5nKFxcXCJVbmV4cGVjdGVkIHVzZSBvZiAne2F9Jy5cXFwiLHRoaXMsdGhpcy5pZCk6dGhpcy5yaWdodC5pZGVudGlmaWVyJiYhdGhpcy5yaWdodC5yZXNlcnZlZHx8XFxcIi5cXFwiPT09dGhpcy5yaWdodC5pZHx8XFxcIltcXFwiPT09dGhpcy5yaWdodC5pZHx8d2FybmluZyhcXFwiQmFkIG9wZXJhbmQuXFxcIix0aGlzKSksdGhpc30seH1mdW5jdGlvbiB0eXBlKHMsZil7dmFyIHg9ZGVsaW0ocyk7cmV0dXJuIHgudHlwZT1zLHgubnVkPWYseH1mdW5jdGlvbiByZXNlcnZlKHMsZil7dmFyIHg9dHlwZShzLGYpO3JldHVybiB4LmlkZW50aWZpZXI9eC5yZXNlcnZlZD0hMCx4fWZ1bmN0aW9uIHJlc2VydmV2YXIocyx2KXtyZXR1cm4gcmVzZXJ2ZShzLGZ1bmN0aW9uKCl7cmV0dXJuXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIHYmJnYodGhpcyksdGhpc30pfWZ1bmN0aW9uIGluZml4KHMsZixwLHcpe3ZhciB4PXN5bWJvbChzLHApO3JldHVybiByZXNlcnZlTmFtZSh4KSx4LmxlZD1mdW5jdGlvbihsZWZ0KXtyZXR1cm4gd3x8KG5vYnJlYWtub25hZGphY2VudChwcmV2dG9rZW4sdG9rZW4pLG5vbmFkamFjZW50KHRva2VuLG5leHR0b2tlbikpLFxcXCJpblxcXCI9PT1zJiZcXFwiIVxcXCI9PT1sZWZ0LmlkJiZ3YXJuaW5nKFxcXCJDb25mdXNpbmcgdXNlIG9mICd7YX0nLlxcXCIsbGVmdCxcXFwiIVxcXCIpLFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBmP2YobGVmdCx0aGlzKToodGhpcy5sZWZ0PWxlZnQsdGhpcy5yaWdodD1leHByZXNzaW9uKHApLHRoaXMpfSx4fWZ1bmN0aW9uIHJlbGF0aW9uKHMsZil7dmFyIHg9c3ltYm9sKHMsMTAwKTtyZXR1cm4geC5sZWQ9ZnVuY3Rpb24obGVmdCl7bm9icmVha25vbmFkamFjZW50KHByZXZ0b2tlbix0b2tlbiksbm9uYWRqYWNlbnQodG9rZW4sbmV4dHRva2VuKTt2YXIgcmlnaHQ9ZXhwcmVzc2lvbigxMDApO3JldHVybiBpc0lkZW50aWZpZXIobGVmdCxcXFwiTmFOXFxcIil8fGlzSWRlbnRpZmllcihyaWdodCxcXFwiTmFOXFxcIik/d2FybmluZyhcXFwiVXNlIHRoZSBpc05hTiBmdW5jdGlvbiB0byBjb21wYXJlIHdpdGggTmFOLlxcXCIsdGhpcyk6ZiYmZi5hcHBseSh0aGlzLFtsZWZ0LHJpZ2h0XSksXFxcIiFcXFwiPT09bGVmdC5pZCYmd2FybmluZyhcXFwiQ29uZnVzaW5nIHVzZSBvZiAne2F9Jy5cXFwiLGxlZnQsXFxcIiFcXFwiKSxcXFwiIVxcXCI9PT1yaWdodC5pZCYmd2FybmluZyhcXFwiQ29uZnVzaW5nIHVzZSBvZiAne2F9Jy5cXFwiLHJpZ2h0LFxcXCIhXFxcIiksdGhpcy5sZWZ0PWxlZnQsdGhpcy5yaWdodD1yaWdodCx0aGlzfSx4fWZ1bmN0aW9uIGlzUG9vclJlbGF0aW9uKG5vZGUpe3JldHVybiBub2RlJiYoXFxcIihudW1iZXIpXFxcIj09PW5vZGUudHlwZSYmMD09PStub2RlLnZhbHVlfHxcXFwiKHN0cmluZylcXFwiPT09bm9kZS50eXBlJiZcXFwiXFxcIj09PW5vZGUudmFsdWV8fFxcXCJudWxsXFxcIj09PW5vZGUudHlwZSYmIW9wdGlvbi5lcW51bGx8fFxcXCJ0cnVlXFxcIj09PW5vZGUudHlwZXx8XFxcImZhbHNlXFxcIj09PW5vZGUudHlwZXx8XFxcInVuZGVmaW5lZFxcXCI9PT1ub2RlLnR5cGUpfWZ1bmN0aW9uIGFzc2lnbm9wKHMpe3JldHVybiBzeW1ib2wocywyMCkuZXhwcz0hMCxpbmZpeChzLGZ1bmN0aW9uKGxlZnQsdGhhdCl7aWYodGhhdC5sZWZ0PWxlZnQscHJlZGVmaW5lZFtsZWZ0LnZhbHVlXT09PSExJiZzY29wZVtsZWZ0LnZhbHVlXVtcXFwiKGdsb2JhbClcXFwiXT09PSEwP3dhcm5pbmcoXFxcIlJlYWQgb25seS5cXFwiLGxlZnQpOmxlZnRbXFxcImZ1bmN0aW9uXFxcIl0mJndhcm5pbmcoXFxcIid7YX0nIGlzIGEgZnVuY3Rpb24uXFxcIixsZWZ0LGxlZnQudmFsdWUpLGxlZnQpe2lmKG9wdGlvbi5lc25leHQmJlxcXCJjb25zdFxcXCI9PT1mdW5jdFtsZWZ0LnZhbHVlXSYmd2FybmluZyhcXFwiQXR0ZW1wdGluZyB0byBvdmVycmlkZSAne2F9JyB3aGljaCBpcyBhIGNvbnN0YW50XFxcIixsZWZ0LGxlZnQudmFsdWUpLFxcXCIuXFxcIj09PWxlZnQuaWR8fFxcXCJbXFxcIj09PWxlZnQuaWQpcmV0dXJuIGxlZnQubGVmdCYmXFxcImFyZ3VtZW50c1xcXCIhPT1sZWZ0LmxlZnQudmFsdWV8fHdhcm5pbmcoXFxcIkJhZCBhc3NpZ25tZW50LlxcXCIsdGhhdCksdGhhdC5yaWdodD1leHByZXNzaW9uKDE5KSx0aGF0O2lmKGxlZnQuaWRlbnRpZmllciYmIWxlZnQucmVzZXJ2ZWQpcmV0dXJuXFxcImV4Y2VwdGlvblxcXCI9PT1mdW5jdFtsZWZ0LnZhbHVlXSYmd2FybmluZyhcXFwiRG8gbm90IGFzc2lnbiB0byB0aGUgZXhjZXB0aW9uIHBhcmFtZXRlci5cXFwiLGxlZnQpLHRoYXQucmlnaHQ9ZXhwcmVzc2lvbigxOSksdGhhdDtsZWZ0PT09c3ludGF4W1xcXCJmdW5jdGlvblxcXCJdJiZ3YXJuaW5nKFxcXCJFeHBlY3RlZCBhbiBpZGVudGlmaWVyIGluIGFuIGFzc2lnbm1lbnQgYW5kIGluc3RlYWQgc2F3IGEgZnVuY3Rpb24gaW52b2NhdGlvbi5cXFwiLHRva2VuKX1lcnJvcihcXFwiQmFkIGFzc2lnbm1lbnQuXFxcIix0aGF0KX0sMjApfWZ1bmN0aW9uIGJpdHdpc2UocyxmLHApe3ZhciB4PXN5bWJvbChzLHApO3JldHVybiByZXNlcnZlTmFtZSh4KSx4LmxlZD1cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgZj9mOmZ1bmN0aW9uKGxlZnQpe3JldHVybiBvcHRpb24uYml0d2lzZSYmd2FybmluZyhcXFwiVW5leHBlY3RlZCB1c2Ugb2YgJ3thfScuXFxcIix0aGlzLHRoaXMuaWQpLHRoaXMubGVmdD1sZWZ0LHRoaXMucmlnaHQ9ZXhwcmVzc2lvbihwKSx0aGlzfSx4fWZ1bmN0aW9uIGJpdHdpc2Vhc3NpZ25vcChzKXtyZXR1cm4gc3ltYm9sKHMsMjApLmV4cHM9ITAsaW5maXgocyxmdW5jdGlvbihsZWZ0LHRoYXQpe3JldHVybiBvcHRpb24uYml0d2lzZSYmd2FybmluZyhcXFwiVW5leHBlY3RlZCB1c2Ugb2YgJ3thfScuXFxcIix0aGF0LHRoYXQuaWQpLG5vbmFkamFjZW50KHByZXZ0b2tlbix0b2tlbiksbm9uYWRqYWNlbnQodG9rZW4sbmV4dHRva2VuKSxsZWZ0P1xcXCIuXFxcIj09PWxlZnQuaWR8fFxcXCJbXFxcIj09PWxlZnQuaWR8fGxlZnQuaWRlbnRpZmllciYmIWxlZnQucmVzZXJ2ZWQ/KGV4cHJlc3Npb24oMTkpLHRoYXQpOihsZWZ0PT09c3ludGF4W1xcXCJmdW5jdGlvblxcXCJdJiZ3YXJuaW5nKFxcXCJFeHBlY3RlZCBhbiBpZGVudGlmaWVyIGluIGFuIGFzc2lnbm1lbnQsIGFuZCBpbnN0ZWFkIHNhdyBhIGZ1bmN0aW9uIGludm9jYXRpb24uXFxcIix0b2tlbiksdGhhdCk6KGVycm9yKFxcXCJCYWQgYXNzaWdubWVudC5cXFwiLHRoYXQpLHZvaWQgMCl9LDIwKX1mdW5jdGlvbiBzdWZmaXgocyl7dmFyIHg9c3ltYm9sKHMsMTUwKTtyZXR1cm4geC5sZWQ9ZnVuY3Rpb24obGVmdCl7cmV0dXJuIG9wdGlvbi5wbHVzcGx1cz93YXJuaW5nKFxcXCJVbmV4cGVjdGVkIHVzZSBvZiAne2F9Jy5cXFwiLHRoaXMsdGhpcy5pZCk6bGVmdC5pZGVudGlmaWVyJiYhbGVmdC5yZXNlcnZlZHx8XFxcIi5cXFwiPT09bGVmdC5pZHx8XFxcIltcXFwiPT09bGVmdC5pZHx8d2FybmluZyhcXFwiQmFkIG9wZXJhbmQuXFxcIix0aGlzKSx0aGlzLmxlZnQ9bGVmdCx0aGlzfSx4fWZ1bmN0aW9uIG9wdGlvbmFsaWRlbnRpZmllcihmbnBhcmFtKXtyZXR1cm4gbmV4dHRva2VuLmlkZW50aWZpZXI/KGFkdmFuY2UoKSx0b2tlbi5yZXNlcnZlZCYmIW9wdGlvbi5lczUmJihmbnBhcmFtJiZcXFwidW5kZWZpbmVkXFxcIj09PXRva2VuLnZhbHVlfHx3YXJuaW5nKFxcXCJFeHBlY3RlZCBhbiBpZGVudGlmaWVyIGFuZCBpbnN0ZWFkIHNhdyAne2F9JyAoYSByZXNlcnZlZCB3b3JkKS5cXFwiLHRva2VuLHRva2VuLmlkKSksdG9rZW4udmFsdWUpOnZvaWQgMH1mdW5jdGlvbiBpZGVudGlmaWVyKGZucGFyYW0pe3ZhciBpPW9wdGlvbmFsaWRlbnRpZmllcihmbnBhcmFtKTtyZXR1cm4gaT9pOihcXFwiZnVuY3Rpb25cXFwiPT09dG9rZW4uaWQmJlxcXCIoXFxcIj09PW5leHR0b2tlbi5pZD93YXJuaW5nKFxcXCJNaXNzaW5nIG5hbWUgaW4gZnVuY3Rpb24gZGVjbGFyYXRpb24uXFxcIik6ZXJyb3IoXFxcIkV4cGVjdGVkIGFuIGlkZW50aWZpZXIgYW5kIGluc3RlYWQgc2F3ICd7YX0nLlxcXCIsbmV4dHRva2VuLG5leHR0b2tlbi52YWx1ZSksdm9pZCAwKX1mdW5jdGlvbiByZWFjaGFibGUocyl7dmFyIHQsaT0wO2lmKFxcXCI7XFxcIj09PW5leHR0b2tlbi5pZCYmIW5vcmVhY2gpZm9yKDs7KXtpZih0PXBlZWsoaSksdC5yZWFjaClyZXR1cm47aWYoXFxcIihlbmRsaW5lKVxcXCIhPT10LmlkKXtpZihcXFwiZnVuY3Rpb25cXFwiPT09dC5pZCl7aWYoIW9wdGlvbi5sYXRlZGVmKWJyZWFrO3dhcm5pbmcoXFxcIklubmVyIGZ1bmN0aW9ucyBzaG91bGQgYmUgbGlzdGVkIGF0IHRoZSB0b3Agb2YgdGhlIG91dGVyIGZ1bmN0aW9uLlxcXCIsdCk7YnJlYWt9d2FybmluZyhcXFwiVW5yZWFjaGFibGUgJ3thfScgYWZ0ZXIgJ3tifScuXFxcIix0LHQudmFsdWUscyk7YnJlYWt9aSs9MX19ZnVuY3Rpb24gc3RhdGVtZW50KG5vaW5kZW50KXt2YXIgcixpPWluZGVudCxzPXNjb3BlLHQ9bmV4dHRva2VuO2lmKFxcXCI7XFxcIj09PXQuaWQpcmV0dXJuIGFkdmFuY2UoXFxcIjtcXFwiKSx2b2lkIDA7aWYodC5pZGVudGlmaWVyJiYhdC5yZXNlcnZlZCYmXFxcIjpcXFwiPT09cGVlaygpLmlkJiYoYWR2YW5jZSgpLGFkdmFuY2UoXFxcIjpcXFwiKSxzY29wZT1PYmplY3QuY3JlYXRlKHMpLGFkZGxhYmVsKHQudmFsdWUsXFxcImxhYmVsXFxcIiksbmV4dHRva2VuLmxhYmVsbGVkfHxcXFwie1xcXCI9PT1uZXh0dG9rZW4udmFsdWV8fHdhcm5pbmcoXFxcIkxhYmVsICd7YX0nIG9uIHtifSBzdGF0ZW1lbnQuXFxcIixuZXh0dG9rZW4sdC52YWx1ZSxuZXh0dG9rZW4udmFsdWUpLGp4LnRlc3QodC52YWx1ZStcXFwiOlxcXCIpJiZ3YXJuaW5nKFxcXCJMYWJlbCAne2F9JyBsb29rcyBsaWtlIGEgamF2YXNjcmlwdCB1cmwuXFxcIix0LHQudmFsdWUpLG5leHR0b2tlbi5sYWJlbD10LnZhbHVlLHQ9bmV4dHRva2VuKSxcXFwie1xcXCI9PT10LmlkKXJldHVybiBibG9jayghMCwhMCksdm9pZCAwO2lmKG5vaW5kZW50fHxpbmRlbnRhdGlvbigpLHI9ZXhwcmVzc2lvbigwLCEwKSwhdC5ibG9jayl7aWYob3B0aW9uLmV4cHJ8fHImJnIuZXhwcz9vcHRpb24ubm9uZXcmJlxcXCIoXFxcIj09PXIuaWQmJlxcXCJuZXdcXFwiPT09ci5sZWZ0LmlkJiZ3YXJuaW5nKFxcXCJEbyBub3QgdXNlICduZXcnIGZvciBzaWRlIGVmZmVjdHMuXFxcIix0KTp3YXJuaW5nKFxcXCJFeHBlY3RlZCBhbiBhc3NpZ25tZW50IG9yIGZ1bmN0aW9uIGNhbGwgYW5kIGluc3RlYWQgc2F3IGFuIGV4cHJlc3Npb24uXFxcIix0b2tlbiksXFxcIixcXFwiPT09bmV4dHRva2VuLmlkKXJldHVybiBjb21tYSgpO1xcXCI7XFxcIiE9PW5leHR0b2tlbi5pZD9vcHRpb24uYXNpfHxvcHRpb24ubGFzdHNlbWljJiZcXFwifVxcXCI9PT1uZXh0dG9rZW4uaWQmJm5leHR0b2tlbi5saW5lPT09dG9rZW4ubGluZXx8d2FybmluZ0F0KFxcXCJNaXNzaW5nIHNlbWljb2xvbi5cXFwiLHRva2VuLmxpbmUsdG9rZW4uY2hhcmFjdGVyKTooYWRqYWNlbnQodG9rZW4sbmV4dHRva2VuKSxhZHZhbmNlKFxcXCI7XFxcIiksbm9uYWRqYWNlbnQodG9rZW4sbmV4dHRva2VuKSl9cmV0dXJuIGluZGVudD1pLHNjb3BlPXMscn1mdW5jdGlvbiBzdGF0ZW1lbnRzKHN0YXJ0TGluZSl7Zm9yKHZhciBwLGE9W107IW5leHR0b2tlbi5yZWFjaCYmXFxcIihlbmQpXFxcIiE9PW5leHR0b2tlbi5pZDspXFxcIjtcXFwiPT09bmV4dHRva2VuLmlkPyhwPXBlZWsoKSxwJiZcXFwiKFxcXCI9PT1wLmlkfHx3YXJuaW5nKFxcXCJVbm5lY2Vzc2FyeSBzZW1pY29sb24uXFxcIiksYWR2YW5jZShcXFwiO1xcXCIpKTphLnB1c2goc3RhdGVtZW50KHN0YXJ0TGluZT09PW5leHR0b2tlbi5saW5lKSk7cmV0dXJuIGF9ZnVuY3Rpb24gZGlyZWN0aXZlcygpe2Zvcih2YXIgaSxwLHBuO1xcXCIoc3RyaW5nKVxcXCI9PT1uZXh0dG9rZW4uaWQ7KXtpZihwPXBlZWsoMCksXFxcIihlbmRsaW5lKVxcXCI9PT1wLmlkKXtpPTE7ZG8gcG49cGVlayhpKSxpKz0xO3doaWxlKFxcXCIoZW5kbGluZSlcXFwiPT09cG4uaWQpO2lmKFxcXCI7XFxcIiE9PXBuLmlkKXtpZihcXFwiKHN0cmluZylcXFwiIT09cG4uaWQmJlxcXCIobnVtYmVyKVxcXCIhPT1wbi5pZCYmXFxcIihyZWdleHApXFxcIiE9PXBuLmlkJiZwbi5pZGVudGlmaWVyIT09ITAmJlxcXCJ9XFxcIiE9PXBuLmlkKWJyZWFrO3dhcm5pbmcoXFxcIk1pc3Npbmcgc2VtaWNvbG9uLlxcXCIsbmV4dHRva2VuKX1lbHNlIHA9cG59ZWxzZSBpZihcXFwifVxcXCI9PT1wLmlkKXdhcm5pbmcoXFxcIk1pc3Npbmcgc2VtaWNvbG9uLlxcXCIscCk7ZWxzZSBpZihcXFwiO1xcXCIhPT1wLmlkKWJyZWFrO2luZGVudGF0aW9uKCksYWR2YW5jZSgpLGRpcmVjdGl2ZVt0b2tlbi52YWx1ZV0mJndhcm5pbmcoJ1VubmVjZXNzYXJ5IGRpcmVjdGl2ZSBcXFwie2F9XFxcIi4nLHRva2VuLHRva2VuLnZhbHVlKSxcXFwidXNlIHN0cmljdFxcXCI9PT10b2tlbi52YWx1ZSYmKG9wdGlvbltcXFwiKGV4cGxpY2l0TmV3Y2FwKVxcXCJdfHwob3B0aW9uLm5ld2NhcD0hMCksb3B0aW9uLnVuZGVmPSEwKSxkaXJlY3RpdmVbdG9rZW4udmFsdWVdPSEwLFxcXCI7XFxcIj09PXAuaWQmJmFkdmFuY2UoXFxcIjtcXFwiKX19ZnVuY3Rpb24gYmxvY2sob3JkaW5hcnksc3RtdCxpc2Z1bmMpe3ZhciBhLG0sdCxsaW5lLGQsYj1pbmJsb2NrLG9sZF9pbmRlbnQ9aW5kZW50LHM9c2NvcGU7aW5ibG9jaz1vcmRpbmFyeSxvcmRpbmFyeSYmb3B0aW9uLmZ1bmNzY29wZXx8KHNjb3BlPU9iamVjdC5jcmVhdGUoc2NvcGUpKSxub25hZGphY2VudCh0b2tlbixuZXh0dG9rZW4pLHQ9bmV4dHRva2VuO3ZhciBtZXRyaWNzPWZ1bmN0W1xcXCIobWV0cmljcylcXFwiXTtpZihtZXRyaWNzLm5lc3RlZEJsb2NrRGVwdGgrPTEsbWV0cmljcy52ZXJpZnlNYXhOZXN0ZWRCbG9ja0RlcHRoUGVyRnVuY3Rpb24oKSxcXFwie1xcXCI9PT1uZXh0dG9rZW4uaWQpe2lmKGFkdmFuY2UoXFxcIntcXFwiKSxsaW5lPXRva2VuLmxpbmUsXFxcIn1cXFwiIT09bmV4dHRva2VuLmlkKXtmb3IoaW5kZW50Kz1vcHRpb24uaW5kZW50OyFvcmRpbmFyeSYmbmV4dHRva2VuLmZyb20+aW5kZW50OylpbmRlbnQrPW9wdGlvbi5pbmRlbnQ7aWYoaXNmdW5jKXttPXt9O2ZvcihkIGluIGRpcmVjdGl2ZSlpc19vd24oZGlyZWN0aXZlLGQpJiYobVtkXT1kaXJlY3RpdmVbZF0pO2RpcmVjdGl2ZXMoKSxvcHRpb24uc3RyaWN0JiZmdW5jdFtcXFwiKGNvbnRleHQpXFxcIl1bXFxcIihnbG9iYWwpXFxcIl0mJihtW1xcXCJ1c2Ugc3RyaWN0XFxcIl18fGRpcmVjdGl2ZVtcXFwidXNlIHN0cmljdFxcXCJdfHx3YXJuaW5nKCdNaXNzaW5nIFxcXCJ1c2Ugc3RyaWN0XFxcIiBzdGF0ZW1lbnQuJykpfWE9c3RhdGVtZW50cyhsaW5lKSxtZXRyaWNzLnN0YXRlbWVudENvdW50Kz1hLmxlbmd0aCxpc2Z1bmMmJihkaXJlY3RpdmU9bSksaW5kZW50LT1vcHRpb24uaW5kZW50LGxpbmUhPT1uZXh0dG9rZW4ubGluZSYmaW5kZW50YXRpb24oKX1lbHNlIGxpbmUhPT1uZXh0dG9rZW4ubGluZSYmaW5kZW50YXRpb24oKTthZHZhbmNlKFxcXCJ9XFxcIix0KSxpbmRlbnQ9b2xkX2luZGVudH1lbHNlIG9yZGluYXJ5PygoIXN0bXR8fG9wdGlvbi5jdXJseSkmJndhcm5pbmcoXFxcIkV4cGVjdGVkICd7YX0nIGFuZCBpbnN0ZWFkIHNhdyAne2J9Jy5cXFwiLG5leHR0b2tlbixcXFwie1xcXCIsbmV4dHRva2VuLnZhbHVlKSxub3JlYWNoPSEwLGluZGVudCs9b3B0aW9uLmluZGVudCxhPVtzdGF0ZW1lbnQobmV4dHRva2VuLmxpbmU9PT10b2tlbi5saW5lKV0saW5kZW50LT1vcHRpb24uaW5kZW50LG5vcmVhY2g9ITEpOmVycm9yKFxcXCJFeHBlY3RlZCAne2F9JyBhbmQgaW5zdGVhZCBzYXcgJ3tifScuXFxcIixuZXh0dG9rZW4sXFxcIntcXFwiLG5leHR0b2tlbi52YWx1ZSk7cmV0dXJuIGZ1bmN0W1xcXCIodmVyYilcXFwiXT1udWxsLG9yZGluYXJ5JiZvcHRpb24uZnVuY3Njb3BlfHwoc2NvcGU9cyksaW5ibG9jaz1iLCFvcmRpbmFyeXx8IW9wdGlvbi5ub2VtcHR5fHxhJiYwIT09YS5sZW5ndGh8fHdhcm5pbmcoXFxcIkVtcHR5IGJsb2NrLlxcXCIpLG1ldHJpY3MubmVzdGVkQmxvY2tEZXB0aC09MSxhfWZ1bmN0aW9uIGNvdW50TWVtYmVyKG0pe21lbWJlcnNPbmx5JiZcXFwiYm9vbGVhblxcXCIhPXR5cGVvZiBtZW1iZXJzT25seVttXSYmd2FybmluZyhcXFwiVW5leHBlY3RlZCAvKm1lbWJlciAne2F9Jy5cXFwiLHRva2VuLG0pLFxcXCJudW1iZXJcXFwiPT10eXBlb2YgbWVtYmVyW21dP21lbWJlclttXSs9MTptZW1iZXJbbV09MX1mdW5jdGlvbiBub3RlX2ltcGxpZWQodG9rZW4pe3ZhciBuYW1lPXRva2VuLnZhbHVlLGxpbmU9dG9rZW4ubGluZSxhPWltcGxpZWRbbmFtZV07XFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGEmJihhPSExKSxhP2FbYS5sZW5ndGgtMV0hPT1saW5lJiZhLnB1c2gobGluZSk6KGE9W2xpbmVdLGltcGxpZWRbbmFtZV09YSl9ZnVuY3Rpb24gcHJvcGVydHlfbmFtZSgpe3ZhciBpZD1vcHRpb25hbGlkZW50aWZpZXIoITApO3JldHVybiBpZHx8KFxcXCIoc3RyaW5nKVxcXCI9PT1uZXh0dG9rZW4uaWQ/KGlkPW5leHR0b2tlbi52YWx1ZSxhZHZhbmNlKCkpOlxcXCIobnVtYmVyKVxcXCI9PT1uZXh0dG9rZW4uaWQmJihpZD1cXFwiXFxcIituZXh0dG9rZW4udmFsdWUsYWR2YW5jZSgpKSksaWR9ZnVuY3Rpb24gZnVuY3Rpb25wYXJhbXMoKXt2YXIgaWRlbnQsbmV4dD1uZXh0dG9rZW4scGFyYW1zPVtdO2lmKGFkdmFuY2UoXFxcIihcXFwiKSxub3NwYWNlKCksXFxcIilcXFwiPT09bmV4dHRva2VuLmlkKXJldHVybiBhZHZhbmNlKFxcXCIpXFxcIiksdm9pZCAwO2Zvcig7Oyl7aWYoaWRlbnQ9aWRlbnRpZmllcighMCkscGFyYW1zLnB1c2goaWRlbnQpLGFkZGxhYmVsKGlkZW50LFxcXCJ1bnVzZWRcXFwiLHRva2VuKSxcXFwiLFxcXCIhPT1uZXh0dG9rZW4uaWQpcmV0dXJuIGFkdmFuY2UoXFxcIilcXFwiLG5leHQpLG5vc3BhY2UocHJldnRva2VuLHRva2VuKSxwYXJhbXM7Y29tbWEoKX19ZnVuY3Rpb24gZG9GdW5jdGlvbihuYW1lLHN0YXRlbWVudCl7dmFyIGYsb2xkT3B0aW9uPW9wdGlvbixvbGRTY29wZT1zY29wZTtyZXR1cm4gb3B0aW9uPU9iamVjdC5jcmVhdGUob3B0aW9uKSxzY29wZT1PYmplY3QuY3JlYXRlKHNjb3BlKSxmdW5jdD17XFxcIihuYW1lKVxcXCI6bmFtZXx8J1xcXCInK2Fub25uYW1lKydcXFwiJyxcXFwiKGxpbmUpXFxcIjpuZXh0dG9rZW4ubGluZSxcXFwiKGNoYXJhY3RlcilcXFwiOm5leHR0b2tlbi5jaGFyYWN0ZXIsXFxcIihjb250ZXh0KVxcXCI6ZnVuY3QsXFxcIihicmVha2FnZSlcXFwiOjAsXFxcIihsb29wYWdlKVxcXCI6MCxcXFwiKG1ldHJpY3MpXFxcIjpjcmVhdGVNZXRyaWNzKG5leHR0b2tlbiksXFxcIihzY29wZSlcXFwiOnNjb3BlLFxcXCIoc3RhdGVtZW50KVxcXCI6c3RhdGVtZW50LFxcXCIodG9rZW5zKVxcXCI6e319LGY9ZnVuY3QsdG9rZW4uZnVuY3Q9ZnVuY3QsZnVuY3Rpb25zLnB1c2goZnVuY3QpLG5hbWUmJmFkZGxhYmVsKG5hbWUsXFxcImZ1bmN0aW9uXFxcIiksZnVuY3RbXFxcIihwYXJhbXMpXFxcIl09ZnVuY3Rpb25wYXJhbXMoKSxmdW5jdFtcXFwiKG1ldHJpY3MpXFxcIl0udmVyaWZ5TWF4UGFyYW1ldGVyc1BlckZ1bmN0aW9uKGZ1bmN0W1xcXCIocGFyYW1zKVxcXCJdKSxibG9jayghMSwhMSwhMCksZnVuY3RbXFxcIihtZXRyaWNzKVxcXCJdLnZlcmlmeU1heFN0YXRlbWVudHNQZXJGdW5jdGlvbigpLGZ1bmN0W1xcXCIobWV0cmljcylcXFwiXS52ZXJpZnlNYXhDb21wbGV4aXR5UGVyRnVuY3Rpb24oKSxzY29wZT1vbGRTY29wZSxvcHRpb249b2xkT3B0aW9uLGZ1bmN0W1xcXCIobGFzdClcXFwiXT10b2tlbi5saW5lLGZ1bmN0W1xcXCIobGFzdGNoYXJhY3RlcilcXFwiXT10b2tlbi5jaGFyYWN0ZXIsZnVuY3Q9ZnVuY3RbXFxcIihjb250ZXh0KVxcXCJdLGZ9ZnVuY3Rpb24gY3JlYXRlTWV0cmljcyhmdW5jdGlvblN0YXJ0VG9rZW4pe3JldHVybntzdGF0ZW1lbnRDb3VudDowLG5lc3RlZEJsb2NrRGVwdGg6LTEsQ29tcGxleGl0eUNvdW50OjEsdmVyaWZ5TWF4U3RhdGVtZW50c1BlckZ1bmN0aW9uOmZ1bmN0aW9uKCl7aWYob3B0aW9uLm1heHN0YXRlbWVudHMmJnRoaXMuc3RhdGVtZW50Q291bnQ+b3B0aW9uLm1heHN0YXRlbWVudHMpe3ZhciBtZXNzYWdlPVxcXCJUb28gbWFueSBzdGF0ZW1lbnRzIHBlciBmdW5jdGlvbiAoXFxcIit0aGlzLnN0YXRlbWVudENvdW50K1xcXCIpLlxcXCI7d2FybmluZyhtZXNzYWdlLGZ1bmN0aW9uU3RhcnRUb2tlbil9fSx2ZXJpZnlNYXhQYXJhbWV0ZXJzUGVyRnVuY3Rpb246ZnVuY3Rpb24ocGFyYW1zKXtpZihwYXJhbXM9cGFyYW1zfHxbXSxvcHRpb24ubWF4cGFyYW1zJiZwYXJhbXMubGVuZ3RoPm9wdGlvbi5tYXhwYXJhbXMpe3ZhciBtZXNzYWdlPVxcXCJUb28gbWFueSBwYXJhbWV0ZXJzIHBlciBmdW5jdGlvbiAoXFxcIitwYXJhbXMubGVuZ3RoK1xcXCIpLlxcXCI7d2FybmluZyhtZXNzYWdlLGZ1bmN0aW9uU3RhcnRUb2tlbil9fSx2ZXJpZnlNYXhOZXN0ZWRCbG9ja0RlcHRoUGVyRnVuY3Rpb246ZnVuY3Rpb24oKXtpZihvcHRpb24ubWF4ZGVwdGgmJnRoaXMubmVzdGVkQmxvY2tEZXB0aD4wJiZ0aGlzLm5lc3RlZEJsb2NrRGVwdGg9PT1vcHRpb24ubWF4ZGVwdGgrMSl7dmFyIG1lc3NhZ2U9XFxcIkJsb2NrcyBhcmUgbmVzdGVkIHRvbyBkZWVwbHkgKFxcXCIrdGhpcy5uZXN0ZWRCbG9ja0RlcHRoK1xcXCIpLlxcXCI7d2FybmluZyhtZXNzYWdlKX19LHZlcmlmeU1heENvbXBsZXhpdHlQZXJGdW5jdGlvbjpmdW5jdGlvbigpe3ZhciBtYXg9b3B0aW9uLm1heGNvbXBsZXhpdHksY2M9dGhpcy5Db21wbGV4aXR5Q291bnQ7aWYobWF4JiZjYz5tYXgpe3ZhciBtZXNzYWdlPVxcXCJDeWNsb21hdGljIGNvbXBsZXhpdHkgaXMgdG9vIGhpZ2ggcGVyIGZ1bmN0aW9uIChcXFwiK2NjK1xcXCIpLlxcXCI7d2FybmluZyhtZXNzYWdlLGZ1bmN0aW9uU3RhcnRUb2tlbil9fX19ZnVuY3Rpb24gaW5jcmVhc2VDb21wbGV4aXR5Q291bnQoKXtmdW5jdFtcXFwiKG1ldHJpY3MpXFxcIl0uQ29tcGxleGl0eUNvdW50Kz0xfWZ1bmN0aW9uIGpzb25WYWx1ZSgpe2Z1bmN0aW9uIGpzb25PYmplY3QoKXt2YXIgbz17fSx0PW5leHR0b2tlbjtpZihhZHZhbmNlKFxcXCJ7XFxcIiksXFxcIn1cXFwiIT09bmV4dHRva2VuLmlkKWZvcig7Oyl7aWYoXFxcIihlbmQpXFxcIj09PW5leHR0b2tlbi5pZCllcnJvcihcXFwiTWlzc2luZyAnfScgdG8gbWF0Y2ggJ3snIGZyb20gbGluZSB7YX0uXFxcIixuZXh0dG9rZW4sdC5saW5lKTtlbHNle2lmKFxcXCJ9XFxcIj09PW5leHR0b2tlbi5pZCl7d2FybmluZyhcXFwiVW5leHBlY3RlZCBjb21tYS5cXFwiLHRva2VuKTticmVha31cXFwiLFxcXCI9PT1uZXh0dG9rZW4uaWQ/ZXJyb3IoXFxcIlVuZXhwZWN0ZWQgY29tbWEuXFxcIixuZXh0dG9rZW4pOlxcXCIoc3RyaW5nKVxcXCIhPT1uZXh0dG9rZW4uaWQmJndhcm5pbmcoXFxcIkV4cGVjdGVkIGEgc3RyaW5nIGFuZCBpbnN0ZWFkIHNhdyB7YX0uXFxcIixuZXh0dG9rZW4sbmV4dHRva2VuLnZhbHVlKX1pZihvW25leHR0b2tlbi52YWx1ZV09PT0hMD93YXJuaW5nKFxcXCJEdXBsaWNhdGUga2V5ICd7YX0nLlxcXCIsbmV4dHRva2VuLG5leHR0b2tlbi52YWx1ZSk6XFxcIl9fcHJvdG9fX1xcXCI9PT1uZXh0dG9rZW4udmFsdWUmJiFvcHRpb24ucHJvdG98fFxcXCJfX2l0ZXJhdG9yX19cXFwiPT09bmV4dHRva2VuLnZhbHVlJiYhb3B0aW9uLml0ZXJhdG9yP3dhcm5pbmcoXFxcIlRoZSAne2F9JyBrZXkgbWF5IHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxcXCIsbmV4dHRva2VuLG5leHR0b2tlbi52YWx1ZSk6b1tuZXh0dG9rZW4udmFsdWVdPSEwLGFkdmFuY2UoKSxhZHZhbmNlKFxcXCI6XFxcIiksanNvblZhbHVlKCksXFxcIixcXFwiIT09bmV4dHRva2VuLmlkKWJyZWFrO2FkdmFuY2UoXFxcIixcXFwiKX1hZHZhbmNlKFxcXCJ9XFxcIil9ZnVuY3Rpb24ganNvbkFycmF5KCl7dmFyIHQ9bmV4dHRva2VuO2lmKGFkdmFuY2UoXFxcIltcXFwiKSxcXFwiXVxcXCIhPT1uZXh0dG9rZW4uaWQpZm9yKDs7KXtpZihcXFwiKGVuZClcXFwiPT09bmV4dHRva2VuLmlkKWVycm9yKFxcXCJNaXNzaW5nICddJyB0byBtYXRjaCAnWycgZnJvbSBsaW5lIHthfS5cXFwiLG5leHR0b2tlbix0LmxpbmUpO2Vsc2V7aWYoXFxcIl1cXFwiPT09bmV4dHRva2VuLmlkKXt3YXJuaW5nKFxcXCJVbmV4cGVjdGVkIGNvbW1hLlxcXCIsdG9rZW4pO2JyZWFrfVxcXCIsXFxcIj09PW5leHR0b2tlbi5pZCYmZXJyb3IoXFxcIlVuZXhwZWN0ZWQgY29tbWEuXFxcIixuZXh0dG9rZW4pfWlmKGpzb25WYWx1ZSgpLFxcXCIsXFxcIiE9PW5leHR0b2tlbi5pZClicmVhazthZHZhbmNlKFxcXCIsXFxcIil9YWR2YW5jZShcXFwiXVxcXCIpfXN3aXRjaChuZXh0dG9rZW4uaWQpe2Nhc2VcXFwie1xcXCI6anNvbk9iamVjdCgpO2JyZWFrO2Nhc2VcXFwiW1xcXCI6anNvbkFycmF5KCk7YnJlYWs7Y2FzZVxcXCJ0cnVlXFxcIjpjYXNlXFxcImZhbHNlXFxcIjpjYXNlXFxcIm51bGxcXFwiOmNhc2VcXFwiKG51bWJlcilcXFwiOmNhc2VcXFwiKHN0cmluZylcXFwiOmFkdmFuY2UoKTticmVhaztjYXNlXFxcIi1cXFwiOmFkdmFuY2UoXFxcIi1cXFwiKSx0b2tlbi5jaGFyYWN0ZXIhPT1uZXh0dG9rZW4uZnJvbSYmd2FybmluZyhcXFwiVW5leHBlY3RlZCBzcGFjZSBhZnRlciAnLScuXFxcIix0b2tlbiksYWRqYWNlbnQodG9rZW4sbmV4dHRva2VuKSxhZHZhbmNlKFxcXCIobnVtYmVyKVxcXCIpO2JyZWFrO2RlZmF1bHQ6ZXJyb3IoXFxcIkV4cGVjdGVkIGEgSlNPTiB2YWx1ZS5cXFwiLG5leHR0b2tlbil9fXZhciBhbm9ubmFtZSxkZWNsYXJlZCxmdW5jdCxmdW5jdGlvbnMsZ2xvYmFsLGltcGxpZWQsaW5ibG9jayxpbmRlbnQsanNvbm1vZGUsbGluZXMsbG9va2FoZWFkLG1lbWJlcixtZW1iZXJzT25seSxuZXh0dG9rZW4sbm9yZWFjaCxvcHRpb24scHJlZGVmaW5lZCxwcmVyZWcscHJldnRva2VuLHF1b3RtYXJrLHNjb3BlLHN0YWNrLGRpcmVjdGl2ZSx0YWIsdG9rZW4sdW51c2Vkcyx1cmxzLHVzZUVTTmV4dFN5bnRheCx3YXJuaW5ncyxheCxjeCx0eCxueCxueGcsbHgsaXgsangsZnQsYmFuZz17XFxcIjxcXFwiOiEwLFxcXCI8PVxcXCI6ITAsXFxcIj09XFxcIjohMCxcXFwiPT09XFxcIjohMCxcXFwiIT09XFxcIjohMCxcXFwiIT1cXFwiOiEwLFxcXCI+XFxcIjohMCxcXFwiPj1cXFwiOiEwLFxcXCIrXFxcIjohMCxcXFwiLVxcXCI6ITAsXFxcIipcXFwiOiEwLFxcXCIvXFxcIjohMCxcXFwiJVxcXCI6ITB9LGJvb2xPcHRpb25zPXthc2k6ITAsYml0d2lzZTohMCxib3NzOiEwLGJyb3dzZXI6ITAsY2FtZWxjYXNlOiEwLGNvdWNoOiEwLGN1cmx5OiEwLGRlYnVnOiEwLGRldmVsOiEwLGRvam86ITAsZXFlcWVxOiEwLGVxbnVsbDohMCxlczU6ITAsZXNuZXh0OiEwLGV2aWw6ITAsZXhwcjohMCxmb3JpbjohMCxmdW5jc2NvcGU6ITAsZ2xvYmFsc3RyaWN0OiEwLGltbWVkOiEwLGl0ZXJhdG9yOiEwLGpxdWVyeTohMCxsYXN0c2VtaWM6ITAsbGF0ZWRlZjohMCxsYXhicmVhazohMCxsYXhjb21tYTohMCxsb29wZnVuYzohMCxtb290b29sczohMCxtdWx0aXN0cjohMCxuZXdjYXA6ITAsbm9hcmc6ITAsbm9kZTohMCxub2VtcHR5OiEwLG5vbmV3OiEwLG5vbnN0YW5kYXJkOiEwLG5vbWVuOiEwLG9uZXZhcjohMCxvbmVjYXNlOiEwLHBhc3NmYWlsOiEwLHBsdXNwbHVzOiEwLHByb3RvOiEwLHByb3RvdHlwZWpzOiEwLHJlZ2V4ZGFzaDohMCxyZWdleHA6ITAscmhpbm86ITAsdW5kZWY6ITAsdW51c2VkOiEwLHNjcmlwdHVybDohMCxzaGFkb3c6ITAsc21hcnR0YWJzOiEwLHN0cmljdDohMCxzdWI6ITAsc3VwZXJuZXc6ITAsdHJhaWxpbmc6ITAsdmFsaWR0aGlzOiEwLHdpdGhzdG10OiEwLHdoaXRlOiEwLHdvcmtlcjohMCx3c2g6ITAseXVpOiEwfSx2YWxPcHRpb25zPXttYXhsZW46ITEsaW5kZW50OiExLG1heGVycjohMSxwcmVkZWY6ITEscXVvdG1hcms6ITEsc2NvcGU6ITEsbWF4c3RhdGVtZW50czohMSxtYXhkZXB0aDohMSxtYXhwYXJhbXM6ITEsbWF4Y29tcGxleGl0eTohMX0saW52ZXJ0ZWRPcHRpb25zPXtiaXR3aXNlOiEwLGZvcmluOiEwLG5ld2NhcDohMCxub21lbjohMCxwbHVzcGx1czohMCxyZWdleHA6ITAsdW5kZWY6ITAsd2hpdGU6ITAsZXFlcWVxOiEwLG9uZXZhcjohMH0scmVuYW1lZE9wdGlvbnM9e2VxZXE6XFxcImVxZXFlcVxcXCIsdmFyczpcXFwib25ldmFyXFxcIix3aW5kb3dzOlxcXCJ3c2hcXFwifSxicm93c2VyPXtBcnJheUJ1ZmZlcjohMSxBcnJheUJ1ZmZlclZpZXc6ITEsQXVkaW86ITEsQmxvYjohMSxhZGRFdmVudExpc3RlbmVyOiExLGFwcGxpY2F0aW9uQ2FjaGU6ITEsYXRvYjohMSxibHVyOiExLGJ0b2E6ITEsY2xlYXJJbnRlcnZhbDohMSxjbGVhclRpbWVvdXQ6ITEsY2xvc2U6ITEsY2xvc2VkOiExLERhdGFWaWV3OiExLERPTVBhcnNlcjohMSxkZWZhdWx0U3RhdHVzOiExLGRvY3VtZW50OiExLGV2ZW50OiExLEZpbGVSZWFkZXI6ITEsRmxvYXQzMkFycmF5OiExLEZsb2F0NjRBcnJheTohMSxGb3JtRGF0YTohMSxmb2N1czohMSxmcmFtZXM6ITEsZ2V0Q29tcHV0ZWRTdHlsZTohMSxIVE1MRWxlbWVudDohMSxIVE1MQW5jaG9yRWxlbWVudDohMSxIVE1MQmFzZUVsZW1lbnQ6ITEsSFRNTEJsb2NrcXVvdGVFbGVtZW50OiExLEhUTUxCb2R5RWxlbWVudDohMSxIVE1MQlJFbGVtZW50OiExLEhUTUxCdXR0b25FbGVtZW50OiExLEhUTUxDYW52YXNFbGVtZW50OiExLEhUTUxEaXJlY3RvcnlFbGVtZW50OiExLEhUTUxEaXZFbGVtZW50OiExLEhUTUxETGlzdEVsZW1lbnQ6ITEsSFRNTEZpZWxkU2V0RWxlbWVudDohMSxIVE1MRm9udEVsZW1lbnQ6ITEsSFRNTEZvcm1FbGVtZW50OiExLEhUTUxGcmFtZUVsZW1lbnQ6ITEsSFRNTEZyYW1lU2V0RWxlbWVudDohMSxIVE1MSGVhZEVsZW1lbnQ6ITEsSFRNTEhlYWRpbmdFbGVtZW50OiExLEhUTUxIUkVsZW1lbnQ6ITEsSFRNTEh0bWxFbGVtZW50OiExLEhUTUxJRnJhbWVFbGVtZW50OiExLEhUTUxJbWFnZUVsZW1lbnQ6ITEsSFRNTElucHV0RWxlbWVudDohMSxIVE1MSXNJbmRleEVsZW1lbnQ6ITEsSFRNTExhYmVsRWxlbWVudDohMSxIVE1MTGF5ZXJFbGVtZW50OiExLEhUTUxMZWdlbmRFbGVtZW50OiExLEhUTUxMSUVsZW1lbnQ6ITEsSFRNTExpbmtFbGVtZW50OiExLEhUTUxNYXBFbGVtZW50OiExLEhUTUxNZW51RWxlbWVudDohMSxIVE1MTWV0YUVsZW1lbnQ6ITEsSFRNTE1vZEVsZW1lbnQ6ITEsSFRNTE9iamVjdEVsZW1lbnQ6ITEsSFRNTE9MaXN0RWxlbWVudDohMSxIVE1MT3B0R3JvdXBFbGVtZW50OiExLEhUTUxPcHRpb25FbGVtZW50OiExLEhUTUxQYXJhZ3JhcGhFbGVtZW50OiExLEhUTUxQYXJhbUVsZW1lbnQ6ITEsSFRNTFByZUVsZW1lbnQ6ITEsSFRNTFF1b3RlRWxlbWVudDohMSxIVE1MU2NyaXB0RWxlbWVudDohMSxIVE1MU2VsZWN0RWxlbWVudDohMSxIVE1MU3R5bGVFbGVtZW50OiExLEhUTUxUYWJsZUNhcHRpb25FbGVtZW50OiExLEhUTUxUYWJsZUNlbGxFbGVtZW50OiExLEhUTUxUYWJsZUNvbEVsZW1lbnQ6ITEsSFRNTFRhYmxlRWxlbWVudDohMSxIVE1MVGFibGVSb3dFbGVtZW50OiExLEhUTUxUYWJsZVNlY3Rpb25FbGVtZW50OiExLEhUTUxUZXh0QXJlYUVsZW1lbnQ6ITEsSFRNTFRpdGxlRWxlbWVudDohMSxIVE1MVUxpc3RFbGVtZW50OiExLEhUTUxWaWRlb0VsZW1lbnQ6ITEsaGlzdG9yeTohMSxJbnQxNkFycmF5OiExLEludDMyQXJyYXk6ITEsSW50OEFycmF5OiExLEltYWdlOiExLGxlbmd0aDohMSxsb2NhbFN0b3JhZ2U6ITEsbG9jYXRpb246ITEsTWVzc2FnZUNoYW5uZWw6ITEsTWVzc2FnZUV2ZW50OiExLE1lc3NhZ2VQb3J0OiExLG1vdmVCeTohMSxtb3ZlVG86ITEsTXV0YXRpb25PYnNlcnZlcjohMSxuYW1lOiExLE5vZGU6ITEsTm9kZUZpbHRlcjohMSxuYXZpZ2F0b3I6ITEsb25iZWZvcmV1bmxvYWQ6ITAsb25ibHVyOiEwLG9uZXJyb3I6ITAsb25mb2N1czohMCxvbmxvYWQ6ITAsb25yZXNpemU6ITAsb251bmxvYWQ6ITAsb3BlbjohMSxvcGVuRGF0YWJhc2U6ITEsb3BlbmVyOiExLE9wdGlvbjohMSxwYXJlbnQ6ITEscHJpbnQ6ITEscmVtb3ZlRXZlbnRMaXN0ZW5lcjohMSxyZXNpemVCeTohMSxyZXNpemVUbzohMSxzY3JlZW46ITEsc2Nyb2xsOiExLHNjcm9sbEJ5OiExLHNjcm9sbFRvOiExLHNlc3Npb25TdG9yYWdlOiExLHNldEludGVydmFsOiExLHNldFRpbWVvdXQ6ITEsU2hhcmVkV29ya2VyOiExLHN0YXR1czohMSx0b3A6ITEsVWludDE2QXJyYXk6ITEsVWludDMyQXJyYXk6ITEsVWludDhBcnJheTohMSxXZWJTb2NrZXQ6ITEsd2luZG93OiExLFdvcmtlcjohMSxYTUxIdHRwUmVxdWVzdDohMSxYTUxTZXJpYWxpemVyOiExLFhQYXRoRXZhbHVhdG9yOiExLFhQYXRoRXhjZXB0aW9uOiExLFhQYXRoRXhwcmVzc2lvbjohMSxYUGF0aE5hbWVzcGFjZTohMSxYUGF0aE5TUmVzb2x2ZXI6ITEsWFBhdGhSZXN1bHQ6ITF9LGNvdWNoPXtyZXF1aXJlOiExLHJlc3BvbmQ6ITEsZ2V0Um93OiExLGVtaXQ6ITEsc2VuZDohMSxzdGFydDohMSxzdW06ITEsbG9nOiExLGV4cG9ydHM6ITEsbW9kdWxlOiExLHByb3ZpZGVzOiExfSxkZXZlbD17YWxlcnQ6ITEsY29uZmlybTohMSxjb25zb2xlOiExLERlYnVnOiExLG9wZXJhOiExLHByb21wdDohMX0sZG9qbz17ZG9qbzohMSxkaWppdDohMSxkb2pveDohMSxkZWZpbmU6ITEscmVxdWlyZTohMX0sZnVuY3Rpb25pY2l0eT1bXFxcImNsb3N1cmVcXFwiLFxcXCJleGNlcHRpb25cXFwiLFxcXCJnbG9iYWxcXFwiLFxcXCJsYWJlbFxcXCIsXFxcIm91dGVyXFxcIixcXFwidW51c2VkXFxcIixcXFwidmFyXFxcIl0sanF1ZXJ5PXskOiExLGpRdWVyeTohMX0sbW9vdG9vbHM9eyQ6ITEsJCQ6ITEsQXNzZXQ6ITEsQnJvd3NlcjohMSxDaGFpbjohMSxDbGFzczohMSxDb2xvcjohMSxDb29raWU6ITEsQ29yZTohMSxEb2N1bWVudDohMSxEb21SZWFkeTohMSxET01FdmVudDohMSxET01SZWFkeTohMSxEcmFnOiExLEVsZW1lbnQ6ITEsRWxlbWVudHM6ITEsRXZlbnQ6ITEsRXZlbnRzOiExLEZ4OiExLEdyb3VwOiExLEhhc2g6ITEsSHRtbFRhYmxlOiExLElmcmFtZTohMSxJZnJhbWVTaGltOiExLElucHV0VmFsaWRhdG9yOiExLGluc3RhbmNlT2Y6ITEsS2V5Ym9hcmQ6ITEsTG9jYWxlOiExLE1hc2s6ITEsTW9vVG9vbHM6ITEsTmF0aXZlOiExLE9wdGlvbnM6ITEsT3ZlclRleHQ6ITEsUmVxdWVzdDohMSxTY3JvbGxlcjohMSxTbGljazohMSxTbGlkZXI6ITEsU29ydGFibGVzOiExLFNwaW5uZXI6ITEsU3dpZmY6ITEsVGlwczohMSxUeXBlOiExLHR5cGVPZjohMSxVUkk6ITEsV2luZG93OiExfSxub2RlPXtfX2ZpbGVuYW1lOiExLF9fZGlybmFtZTohMSxCdWZmZXI6ITEsY29uc29sZTohMSxleHBvcnRzOiEwLEdMT0JBTDohMSxnbG9iYWw6ITEsbW9kdWxlOiExLHByb2Nlc3M6ITEsYWNlcXVpcmU6ITEsc2V0VGltZW91dDohMSxjbGVhclRpbWVvdXQ6ITEsc2V0SW50ZXJ2YWw6ITEsY2xlYXJJbnRlcnZhbDohMX0scHJvdG90eXBlanM9eyQ6ITEsJCQ6ITEsJEE6ITEsJEY6ITEsJEg6ITEsJFI6ITEsJGJyZWFrOiExLCRjb250aW51ZTohMSwkdzohMSxBYnN0cmFjdDohMSxBamF4OiExLENsYXNzOiExLEVudW1lcmFibGU6ITEsRWxlbWVudDohMSxFdmVudDohMSxGaWVsZDohMSxGb3JtOiExLEhhc2g6ITEsSW5zZXJ0aW9uOiExLE9iamVjdFJhbmdlOiExLFBlcmlvZGljYWxFeGVjdXRlcjohMSxQb3NpdGlvbjohMSxQcm90b3R5cGU6ITEsU2VsZWN0b3I6ITEsVGVtcGxhdGU6ITEsVG9nZ2xlOiExLFRyeTohMSxBdXRvY29tcGxldGVyOiExLEJ1aWxkZXI6ITEsQ29udHJvbDohMSxEcmFnZ2FibGU6ITEsRHJhZ2dhYmxlczohMSxEcm9wcGFibGVzOiExLEVmZmVjdDohMSxTb3J0YWJsZTohMSxTb3J0YWJsZU9ic2VydmVyOiExLFNvdW5kOiExLFNjcmlwdGFjdWxvdXM6ITF9LHJoaW5vPXtkZWZpbmVDbGFzczohMSxkZXNlcmlhbGl6ZTohMSxnYzohMSxoZWxwOiExLGltcG9ydFBhY2thZ2U6ITEsamF2YTohMSxsb2FkOiExLGxvYWRDbGFzczohMSxwcmludDohMSxxdWl0OiExLHJlYWRGaWxlOiExLHJlYWRVcmw6ITEscnVuQ29tbWFuZDohMSxzZWFsOiExLHNlcmlhbGl6ZTohMSxzcGF3bjohMSxzeW5jOiExLHRvaW50MzI6ITEsdmVyc2lvbjohMX0sc3RhbmRhcmQ9e0FycmF5OiExLEJvb2xlYW46ITEsRGF0ZTohMSxkZWNvZGVVUkk6ITEsZGVjb2RlVVJJQ29tcG9uZW50OiExLGVuY29kZVVSSTohMSxlbmNvZGVVUklDb21wb25lbnQ6ITEsRXJyb3I6ITEsZXZhbDohMSxFdmFsRXJyb3I6ITEsRnVuY3Rpb246ITEsaGFzT3duUHJvcGVydHk6ITEsaXNGaW5pdGU6ITEsaXNOYU46ITEsSlNPTjohMSxNYXA6ITEsTWF0aDohMSxOYU46ITEsTnVtYmVyOiExLE9iamVjdDohMSxwYXJzZUludDohMSxwYXJzZUZsb2F0OiExLFJhbmdlRXJyb3I6ITEsUmVmZXJlbmNlRXJyb3I6ITEsUmVnRXhwOiExLFNldDohMSxTdHJpbmc6ITEsU3ludGF4RXJyb3I6ITEsVHlwZUVycm9yOiExLFVSSUVycm9yOiExLFdlYWtNYXA6ITF9LG5vbnN0YW5kYXJkPXtlc2NhcGU6ITEsdW5lc2NhcGU6ITF9LHN5bnRheD17fSx3b3JrZXI9e2ltcG9ydFNjcmlwdHM6ITAscG9zdE1lc3NhZ2U6ITAsc2VsZjohMH0sd3NoPXtBY3RpdmVYT2JqZWN0OiEwLEVudW1lcmF0b3I6ITAsR2V0T2JqZWN0OiEwLFNjcmlwdEVuZ2luZTohMCxTY3JpcHRFbmdpbmVCdWlsZFZlcnNpb246ITAsU2NyaXB0RW5naW5lTWFqb3JWZXJzaW9uOiEwLFNjcmlwdEVuZ2luZU1pbm9yVmVyc2lvbjohMCxWQkFycmF5OiEwLFdTSDohMCxXU2NyaXB0OiEwLFhEb21haW5SZXF1ZXN0OiEwfSx5dWk9e1lVSTohMSxZOiExLFlVSV9jb25maWc6ITF9O1xcbihmdW5jdGlvbigpe2F4PS9AY2N8PFxcXFwvP3xzY3JpcHR8XFxcXF1cXFxccypcXFxcXXw8XFxcXHMqIXwmbHQvaSxjeD0vW1xcXFx1MDAwMC1cXFxcdTAwMWZcXFxcdTAwN2YtXFxcXHUwMDlmXFxcXHUwMGFkXFxcXHUwNjAwLVxcXFx1MDYwNFxcXFx1MDcwZlxcXFx1MTdiNFxcXFx1MTdiNVxcXFx1MjAwYy1cXFxcdTIwMGZcXFxcdTIwMjgtXFxcXHUyMDJmXFxcXHUyMDYwLVxcXFx1MjA2ZlxcXFx1ZmVmZlxcXFx1ZmZmMC1cXFxcdWZmZmZdLyx0eD0vXlxcXFxzKihbKCl7fVxcXFxbLiw6OydcXFwiflxcXFw/XFxcXF0jQF18PT0/PT98XFxcXC89KD8hKFxcXFxTKlxcXFwvW2dpbV0/KSl8XFxcXC8oXFxcXCooanNoaW50fGpzbGludHxtZW1iZXJzP3xnbG9iYWwpP3xcXFxcLyk/fFxcXFwqW1xcXFwvPV0/fFxcXFwrKD86PXxcXFxcKyspP3wtKD86PXwtKyk/fCU9P3wmWyY9XT98XFxcXHxbfD1dP3w+Pj8+Pz0/fDwoW1xcXFwvPSFdfFxcXFwhKFxcXFxbfC0tKT98PD0/KT98XFxcXF49P3xcXFxcIT0/PT98W2EtekEtWl8kXVthLXpBLVowLTlfJF0qfFswLTldKyhbeFhdWzAtOWEtZkEtRl0rfFxcXFwuWzAtOV0qKT8oW2VFXVsrXFxcXC1dP1swLTldKyk/KS8sbng9L1tcXFxcdTAwMDAtXFxcXHUwMDFmJjxcXFwiXFxcXC9cXFxcXFxcXFxcXFx1MDA3Zi1cXFxcdTAwOWZcXFxcdTAwYWRcXFxcdTA2MDAtXFxcXHUwNjA0XFxcXHUwNzBmXFxcXHUxN2I0XFxcXHUxN2I1XFxcXHUyMDBjLVxcXFx1MjAwZlxcXFx1MjAyOC1cXFxcdTIwMmZcXFxcdTIwNjAtXFxcXHUyMDZmXFxcXHVmZWZmXFxcXHVmZmYwLVxcXFx1ZmZmZl0vLG54Zz0vW1xcXFx1MDAwMC1cXFxcdTAwMWYmPFxcXCJcXFxcL1xcXFxcXFxcXFxcXHUwMDdmLVxcXFx1MDA5ZlxcXFx1MDBhZFxcXFx1MDYwMC1cXFxcdTA2MDRcXFxcdTA3MGZcXFxcdTE3YjRcXFxcdTE3YjVcXFxcdTIwMGMtXFxcXHUyMDBmXFxcXHUyMDI4LVxcXFx1MjAyZlxcXFx1MjA2MC1cXFxcdTIwNmZcXFxcdWZlZmZcXFxcdWZmZjAtXFxcXHVmZmZmXS9nLGx4PS9cXFxcKlxcXFwvLyxpeD0vXihbYS16QS1aXyRdW2EtekEtWjAtOV8kXSopJC8sang9L14oPzpqYXZhc2NyaXB0fGpzY3JpcHR8ZWNtYXNjcmlwdHx2YnNjcmlwdHxtb2NoYXxsaXZlc2NyaXB0KVxcXFxzKjovaSxmdD0vXlxcXFxzKlxcXFwvXFxcXCpcXFxccypmYWxsc1xcXFxzdGhyb3VnaFxcXFxzKlxcXFwqXFxcXC9cXFxccyokL30pKCksXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIEFycmF5LmlzQXJyYXkmJihBcnJheS5pc0FycmF5PWZ1bmN0aW9uKG8pe3JldHVyblxcXCJbb2JqZWN0IEFycmF5XVxcXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KG8pfSksQXJyYXkucHJvdG90eXBlLmZvckVhY2h8fChBcnJheS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihmbixzY29wZSl7Zm9yKHZhciBsZW49dGhpcy5sZW5ndGgsaT0wO2xlbj5pO2krKylmbi5jYWxsKHNjb3BlfHx0aGlzLHRoaXNbaV0saSx0aGlzKX0pLEFycmF5LnByb3RvdHlwZS5pbmRleE9mfHwoQXJyYXkucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oc2VhcmNoRWxlbWVudCl7aWYobnVsbD09PXRoaXN8fHZvaWQgMD09PXRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcjt2YXIgdD1PYmplY3QodGhpcyksbGVuPXQubGVuZ3RoPj4+MDtpZigwPT09bGVuKXJldHVybi0xO3ZhciBuPTA7aWYoYXJndW1lbnRzLmxlbmd0aD4wJiYobj1OdW1iZXIoYXJndW1lbnRzWzFdKSxuIT1uP249MDowIT09biYmMS8wIT1uJiZuIT0tMS8wJiYobj0obj4wfHwtMSkqTWF0aC5mbG9vcihNYXRoLmFicyhuKSkpKSxuPj1sZW4pcmV0dXJuLTE7Zm9yKHZhciBrPW4+PTA/bjpNYXRoLm1heChsZW4tTWF0aC5hYnMobiksMCk7bGVuPms7aysrKWlmKGsgaW4gdCYmdFtrXT09PXNlYXJjaEVsZW1lbnQpcmV0dXJuIGs7cmV0dXJuLTF9KSxcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgT2JqZWN0LmNyZWF0ZSYmKE9iamVjdC5jcmVhdGU9ZnVuY3Rpb24obyl7cmV0dXJuIEYucHJvdG90eXBlPW8sbmV3IEZ9KSxcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgT2JqZWN0LmtleXMmJihPYmplY3Qua2V5cz1mdW5jdGlvbihvKXt2YXIgayxhPVtdO2ZvcihrIGluIG8paXNfb3duKG8saykmJmEucHVzaChrKTtyZXR1cm4gYX0pO3ZhciBsZXg9ZnVuY3Rpb24gbGV4KCl7ZnVuY3Rpb24gbmV4dExpbmUoKXt2YXIgYXQsbWF0Y2gsdHc7cmV0dXJuIGxpbmU+PWxpbmVzLmxlbmd0aD8hMTooY2hhcmFjdGVyPTEscz1saW5lc1tsaW5lXSxsaW5lKz0xLG9wdGlvbi5zbWFydHRhYnM/KG1hdGNoPXMubWF0Y2goLyhcXFxcL1xcXFwvKT8gXFxcXHQvKSxhdD1tYXRjaCYmIW1hdGNoWzFdPzA6LTEpOmF0PXMuc2VhcmNoKC8gXFxcXHR8XFxcXHQgW15cXFxcKl0vKSxhdD49MCYmd2FybmluZ0F0KFxcXCJNaXhlZCBzcGFjZXMgYW5kIHRhYnMuXFxcIixsaW5lLGF0KzEpLHM9cy5yZXBsYWNlKC9cXFxcdC9nLHRhYiksYXQ9cy5zZWFyY2goY3gpLGF0Pj0wJiZ3YXJuaW5nQXQoXFxcIlVuc2FmZSBjaGFyYWN0ZXIuXFxcIixsaW5lLGF0KSxvcHRpb24ubWF4bGVuJiZvcHRpb24ubWF4bGVuPHMubGVuZ3RoJiZ3YXJuaW5nQXQoXFxcIkxpbmUgdG9vIGxvbmcuXFxcIixsaW5lLHMubGVuZ3RoKSx0dz1vcHRpb24udHJhaWxpbmcmJnMubWF0Y2goL14oLio/KVxcXFxzKyQvKSx0dyYmIS9eXFxcXHMrJC8udGVzdChzKSYmd2FybmluZ0F0KFxcXCJUcmFpbGluZyB3aGl0ZXNwYWNlLlxcXCIsbGluZSx0d1sxXS5sZW5ndGgrMSksITApfWZ1bmN0aW9uIGl0KHR5cGUsdmFsdWUpe2Z1bmN0aW9uIGNoZWNrTmFtZShuYW1lKXtpZighb3B0aW9uLnByb3RvJiZcXFwiX19wcm90b19fXFxcIj09PW5hbWUpcmV0dXJuIHdhcm5pbmdBdChcXFwiVGhlICd7YX0nIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQuXFxcIixsaW5lLGZyb20sbmFtZSksdm9pZCAwO2lmKCFvcHRpb24uaXRlcmF0b3ImJlxcXCJfX2l0ZXJhdG9yX19cXFwiPT09bmFtZSlyZXR1cm4gd2FybmluZ0F0KFxcXCIne2F9JyBpcyBvbmx5IGF2YWlsYWJsZSBpbiBKYXZhU2NyaXB0IDEuNy5cXFwiLGxpbmUsZnJvbSxuYW1lKSx2b2lkIDA7dmFyIGhhc0RhbmdsaW5nPS9eKF8rLip8LipfKykkLy50ZXN0KG5hbWUpO2lmKG9wdGlvbi5ub21lbiYmaGFzRGFuZ2xpbmcmJlxcXCJfXFxcIiE9PW5hbWUpe2lmKG9wdGlvbi5ub2RlJiZcXFwiLlxcXCIhPT10b2tlbi5pZCYmL14oX19kaXJuYW1lfF9fZmlsZW5hbWUpJC8udGVzdChuYW1lKSlyZXR1cm47cmV0dXJuIHdhcm5pbmdBdChcXFwiVW5leHBlY3RlZCB7YX0gaW4gJ3tifScuXFxcIixsaW5lLGZyb20sXFxcImRhbmdsaW5nICdfJ1xcXCIsbmFtZSksdm9pZCAwfW9wdGlvbi5jYW1lbGNhc2UmJm5hbWUucmVwbGFjZSgvXl8rLyxcXFwiXFxcIikuaW5kZXhPZihcXFwiX1xcXCIpPi0xJiYhbmFtZS5tYXRjaCgvXltBLVowLTlfXSokLykmJndhcm5pbmdBdChcXFwiSWRlbnRpZmllciAne2F9JyBpcyBub3QgaW4gY2FtZWwgY2FzZS5cXFwiLGxpbmUsZnJvbSx2YWx1ZSl9dmFyIGksdDtyZXR1cm4gdD1cXFwiKGNvbG9yKVxcXCI9PT10eXBlfHxcXFwiKHJhbmdlKVxcXCI9PT10eXBlP3t0eXBlOnR5cGV9OlxcXCIocHVuY3R1YXRvcilcXFwiPT09dHlwZXx8XFxcIihpZGVudGlmaWVyKVxcXCI9PT10eXBlJiZpc19vd24oc3ludGF4LHZhbHVlKT9zeW50YXhbdmFsdWVdfHxzeW50YXhbXFxcIihlcnJvcilcXFwiXTpzeW50YXhbdHlwZV0sdD1PYmplY3QuY3JlYXRlKHQpLChcXFwiKHN0cmluZylcXFwiPT09dHlwZXx8XFxcIihyYW5nZSlcXFwiPT09dHlwZSkmJiFvcHRpb24uc2NyaXB0dXJsJiZqeC50ZXN0KHZhbHVlKSYmd2FybmluZ0F0KFxcXCJTY3JpcHQgVVJMLlxcXCIsbGluZSxmcm9tKSxcXFwiKGlkZW50aWZpZXIpXFxcIj09PXR5cGUmJih0LmlkZW50aWZpZXI9ITAsY2hlY2tOYW1lKHZhbHVlKSksdC52YWx1ZT12YWx1ZSx0LmxpbmU9bGluZSx0LmNoYXJhY3Rlcj1jaGFyYWN0ZXIsdC5mcm9tPWZyb20saT10LmlkLFxcXCIoZW5kbGluZSlcXFwiIT09aSYmKHByZXJlZz1pJiYoXFxcIigsPTpbISZ8P3t9O1xcXCIuaW5kZXhPZihpLmNoYXJBdChpLmxlbmd0aC0xKSk+PTB8fFxcXCJyZXR1cm5cXFwiPT09aXx8XFxcImNhc2VcXFwiPT09aSkpLHR9dmFyIGNoYXJhY3Rlcixmcm9tLGxpbmUscztyZXR1cm57aW5pdDpmdW5jdGlvbihzb3VyY2Upe2xpbmVzPVxcXCJzdHJpbmdcXFwiPT10eXBlb2Ygc291cmNlP3NvdXJjZS5yZXBsYWNlKC9cXFxcclxcXFxuL2csXFxcIlxcXFxuXFxcIikucmVwbGFjZSgvXFxcXHIvZyxcXFwiXFxcXG5cXFwiKS5zcGxpdChcXFwiXFxcXG5cXFwiKTpzb3VyY2UsbGluZXNbMF0mJlxcXCIjIVxcXCI9PT1saW5lc1swXS5zdWJzdHIoMCwyKSYmKGxpbmVzWzBdPVxcXCJcXFwiKSxsaW5lPTAsbmV4dExpbmUoKSxmcm9tPTF9LHJhbmdlOmZ1bmN0aW9uKGJlZ2luLGVuZCl7dmFyIGMsdmFsdWU9XFxcIlxcXCI7Zm9yKGZyb209Y2hhcmFjdGVyLHMuY2hhckF0KDApIT09YmVnaW4mJmVycm9yQXQoXFxcIkV4cGVjdGVkICd7YX0nIGFuZCBpbnN0ZWFkIHNhdyAne2J9Jy5cXFwiLGxpbmUsY2hhcmFjdGVyLGJlZ2luLHMuY2hhckF0KDApKTs7KXtzd2l0Y2gocz1zLnNsaWNlKDEpLGNoYXJhY3Rlcis9MSxjPXMuY2hhckF0KDApKXtjYXNlXFxcIlxcXCI6ZXJyb3JBdChcXFwiTWlzc2luZyAne2F9Jy5cXFwiLGxpbmUsY2hhcmFjdGVyLGMpO2JyZWFrO2Nhc2UgZW5kOnJldHVybiBzPXMuc2xpY2UoMSksY2hhcmFjdGVyKz0xLGl0KFxcXCIocmFuZ2UpXFxcIix2YWx1ZSk7Y2FzZVxcXCJcXFxcXFxcXFxcXCI6d2FybmluZ0F0KFxcXCJVbmV4cGVjdGVkICd7YX0nLlxcXCIsbGluZSxjaGFyYWN0ZXIsYyl9dmFsdWUrPWN9fSx0b2tlbjpmdW5jdGlvbigpe2Z1bmN0aW9uIG1hdGNoKHgpe3ZhciByMSxyPXguZXhlYyhzKTtyZXR1cm4gcj8obD1yWzBdLmxlbmd0aCxyMT1yWzFdLGM9cjEuY2hhckF0KDApLHM9cy5zdWJzdHIobCksZnJvbT1jaGFyYWN0ZXIrbC1yMS5sZW5ndGgsY2hhcmFjdGVyKz1sLHIxKTp2b2lkIDB9ZnVuY3Rpb24gc3RyaW5nKHgpe2Z1bmN0aW9uIGVzYyhuKXt2YXIgaT1wYXJzZUludChzLnN1YnN0cihqKzEsbiksMTYpO2orPW4saT49MzImJjEyNj49aSYmMzQhPT1pJiY5MiE9PWkmJjM5IT09aSYmd2FybmluZ0F0KFxcXCJVbm5lY2Vzc2FyeSBlc2NhcGVtZW50LlxcXCIsbGluZSxjaGFyYWN0ZXIpLGNoYXJhY3Rlcis9bixjPVN0cmluZy5mcm9tQ2hhckNvZGUoaSl9dmFyIGMsaixyPVxcXCJcXFwiLGFsbG93TmV3TGluZT0hMTtqc29ubW9kZSYmJ1xcXCInIT09eCYmd2FybmluZ0F0KFxcXCJTdHJpbmdzIG11c3QgdXNlIGRvdWJsZXF1b3RlLlxcXCIsbGluZSxjaGFyYWN0ZXIpLG9wdGlvbi5xdW90bWFyayYmKFxcXCJzaW5nbGVcXFwiPT09b3B0aW9uLnF1b3RtYXJrJiZcXFwiJ1xcXCIhPT14P3dhcm5pbmdBdChcXFwiU3RyaW5ncyBtdXN0IHVzZSBzaW5nbGVxdW90ZS5cXFwiLGxpbmUsY2hhcmFjdGVyKTpcXFwiZG91YmxlXFxcIj09PW9wdGlvbi5xdW90bWFyayYmJ1xcXCInIT09eD93YXJuaW5nQXQoXFxcIlN0cmluZ3MgbXVzdCB1c2UgZG91YmxlcXVvdGUuXFxcIixsaW5lLGNoYXJhY3Rlcik6b3B0aW9uLnF1b3RtYXJrPT09ITAmJihxdW90bWFyaz1xdW90bWFya3x8eCxxdW90bWFyayE9PXgmJndhcm5pbmdBdChcXFwiTWl4ZWQgZG91YmxlIGFuZCBzaW5nbGUgcXVvdGVzLlxcXCIsbGluZSxjaGFyYWN0ZXIpKSksaj0wO3VuY2xvc2VkU3RyaW5nOmZvcig7Oyl7Zm9yKDtqPj1zLmxlbmd0aDspe2o9MDt2YXIgY2w9bGluZSxjZj1mcm9tO2lmKCFuZXh0TGluZSgpKXtlcnJvckF0KFxcXCJVbmNsb3NlZCBzdHJpbmcuXFxcIixjbCxjZik7YnJlYWsgdW5jbG9zZWRTdHJpbmd9YWxsb3dOZXdMaW5lP2FsbG93TmV3TGluZT0hMTp3YXJuaW5nQXQoXFxcIlVuY2xvc2VkIHN0cmluZy5cXFwiLGNsLGNmKX1pZihjPXMuY2hhckF0KGopLGM9PT14KXJldHVybiBjaGFyYWN0ZXIrPTEscz1zLnN1YnN0cihqKzEpLGl0KFxcXCIoc3RyaW5nKVxcXCIscix4KTtpZihcXFwiIFxcXCI+Yyl7aWYoXFxcIlxcXFxuXFxcIj09PWN8fFxcXCJcXFxcclxcXCI9PT1jKWJyZWFrO3dhcm5pbmdBdChcXFwiQ29udHJvbCBjaGFyYWN0ZXIgaW4gc3RyaW5nOiB7YX0uXFxcIixsaW5lLGNoYXJhY3RlcitqLHMuc2xpY2UoMCxqKSl9ZWxzZSBpZihcXFwiXFxcXFxcXFxcXFwiPT09Yylzd2l0Y2goais9MSxjaGFyYWN0ZXIrPTEsYz1zLmNoYXJBdChqKSxuPXMuY2hhckF0KGorMSksYyl7Y2FzZVxcXCJcXFxcXFxcXFxcXCI6Y2FzZSdcXFwiJzpjYXNlXFxcIi9cXFwiOmJyZWFrO2Nhc2VcXFwiJ1xcXCI6anNvbm1vZGUmJndhcm5pbmdBdChcXFwiQXZvaWQgXFxcXFxcXFwnLlxcXCIsbGluZSxjaGFyYWN0ZXIpO2JyZWFrO2Nhc2VcXFwiYlxcXCI6Yz1cXFwiXFxcXGJcXFwiO2JyZWFrO2Nhc2VcXFwiZlxcXCI6Yz1cXFwiXFxcXGZcXFwiO2JyZWFrO2Nhc2VcXFwiblxcXCI6Yz1cXFwiXFxcXG5cXFwiO2JyZWFrO2Nhc2VcXFwiclxcXCI6Yz1cXFwiXFxcXHJcXFwiO2JyZWFrO2Nhc2VcXFwidFxcXCI6Yz1cXFwiXFx0XFxcIjticmVhaztjYXNlXFxcIjBcXFwiOmM9XFxcIlxcXFwwXFxcIixuPj0wJiY3Pj1uJiZkaXJlY3RpdmVbXFxcInVzZSBzdHJpY3RcXFwiXSYmd2FybmluZ0F0KFxcXCJPY3RhbCBsaXRlcmFscyBhcmUgbm90IGFsbG93ZWQgaW4gc3RyaWN0IG1vZGUuXFxcIixsaW5lLGNoYXJhY3Rlcik7YnJlYWs7Y2FzZVxcXCJ1XFxcIjplc2MoNCk7YnJlYWs7Y2FzZVxcXCJ2XFxcIjpqc29ubW9kZSYmd2FybmluZ0F0KFxcXCJBdm9pZCBcXFxcXFxcXHYuXFxcIixsaW5lLGNoYXJhY3RlciksYz1cXFwiXFx1MDAwYlxcXCI7YnJlYWs7Y2FzZVxcXCJ4XFxcIjpqc29ubW9kZSYmd2FybmluZ0F0KFxcXCJBdm9pZCBcXFxcXFxcXHgtLlxcXCIsbGluZSxjaGFyYWN0ZXIpLGVzYygyKTticmVhaztjYXNlXFxcIlxcXCI6aWYoYWxsb3dOZXdMaW5lPSEwLG9wdGlvbi5tdWx0aXN0cil7anNvbm1vZGUmJndhcm5pbmdBdChcXFwiQXZvaWQgRU9MIGVzY2FwZW1lbnQuXFxcIixsaW5lLGNoYXJhY3RlciksYz1cXFwiXFxcIixjaGFyYWN0ZXItPTE7YnJlYWt9d2FybmluZ0F0KFxcXCJCYWQgZXNjYXBlbWVudCBvZiBFT0wuIFVzZSBvcHRpb24gbXVsdGlzdHIgaWYgbmVlZGVkLlxcXCIsbGluZSxjaGFyYWN0ZXIpO2JyZWFrO2Nhc2VcXFwiIVxcXCI6aWYoXFxcIjxcXFwiPT09cy5jaGFyQXQoai0yKSlicmVhaztkZWZhdWx0Ondhcm5pbmdBdChcXFwiQmFkIGVzY2FwZW1lbnQuXFxcIixsaW5lLGNoYXJhY3Rlcil9cis9YyxjaGFyYWN0ZXIrPTEsais9MX19Zm9yKHZhciBiLGMsY2FwdHVyZXMsZCxkZXB0aCxoaWdoLGksbCxsb3cscSx0LGlzTGl0ZXJhbCxpc0luUmFuZ2Usbjs7KXtpZighcylyZXR1cm4gaXQobmV4dExpbmUoKT9cXFwiKGVuZGxpbmUpXFxcIjpcXFwiKGVuZClcXFwiLFxcXCJcXFwiKTtpZih0PW1hdGNoKHR4KSl7aWYoaXNBbHBoYShjKXx8XFxcIl9cXFwiPT09Y3x8XFxcIiRcXFwiPT09YylyZXR1cm4gaXQoXFxcIihpZGVudGlmaWVyKVxcXCIsdCk7aWYoaXNEaWdpdChjKSlyZXR1cm4gaXNGaW5pdGUoTnVtYmVyKHQpKXx8d2FybmluZ0F0KFxcXCJCYWQgbnVtYmVyICd7YX0nLlxcXCIsbGluZSxjaGFyYWN0ZXIsdCksaXNBbHBoYShzLnN1YnN0cigwLDEpKSYmd2FybmluZ0F0KFxcXCJNaXNzaW5nIHNwYWNlIGFmdGVyICd7YX0nLlxcXCIsbGluZSxjaGFyYWN0ZXIsdCksXFxcIjBcXFwiPT09YyYmKGQ9dC5zdWJzdHIoMSwxKSxpc0RpZ2l0KGQpP1xcXCIuXFxcIiE9PXRva2VuLmlkJiZ3YXJuaW5nQXQoXFxcIkRvbid0IHVzZSBleHRyYSBsZWFkaW5nIHplcm9zICd7YX0nLlxcXCIsbGluZSxjaGFyYWN0ZXIsdCk6IWpzb25tb2RlfHxcXFwieFxcXCIhPT1kJiZcXFwiWFxcXCIhPT1kfHx3YXJuaW5nQXQoXFxcIkF2b2lkIDB4LS4gJ3thfScuXFxcIixsaW5lLGNoYXJhY3Rlcix0KSksXFxcIi5cXFwiPT09dC5zdWJzdHIodC5sZW5ndGgtMSkmJndhcm5pbmdBdChcXFwiQSB0cmFpbGluZyBkZWNpbWFsIHBvaW50IGNhbiBiZSBjb25mdXNlZCB3aXRoIGEgZG90ICd7YX0nLlxcXCIsbGluZSxjaGFyYWN0ZXIsdCksaXQoXFxcIihudW1iZXIpXFxcIix0KTtzd2l0Y2godCl7Y2FzZSdcXFwiJzpjYXNlXFxcIidcXFwiOnJldHVybiBzdHJpbmcodCk7Y2FzZVxcXCIvL1xcXCI6cz1cXFwiXFxcIix0b2tlbi5jb21tZW50PSEwO2JyZWFrO2Nhc2VcXFwiLypcXFwiOmZvcig7aT1zLnNlYXJjaChseCksIShpPj0wKTspbmV4dExpbmUoKXx8ZXJyb3JBdChcXFwiVW5jbG9zZWQgY29tbWVudC5cXFwiLGxpbmUsY2hhcmFjdGVyKTtzPXMuc3Vic3RyKGkrMiksdG9rZW4uY29tbWVudD0hMDticmVhaztjYXNlXFxcIi8qbWVtYmVyc1xcXCI6Y2FzZVxcXCIvKm1lbWJlclxcXCI6Y2FzZVxcXCIvKmpzaGludFxcXCI6Y2FzZVxcXCIvKmpzbGludFxcXCI6Y2FzZVxcXCIvKmdsb2JhbFxcXCI6Y2FzZVxcXCIqL1xcXCI6cmV0dXJue3ZhbHVlOnQsdHlwZTpcXFwic3BlY2lhbFxcXCIsbGluZTpsaW5lLGNoYXJhY3RlcjpjaGFyYWN0ZXIsZnJvbTpmcm9tfTtjYXNlXFxcIlxcXCI6YnJlYWs7Y2FzZVxcXCIvXFxcIjppZihcXFwiPVxcXCI9PT1zLmNoYXJBdCgwKSYmZXJyb3JBdChcXFwiQSByZWd1bGFyIGV4cHJlc3Npb24gbGl0ZXJhbCBjYW4gYmUgY29uZnVzZWQgd2l0aCAnLz0nLlxcXCIsbGluZSxmcm9tKSxwcmVyZWcpe2ZvcihkZXB0aD0wLGNhcHR1cmVzPTAsbD0wOzspe3N3aXRjaChiPSEwLGM9cy5jaGFyQXQobCksbCs9MSxjKXtjYXNlXFxcIlxcXCI6cmV0dXJuIGVycm9yQXQoXFxcIlVuY2xvc2VkIHJlZ3VsYXIgZXhwcmVzc2lvbi5cXFwiLGxpbmUsZnJvbSkscXVpdChcXFwiU3RvcHBpbmcuXFxcIixsaW5lLGZyb20pO2Nhc2VcXFwiL1xcXCI6Zm9yKGRlcHRoPjAmJndhcm5pbmdBdChcXFwie2F9IHVudGVybWluYXRlZCByZWd1bGFyIGV4cHJlc3Npb24gZ3JvdXAocykuXFxcIixsaW5lLGZyb20rbCxkZXB0aCksYz1zLnN1YnN0cigwLGwtMSkscT17ZzohMCxpOiEwLG06ITB9O3Fbcy5jaGFyQXQobCldPT09ITA7KXFbcy5jaGFyQXQobCldPSExLGwrPTE7cmV0dXJuIGNoYXJhY3Rlcis9bCxzPXMuc3Vic3RyKGwpLHE9cy5jaGFyQXQoMCksKFxcXCIvXFxcIj09PXF8fFxcXCIqXFxcIj09PXEpJiZlcnJvckF0KFxcXCJDb25mdXNpbmcgcmVndWxhciBleHByZXNzaW9uLlxcXCIsbGluZSxmcm9tKSxpdChcXFwiKHJlZ2V4cClcXFwiLGMpO2Nhc2VcXFwiXFxcXFxcXFxcXFwiOmM9cy5jaGFyQXQobCksXFxcIiBcXFwiPmM/d2FybmluZ0F0KFxcXCJVbmV4cGVjdGVkIGNvbnRyb2wgY2hhcmFjdGVyIGluIHJlZ3VsYXIgZXhwcmVzc2lvbi5cXFwiLGxpbmUsZnJvbStsKTpcXFwiPFxcXCI9PT1jJiZ3YXJuaW5nQXQoXFxcIlVuZXhwZWN0ZWQgZXNjYXBlZCBjaGFyYWN0ZXIgJ3thfScgaW4gcmVndWxhciBleHByZXNzaW9uLlxcXCIsbGluZSxmcm9tK2wsYyksbCs9MTticmVhaztjYXNlXFxcIihcXFwiOmlmKGRlcHRoKz0xLGI9ITEsXFxcIj9cXFwiPT09cy5jaGFyQXQobCkpc3dpdGNoKGwrPTEscy5jaGFyQXQobCkpe2Nhc2VcXFwiOlxcXCI6Y2FzZVxcXCI9XFxcIjpjYXNlXFxcIiFcXFwiOmwrPTE7YnJlYWs7ZGVmYXVsdDp3YXJuaW5nQXQoXFxcIkV4cGVjdGVkICd7YX0nIGFuZCBpbnN0ZWFkIHNhdyAne2J9Jy5cXFwiLGxpbmUsZnJvbStsLFxcXCI6XFxcIixzLmNoYXJBdChsKSl9ZWxzZSBjYXB0dXJlcys9MTticmVhaztjYXNlXFxcInxcXFwiOmI9ITE7YnJlYWs7Y2FzZVxcXCIpXFxcIjowPT09ZGVwdGg/d2FybmluZ0F0KFxcXCJVbmVzY2FwZWQgJ3thfScuXFxcIixsaW5lLGZyb20rbCxcXFwiKVxcXCIpOmRlcHRoLT0xO2JyZWFrO2Nhc2VcXFwiIFxcXCI6Zm9yKHE9MTtcXFwiIFxcXCI9PT1zLmNoYXJBdChsKTspbCs9MSxxKz0xO3E+MSYmd2FybmluZ0F0KFxcXCJTcGFjZXMgYXJlIGhhcmQgdG8gY291bnQuIFVzZSB7e2F9fS5cXFwiLGxpbmUsZnJvbStsLHEpO2JyZWFrO2Nhc2VcXFwiW1xcXCI6Yz1zLmNoYXJBdChsKSxcXFwiXlxcXCI9PT1jJiYobCs9MSxcXFwiXVxcXCI9PT1zLmNoYXJBdChsKSYmZXJyb3JBdChcXFwiVW5lc2NhcGVkICd7YX0nLlxcXCIsbGluZSxmcm9tK2wsXFxcIl5cXFwiKSksXFxcIl1cXFwiPT09YyYmd2FybmluZ0F0KFxcXCJFbXB0eSBjbGFzcy5cXFwiLGxpbmUsZnJvbStsLTEpLGlzTGl0ZXJhbD0hMSxpc0luUmFuZ2U9ITE7a2xhc3M6ZG8gc3dpdGNoKGM9cy5jaGFyQXQobCksbCs9MSxjKXtjYXNlXFxcIltcXFwiOmNhc2VcXFwiXlxcXCI6d2FybmluZ0F0KFxcXCJVbmVzY2FwZWQgJ3thfScuXFxcIixsaW5lLGZyb20rbCxjKSxpc0luUmFuZ2U/aXNJblJhbmdlPSExOmlzTGl0ZXJhbD0hMDticmVhaztjYXNlXFxcIi1cXFwiOmlzTGl0ZXJhbCYmIWlzSW5SYW5nZT8oaXNMaXRlcmFsPSExLGlzSW5SYW5nZT0hMCk6aXNJblJhbmdlP2lzSW5SYW5nZT0hMTpcXFwiXVxcXCI9PT1zLmNoYXJBdChsKT9pc0luUmFuZ2U9ITA6KG9wdGlvbi5yZWdleGRhc2ghPT0oMj09PWx8fDM9PT1sJiZcXFwiXlxcXCI9PT1zLmNoYXJBdCgxKSkmJndhcm5pbmdBdChcXFwiVW5lc2NhcGVkICd7YX0nLlxcXCIsbGluZSxmcm9tK2wtMSxcXFwiLVxcXCIpLGlzTGl0ZXJhbD0hMCk7YnJlYWs7Y2FzZVxcXCJdXFxcIjppc0luUmFuZ2UmJiFvcHRpb24ucmVnZXhkYXNoJiZ3YXJuaW5nQXQoXFxcIlVuZXNjYXBlZCAne2F9Jy5cXFwiLGxpbmUsZnJvbStsLTEsXFxcIi1cXFwiKTticmVhayBrbGFzcztjYXNlXFxcIlxcXFxcXFxcXFxcIjpjPXMuY2hhckF0KGwpLFxcXCIgXFxcIj5jP3dhcm5pbmdBdChcXFwiVW5leHBlY3RlZCBjb250cm9sIGNoYXJhY3RlciBpbiByZWd1bGFyIGV4cHJlc3Npb24uXFxcIixsaW5lLGZyb20rbCk6XFxcIjxcXFwiPT09YyYmd2FybmluZ0F0KFxcXCJVbmV4cGVjdGVkIGVzY2FwZWQgY2hhcmFjdGVyICd7YX0nIGluIHJlZ3VsYXIgZXhwcmVzc2lvbi5cXFwiLGxpbmUsZnJvbStsLGMpLGwrPTEsL1t3c2RdL2kudGVzdChjKT8oaXNJblJhbmdlJiYod2FybmluZ0F0KFxcXCJVbmVzY2FwZWQgJ3thfScuXFxcIixsaW5lLGZyb20rbCxcXFwiLVxcXCIpLGlzSW5SYW5nZT0hMSksaXNMaXRlcmFsPSExKTppc0luUmFuZ2U/aXNJblJhbmdlPSExOmlzTGl0ZXJhbD0hMDticmVhaztjYXNlXFxcIi9cXFwiOndhcm5pbmdBdChcXFwiVW5lc2NhcGVkICd7YX0nLlxcXCIsbGluZSxmcm9tK2wtMSxcXFwiL1xcXCIpLGlzSW5SYW5nZT9pc0luUmFuZ2U9ITE6aXNMaXRlcmFsPSEwO2JyZWFrO2Nhc2VcXFwiPFxcXCI6aXNJblJhbmdlP2lzSW5SYW5nZT0hMTppc0xpdGVyYWw9ITA7YnJlYWs7ZGVmYXVsdDppc0luUmFuZ2U/aXNJblJhbmdlPSExOmlzTGl0ZXJhbD0hMH13aGlsZShjKTticmVhaztjYXNlXFxcIi5cXFwiOm9wdGlvbi5yZWdleHAmJndhcm5pbmdBdChcXFwiSW5zZWN1cmUgJ3thfScuXFxcIixsaW5lLGZyb20rbCxjKTticmVhaztjYXNlXFxcIl1cXFwiOmNhc2VcXFwiP1xcXCI6Y2FzZVxcXCJ7XFxcIjpjYXNlXFxcIn1cXFwiOmNhc2VcXFwiK1xcXCI6Y2FzZVxcXCIqXFxcIjp3YXJuaW5nQXQoXFxcIlVuZXNjYXBlZCAne2F9Jy5cXFwiLGxpbmUsZnJvbStsLGMpfWlmKGIpc3dpdGNoKHMuY2hhckF0KGwpKXtjYXNlXFxcIj9cXFwiOmNhc2VcXFwiK1xcXCI6Y2FzZVxcXCIqXFxcIjpsKz0xLFxcXCI/XFxcIj09PXMuY2hhckF0KGwpJiYobCs9MSk7YnJlYWs7Y2FzZVxcXCJ7XFxcIjppZihsKz0xLGM9cy5jaGFyQXQobCksXFxcIjBcXFwiPmN8fGM+XFxcIjlcXFwiKXt3YXJuaW5nQXQoXFxcIkV4cGVjdGVkIGEgbnVtYmVyIGFuZCBpbnN0ZWFkIHNhdyAne2F9Jy5cXFwiLGxpbmUsZnJvbStsLGMpO2JyZWFrfWZvcihsKz0xLGxvdz0rYztjPXMuY2hhckF0KGwpLCEoXFxcIjBcXFwiPmN8fGM+XFxcIjlcXFwiKTspbCs9MSxsb3c9K2MrMTAqbG93O2lmKGhpZ2g9bG93LFxcXCIsXFxcIj09PWMmJihsKz0xLGhpZ2g9MS8wLGM9cy5jaGFyQXQobCksYz49XFxcIjBcXFwiJiZcXFwiOVxcXCI+PWMpKWZvcihsKz0xLGhpZ2g9K2M7Yz1zLmNoYXJBdChsKSwhKFxcXCIwXFxcIj5jfHxjPlxcXCI5XFxcIik7KWwrPTEsaGlnaD0rYysxMCpoaWdoO1xcXCJ9XFxcIiE9PXMuY2hhckF0KGwpP3dhcm5pbmdBdChcXFwiRXhwZWN0ZWQgJ3thfScgYW5kIGluc3RlYWQgc2F3ICd7Yn0nLlxcXCIsbGluZSxmcm9tK2wsXFxcIn1cXFwiLGMpOmwrPTEsXFxcIj9cXFwiPT09cy5jaGFyQXQobCkmJihsKz0xKSxsb3c+aGlnaCYmd2FybmluZ0F0KFxcXCIne2F9JyBzaG91bGQgbm90IGJlIGdyZWF0ZXIgdGhhbiAne2J9Jy5cXFwiLGxpbmUsZnJvbStsLGxvdyxoaWdoKX19cmV0dXJuIGM9cy5zdWJzdHIoMCxsLTEpLGNoYXJhY3Rlcis9bCxzPXMuc3Vic3RyKGwpLGl0KFxcXCIocmVnZXhwKVxcXCIsYyl9cmV0dXJuIGl0KFxcXCIocHVuY3R1YXRvcilcXFwiLHQpO2Nhc2VcXFwiI1xcXCI6cmV0dXJuIGl0KFxcXCIocHVuY3R1YXRvcilcXFwiLHQpO2RlZmF1bHQ6cmV0dXJuIGl0KFxcXCIocHVuY3R1YXRvcilcXFwiLHQpfX1lbHNle2Zvcih0PVxcXCJcXFwiLGM9XFxcIlxcXCI7cyYmXFxcIiFcXFwiPnM7KXM9cy5zdWJzdHIoMSk7cyYmKGVycm9yQXQoXFxcIlVuZXhwZWN0ZWQgJ3thfScuXFxcIixsaW5lLGNoYXJhY3RlcixzLnN1YnN0cigwLDEpKSxzPVxcXCJcXFwiKX19fX19KCk7dHlwZShcXFwiKG51bWJlcilcXFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0eXBlKFxcXCIoc3RyaW5nKVxcXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHN5bnRheFtcXFwiKGlkZW50aWZpZXIpXFxcIl09e3R5cGU6XFxcIihpZGVudGlmaWVyKVxcXCIsbGJwOjAsaWRlbnRpZmllcjohMCxudWQ6ZnVuY3Rpb24oKXt2YXIgZix2PXRoaXMudmFsdWUscz1zY29wZVt2XTtpZihcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2Ygcz9zPXZvaWQgMDpcXFwiYm9vbGVhblxcXCI9PXR5cGVvZiBzJiYoZj1mdW5jdCxmdW5jdD1mdW5jdGlvbnNbMF0sYWRkbGFiZWwodixcXFwidmFyXFxcIikscz1mdW5jdCxmdW5jdD1mKSxmdW5jdD09PXMpc3dpdGNoKGZ1bmN0W3ZdKXtjYXNlXFxcInVudXNlZFxcXCI6ZnVuY3Rbdl09XFxcInZhclxcXCI7YnJlYWs7Y2FzZVxcXCJ1bmN0aW9uXFxcIjpmdW5jdFt2XT1cXFwiZnVuY3Rpb25cXFwiLHRoaXNbXFxcImZ1bmN0aW9uXFxcIl09ITA7YnJlYWs7Y2FzZVxcXCJmdW5jdGlvblxcXCI6dGhpc1tcXFwiZnVuY3Rpb25cXFwiXT0hMDticmVhaztjYXNlXFxcImxhYmVsXFxcIjp3YXJuaW5nKFxcXCIne2F9JyBpcyBhIHN0YXRlbWVudCBsYWJlbC5cXFwiLHRva2VuLHYpfWVsc2UgaWYoZnVuY3RbXFxcIihnbG9iYWwpXFxcIl0pb3B0aW9uLnVuZGVmJiZcXFwiYm9vbGVhblxcXCIhPXR5cGVvZiBwcmVkZWZpbmVkW3ZdJiYoXFxcInR5cGVvZlxcXCIhPT1hbm9ubmFtZSYmXFxcImRlbGV0ZVxcXCIhPT1hbm9ubmFtZXx8bmV4dHRva2VuJiYoXFxcIi5cXFwiPT09bmV4dHRva2VuLnZhbHVlfHxcXFwiW1xcXCI9PT1uZXh0dG9rZW4udmFsdWUpKSYmaXN1bmRlZihmdW5jdCxcXFwiJ3thfScgaXMgbm90IGRlZmluZWQuXFxcIix0b2tlbix2KSxub3RlX2ltcGxpZWQodG9rZW4pO2Vsc2Ugc3dpdGNoKGZ1bmN0W3ZdKXtjYXNlXFxcImNsb3N1cmVcXFwiOmNhc2VcXFwiZnVuY3Rpb25cXFwiOmNhc2VcXFwidmFyXFxcIjpjYXNlXFxcInVudXNlZFxcXCI6d2FybmluZyhcXFwiJ3thfScgdXNlZCBvdXQgb2Ygc2NvcGUuXFxcIix0b2tlbix2KTticmVhaztjYXNlXFxcImxhYmVsXFxcIjp3YXJuaW5nKFxcXCIne2F9JyBpcyBhIHN0YXRlbWVudCBsYWJlbC5cXFwiLHRva2VuLHYpO2JyZWFrO2Nhc2VcXFwib3V0ZXJcXFwiOmNhc2VcXFwiZ2xvYmFsXFxcIjpicmVhaztkZWZhdWx0OmlmKHM9PT0hMClmdW5jdFt2XT0hMDtlbHNlIGlmKG51bGw9PT1zKXdhcm5pbmcoXFxcIid7YX0nIGlzIG5vdCBhbGxvd2VkLlxcXCIsdG9rZW4sdiksbm90ZV9pbXBsaWVkKHRva2VuKTtlbHNlIGlmKFxcXCJvYmplY3RcXFwiIT10eXBlb2YgcylvcHRpb24udW5kZWYmJihcXFwidHlwZW9mXFxcIiE9PWFub25uYW1lJiZcXFwiZGVsZXRlXFxcIiE9PWFub25uYW1lfHxuZXh0dG9rZW4mJihcXFwiLlxcXCI9PT1uZXh0dG9rZW4udmFsdWV8fFxcXCJbXFxcIj09PW5leHR0b2tlbi52YWx1ZSkpJiZpc3VuZGVmKGZ1bmN0LFxcXCIne2F9JyBpcyBub3QgZGVmaW5lZC5cXFwiLHRva2VuLHYpLGZ1bmN0W3ZdPSEwLG5vdGVfaW1wbGllZCh0b2tlbik7ZWxzZSBzd2l0Y2goc1t2XSl7Y2FzZVxcXCJmdW5jdGlvblxcXCI6Y2FzZVxcXCJ1bmN0aW9uXFxcIjp0aGlzW1xcXCJmdW5jdGlvblxcXCJdPSEwLHNbdl09XFxcImNsb3N1cmVcXFwiLGZ1bmN0W3ZdPXNbXFxcIihnbG9iYWwpXFxcIl0/XFxcImdsb2JhbFxcXCI6XFxcIm91dGVyXFxcIjticmVhaztjYXNlXFxcInZhclxcXCI6Y2FzZVxcXCJ1bnVzZWRcXFwiOnNbdl09XFxcImNsb3N1cmVcXFwiLGZ1bmN0W3ZdPXNbXFxcIihnbG9iYWwpXFxcIl0/XFxcImdsb2JhbFxcXCI6XFxcIm91dGVyXFxcIjticmVhaztjYXNlXFxcImNsb3N1cmVcXFwiOmZ1bmN0W3ZdPXNbXFxcIihnbG9iYWwpXFxcIl0/XFxcImdsb2JhbFxcXCI6XFxcIm91dGVyXFxcIjticmVhaztjYXNlXFxcImxhYmVsXFxcIjp3YXJuaW5nKFxcXCIne2F9JyBpcyBhIHN0YXRlbWVudCBsYWJlbC5cXFwiLHRva2VuLHYpfX1yZXR1cm4gdGhpc30sbGVkOmZ1bmN0aW9uKCl7ZXJyb3IoXFxcIkV4cGVjdGVkIGFuIG9wZXJhdG9yIGFuZCBpbnN0ZWFkIHNhdyAne2F9Jy5cXFwiLG5leHR0b2tlbixuZXh0dG9rZW4udmFsdWUpfX0sdHlwZShcXFwiKHJlZ2V4cClcXFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxkZWxpbShcXFwiKGVuZGxpbmUpXFxcIiksZGVsaW0oXFxcIihiZWdpbilcXFwiKSxkZWxpbShcXFwiKGVuZClcXFwiKS5yZWFjaD0hMCxkZWxpbShcXFwiPC9cXFwiKS5yZWFjaD0hMCxkZWxpbShcXFwiPCFcXFwiKSxkZWxpbShcXFwiPCEtLVxcXCIpLGRlbGltKFxcXCItLT5cXFwiKSxkZWxpbShcXFwiKGVycm9yKVxcXCIpLnJlYWNoPSEwLGRlbGltKFxcXCJ9XFxcIikucmVhY2g9ITAsZGVsaW0oXFxcIilcXFwiKSxkZWxpbShcXFwiXVxcXCIpLGRlbGltKCdcXFwiJykucmVhY2g9ITAsZGVsaW0oXFxcIidcXFwiKS5yZWFjaD0hMCxkZWxpbShcXFwiO1xcXCIpLGRlbGltKFxcXCI6XFxcIikucmVhY2g9ITAsZGVsaW0oXFxcIixcXFwiKSxkZWxpbShcXFwiI1xcXCIpLGRlbGltKFxcXCJAXFxcIikscmVzZXJ2ZShcXFwiZWxzZVxcXCIpLHJlc2VydmUoXFxcImNhc2VcXFwiKS5yZWFjaD0hMCxyZXNlcnZlKFxcXCJjYXRjaFxcXCIpLHJlc2VydmUoXFxcImRlZmF1bHRcXFwiKS5yZWFjaD0hMCxyZXNlcnZlKFxcXCJmaW5hbGx5XFxcIikscmVzZXJ2ZXZhcihcXFwiYXJndW1lbnRzXFxcIixmdW5jdGlvbih4KXtkaXJlY3RpdmVbXFxcInVzZSBzdHJpY3RcXFwiXSYmZnVuY3RbXFxcIihnbG9iYWwpXFxcIl0mJndhcm5pbmcoXFxcIlN0cmljdCB2aW9sYXRpb24uXFxcIix4KX0pLHJlc2VydmV2YXIoXFxcImV2YWxcXFwiKSxyZXNlcnZldmFyKFxcXCJmYWxzZVxcXCIpLHJlc2VydmV2YXIoXFxcIkluZmluaXR5XFxcIikscmVzZXJ2ZXZhcihcXFwibnVsbFxcXCIpLHJlc2VydmV2YXIoXFxcInRoaXNcXFwiLGZ1bmN0aW9uKHgpe2RpcmVjdGl2ZVtcXFwidXNlIHN0cmljdFxcXCJdJiYhb3B0aW9uLnZhbGlkdGhpcyYmKGZ1bmN0W1xcXCIoc3RhdGVtZW50KVxcXCJdJiZmdW5jdFtcXFwiKG5hbWUpXFxcIl0uY2hhckF0KDApPlxcXCJaXFxcInx8ZnVuY3RbXFxcIihnbG9iYWwpXFxcIl0pJiZ3YXJuaW5nKFxcXCJQb3NzaWJsZSBzdHJpY3QgdmlvbGF0aW9uLlxcXCIseCl9KSxyZXNlcnZldmFyKFxcXCJ0cnVlXFxcIikscmVzZXJ2ZXZhcihcXFwidW5kZWZpbmVkXFxcIiksYXNzaWdub3AoXFxcIj1cXFwiLFxcXCJhc3NpZ25cXFwiLDIwKSxhc3NpZ25vcChcXFwiKz1cXFwiLFxcXCJhc3NpZ25hZGRcXFwiLDIwKSxhc3NpZ25vcChcXFwiLT1cXFwiLFxcXCJhc3NpZ25zdWJcXFwiLDIwKSxhc3NpZ25vcChcXFwiKj1cXFwiLFxcXCJhc3NpZ25tdWx0XFxcIiwyMCksYXNzaWdub3AoXFxcIi89XFxcIixcXFwiYXNzaWduZGl2XFxcIiwyMCkubnVkPWZ1bmN0aW9uKCl7ZXJyb3IoXFxcIkEgcmVndWxhciBleHByZXNzaW9uIGxpdGVyYWwgY2FuIGJlIGNvbmZ1c2VkIHdpdGggJy89Jy5cXFwiKX0sYXNzaWdub3AoXFxcIiU9XFxcIixcXFwiYXNzaWdubW9kXFxcIiwyMCksYml0d2lzZWFzc2lnbm9wKFxcXCImPVxcXCIsXFxcImFzc2lnbmJpdGFuZFxcXCIsMjApLGJpdHdpc2Vhc3NpZ25vcChcXFwifD1cXFwiLFxcXCJhc3NpZ25iaXRvclxcXCIsMjApLGJpdHdpc2Vhc3NpZ25vcChcXFwiXj1cXFwiLFxcXCJhc3NpZ25iaXR4b3JcXFwiLDIwKSxiaXR3aXNlYXNzaWdub3AoXFxcIjw8PVxcXCIsXFxcImFzc2lnbnNoaWZ0bGVmdFxcXCIsMjApLGJpdHdpc2Vhc3NpZ25vcChcXFwiPj49XFxcIixcXFwiYXNzaWduc2hpZnRyaWdodFxcXCIsMjApLGJpdHdpc2Vhc3NpZ25vcChcXFwiPj4+PVxcXCIsXFxcImFzc2lnbnNoaWZ0cmlnaHR1bnNpZ25lZFxcXCIsMjApLGluZml4KFxcXCI/XFxcIixmdW5jdGlvbihsZWZ0LHRoYXQpe3JldHVybiB0aGF0LmxlZnQ9bGVmdCx0aGF0LnJpZ2h0PWV4cHJlc3Npb24oMTApLGFkdmFuY2UoXFxcIjpcXFwiKSx0aGF0W1xcXCJlbHNlXFxcIl09ZXhwcmVzc2lvbigxMCksdGhhdH0sMzApLGluZml4KFxcXCJ8fFxcXCIsXFxcIm9yXFxcIiw0MCksaW5maXgoXFxcIiYmXFxcIixcXFwiYW5kXFxcIiw1MCksYml0d2lzZShcXFwifFxcXCIsXFxcImJpdG9yXFxcIiw3MCksYml0d2lzZShcXFwiXlxcXCIsXFxcImJpdHhvclxcXCIsODApLGJpdHdpc2UoXFxcIiZcXFwiLFxcXCJiaXRhbmRcXFwiLDkwKSxyZWxhdGlvbihcXFwiPT1cXFwiLGZ1bmN0aW9uKGxlZnQscmlnaHQpe3ZhciBlcW51bGw9b3B0aW9uLmVxbnVsbCYmKFxcXCJudWxsXFxcIj09PWxlZnQudmFsdWV8fFxcXCJudWxsXFxcIj09PXJpZ2h0LnZhbHVlKTtyZXR1cm4hZXFudWxsJiZvcHRpb24uZXFlcWVxP3dhcm5pbmcoXFxcIkV4cGVjdGVkICd7YX0nIGFuZCBpbnN0ZWFkIHNhdyAne2J9Jy5cXFwiLHRoaXMsXFxcIj09PVxcXCIsXFxcIj09XFxcIik6aXNQb29yUmVsYXRpb24obGVmdCk/d2FybmluZyhcXFwiVXNlICd7YX0nIHRvIGNvbXBhcmUgd2l0aCAne2J9Jy5cXFwiLHRoaXMsXFxcIj09PVxcXCIsbGVmdC52YWx1ZSk6aXNQb29yUmVsYXRpb24ocmlnaHQpJiZ3YXJuaW5nKFxcXCJVc2UgJ3thfScgdG8gY29tcGFyZSB3aXRoICd7Yn0nLlxcXCIsdGhpcyxcXFwiPT09XFxcIixyaWdodC52YWx1ZSksdGhpc30pLHJlbGF0aW9uKFxcXCI9PT1cXFwiKSxyZWxhdGlvbihcXFwiIT1cXFwiLGZ1bmN0aW9uKGxlZnQscmlnaHQpe3ZhciBlcW51bGw9b3B0aW9uLmVxbnVsbCYmKFxcXCJudWxsXFxcIj09PWxlZnQudmFsdWV8fFxcXCJudWxsXFxcIj09PXJpZ2h0LnZhbHVlKTtyZXR1cm4hZXFudWxsJiZvcHRpb24uZXFlcWVxP3dhcm5pbmcoXFxcIkV4cGVjdGVkICd7YX0nIGFuZCBpbnN0ZWFkIHNhdyAne2J9Jy5cXFwiLHRoaXMsXFxcIiE9PVxcXCIsXFxcIiE9XFxcIik6aXNQb29yUmVsYXRpb24obGVmdCk/d2FybmluZyhcXFwiVXNlICd7YX0nIHRvIGNvbXBhcmUgd2l0aCAne2J9Jy5cXFwiLHRoaXMsXFxcIiE9PVxcXCIsbGVmdC52YWx1ZSk6aXNQb29yUmVsYXRpb24ocmlnaHQpJiZ3YXJuaW5nKFxcXCJVc2UgJ3thfScgdG8gY29tcGFyZSB3aXRoICd7Yn0nLlxcXCIsdGhpcyxcXFwiIT09XFxcIixyaWdodC52YWx1ZSksdGhpc30pLHJlbGF0aW9uKFxcXCIhPT1cXFwiKSxyZWxhdGlvbihcXFwiPFxcXCIpLHJlbGF0aW9uKFxcXCI+XFxcIikscmVsYXRpb24oXFxcIjw9XFxcIikscmVsYXRpb24oXFxcIj49XFxcIiksYml0d2lzZShcXFwiPDxcXFwiLFxcXCJzaGlmdGxlZnRcXFwiLDEyMCksYml0d2lzZShcXFwiPj5cXFwiLFxcXCJzaGlmdHJpZ2h0XFxcIiwxMjApLGJpdHdpc2UoXFxcIj4+PlxcXCIsXFxcInNoaWZ0cmlnaHR1bnNpZ25lZFxcXCIsMTIwKSxpbmZpeChcXFwiaW5cXFwiLFxcXCJpblxcXCIsMTIwKSxpbmZpeChcXFwiaW5zdGFuY2VvZlxcXCIsXFxcImluc3RhbmNlb2ZcXFwiLDEyMCksaW5maXgoXFxcIitcXFwiLGZ1bmN0aW9uKGxlZnQsdGhhdCl7dmFyIHJpZ2h0PWV4cHJlc3Npb24oMTMwKTtyZXR1cm4gbGVmdCYmcmlnaHQmJlxcXCIoc3RyaW5nKVxcXCI9PT1sZWZ0LmlkJiZcXFwiKHN0cmluZylcXFwiPT09cmlnaHQuaWQ/KGxlZnQudmFsdWUrPXJpZ2h0LnZhbHVlLGxlZnQuY2hhcmFjdGVyPXJpZ2h0LmNoYXJhY3Rlciwhb3B0aW9uLnNjcmlwdHVybCYmangudGVzdChsZWZ0LnZhbHVlKSYmd2FybmluZyhcXFwiSmF2YVNjcmlwdCBVUkwuXFxcIixsZWZ0KSxsZWZ0KToodGhhdC5sZWZ0PWxlZnQsdGhhdC5yaWdodD1yaWdodCx0aGF0KX0sMTMwKSxwcmVmaXgoXFxcIitcXFwiLFxcXCJudW1cXFwiKSxwcmVmaXgoXFxcIisrK1xcXCIsZnVuY3Rpb24oKXtyZXR1cm4gd2FybmluZyhcXFwiQ29uZnVzaW5nIHBsdXNlcy5cXFwiKSx0aGlzLnJpZ2h0PWV4cHJlc3Npb24oMTUwKSx0aGlzLmFyaXR5PVxcXCJ1bmFyeVxcXCIsdGhpc30pLGluZml4KFxcXCIrKytcXFwiLGZ1bmN0aW9uKGxlZnQpe3JldHVybiB3YXJuaW5nKFxcXCJDb25mdXNpbmcgcGx1c2VzLlxcXCIpLHRoaXMubGVmdD1sZWZ0LHRoaXMucmlnaHQ9ZXhwcmVzc2lvbigxMzApLHRoaXN9LDEzMCksaW5maXgoXFxcIi1cXFwiLFxcXCJzdWJcXFwiLDEzMCkscHJlZml4KFxcXCItXFxcIixcXFwibmVnXFxcIikscHJlZml4KFxcXCItLS1cXFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHdhcm5pbmcoXFxcIkNvbmZ1c2luZyBtaW51c2VzLlxcXCIpLHRoaXMucmlnaHQ9ZXhwcmVzc2lvbigxNTApLHRoaXMuYXJpdHk9XFxcInVuYXJ5XFxcIix0aGlzfSksaW5maXgoXFxcIi0tLVxcXCIsZnVuY3Rpb24obGVmdCl7cmV0dXJuIHdhcm5pbmcoXFxcIkNvbmZ1c2luZyBtaW51c2VzLlxcXCIpLHRoaXMubGVmdD1sZWZ0LHRoaXMucmlnaHQ9ZXhwcmVzc2lvbigxMzApLHRoaXN9LDEzMCksaW5maXgoXFxcIipcXFwiLFxcXCJtdWx0XFxcIiwxNDApLGluZml4KFxcXCIvXFxcIixcXFwiZGl2XFxcIiwxNDApLGluZml4KFxcXCIlXFxcIixcXFwibW9kXFxcIiwxNDApLHN1ZmZpeChcXFwiKytcXFwiLFxcXCJwb3N0aW5jXFxcIikscHJlZml4KFxcXCIrK1xcXCIsXFxcInByZWluY1xcXCIpLHN5bnRheFtcXFwiKytcXFwiXS5leHBzPSEwLHN1ZmZpeChcXFwiLS1cXFwiLFxcXCJwb3N0ZGVjXFxcIikscHJlZml4KFxcXCItLVxcXCIsXFxcInByZWRlY1xcXCIpLHN5bnRheFtcXFwiLS1cXFwiXS5leHBzPSEwLHByZWZpeChcXFwiZGVsZXRlXFxcIixmdW5jdGlvbigpe3ZhciBwPWV4cHJlc3Npb24oMCk7cmV0dXJuKCFwfHxcXFwiLlxcXCIhPT1wLmlkJiZcXFwiW1xcXCIhPT1wLmlkKSYmd2FybmluZyhcXFwiVmFyaWFibGVzIHNob3VsZCBub3QgYmUgZGVsZXRlZC5cXFwiKSx0aGlzLmZpcnN0PXAsdGhpc30pLmV4cHM9ITAscHJlZml4KFxcXCJ+XFxcIixmdW5jdGlvbigpe3JldHVybiBvcHRpb24uYml0d2lzZSYmd2FybmluZyhcXFwiVW5leHBlY3RlZCAne2F9Jy5cXFwiLHRoaXMsXFxcIn5cXFwiKSxleHByZXNzaW9uKDE1MCksdGhpc30pLHByZWZpeChcXFwiIVxcXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yaWdodD1leHByZXNzaW9uKDE1MCksdGhpcy5hcml0eT1cXFwidW5hcnlcXFwiLGJhbmdbdGhpcy5yaWdodC5pZF09PT0hMCYmd2FybmluZyhcXFwiQ29uZnVzaW5nIHVzZSBvZiAne2F9Jy5cXFwiLHRoaXMsXFxcIiFcXFwiKSx0aGlzfSkscHJlZml4KFxcXCJ0eXBlb2ZcXFwiLFxcXCJ0eXBlb2ZcXFwiKSxwcmVmaXgoXFxcIm5ld1xcXCIsZnVuY3Rpb24oKXt2YXIgaSxjPWV4cHJlc3Npb24oMTU1KTtpZihjJiZcXFwiZnVuY3Rpb25cXFwiIT09Yy5pZClpZihjLmlkZW50aWZpZXIpc3dpdGNoKGNbXFxcIm5ld1xcXCJdPSEwLGMudmFsdWUpe2Nhc2VcXFwiTnVtYmVyXFxcIjpjYXNlXFxcIlN0cmluZ1xcXCI6Y2FzZVxcXCJCb29sZWFuXFxcIjpjYXNlXFxcIk1hdGhcXFwiOmNhc2VcXFwiSlNPTlxcXCI6d2FybmluZyhcXFwiRG8gbm90IHVzZSB7YX0gYXMgYSBjb25zdHJ1Y3Rvci5cXFwiLHByZXZ0b2tlbixjLnZhbHVlKTticmVhaztjYXNlXFxcIkZ1bmN0aW9uXFxcIjpvcHRpb24uZXZpbHx8d2FybmluZyhcXFwiVGhlIEZ1bmN0aW9uIGNvbnN0cnVjdG9yIGlzIGV2YWwuXFxcIik7YnJlYWs7Y2FzZVxcXCJEYXRlXFxcIjpjYXNlXFxcIlJlZ0V4cFxcXCI6YnJlYWs7ZGVmYXVsdDpcXFwiZnVuY3Rpb25cXFwiIT09Yy5pZCYmKGk9Yy52YWx1ZS5zdWJzdHIoMCwxKSxvcHRpb24ubmV3Y2FwJiYoXFxcIkFcXFwiPml8fGk+XFxcIlpcXFwiKSYmIWlzX293bihnbG9iYWwsYy52YWx1ZSkmJndhcm5pbmcoXFxcIkEgY29uc3RydWN0b3IgbmFtZSBzaG91bGQgc3RhcnQgd2l0aCBhbiB1cHBlcmNhc2UgbGV0dGVyLlxcXCIsdG9rZW4pKX1lbHNlXFxcIi5cXFwiIT09Yy5pZCYmXFxcIltcXFwiIT09Yy5pZCYmXFxcIihcXFwiIT09Yy5pZCYmd2FybmluZyhcXFwiQmFkIGNvbnN0cnVjdG9yLlxcXCIsdG9rZW4pO2Vsc2Ugb3B0aW9uLnN1cGVybmV3fHx3YXJuaW5nKFxcXCJXZWlyZCBjb25zdHJ1Y3Rpb24uIERlbGV0ZSAnbmV3Jy5cXFwiLHRoaXMpO3JldHVybiBhZGphY2VudCh0b2tlbixuZXh0dG9rZW4pLFxcXCIoXFxcIj09PW5leHR0b2tlbi5pZHx8b3B0aW9uLnN1cGVybmV3fHx3YXJuaW5nKFxcXCJNaXNzaW5nICcoKScgaW52b2tpbmcgYSBjb25zdHJ1Y3Rvci5cXFwiLHRva2VuLHRva2VuLnZhbHVlKSx0aGlzLmZpcnN0PWMsdGhpc30pLHN5bnRheFtcXFwibmV3XFxcIl0uZXhwcz0hMCxwcmVmaXgoXFxcInZvaWRcXFwiKS5leHBzPSEwLGluZml4KFxcXCIuXFxcIixmdW5jdGlvbihsZWZ0LHRoYXQpe2FkamFjZW50KHByZXZ0b2tlbix0b2tlbiksbm9icmVhaygpO3ZhciBtPWlkZW50aWZpZXIoKTtyZXR1cm5cXFwic3RyaW5nXFxcIj09dHlwZW9mIG0mJmNvdW50TWVtYmVyKG0pLHRoYXQubGVmdD1sZWZ0LHRoYXQucmlnaHQ9bSwhbGVmdHx8XFxcImFyZ3VtZW50c1xcXCIhPT1sZWZ0LnZhbHVlfHxcXFwiY2FsbGVlXFxcIiE9PW0mJlxcXCJjYWxsZXJcXFwiIT09bT9vcHRpb24uZXZpbHx8IWxlZnR8fFxcXCJkb2N1bWVudFxcXCIhPT1sZWZ0LnZhbHVlfHxcXFwid3JpdGVcXFwiIT09bSYmXFxcIndyaXRlbG5cXFwiIT09bXx8d2FybmluZyhcXFwiZG9jdW1lbnQud3JpdGUgY2FuIGJlIGEgZm9ybSBvZiBldmFsLlxcXCIsbGVmdCk6b3B0aW9uLm5vYXJnP3dhcm5pbmcoXFxcIkF2b2lkIGFyZ3VtZW50cy57YX0uXFxcIixsZWZ0LG0pOmRpcmVjdGl2ZVtcXFwidXNlIHN0cmljdFxcXCJdJiZlcnJvcihcXFwiU3RyaWN0IHZpb2xhdGlvbi5cXFwiKSxvcHRpb24uZXZpbHx8XFxcImV2YWxcXFwiIT09bSYmXFxcImV4ZWNTY3JpcHRcXFwiIT09bXx8d2FybmluZyhcXFwiZXZhbCBpcyBldmlsLlxcXCIpLHRoYXR9LDE2MCwhMCksaW5maXgoXFxcIihcXFwiLGZ1bmN0aW9uKGxlZnQsdGhhdCl7XFxcIn1cXFwiIT09cHJldnRva2VuLmlkJiZcXFwiKVxcXCIhPT1wcmV2dG9rZW4uaWQmJm5vYnJlYWsocHJldnRva2VuLHRva2VuKSxub3NwYWNlKCksb3B0aW9uLmltbWVkJiYhbGVmdC5pbW1lZCYmXFxcImZ1bmN0aW9uXFxcIj09PWxlZnQuaWQmJndhcm5pbmcoXFxcIldyYXAgYW4gaW1tZWRpYXRlIGZ1bmN0aW9uIGludm9jYXRpb24gaW4gcGFyZW50aGVzZXMgdG8gYXNzaXN0IHRoZSByZWFkZXIgaW4gdW5kZXJzdGFuZGluZyB0aGF0IHRoZSBleHByZXNzaW9uIGlzIHRoZSByZXN1bHQgb2YgYSBmdW5jdGlvbiwgYW5kIG5vdCB0aGUgZnVuY3Rpb24gaXRzZWxmLlxcXCIpO3ZhciBuPTAscD1bXTtpZihsZWZ0JiZcXFwiKGlkZW50aWZpZXIpXFxcIj09PWxlZnQudHlwZSYmbGVmdC52YWx1ZS5tYXRjaCgvXltBLVpdKFtBLVowLTlfJF0qW2Etel1bQS1aYS16MC05XyRdKik/JC8pJiYtMT09PVxcXCJOdW1iZXIgU3RyaW5nIEJvb2xlYW4gRGF0ZSBPYmplY3RcXFwiLmluZGV4T2YobGVmdC52YWx1ZSkmJihcXFwiTWF0aFxcXCI9PT1sZWZ0LnZhbHVlP3dhcm5pbmcoXFxcIk1hdGggaXMgbm90IGEgZnVuY3Rpb24uXFxcIixsZWZ0KTpvcHRpb24ubmV3Y2FwJiZ3YXJuaW5nKFxcXCJNaXNzaW5nICduZXcnIHByZWZpeCB3aGVuIGludm9raW5nIGEgY29uc3RydWN0b3IuXFxcIixsZWZ0KSksXFxcIilcXFwiIT09bmV4dHRva2VuLmlkKWZvcig7cFtwLmxlbmd0aF09ZXhwcmVzc2lvbigxMCksbis9MSxcXFwiLFxcXCI9PT1uZXh0dG9rZW4uaWQ7KWNvbW1hKCk7cmV0dXJuIGFkdmFuY2UoXFxcIilcXFwiKSxub3NwYWNlKHByZXZ0b2tlbix0b2tlbiksXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBsZWZ0JiYoXFxcInBhcnNlSW50XFxcIj09PWxlZnQudmFsdWUmJjE9PT1uJiZ3YXJuaW5nKFxcXCJNaXNzaW5nIHJhZGl4IHBhcmFtZXRlci5cXFwiLHRva2VuKSxvcHRpb24uZXZpbHx8KFxcXCJldmFsXFxcIj09PWxlZnQudmFsdWV8fFxcXCJGdW5jdGlvblxcXCI9PT1sZWZ0LnZhbHVlfHxcXFwiZXhlY1NjcmlwdFxcXCI9PT1sZWZ0LnZhbHVlPyh3YXJuaW5nKFxcXCJldmFsIGlzIGV2aWwuXFxcIixsZWZ0KSxwWzBdJiZcXFwiKHN0cmluZylcXFwiPT09WzBdLmlkJiZhZGRJbnRlcm5hbFNyYyhsZWZ0LHBbMF0udmFsdWUpKTohcFswXXx8XFxcIihzdHJpbmcpXFxcIiE9PXBbMF0uaWR8fFxcXCJzZXRUaW1lb3V0XFxcIiE9PWxlZnQudmFsdWUmJlxcXCJzZXRJbnRlcnZhbFxcXCIhPT1sZWZ0LnZhbHVlPyFwWzBdfHxcXFwiKHN0cmluZylcXFwiIT09cFswXS5pZHx8XFxcIi5cXFwiIT09bGVmdC52YWx1ZXx8XFxcIndpbmRvd1xcXCIhPT1sZWZ0LmxlZnQudmFsdWV8fFxcXCJzZXRUaW1lb3V0XFxcIiE9PWxlZnQucmlnaHQmJlxcXCJzZXRJbnRlcnZhbFxcXCIhPT1sZWZ0LnJpZ2h0fHwod2FybmluZyhcXFwiSW1wbGllZCBldmFsIGlzIGV2aWwuIFBhc3MgYSBmdW5jdGlvbiBpbnN0ZWFkIG9mIGEgc3RyaW5nLlxcXCIsbGVmdCksYWRkSW50ZXJuYWxTcmMobGVmdCxwWzBdLnZhbHVlKSk6KHdhcm5pbmcoXFxcIkltcGxpZWQgZXZhbCBpcyBldmlsLiBQYXNzIGEgZnVuY3Rpb24gaW5zdGVhZCBvZiBhIHN0cmluZy5cXFwiLGxlZnQpLGFkZEludGVybmFsU3JjKGxlZnQscFswXS52YWx1ZSkpKSxsZWZ0LmlkZW50aWZpZXJ8fFxcXCIuXFxcIj09PWxlZnQuaWR8fFxcXCJbXFxcIj09PWxlZnQuaWR8fFxcXCIoXFxcIj09PWxlZnQuaWR8fFxcXCImJlxcXCI9PT1sZWZ0LmlkfHxcXFwifHxcXFwiPT09bGVmdC5pZHx8XFxcIj9cXFwiPT09bGVmdC5pZHx8d2FybmluZyhcXFwiQmFkIGludm9jYXRpb24uXFxcIixsZWZ0KSksdGhhdC5sZWZ0PWxlZnQsdGhhdH0sMTU1LCEwKS5leHBzPSEwLHByZWZpeChcXFwiKFxcXCIsZnVuY3Rpb24oKXtub3NwYWNlKCksXFxcImZ1bmN0aW9uXFxcIj09PW5leHR0b2tlbi5pZCYmKG5leHR0b2tlbi5pbW1lZD0hMCk7dmFyIHY9ZXhwcmVzc2lvbigwKTtyZXR1cm4gYWR2YW5jZShcXFwiKVxcXCIsdGhpcyksbm9zcGFjZShwcmV2dG9rZW4sdG9rZW4pLG9wdGlvbi5pbW1lZCYmXFxcImZ1bmN0aW9uXFxcIj09PXYuaWQmJlxcXCIoXFxcIiE9PW5leHR0b2tlbi5pZCYmKFxcXCIuXFxcIiE9PW5leHR0b2tlbi5pZHx8XFxcImNhbGxcXFwiIT09cGVlaygpLnZhbHVlJiZcXFwiYXBwbHlcXFwiIT09cGVlaygpLnZhbHVlKSYmd2FybmluZyhcXFwiRG8gbm90IHdyYXAgZnVuY3Rpb24gbGl0ZXJhbHMgaW4gcGFyZW5zIHVubGVzcyB0aGV5IGFyZSB0byBiZSBpbW1lZGlhdGVseSBpbnZva2VkLlxcXCIsdGhpcyksdn0pLGluZml4KFxcXCJbXFxcIixmdW5jdGlvbihsZWZ0LHRoYXQpe25vYnJlYWsocHJldnRva2VuLHRva2VuKSxub3NwYWNlKCk7dmFyIHMsZT1leHByZXNzaW9uKDApO3JldHVybiBlJiZcXFwiKHN0cmluZylcXFwiPT09ZS50eXBlJiYob3B0aW9uLmV2aWx8fFxcXCJldmFsXFxcIiE9PWUudmFsdWUmJlxcXCJleGVjU2NyaXB0XFxcIiE9PWUudmFsdWV8fHdhcm5pbmcoXFxcImV2YWwgaXMgZXZpbC5cXFwiLHRoYXQpLGNvdW50TWVtYmVyKGUudmFsdWUpLCFvcHRpb24uc3ViJiZpeC50ZXN0KGUudmFsdWUpJiYocz1zeW50YXhbZS52YWx1ZV0scyYmcy5yZXNlcnZlZHx8d2FybmluZyhcXFwiWyd7YX0nXSBpcyBiZXR0ZXIgd3JpdHRlbiBpbiBkb3Qgbm90YXRpb24uXFxcIixwcmV2dG9rZW4sZS52YWx1ZSkpKSxhZHZhbmNlKFxcXCJdXFxcIix0aGF0KSxub3NwYWNlKHByZXZ0b2tlbix0b2tlbiksdGhhdC5sZWZ0PWxlZnQsdGhhdC5yaWdodD1lLHRoYXR9LDE2MCwhMCkscHJlZml4KFxcXCJbXFxcIixmdW5jdGlvbigpe3ZhciBiPXRva2VuLmxpbmUhPT1uZXh0dG9rZW4ubGluZTtmb3IodGhpcy5maXJzdD1bXSxiJiYoaW5kZW50Kz1vcHRpb24uaW5kZW50LG5leHR0b2tlbi5mcm9tPT09aW5kZW50K29wdGlvbi5pbmRlbnQmJihpbmRlbnQrPW9wdGlvbi5pbmRlbnQpKTtcXFwiKGVuZClcXFwiIT09bmV4dHRva2VuLmlkOyl7Zm9yKDtcXFwiLFxcXCI9PT1uZXh0dG9rZW4uaWQ7KW9wdGlvbi5lczV8fHdhcm5pbmcoXFxcIkV4dHJhIGNvbW1hLlxcXCIpLGFkdmFuY2UoXFxcIixcXFwiKTtpZihcXFwiXVxcXCI9PT1uZXh0dG9rZW4uaWQpYnJlYWs7aWYoYiYmdG9rZW4ubGluZSE9PW5leHR0b2tlbi5saW5lJiZpbmRlbnRhdGlvbigpLHRoaXMuZmlyc3QucHVzaChleHByZXNzaW9uKDEwKSksXFxcIixcXFwiIT09bmV4dHRva2VuLmlkKWJyZWFrO2lmKGNvbW1hKCksXFxcIl1cXFwiPT09bmV4dHRva2VuLmlkJiYhb3B0aW9uLmVzNSl7d2FybmluZyhcXFwiRXh0cmEgY29tbWEuXFxcIix0b2tlbik7YnJlYWt9fXJldHVybiBiJiYoaW5kZW50LT1vcHRpb24uaW5kZW50LGluZGVudGF0aW9uKCkpLGFkdmFuY2UoXFxcIl1cXFwiLHRoaXMpLHRoaXN9LDE2MCksZnVuY3Rpb24oeCl7eC5udWQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBzYXZlUHJvcGVydHkobmFtZSx0b2tlbil7cHJvcHNbbmFtZV0mJmlzX293bihwcm9wcyxuYW1lKT93YXJuaW5nKFxcXCJEdXBsaWNhdGUgbWVtYmVyICd7YX0nLlxcXCIsbmV4dHRva2VuLGkpOnByb3BzW25hbWVdPXt9LHByb3BzW25hbWVdLmJhc2ljPSEwLHByb3BzW25hbWVdLmJhc2ljVG9rZW49dG9rZW59ZnVuY3Rpb24gc2F2ZVNldHRlcihuYW1lLHRva2VuKXtwcm9wc1tuYW1lXSYmaXNfb3duKHByb3BzLG5hbWUpPyhwcm9wc1tuYW1lXS5iYXNpY3x8cHJvcHNbbmFtZV0uc2V0dGVyKSYmd2FybmluZyhcXFwiRHVwbGljYXRlIG1lbWJlciAne2F9Jy5cXFwiLG5leHR0b2tlbixpKTpwcm9wc1tuYW1lXT17fSxwcm9wc1tuYW1lXS5zZXR0ZXI9ITAscHJvcHNbbmFtZV0uc2V0dGVyVG9rZW49dG9rZW59ZnVuY3Rpb24gc2F2ZUdldHRlcihuYW1lKXtwcm9wc1tuYW1lXSYmaXNfb3duKHByb3BzLG5hbWUpPyhwcm9wc1tuYW1lXS5iYXNpY3x8cHJvcHNbbmFtZV0uZ2V0dGVyKSYmd2FybmluZyhcXFwiRHVwbGljYXRlIG1lbWJlciAne2F9Jy5cXFwiLG5leHR0b2tlbixpKTpwcm9wc1tuYW1lXT17fSxwcm9wc1tuYW1lXS5nZXR0ZXI9ITAscHJvcHNbbmFtZV0uZ2V0dGVyVG9rZW49dG9rZW59dmFyIGIsZixpLHAsdCxwcm9wcz17fTtmb3IoYj10b2tlbi5saW5lIT09bmV4dHRva2VuLmxpbmUsYiYmKGluZGVudCs9b3B0aW9uLmluZGVudCxuZXh0dG9rZW4uZnJvbT09PWluZGVudCtvcHRpb24uaW5kZW50JiYoaW5kZW50Kz1vcHRpb24uaW5kZW50KSk7XFxcIn1cXFwiIT09bmV4dHRva2VuLmlkOyl7aWYoYiYmaW5kZW50YXRpb24oKSxcXFwiZ2V0XFxcIj09PW5leHR0b2tlbi52YWx1ZSYmXFxcIjpcXFwiIT09cGVlaygpLmlkKWFkdmFuY2UoXFxcImdldFxcXCIpLG9wdGlvbi5lczV8fGVycm9yKFxcXCJnZXQvc2V0IGFyZSBFUzUgZmVhdHVyZXMuXFxcIiksaT1wcm9wZXJ0eV9uYW1lKCksaXx8ZXJyb3IoXFxcIk1pc3NpbmcgcHJvcGVydHkgbmFtZS5cXFwiKSxzYXZlR2V0dGVyKGkpLHQ9bmV4dHRva2VuLGFkamFjZW50KHRva2VuLG5leHR0b2tlbiksZj1kb0Z1bmN0aW9uKCkscD1mW1xcXCIocGFyYW1zKVxcXCJdLHAmJndhcm5pbmcoXFxcIlVuZXhwZWN0ZWQgcGFyYW1ldGVyICd7YX0nIGluIGdldCB7Yn0gZnVuY3Rpb24uXFxcIix0LHBbMF0saSksYWRqYWNlbnQodG9rZW4sbmV4dHRva2VuKTtlbHNlIGlmKFxcXCJzZXRcXFwiPT09bmV4dHRva2VuLnZhbHVlJiZcXFwiOlxcXCIhPT1wZWVrKCkuaWQpYWR2YW5jZShcXFwic2V0XFxcIiksb3B0aW9uLmVzNXx8ZXJyb3IoXFxcImdldC9zZXQgYXJlIEVTNSBmZWF0dXJlcy5cXFwiKSxpPXByb3BlcnR5X25hbWUoKSxpfHxlcnJvcihcXFwiTWlzc2luZyBwcm9wZXJ0eSBuYW1lLlxcXCIpLHNhdmVTZXR0ZXIoaSxuZXh0dG9rZW4pLHQ9bmV4dHRva2VuLGFkamFjZW50KHRva2VuLG5leHR0b2tlbiksZj1kb0Z1bmN0aW9uKCkscD1mW1xcXCIocGFyYW1zKVxcXCJdLHAmJjE9PT1wLmxlbmd0aHx8d2FybmluZyhcXFwiRXhwZWN0ZWQgYSBzaW5nbGUgcGFyYW1ldGVyIGluIHNldCB7YX0gZnVuY3Rpb24uXFxcIix0LGkpO2Vsc2V7aWYoaT1wcm9wZXJ0eV9uYW1lKCksc2F2ZVByb3BlcnR5KGksbmV4dHRva2VuKSxcXFwic3RyaW5nXFxcIiE9dHlwZW9mIGkpYnJlYWs7YWR2YW5jZShcXFwiOlxcXCIpLG5vbmFkamFjZW50KHRva2VuLG5leHR0b2tlbiksZXhwcmVzc2lvbigxMCl9aWYoY291bnRNZW1iZXIoaSksXFxcIixcXFwiIT09bmV4dHRva2VuLmlkKWJyZWFrO2NvbW1hKCksXFxcIixcXFwiPT09bmV4dHRva2VuLmlkP3dhcm5pbmcoXFxcIkV4dHJhIGNvbW1hLlxcXCIsdG9rZW4pOlxcXCJ9XFxcIiE9PW5leHR0b2tlbi5pZHx8b3B0aW9uLmVzNXx8d2FybmluZyhcXFwiRXh0cmEgY29tbWEuXFxcIix0b2tlbil9aWYoYiYmKGluZGVudC09b3B0aW9uLmluZGVudCxpbmRlbnRhdGlvbigpKSxhZHZhbmNlKFxcXCJ9XFxcIix0aGlzKSxvcHRpb24uZXM1KWZvcih2YXIgbmFtZSBpbiBwcm9wcylpc19vd24ocHJvcHMsbmFtZSkmJnByb3BzW25hbWVdLnNldHRlciYmIXByb3BzW25hbWVdLmdldHRlciYmd2FybmluZyhcXFwiU2V0dGVyIGlzIGRlZmluZWQgd2l0aG91dCBnZXR0ZXIuXFxcIixwcm9wc1tuYW1lXS5zZXR0ZXJUb2tlbik7cmV0dXJuIHRoaXN9LHguZnVkPWZ1bmN0aW9uKCl7ZXJyb3IoXFxcIkV4cGVjdGVkIHRvIHNlZSBhIHN0YXRlbWVudCBhbmQgaW5zdGVhZCBzYXcgYSBibG9jay5cXFwiLHRva2VuKX19KGRlbGltKFxcXCJ7XFxcIikpLHVzZUVTTmV4dFN5bnRheD1mdW5jdGlvbigpe3ZhciBjb25zdHN0YXRlbWVudD1zdG10KFxcXCJjb25zdFxcXCIsZnVuY3Rpb24ocHJlZml4KXt2YXIgaWQsbmFtZSx2YWx1ZTtmb3IodGhpcy5maXJzdD1bXTsobm9uYWRqYWNlbnQodG9rZW4sbmV4dHRva2VuKSxpZD1pZGVudGlmaWVyKCksXFxcImNvbnN0XFxcIj09PWZ1bmN0W2lkXSYmd2FybmluZyhcXFwiY29uc3QgJ1xcXCIraWQrXFxcIicgaGFzIGFscmVhZHkgYmVlbiBkZWNsYXJlZFxcXCIpLGZ1bmN0W1xcXCIoZ2xvYmFsKVxcXCJdJiZwcmVkZWZpbmVkW2lkXT09PSExJiZ3YXJuaW5nKFxcXCJSZWRlZmluaXRpb24gb2YgJ3thfScuXFxcIix0b2tlbixpZCksYWRkbGFiZWwoaWQsXFxcImNvbnN0XFxcIiksIXByZWZpeCkmJihuYW1lPXRva2VuLHRoaXMuZmlyc3QucHVzaCh0b2tlbiksXFxcIj1cXFwiIT09bmV4dHRva2VuLmlkJiZ3YXJuaW5nKFxcXCJjb25zdCAne2F9JyBpcyBpbml0aWFsaXplZCB0byAndW5kZWZpbmVkJy5cXFwiLHRva2VuLGlkKSxcXFwiPVxcXCI9PT1uZXh0dG9rZW4uaWQmJihub25hZGphY2VudCh0b2tlbixuZXh0dG9rZW4pLGFkdmFuY2UoXFxcIj1cXFwiKSxub25hZGphY2VudCh0b2tlbixuZXh0dG9rZW4pLFxcXCJ1bmRlZmluZWRcXFwiPT09bmV4dHRva2VuLmlkJiZ3YXJuaW5nKFxcXCJJdCBpcyBub3QgbmVjZXNzYXJ5IHRvIGluaXRpYWxpemUgJ3thfScgdG8gJ3VuZGVmaW5lZCcuXFxcIix0b2tlbixpZCksXFxcIj1cXFwiPT09cGVlaygwKS5pZCYmbmV4dHRva2VuLmlkZW50aWZpZXImJmVycm9yKFxcXCJDb25zdGFudCB7YX0gd2FzIG5vdCBkZWNsYXJlZCBjb3JyZWN0bHkuXFxcIixuZXh0dG9rZW4sbmV4dHRva2VuLnZhbHVlKSx2YWx1ZT1leHByZXNzaW9uKDApLG5hbWUuZmlyc3Q9dmFsdWUpLFxcXCIsXFxcIj09PW5leHR0b2tlbi5pZCk7KWNvbW1hKCk7cmV0dXJuIHRoaXN9KTtjb25zdHN0YXRlbWVudC5leHBzPSEwfTt2YXIgdmFyc3RhdGVtZW50PXN0bXQoXFxcInZhclxcXCIsZnVuY3Rpb24ocHJlZml4KXt2YXIgaWQsbmFtZSx2YWx1ZTtmb3IoZnVuY3RbXFxcIihvbmV2YXIpXFxcIl0mJm9wdGlvbi5vbmV2YXI/d2FybmluZyhcXFwiVG9vIG1hbnkgdmFyIHN0YXRlbWVudHMuXFxcIik6ZnVuY3RbXFxcIihnbG9iYWwpXFxcIl18fChmdW5jdFtcXFwiKG9uZXZhcilcXFwiXT0hMCksdGhpcy5maXJzdD1bXTsobm9uYWRqYWNlbnQodG9rZW4sbmV4dHRva2VuKSxpZD1pZGVudGlmaWVyKCksb3B0aW9uLmVzbmV4dCYmXFxcImNvbnN0XFxcIj09PWZ1bmN0W2lkXSYmd2FybmluZyhcXFwiY29uc3QgJ1xcXCIraWQrXFxcIicgaGFzIGFscmVhZHkgYmVlbiBkZWNsYXJlZFxcXCIpLGZ1bmN0W1xcXCIoZ2xvYmFsKVxcXCJdJiZwcmVkZWZpbmVkW2lkXT09PSExJiZ3YXJuaW5nKFxcXCJSZWRlZmluaXRpb24gb2YgJ3thfScuXFxcIix0b2tlbixpZCksYWRkbGFiZWwoaWQsXFxcInVudXNlZFxcXCIsdG9rZW4pLCFwcmVmaXgpJiYobmFtZT10b2tlbix0aGlzLmZpcnN0LnB1c2godG9rZW4pLFxcXCI9XFxcIj09PW5leHR0b2tlbi5pZCYmKG5vbmFkamFjZW50KHRva2VuLG5leHR0b2tlbiksYWR2YW5jZShcXFwiPVxcXCIpLG5vbmFkamFjZW50KHRva2VuLG5leHR0b2tlbiksXFxcInVuZGVmaW5lZFxcXCI9PT1uZXh0dG9rZW4uaWQmJndhcm5pbmcoXFxcIkl0IGlzIG5vdCBuZWNlc3NhcnkgdG8gaW5pdGlhbGl6ZSAne2F9JyB0byAndW5kZWZpbmVkJy5cXFwiLHRva2VuLGlkKSxcXFwiPVxcXCI9PT1wZWVrKDApLmlkJiZuZXh0dG9rZW4uaWRlbnRpZmllciYmZXJyb3IoXFxcIlZhcmlhYmxlIHthfSB3YXMgbm90IGRlY2xhcmVkIGNvcnJlY3RseS5cXFwiLG5leHR0b2tlbixuZXh0dG9rZW4udmFsdWUpLHZhbHVlPWV4cHJlc3Npb24oMCksbmFtZS5maXJzdD12YWx1ZSksXFxcIixcXFwiPT09bmV4dHRva2VuLmlkKTspY29tbWEoKTtyZXR1cm4gdGhpc30pO3ZhcnN0YXRlbWVudC5leHBzPSEwLGJsb2Nrc3RtdChcXFwiZnVuY3Rpb25cXFwiLGZ1bmN0aW9uKCl7aW5ibG9jayYmd2FybmluZyhcXFwiRnVuY3Rpb24gZGVjbGFyYXRpb25zIHNob3VsZCBub3QgYmUgcGxhY2VkIGluIGJsb2Nrcy4gVXNlIGEgZnVuY3Rpb24gZXhwcmVzc2lvbiBvciBtb3ZlIHRoZSBzdGF0ZW1lbnQgdG8gdGhlIHRvcCBvZiB0aGUgb3V0ZXIgZnVuY3Rpb24uXFxcIix0b2tlbik7dmFyIGk9aWRlbnRpZmllcigpO3JldHVybiBvcHRpb24uZXNuZXh0JiZcXFwiY29uc3RcXFwiPT09ZnVuY3RbaV0mJndhcm5pbmcoXFxcImNvbnN0ICdcXFwiK2krXFxcIicgaGFzIGFscmVhZHkgYmVlbiBkZWNsYXJlZFxcXCIpLGFkamFjZW50KHRva2VuLG5leHR0b2tlbiksYWRkbGFiZWwoaSxcXFwidW5jdGlvblxcXCIsdG9rZW4pLGRvRnVuY3Rpb24oaSx7c3RhdGVtZW50OiEwfSksXFxcIihcXFwiPT09bmV4dHRva2VuLmlkJiZuZXh0dG9rZW4ubGluZT09PXRva2VuLmxpbmUmJmVycm9yKFxcXCJGdW5jdGlvbiBkZWNsYXJhdGlvbnMgYXJlIG5vdCBpbnZvY2FibGUuIFdyYXAgdGhlIHdob2xlIGZ1bmN0aW9uIGludm9jYXRpb24gaW4gcGFyZW5zLlxcXCIpLHRoaXN9KSxwcmVmaXgoXFxcImZ1bmN0aW9uXFxcIixmdW5jdGlvbigpe3ZhciBpPW9wdGlvbmFsaWRlbnRpZmllcigpO3JldHVybiBpP2FkamFjZW50KHRva2VuLG5leHR0b2tlbik6bm9uYWRqYWNlbnQodG9rZW4sbmV4dHRva2VuKSxkb0Z1bmN0aW9uKGkpLCFvcHRpb24ubG9vcGZ1bmMmJmZ1bmN0W1xcXCIobG9vcGFnZSlcXFwiXSYmd2FybmluZyhcXFwiRG9uJ3QgbWFrZSBmdW5jdGlvbnMgd2l0aGluIGEgbG9vcC5cXFwiKSx0aGlzfSksYmxvY2tzdG10KFxcXCJpZlxcXCIsZnVuY3Rpb24oKXt2YXIgdD1uZXh0dG9rZW47cmV0dXJuIGluY3JlYXNlQ29tcGxleGl0eUNvdW50KCksYWR2YW5jZShcXFwiKFxcXCIpLG5vbmFkamFjZW50KHRoaXMsdCksbm9zcGFjZSgpLGV4cHJlc3Npb24oMjApLFxcXCI9XFxcIj09PW5leHR0b2tlbi5pZCYmKG9wdGlvbi5ib3NzfHx3YXJuaW5nKFxcXCJBc3NpZ25tZW50IGluIGNvbmRpdGlvbmFsIGV4cHJlc3Npb25cXFwiKSxhZHZhbmNlKFxcXCI9XFxcIiksZXhwcmVzc2lvbigyMCkpLGFkdmFuY2UoXFxcIilcXFwiLHQpLG5vc3BhY2UocHJldnRva2VuLHRva2VuKSxibG9jayghMCwhMCksXFxcImVsc2VcXFwiPT09bmV4dHRva2VuLmlkJiYobm9uYWRqYWNlbnQodG9rZW4sbmV4dHRva2VuKSxhZHZhbmNlKFxcXCJlbHNlXFxcIiksXFxcImlmXFxcIj09PW5leHR0b2tlbi5pZHx8XFxcInN3aXRjaFxcXCI9PT1uZXh0dG9rZW4uaWQ/c3RhdGVtZW50KCEwKTpibG9jayghMCwhMCkpLHRoaXN9KSxibG9ja3N0bXQoXFxcInRyeVxcXCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBkb0NhdGNoKCl7dmFyIGUsb2xkU2NvcGU9c2NvcGU7YWR2YW5jZShcXFwiY2F0Y2hcXFwiKSxub25hZGphY2VudCh0b2tlbixuZXh0dG9rZW4pLGFkdmFuY2UoXFxcIihcXFwiKSxzY29wZT1PYmplY3QuY3JlYXRlKG9sZFNjb3BlKSxlPW5leHR0b2tlbi52YWx1ZSxcXFwiKGlkZW50aWZpZXIpXFxcIiE9PW5leHR0b2tlbi50eXBlJiYoZT1udWxsLHdhcm5pbmcoXFxcIkV4cGVjdGVkIGFuIGlkZW50aWZpZXIgYW5kIGluc3RlYWQgc2F3ICd7YX0nLlxcXCIsbmV4dHRva2VuLGUpKSxhZHZhbmNlKCksYWR2YW5jZShcXFwiKVxcXCIpLGZ1bmN0PXtcXFwiKG5hbWUpXFxcIjpcXFwiKGNhdGNoKVxcXCIsXFxcIihsaW5lKVxcXCI6bmV4dHRva2VuLmxpbmUsXFxcIihjaGFyYWN0ZXIpXFxcIjpuZXh0dG9rZW4uY2hhcmFjdGVyLFxcXCIoY29udGV4dClcXFwiOmZ1bmN0LFxcXCIoYnJlYWthZ2UpXFxcIjpmdW5jdFtcXFwiKGJyZWFrYWdlKVxcXCJdLFxcXCIobG9vcGFnZSlcXFwiOmZ1bmN0W1xcXCIobG9vcGFnZSlcXFwiXSxcXFwiKHNjb3BlKVxcXCI6c2NvcGUsXFxcIihzdGF0ZW1lbnQpXFxcIjohMSxcXFwiKG1ldHJpY3MpXFxcIjpjcmVhdGVNZXRyaWNzKG5leHR0b2tlbiksXFxcIihjYXRjaClcXFwiOiEwLFxcXCIodG9rZW5zKVxcXCI6e319LGUmJmFkZGxhYmVsKGUsXFxcImV4Y2VwdGlvblxcXCIpLHRva2VuLmZ1bmN0PWZ1bmN0LGZ1bmN0aW9ucy5wdXNoKGZ1bmN0KSxibG9jayghMSksc2NvcGU9b2xkU2NvcGUsZnVuY3RbXFxcIihsYXN0KVxcXCJdPXRva2VuLmxpbmUsZnVuY3RbXFxcIihsYXN0Y2hhcmFjdGVyKVxcXCJdPXRva2VuLmNoYXJhY3RlcixmdW5jdD1mdW5jdFtcXFwiKGNvbnRleHQpXFxcIl19dmFyIGI7cmV0dXJuIGJsb2NrKCExKSxcXFwiY2F0Y2hcXFwiPT09bmV4dHRva2VuLmlkJiYoaW5jcmVhc2VDb21wbGV4aXR5Q291bnQoKSxkb0NhdGNoKCksYj0hMCksXFxcImZpbmFsbHlcXFwiPT09bmV4dHRva2VuLmlkPyhhZHZhbmNlKFxcXCJmaW5hbGx5XFxcIiksYmxvY2soITEpLHZvaWQgMCk6KGJ8fGVycm9yKFxcXCJFeHBlY3RlZCAne2F9JyBhbmQgaW5zdGVhZCBzYXcgJ3tifScuXFxcIixuZXh0dG9rZW4sXFxcImNhdGNoXFxcIixuZXh0dG9rZW4udmFsdWUpLHRoaXMpfSksYmxvY2tzdG10KFxcXCJ3aGlsZVxcXCIsZnVuY3Rpb24oKXt2YXIgdD1uZXh0dG9rZW47cmV0dXJuIGZ1bmN0W1xcXCIoYnJlYWthZ2UpXFxcIl0rPTEsZnVuY3RbXFxcIihsb29wYWdlKVxcXCJdKz0xLGluY3JlYXNlQ29tcGxleGl0eUNvdW50KCksYWR2YW5jZShcXFwiKFxcXCIpLG5vbmFkamFjZW50KHRoaXMsdCksbm9zcGFjZSgpLGV4cHJlc3Npb24oMjApLFxcXCI9XFxcIj09PW5leHR0b2tlbi5pZCYmKG9wdGlvbi5ib3NzfHx3YXJuaW5nKFxcXCJBc3NpZ25tZW50IGluIGNvbmRpdGlvbmFsIGV4cHJlc3Npb25cXFwiKSxhZHZhbmNlKFxcXCI9XFxcIiksZXhwcmVzc2lvbigyMCkpLGFkdmFuY2UoXFxcIilcXFwiLHQpLG5vc3BhY2UocHJldnRva2VuLHRva2VuKSxibG9jayghMCwhMCksZnVuY3RbXFxcIihicmVha2FnZSlcXFwiXS09MSxmdW5jdFtcXFwiKGxvb3BhZ2UpXFxcIl0tPTEsdGhpc30pLmxhYmVsbGVkPSEwLGJsb2Nrc3RtdChcXFwid2l0aFxcXCIsZnVuY3Rpb24oKXt2YXIgdD1uZXh0dG9rZW47cmV0dXJuIGRpcmVjdGl2ZVtcXFwidXNlIHN0cmljdFxcXCJdP2Vycm9yKFxcXCInd2l0aCcgaXMgbm90IGFsbG93ZWQgaW4gc3RyaWN0IG1vZGUuXFxcIix0b2tlbik6b3B0aW9uLndpdGhzdG10fHx3YXJuaW5nKFxcXCJEb24ndCB1c2UgJ3dpdGgnLlxcXCIsdG9rZW4pLGFkdmFuY2UoXFxcIihcXFwiKSxub25hZGphY2VudCh0aGlzLHQpLG5vc3BhY2UoKSxleHByZXNzaW9uKDApLGFkdmFuY2UoXFxcIilcXFwiLHQpLG5vc3BhY2UocHJldnRva2VuLHRva2VuKSxibG9jayghMCwhMCksdGhpc30pLGJsb2Nrc3RtdChcXFwic3dpdGNoXFxcIixmdW5jdGlvbigpe3ZhciB0PW5leHR0b2tlbixnPSExO2ZvcihmdW5jdFtcXFwiKGJyZWFrYWdlKVxcXCJdKz0xLGFkdmFuY2UoXFxcIihcXFwiKSxub25hZGphY2VudCh0aGlzLHQpLG5vc3BhY2UoKSx0aGlzLmNvbmRpdGlvbj1leHByZXNzaW9uKDIwKSxhZHZhbmNlKFxcXCIpXFxcIix0KSxub3NwYWNlKHByZXZ0b2tlbix0b2tlbiksbm9uYWRqYWNlbnQodG9rZW4sbmV4dHRva2VuKSx0PW5leHR0b2tlbixhZHZhbmNlKFxcXCJ7XFxcIiksbm9uYWRqYWNlbnQodG9rZW4sbmV4dHRva2VuKSxpbmRlbnQrPW9wdGlvbi5pbmRlbnQsdGhpcy5jYXNlcz1bXTs7KXN3aXRjaChuZXh0dG9rZW4uaWQpe2Nhc2VcXFwiY2FzZVxcXCI6c3dpdGNoKGZ1bmN0W1xcXCIodmVyYilcXFwiXSl7Y2FzZVxcXCJicmVha1xcXCI6Y2FzZVxcXCJjYXNlXFxcIjpjYXNlXFxcImNvbnRpbnVlXFxcIjpjYXNlXFxcInJldHVyblxcXCI6Y2FzZVxcXCJzd2l0Y2hcXFwiOmNhc2VcXFwidGhyb3dcXFwiOmJyZWFrO2RlZmF1bHQ6ZnQudGVzdChsaW5lc1tuZXh0dG9rZW4ubGluZS0yXSl8fHdhcm5pbmcoXFxcIkV4cGVjdGVkIGEgJ2JyZWFrJyBzdGF0ZW1lbnQgYmVmb3JlICdjYXNlJy5cXFwiLHRva2VuKX1pbmRlbnRhdGlvbigtb3B0aW9uLmluZGVudCksYWR2YW5jZShcXFwiY2FzZVxcXCIpLHRoaXMuY2FzZXMucHVzaChleHByZXNzaW9uKDIwKSksaW5jcmVhc2VDb21wbGV4aXR5Q291bnQoKSxnPSEwLGFkdmFuY2UoXFxcIjpcXFwiKSxmdW5jdFtcXFwiKHZlcmIpXFxcIl09XFxcImNhc2VcXFwiO2JyZWFrO2Nhc2VcXFwiZGVmYXVsdFxcXCI6c3dpdGNoKGZ1bmN0W1xcXCIodmVyYilcXFwiXSl7Y2FzZVxcXCJicmVha1xcXCI6Y2FzZVxcXCJjb250aW51ZVxcXCI6Y2FzZVxcXCJyZXR1cm5cXFwiOmNhc2VcXFwidGhyb3dcXFwiOmJyZWFrO2RlZmF1bHQ6ZnQudGVzdChsaW5lc1tuZXh0dG9rZW4ubGluZS0yXSl8fHdhcm5pbmcoXFxcIkV4cGVjdGVkIGEgJ2JyZWFrJyBzdGF0ZW1lbnQgYmVmb3JlICdkZWZhdWx0Jy5cXFwiLHRva2VuKX1pbmRlbnRhdGlvbigtb3B0aW9uLmluZGVudCksYWR2YW5jZShcXFwiZGVmYXVsdFxcXCIpLGc9ITAsYWR2YW5jZShcXFwiOlxcXCIpO2JyZWFrO2Nhc2VcXFwifVxcXCI6cmV0dXJuIGluZGVudC09b3B0aW9uLmluZGVudCxpbmRlbnRhdGlvbigpLGFkdmFuY2UoXFxcIn1cXFwiLHQpLCgxPT09dGhpcy5jYXNlcy5sZW5ndGh8fFxcXCJ0cnVlXFxcIj09PXRoaXMuY29uZGl0aW9uLmlkfHxcXFwiZmFsc2VcXFwiPT09dGhpcy5jb25kaXRpb24uaWQpJiYob3B0aW9uLm9uZWNhc2V8fHdhcm5pbmcoXFxcIlRoaXMgJ3N3aXRjaCcgc2hvdWxkIGJlIGFuICdpZicuXFxcIix0aGlzKSksZnVuY3RbXFxcIihicmVha2FnZSlcXFwiXS09MSxmdW5jdFtcXFwiKHZlcmIpXFxcIl09dm9pZCAwLHZvaWQgMDtjYXNlXFxcIihlbmQpXFxcIjpyZXR1cm4gZXJyb3IoXFxcIk1pc3NpbmcgJ3thfScuXFxcIixuZXh0dG9rZW4sXFxcIn1cXFwiKSx2b2lkIDA7ZGVmYXVsdDppZihnKXN3aXRjaCh0b2tlbi5pZCl7Y2FzZVxcXCIsXFxcIjpyZXR1cm4gZXJyb3IoXFxcIkVhY2ggdmFsdWUgc2hvdWxkIGhhdmUgaXRzIG93biBjYXNlIGxhYmVsLlxcXCIpLHZvaWQgMDtjYXNlXFxcIjpcXFwiOmc9ITEsc3RhdGVtZW50cygpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIGVycm9yKFxcXCJNaXNzaW5nICc6JyBvbiBhIGNhc2UgY2xhdXNlLlxcXCIsdG9rZW4pLHZvaWQgMH1lbHNle2lmKFxcXCI6XFxcIiE9PXRva2VuLmlkKXJldHVybiBlcnJvcihcXFwiRXhwZWN0ZWQgJ3thfScgYW5kIGluc3RlYWQgc2F3ICd7Yn0nLlxcXCIsbmV4dHRva2VuLFxcXCJjYXNlXFxcIixuZXh0dG9rZW4udmFsdWUpLHZvaWQgMDthZHZhbmNlKFxcXCI6XFxcIiksZXJyb3IoXFxcIlVuZXhwZWN0ZWQgJ3thfScuXFxcIix0b2tlbixcXFwiOlxcXCIpLHN0YXRlbWVudHMoKX19fSkubGFiZWxsZWQ9ITAsc3RtdChcXFwiZGVidWdnZXJcXFwiLGZ1bmN0aW9uKCl7cmV0dXJuIG9wdGlvbi5kZWJ1Z3x8d2FybmluZyhcXFwiQWxsICdkZWJ1Z2dlcicgc3RhdGVtZW50cyBzaG91bGQgYmUgcmVtb3ZlZC5cXFwiKSx0aGlzfSkuZXhwcz0hMCxmdW5jdGlvbigpe3ZhciB4PXN0bXQoXFxcImRvXFxcIixmdW5jdGlvbigpe2Z1bmN0W1xcXCIoYnJlYWthZ2UpXFxcIl0rPTEsZnVuY3RbXFxcIihsb29wYWdlKVxcXCJdKz0xLGluY3JlYXNlQ29tcGxleGl0eUNvdW50KCksdGhpcy5maXJzdD1ibG9jayghMCksYWR2YW5jZShcXFwid2hpbGVcXFwiKTt2YXIgdD1uZXh0dG9rZW47cmV0dXJuIG5vbmFkamFjZW50KHRva2VuLHQpLGFkdmFuY2UoXFxcIihcXFwiKSxub3NwYWNlKCksZXhwcmVzc2lvbigyMCksXFxcIj1cXFwiPT09bmV4dHRva2VuLmlkJiYob3B0aW9uLmJvc3N8fHdhcm5pbmcoXFxcIkFzc2lnbm1lbnQgaW4gY29uZGl0aW9uYWwgZXhwcmVzc2lvblxcXCIpLGFkdmFuY2UoXFxcIj1cXFwiKSxleHByZXNzaW9uKDIwKSksYWR2YW5jZShcXFwiKVxcXCIsdCksbm9zcGFjZShwcmV2dG9rZW4sdG9rZW4pLGZ1bmN0W1xcXCIoYnJlYWthZ2UpXFxcIl0tPTEsZnVuY3RbXFxcIihsb29wYWdlKVxcXCJdLT0xLHRoaXN9KTt4LmxhYmVsbGVkPSEwLHguZXhwcz0hMH0oKSxibG9ja3N0bXQoXFxcImZvclxcXCIsZnVuY3Rpb24oKXt2YXIgcyx0PW5leHR0b2tlbjtpZihmdW5jdFtcXFwiKGJyZWFrYWdlKVxcXCJdKz0xLGZ1bmN0W1xcXCIobG9vcGFnZSlcXFwiXSs9MSxpbmNyZWFzZUNvbXBsZXhpdHlDb3VudCgpLGFkdmFuY2UoXFxcIihcXFwiKSxub25hZGphY2VudCh0aGlzLHQpLG5vc3BhY2UoKSxcXFwiaW5cXFwiPT09cGVlayhcXFwidmFyXFxcIj09PW5leHR0b2tlbi5pZD8xOjApLmlkKXtpZihcXFwidmFyXFxcIj09PW5leHR0b2tlbi5pZClhZHZhbmNlKFxcXCJ2YXJcXFwiKSx2YXJzdGF0ZW1lbnQuZnVkLmNhbGwodmFyc3RhdGVtZW50LCEwKTtlbHNle3N3aXRjaChmdW5jdFtuZXh0dG9rZW4udmFsdWVdKXtjYXNlXFxcInVudXNlZFxcXCI6ZnVuY3RbbmV4dHRva2VuLnZhbHVlXT1cXFwidmFyXFxcIjticmVhaztjYXNlXFxcInZhclxcXCI6YnJlYWs7ZGVmYXVsdDp3YXJuaW5nKFxcXCJCYWQgZm9yIGluIHZhcmlhYmxlICd7YX0nLlxcXCIsbmV4dHRva2VuLG5leHR0b2tlbi52YWx1ZSl9YWR2YW5jZSgpfXJldHVybiBhZHZhbmNlKFxcXCJpblxcXCIpLGV4cHJlc3Npb24oMjApLGFkdmFuY2UoXFxcIilcXFwiLHQpLHM9YmxvY2soITAsITApLG9wdGlvbi5mb3JpbiYmcyYmKHMubGVuZ3RoPjF8fFxcXCJvYmplY3RcXFwiIT10eXBlb2Ygc1swXXx8XFxcImlmXFxcIiE9PXNbMF0udmFsdWUpJiZ3YXJuaW5nKFxcXCJUaGUgYm9keSBvZiBhIGZvciBpbiBzaG91bGQgYmUgd3JhcHBlZCBpbiBhbiBpZiBzdGF0ZW1lbnQgdG8gZmlsdGVyIHVud2FudGVkIHByb3BlcnRpZXMgZnJvbSB0aGUgcHJvdG90eXBlLlxcXCIsdGhpcyksZnVuY3RbXFxcIihicmVha2FnZSlcXFwiXS09MSxmdW5jdFtcXFwiKGxvb3BhZ2UpXFxcIl0tPTEsdGhpc31pZihcXFwiO1xcXCIhPT1uZXh0dG9rZW4uaWQpaWYoXFxcInZhclxcXCI9PT1uZXh0dG9rZW4uaWQpYWR2YW5jZShcXFwidmFyXFxcIiksdmFyc3RhdGVtZW50LmZ1ZC5jYWxsKHZhcnN0YXRlbWVudCk7ZWxzZSBmb3IoO2V4cHJlc3Npb24oMCxcXFwiZm9yXFxcIiksXFxcIixcXFwiPT09bmV4dHRva2VuLmlkOyljb21tYSgpO2lmKG5vbGluZWJyZWFrKHRva2VuKSxhZHZhbmNlKFxcXCI7XFxcIiksXFxcIjtcXFwiIT09bmV4dHRva2VuLmlkJiYoZXhwcmVzc2lvbigyMCksXFxcIj1cXFwiPT09bmV4dHRva2VuLmlkJiYob3B0aW9uLmJvc3N8fHdhcm5pbmcoXFxcIkFzc2lnbm1lbnQgaW4gY29uZGl0aW9uYWwgZXhwcmVzc2lvblxcXCIpLGFkdmFuY2UoXFxcIj1cXFwiKSxleHByZXNzaW9uKDIwKSkpLG5vbGluZWJyZWFrKHRva2VuKSxhZHZhbmNlKFxcXCI7XFxcIiksXFxcIjtcXFwiPT09bmV4dHRva2VuLmlkJiZlcnJvcihcXFwiRXhwZWN0ZWQgJ3thfScgYW5kIGluc3RlYWQgc2F3ICd7Yn0nLlxcXCIsbmV4dHRva2VuLFxcXCIpXFxcIixcXFwiO1xcXCIpLFxcXCIpXFxcIiE9PW5leHR0b2tlbi5pZClmb3IoO2V4cHJlc3Npb24oMCxcXFwiZm9yXFxcIiksXFxcIixcXFwiPT09bmV4dHRva2VuLmlkOyljb21tYSgpO3JldHVybiBhZHZhbmNlKFxcXCIpXFxcIix0KSxub3NwYWNlKHByZXZ0b2tlbix0b2tlbiksYmxvY2soITAsITApLGZ1bmN0W1xcXCIoYnJlYWthZ2UpXFxcIl0tPTEsZnVuY3RbXFxcIihsb29wYWdlKVxcXCJdLT0xLHRoaXN9KS5sYWJlbGxlZD0hMCxzdG10KFxcXCJicmVha1xcXCIsZnVuY3Rpb24oKXt2YXIgdj1uZXh0dG9rZW4udmFsdWU7cmV0dXJuIDA9PT1mdW5jdFtcXFwiKGJyZWFrYWdlKVxcXCJdJiZ3YXJuaW5nKFxcXCJVbmV4cGVjdGVkICd7YX0nLlxcXCIsbmV4dHRva2VuLHRoaXMudmFsdWUpLG9wdGlvbi5hc2l8fG5vbGluZWJyZWFrKHRoaXMpLFxcXCI7XFxcIiE9PW5leHR0b2tlbi5pZCYmdG9rZW4ubGluZT09PW5leHR0b2tlbi5saW5lJiYoXFxcImxhYmVsXFxcIiE9PWZ1bmN0W3ZdP3dhcm5pbmcoXFxcIid7YX0nIGlzIG5vdCBhIHN0YXRlbWVudCBsYWJlbC5cXFwiLG5leHR0b2tlbix2KTpzY29wZVt2XSE9PWZ1bmN0JiZ3YXJuaW5nKFxcXCIne2F9JyBpcyBvdXQgb2Ygc2NvcGUuXFxcIixuZXh0dG9rZW4sdiksdGhpcy5maXJzdD1uZXh0dG9rZW4sYWR2YW5jZSgpKSxyZWFjaGFibGUoXFxcImJyZWFrXFxcIiksdGhpc1xcbn0pLmV4cHM9ITAsc3RtdChcXFwiY29udGludWVcXFwiLGZ1bmN0aW9uKCl7dmFyIHY9bmV4dHRva2VuLnZhbHVlO3JldHVybiAwPT09ZnVuY3RbXFxcIihicmVha2FnZSlcXFwiXSYmd2FybmluZyhcXFwiVW5leHBlY3RlZCAne2F9Jy5cXFwiLG5leHR0b2tlbix0aGlzLnZhbHVlKSxvcHRpb24uYXNpfHxub2xpbmVicmVhayh0aGlzKSxcXFwiO1xcXCIhPT1uZXh0dG9rZW4uaWQ/dG9rZW4ubGluZT09PW5leHR0b2tlbi5saW5lJiYoXFxcImxhYmVsXFxcIiE9PWZ1bmN0W3ZdP3dhcm5pbmcoXFxcIid7YX0nIGlzIG5vdCBhIHN0YXRlbWVudCBsYWJlbC5cXFwiLG5leHR0b2tlbix2KTpzY29wZVt2XSE9PWZ1bmN0JiZ3YXJuaW5nKFxcXCIne2F9JyBpcyBvdXQgb2Ygc2NvcGUuXFxcIixuZXh0dG9rZW4sdiksdGhpcy5maXJzdD1uZXh0dG9rZW4sYWR2YW5jZSgpKTpmdW5jdFtcXFwiKGxvb3BhZ2UpXFxcIl18fHdhcm5pbmcoXFxcIlVuZXhwZWN0ZWQgJ3thfScuXFxcIixuZXh0dG9rZW4sdGhpcy52YWx1ZSkscmVhY2hhYmxlKFxcXCJjb250aW51ZVxcXCIpLHRoaXN9KS5leHBzPSEwLHN0bXQoXFxcInJldHVyblxcXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5saW5lPT09bmV4dHRva2VuLmxpbmU/KFxcXCIocmVnZXhwKVxcXCI9PT1uZXh0dG9rZW4uaWQmJndhcm5pbmcoXFxcIldyYXAgdGhlIC9yZWdleHAvIGxpdGVyYWwgaW4gcGFyZW5zIHRvIGRpc2FtYmlndWF0ZSB0aGUgc2xhc2ggb3BlcmF0b3IuXFxcIiksXFxcIjtcXFwiPT09bmV4dHRva2VuLmlkfHxuZXh0dG9rZW4ucmVhY2h8fChub25hZGphY2VudCh0b2tlbixuZXh0dG9rZW4pLFxcXCI9XFxcIiE9PXBlZWsoKS52YWx1ZXx8b3B0aW9uLmJvc3N8fHdhcm5pbmdBdChcXFwiRGlkIHlvdSBtZWFuIHRvIHJldHVybiBhIGNvbmRpdGlvbmFsIGluc3RlYWQgb2YgYW4gYXNzaWdubWVudD9cXFwiLHRva2VuLmxpbmUsdG9rZW4uY2hhcmFjdGVyKzEpLHRoaXMuZmlyc3Q9ZXhwcmVzc2lvbigwKSkpOm9wdGlvbi5hc2l8fG5vbGluZWJyZWFrKHRoaXMpLHJlYWNoYWJsZShcXFwicmV0dXJuXFxcIiksdGhpc30pLmV4cHM9ITAsc3RtdChcXFwidGhyb3dcXFwiLGZ1bmN0aW9uKCl7cmV0dXJuIG5vbGluZWJyZWFrKHRoaXMpLG5vbmFkamFjZW50KHRva2VuLG5leHR0b2tlbiksdGhpcy5maXJzdD1leHByZXNzaW9uKDIwKSxyZWFjaGFibGUoXFxcInRocm93XFxcIiksdGhpc30pLmV4cHM9ITAscmVzZXJ2ZShcXFwiY2xhc3NcXFwiKSxyZXNlcnZlKFxcXCJjb25zdFxcXCIpLHJlc2VydmUoXFxcImVudW1cXFwiKSxyZXNlcnZlKFxcXCJleHBvcnRcXFwiKSxyZXNlcnZlKFxcXCJleHRlbmRzXFxcIikscmVzZXJ2ZShcXFwiaW1wb3J0XFxcIikscmVzZXJ2ZShcXFwic3VwZXJcXFwiKSxyZXNlcnZlKFxcXCJsZXRcXFwiKSxyZXNlcnZlKFxcXCJ5aWVsZFxcXCIpLHJlc2VydmUoXFxcImltcGxlbWVudHNcXFwiKSxyZXNlcnZlKFxcXCJpbnRlcmZhY2VcXFwiKSxyZXNlcnZlKFxcXCJwYWNrYWdlXFxcIikscmVzZXJ2ZShcXFwicHJpdmF0ZVxcXCIpLHJlc2VydmUoXFxcInByb3RlY3RlZFxcXCIpLHJlc2VydmUoXFxcInB1YmxpY1xcXCIpLHJlc2VydmUoXFxcInN0YXRpY1xcXCIpO3ZhciBpdHNlbGY9ZnVuY3Rpb24ocyxvLGcpe3ZhciBhLGksayx4LG9wdGlvbktleXMsbmV3T3B0aW9uT2JqPXt9O2lmKG8mJm8uc2NvcGU/SlNISU5ULnNjb3BlPW8uc2NvcGU6KEpTSElOVC5lcnJvcnM9W10sSlNISU5ULnVuZGVmcz1bXSxKU0hJTlQuaW50ZXJuYWxzPVtdLEpTSElOVC5ibGFja2xpc3Q9e30sSlNISU5ULnNjb3BlPVxcXCIobWFpbilcXFwiKSxwcmVkZWZpbmVkPU9iamVjdC5jcmVhdGUoc3RhbmRhcmQpLGRlY2xhcmVkPU9iamVjdC5jcmVhdGUobnVsbCksY29tYmluZShwcmVkZWZpbmVkLGd8fHt9KSxvKWZvcihhPW8ucHJlZGVmLGEmJihBcnJheS5pc0FycmF5KGEpfHxcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGF8fChhPU9iamVjdC5rZXlzKGEpKSxhLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7dmFyIHNsaWNlO1xcXCItXFxcIj09PWl0ZW1bMF0/KHNsaWNlPWl0ZW0uc2xpY2UoMSksSlNISU5ULmJsYWNrbGlzdFtzbGljZV09c2xpY2UpOnByZWRlZmluZWRbaXRlbV09ITB9KSksb3B0aW9uS2V5cz1PYmplY3Qua2V5cyhvKSx4PTA7b3B0aW9uS2V5cy5sZW5ndGg+eDt4KyspbmV3T3B0aW9uT2JqW29wdGlvbktleXNbeF1dPW9bb3B0aW9uS2V5c1t4XV0sXFxcIm5ld2NhcFxcXCI9PT1vcHRpb25LZXlzW3hdJiZvW29wdGlvbktleXNbeF1dPT09ITEmJihuZXdPcHRpb25PYmpbXFxcIihleHBsaWNpdE5ld2NhcClcXFwiXT0hMCksXFxcImluZGVudFxcXCI9PT1vcHRpb25LZXlzW3hdJiYobmV3T3B0aW9uT2JqLndoaXRlPSEwKTtmb3Iob3B0aW9uPW5ld09wdGlvbk9iaixvcHRpb24uaW5kZW50PW9wdGlvbi5pbmRlbnR8fDQsb3B0aW9uLm1heGVycj1vcHRpb24ubWF4ZXJyfHw1MCx0YWI9XFxcIlxcXCIsaT0wO29wdGlvbi5pbmRlbnQ+aTtpKz0xKXRhYis9XFxcIiBcXFwiO2lmKGluZGVudD0xLGdsb2JhbD1PYmplY3QuY3JlYXRlKHByZWRlZmluZWQpLHNjb3BlPWdsb2JhbCxmdW5jdD17XFxcIihnbG9iYWwpXFxcIjohMCxcXFwiKG5hbWUpXFxcIjpcXFwiKGdsb2JhbClcXFwiLFxcXCIoc2NvcGUpXFxcIjpzY29wZSxcXFwiKGJyZWFrYWdlKVxcXCI6MCxcXFwiKGxvb3BhZ2UpXFxcIjowLFxcXCIodG9rZW5zKVxcXCI6e30sXFxcIihtZXRyaWNzKVxcXCI6Y3JlYXRlTWV0cmljcyhuZXh0dG9rZW4pfSxmdW5jdGlvbnM9W2Z1bmN0XSx1cmxzPVtdLHN0YWNrPW51bGwsbWVtYmVyPXt9LG1lbWJlcnNPbmx5PW51bGwsaW1wbGllZD17fSxpbmJsb2NrPSExLGxvb2thaGVhZD1bXSxqc29ubW9kZT0hMSx3YXJuaW5ncz0wLGxpbmVzPVtdLHVudXNlZHM9W10sIWlzU3RyaW5nKHMpJiYhQXJyYXkuaXNBcnJheShzKSlyZXR1cm4gZXJyb3JBdChcXFwiSW5wdXQgaXMgbmVpdGhlciBhIHN0cmluZyBub3IgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cXFwiLDApLCExO2lmKGlzU3RyaW5nKHMpJiYvXlxcXFxzKiQvZy50ZXN0KHMpKXJldHVybiBlcnJvckF0KFxcXCJJbnB1dCBpcyBhbiBlbXB0eSBzdHJpbmcuXFxcIiwwKSwhMTtpZigwPT09cy5sZW5ndGgpcmV0dXJuIGVycm9yQXQoXFxcIklucHV0IGlzIGFuIGVtcHR5IGFycmF5LlxcXCIsMCksITE7bGV4LmluaXQocykscHJlcmVnPSEwLGRpcmVjdGl2ZT17fSxwcmV2dG9rZW49dG9rZW49bmV4dHRva2VuPXN5bnRheFtcXFwiKGJlZ2luKVxcXCJdO2Zvcih2YXIgbmFtZSBpbiBvKWlzX293bihvLG5hbWUpJiZjaGVja09wdGlvbihuYW1lLHRva2VuKTthc3N1bWUoKSxjb21iaW5lKHByZWRlZmluZWQsZ3x8e30pLGNvbW1hLmZpcnN0PSEwLHF1b3RtYXJrPXZvaWQgMDt0cnl7c3dpdGNoKGFkdmFuY2UoKSxuZXh0dG9rZW4uaWQpe2Nhc2VcXFwie1xcXCI6Y2FzZVxcXCJbXFxcIjpvcHRpb24ubGF4YnJlYWs9ITAsanNvbm1vZGU9ITAsanNvblZhbHVlKCk7YnJlYWs7ZGVmYXVsdDpkaXJlY3RpdmVzKCksZGlyZWN0aXZlW1xcXCJ1c2Ugc3RyaWN0XFxcIl0mJiFvcHRpb24uZ2xvYmFsc3RyaWN0JiZ3YXJuaW5nKCdVc2UgdGhlIGZ1bmN0aW9uIGZvcm0gb2YgXFxcInVzZSBzdHJpY3RcXFwiLicscHJldnRva2VuKSxzdGF0ZW1lbnRzKCl9YWR2YW5jZShuZXh0dG9rZW4mJlxcXCIuXFxcIiE9PW5leHR0b2tlbi52YWx1ZT9cXFwiKGVuZClcXFwiOnZvaWQgMCk7dmFyIG1hcmtEZWZpbmVkPWZ1bmN0aW9uKG5hbWUsY29udGV4dCl7ZG97aWYoXFxcInN0cmluZ1xcXCI9PXR5cGVvZiBjb250ZXh0W25hbWVdKXJldHVyblxcXCJ1bnVzZWRcXFwiPT09Y29udGV4dFtuYW1lXT9jb250ZXh0W25hbWVdPVxcXCJ2YXJcXFwiOlxcXCJ1bmN0aW9uXFxcIj09PWNvbnRleHRbbmFtZV0mJihjb250ZXh0W25hbWVdPVxcXCJjbG9zdXJlXFxcIiksITA7Y29udGV4dD1jb250ZXh0W1xcXCIoY29udGV4dClcXFwiXX13aGlsZShjb250ZXh0KTtyZXR1cm4hMX0sY2xlYXJJbXBsaWVkPWZ1bmN0aW9uKG5hbWUsbGluZSl7aWYoaW1wbGllZFtuYW1lXSl7Zm9yKHZhciBuZXdJbXBsaWVkPVtdLGk9MDtpbXBsaWVkW25hbWVdLmxlbmd0aD5pO2krPTEpaW1wbGllZFtuYW1lXVtpXSE9PWxpbmUmJm5ld0ltcGxpZWQucHVzaChpbXBsaWVkW25hbWVdW2ldKTswPT09bmV3SW1wbGllZC5sZW5ndGg/ZGVsZXRlIGltcGxpZWRbbmFtZV06aW1wbGllZFtuYW1lXT1uZXdJbXBsaWVkfX0sd2FyblVudXNlZD1mdW5jdGlvbihuYW1lLHRva2VuKXt2YXIgbGluZT10b2tlbi5saW5lLGNocj10b2tlbi5jaGFyYWN0ZXI7b3B0aW9uLnVudXNlZCYmd2FybmluZ0F0KFxcXCIne2F9JyBpcyBkZWZpbmVkIGJ1dCBuZXZlciB1c2VkLlxcXCIsbGluZSxjaHIsbmFtZSksdW51c2Vkcy5wdXNoKHtuYW1lOm5hbWUsbGluZTpsaW5lLGNoYXJhY3RlcjpjaHJ9KX0sY2hlY2tVbnVzZWQ9ZnVuY3Rpb24oZnVuYyxrZXkpe3ZhciB0eXBlPWZ1bmNba2V5XSx0b2tlbj1mdW5jW1xcXCIodG9rZW5zKVxcXCJdW2tleV07XFxcIihcXFwiIT09a2V5LmNoYXJBdCgwKSYmKFxcXCJ1bnVzZWRcXFwiPT09dHlwZXx8XFxcInVuY3Rpb25cXFwiPT09dHlwZSkmJihmdW5jW1xcXCIocGFyYW1zKVxcXCJdJiYtMSE9PWZ1bmNbXFxcIihwYXJhbXMpXFxcIl0uaW5kZXhPZihrZXkpfHx3YXJuVW51c2VkKGtleSx0b2tlbikpfTtmb3IoaT0wO0pTSElOVC51bmRlZnMubGVuZ3RoPmk7aSs9MSlrPUpTSElOVC51bmRlZnNbaV0uc2xpY2UoMCksbWFya0RlZmluZWQoa1syXS52YWx1ZSxrWzBdKT9jbGVhckltcGxpZWQoa1syXS52YWx1ZSxrWzJdLmxpbmUpOndhcm5pbmcuYXBwbHkod2FybmluZyxrLnNsaWNlKDEpKTtmdW5jdGlvbnMuZm9yRWFjaChmdW5jdGlvbihmdW5jKXtmb3IodmFyIGtleSBpbiBmdW5jKWlzX293bihmdW5jLGtleSkmJmNoZWNrVW51c2VkKGZ1bmMsa2V5KTtpZihmdW5jW1xcXCIocGFyYW1zKVxcXCJdKWZvcih2YXIgdHlwZSxwYXJhbXM9ZnVuY1tcXFwiKHBhcmFtcylcXFwiXS5zbGljZSgpLHBhcmFtPXBhcmFtcy5wb3AoKTtwYXJhbTspe2lmKHR5cGU9ZnVuY1twYXJhbV0sXFxcInVuZGVmaW5lZFxcXCI9PT1wYXJhbSlyZXR1cm47aWYoXFxcInVudXNlZFxcXCIhPT10eXBlJiZcXFwidW5jdGlvblxcXCIhPT10eXBlKXJldHVybjt3YXJuVW51c2VkKHBhcmFtLGZ1bmNbXFxcIih0b2tlbnMpXFxcIl1bcGFyYW1dKSxwYXJhbT1wYXJhbXMucG9wKCl9fSk7Zm9yKHZhciBrZXkgaW4gZGVjbGFyZWQpaXNfb3duKGRlY2xhcmVkLGtleSkmJiFpc19vd24oZ2xvYmFsLGtleSkmJndhcm5VbnVzZWQoa2V5LGRlY2xhcmVkW2tleV0pfWNhdGNoKGUpe2lmKGUpe3ZhciBudD1uZXh0dG9rZW58fHt9O0pTSElOVC5lcnJvcnMucHVzaCh7cmF3OmUucmF3LHJlYXNvbjplLm1lc3NhZ2UsbGluZTplLmxpbmV8fG50LmxpbmUsY2hhcmFjdGVyOmUuY2hhcmFjdGVyfHxudC5mcm9tfSxudWxsKX19aWYoXFxcIihtYWluKVxcXCI9PT1KU0hJTlQuc2NvcGUpZm9yKG89b3x8e30saT0wO0pTSElOVC5pbnRlcm5hbHMubGVuZ3RoPmk7aSs9MSlrPUpTSElOVC5pbnRlcm5hbHNbaV0sby5zY29wZT1rLmVsZW0saXRzZWxmKGsudmFsdWUsbyxnKTtyZXR1cm4gMD09PUpTSElOVC5lcnJvcnMubGVuZ3RofTtyZXR1cm4gaXRzZWxmLmRhdGE9ZnVuY3Rpb24oKXt2YXIgZnUsZixpLGosbixnbG9iYWxzLGRhdGE9e2Z1bmN0aW9uczpbXSxvcHRpb25zOm9wdGlvbn0saW1wbGllZHM9W10sbWVtYmVycz1bXTtpdHNlbGYuZXJyb3JzLmxlbmd0aCYmKGRhdGEuZXJyb3JzPWl0c2VsZi5lcnJvcnMpLGpzb25tb2RlJiYoZGF0YS5qc29uPSEwKTtmb3IobiBpbiBpbXBsaWVkKWlzX293bihpbXBsaWVkLG4pJiZpbXBsaWVkcy5wdXNoKHtuYW1lOm4sbGluZTppbXBsaWVkW25dfSk7Zm9yKGltcGxpZWRzLmxlbmd0aD4wJiYoZGF0YS5pbXBsaWVkcz1pbXBsaWVkcyksdXJscy5sZW5ndGg+MCYmKGRhdGEudXJscz11cmxzKSxnbG9iYWxzPU9iamVjdC5rZXlzKHNjb3BlKSxnbG9iYWxzLmxlbmd0aD4wJiYoZGF0YS5nbG9iYWxzPWdsb2JhbHMpLGk9MTtmdW5jdGlvbnMubGVuZ3RoPmk7aSs9MSl7Zm9yKGY9ZnVuY3Rpb25zW2ldLGZ1PXt9LGo9MDtmdW5jdGlvbmljaXR5Lmxlbmd0aD5qO2orPTEpZnVbZnVuY3Rpb25pY2l0eVtqXV09W107Zm9yKGo9MDtmdW5jdGlvbmljaXR5Lmxlbmd0aD5qO2orPTEpMD09PWZ1W2Z1bmN0aW9uaWNpdHlbal1dLmxlbmd0aCYmZGVsZXRlIGZ1W2Z1bmN0aW9uaWNpdHlbal1dO2Z1Lm5hbWU9ZltcXFwiKG5hbWUpXFxcIl0sZnUucGFyYW09ZltcXFwiKHBhcmFtcylcXFwiXSxmdS5saW5lPWZbXFxcIihsaW5lKVxcXCJdLGZ1LmNoYXJhY3Rlcj1mW1xcXCIoY2hhcmFjdGVyKVxcXCJdLGZ1Lmxhc3Q9ZltcXFwiKGxhc3QpXFxcIl0sZnUubGFzdGNoYXJhY3Rlcj1mW1xcXCIobGFzdGNoYXJhY3RlcilcXFwiXSxkYXRhLmZ1bmN0aW9ucy5wdXNoKGZ1KX11bnVzZWRzLmxlbmd0aD4wJiYoZGF0YS51bnVzZWQ9dW51c2VkcyksbWVtYmVycz1bXTtmb3IobiBpbiBtZW1iZXIpaWYoXFxcIm51bWJlclxcXCI9PXR5cGVvZiBtZW1iZXJbbl0pe2RhdGEubWVtYmVyPW1lbWJlcjticmVha31yZXR1cm4gZGF0YX0saXRzZWxmLmpzaGludD1pdHNlbGYsaXRzZWxmfSgpO1xcXCJvYmplY3RcXFwiPT10eXBlb2YgZXhwb3J0cyYmZXhwb3J0cyYmKGV4cG9ydHMuSlNISU5UPUpTSElOVCl9KTtcIjsiLCJtb2R1bGUuZXhwb3J0cy5pZCA9ICdhY2UvbW9kZS9qc29uX3dvcmtlcic7XG5tb2R1bGUuZXhwb3J0cy5zcmMgPSBcIlxcXCJubyB1c2Ugc3RyaWN0XFxcIjsoZnVuY3Rpb24od2luZG93KXt2b2lkIDAhPT13aW5kb3cud2luZG93JiZ3aW5kb3cuZG9jdW1lbnR8fCh3aW5kb3cuY29uc29sZT17bG9nOmZ1bmN0aW9uKCl7dmFyIG1zZ3M9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO3Bvc3RNZXNzYWdlKHt0eXBlOlxcXCJsb2dcXFwiLGRhdGE6bXNnc30pfSxlcnJvcjpmdW5jdGlvbigpe3ZhciBtc2dzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtwb3N0TWVzc2FnZSh7dHlwZTpcXFwibG9nXFxcIixkYXRhOm1zZ3N9KX19LHdpbmRvdy53aW5kb3c9d2luZG93LHdpbmRvdy5hY2U9d2luZG93LHdpbmRvdy5ub3JtYWxpemVNb2R1bGU9ZnVuY3Rpb24ocGFyZW50SWQsbW9kdWxlTmFtZSl7aWYoLTEhPT1tb2R1bGVOYW1lLmluZGV4T2YoXFxcIiFcXFwiKSl7dmFyIGNodW5rcz1tb2R1bGVOYW1lLnNwbGl0KFxcXCIhXFxcIik7cmV0dXJuIG5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCxjaHVua3NbMF0pK1xcXCIhXFxcIitub3JtYWxpemVNb2R1bGUocGFyZW50SWQsY2h1bmtzWzFdKX1pZihcXFwiLlxcXCI9PW1vZHVsZU5hbWUuY2hhckF0KDApKXt2YXIgYmFzZT1wYXJlbnRJZC5zcGxpdChcXFwiL1xcXCIpLnNsaWNlKDAsLTEpLmpvaW4oXFxcIi9cXFwiKTtmb3IobW9kdWxlTmFtZT1iYXNlK1xcXCIvXFxcIittb2R1bGVOYW1lOy0xIT09bW9kdWxlTmFtZS5pbmRleE9mKFxcXCIuXFxcIikmJnByZXZpb3VzIT1tb2R1bGVOYW1lOyl7dmFyIHByZXZpb3VzPW1vZHVsZU5hbWU7bW9kdWxlTmFtZT1tb2R1bGVOYW1lLnJlcGxhY2UoL1xcXFwvXFxcXC5cXFxcLy8sXFxcIi9cXFwiKS5yZXBsYWNlKC9bXlxcXFwvXStcXFxcL1xcXFwuXFxcXC5cXFxcLy8sXFxcIlxcXCIpfX1yZXR1cm4gbW9kdWxlTmFtZX0sd2luZG93LmFjZXF1aXJlPWZ1bmN0aW9uKHBhcmVudElkLGlkKXtpZihpZHx8KGlkPXBhcmVudElkLHBhcmVudElkPW51bGwpLCFpZC5jaGFyQXQpdGhyb3cgRXJyb3IoXFxcIndvcmtlci5qcyBhY2VxdWlyZSgpIGFjY2VwdHMgb25seSAocGFyZW50SWQsIGlkKSBhcyBhcmd1bWVudHNcXFwiKTtpZD1ub3JtYWxpemVNb2R1bGUocGFyZW50SWQsaWQpO3ZhciBtb2R1bGU9YWNlcXVpcmUubW9kdWxlc1tpZF07aWYobW9kdWxlKXJldHVybiBtb2R1bGUuaW5pdGlhbGl6ZWR8fChtb2R1bGUuaW5pdGlhbGl6ZWQ9ITAsbW9kdWxlLmV4cG9ydHM9bW9kdWxlLmZhY3RvcnkoKS5leHBvcnRzKSxtb2R1bGUuZXhwb3J0czt2YXIgY2h1bmtzPWlkLnNwbGl0KFxcXCIvXFxcIik7Y2h1bmtzWzBdPWFjZXF1aXJlLnRsbnNbY2h1bmtzWzBdXXx8Y2h1bmtzWzBdO3ZhciBwYXRoPWNodW5rcy5qb2luKFxcXCIvXFxcIikrXFxcIi5qc1xcXCI7cmV0dXJuIGFjZXF1aXJlLmlkPWlkLGltcG9ydFNjcmlwdHMocGF0aCksYWNlcXVpcmUocGFyZW50SWQsaWQpfSxhY2VxdWlyZS5tb2R1bGVzPXt9LGFjZXF1aXJlLnRsbnM9e30sd2luZG93LmRlZmluZT1mdW5jdGlvbihpZCxkZXBzLGZhY3Rvcnkpe2lmKDI9PWFyZ3VtZW50cy5sZW5ndGg/KGZhY3Rvcnk9ZGVwcyxcXFwic3RyaW5nXFxcIiE9dHlwZW9mIGlkJiYoZGVwcz1pZCxpZD1hY2VxdWlyZS5pZCkpOjE9PWFyZ3VtZW50cy5sZW5ndGgmJihmYWN0b3J5PWlkLGlkPWFjZXF1aXJlLmlkKSwwIT09aWQuaW5kZXhPZihcXFwidGV4dCFcXFwiKSl7dmFyIHJlcT1mdW5jdGlvbihkZXBzLGZhY3Rvcnkpe3JldHVybiBhY2VxdWlyZShpZCxkZXBzLGZhY3RvcnkpfTthY2VxdWlyZS5tb2R1bGVzW2lkXT17ZmFjdG9yeTpmdW5jdGlvbigpe3ZhciBtb2R1bGU9e2V4cG9ydHM6e319LHJldHVybkV4cG9ydHM9ZmFjdG9yeShyZXEsbW9kdWxlLmV4cG9ydHMsbW9kdWxlKTtyZXR1cm4gcmV0dXJuRXhwb3J0cyYmKG1vZHVsZS5leHBvcnRzPXJldHVybkV4cG9ydHMpLG1vZHVsZX19fX0sd2luZG93LmluaXRCYXNlVXJscz1mdW5jdGlvbiBpbml0QmFzZVVybHModG9wTGV2ZWxOYW1lc3BhY2VzKXthY2VxdWlyZS50bG5zPXRvcExldmVsTmFtZXNwYWNlc30sd2luZG93LmluaXRTZW5kZXI9ZnVuY3Rpb24gaW5pdFNlbmRlcigpe3ZhciBFdmVudEVtaXR0ZXI9YWNlcXVpcmUoXFxcImFjZS9saWIvZXZlbnRfZW1pdHRlclxcXCIpLkV2ZW50RW1pdHRlcixvb3A9YWNlcXVpcmUoXFxcImFjZS9saWIvb29wXFxcIiksU2VuZGVyPWZ1bmN0aW9uKCl7fTtyZXR1cm4gZnVuY3Rpb24oKXtvb3AuaW1wbGVtZW50KHRoaXMsRXZlbnRFbWl0dGVyKSx0aGlzLmNhbGxiYWNrPWZ1bmN0aW9uKGRhdGEsY2FsbGJhY2tJZCl7cG9zdE1lc3NhZ2Uoe3R5cGU6XFxcImNhbGxcXFwiLGlkOmNhbGxiYWNrSWQsZGF0YTpkYXRhfSl9LHRoaXMuZW1pdD1mdW5jdGlvbihuYW1lLGRhdGEpe3Bvc3RNZXNzYWdlKHt0eXBlOlxcXCJldmVudFxcXCIsbmFtZTpuYW1lLGRhdGE6ZGF0YX0pfX0uY2FsbChTZW5kZXIucHJvdG90eXBlKSxuZXcgU2VuZGVyfSx3aW5kb3cubWFpbj1udWxsLHdpbmRvdy5zZW5kZXI9bnVsbCx3aW5kb3cub25tZXNzYWdlPWZ1bmN0aW9uKGUpe3ZhciBtc2c9ZS5kYXRhO2lmKG1zZy5jb21tYW5kKXtpZighbWFpblttc2cuY29tbWFuZF0pdGhyb3cgRXJyb3IoXFxcIlVua25vd24gY29tbWFuZDpcXFwiK21zZy5jb21tYW5kKTttYWluW21zZy5jb21tYW5kXS5hcHBseShtYWluLG1zZy5hcmdzKX1lbHNlIGlmKG1zZy5pbml0KXtpbml0QmFzZVVybHMobXNnLnRsbnMpLGFjZXF1aXJlKFxcXCJhY2UvbGliL2VzNS1zaGltXFxcIiksc2VuZGVyPWluaXRTZW5kZXIoKTt2YXIgY2xheno9YWNlcXVpcmUobXNnLm1vZHVsZSlbbXNnLmNsYXNzbmFtZV07bWFpbj1uZXcgY2xhenooc2VuZGVyKX1lbHNlIG1zZy5ldmVudCYmc2VuZGVyJiZzZW5kZXIuX2VtaXQobXNnLmV2ZW50LG1zZy5kYXRhKX0pfSkodGhpcyksYWNlLmRlZmluZShcXFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7dmFyIEV2ZW50RW1pdHRlcj17fSxzdG9wUHJvcGFnYXRpb249ZnVuY3Rpb24oKXt0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZD0hMH0scHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITB9O0V2ZW50RW1pdHRlci5fZW1pdD1FdmVudEVtaXR0ZXIuX2Rpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oZXZlbnROYW1lLGUpe3RoaXMuX2V2ZW50UmVnaXN0cnl8fCh0aGlzLl9ldmVudFJlZ2lzdHJ5PXt9KSx0aGlzLl9kZWZhdWx0SGFuZGxlcnN8fCh0aGlzLl9kZWZhdWx0SGFuZGxlcnM9e30pO3ZhciBsaXN0ZW5lcnM9dGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdfHxbXSxkZWZhdWx0SGFuZGxlcj10aGlzLl9kZWZhdWx0SGFuZGxlcnNbZXZlbnROYW1lXTtpZihsaXN0ZW5lcnMubGVuZ3RofHxkZWZhdWx0SGFuZGxlcil7XFxcIm9iamVjdFxcXCI9PXR5cGVvZiBlJiZlfHwoZT17fSksZS50eXBlfHwoZS50eXBlPWV2ZW50TmFtZSksZS5zdG9wUHJvcGFnYXRpb258fChlLnN0b3BQcm9wYWdhdGlvbj1zdG9wUHJvcGFnYXRpb24pLGUucHJldmVudERlZmF1bHR8fChlLnByZXZlbnREZWZhdWx0PXByZXZlbnREZWZhdWx0KTtmb3IodmFyIGk9MDtsaXN0ZW5lcnMubGVuZ3RoPmkmJihsaXN0ZW5lcnNbaV0oZSx0aGlzKSwhZS5wcm9wYWdhdGlvblN0b3BwZWQpO2krKyk7cmV0dXJuIGRlZmF1bHRIYW5kbGVyJiYhZS5kZWZhdWx0UHJldmVudGVkP2RlZmF1bHRIYW5kbGVyKGUsdGhpcyk6dm9pZCAwfX0sRXZlbnRFbWl0dGVyLl9zaWduYWw9ZnVuY3Rpb24oZXZlbnROYW1lLGUpe3ZhciBsaXN0ZW5lcnM9KHRoaXMuX2V2ZW50UmVnaXN0cnl8fHt9KVtldmVudE5hbWVdO2lmKGxpc3RlbmVycylmb3IodmFyIGk9MDtsaXN0ZW5lcnMubGVuZ3RoPmk7aSsrKWxpc3RlbmVyc1tpXShlLHRoaXMpfSxFdmVudEVtaXR0ZXIub25jZT1mdW5jdGlvbihldmVudE5hbWUsY2FsbGJhY2spe3ZhciBfc2VsZj10aGlzO2NhbGxiYWNrJiZ0aGlzLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLGZ1bmN0aW9uIG5ld0NhbGxiYWNrKCl7X3NlbGYucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsbmV3Q2FsbGJhY2spLGNhbGxiYWNrLmFwcGx5KG51bGwsYXJndW1lbnRzKX0pfSxFdmVudEVtaXR0ZXIuc2V0RGVmYXVsdEhhbmRsZXI9ZnVuY3Rpb24oZXZlbnROYW1lLGNhbGxiYWNrKXt2YXIgaGFuZGxlcnM9dGhpcy5fZGVmYXVsdEhhbmRsZXJzO2lmKGhhbmRsZXJzfHwoaGFuZGxlcnM9dGhpcy5fZGVmYXVsdEhhbmRsZXJzPXtfZGlzYWJsZWRfOnt9fSksaGFuZGxlcnNbZXZlbnROYW1lXSl7dmFyIG9sZD1oYW5kbGVyc1tldmVudE5hbWVdLGRpc2FibGVkPWhhbmRsZXJzLl9kaXNhYmxlZF9bZXZlbnROYW1lXTtkaXNhYmxlZHx8KGhhbmRsZXJzLl9kaXNhYmxlZF9bZXZlbnROYW1lXT1kaXNhYmxlZD1bXSksZGlzYWJsZWQucHVzaChvbGQpO3ZhciBpPWRpc2FibGVkLmluZGV4T2YoY2FsbGJhY2spOy0xIT1pJiZkaXNhYmxlZC5zcGxpY2UoaSwxKX1oYW5kbGVyc1tldmVudE5hbWVdPWNhbGxiYWNrfSxFdmVudEVtaXR0ZXIucmVtb3ZlRGVmYXVsdEhhbmRsZXI9ZnVuY3Rpb24oZXZlbnROYW1lLGNhbGxiYWNrKXt2YXIgaGFuZGxlcnM9dGhpcy5fZGVmYXVsdEhhbmRsZXJzO2lmKGhhbmRsZXJzKXt2YXIgZGlzYWJsZWQ9aGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdO2lmKGhhbmRsZXJzW2V2ZW50TmFtZV09PWNhbGxiYWNrKWhhbmRsZXJzW2V2ZW50TmFtZV0sZGlzYWJsZWQmJnRoaXMuc2V0RGVmYXVsdEhhbmRsZXIoZXZlbnROYW1lLGRpc2FibGVkLnBvcCgpKTtlbHNlIGlmKGRpc2FibGVkKXt2YXIgaT1kaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTstMSE9aSYmZGlzYWJsZWQuc3BsaWNlKGksMSl9fX0sRXZlbnRFbWl0dGVyLm9uPUV2ZW50RW1pdHRlci5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50TmFtZSxjYWxsYmFjayxjYXB0dXJpbmcpe3RoaXMuX2V2ZW50UmVnaXN0cnk9dGhpcy5fZXZlbnRSZWdpc3RyeXx8e307dmFyIGxpc3RlbmVycz10aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV07cmV0dXJuIGxpc3RlbmVyc3x8KGxpc3RlbmVycz10aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV09W10pLC0xPT1saXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjaykmJmxpc3RlbmVyc1tjYXB0dXJpbmc/XFxcInVuc2hpZnRcXFwiOlxcXCJwdXNoXFxcIl0oY2FsbGJhY2spLGNhbGxiYWNrfSxFdmVudEVtaXR0ZXIub2ZmPUV2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lcj1FdmVudEVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihldmVudE5hbWUsY2FsbGJhY2spe3RoaXMuX2V2ZW50UmVnaXN0cnk9dGhpcy5fZXZlbnRSZWdpc3RyeXx8e307dmFyIGxpc3RlbmVycz10aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV07aWYobGlzdGVuZXJzKXt2YXIgaW5kZXg9bGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spOy0xIT09aW5kZXgmJmxpc3RlbmVycy5zcGxpY2UoaW5kZXgsMSl9fSxFdmVudEVtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKGV2ZW50TmFtZSl7dGhpcy5fZXZlbnRSZWdpc3RyeSYmKHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXT1bXSl9LGV4cG9ydHMuRXZlbnRFbWl0dGVyPUV2ZW50RW1pdHRlcn0pLGFjZS5kZWZpbmUoXFxcImFjZS9saWIvb29wXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7ZXhwb3J0cy5pbmhlcml0cz1mdW5jdGlvbigpe3ZhciB0ZW1wQ3Rvcj1mdW5jdGlvbigpe307cmV0dXJuIGZ1bmN0aW9uKGN0b3Isc3VwZXJDdG9yKXt0ZW1wQ3Rvci5wcm90b3R5cGU9c3VwZXJDdG9yLnByb3RvdHlwZSxjdG9yLnN1cGVyXz1zdXBlckN0b3IucHJvdG90eXBlLGN0b3IucHJvdG90eXBlPW5ldyB0ZW1wQ3RvcixjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1jdG9yfX0oKSxleHBvcnRzLm1peGluPWZ1bmN0aW9uKG9iaixtaXhpbil7Zm9yKHZhciBrZXkgaW4gbWl4aW4pb2JqW2tleV09bWl4aW5ba2V5XTtyZXR1cm4gb2JqfSxleHBvcnRzLmltcGxlbWVudD1mdW5jdGlvbihwcm90byxtaXhpbil7ZXhwb3J0cy5taXhpbihwcm90byxtaXhpbil9fSksYWNlLmRlZmluZShcXFwiYWNlL2xpYi9lczUtc2hpbVxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCJdLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gRW1wdHkoKXt9ZnVuY3Rpb24gZG9lc0RlZmluZVByb3BlcnR5V29yayhvYmplY3Qpe3RyeXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCxcXFwic2VudGluZWxcXFwiLHt9KSxcXFwic2VudGluZWxcXFwiaW4gb2JqZWN0fWNhdGNoKGV4Y2VwdGlvbil7fX1mdW5jdGlvbiB0b0ludGVnZXIobil7cmV0dXJuIG49K24sbiE9PW4/bj0wOjAhPT1uJiZuIT09MS8wJiZuIT09LSgxLzApJiYobj0obj4wfHwtMSkqTWF0aC5mbG9vcihNYXRoLmFicyhuKSkpLG59RnVuY3Rpb24ucHJvdG90eXBlLmJpbmR8fChGdW5jdGlvbi5wcm90b3R5cGUuYmluZD1mdW5jdGlvbih0aGF0KXt2YXIgdGFyZ2V0PXRoaXM7aWYoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIHRhcmdldCl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJGdW5jdGlvbi5wcm90b3R5cGUuYmluZCBjYWxsZWQgb24gaW5jb21wYXRpYmxlIFxcXCIrdGFyZ2V0KTt2YXIgYXJncz1zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxib3VuZD1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiBib3VuZCl7dmFyIHJlc3VsdD10YXJnZXQuYXBwbHkodGhpcyxhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKTtyZXR1cm4gT2JqZWN0KHJlc3VsdCk9PT1yZXN1bHQ/cmVzdWx0OnRoaXN9cmV0dXJuIHRhcmdldC5hcHBseSh0aGF0LGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpfTtyZXR1cm4gdGFyZ2V0LnByb3RvdHlwZSYmKEVtcHR5LnByb3RvdHlwZT10YXJnZXQucHJvdG90eXBlLGJvdW5kLnByb3RvdHlwZT1uZXcgRW1wdHksRW1wdHkucHJvdG90eXBlPW51bGwpLGJvdW5kfSk7dmFyIGRlZmluZUdldHRlcixkZWZpbmVTZXR0ZXIsbG9va3VwR2V0dGVyLGxvb2t1cFNldHRlcixzdXBwb3J0c0FjY2Vzc29ycyxjYWxsPUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLHByb3RvdHlwZU9mQXJyYXk9QXJyYXkucHJvdG90eXBlLHByb3RvdHlwZU9mT2JqZWN0PU9iamVjdC5wcm90b3R5cGUsc2xpY2U9cHJvdG90eXBlT2ZBcnJheS5zbGljZSxfdG9TdHJpbmc9Y2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0LnRvU3RyaW5nKSxvd25zPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5oYXNPd25Qcm9wZXJ0eSk7aWYoKHN1cHBvcnRzQWNjZXNzb3JzPW93bnMocHJvdG90eXBlT2ZPYmplY3QsXFxcIl9fZGVmaW5lR2V0dGVyX19cXFwiKSkmJihkZWZpbmVHZXR0ZXI9Y2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0Ll9fZGVmaW5lR2V0dGVyX18pLGRlZmluZVNldHRlcj1jYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19kZWZpbmVTZXR0ZXJfXyksbG9va3VwR2V0dGVyPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5fX2xvb2t1cEdldHRlcl9fKSxsb29rdXBTZXR0ZXI9Y2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0Ll9fbG9va3VwU2V0dGVyX18pKSwyIT1bMSwyXS5zcGxpY2UoMCkubGVuZ3RoKWlmKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gbWFrZUFycmF5KGwpe3ZhciBhPUFycmF5KGwrMik7cmV0dXJuIGFbMF09YVsxXT0wLGF9dmFyIGxlbmd0aEJlZm9yZSxhcnJheT1bXTtyZXR1cm4gYXJyYXkuc3BsaWNlLmFwcGx5KGFycmF5LG1ha2VBcnJheSgyMCkpLGFycmF5LnNwbGljZS5hcHBseShhcnJheSxtYWtlQXJyYXkoMjYpKSxsZW5ndGhCZWZvcmU9YXJyYXkubGVuZ3RoLGFycmF5LnNwbGljZSg1LDAsXFxcIlhYWFxcXCIpLGxlbmd0aEJlZm9yZSsxPT1hcnJheS5sZW5ndGgsbGVuZ3RoQmVmb3JlKzE9PWFycmF5Lmxlbmd0aD8hMDp2b2lkIDB9KCkpe3ZhciBhcnJheV9zcGxpY2U9QXJyYXkucHJvdG90eXBlLnNwbGljZTtBcnJheS5wcm90b3R5cGUuc3BsaWNlPWZ1bmN0aW9uKHN0YXJ0LGRlbGV0ZUNvdW50KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9hcnJheV9zcGxpY2UuYXBwbHkodGhpcyxbdm9pZCAwPT09c3RhcnQ/MDpzdGFydCx2b2lkIDA9PT1kZWxldGVDb3VudD90aGlzLmxlbmd0aC1zdGFydDpkZWxldGVDb3VudF0uY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKSk6W119fWVsc2UgQXJyYXkucHJvdG90eXBlLnNwbGljZT1mdW5jdGlvbihwb3MscmVtb3ZlQ291bnQpe3ZhciBsZW5ndGg9dGhpcy5sZW5ndGg7cG9zPjA/cG9zPmxlbmd0aCYmKHBvcz1sZW5ndGgpOnZvaWQgMD09cG9zP3Bvcz0wOjA+cG9zJiYocG9zPU1hdGgubWF4KGxlbmd0aCtwb3MsMCkpLGxlbmd0aD5wb3MrcmVtb3ZlQ291bnR8fChyZW1vdmVDb3VudD1sZW5ndGgtcG9zKTt2YXIgcmVtb3ZlZD10aGlzLnNsaWNlKHBvcyxwb3MrcmVtb3ZlQ291bnQpLGluc2VydD1zbGljZS5jYWxsKGFyZ3VtZW50cywyKSxhZGQ9aW5zZXJ0Lmxlbmd0aDtpZihwb3M9PT1sZW5ndGgpYWRkJiZ0aGlzLnB1c2guYXBwbHkodGhpcyxpbnNlcnQpO2Vsc2V7dmFyIHJlbW92ZT1NYXRoLm1pbihyZW1vdmVDb3VudCxsZW5ndGgtcG9zKSx0YWlsT2xkUG9zPXBvcytyZW1vdmUsdGFpbE5ld1Bvcz10YWlsT2xkUG9zK2FkZC1yZW1vdmUsdGFpbENvdW50PWxlbmd0aC10YWlsT2xkUG9zLGxlbmd0aEFmdGVyUmVtb3ZlPWxlbmd0aC1yZW1vdmU7aWYodGFpbE9sZFBvcz50YWlsTmV3UG9zKWZvcih2YXIgaT0wO3RhaWxDb3VudD5pOysraSl0aGlzW3RhaWxOZXdQb3MraV09dGhpc1t0YWlsT2xkUG9zK2ldO2Vsc2UgaWYodGFpbE5ld1Bvcz50YWlsT2xkUG9zKWZvcihpPXRhaWxDb3VudDtpLS07KXRoaXNbdGFpbE5ld1BvcytpXT10aGlzW3RhaWxPbGRQb3MraV07aWYoYWRkJiZwb3M9PT1sZW5ndGhBZnRlclJlbW92ZSl0aGlzLmxlbmd0aD1sZW5ndGhBZnRlclJlbW92ZSx0aGlzLnB1c2guYXBwbHkodGhpcyxpbnNlcnQpO2Vsc2UgZm9yKHRoaXMubGVuZ3RoPWxlbmd0aEFmdGVyUmVtb3ZlK2FkZCxpPTA7YWRkPmk7KytpKXRoaXNbcG9zK2ldPWluc2VydFtpXX1yZXR1cm4gcmVtb3ZlZH07QXJyYXkuaXNBcnJheXx8KEFycmF5LmlzQXJyYXk9ZnVuY3Rpb24ob2JqKXtyZXR1cm5cXFwiW29iamVjdCBBcnJheV1cXFwiPT1fdG9TdHJpbmcob2JqKX0pO3ZhciBib3hlZFN0cmluZz1PYmplY3QoXFxcImFcXFwiKSxzcGxpdFN0cmluZz1cXFwiYVxcXCIhPWJveGVkU3RyaW5nWzBdfHwhKDAgaW4gYm94ZWRTdHJpbmcpO2lmKEFycmF5LnByb3RvdHlwZS5mb3JFYWNofHwoQXJyYXkucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24oZnVuKXt2YXIgb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6b2JqZWN0LHRoaXNwPWFyZ3VtZW50c1sxXSxpPS0xLGxlbmd0aD1zZWxmLmxlbmd0aD4+PjA7aWYoXFxcIltvYmplY3QgRnVuY3Rpb25dXFxcIiE9X3RvU3RyaW5nKGZ1bikpdGhyb3cgbmV3IFR5cGVFcnJvcjtmb3IoO2xlbmd0aD4rK2k7KWkgaW4gc2VsZiYmZnVuLmNhbGwodGhpc3Asc2VsZltpXSxpLG9iamVjdCl9KSxBcnJheS5wcm90b3R5cGUubWFwfHwoQXJyYXkucHJvdG90eXBlLm1hcD1mdW5jdGlvbihmdW4pe3ZhciBvYmplY3Q9dG9PYmplY3QodGhpcyksc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTpvYmplY3QsbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MCxyZXN1bHQ9QXJyYXkobGVuZ3RoKSx0aGlzcD1hcmd1bWVudHNbMV07aWYoXFxcIltvYmplY3QgRnVuY3Rpb25dXFxcIiE9X3RvU3RyaW5nKGZ1bikpdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4rXFxcIiBpcyBub3QgYSBmdW5jdGlvblxcXCIpO2Zvcih2YXIgaT0wO2xlbmd0aD5pO2krKylpIGluIHNlbGYmJihyZXN1bHRbaV09ZnVuLmNhbGwodGhpc3Asc2VsZltpXSxpLG9iamVjdCkpO3JldHVybiByZXN1bHR9KSxBcnJheS5wcm90b3R5cGUuZmlsdGVyfHwoQXJyYXkucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbihmdW4pe3ZhciB2YWx1ZSxvYmplY3Q9dG9PYmplY3QodGhpcyksc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTpvYmplY3QsbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MCxyZXN1bHQ9W10sdGhpc3A9YXJndW1lbnRzWzFdO2lmKFxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuK1xcXCIgaXMgbm90IGEgZnVuY3Rpb25cXFwiKTtmb3IodmFyIGk9MDtsZW5ndGg+aTtpKyspaSBpbiBzZWxmJiYodmFsdWU9c2VsZltpXSxmdW4uY2FsbCh0aGlzcCx2YWx1ZSxpLG9iamVjdCkmJnJlc3VsdC5wdXNoKHZhbHVlKSk7cmV0dXJuIHJlc3VsdH0pLEFycmF5LnByb3RvdHlwZS5ldmVyeXx8KEFycmF5LnByb3RvdHlwZS5ldmVyeT1mdW5jdGlvbihmdW4pe3ZhciBvYmplY3Q9dG9PYmplY3QodGhpcyksc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTpvYmplY3QsbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MCx0aGlzcD1hcmd1bWVudHNbMV07aWYoXFxcIltvYmplY3QgRnVuY3Rpb25dXFxcIiE9X3RvU3RyaW5nKGZ1bikpdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4rXFxcIiBpcyBub3QgYSBmdW5jdGlvblxcXCIpO2Zvcih2YXIgaT0wO2xlbmd0aD5pO2krKylpZihpIGluIHNlbGYmJiFmdW4uY2FsbCh0aGlzcCxzZWxmW2ldLGksb2JqZWN0KSlyZXR1cm4hMTtyZXR1cm4hMH0pLEFycmF5LnByb3RvdHlwZS5zb21lfHwoQXJyYXkucHJvdG90eXBlLnNvbWU9ZnVuY3Rpb24oZnVuKXt2YXIgb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjAsdGhpc3A9YXJndW1lbnRzWzFdO2lmKFxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuK1xcXCIgaXMgbm90IGEgZnVuY3Rpb25cXFwiKTtmb3IodmFyIGk9MDtsZW5ndGg+aTtpKyspaWYoaSBpbiBzZWxmJiZmdW4uY2FsbCh0aGlzcCxzZWxmW2ldLGksb2JqZWN0KSlyZXR1cm4hMDtyZXR1cm4hMX0pLEFycmF5LnByb3RvdHlwZS5yZWR1Y2V8fChBcnJheS5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOm9iamVjdCxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wO2lmKFxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuK1xcXCIgaXMgbm90IGEgZnVuY3Rpb25cXFwiKTtpZighbGVuZ3RoJiYxPT1hcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcInJlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWVcXFwiKTt2YXIgcmVzdWx0LGk9MDtpZihhcmd1bWVudHMubGVuZ3RoPj0yKXJlc3VsdD1hcmd1bWVudHNbMV07ZWxzZSBmb3IoOzspe2lmKGkgaW4gc2VsZil7cmVzdWx0PXNlbGZbaSsrXTticmVha31pZigrK2k+PWxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJyZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXFxcIil9Zm9yKDtsZW5ndGg+aTtpKyspaSBpbiBzZWxmJiYocmVzdWx0PWZ1bi5jYWxsKHZvaWQgMCxyZXN1bHQsc2VsZltpXSxpLG9iamVjdCkpO3JldHVybiByZXN1bHR9KSxBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHR8fChBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQ9ZnVuY3Rpb24oZnVuKXt2YXIgb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjA7aWYoXFxcIltvYmplY3QgRnVuY3Rpb25dXFxcIiE9X3RvU3RyaW5nKGZ1bikpdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4rXFxcIiBpcyBub3QgYSBmdW5jdGlvblxcXCIpO2lmKCFsZW5ndGgmJjE9PWFyZ3VtZW50cy5sZW5ndGgpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwicmVkdWNlUmlnaHQgb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXFxcIik7dmFyIHJlc3VsdCxpPWxlbmd0aC0xO2lmKGFyZ3VtZW50cy5sZW5ndGg+PTIpcmVzdWx0PWFyZ3VtZW50c1sxXTtlbHNlIGZvcig7Oyl7aWYoaSBpbiBzZWxmKXtyZXN1bHQ9c2VsZltpLS1dO2JyZWFrfWlmKDA+LS1pKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcInJlZHVjZVJpZ2h0IG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVxcXCIpfWRvIGkgaW4gdGhpcyYmKHJlc3VsdD1mdW4uY2FsbCh2b2lkIDAscmVzdWx0LHNlbGZbaV0saSxvYmplY3QpKTt3aGlsZShpLS0pO3JldHVybiByZXN1bHR9KSxBcnJheS5wcm90b3R5cGUuaW5kZXhPZiYmLTE9PVswLDFdLmluZGV4T2YoMSwyKXx8KEFycmF5LnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKHNvdWdodCl7dmFyIHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6dG9PYmplY3QodGhpcyksbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MDtpZighbGVuZ3RoKXJldHVybi0xO3ZhciBpPTA7Zm9yKGFyZ3VtZW50cy5sZW5ndGg+MSYmKGk9dG9JbnRlZ2VyKGFyZ3VtZW50c1sxXSkpLGk9aT49MD9pOk1hdGgubWF4KDAsbGVuZ3RoK2kpO2xlbmd0aD5pO2krKylpZihpIGluIHNlbGYmJnNlbGZbaV09PT1zb3VnaHQpcmV0dXJuIGk7cmV0dXJuLTF9KSxBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YmJi0xPT1bMCwxXS5sYXN0SW5kZXhPZigwLC0zKXx8KEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZj1mdW5jdGlvbihzb3VnaHQpe3ZhciBzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOnRvT2JqZWN0KHRoaXMpLGxlbmd0aD1zZWxmLmxlbmd0aD4+PjA7aWYoIWxlbmd0aClyZXR1cm4tMTt2YXIgaT1sZW5ndGgtMTtmb3IoYXJndW1lbnRzLmxlbmd0aD4xJiYoaT1NYXRoLm1pbihpLHRvSW50ZWdlcihhcmd1bWVudHNbMV0pKSksaT1pPj0wP2k6bGVuZ3RoLU1hdGguYWJzKGkpO2k+PTA7aS0tKWlmKGkgaW4gc2VsZiYmc291Z2h0PT09c2VsZltpXSlyZXR1cm4gaTtyZXR1cm4tMX0pLE9iamVjdC5nZXRQcm90b3R5cGVPZnx8KE9iamVjdC5nZXRQcm90b3R5cGVPZj1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBvYmplY3QuX19wcm90b19ffHwob2JqZWN0LmNvbnN0cnVjdG9yP29iamVjdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6cHJvdG90eXBlT2ZPYmplY3QpfSksIU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ipe3ZhciBFUlJfTk9OX09CSkVDVD1cXFwiT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciBjYWxsZWQgb24gYSBub24tb2JqZWN0OiBcXFwiO09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I9ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnR5KXtpZihcXFwib2JqZWN0XFxcIiE9dHlwZW9mIG9iamVjdCYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIG9iamVjdHx8bnVsbD09PW9iamVjdCl0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9OT05fT0JKRUNUK29iamVjdCk7aWYob3ducyhvYmplY3QscHJvcGVydHkpKXt2YXIgZGVzY3JpcHRvcixnZXR0ZXIsc2V0dGVyO2lmKGRlc2NyaXB0b3I9e2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSxzdXBwb3J0c0FjY2Vzc29ycyl7dmFyIHByb3RvdHlwZT1vYmplY3QuX19wcm90b19fO29iamVjdC5fX3Byb3RvX189cHJvdG90eXBlT2ZPYmplY3Q7dmFyIGdldHRlcj1sb29rdXBHZXR0ZXIob2JqZWN0LHByb3BlcnR5KSxzZXR0ZXI9bG9va3VwU2V0dGVyKG9iamVjdCxwcm9wZXJ0eSk7aWYob2JqZWN0Ll9fcHJvdG9fXz1wcm90b3R5cGUsZ2V0dGVyfHxzZXR0ZXIpcmV0dXJuIGdldHRlciYmKGRlc2NyaXB0b3IuZ2V0PWdldHRlciksc2V0dGVyJiYoZGVzY3JpcHRvci5zZXQ9c2V0dGVyKSxkZXNjcmlwdG9yfXJldHVybiBkZXNjcmlwdG9yLnZhbHVlPW9iamVjdFtwcm9wZXJ0eV0sZGVzY3JpcHRvcn19fWlmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHwoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM9ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gT2JqZWN0LmtleXMob2JqZWN0KX0pLCFPYmplY3QuY3JlYXRlKXt2YXIgY3JlYXRlRW1wdHk7Y3JlYXRlRW1wdHk9bnVsbD09PU9iamVjdC5wcm90b3R5cGUuX19wcm90b19fP2Z1bmN0aW9uKCl7cmV0dXJue19fcHJvdG9fXzpudWxsfX06ZnVuY3Rpb24oKXt2YXIgZW1wdHk9e307Zm9yKHZhciBpIGluIGVtcHR5KWVtcHR5W2ldPW51bGw7cmV0dXJuIGVtcHR5LmNvbnN0cnVjdG9yPWVtcHR5Lmhhc093blByb3BlcnR5PWVtcHR5LnByb3BlcnR5SXNFbnVtZXJhYmxlPWVtcHR5LmlzUHJvdG90eXBlT2Y9ZW1wdHkudG9Mb2NhbGVTdHJpbmc9ZW1wdHkudG9TdHJpbmc9ZW1wdHkudmFsdWVPZj1lbXB0eS5fX3Byb3RvX189bnVsbCxlbXB0eX0sT2JqZWN0LmNyZWF0ZT1mdW5jdGlvbihwcm90b3R5cGUscHJvcGVydGllcyl7dmFyIG9iamVjdDtpZihudWxsPT09cHJvdG90eXBlKW9iamVjdD1jcmVhdGVFbXB0eSgpO2Vsc2V7aWYoXFxcIm9iamVjdFxcXCIhPXR5cGVvZiBwcm90b3R5cGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwidHlwZW9mIHByb3RvdHlwZVtcXFwiK3R5cGVvZiBwcm90b3R5cGUrXFxcIl0gIT0gJ29iamVjdCdcXFwiKTt2YXIgVHlwZT1mdW5jdGlvbigpe307VHlwZS5wcm90b3R5cGU9cHJvdG90eXBlLG9iamVjdD1uZXcgVHlwZSxvYmplY3QuX19wcm90b19fPXByb3RvdHlwZX1yZXR1cm4gdm9pZCAwIT09cHJvcGVydGllcyYmT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqZWN0LHByb3BlcnRpZXMpLG9iamVjdH19aWYoT2JqZWN0LmRlZmluZVByb3BlcnR5KXt2YXIgZGVmaW5lUHJvcGVydHlXb3Jrc09uT2JqZWN0PWRvZXNEZWZpbmVQcm9wZXJ0eVdvcmsoe30pLGRlZmluZVByb3BlcnR5V29ya3NPbkRvbT1cXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGRvY3VtZW50fHxkb2VzRGVmaW5lUHJvcGVydHlXb3JrKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXFxcImRpdlxcXCIpKTtpZighZGVmaW5lUHJvcGVydHlXb3Jrc09uT2JqZWN0fHwhZGVmaW5lUHJvcGVydHlXb3Jrc09uRG9tKXZhciBkZWZpbmVQcm9wZXJ0eUZhbGxiYWNrPU9iamVjdC5kZWZpbmVQcm9wZXJ0eX1pZighT2JqZWN0LmRlZmluZVByb3BlcnR5fHxkZWZpbmVQcm9wZXJ0eUZhbGxiYWNrKXt2YXIgRVJSX05PTl9PQkpFQ1RfREVTQ1JJUFRPUj1cXFwiUHJvcGVydHkgZGVzY3JpcHRpb24gbXVzdCBiZSBhbiBvYmplY3Q6IFxcXCIsRVJSX05PTl9PQkpFQ1RfVEFSR0VUPVxcXCJPYmplY3QuZGVmaW5lUHJvcGVydHkgY2FsbGVkIG9uIG5vbi1vYmplY3Q6IFxcXCIsRVJSX0FDQ0VTU09SU19OT1RfU1VQUE9SVEVEPVxcXCJnZXR0ZXJzICYgc2V0dGVycyBjYW4gbm90IGJlIGRlZmluZWQgb24gdGhpcyBqYXZhc2NyaXB0IGVuZ2luZVxcXCI7T2JqZWN0LmRlZmluZVByb3BlcnR5PWZ1bmN0aW9uKG9iamVjdCxwcm9wZXJ0eSxkZXNjcmlwdG9yKXtpZihcXFwib2JqZWN0XFxcIiE9dHlwZW9mIG9iamVjdCYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIG9iamVjdHx8bnVsbD09PW9iamVjdCl0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9OT05fT0JKRUNUX1RBUkdFVCtvYmplY3QpO2lmKFxcXCJvYmplY3RcXFwiIT10eXBlb2YgZGVzY3JpcHRvciYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGRlc2NyaXB0b3J8fG51bGw9PT1kZXNjcmlwdG9yKXRocm93IG5ldyBUeXBlRXJyb3IoRVJSX05PTl9PQkpFQ1RfREVTQ1JJUFRPUitkZXNjcmlwdG9yKTtpZihkZWZpbmVQcm9wZXJ0eUZhbGxiYWNrKXRyeXtyZXR1cm4gZGVmaW5lUHJvcGVydHlGYWxsYmFjay5jYWxsKE9iamVjdCxvYmplY3QscHJvcGVydHksZGVzY3JpcHRvcil9Y2F0Y2goZXhjZXB0aW9uKXt9aWYob3ducyhkZXNjcmlwdG9yLFxcXCJ2YWx1ZVxcXCIpKWlmKHN1cHBvcnRzQWNjZXNzb3JzJiYobG9va3VwR2V0dGVyKG9iamVjdCxwcm9wZXJ0eSl8fGxvb2t1cFNldHRlcihvYmplY3QscHJvcGVydHkpKSl7dmFyIHByb3RvdHlwZT1vYmplY3QuX19wcm90b19fO29iamVjdC5fX3Byb3RvX189cHJvdG90eXBlT2ZPYmplY3QsZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV0sb2JqZWN0W3Byb3BlcnR5XT1kZXNjcmlwdG9yLnZhbHVlLG9iamVjdC5fX3Byb3RvX189cHJvdG90eXBlfWVsc2Ugb2JqZWN0W3Byb3BlcnR5XT1kZXNjcmlwdG9yLnZhbHVlO2Vsc2V7aWYoIXN1cHBvcnRzQWNjZXNzb3JzKXRocm93IG5ldyBUeXBlRXJyb3IoRVJSX0FDQ0VTU09SU19OT1RfU1VQUE9SVEVEKTtvd25zKGRlc2NyaXB0b3IsXFxcImdldFxcXCIpJiZkZWZpbmVHZXR0ZXIob2JqZWN0LHByb3BlcnR5LGRlc2NyaXB0b3IuZ2V0KSxvd25zKGRlc2NyaXB0b3IsXFxcInNldFxcXCIpJiZkZWZpbmVTZXR0ZXIob2JqZWN0LHByb3BlcnR5LGRlc2NyaXB0b3Iuc2V0KX1yZXR1cm4gb2JqZWN0fX1PYmplY3QuZGVmaW5lUHJvcGVydGllc3x8KE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzPWZ1bmN0aW9uKG9iamVjdCxwcm9wZXJ0aWVzKXtmb3IodmFyIHByb3BlcnR5IGluIHByb3BlcnRpZXMpb3ducyhwcm9wZXJ0aWVzLHByb3BlcnR5KSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCxwcm9wZXJ0eSxwcm9wZXJ0aWVzW3Byb3BlcnR5XSk7cmV0dXJuIG9iamVjdH0pLE9iamVjdC5zZWFsfHwoT2JqZWN0LnNlYWw9ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gb2JqZWN0fSksT2JqZWN0LmZyZWV6ZXx8KE9iamVjdC5mcmVlemU9ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gb2JqZWN0fSk7dHJ5e09iamVjdC5mcmVlemUoZnVuY3Rpb24oKXt9KX1jYXRjaChleGNlcHRpb24pe09iamVjdC5mcmVlemU9ZnVuY3Rpb24oZnJlZXplT2JqZWN0KXtyZXR1cm4gZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm5cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2Ygb2JqZWN0P29iamVjdDpmcmVlemVPYmplY3Qob2JqZWN0KX19KE9iamVjdC5mcmVlemUpfWlmKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9uc3x8KE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucz1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBvYmplY3R9KSxPYmplY3QuaXNTZWFsZWR8fChPYmplY3QuaXNTZWFsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0pLE9iamVjdC5pc0Zyb3plbnx8KE9iamVjdC5pc0Zyb3plbj1mdW5jdGlvbigpe3JldHVybiExfSksT2JqZWN0LmlzRXh0ZW5zaWJsZXx8KE9iamVjdC5pc0V4dGVuc2libGU9ZnVuY3Rpb24ob2JqZWN0KXtpZihPYmplY3Qob2JqZWN0KT09PW9iamVjdCl0aHJvdyBuZXcgVHlwZUVycm9yO2Zvcih2YXIgbmFtZT1cXFwiXFxcIjtvd25zKG9iamVjdCxuYW1lKTspbmFtZSs9XFxcIj9cXFwiO29iamVjdFtuYW1lXT0hMDt2YXIgcmV0dXJuVmFsdWU9b3ducyhvYmplY3QsbmFtZSk7cmV0dXJuIGRlbGV0ZSBvYmplY3RbbmFtZV0scmV0dXJuVmFsdWV9KSwhT2JqZWN0LmtleXMpe3ZhciBoYXNEb250RW51bUJ1Zz0hMCxkb250RW51bXM9W1xcXCJ0b1N0cmluZ1xcXCIsXFxcInRvTG9jYWxlU3RyaW5nXFxcIixcXFwidmFsdWVPZlxcXCIsXFxcImhhc093blByb3BlcnR5XFxcIixcXFwiaXNQcm90b3R5cGVPZlxcXCIsXFxcInByb3BlcnR5SXNFbnVtZXJhYmxlXFxcIixcXFwiY29uc3RydWN0b3JcXFwiXSxkb250RW51bXNMZW5ndGg9ZG9udEVudW1zLmxlbmd0aDtmb3IodmFyIGtleSBpbnt0b1N0cmluZzpudWxsfSloYXNEb250RW51bUJ1Zz0hMTtPYmplY3Qua2V5cz1mdW5jdGlvbihvYmplY3Qpe2lmKFxcXCJvYmplY3RcXFwiIT10eXBlb2Ygb2JqZWN0JiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2Ygb2JqZWN0fHxudWxsPT09b2JqZWN0KXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIk9iamVjdC5rZXlzIGNhbGxlZCBvbiBhIG5vbi1vYmplY3RcXFwiKTt2YXIga2V5cz1bXTtmb3IodmFyIG5hbWUgaW4gb2JqZWN0KW93bnMob2JqZWN0LG5hbWUpJiZrZXlzLnB1c2gobmFtZSk7aWYoaGFzRG9udEVudW1CdWcpZm9yKHZhciBpPTAsaWk9ZG9udEVudW1zTGVuZ3RoO2lpPmk7aSsrKXt2YXIgZG9udEVudW09ZG9udEVudW1zW2ldO293bnMob2JqZWN0LGRvbnRFbnVtKSYma2V5cy5wdXNoKGRvbnRFbnVtKX1yZXR1cm4ga2V5c319RGF0ZS5ub3d8fChEYXRlLm5vdz1mdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfSk7dmFyIHdzPVxcXCJcXHRcXFxcblxcdTAwMGJcXFxcZlxcXFxyIMKg4ZqA4aCO4oCA4oCB4oCC4oCD4oCE4oCF4oCG4oCH4oCI4oCJ4oCK4oCv4oGf44CAXFxcXHUyMDI4XFxcXHUyMDI577u/XFxcIjtpZighU3RyaW5nLnByb3RvdHlwZS50cmltfHx3cy50cmltKCkpe3dzPVxcXCJbXFxcIit3cytcXFwiXVxcXCI7dmFyIHRyaW1CZWdpblJlZ2V4cD1SZWdFeHAoXFxcIl5cXFwiK3dzK3dzK1xcXCIqXFxcIiksdHJpbUVuZFJlZ2V4cD1SZWdFeHAod3Mrd3MrXFxcIiokXFxcIik7U3RyaW5nLnByb3RvdHlwZS50cmltPWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMrXFxcIlxcXCIpLnJlcGxhY2UodHJpbUJlZ2luUmVnZXhwLFxcXCJcXFwiKS5yZXBsYWNlKHRyaW1FbmRSZWdleHAsXFxcIlxcXCIpfX12YXIgdG9PYmplY3Q9ZnVuY3Rpb24obyl7aWYobnVsbD09byl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJjYW4ndCBjb252ZXJ0IFxcXCIrbytcXFwiIHRvIG9iamVjdFxcXCIpO3JldHVybiBPYmplY3Qobyl9fSksYWNlLmRlZmluZShcXFwiYWNlL21vZGUvanNvbl93b3JrZXJcXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiLFxcXCJhY2UvbGliL29vcFxcXCIsXFxcImFjZS93b3JrZXIvbWlycm9yXFxcIixcXFwiYWNlL21vZGUvanNvbi9qc29uX3BhcnNlXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7dmFyIG9vcD1hY2VxdWlyZShcXFwiLi4vbGliL29vcFxcXCIpLE1pcnJvcj1hY2VxdWlyZShcXFwiLi4vd29ya2VyL21pcnJvclxcXCIpLk1pcnJvcixwYXJzZT1hY2VxdWlyZShcXFwiLi9qc29uL2pzb25fcGFyc2VcXFwiKSxKc29uV29ya2VyPWV4cG9ydHMuSnNvbldvcmtlcj1mdW5jdGlvbihzZW5kZXIpe01pcnJvci5jYWxsKHRoaXMsc2VuZGVyKSx0aGlzLnNldFRpbWVvdXQoMjAwKX07b29wLmluaGVyaXRzKEpzb25Xb3JrZXIsTWlycm9yKSxmdW5jdGlvbigpe3RoaXMub25VcGRhdGU9ZnVuY3Rpb24oKXt2YXIgdmFsdWU9dGhpcy5kb2MuZ2V0VmFsdWUoKTt0cnl7cGFyc2UodmFsdWUpfWNhdGNoKGUpe3ZhciBwb3M9dGhpcy5kb2MuaW5kZXhUb1Bvc2l0aW9uKGUuYXQtMSk7cmV0dXJuIHRoaXMuc2VuZGVyLmVtaXQoXFxcImVycm9yXFxcIix7cm93OnBvcy5yb3csY29sdW1uOnBvcy5jb2x1bW4sdGV4dDplLm1lc3NhZ2UsdHlwZTpcXFwiZXJyb3JcXFwifSksdm9pZCAwfXRoaXMuc2VuZGVyLmVtaXQoXFxcIm9rXFxcIil9fS5jYWxsKEpzb25Xb3JrZXIucHJvdG90eXBlKX0pLGFjZS5kZWZpbmUoXFxcImFjZS93b3JrZXIvbWlycm9yXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIixcXFwiYWNlL2RvY3VtZW50XFxcIixcXFwiYWNlL2xpYi9sYW5nXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7dmFyIERvY3VtZW50PWFjZXF1aXJlKFxcXCIuLi9kb2N1bWVudFxcXCIpLkRvY3VtZW50LGxhbmc9YWNlcXVpcmUoXFxcIi4uL2xpYi9sYW5nXFxcIiksTWlycm9yPWV4cG9ydHMuTWlycm9yPWZ1bmN0aW9uKHNlbmRlcil7dGhpcy5zZW5kZXI9c2VuZGVyO3ZhciBkb2M9dGhpcy5kb2M9bmV3IERvY3VtZW50KFxcXCJcXFwiKSxkZWZlcnJlZFVwZGF0ZT10aGlzLmRlZmVycmVkVXBkYXRlPWxhbmcuZGVsYXllZENhbGwodGhpcy5vblVwZGF0ZS5iaW5kKHRoaXMpKSxfc2VsZj10aGlzO3NlbmRlci5vbihcXFwiY2hhbmdlXFxcIixmdW5jdGlvbihlKXtkb2MuYXBwbHlEZWx0YXMoZS5kYXRhKSxkZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZShfc2VsZi4kdGltZW91dCl9KX07KGZ1bmN0aW9uKCl7dGhpcy4kdGltZW91dD01MDAsdGhpcy5zZXRUaW1lb3V0PWZ1bmN0aW9uKHRpbWVvdXQpe3RoaXMuJHRpbWVvdXQ9dGltZW91dH0sdGhpcy5zZXRWYWx1ZT1mdW5jdGlvbih2YWx1ZSl7dGhpcy5kb2Muc2V0VmFsdWUodmFsdWUpLHRoaXMuZGVmZXJyZWRVcGRhdGUuc2NoZWR1bGUodGhpcy4kdGltZW91dCl9LHRoaXMuZ2V0VmFsdWU9ZnVuY3Rpb24oY2FsbGJhY2tJZCl7dGhpcy5zZW5kZXIuY2FsbGJhY2sodGhpcy5kb2MuZ2V0VmFsdWUoKSxjYWxsYmFja0lkKX0sdGhpcy5vblVwZGF0ZT1mdW5jdGlvbigpe319KS5jYWxsKE1pcnJvci5wcm90b3R5cGUpfSksYWNlLmRlZmluZShcXFwiYWNlL2RvY3VtZW50XFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIixcXFwiYWNlL2xpYi9vb3BcXFwiLFxcXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcXFwiLFxcXCJhY2UvcmFuZ2VcXFwiLFxcXCJhY2UvYW5jaG9yXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7dmFyIG9vcD1hY2VxdWlyZShcXFwiLi9saWIvb29wXFxcIiksRXZlbnRFbWl0dGVyPWFjZXF1aXJlKFxcXCIuL2xpYi9ldmVudF9lbWl0dGVyXFxcIikuRXZlbnRFbWl0dGVyLFJhbmdlPWFjZXF1aXJlKFxcXCIuL3JhbmdlXFxcIikuUmFuZ2UsQW5jaG9yPWFjZXF1aXJlKFxcXCIuL2FuY2hvclxcXCIpLkFuY2hvcixEb2N1bWVudD1mdW5jdGlvbih0ZXh0KXt0aGlzLiRsaW5lcz1bXSwwPT10ZXh0Lmxlbmd0aD90aGlzLiRsaW5lcz1bXFxcIlxcXCJdOkFycmF5LmlzQXJyYXkodGV4dCk/dGhpcy5faW5zZXJ0TGluZXMoMCx0ZXh0KTp0aGlzLmluc2VydCh7cm93OjAsY29sdW1uOjB9LHRleHQpfTsoZnVuY3Rpb24oKXtvb3AuaW1wbGVtZW50KHRoaXMsRXZlbnRFbWl0dGVyKSx0aGlzLnNldFZhbHVlPWZ1bmN0aW9uKHRleHQpe3ZhciBsZW49dGhpcy5nZXRMZW5ndGgoKTt0aGlzLnJlbW92ZShuZXcgUmFuZ2UoMCwwLGxlbix0aGlzLmdldExpbmUobGVuLTEpLmxlbmd0aCkpLHRoaXMuaW5zZXJ0KHtyb3c6MCxjb2x1bW46MH0sdGV4dCl9LHRoaXMuZ2V0VmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBbGxMaW5lcygpLmpvaW4odGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkpfSx0aGlzLmNyZWF0ZUFuY2hvcj1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gbmV3IEFuY2hvcih0aGlzLHJvdyxjb2x1bW4pfSx0aGlzLiRzcGxpdD0wPT1cXFwiYWFhXFxcIi5zcGxpdCgvYS8pLmxlbmd0aD9mdW5jdGlvbih0ZXh0KXtyZXR1cm4gdGV4dC5yZXBsYWNlKC9cXFxcclxcXFxufFxcXFxyL2csXFxcIlxcXFxuXFxcIikuc3BsaXQoXFxcIlxcXFxuXFxcIil9OmZ1bmN0aW9uKHRleHQpe3JldHVybiB0ZXh0LnNwbGl0KC9cXFxcclxcXFxufFxcXFxyfFxcXFxuLyl9LHRoaXMuJGRldGVjdE5ld0xpbmU9ZnVuY3Rpb24odGV4dCl7dmFyIG1hdGNoPXRleHQubWF0Y2goL14uKj8oXFxcXHJcXFxcbnxcXFxccnxcXFxcbikvbSk7dGhpcy4kYXV0b05ld0xpbmU9bWF0Y2g/bWF0Y2hbMV06XFxcIlxcXFxuXFxcIn0sdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyPWZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuJG5ld0xpbmVNb2RlKXtjYXNlXFxcIndpbmRvd3NcXFwiOnJldHVyblxcXCJcXFxcclxcXFxuXFxcIjtjYXNlXFxcInVuaXhcXFwiOnJldHVyblxcXCJcXFxcblxcXCI7ZGVmYXVsdDpyZXR1cm4gdGhpcy4kYXV0b05ld0xpbmV9fSx0aGlzLiRhdXRvTmV3TGluZT1cXFwiXFxcXG5cXFwiLHRoaXMuJG5ld0xpbmVNb2RlPVxcXCJhdXRvXFxcIix0aGlzLnNldE5ld0xpbmVNb2RlPWZ1bmN0aW9uKG5ld0xpbmVNb2RlKXt0aGlzLiRuZXdMaW5lTW9kZSE9PW5ld0xpbmVNb2RlJiYodGhpcy4kbmV3TGluZU1vZGU9bmV3TGluZU1vZGUpfSx0aGlzLmdldE5ld0xpbmVNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJG5ld0xpbmVNb2RlfSx0aGlzLmlzTmV3TGluZT1mdW5jdGlvbih0ZXh0KXtyZXR1cm5cXFwiXFxcXHJcXFxcblxcXCI9PXRleHR8fFxcXCJcXFxcclxcXCI9PXRleHR8fFxcXCJcXFxcblxcXCI9PXRleHR9LHRoaXMuZ2V0TGluZT1mdW5jdGlvbihyb3cpe3JldHVybiB0aGlzLiRsaW5lc1tyb3ddfHxcXFwiXFxcIn0sdGhpcy5nZXRMaW5lcz1mdW5jdGlvbihmaXJzdFJvdyxsYXN0Um93KXtyZXR1cm4gdGhpcy4kbGluZXMuc2xpY2UoZmlyc3RSb3csbGFzdFJvdysxKX0sdGhpcy5nZXRBbGxMaW5lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldExpbmVzKDAsdGhpcy5nZXRMZW5ndGgoKSl9LHRoaXMuZ2V0TGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGxpbmVzLmxlbmd0aH0sdGhpcy5nZXRUZXh0UmFuZ2U9ZnVuY3Rpb24ocmFuZ2Upe2lmKHJhbmdlLnN0YXJ0LnJvdz09cmFuZ2UuZW5kLnJvdylyZXR1cm4gdGhpcy4kbGluZXNbcmFuZ2Uuc3RhcnQucm93XS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uLHJhbmdlLmVuZC5jb2x1bW4pO3ZhciBsaW5lcz10aGlzLmdldExpbmVzKHJhbmdlLnN0YXJ0LnJvdyxyYW5nZS5lbmQucm93KTtsaW5lc1swXT0obGluZXNbMF18fFxcXCJcXFwiKS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uKTt2YXIgbD1saW5lcy5sZW5ndGgtMTtyZXR1cm4gcmFuZ2UuZW5kLnJvdy1yYW5nZS5zdGFydC5yb3c9PWwmJihsaW5lc1tsXT1saW5lc1tsXS5zdWJzdHJpbmcoMCxyYW5nZS5lbmQuY29sdW1uKSksbGluZXMuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSl9LHRoaXMuJGNsaXBQb3NpdGlvbj1mdW5jdGlvbihwb3NpdGlvbil7dmFyIGxlbmd0aD10aGlzLmdldExlbmd0aCgpO3JldHVybiBwb3NpdGlvbi5yb3c+PWxlbmd0aD8ocG9zaXRpb24ucm93PU1hdGgubWF4KDAsbGVuZ3RoLTEpLHBvc2l0aW9uLmNvbHVtbj10aGlzLmdldExpbmUobGVuZ3RoLTEpLmxlbmd0aCk6MD5wb3NpdGlvbi5yb3cmJihwb3NpdGlvbi5yb3c9MCkscG9zaXRpb259LHRoaXMuaW5zZXJ0PWZ1bmN0aW9uKHBvc2l0aW9uLHRleHQpe2lmKCF0ZXh0fHwwPT09dGV4dC5sZW5ndGgpcmV0dXJuIHBvc2l0aW9uO3Bvc2l0aW9uPXRoaXMuJGNsaXBQb3NpdGlvbihwb3NpdGlvbiksMT49dGhpcy5nZXRMZW5ndGgoKSYmdGhpcy4kZGV0ZWN0TmV3TGluZSh0ZXh0KTt2YXIgbGluZXM9dGhpcy4kc3BsaXQodGV4dCksZmlyc3RMaW5lPWxpbmVzLnNwbGljZSgwLDEpWzBdLGxhc3RMaW5lPTA9PWxpbmVzLmxlbmd0aD9udWxsOmxpbmVzLnNwbGljZShsaW5lcy5sZW5ndGgtMSwxKVswXTtyZXR1cm4gcG9zaXRpb249dGhpcy5pbnNlcnRJbkxpbmUocG9zaXRpb24sZmlyc3RMaW5lKSxudWxsIT09bGFzdExpbmUmJihwb3NpdGlvbj10aGlzLmluc2VydE5ld0xpbmUocG9zaXRpb24pLHBvc2l0aW9uPXRoaXMuX2luc2VydExpbmVzKHBvc2l0aW9uLnJvdyxsaW5lcykscG9zaXRpb249dGhpcy5pbnNlcnRJbkxpbmUocG9zaXRpb24sbGFzdExpbmV8fFxcXCJcXFwiKSkscG9zaXRpb259LHRoaXMuaW5zZXJ0TGluZXM9ZnVuY3Rpb24ocm93LGxpbmVzKXtyZXR1cm4gcm93Pj10aGlzLmdldExlbmd0aCgpP3RoaXMuaW5zZXJ0KHtyb3c6cm93LGNvbHVtbjowfSxcXFwiXFxcXG5cXFwiK2xpbmVzLmpvaW4oXFxcIlxcXFxuXFxcIikpOnRoaXMuX2luc2VydExpbmVzKE1hdGgubWF4KHJvdywwKSxsaW5lcyl9LHRoaXMuX2luc2VydExpbmVzPWZ1bmN0aW9uKHJvdyxsaW5lcyl7aWYoMD09bGluZXMubGVuZ3RoKXJldHVybntyb3c6cm93LGNvbHVtbjowfTtpZihsaW5lcy5sZW5ndGg+NjU1MzUpe3ZhciBlbmQ9dGhpcy5faW5zZXJ0TGluZXMocm93LGxpbmVzLnNsaWNlKDY1NTM1KSk7bGluZXM9bGluZXMuc2xpY2UoMCw2NTUzNSl9dmFyIGFyZ3M9W3JvdywwXTthcmdzLnB1c2guYXBwbHkoYXJncyxsaW5lcyksdGhpcy4kbGluZXMuc3BsaWNlLmFwcGx5KHRoaXMuJGxpbmVzLGFyZ3MpO3ZhciByYW5nZT1uZXcgUmFuZ2Uocm93LDAscm93K2xpbmVzLmxlbmd0aCwwKSxkZWx0YT17YWN0aW9uOlxcXCJpbnNlcnRMaW5lc1xcXCIscmFuZ2U6cmFuZ2UsbGluZXM6bGluZXN9O3JldHVybiB0aGlzLl9lbWl0KFxcXCJjaGFuZ2VcXFwiLHtkYXRhOmRlbHRhfSksZW5kfHxyYW5nZS5lbmR9LHRoaXMuaW5zZXJ0TmV3TGluZT1mdW5jdGlvbihwb3NpdGlvbil7cG9zaXRpb249dGhpcy4kY2xpcFBvc2l0aW9uKHBvc2l0aW9uKTt2YXIgbGluZT10aGlzLiRsaW5lc1twb3NpdGlvbi5yb3ddfHxcXFwiXFxcIjt0aGlzLiRsaW5lc1twb3NpdGlvbi5yb3ddPWxpbmUuc3Vic3RyaW5nKDAscG9zaXRpb24uY29sdW1uKSx0aGlzLiRsaW5lcy5zcGxpY2UocG9zaXRpb24ucm93KzEsMCxsaW5lLnN1YnN0cmluZyhwb3NpdGlvbi5jb2x1bW4sbGluZS5sZW5ndGgpKTt2YXIgZW5kPXtyb3c6cG9zaXRpb24ucm93KzEsY29sdW1uOjB9LGRlbHRhPXthY3Rpb246XFxcImluc2VydFRleHRcXFwiLHJhbmdlOlJhbmdlLmZyb21Qb2ludHMocG9zaXRpb24sZW5kKSx0ZXh0OnRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpfTtyZXR1cm4gdGhpcy5fZW1pdChcXFwiY2hhbmdlXFxcIix7ZGF0YTpkZWx0YX0pLGVuZH0sdGhpcy5pbnNlcnRJbkxpbmU9ZnVuY3Rpb24ocG9zaXRpb24sdGV4dCl7aWYoMD09dGV4dC5sZW5ndGgpcmV0dXJuIHBvc2l0aW9uO3ZhciBsaW5lPXRoaXMuJGxpbmVzW3Bvc2l0aW9uLnJvd118fFxcXCJcXFwiO3RoaXMuJGxpbmVzW3Bvc2l0aW9uLnJvd109bGluZS5zdWJzdHJpbmcoMCxwb3NpdGlvbi5jb2x1bW4pK3RleHQrbGluZS5zdWJzdHJpbmcocG9zaXRpb24uY29sdW1uKTt2YXIgZW5kPXtyb3c6cG9zaXRpb24ucm93LGNvbHVtbjpwb3NpdGlvbi5jb2x1bW4rdGV4dC5sZW5ndGh9LGRlbHRhPXthY3Rpb246XFxcImluc2VydFRleHRcXFwiLHJhbmdlOlJhbmdlLmZyb21Qb2ludHMocG9zaXRpb24sZW5kKSx0ZXh0OnRleHR9O3JldHVybiB0aGlzLl9lbWl0KFxcXCJjaGFuZ2VcXFwiLHtkYXRhOmRlbHRhfSksZW5kfSx0aGlzLnJlbW92ZT1mdW5jdGlvbihyYW5nZSl7aWYocmFuZ2Uuc3RhcnQ9dGhpcy4kY2xpcFBvc2l0aW9uKHJhbmdlLnN0YXJ0KSxyYW5nZS5lbmQ9dGhpcy4kY2xpcFBvc2l0aW9uKHJhbmdlLmVuZCkscmFuZ2UuaXNFbXB0eSgpKXJldHVybiByYW5nZS5zdGFydDt2YXIgZmlyc3RSb3c9cmFuZ2Uuc3RhcnQucm93LGxhc3RSb3c9cmFuZ2UuZW5kLnJvdztpZihyYW5nZS5pc011bHRpTGluZSgpKXt2YXIgZmlyc3RGdWxsUm93PTA9PXJhbmdlLnN0YXJ0LmNvbHVtbj9maXJzdFJvdzpmaXJzdFJvdysxLGxhc3RGdWxsUm93PWxhc3RSb3ctMTtyYW5nZS5lbmQuY29sdW1uPjAmJnRoaXMucmVtb3ZlSW5MaW5lKGxhc3RSb3csMCxyYW5nZS5lbmQuY29sdW1uKSxsYXN0RnVsbFJvdz49Zmlyc3RGdWxsUm93JiZ0aGlzLl9yZW1vdmVMaW5lcyhmaXJzdEZ1bGxSb3csbGFzdEZ1bGxSb3cpLGZpcnN0RnVsbFJvdyE9Zmlyc3RSb3cmJih0aGlzLnJlbW92ZUluTGluZShmaXJzdFJvdyxyYW5nZS5zdGFydC5jb2x1bW4sdGhpcy5nZXRMaW5lKGZpcnN0Um93KS5sZW5ndGgpLHRoaXMucmVtb3ZlTmV3TGluZShyYW5nZS5zdGFydC5yb3cpKX1lbHNlIHRoaXMucmVtb3ZlSW5MaW5lKGZpcnN0Um93LHJhbmdlLnN0YXJ0LmNvbHVtbixyYW5nZS5lbmQuY29sdW1uKTtyZXR1cm4gcmFuZ2Uuc3RhcnR9LHRoaXMucmVtb3ZlSW5MaW5lPWZ1bmN0aW9uKHJvdyxzdGFydENvbHVtbixlbmRDb2x1bW4pe2lmKHN0YXJ0Q29sdW1uIT1lbmRDb2x1bW4pe3ZhciByYW5nZT1uZXcgUmFuZ2Uocm93LHN0YXJ0Q29sdW1uLHJvdyxlbmRDb2x1bW4pLGxpbmU9dGhpcy5nZXRMaW5lKHJvdykscmVtb3ZlZD1saW5lLnN1YnN0cmluZyhzdGFydENvbHVtbixlbmRDb2x1bW4pLG5ld0xpbmU9bGluZS5zdWJzdHJpbmcoMCxzdGFydENvbHVtbikrbGluZS5zdWJzdHJpbmcoZW5kQ29sdW1uLGxpbmUubGVuZ3RoKTt0aGlzLiRsaW5lcy5zcGxpY2Uocm93LDEsbmV3TGluZSk7dmFyIGRlbHRhPXthY3Rpb246XFxcInJlbW92ZVRleHRcXFwiLHJhbmdlOnJhbmdlLHRleHQ6cmVtb3ZlZH07cmV0dXJuIHRoaXMuX2VtaXQoXFxcImNoYW5nZVxcXCIse2RhdGE6ZGVsdGF9KSxyYW5nZS5zdGFydH19LHRoaXMucmVtb3ZlTGluZXM9ZnVuY3Rpb24oZmlyc3RSb3csbGFzdFJvdyl7cmV0dXJuIDA+Zmlyc3RSb3d8fGxhc3RSb3c+PXRoaXMuZ2V0TGVuZ3RoKCk/dGhpcy5yZW1vdmUobmV3IFJhbmdlKGZpcnN0Um93LDAsbGFzdFJvdysxLDApKTp0aGlzLl9yZW1vdmVMaW5lcyhmaXJzdFJvdyxsYXN0Um93KX0sdGhpcy5fcmVtb3ZlTGluZXM9ZnVuY3Rpb24oZmlyc3RSb3csbGFzdFJvdyl7dmFyIHJhbmdlPW5ldyBSYW5nZShmaXJzdFJvdywwLGxhc3RSb3crMSwwKSxyZW1vdmVkPXRoaXMuJGxpbmVzLnNwbGljZShmaXJzdFJvdyxsYXN0Um93LWZpcnN0Um93KzEpLGRlbHRhPXthY3Rpb246XFxcInJlbW92ZUxpbmVzXFxcIixyYW5nZTpyYW5nZSxubDp0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSxsaW5lczpyZW1vdmVkfTtyZXR1cm4gdGhpcy5fZW1pdChcXFwiY2hhbmdlXFxcIix7ZGF0YTpkZWx0YX0pLHJlbW92ZWR9LHRoaXMucmVtb3ZlTmV3TGluZT1mdW5jdGlvbihyb3cpe3ZhciBmaXJzdExpbmU9dGhpcy5nZXRMaW5lKHJvdyksc2Vjb25kTGluZT10aGlzLmdldExpbmUocm93KzEpLHJhbmdlPW5ldyBSYW5nZShyb3csZmlyc3RMaW5lLmxlbmd0aCxyb3crMSwwKSxsaW5lPWZpcnN0TGluZStzZWNvbmRMaW5lO3RoaXMuJGxpbmVzLnNwbGljZShyb3csMixsaW5lKTt2YXIgZGVsdGE9e2FjdGlvbjpcXFwicmVtb3ZlVGV4dFxcXCIscmFuZ2U6cmFuZ2UsdGV4dDp0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKX07dGhpcy5fZW1pdChcXFwiY2hhbmdlXFxcIix7ZGF0YTpkZWx0YX0pfSx0aGlzLnJlcGxhY2U9ZnVuY3Rpb24ocmFuZ2UsdGV4dCl7aWYoMD09dGV4dC5sZW5ndGgmJnJhbmdlLmlzRW1wdHkoKSlyZXR1cm4gcmFuZ2Uuc3RhcnQ7aWYodGV4dD09dGhpcy5nZXRUZXh0UmFuZ2UocmFuZ2UpKXJldHVybiByYW5nZS5lbmQ7aWYodGhpcy5yZW1vdmUocmFuZ2UpLHRleHQpdmFyIGVuZD10aGlzLmluc2VydChyYW5nZS5zdGFydCx0ZXh0KTtlbHNlIGVuZD1yYW5nZS5zdGFydDtyZXR1cm4gZW5kfSx0aGlzLmFwcGx5RGVsdGFzPWZ1bmN0aW9uKGRlbHRhcyl7Zm9yKHZhciBpPTA7ZGVsdGFzLmxlbmd0aD5pO2krKyl7dmFyIGRlbHRhPWRlbHRhc1tpXSxyYW5nZT1SYW5nZS5mcm9tUG9pbnRzKGRlbHRhLnJhbmdlLnN0YXJ0LGRlbHRhLnJhbmdlLmVuZCk7XFxcImluc2VydExpbmVzXFxcIj09ZGVsdGEuYWN0aW9uP3RoaXMuaW5zZXJ0TGluZXMocmFuZ2Uuc3RhcnQucm93LGRlbHRhLmxpbmVzKTpcXFwiaW5zZXJ0VGV4dFxcXCI9PWRlbHRhLmFjdGlvbj90aGlzLmluc2VydChyYW5nZS5zdGFydCxkZWx0YS50ZXh0KTpcXFwicmVtb3ZlTGluZXNcXFwiPT1kZWx0YS5hY3Rpb24/dGhpcy5fcmVtb3ZlTGluZXMocmFuZ2Uuc3RhcnQucm93LHJhbmdlLmVuZC5yb3ctMSk6XFxcInJlbW92ZVRleHRcXFwiPT1kZWx0YS5hY3Rpb24mJnRoaXMucmVtb3ZlKHJhbmdlKX19LHRoaXMucmV2ZXJ0RGVsdGFzPWZ1bmN0aW9uKGRlbHRhcyl7Zm9yKHZhciBpPWRlbHRhcy5sZW5ndGgtMTtpPj0wO2ktLSl7dmFyIGRlbHRhPWRlbHRhc1tpXSxyYW5nZT1SYW5nZS5mcm9tUG9pbnRzKGRlbHRhLnJhbmdlLnN0YXJ0LGRlbHRhLnJhbmdlLmVuZCk7XFxcImluc2VydExpbmVzXFxcIj09ZGVsdGEuYWN0aW9uP3RoaXMuX3JlbW92ZUxpbmVzKHJhbmdlLnN0YXJ0LnJvdyxyYW5nZS5lbmQucm93LTEpOlxcXCJpbnNlcnRUZXh0XFxcIj09ZGVsdGEuYWN0aW9uP3RoaXMucmVtb3ZlKHJhbmdlKTpcXFwicmVtb3ZlTGluZXNcXFwiPT1kZWx0YS5hY3Rpb24/dGhpcy5faW5zZXJ0TGluZXMocmFuZ2Uuc3RhcnQucm93LGRlbHRhLmxpbmVzKTpcXFwicmVtb3ZlVGV4dFxcXCI9PWRlbHRhLmFjdGlvbiYmdGhpcy5pbnNlcnQocmFuZ2Uuc3RhcnQsZGVsdGEudGV4dCl9fSx0aGlzLmluZGV4VG9Qb3NpdGlvbj1mdW5jdGlvbihpbmRleCxzdGFydFJvdyl7Zm9yKHZhciBsaW5lcz10aGlzLiRsaW5lc3x8dGhpcy5nZXRBbGxMaW5lcygpLG5ld2xpbmVMZW5ndGg9dGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoLGk9c3RhcnRSb3d8fDAsbD1saW5lcy5sZW5ndGg7bD5pO2krKylpZihpbmRleC09bGluZXNbaV0ubGVuZ3RoK25ld2xpbmVMZW5ndGgsMD5pbmRleClyZXR1cm57cm93OmksY29sdW1uOmluZGV4K2xpbmVzW2ldLmxlbmd0aCtuZXdsaW5lTGVuZ3RofTtyZXR1cm57cm93OmwtMSxjb2x1bW46bGluZXNbbC0xXS5sZW5ndGh9fSx0aGlzLnBvc2l0aW9uVG9JbmRleD1mdW5jdGlvbihwb3Msc3RhcnRSb3cpe2Zvcih2YXIgbGluZXM9dGhpcy4kbGluZXN8fHRoaXMuZ2V0QWxsTGluZXMoKSxuZXdsaW5lTGVuZ3RoPXRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aCxpbmRleD0wLHJvdz1NYXRoLm1pbihwb3Mucm93LGxpbmVzLmxlbmd0aCksaT1zdGFydFJvd3x8MDtyb3c+aTsrK2kpaW5kZXgrPWxpbmVzW2ldLmxlbmd0aCtuZXdsaW5lTGVuZ3RoO3JldHVybiBpbmRleCtwb3MuY29sdW1ufX0pLmNhbGwoRG9jdW1lbnQucHJvdG90eXBlKSxleHBvcnRzLkRvY3VtZW50PURvY3VtZW50fSksYWNlLmRlZmluZShcXFwiYWNlL3JhbmdlXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7dmFyIGNvbXBhcmVQb2ludHM9ZnVuY3Rpb24ocDEscDIpe3JldHVybiBwMS5yb3ctcDIucm93fHxwMS5jb2x1bW4tcDIuY29sdW1ufSxSYW5nZT1mdW5jdGlvbihzdGFydFJvdyxzdGFydENvbHVtbixlbmRSb3csZW5kQ29sdW1uKXt0aGlzLnN0YXJ0PXtyb3c6c3RhcnRSb3csY29sdW1uOnN0YXJ0Q29sdW1ufSx0aGlzLmVuZD17cm93OmVuZFJvdyxjb2x1bW46ZW5kQ29sdW1ufX07KGZ1bmN0aW9uKCl7dGhpcy5pc0VxdWFsPWZ1bmN0aW9uKHJhbmdlKXtyZXR1cm4gdGhpcy5zdGFydC5yb3c9PT1yYW5nZS5zdGFydC5yb3cmJnRoaXMuZW5kLnJvdz09PXJhbmdlLmVuZC5yb3cmJnRoaXMuc3RhcnQuY29sdW1uPT09cmFuZ2Uuc3RhcnQuY29sdW1uJiZ0aGlzLmVuZC5jb2x1bW49PT1yYW5nZS5lbmQuY29sdW1ufSx0aGlzLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXFxcIlJhbmdlOiBbXFxcIit0aGlzLnN0YXJ0LnJvdytcXFwiL1xcXCIrdGhpcy5zdGFydC5jb2x1bW4rXFxcIl0gLT4gW1xcXCIrdGhpcy5lbmQucm93K1xcXCIvXFxcIit0aGlzLmVuZC5jb2x1bW4rXFxcIl1cXFwifSx0aGlzLmNvbnRhaW5zPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiAwPT10aGlzLmNvbXBhcmUocm93LGNvbHVtbil9LHRoaXMuY29tcGFyZVJhbmdlPWZ1bmN0aW9uKHJhbmdlKXt2YXIgY21wLGVuZD1yYW5nZS5lbmQsc3RhcnQ9cmFuZ2Uuc3RhcnQ7cmV0dXJuIGNtcD10aGlzLmNvbXBhcmUoZW5kLnJvdyxlbmQuY29sdW1uKSwxPT1jbXA/KGNtcD10aGlzLmNvbXBhcmUoc3RhcnQucm93LHN0YXJ0LmNvbHVtbiksMT09Y21wPzI6MD09Y21wPzE6MCk6LTE9PWNtcD8tMjooY21wPXRoaXMuY29tcGFyZShzdGFydC5yb3csc3RhcnQuY29sdW1uKSwtMT09Y21wPy0xOjE9PWNtcD80MjowKX0sdGhpcy5jb21wYXJlUG9pbnQ9ZnVuY3Rpb24ocCl7cmV0dXJuIHRoaXMuY29tcGFyZShwLnJvdyxwLmNvbHVtbil9LHRoaXMuY29udGFpbnNSYW5nZT1mdW5jdGlvbihyYW5nZSl7cmV0dXJuIDA9PXRoaXMuY29tcGFyZVBvaW50KHJhbmdlLnN0YXJ0KSYmMD09dGhpcy5jb21wYXJlUG9pbnQocmFuZ2UuZW5kKX0sdGhpcy5pbnRlcnNlY3RzPWZ1bmN0aW9uKHJhbmdlKXt2YXIgY21wPXRoaXMuY29tcGFyZVJhbmdlKHJhbmdlKTtyZXR1cm4tMT09Y21wfHwwPT1jbXB8fDE9PWNtcH0sdGhpcy5pc0VuZD1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gdGhpcy5lbmQucm93PT1yb3cmJnRoaXMuZW5kLmNvbHVtbj09Y29sdW1ufSx0aGlzLmlzU3RhcnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuc3RhcnQucm93PT1yb3cmJnRoaXMuc3RhcnQuY29sdW1uPT1jb2x1bW59LHRoaXMuc2V0U3RhcnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7XFxcIm9iamVjdFxcXCI9PXR5cGVvZiByb3c/KHRoaXMuc3RhcnQuY29sdW1uPXJvdy5jb2x1bW4sdGhpcy5zdGFydC5yb3c9cm93LnJvdyk6KHRoaXMuc3RhcnQucm93PXJvdyx0aGlzLnN0YXJ0LmNvbHVtbj1jb2x1bW4pfSx0aGlzLnNldEVuZD1mdW5jdGlvbihyb3csY29sdW1uKXtcXFwib2JqZWN0XFxcIj09dHlwZW9mIHJvdz8odGhpcy5lbmQuY29sdW1uPXJvdy5jb2x1bW4sdGhpcy5lbmQucm93PXJvdy5yb3cpOih0aGlzLmVuZC5yb3c9cm93LHRoaXMuZW5kLmNvbHVtbj1jb2x1bW4pfSx0aGlzLmluc2lkZT1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pP3RoaXMuaXNFbmQocm93LGNvbHVtbil8fHRoaXMuaXNTdGFydChyb3csY29sdW1uKT8hMTohMDohMX0sdGhpcy5pbnNpZGVTdGFydD1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pP3RoaXMuaXNFbmQocm93LGNvbHVtbik/ITE6ITA6ITF9LHRoaXMuaW5zaWRlRW5kPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiAwPT10aGlzLmNvbXBhcmUocm93LGNvbHVtbik/dGhpcy5pc1N0YXJ0KHJvdyxjb2x1bW4pPyExOiEwOiExfSx0aGlzLmNvbXBhcmU9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuaXNNdWx0aUxpbmUoKXx8cm93IT09dGhpcy5zdGFydC5yb3c/dGhpcy5zdGFydC5yb3c+cm93Py0xOnJvdz50aGlzLmVuZC5yb3c/MTp0aGlzLnN0YXJ0LnJvdz09PXJvdz9jb2x1bW4+PXRoaXMuc3RhcnQuY29sdW1uPzA6LTE6dGhpcy5lbmQucm93PT09cm93P3RoaXMuZW5kLmNvbHVtbj49Y29sdW1uPzA6MTowOnRoaXMuc3RhcnQuY29sdW1uPmNvbHVtbj8tMTpjb2x1bW4+dGhpcy5lbmQuY29sdW1uPzE6MH0sdGhpcy5jb21wYXJlU3RhcnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuc3RhcnQucm93PT1yb3cmJnRoaXMuc3RhcnQuY29sdW1uPT1jb2x1bW4/LTE6dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pfSx0aGlzLmNvbXBhcmVFbmQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuZW5kLnJvdz09cm93JiZ0aGlzLmVuZC5jb2x1bW49PWNvbHVtbj8xOnRoaXMuY29tcGFyZShyb3csY29sdW1uKX0sdGhpcy5jb21wYXJlSW5zaWRlPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiB0aGlzLmVuZC5yb3c9PXJvdyYmdGhpcy5lbmQuY29sdW1uPT1jb2x1bW4/MTp0aGlzLnN0YXJ0LnJvdz09cm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09Y29sdW1uPy0xOnRoaXMuY29tcGFyZShyb3csY29sdW1uKX0sdGhpcy5jbGlwUm93cz1mdW5jdGlvbihmaXJzdFJvdyxsYXN0Um93KXtpZih0aGlzLmVuZC5yb3c+bGFzdFJvdyl2YXIgZW5kPXtyb3c6bGFzdFJvdysxLGNvbHVtbjowfTtlbHNlIGlmKGZpcnN0Um93PnRoaXMuZW5kLnJvdyl2YXIgZW5kPXtyb3c6Zmlyc3RSb3csY29sdW1uOjB9O2lmKHRoaXMuc3RhcnQucm93Pmxhc3RSb3cpdmFyIHN0YXJ0PXtyb3c6bGFzdFJvdysxLGNvbHVtbjowfTtlbHNlIGlmKGZpcnN0Um93PnRoaXMuc3RhcnQucm93KXZhciBzdGFydD17cm93OmZpcnN0Um93LGNvbHVtbjowfTtyZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyhzdGFydHx8dGhpcy5zdGFydCxlbmR8fHRoaXMuZW5kKX0sdGhpcy5leHRlbmQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7dmFyIGNtcD10aGlzLmNvbXBhcmUocm93LGNvbHVtbik7aWYoMD09Y21wKXJldHVybiB0aGlzO2lmKC0xPT1jbXApdmFyIHN0YXJ0PXtyb3c6cm93LGNvbHVtbjpjb2x1bW59O2Vsc2UgdmFyIGVuZD17cm93OnJvdyxjb2x1bW46Y29sdW1ufTtyZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyhzdGFydHx8dGhpcy5zdGFydCxlbmR8fHRoaXMuZW5kKX0sdGhpcy5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnQucm93PT09dGhpcy5lbmQucm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09PXRoaXMuZW5kLmNvbHVtbn0sdGhpcy5pc011bHRpTGluZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0LnJvdyE9PXRoaXMuZW5kLnJvd30sdGhpcy5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBSYW5nZS5mcm9tUG9pbnRzKHRoaXMuc3RhcnQsdGhpcy5lbmQpfSx0aGlzLmNvbGxhcHNlUm93cz1mdW5jdGlvbigpe3JldHVybiAwPT10aGlzLmVuZC5jb2x1bW4/bmV3IFJhbmdlKHRoaXMuc3RhcnQucm93LDAsTWF0aC5tYXgodGhpcy5zdGFydC5yb3csdGhpcy5lbmQucm93LTEpLDApOm5ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywwLHRoaXMuZW5kLnJvdywwKX0sdGhpcy50b1NjcmVlblJhbmdlPWZ1bmN0aW9uKHNlc3Npb24pe3ZhciBzY3JlZW5Qb3NTdGFydD1zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLnN0YXJ0KSxzY3JlZW5Qb3NFbmQ9c2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24odGhpcy5lbmQpO3JldHVybiBuZXcgUmFuZ2Uoc2NyZWVuUG9zU3RhcnQucm93LHNjcmVlblBvc1N0YXJ0LmNvbHVtbixzY3JlZW5Qb3NFbmQucm93LHNjcmVlblBvc0VuZC5jb2x1bW4pfSx0aGlzLm1vdmVCeT1mdW5jdGlvbihyb3csY29sdW1uKXt0aGlzLnN0YXJ0LnJvdys9cm93LHRoaXMuc3RhcnQuY29sdW1uKz1jb2x1bW4sdGhpcy5lbmQucm93Kz1yb3csdGhpcy5lbmQuY29sdW1uKz1jb2x1bW59fSkuY2FsbChSYW5nZS5wcm90b3R5cGUpLFJhbmdlLmZyb21Qb2ludHM9ZnVuY3Rpb24oc3RhcnQsZW5kKXtyZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LnJvdyxzdGFydC5jb2x1bW4sZW5kLnJvdyxlbmQuY29sdW1uKX0sUmFuZ2UuY29tcGFyZVBvaW50cz1jb21wYXJlUG9pbnRzLFJhbmdlLmNvbXBhcmVQb2ludHM9ZnVuY3Rpb24ocDEscDIpe3JldHVybiBwMS5yb3ctcDIucm93fHxwMS5jb2x1bW4tcDIuY29sdW1uXFxufSxleHBvcnRzLlJhbmdlPVJhbmdlfSksYWNlLmRlZmluZShcXFwiYWNlL2FuY2hvclxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCIsXFxcImFjZS9saWIvb29wXFxcIixcXFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7dmFyIG9vcD1hY2VxdWlyZShcXFwiLi9saWIvb29wXFxcIiksRXZlbnRFbWl0dGVyPWFjZXF1aXJlKFxcXCIuL2xpYi9ldmVudF9lbWl0dGVyXFxcIikuRXZlbnRFbWl0dGVyLEFuY2hvcj1leHBvcnRzLkFuY2hvcj1mdW5jdGlvbihkb2Mscm93LGNvbHVtbil7dGhpcy5kb2N1bWVudD1kb2MsY29sdW1uPT09dm9pZCAwP3RoaXMuc2V0UG9zaXRpb24ocm93LnJvdyxyb3cuY29sdW1uKTp0aGlzLnNldFBvc2l0aW9uKHJvdyxjb2x1bW4pLHRoaXMuJG9uQ2hhbmdlPXRoaXMub25DaGFuZ2UuYmluZCh0aGlzKSxkb2Mub24oXFxcImNoYW5nZVxcXCIsdGhpcy4kb25DaGFuZ2UpfTsoZnVuY3Rpb24oKXtvb3AuaW1wbGVtZW50KHRoaXMsRXZlbnRFbWl0dGVyKSx0aGlzLmdldFBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQodGhpcy5yb3csdGhpcy5jb2x1bW4pfSx0aGlzLmdldERvY3VtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jdW1lbnR9LHRoaXMub25DaGFuZ2U9ZnVuY3Rpb24oZSl7dmFyIGRlbHRhPWUuZGF0YSxyYW5nZT1kZWx0YS5yYW5nZTtpZighKHJhbmdlLnN0YXJ0LnJvdz09cmFuZ2UuZW5kLnJvdyYmcmFuZ2Uuc3RhcnQucm93IT10aGlzLnJvd3x8cmFuZ2Uuc3RhcnQucm93PnRoaXMucm93fHxyYW5nZS5zdGFydC5yb3c9PXRoaXMucm93JiZyYW5nZS5zdGFydC5jb2x1bW4+dGhpcy5jb2x1bW4pKXt2YXIgcm93PXRoaXMucm93LGNvbHVtbj10aGlzLmNvbHVtbixzdGFydD1yYW5nZS5zdGFydCxlbmQ9cmFuZ2UuZW5kO1xcXCJpbnNlcnRUZXh0XFxcIj09PWRlbHRhLmFjdGlvbj9zdGFydC5yb3c9PT1yb3cmJmNvbHVtbj49c3RhcnQuY29sdW1uP3N0YXJ0LnJvdz09PWVuZC5yb3c/Y29sdW1uKz1lbmQuY29sdW1uLXN0YXJ0LmNvbHVtbjooY29sdW1uLT1zdGFydC5jb2x1bW4scm93Kz1lbmQucm93LXN0YXJ0LnJvdyk6c3RhcnQucm93IT09ZW5kLnJvdyYmcm93PnN0YXJ0LnJvdyYmKHJvdys9ZW5kLnJvdy1zdGFydC5yb3cpOlxcXCJpbnNlcnRMaW5lc1xcXCI9PT1kZWx0YS5hY3Rpb24/cm93Pj1zdGFydC5yb3cmJihyb3crPWVuZC5yb3ctc3RhcnQucm93KTpcXFwicmVtb3ZlVGV4dFxcXCI9PT1kZWx0YS5hY3Rpb24/c3RhcnQucm93PT09cm93JiZjb2x1bW4+c3RhcnQuY29sdW1uP2NvbHVtbj1lbmQuY29sdW1uPj1jb2x1bW4/c3RhcnQuY29sdW1uOk1hdGgubWF4KDAsY29sdW1uLShlbmQuY29sdW1uLXN0YXJ0LmNvbHVtbikpOnN0YXJ0LnJvdyE9PWVuZC5yb3cmJnJvdz5zdGFydC5yb3c/KGVuZC5yb3c9PT1yb3cmJihjb2x1bW49TWF0aC5tYXgoMCxjb2x1bW4tZW5kLmNvbHVtbikrc3RhcnQuY29sdW1uKSxyb3ctPWVuZC5yb3ctc3RhcnQucm93KTplbmQucm93PT09cm93JiYocm93LT1lbmQucm93LXN0YXJ0LnJvdyxjb2x1bW49TWF0aC5tYXgoMCxjb2x1bW4tZW5kLmNvbHVtbikrc3RhcnQuY29sdW1uKTpcXFwicmVtb3ZlTGluZXNcXFwiPT1kZWx0YS5hY3Rpb24mJnJvdz49c3RhcnQucm93JiYocm93Pj1lbmQucm93P3Jvdy09ZW5kLnJvdy1zdGFydC5yb3c6KHJvdz1zdGFydC5yb3csY29sdW1uPTApKSx0aGlzLnNldFBvc2l0aW9uKHJvdyxjb2x1bW4sITApfX0sdGhpcy5zZXRQb3NpdGlvbj1mdW5jdGlvbihyb3csY29sdW1uLG5vQ2xpcCl7dmFyIHBvcztpZihwb3M9bm9DbGlwP3tyb3c6cm93LGNvbHVtbjpjb2x1bW59OnRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQocm93LGNvbHVtbiksdGhpcy5yb3chPXBvcy5yb3d8fHRoaXMuY29sdW1uIT1wb3MuY29sdW1uKXt2YXIgb2xkPXtyb3c6dGhpcy5yb3csY29sdW1uOnRoaXMuY29sdW1ufTt0aGlzLnJvdz1wb3Mucm93LHRoaXMuY29sdW1uPXBvcy5jb2x1bW4sdGhpcy5fZW1pdChcXFwiY2hhbmdlXFxcIix7b2xkOm9sZCx2YWx1ZTpwb3N9KX19LHRoaXMuZGV0YWNoPWZ1bmN0aW9uKCl7dGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJjaGFuZ2VcXFwiLHRoaXMuJG9uQ2hhbmdlKX0sdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudD1mdW5jdGlvbihyb3csY29sdW1uKXt2YXIgcG9zPXt9O3JldHVybiByb3c+PXRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCk/KHBvcy5yb3c9TWF0aC5tYXgoMCx0aGlzLmRvY3VtZW50LmdldExlbmd0aCgpLTEpLHBvcy5jb2x1bW49dGhpcy5kb2N1bWVudC5nZXRMaW5lKHBvcy5yb3cpLmxlbmd0aCk6MD5yb3c/KHBvcy5yb3c9MCxwb3MuY29sdW1uPTApOihwb3Mucm93PXJvdyxwb3MuY29sdW1uPU1hdGgubWluKHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgsTWF0aC5tYXgoMCxjb2x1bW4pKSksMD5jb2x1bW4mJihwb3MuY29sdW1uPTApLHBvc319KS5jYWxsKEFuY2hvci5wcm90b3R5cGUpfSksYWNlLmRlZmluZShcXFwiYWNlL2xpYi9sYW5nXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7ZXhwb3J0cy5zdHJpbmdSZXZlcnNlPWZ1bmN0aW9uKHN0cmluZyl7cmV0dXJuIHN0cmluZy5zcGxpdChcXFwiXFxcIikucmV2ZXJzZSgpLmpvaW4oXFxcIlxcXCIpfSxleHBvcnRzLnN0cmluZ1JlcGVhdD1mdW5jdGlvbihzdHJpbmcsY291bnQpe2Zvcih2YXIgcmVzdWx0PVxcXCJcXFwiO2NvdW50PjA7KTEmY291bnQmJihyZXN1bHQrPXN0cmluZyksKGNvdW50Pj49MSkmJihzdHJpbmcrPXN0cmluZyk7cmV0dXJuIHJlc3VsdH07dmFyIHRyaW1CZWdpblJlZ2V4cD0vXlxcXFxzXFxcXHMqLyx0cmltRW5kUmVnZXhwPS9cXFxcc1xcXFxzKiQvO2V4cG9ydHMuc3RyaW5nVHJpbUxlZnQ9ZnVuY3Rpb24oc3RyaW5nKXtyZXR1cm4gc3RyaW5nLnJlcGxhY2UodHJpbUJlZ2luUmVnZXhwLFxcXCJcXFwiKX0sZXhwb3J0cy5zdHJpbmdUcmltUmlnaHQ9ZnVuY3Rpb24oc3RyaW5nKXtyZXR1cm4gc3RyaW5nLnJlcGxhY2UodHJpbUVuZFJlZ2V4cCxcXFwiXFxcIil9LGV4cG9ydHMuY29weU9iamVjdD1mdW5jdGlvbihvYmope3ZhciBjb3B5PXt9O2Zvcih2YXIga2V5IGluIG9iailjb3B5W2tleV09b2JqW2tleV07cmV0dXJuIGNvcHl9LGV4cG9ydHMuY29weUFycmF5PWZ1bmN0aW9uKGFycmF5KXtmb3IodmFyIGNvcHk9W10saT0wLGw9YXJyYXkubGVuZ3RoO2w+aTtpKyspY29weVtpXT1hcnJheVtpXSYmXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBhcnJheVtpXT90aGlzLmNvcHlPYmplY3QoYXJyYXlbaV0pOmFycmF5W2ldO3JldHVybiBjb3B5fSxleHBvcnRzLmRlZXBDb3B5PWZ1bmN0aW9uKG9iail7aWYoXFxcIm9iamVjdFxcXCIhPXR5cGVvZiBvYmopcmV0dXJuIG9iajt2YXIgY29weT1vYmouY29uc3RydWN0b3IoKTtmb3IodmFyIGtleSBpbiBvYmopY29weVtrZXldPVxcXCJvYmplY3RcXFwiPT10eXBlb2Ygb2JqW2tleV0/dGhpcy5kZWVwQ29weShvYmpba2V5XSk6b2JqW2tleV07cmV0dXJuIGNvcHl9LGV4cG9ydHMuYXJyYXlUb01hcD1mdW5jdGlvbihhcnIpe2Zvcih2YXIgbWFwPXt9LGk9MDthcnIubGVuZ3RoPmk7aSsrKW1hcFthcnJbaV1dPTE7cmV0dXJuIG1hcH0sZXhwb3J0cy5jcmVhdGVNYXA9ZnVuY3Rpb24ocHJvcHMpe3ZhciBtYXA9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IodmFyIGkgaW4gcHJvcHMpbWFwW2ldPXByb3BzW2ldO3JldHVybiBtYXB9LGV4cG9ydHMuYXJyYXlSZW1vdmU9ZnVuY3Rpb24oYXJyYXksdmFsdWUpe2Zvcih2YXIgaT0wO2FycmF5Lmxlbmd0aD49aTtpKyspdmFsdWU9PT1hcnJheVtpXSYmYXJyYXkuc3BsaWNlKGksMSl9LGV4cG9ydHMuZXNjYXBlUmVnRXhwPWZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0ci5yZXBsYWNlKC8oWy4qKz9eJHt9KCl8W1xcXFxdXFxcXC9cXFxcXFxcXF0pL2csXFxcIlxcXFxcXFxcJDFcXFwiKX0sZXhwb3J0cy5lc2NhcGVIVE1MPWZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0ci5yZXBsYWNlKC8mL2csXFxcIiYjMzg7XFxcIikucmVwbGFjZSgvXFxcIi9nLFxcXCImIzM0O1xcXCIpLnJlcGxhY2UoLycvZyxcXFwiJiMzOTtcXFwiKS5yZXBsYWNlKC88L2csXFxcIiYjNjA7XFxcIil9LGV4cG9ydHMuZ2V0TWF0Y2hPZmZzZXRzPWZ1bmN0aW9uKHN0cmluZyxyZWdFeHApe3ZhciBtYXRjaGVzPVtdO3JldHVybiBzdHJpbmcucmVwbGFjZShyZWdFeHAsZnVuY3Rpb24oc3RyKXttYXRjaGVzLnB1c2goe29mZnNldDphcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aC0yXSxsZW5ndGg6c3RyLmxlbmd0aH0pfSksbWF0Y2hlc30sZXhwb3J0cy5kZWZlcnJlZENhbGw9ZnVuY3Rpb24oZmNuKXt2YXIgdGltZXI9bnVsbCxjYWxsYmFjaz1mdW5jdGlvbigpe3RpbWVyPW51bGwsZmNuKCl9LGRlZmVycmVkPWZ1bmN0aW9uKHRpbWVvdXQpe3JldHVybiBkZWZlcnJlZC5jYW5jZWwoKSx0aW1lcj1zZXRUaW1lb3V0KGNhbGxiYWNrLHRpbWVvdXR8fDApLGRlZmVycmVkfTtyZXR1cm4gZGVmZXJyZWQuc2NoZWR1bGU9ZGVmZXJyZWQsZGVmZXJyZWQuY2FsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbmNlbCgpLGZjbigpLGRlZmVycmVkfSxkZWZlcnJlZC5jYW5jZWw9ZnVuY3Rpb24oKXtyZXR1cm4gY2xlYXJUaW1lb3V0KHRpbWVyKSx0aW1lcj1udWxsLGRlZmVycmVkfSxkZWZlcnJlZH0sZXhwb3J0cy5kZWxheWVkQ2FsbD1mdW5jdGlvbihmY24sZGVmYXVsdFRpbWVvdXQpe3ZhciB0aW1lcj1udWxsLGNhbGxiYWNrPWZ1bmN0aW9uKCl7dGltZXI9bnVsbCxmY24oKX0sX3NlbGY9ZnVuY3Rpb24odGltZW91dCl7dGltZXImJmNsZWFyVGltZW91dCh0aW1lciksdGltZXI9c2V0VGltZW91dChjYWxsYmFjayx0aW1lb3V0fHxkZWZhdWx0VGltZW91dCl9O3JldHVybiBfc2VsZi5kZWxheT1fc2VsZixfc2VsZi5zY2hlZHVsZT1mdW5jdGlvbih0aW1lb3V0KXtudWxsPT10aW1lciYmKHRpbWVyPXNldFRpbWVvdXQoY2FsbGJhY2ssdGltZW91dHx8MCkpfSxfc2VsZi5jYWxsPWZ1bmN0aW9uKCl7dGhpcy5jYW5jZWwoKSxmY24oKX0sX3NlbGYuY2FuY2VsPWZ1bmN0aW9uKCl7dGltZXImJmNsZWFyVGltZW91dCh0aW1lciksdGltZXI9bnVsbH0sX3NlbGYuaXNQZW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRpbWVyfSxfc2VsZn19KSxhY2UuZGVmaW5lKFxcXCJhY2UvbW9kZS9qc29uL2pzb25fcGFyc2VcXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiXSxmdW5jdGlvbigpe3ZhciBhdCxjaCx0ZXh0LHZhbHVlLGVzY2FwZWU9eydcXFwiJzonXFxcIicsXFxcIlxcXFxcXFxcXFxcIjpcXFwiXFxcXFxcXFxcXFwiLFxcXCIvXFxcIjpcXFwiL1xcXCIsYjpcXFwiXFxcXGJcXFwiLGY6XFxcIlxcXFxmXFxcIixuOlxcXCJcXFxcblxcXCIscjpcXFwiXFxcXHJcXFwiLHQ6XFxcIlxcdFxcXCJ9LGVycm9yPWZ1bmN0aW9uKG0pe3Rocm93e25hbWU6XFxcIlN5bnRheEVycm9yXFxcIixtZXNzYWdlOm0sYXQ6YXQsdGV4dDp0ZXh0fX0sbmV4dD1mdW5jdGlvbihjKXtyZXR1cm4gYyYmYyE9PWNoJiZlcnJvcihcXFwiRXhwZWN0ZWQgJ1xcXCIrYytcXFwiJyBpbnN0ZWFkIG9mICdcXFwiK2NoK1xcXCInXFxcIiksY2g9dGV4dC5jaGFyQXQoYXQpLGF0Kz0xLGNofSxudW1iZXI9ZnVuY3Rpb24oKXt2YXIgbnVtYmVyLHN0cmluZz1cXFwiXFxcIjtmb3IoXFxcIi1cXFwiPT09Y2gmJihzdHJpbmc9XFxcIi1cXFwiLG5leHQoXFxcIi1cXFwiKSk7Y2g+PVxcXCIwXFxcIiYmXFxcIjlcXFwiPj1jaDspc3RyaW5nKz1jaCxuZXh0KCk7aWYoXFxcIi5cXFwiPT09Y2gpZm9yKHN0cmluZys9XFxcIi5cXFwiO25leHQoKSYmY2g+PVxcXCIwXFxcIiYmXFxcIjlcXFwiPj1jaDspc3RyaW5nKz1jaDtpZihcXFwiZVxcXCI9PT1jaHx8XFxcIkVcXFwiPT09Y2gpZm9yKHN0cmluZys9Y2gsbmV4dCgpLChcXFwiLVxcXCI9PT1jaHx8XFxcIitcXFwiPT09Y2gpJiYoc3RyaW5nKz1jaCxuZXh0KCkpO2NoPj1cXFwiMFxcXCImJlxcXCI5XFxcIj49Y2g7KXN0cmluZys9Y2gsbmV4dCgpO3JldHVybiBudW1iZXI9K3N0cmluZyxpc05hTihudW1iZXIpPyhlcnJvcihcXFwiQmFkIG51bWJlclxcXCIpLHZvaWQgMCk6bnVtYmVyfSxzdHJpbmc9ZnVuY3Rpb24oKXt2YXIgaGV4LGksdWZmZmYsc3RyaW5nPVxcXCJcXFwiO2lmKCdcXFwiJz09PWNoKWZvcig7bmV4dCgpOyl7aWYoJ1xcXCInPT09Y2gpcmV0dXJuIG5leHQoKSxzdHJpbmc7aWYoXFxcIlxcXFxcXFxcXFxcIj09PWNoKWlmKG5leHQoKSxcXFwidVxcXCI9PT1jaCl7Zm9yKHVmZmZmPTAsaT0wOzQ+aSYmKGhleD1wYXJzZUludChuZXh0KCksMTYpLGlzRmluaXRlKGhleCkpO2krPTEpdWZmZmY9MTYqdWZmZmYraGV4O3N0cmluZys9U3RyaW5nLmZyb21DaGFyQ29kZSh1ZmZmZil9ZWxzZXtpZihcXFwic3RyaW5nXFxcIiE9dHlwZW9mIGVzY2FwZWVbY2hdKWJyZWFrO3N0cmluZys9ZXNjYXBlZVtjaF19ZWxzZSBzdHJpbmcrPWNofWVycm9yKFxcXCJCYWQgc3RyaW5nXFxcIil9LHdoaXRlPWZ1bmN0aW9uKCl7Zm9yKDtjaCYmXFxcIiBcXFwiPj1jaDspbmV4dCgpfSx3b3JkPWZ1bmN0aW9uKCl7c3dpdGNoKGNoKXtjYXNlXFxcInRcXFwiOnJldHVybiBuZXh0KFxcXCJ0XFxcIiksbmV4dChcXFwiclxcXCIpLG5leHQoXFxcInVcXFwiKSxuZXh0KFxcXCJlXFxcIiksITA7Y2FzZVxcXCJmXFxcIjpyZXR1cm4gbmV4dChcXFwiZlxcXCIpLG5leHQoXFxcImFcXFwiKSxuZXh0KFxcXCJsXFxcIiksbmV4dChcXFwic1xcXCIpLG5leHQoXFxcImVcXFwiKSwhMTtjYXNlXFxcIm5cXFwiOnJldHVybiBuZXh0KFxcXCJuXFxcIiksbmV4dChcXFwidVxcXCIpLG5leHQoXFxcImxcXFwiKSxuZXh0KFxcXCJsXFxcIiksbnVsbH1lcnJvcihcXFwiVW5leHBlY3RlZCAnXFxcIitjaCtcXFwiJ1xcXCIpfSxhcnJheT1mdW5jdGlvbigpe3ZhciBhcnJheT1bXTtpZihcXFwiW1xcXCI9PT1jaCl7aWYobmV4dChcXFwiW1xcXCIpLHdoaXRlKCksXFxcIl1cXFwiPT09Y2gpcmV0dXJuIG5leHQoXFxcIl1cXFwiKSxhcnJheTtmb3IoO2NoOyl7aWYoYXJyYXkucHVzaCh2YWx1ZSgpKSx3aGl0ZSgpLFxcXCJdXFxcIj09PWNoKXJldHVybiBuZXh0KFxcXCJdXFxcIiksYXJyYXk7bmV4dChcXFwiLFxcXCIpLHdoaXRlKCl9fWVycm9yKFxcXCJCYWQgYXJyYXlcXFwiKX0sb2JqZWN0PWZ1bmN0aW9uKCl7dmFyIGtleSxvYmplY3Q9e307aWYoXFxcIntcXFwiPT09Y2gpe2lmKG5leHQoXFxcIntcXFwiKSx3aGl0ZSgpLFxcXCJ9XFxcIj09PWNoKXJldHVybiBuZXh0KFxcXCJ9XFxcIiksb2JqZWN0O2Zvcig7Y2g7KXtpZihrZXk9c3RyaW5nKCksd2hpdGUoKSxuZXh0KFxcXCI6XFxcIiksT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LGtleSkmJmVycm9yKCdEdXBsaWNhdGUga2V5IFxcXCInK2tleSsnXFxcIicpLG9iamVjdFtrZXldPXZhbHVlKCksd2hpdGUoKSxcXFwifVxcXCI9PT1jaClyZXR1cm4gbmV4dChcXFwifVxcXCIpLG9iamVjdDtuZXh0KFxcXCIsXFxcIiksd2hpdGUoKX19ZXJyb3IoXFxcIkJhZCBvYmplY3RcXFwiKX07cmV0dXJuIHZhbHVlPWZ1bmN0aW9uKCl7c3dpdGNoKHdoaXRlKCksY2gpe2Nhc2VcXFwie1xcXCI6cmV0dXJuIG9iamVjdCgpO2Nhc2VcXFwiW1xcXCI6cmV0dXJuIGFycmF5KCk7Y2FzZSdcXFwiJzpyZXR1cm4gc3RyaW5nKCk7Y2FzZVxcXCItXFxcIjpyZXR1cm4gbnVtYmVyKCk7ZGVmYXVsdDpyZXR1cm4gY2g+PVxcXCIwXFxcIiYmXFxcIjlcXFwiPj1jaD9udW1iZXIoKTp3b3JkKCl9fSxmdW5jdGlvbihzb3VyY2UscmV2aXZlcil7dmFyIHJlc3VsdDtyZXR1cm4gdGV4dD1zb3VyY2UsYXQ9MCxjaD1cXFwiIFxcXCIscmVzdWx0PXZhbHVlKCksd2hpdGUoKSxjaCYmZXJyb3IoXFxcIlN5bnRheCBlcnJvclxcXCIpLFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiByZXZpdmVyP2Z1bmN0aW9uIHdhbGsoaG9sZGVyLGtleSl7dmFyIGssdix2YWx1ZT1ob2xkZXJba2V5XTtpZih2YWx1ZSYmXFxcIm9iamVjdFxcXCI9PXR5cGVvZiB2YWx1ZSlmb3IoayBpbiB2YWx1ZSlPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSxrKSYmKHY9d2Fsayh2YWx1ZSxrKSx2b2lkIDAhPT12P3ZhbHVlW2tdPXY6ZGVsZXRlIHZhbHVlW2tdKTtyZXR1cm4gcmV2aXZlci5jYWxsKGhvbGRlcixrZXksdmFsdWUpfSh7XFxcIlxcXCI6cmVzdWx0fSxcXFwiXFxcIik6cmVzdWx0fX0pO1wiOyIsIm1vZHVsZS5leHBvcnRzLmlkID0gJ2FjZS9tb2RlL2x1YV93b3JrZXInO1xubW9kdWxlLmV4cG9ydHMuc3JjID0gXCJcXFwibm8gdXNlIHN0cmljdFxcXCI7KGZ1bmN0aW9uKHdpbmRvdyl7dm9pZCAwIT09d2luZG93LndpbmRvdyYmd2luZG93LmRvY3VtZW50fHwod2luZG93LmNvbnNvbGU9e2xvZzpmdW5jdGlvbigpe3ZhciBtc2dzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtwb3N0TWVzc2FnZSh7dHlwZTpcXFwibG9nXFxcIixkYXRhOm1zZ3N9KX0sZXJyb3I6ZnVuY3Rpb24oKXt2YXIgbXNncz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cG9zdE1lc3NhZ2Uoe3R5cGU6XFxcImxvZ1xcXCIsZGF0YTptc2dzfSl9fSx3aW5kb3cud2luZG93PXdpbmRvdyx3aW5kb3cuYWNlPXdpbmRvdyx3aW5kb3cubm9ybWFsaXplTW9kdWxlPWZ1bmN0aW9uKHBhcmVudElkLG1vZHVsZU5hbWUpe2lmKC0xIT09bW9kdWxlTmFtZS5pbmRleE9mKFxcXCIhXFxcIikpe3ZhciBjaHVua3M9bW9kdWxlTmFtZS5zcGxpdChcXFwiIVxcXCIpO3JldHVybiBub3JtYWxpemVNb2R1bGUocGFyZW50SWQsY2h1bmtzWzBdKStcXFwiIVxcXCIrbm9ybWFsaXplTW9kdWxlKHBhcmVudElkLGNodW5rc1sxXSl9aWYoXFxcIi5cXFwiPT1tb2R1bGVOYW1lLmNoYXJBdCgwKSl7dmFyIGJhc2U9cGFyZW50SWQuc3BsaXQoXFxcIi9cXFwiKS5zbGljZSgwLC0xKS5qb2luKFxcXCIvXFxcIik7Zm9yKG1vZHVsZU5hbWU9YmFzZStcXFwiL1xcXCIrbW9kdWxlTmFtZTstMSE9PW1vZHVsZU5hbWUuaW5kZXhPZihcXFwiLlxcXCIpJiZwcmV2aW91cyE9bW9kdWxlTmFtZTspe3ZhciBwcmV2aW91cz1tb2R1bGVOYW1lO21vZHVsZU5hbWU9bW9kdWxlTmFtZS5yZXBsYWNlKC9cXFxcL1xcXFwuXFxcXC8vLFxcXCIvXFxcIikucmVwbGFjZSgvW15cXFxcL10rXFxcXC9cXFxcLlxcXFwuXFxcXC8vLFxcXCJcXFwiKX19cmV0dXJuIG1vZHVsZU5hbWV9LHdpbmRvdy5hY2VxdWlyZT1mdW5jdGlvbihwYXJlbnRJZCxpZCl7aWYoaWR8fChpZD1wYXJlbnRJZCxwYXJlbnRJZD1udWxsKSwhaWQuY2hhckF0KXRocm93IEVycm9yKFxcXCJ3b3JrZXIuanMgYWNlcXVpcmUoKSBhY2NlcHRzIG9ubHkgKHBhcmVudElkLCBpZCkgYXMgYXJndW1lbnRzXFxcIik7aWQ9bm9ybWFsaXplTW9kdWxlKHBhcmVudElkLGlkKTt2YXIgbW9kdWxlPWFjZXF1aXJlLm1vZHVsZXNbaWRdO2lmKG1vZHVsZSlyZXR1cm4gbW9kdWxlLmluaXRpYWxpemVkfHwobW9kdWxlLmluaXRpYWxpemVkPSEwLG1vZHVsZS5leHBvcnRzPW1vZHVsZS5mYWN0b3J5KCkuZXhwb3J0cyksbW9kdWxlLmV4cG9ydHM7dmFyIGNodW5rcz1pZC5zcGxpdChcXFwiL1xcXCIpO2NodW5rc1swXT1hY2VxdWlyZS50bG5zW2NodW5rc1swXV18fGNodW5rc1swXTt2YXIgcGF0aD1jaHVua3Muam9pbihcXFwiL1xcXCIpK1xcXCIuanNcXFwiO3JldHVybiBhY2VxdWlyZS5pZD1pZCxpbXBvcnRTY3JpcHRzKHBhdGgpLGFjZXF1aXJlKHBhcmVudElkLGlkKX0sYWNlcXVpcmUubW9kdWxlcz17fSxhY2VxdWlyZS50bG5zPXt9LHdpbmRvdy5kZWZpbmU9ZnVuY3Rpb24oaWQsZGVwcyxmYWN0b3J5KXtpZigyPT1hcmd1bWVudHMubGVuZ3RoPyhmYWN0b3J5PWRlcHMsXFxcInN0cmluZ1xcXCIhPXR5cGVvZiBpZCYmKGRlcHM9aWQsaWQ9YWNlcXVpcmUuaWQpKToxPT1hcmd1bWVudHMubGVuZ3RoJiYoZmFjdG9yeT1pZCxpZD1hY2VxdWlyZS5pZCksMCE9PWlkLmluZGV4T2YoXFxcInRleHQhXFxcIikpe3ZhciByZXE9ZnVuY3Rpb24oZGVwcyxmYWN0b3J5KXtyZXR1cm4gYWNlcXVpcmUoaWQsZGVwcyxmYWN0b3J5KX07YWNlcXVpcmUubW9kdWxlc1tpZF09e2ZhY3Rvcnk6ZnVuY3Rpb24oKXt2YXIgbW9kdWxlPXtleHBvcnRzOnt9fSxyZXR1cm5FeHBvcnRzPWZhY3RvcnkocmVxLG1vZHVsZS5leHBvcnRzLG1vZHVsZSk7cmV0dXJuIHJldHVybkV4cG9ydHMmJihtb2R1bGUuZXhwb3J0cz1yZXR1cm5FeHBvcnRzKSxtb2R1bGV9fX19LHdpbmRvdy5pbml0QmFzZVVybHM9ZnVuY3Rpb24gaW5pdEJhc2VVcmxzKHRvcExldmVsTmFtZXNwYWNlcyl7YWNlcXVpcmUudGxucz10b3BMZXZlbE5hbWVzcGFjZXN9LHdpbmRvdy5pbml0U2VuZGVyPWZ1bmN0aW9uIGluaXRTZW5kZXIoKXt2YXIgRXZlbnRFbWl0dGVyPWFjZXF1aXJlKFxcXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcXFwiKS5FdmVudEVtaXR0ZXIsb29wPWFjZXF1aXJlKFxcXCJhY2UvbGliL29vcFxcXCIpLFNlbmRlcj1mdW5jdGlvbigpe307cmV0dXJuIGZ1bmN0aW9uKCl7b29wLmltcGxlbWVudCh0aGlzLEV2ZW50RW1pdHRlciksdGhpcy5jYWxsYmFjaz1mdW5jdGlvbihkYXRhLGNhbGxiYWNrSWQpe3Bvc3RNZXNzYWdlKHt0eXBlOlxcXCJjYWxsXFxcIixpZDpjYWxsYmFja0lkLGRhdGE6ZGF0YX0pfSx0aGlzLmVtaXQ9ZnVuY3Rpb24obmFtZSxkYXRhKXtwb3N0TWVzc2FnZSh7dHlwZTpcXFwiZXZlbnRcXFwiLG5hbWU6bmFtZSxkYXRhOmRhdGF9KX19LmNhbGwoU2VuZGVyLnByb3RvdHlwZSksbmV3IFNlbmRlcn0sd2luZG93Lm1haW49bnVsbCx3aW5kb3cuc2VuZGVyPW51bGwsd2luZG93Lm9ubWVzc2FnZT1mdW5jdGlvbihlKXt2YXIgbXNnPWUuZGF0YTtpZihtc2cuY29tbWFuZCl7aWYoIW1haW5bbXNnLmNvbW1hbmRdKXRocm93IEVycm9yKFxcXCJVbmtub3duIGNvbW1hbmQ6XFxcIittc2cuY29tbWFuZCk7bWFpblttc2cuY29tbWFuZF0uYXBwbHkobWFpbixtc2cuYXJncyl9ZWxzZSBpZihtc2cuaW5pdCl7aW5pdEJhc2VVcmxzKG1zZy50bG5zKSxhY2VxdWlyZShcXFwiYWNlL2xpYi9lczUtc2hpbVxcXCIpLHNlbmRlcj1pbml0U2VuZGVyKCk7dmFyIGNsYXp6PWFjZXF1aXJlKG1zZy5tb2R1bGUpW21zZy5jbGFzc25hbWVdO21haW49bmV3IGNsYXp6KHNlbmRlcil9ZWxzZSBtc2cuZXZlbnQmJnNlbmRlciYmc2VuZGVyLl9lbWl0KG1zZy5ldmVudCxtc2cuZGF0YSl9KX0pKHRoaXMpLGFjZS5kZWZpbmUoXFxcImFjZS9saWIvZXZlbnRfZW1pdHRlclxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe3ZhciBFdmVudEVtaXR0ZXI9e30sc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7dGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ9ITB9LHByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0UHJldmVudGVkPSEwfTtFdmVudEVtaXR0ZXIuX2VtaXQ9RXZlbnRFbWl0dGVyLl9kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGV2ZW50TmFtZSxlKXt0aGlzLl9ldmVudFJlZ2lzdHJ5fHwodGhpcy5fZXZlbnRSZWdpc3RyeT17fSksdGhpcy5fZGVmYXVsdEhhbmRsZXJzfHwodGhpcy5fZGVmYXVsdEhhbmRsZXJzPXt9KTt2YXIgbGlzdGVuZXJzPXRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXXx8W10sZGVmYXVsdEhhbmRsZXI9dGhpcy5fZGVmYXVsdEhhbmRsZXJzW2V2ZW50TmFtZV07aWYobGlzdGVuZXJzLmxlbmd0aHx8ZGVmYXVsdEhhbmRsZXIpe1xcXCJvYmplY3RcXFwiPT10eXBlb2YgZSYmZXx8KGU9e30pLGUudHlwZXx8KGUudHlwZT1ldmVudE5hbWUpLGUuc3RvcFByb3BhZ2F0aW9ufHwoZS5zdG9wUHJvcGFnYXRpb249c3RvcFByb3BhZ2F0aW9uKSxlLnByZXZlbnREZWZhdWx0fHwoZS5wcmV2ZW50RGVmYXVsdD1wcmV2ZW50RGVmYXVsdCk7Zm9yKHZhciBpPTA7bGlzdGVuZXJzLmxlbmd0aD5pJiYobGlzdGVuZXJzW2ldKGUsdGhpcyksIWUucHJvcGFnYXRpb25TdG9wcGVkKTtpKyspO3JldHVybiBkZWZhdWx0SGFuZGxlciYmIWUuZGVmYXVsdFByZXZlbnRlZD9kZWZhdWx0SGFuZGxlcihlLHRoaXMpOnZvaWQgMH19LEV2ZW50RW1pdHRlci5fc2lnbmFsPWZ1bmN0aW9uKGV2ZW50TmFtZSxlKXt2YXIgbGlzdGVuZXJzPSh0aGlzLl9ldmVudFJlZ2lzdHJ5fHx7fSlbZXZlbnROYW1lXTtpZihsaXN0ZW5lcnMpZm9yKHZhciBpPTA7bGlzdGVuZXJzLmxlbmd0aD5pO2krKylsaXN0ZW5lcnNbaV0oZSx0aGlzKX0sRXZlbnRFbWl0dGVyLm9uY2U9ZnVuY3Rpb24oZXZlbnROYW1lLGNhbGxiYWNrKXt2YXIgX3NlbGY9dGhpcztjYWxsYmFjayYmdGhpcy5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSxmdW5jdGlvbiBuZXdDYWxsYmFjaygpe19zZWxmLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLG5ld0NhbGxiYWNrKSxjYWxsYmFjay5hcHBseShudWxsLGFyZ3VtZW50cyl9KX0sRXZlbnRFbWl0dGVyLnNldERlZmF1bHRIYW5kbGVyPWZ1bmN0aW9uKGV2ZW50TmFtZSxjYWxsYmFjayl7dmFyIGhhbmRsZXJzPXRoaXMuX2RlZmF1bHRIYW5kbGVycztpZihoYW5kbGVyc3x8KGhhbmRsZXJzPXRoaXMuX2RlZmF1bHRIYW5kbGVycz17X2Rpc2FibGVkXzp7fX0pLGhhbmRsZXJzW2V2ZW50TmFtZV0pe3ZhciBvbGQ9aGFuZGxlcnNbZXZlbnROYW1lXSxkaXNhYmxlZD1oYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07ZGlzYWJsZWR8fChoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV09ZGlzYWJsZWQ9W10pLGRpc2FibGVkLnB1c2gob2xkKTt2YXIgaT1kaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTstMSE9aSYmZGlzYWJsZWQuc3BsaWNlKGksMSl9aGFuZGxlcnNbZXZlbnROYW1lXT1jYWxsYmFja30sRXZlbnRFbWl0dGVyLnJlbW92ZURlZmF1bHRIYW5kbGVyPWZ1bmN0aW9uKGV2ZW50TmFtZSxjYWxsYmFjayl7dmFyIGhhbmRsZXJzPXRoaXMuX2RlZmF1bHRIYW5kbGVycztpZihoYW5kbGVycyl7dmFyIGRpc2FibGVkPWhhbmRsZXJzLl9kaXNhYmxlZF9bZXZlbnROYW1lXTtpZihoYW5kbGVyc1tldmVudE5hbWVdPT1jYWxsYmFjayloYW5kbGVyc1tldmVudE5hbWVdLGRpc2FibGVkJiZ0aGlzLnNldERlZmF1bHRIYW5kbGVyKGV2ZW50TmFtZSxkaXNhYmxlZC5wb3AoKSk7ZWxzZSBpZihkaXNhYmxlZCl7dmFyIGk9ZGlzYWJsZWQuaW5kZXhPZihjYWxsYmFjayk7LTEhPWkmJmRpc2FibGVkLnNwbGljZShpLDEpfX19LEV2ZW50RW1pdHRlci5vbj1FdmVudEVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihldmVudE5hbWUsY2FsbGJhY2ssY2FwdHVyaW5nKXt0aGlzLl9ldmVudFJlZ2lzdHJ5PXRoaXMuX2V2ZW50UmVnaXN0cnl8fHt9O3ZhciBsaXN0ZW5lcnM9dGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdO3JldHVybiBsaXN0ZW5lcnN8fChsaXN0ZW5lcnM9dGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdPVtdKSwtMT09bGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spJiZsaXN0ZW5lcnNbY2FwdHVyaW5nP1xcXCJ1bnNoaWZ0XFxcIjpcXFwicHVzaFxcXCJdKGNhbGxiYWNrKSxjYWxsYmFja30sRXZlbnRFbWl0dGVyLm9mZj1FdmVudEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXI9RXZlbnRFbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZXZlbnROYW1lLGNhbGxiYWNrKXt0aGlzLl9ldmVudFJlZ2lzdHJ5PXRoaXMuX2V2ZW50UmVnaXN0cnl8fHt9O3ZhciBsaXN0ZW5lcnM9dGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdO2lmKGxpc3RlbmVycyl7dmFyIGluZGV4PWxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTstMSE9PWluZGV4JiZsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LDEpfX0sRXZlbnRFbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihldmVudE5hbWUpe3RoaXMuX2V2ZW50UmVnaXN0cnkmJih0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV09W10pfSxleHBvcnRzLkV2ZW50RW1pdHRlcj1FdmVudEVtaXR0ZXJ9KSxhY2UuZGVmaW5lKFxcXCJhY2UvbGliL29vcFxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe2V4cG9ydHMuaW5oZXJpdHM9ZnVuY3Rpb24oKXt2YXIgdGVtcEN0b3I9ZnVuY3Rpb24oKXt9O3JldHVybiBmdW5jdGlvbihjdG9yLHN1cGVyQ3Rvcil7dGVtcEN0b3IucHJvdG90eXBlPXN1cGVyQ3Rvci5wcm90b3R5cGUsY3Rvci5zdXBlcl89c3VwZXJDdG9yLnByb3RvdHlwZSxjdG9yLnByb3RvdHlwZT1uZXcgdGVtcEN0b3IsY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3I9Y3Rvcn19KCksZXhwb3J0cy5taXhpbj1mdW5jdGlvbihvYmosbWl4aW4pe2Zvcih2YXIga2V5IGluIG1peGluKW9ialtrZXldPW1peGluW2tleV07cmV0dXJuIG9ian0sZXhwb3J0cy5pbXBsZW1lbnQ9ZnVuY3Rpb24ocHJvdG8sbWl4aW4pe2V4cG9ydHMubWl4aW4ocHJvdG8sbWl4aW4pfX0pLGFjZS5kZWZpbmUoXFxcImFjZS9saWIvZXM1LXNoaW1cXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiXSxmdW5jdGlvbigpe2Z1bmN0aW9uIEVtcHR5KCl7fWZ1bmN0aW9uIGRvZXNEZWZpbmVQcm9wZXJ0eVdvcmsob2JqZWN0KXt0cnl7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsXFxcInNlbnRpbmVsXFxcIix7fSksXFxcInNlbnRpbmVsXFxcImluIG9iamVjdH1jYXRjaChleGNlcHRpb24pe319ZnVuY3Rpb24gdG9JbnRlZ2VyKG4pe3JldHVybiBuPStuLG4hPT1uP249MDowIT09biYmbiE9PTEvMCYmbiE9PS0oMS8wKSYmKG49KG4+MHx8LTEpKk1hdGguZmxvb3IoTWF0aC5hYnMobikpKSxufUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHwoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24odGhhdCl7dmFyIHRhcmdldD10aGlzO2lmKFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiB0YXJnZXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgY2FsbGVkIG9uIGluY29tcGF0aWJsZSBcXFwiK3RhcmdldCk7dmFyIGFyZ3M9c2xpY2UuY2FsbChhcmd1bWVudHMsMSksYm91bmQ9ZnVuY3Rpb24oKXtpZih0aGlzIGluc3RhbmNlb2YgYm91bmQpe3ZhciByZXN1bHQ9dGFyZ2V0LmFwcGx5KHRoaXMsYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7cmV0dXJuIE9iamVjdChyZXN1bHQpPT09cmVzdWx0P3Jlc3VsdDp0aGlzfXJldHVybiB0YXJnZXQuYXBwbHkodGhhdCxhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKX07cmV0dXJuIHRhcmdldC5wcm90b3R5cGUmJihFbXB0eS5wcm90b3R5cGU9dGFyZ2V0LnByb3RvdHlwZSxib3VuZC5wcm90b3R5cGU9bmV3IEVtcHR5LEVtcHR5LnByb3RvdHlwZT1udWxsKSxib3VuZH0pO3ZhciBkZWZpbmVHZXR0ZXIsZGVmaW5lU2V0dGVyLGxvb2t1cEdldHRlcixsb29rdXBTZXR0ZXIsc3VwcG9ydHNBY2Nlc3NvcnMsY2FsbD1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCxwcm90b3R5cGVPZkFycmF5PUFycmF5LnByb3RvdHlwZSxwcm90b3R5cGVPZk9iamVjdD1PYmplY3QucHJvdG90eXBlLHNsaWNlPXByb3RvdHlwZU9mQXJyYXkuc2xpY2UsX3RvU3RyaW5nPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC50b1N0cmluZyksb3ducz1jYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuaGFzT3duUHJvcGVydHkpO2lmKChzdXBwb3J0c0FjY2Vzc29ycz1vd25zKHByb3RvdHlwZU9mT2JqZWN0LFxcXCJfX2RlZmluZUdldHRlcl9fXFxcIikpJiYoZGVmaW5lR2V0dGVyPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5fX2RlZmluZUdldHRlcl9fKSxkZWZpbmVTZXR0ZXI9Y2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0Ll9fZGVmaW5lU2V0dGVyX18pLGxvb2t1cEdldHRlcj1jYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19sb29rdXBHZXR0ZXJfXyksbG9va3VwU2V0dGVyPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5fX2xvb2t1cFNldHRlcl9fKSksMiE9WzEsMl0uc3BsaWNlKDApLmxlbmd0aClpZihmdW5jdGlvbigpe2Z1bmN0aW9uIG1ha2VBcnJheShsKXt2YXIgYT1BcnJheShsKzIpO3JldHVybiBhWzBdPWFbMV09MCxhfXZhciBsZW5ndGhCZWZvcmUsYXJyYXk9W107cmV0dXJuIGFycmF5LnNwbGljZS5hcHBseShhcnJheSxtYWtlQXJyYXkoMjApKSxhcnJheS5zcGxpY2UuYXBwbHkoYXJyYXksbWFrZUFycmF5KDI2KSksbGVuZ3RoQmVmb3JlPWFycmF5Lmxlbmd0aCxhcnJheS5zcGxpY2UoNSwwLFxcXCJYWFhcXFwiKSxsZW5ndGhCZWZvcmUrMT09YXJyYXkubGVuZ3RoLGxlbmd0aEJlZm9yZSsxPT1hcnJheS5sZW5ndGg/ITA6dm9pZCAwfSgpKXt2YXIgYXJyYXlfc3BsaWNlPUFycmF5LnByb3RvdHlwZS5zcGxpY2U7QXJyYXkucHJvdG90eXBlLnNwbGljZT1mdW5jdGlvbihzdGFydCxkZWxldGVDb3VudCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/YXJyYXlfc3BsaWNlLmFwcGx5KHRoaXMsW3ZvaWQgMD09PXN0YXJ0PzA6c3RhcnQsdm9pZCAwPT09ZGVsZXRlQ291bnQ/dGhpcy5sZW5ndGgtc3RhcnQ6ZGVsZXRlQ291bnRdLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cywyKSkpOltdfX1lbHNlIEFycmF5LnByb3RvdHlwZS5zcGxpY2U9ZnVuY3Rpb24ocG9zLHJlbW92ZUNvdW50KXt2YXIgbGVuZ3RoPXRoaXMubGVuZ3RoO3Bvcz4wP3Bvcz5sZW5ndGgmJihwb3M9bGVuZ3RoKTp2b2lkIDA9PXBvcz9wb3M9MDowPnBvcyYmKHBvcz1NYXRoLm1heChsZW5ndGgrcG9zLDApKSxsZW5ndGg+cG9zK3JlbW92ZUNvdW50fHwocmVtb3ZlQ291bnQ9bGVuZ3RoLXBvcyk7dmFyIHJlbW92ZWQ9dGhpcy5zbGljZShwb3MscG9zK3JlbW92ZUNvdW50KSxpbnNlcnQ9c2xpY2UuY2FsbChhcmd1bWVudHMsMiksYWRkPWluc2VydC5sZW5ndGg7aWYocG9zPT09bGVuZ3RoKWFkZCYmdGhpcy5wdXNoLmFwcGx5KHRoaXMsaW5zZXJ0KTtlbHNle3ZhciByZW1vdmU9TWF0aC5taW4ocmVtb3ZlQ291bnQsbGVuZ3RoLXBvcyksdGFpbE9sZFBvcz1wb3MrcmVtb3ZlLHRhaWxOZXdQb3M9dGFpbE9sZFBvcythZGQtcmVtb3ZlLHRhaWxDb3VudD1sZW5ndGgtdGFpbE9sZFBvcyxsZW5ndGhBZnRlclJlbW92ZT1sZW5ndGgtcmVtb3ZlO2lmKHRhaWxPbGRQb3M+dGFpbE5ld1Bvcylmb3IodmFyIGk9MDt0YWlsQ291bnQ+aTsrK2kpdGhpc1t0YWlsTmV3UG9zK2ldPXRoaXNbdGFpbE9sZFBvcytpXTtlbHNlIGlmKHRhaWxOZXdQb3M+dGFpbE9sZFBvcylmb3IoaT10YWlsQ291bnQ7aS0tOyl0aGlzW3RhaWxOZXdQb3MraV09dGhpc1t0YWlsT2xkUG9zK2ldO2lmKGFkZCYmcG9zPT09bGVuZ3RoQWZ0ZXJSZW1vdmUpdGhpcy5sZW5ndGg9bGVuZ3RoQWZ0ZXJSZW1vdmUsdGhpcy5wdXNoLmFwcGx5KHRoaXMsaW5zZXJ0KTtlbHNlIGZvcih0aGlzLmxlbmd0aD1sZW5ndGhBZnRlclJlbW92ZSthZGQsaT0wO2FkZD5pOysraSl0aGlzW3BvcytpXT1pbnNlcnRbaV19cmV0dXJuIHJlbW92ZWR9O0FycmF5LmlzQXJyYXl8fChBcnJheS5pc0FycmF5PWZ1bmN0aW9uKG9iail7cmV0dXJuXFxcIltvYmplY3QgQXJyYXldXFxcIj09X3RvU3RyaW5nKG9iail9KTt2YXIgYm94ZWRTdHJpbmc9T2JqZWN0KFxcXCJhXFxcIiksc3BsaXRTdHJpbmc9XFxcImFcXFwiIT1ib3hlZFN0cmluZ1swXXx8ISgwIGluIGJveGVkU3RyaW5nKTtpZihBcnJheS5wcm90b3R5cGUuZm9yRWFjaHx8KEFycmF5LnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOm9iamVjdCx0aGlzcD1hcmd1bWVudHNbMV0saT0tMSxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wO2lmKFxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3I7Zm9yKDtsZW5ndGg+KytpOylpIGluIHNlbGYmJmZ1bi5jYWxsKHRoaXNwLHNlbGZbaV0saSxvYmplY3QpfSksQXJyYXkucHJvdG90eXBlLm1hcHx8KEFycmF5LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24oZnVuKXt2YXIgb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjAscmVzdWx0PUFycmF5KGxlbmd0aCksdGhpc3A9YXJndW1lbnRzWzFdO2lmKFxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuK1xcXCIgaXMgbm90IGEgZnVuY3Rpb25cXFwiKTtmb3IodmFyIGk9MDtsZW5ndGg+aTtpKyspaSBpbiBzZWxmJiYocmVzdWx0W2ldPWZ1bi5jYWxsKHRoaXNwLHNlbGZbaV0saSxvYmplY3QpKTtyZXR1cm4gcmVzdWx0fSksQXJyYXkucHJvdG90eXBlLmZpbHRlcnx8KEFycmF5LnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24oZnVuKXt2YXIgdmFsdWUsb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjAscmVzdWx0PVtdLHRoaXNwPWFyZ3VtZW50c1sxXTtpZihcXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bitcXFwiIGlzIG5vdCBhIGZ1bmN0aW9uXFxcIik7Zm9yKHZhciBpPTA7bGVuZ3RoPmk7aSsrKWkgaW4gc2VsZiYmKHZhbHVlPXNlbGZbaV0sZnVuLmNhbGwodGhpc3AsdmFsdWUsaSxvYmplY3QpJiZyZXN1bHQucHVzaCh2YWx1ZSkpO3JldHVybiByZXN1bHR9KSxBcnJheS5wcm90b3R5cGUuZXZlcnl8fChBcnJheS5wcm90b3R5cGUuZXZlcnk9ZnVuY3Rpb24oZnVuKXt2YXIgb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjAsdGhpc3A9YXJndW1lbnRzWzFdO2lmKFxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuK1xcXCIgaXMgbm90IGEgZnVuY3Rpb25cXFwiKTtmb3IodmFyIGk9MDtsZW5ndGg+aTtpKyspaWYoaSBpbiBzZWxmJiYhZnVuLmNhbGwodGhpc3Asc2VsZltpXSxpLG9iamVjdCkpcmV0dXJuITE7cmV0dXJuITB9KSxBcnJheS5wcm90b3R5cGUuc29tZXx8KEFycmF5LnByb3RvdHlwZS5zb21lPWZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOm9iamVjdCxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wLHRoaXNwPWFyZ3VtZW50c1sxXTtpZihcXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bitcXFwiIGlzIG5vdCBhIGZ1bmN0aW9uXFxcIik7Zm9yKHZhciBpPTA7bGVuZ3RoPmk7aSsrKWlmKGkgaW4gc2VsZiYmZnVuLmNhbGwodGhpc3Asc2VsZltpXSxpLG9iamVjdCkpcmV0dXJuITA7cmV0dXJuITF9KSxBcnJheS5wcm90b3R5cGUucmVkdWNlfHwoQXJyYXkucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbihmdW4pe3ZhciBvYmplY3Q9dG9PYmplY3QodGhpcyksc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTpvYmplY3QsbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MDtpZihcXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bitcXFwiIGlzIG5vdCBhIGZ1bmN0aW9uXFxcIik7aWYoIWxlbmd0aCYmMT09YXJndW1lbnRzLmxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJyZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXFxcIik7dmFyIHJlc3VsdCxpPTA7aWYoYXJndW1lbnRzLmxlbmd0aD49MilyZXN1bHQ9YXJndW1lbnRzWzFdO2Vsc2UgZm9yKDs7KXtpZihpIGluIHNlbGYpe3Jlc3VsdD1zZWxmW2krK107YnJlYWt9aWYoKytpPj1sZW5ndGgpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwicmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVxcXCIpfWZvcig7bGVuZ3RoPmk7aSsrKWkgaW4gc2VsZiYmKHJlc3VsdD1mdW4uY2FsbCh2b2lkIDAscmVzdWx0LHNlbGZbaV0saSxvYmplY3QpKTtyZXR1cm4gcmVzdWx0fSksQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0fHwoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0PWZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOm9iamVjdCxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wO2lmKFxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuK1xcXCIgaXMgbm90IGEgZnVuY3Rpb25cXFwiKTtpZighbGVuZ3RoJiYxPT1hcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcInJlZHVjZVJpZ2h0IG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVxcXCIpO3ZhciByZXN1bHQsaT1sZW5ndGgtMTtpZihhcmd1bWVudHMubGVuZ3RoPj0yKXJlc3VsdD1hcmd1bWVudHNbMV07ZWxzZSBmb3IoOzspe2lmKGkgaW4gc2VsZil7cmVzdWx0PXNlbGZbaS0tXTticmVha31pZigwPi0taSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJyZWR1Y2VSaWdodCBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWVcXFwiKX1kbyBpIGluIHRoaXMmJihyZXN1bHQ9ZnVuLmNhbGwodm9pZCAwLHJlc3VsdCxzZWxmW2ldLGksb2JqZWN0KSk7d2hpbGUoaS0tKTtyZXR1cm4gcmVzdWx0fSksQXJyYXkucHJvdG90eXBlLmluZGV4T2YmJi0xPT1bMCwxXS5pbmRleE9mKDEsMil8fChBcnJheS5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbihzb3VnaHQpe3ZhciBzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOnRvT2JqZWN0KHRoaXMpLGxlbmd0aD1zZWxmLmxlbmd0aD4+PjA7aWYoIWxlbmd0aClyZXR1cm4tMTt2YXIgaT0wO2Zvcihhcmd1bWVudHMubGVuZ3RoPjEmJihpPXRvSW50ZWdlcihhcmd1bWVudHNbMV0pKSxpPWk+PTA/aTpNYXRoLm1heCgwLGxlbmd0aCtpKTtsZW5ndGg+aTtpKyspaWYoaSBpbiBzZWxmJiZzZWxmW2ldPT09c291Z2h0KXJldHVybiBpO3JldHVybi0xfSksQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mJiYtMT09WzAsMV0ubGFzdEluZGV4T2YoMCwtMyl8fChBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2Y9ZnVuY3Rpb24oc291Z2h0KXt2YXIgc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTp0b09iamVjdCh0aGlzKSxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wO2lmKCFsZW5ndGgpcmV0dXJuLTE7dmFyIGk9bGVuZ3RoLTE7Zm9yKGFyZ3VtZW50cy5sZW5ndGg+MSYmKGk9TWF0aC5taW4oaSx0b0ludGVnZXIoYXJndW1lbnRzWzFdKSkpLGk9aT49MD9pOmxlbmd0aC1NYXRoLmFicyhpKTtpPj0wO2ktLSlpZihpIGluIHNlbGYmJnNvdWdodD09PXNlbGZbaV0pcmV0dXJuIGk7cmV0dXJuLTF9KSxPYmplY3QuZ2V0UHJvdG90eXBlT2Z8fChPYmplY3QuZ2V0UHJvdG90eXBlT2Y9ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gb2JqZWN0Ll9fcHJvdG9fX3x8KG9iamVjdC5jb25zdHJ1Y3Rvcj9vYmplY3QuY29uc3RydWN0b3IucHJvdG90eXBlOnByb3RvdHlwZU9mT2JqZWN0KX0pLCFPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKXt2YXIgRVJSX05PTl9PQkpFQ1Q9XFxcIk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgY2FsbGVkIG9uIGEgbm9uLW9iamVjdDogXFxcIjtPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yPWZ1bmN0aW9uKG9iamVjdCxwcm9wZXJ0eSl7aWYoXFxcIm9iamVjdFxcXCIhPXR5cGVvZiBvYmplY3QmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBvYmplY3R8fG51bGw9PT1vYmplY3QpdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfTk9OX09CSkVDVCtvYmplY3QpO2lmKG93bnMob2JqZWN0LHByb3BlcnR5KSl7dmFyIGRlc2NyaXB0b3IsZ2V0dGVyLHNldHRlcjtpZihkZXNjcmlwdG9yPXtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0sc3VwcG9ydHNBY2Nlc3NvcnMpe3ZhciBwcm90b3R5cGU9b2JqZWN0Ll9fcHJvdG9fXztvYmplY3QuX19wcm90b19fPXByb3RvdHlwZU9mT2JqZWN0O3ZhciBnZXR0ZXI9bG9va3VwR2V0dGVyKG9iamVjdCxwcm9wZXJ0eSksc2V0dGVyPWxvb2t1cFNldHRlcihvYmplY3QscHJvcGVydHkpO2lmKG9iamVjdC5fX3Byb3RvX189cHJvdG90eXBlLGdldHRlcnx8c2V0dGVyKXJldHVybiBnZXR0ZXImJihkZXNjcmlwdG9yLmdldD1nZXR0ZXIpLHNldHRlciYmKGRlc2NyaXB0b3Iuc2V0PXNldHRlciksZGVzY3JpcHRvcn1yZXR1cm4gZGVzY3JpcHRvci52YWx1ZT1vYmplY3RbcHJvcGVydHldLGRlc2NyaXB0b3J9fX1pZihPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8KE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzPWZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdCl9KSwhT2JqZWN0LmNyZWF0ZSl7dmFyIGNyZWF0ZUVtcHR5O2NyZWF0ZUVtcHR5PW51bGw9PT1PYmplY3QucHJvdG90eXBlLl9fcHJvdG9fXz9mdW5jdGlvbigpe3JldHVybntfX3Byb3RvX186bnVsbH19OmZ1bmN0aW9uKCl7dmFyIGVtcHR5PXt9O2Zvcih2YXIgaSBpbiBlbXB0eSllbXB0eVtpXT1udWxsO3JldHVybiBlbXB0eS5jb25zdHJ1Y3Rvcj1lbXB0eS5oYXNPd25Qcm9wZXJ0eT1lbXB0eS5wcm9wZXJ0eUlzRW51bWVyYWJsZT1lbXB0eS5pc1Byb3RvdHlwZU9mPWVtcHR5LnRvTG9jYWxlU3RyaW5nPWVtcHR5LnRvU3RyaW5nPWVtcHR5LnZhbHVlT2Y9ZW1wdHkuX19wcm90b19fPW51bGwsZW1wdHl9LE9iamVjdC5jcmVhdGU9ZnVuY3Rpb24ocHJvdG90eXBlLHByb3BlcnRpZXMpe3ZhciBvYmplY3Q7aWYobnVsbD09PXByb3RvdHlwZSlvYmplY3Q9Y3JlYXRlRW1wdHkoKTtlbHNle2lmKFxcXCJvYmplY3RcXFwiIT10eXBlb2YgcHJvdG90eXBlKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcInR5cGVvZiBwcm90b3R5cGVbXFxcIit0eXBlb2YgcHJvdG90eXBlK1xcXCJdICE9ICdvYmplY3QnXFxcIik7dmFyIFR5cGU9ZnVuY3Rpb24oKXt9O1R5cGUucHJvdG90eXBlPXByb3RvdHlwZSxvYmplY3Q9bmV3IFR5cGUsb2JqZWN0Ll9fcHJvdG9fXz1wcm90b3R5cGV9cmV0dXJuIHZvaWQgMCE9PXByb3BlcnRpZXMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iamVjdCxwcm9wZXJ0aWVzKSxvYmplY3R9fWlmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSl7dmFyIGRlZmluZVByb3BlcnR5V29ya3NPbk9iamVjdD1kb2VzRGVmaW5lUHJvcGVydHlXb3JrKHt9KSxkZWZpbmVQcm9wZXJ0eVdvcmtzT25Eb209XFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBkb2N1bWVudHx8ZG9lc0RlZmluZVByb3BlcnR5V29yayhkb2N1bWVudC5jcmVhdGVFbGVtZW50KFxcXCJkaXZcXFwiKSk7aWYoIWRlZmluZVByb3BlcnR5V29ya3NPbk9iamVjdHx8IWRlZmluZVByb3BlcnR5V29ya3NPbkRvbSl2YXIgZGVmaW5lUHJvcGVydHlGYWxsYmFjaz1PYmplY3QuZGVmaW5lUHJvcGVydHl9aWYoIU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8ZGVmaW5lUHJvcGVydHlGYWxsYmFjayl7dmFyIEVSUl9OT05fT0JKRUNUX0RFU0NSSVBUT1I9XFxcIlByb3BlcnR5IGRlc2NyaXB0aW9uIG11c3QgYmUgYW4gb2JqZWN0OiBcXFwiLEVSUl9OT05fT0JKRUNUX1RBUkdFVD1cXFwiT2JqZWN0LmRlZmluZVByb3BlcnR5IGNhbGxlZCBvbiBub24tb2JqZWN0OiBcXFwiLEVSUl9BQ0NFU1NPUlNfTk9UX1NVUFBPUlRFRD1cXFwiZ2V0dGVycyAmIHNldHRlcnMgY2FuIG5vdCBiZSBkZWZpbmVkIG9uIHRoaXMgamF2YXNjcmlwdCBlbmdpbmVcXFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eT1mdW5jdGlvbihvYmplY3QscHJvcGVydHksZGVzY3JpcHRvcil7aWYoXFxcIm9iamVjdFxcXCIhPXR5cGVvZiBvYmplY3QmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBvYmplY3R8fG51bGw9PT1vYmplY3QpdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfTk9OX09CSkVDVF9UQVJHRVQrb2JqZWN0KTtpZihcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGRlc2NyaXB0b3ImJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBkZXNjcmlwdG9yfHxudWxsPT09ZGVzY3JpcHRvcil0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9OT05fT0JKRUNUX0RFU0NSSVBUT1IrZGVzY3JpcHRvcik7aWYoZGVmaW5lUHJvcGVydHlGYWxsYmFjayl0cnl7cmV0dXJuIGRlZmluZVByb3BlcnR5RmFsbGJhY2suY2FsbChPYmplY3Qsb2JqZWN0LHByb3BlcnR5LGRlc2NyaXB0b3IpfWNhdGNoKGV4Y2VwdGlvbil7fWlmKG93bnMoZGVzY3JpcHRvcixcXFwidmFsdWVcXFwiKSlpZihzdXBwb3J0c0FjY2Vzc29ycyYmKGxvb2t1cEdldHRlcihvYmplY3QscHJvcGVydHkpfHxsb29rdXBTZXR0ZXIob2JqZWN0LHByb3BlcnR5KSkpe3ZhciBwcm90b3R5cGU9b2JqZWN0Ll9fcHJvdG9fXztvYmplY3QuX19wcm90b19fPXByb3RvdHlwZU9mT2JqZWN0LGRlbGV0ZSBvYmplY3RbcHJvcGVydHldLG9iamVjdFtwcm9wZXJ0eV09ZGVzY3JpcHRvci52YWx1ZSxvYmplY3QuX19wcm90b19fPXByb3RvdHlwZX1lbHNlIG9iamVjdFtwcm9wZXJ0eV09ZGVzY3JpcHRvci52YWx1ZTtlbHNle2lmKCFzdXBwb3J0c0FjY2Vzc29ycyl0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9BQ0NFU1NPUlNfTk9UX1NVUFBPUlRFRCk7b3ducyhkZXNjcmlwdG9yLFxcXCJnZXRcXFwiKSYmZGVmaW5lR2V0dGVyKG9iamVjdCxwcm9wZXJ0eSxkZXNjcmlwdG9yLmdldCksb3ducyhkZXNjcmlwdG9yLFxcXCJzZXRcXFwiKSYmZGVmaW5lU2V0dGVyKG9iamVjdCxwcm9wZXJ0eSxkZXNjcmlwdG9yLnNldCl9cmV0dXJuIG9iamVjdH19T2JqZWN0LmRlZmluZVByb3BlcnRpZXN8fChPYmplY3QuZGVmaW5lUHJvcGVydGllcz1mdW5jdGlvbihvYmplY3QscHJvcGVydGllcyl7Zm9yKHZhciBwcm9wZXJ0eSBpbiBwcm9wZXJ0aWVzKW93bnMocHJvcGVydGllcyxwcm9wZXJ0eSkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QscHJvcGVydHkscHJvcGVydGllc1twcm9wZXJ0eV0pO3JldHVybiBvYmplY3R9KSxPYmplY3Quc2VhbHx8KE9iamVjdC5zZWFsPWZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIG9iamVjdH0pLE9iamVjdC5mcmVlemV8fChPYmplY3QuZnJlZXplPWZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIG9iamVjdH0pO3RyeXtPYmplY3QuZnJlZXplKGZ1bmN0aW9uKCl7fSl9Y2F0Y2goZXhjZXB0aW9uKXtPYmplY3QuZnJlZXplPWZ1bmN0aW9uKGZyZWV6ZU9iamVjdCl7cmV0dXJuIGZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIG9iamVjdD9vYmplY3Q6ZnJlZXplT2JqZWN0KG9iamVjdCl9fShPYmplY3QuZnJlZXplKX1pZihPYmplY3QucHJldmVudEV4dGVuc2lvbnN8fChPYmplY3QucHJldmVudEV4dGVuc2lvbnM9ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gb2JqZWN0fSksT2JqZWN0LmlzU2VhbGVkfHwoT2JqZWN0LmlzU2VhbGVkPWZ1bmN0aW9uKCl7cmV0dXJuITF9KSxPYmplY3QuaXNGcm96ZW58fChPYmplY3QuaXNGcm96ZW49ZnVuY3Rpb24oKXtyZXR1cm4hMX0pLE9iamVjdC5pc0V4dGVuc2libGV8fChPYmplY3QuaXNFeHRlbnNpYmxlPWZ1bmN0aW9uKG9iamVjdCl7aWYoT2JqZWN0KG9iamVjdCk9PT1vYmplY3QpdGhyb3cgbmV3IFR5cGVFcnJvcjtmb3IodmFyIG5hbWU9XFxcIlxcXCI7b3ducyhvYmplY3QsbmFtZSk7KW5hbWUrPVxcXCI/XFxcIjtvYmplY3RbbmFtZV09ITA7dmFyIHJldHVyblZhbHVlPW93bnMob2JqZWN0LG5hbWUpO3JldHVybiBkZWxldGUgb2JqZWN0W25hbWVdLHJldHVyblZhbHVlfSksIU9iamVjdC5rZXlzKXt2YXIgaGFzRG9udEVudW1CdWc9ITAsZG9udEVudW1zPVtcXFwidG9TdHJpbmdcXFwiLFxcXCJ0b0xvY2FsZVN0cmluZ1xcXCIsXFxcInZhbHVlT2ZcXFwiLFxcXCJoYXNPd25Qcm9wZXJ0eVxcXCIsXFxcImlzUHJvdG90eXBlT2ZcXFwiLFxcXCJwcm9wZXJ0eUlzRW51bWVyYWJsZVxcXCIsXFxcImNvbnN0cnVjdG9yXFxcIl0sZG9udEVudW1zTGVuZ3RoPWRvbnRFbnVtcy5sZW5ndGg7Zm9yKHZhciBrZXkgaW57dG9TdHJpbmc6bnVsbH0paGFzRG9udEVudW1CdWc9ITE7T2JqZWN0LmtleXM9ZnVuY3Rpb24ob2JqZWN0KXtpZihcXFwib2JqZWN0XFxcIiE9dHlwZW9mIG9iamVjdCYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIG9iamVjdHx8bnVsbD09PW9iamVjdCl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJPYmplY3Qua2V5cyBjYWxsZWQgb24gYSBub24tb2JqZWN0XFxcIik7dmFyIGtleXM9W107Zm9yKHZhciBuYW1lIGluIG9iamVjdClvd25zKG9iamVjdCxuYW1lKSYma2V5cy5wdXNoKG5hbWUpO2lmKGhhc0RvbnRFbnVtQnVnKWZvcih2YXIgaT0wLGlpPWRvbnRFbnVtc0xlbmd0aDtpaT5pO2krKyl7dmFyIGRvbnRFbnVtPWRvbnRFbnVtc1tpXTtvd25zKG9iamVjdCxkb250RW51bSkmJmtleXMucHVzaChkb250RW51bSl9cmV0dXJuIGtleXN9fURhdGUubm93fHwoRGF0ZS5ub3c9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0pO3ZhciB3cz1cXFwiXFx0XFxcXG5cXHUwMDBiXFxcXGZcXFxcciDCoOGagOGgjuKAgOKAgeKAguKAg+KAhOKAheKAhuKAh+KAiOKAieKAiuKAr+KBn+OAgFxcXFx1MjAyOFxcXFx1MjAyOe+7v1xcXCI7aWYoIVN0cmluZy5wcm90b3R5cGUudHJpbXx8d3MudHJpbSgpKXt3cz1cXFwiW1xcXCIrd3MrXFxcIl1cXFwiO3ZhciB0cmltQmVnaW5SZWdleHA9UmVnRXhwKFxcXCJeXFxcIit3cyt3cytcXFwiKlxcXCIpLHRyaW1FbmRSZWdleHA9UmVnRXhwKHdzK3dzK1xcXCIqJFxcXCIpO1N0cmluZy5wcm90b3R5cGUudHJpbT1mdW5jdGlvbigpe3JldHVybih0aGlzK1xcXCJcXFwiKS5yZXBsYWNlKHRyaW1CZWdpblJlZ2V4cCxcXFwiXFxcIikucmVwbGFjZSh0cmltRW5kUmVnZXhwLFxcXCJcXFwiKX19dmFyIHRvT2JqZWN0PWZ1bmN0aW9uKG8pe2lmKG51bGw9PW8pdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiY2FuJ3QgY29udmVydCBcXFwiK28rXFxcIiB0byBvYmplY3RcXFwiKTtyZXR1cm4gT2JqZWN0KG8pfX0pLGFjZS5kZWZpbmUoXFxcImFjZS9tb2RlL2x1YV93b3JrZXJcXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiLFxcXCJhY2UvbGliL29vcFxcXCIsXFxcImFjZS93b3JrZXIvbWlycm9yXFxcIixcXFwiYWNlL21vZGUvbHVhL2x1YXBhcnNlXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7dmFyIG9vcD1hY2VxdWlyZShcXFwiLi4vbGliL29vcFxcXCIpLE1pcnJvcj1hY2VxdWlyZShcXFwiLi4vd29ya2VyL21pcnJvclxcXCIpLk1pcnJvcixsdWFwYXJzZT1hY2VxdWlyZShcXFwiLi4vbW9kZS9sdWEvbHVhcGFyc2VcXFwiKSxXb3JrZXI9ZXhwb3J0cy5Xb3JrZXI9ZnVuY3Rpb24oc2VuZGVyKXtNaXJyb3IuY2FsbCh0aGlzLHNlbmRlciksdGhpcy5zZXRUaW1lb3V0KDUwMCl9O29vcC5pbmhlcml0cyhXb3JrZXIsTWlycm9yKSxmdW5jdGlvbigpe3RoaXMub25VcGRhdGU9ZnVuY3Rpb24oKXt2YXIgdmFsdWU9dGhpcy5kb2MuZ2V0VmFsdWUoKTt0cnl7bHVhcGFyc2UucGFyc2UodmFsdWUpfWNhdGNoKGUpe3JldHVybiBlIGluc3RhbmNlb2YgU3ludGF4RXJyb3ImJnRoaXMuc2VuZGVyLmVtaXQoXFxcImVycm9yXFxcIix7cm93OmUubGluZS0xLGNvbHVtbjplLmNvbHVtbix0ZXh0OmUubWVzc2FnZSx0eXBlOlxcXCJlcnJvclxcXCJ9KSx2b2lkIDB9dGhpcy5zZW5kZXIuZW1pdChcXFwib2tcXFwiKX19LmNhbGwoV29ya2VyLnByb3RvdHlwZSl9KSxhY2UuZGVmaW5lKFxcXCJhY2Uvd29ya2VyL21pcnJvclxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCIsXFxcImFjZS9kb2N1bWVudFxcXCIsXFxcImFjZS9saWIvbGFuZ1xcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe3ZhciBEb2N1bWVudD1hY2VxdWlyZShcXFwiLi4vZG9jdW1lbnRcXFwiKS5Eb2N1bWVudCxsYW5nPWFjZXF1aXJlKFxcXCIuLi9saWIvbGFuZ1xcXCIpLE1pcnJvcj1leHBvcnRzLk1pcnJvcj1mdW5jdGlvbihzZW5kZXIpe3RoaXMuc2VuZGVyPXNlbmRlcjt2YXIgZG9jPXRoaXMuZG9jPW5ldyBEb2N1bWVudChcXFwiXFxcIiksZGVmZXJyZWRVcGRhdGU9dGhpcy5kZWZlcnJlZFVwZGF0ZT1sYW5nLmRlbGF5ZWRDYWxsKHRoaXMub25VcGRhdGUuYmluZCh0aGlzKSksX3NlbGY9dGhpcztzZW5kZXIub24oXFxcImNoYW5nZVxcXCIsZnVuY3Rpb24oZSl7ZG9jLmFwcGx5RGVsdGFzKGUuZGF0YSksZGVmZXJyZWRVcGRhdGUuc2NoZWR1bGUoX3NlbGYuJHRpbWVvdXQpfSl9OyhmdW5jdGlvbigpe3RoaXMuJHRpbWVvdXQ9NTAwLHRoaXMuc2V0VGltZW91dD1mdW5jdGlvbih0aW1lb3V0KXt0aGlzLiR0aW1lb3V0PXRpbWVvdXR9LHRoaXMuc2V0VmFsdWU9ZnVuY3Rpb24odmFsdWUpe3RoaXMuZG9jLnNldFZhbHVlKHZhbHVlKSx0aGlzLmRlZmVycmVkVXBkYXRlLnNjaGVkdWxlKHRoaXMuJHRpbWVvdXQpfSx0aGlzLmdldFZhbHVlPWZ1bmN0aW9uKGNhbGxiYWNrSWQpe3RoaXMuc2VuZGVyLmNhbGxiYWNrKHRoaXMuZG9jLmdldFZhbHVlKCksY2FsbGJhY2tJZCl9LHRoaXMub25VcGRhdGU9ZnVuY3Rpb24oKXt9fSkuY2FsbChNaXJyb3IucHJvdG90eXBlKX0pLGFjZS5kZWZpbmUoXFxcImFjZS9kb2N1bWVudFxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCIsXFxcImFjZS9saWIvb29wXFxcIixcXFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXFxcIixcXFwiYWNlL3JhbmdlXFxcIixcXFwiYWNlL2FuY2hvclxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe3ZhciBvb3A9YWNlcXVpcmUoXFxcIi4vbGliL29vcFxcXCIpLEV2ZW50RW1pdHRlcj1hY2VxdWlyZShcXFwiLi9saWIvZXZlbnRfZW1pdHRlclxcXCIpLkV2ZW50RW1pdHRlcixSYW5nZT1hY2VxdWlyZShcXFwiLi9yYW5nZVxcXCIpLlJhbmdlLEFuY2hvcj1hY2VxdWlyZShcXFwiLi9hbmNob3JcXFwiKS5BbmNob3IsRG9jdW1lbnQ9ZnVuY3Rpb24odGV4dCl7dGhpcy4kbGluZXM9W10sMD09dGV4dC5sZW5ndGg/dGhpcy4kbGluZXM9W1xcXCJcXFwiXTpBcnJheS5pc0FycmF5KHRleHQpP3RoaXMuX2luc2VydExpbmVzKDAsdGV4dCk6dGhpcy5pbnNlcnQoe3JvdzowLGNvbHVtbjowfSx0ZXh0KX07KGZ1bmN0aW9uKCl7b29wLmltcGxlbWVudCh0aGlzLEV2ZW50RW1pdHRlciksdGhpcy5zZXRWYWx1ZT1mdW5jdGlvbih0ZXh0KXt2YXIgbGVuPXRoaXMuZ2V0TGVuZ3RoKCk7dGhpcy5yZW1vdmUobmV3IFJhbmdlKDAsMCxsZW4sdGhpcy5nZXRMaW5lKGxlbi0xKS5sZW5ndGgpKSx0aGlzLmluc2VydCh7cm93OjAsY29sdW1uOjB9LHRleHQpfSx0aGlzLmdldFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QWxsTGluZXMoKS5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKX0sdGhpcy5jcmVhdGVBbmNob3I9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIG5ldyBBbmNob3IodGhpcyxyb3csY29sdW1uKX0sdGhpcy4kc3BsaXQ9MD09XFxcImFhYVxcXCIuc3BsaXQoL2EvKS5sZW5ndGg/ZnVuY3Rpb24odGV4dCl7cmV0dXJuIHRleHQucmVwbGFjZSgvXFxcXHJcXFxcbnxcXFxcci9nLFxcXCJcXFxcblxcXCIpLnNwbGl0KFxcXCJcXFxcblxcXCIpfTpmdW5jdGlvbih0ZXh0KXtyZXR1cm4gdGV4dC5zcGxpdCgvXFxcXHJcXFxcbnxcXFxccnxcXFxcbi8pfSx0aGlzLiRkZXRlY3ROZXdMaW5lPWZ1bmN0aW9uKHRleHQpe3ZhciBtYXRjaD10ZXh0Lm1hdGNoKC9eLio/KFxcXFxyXFxcXG58XFxcXHJ8XFxcXG4pL20pO3RoaXMuJGF1dG9OZXdMaW5lPW1hdGNoP21hdGNoWzFdOlxcXCJcXFxcblxcXCJ9LHRoaXMuZ2V0TmV3TGluZUNoYXJhY3Rlcj1mdW5jdGlvbigpe3N3aXRjaCh0aGlzLiRuZXdMaW5lTW9kZSl7Y2FzZVxcXCJ3aW5kb3dzXFxcIjpyZXR1cm5cXFwiXFxcXHJcXFxcblxcXCI7Y2FzZVxcXCJ1bml4XFxcIjpyZXR1cm5cXFwiXFxcXG5cXFwiO2RlZmF1bHQ6cmV0dXJuIHRoaXMuJGF1dG9OZXdMaW5lfX0sdGhpcy4kYXV0b05ld0xpbmU9XFxcIlxcXFxuXFxcIix0aGlzLiRuZXdMaW5lTW9kZT1cXFwiYXV0b1xcXCIsdGhpcy5zZXROZXdMaW5lTW9kZT1mdW5jdGlvbihuZXdMaW5lTW9kZSl7dGhpcy4kbmV3TGluZU1vZGUhPT1uZXdMaW5lTW9kZSYmKHRoaXMuJG5ld0xpbmVNb2RlPW5ld0xpbmVNb2RlKX0sdGhpcy5nZXROZXdMaW5lTW9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRuZXdMaW5lTW9kZX0sdGhpcy5pc05ld0xpbmU9ZnVuY3Rpb24odGV4dCl7cmV0dXJuXFxcIlxcXFxyXFxcXG5cXFwiPT10ZXh0fHxcXFwiXFxcXHJcXFwiPT10ZXh0fHxcXFwiXFxcXG5cXFwiPT10ZXh0fSx0aGlzLmdldExpbmU9ZnVuY3Rpb24ocm93KXtyZXR1cm4gdGhpcy4kbGluZXNbcm93XXx8XFxcIlxcXCJ9LHRoaXMuZ2V0TGluZXM9ZnVuY3Rpb24oZmlyc3RSb3csbGFzdFJvdyl7cmV0dXJuIHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LGxhc3RSb3crMSl9LHRoaXMuZ2V0QWxsTGluZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRMaW5lcygwLHRoaXMuZ2V0TGVuZ3RoKCkpfSx0aGlzLmdldExlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRsaW5lcy5sZW5ndGh9LHRoaXMuZ2V0VGV4dFJhbmdlPWZ1bmN0aW9uKHJhbmdlKXtpZihyYW5nZS5zdGFydC5yb3c9PXJhbmdlLmVuZC5yb3cpcmV0dXJuIHRoaXMuJGxpbmVzW3JhbmdlLnN0YXJ0LnJvd10uc3Vic3RyaW5nKHJhbmdlLnN0YXJ0LmNvbHVtbixyYW5nZS5lbmQuY29sdW1uKTt2YXIgbGluZXM9dGhpcy5nZXRMaW5lcyhyYW5nZS5zdGFydC5yb3cscmFuZ2UuZW5kLnJvdyk7bGluZXNbMF09KGxpbmVzWzBdfHxcXFwiXFxcIikuc3Vic3RyaW5nKHJhbmdlLnN0YXJ0LmNvbHVtbik7dmFyIGw9bGluZXMubGVuZ3RoLTE7cmV0dXJuIHJhbmdlLmVuZC5yb3ctcmFuZ2Uuc3RhcnQucm93PT1sJiYobGluZXNbbF09bGluZXNbbF0uc3Vic3RyaW5nKDAscmFuZ2UuZW5kLmNvbHVtbikpLGxpbmVzLmpvaW4odGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkpfSx0aGlzLiRjbGlwUG9zaXRpb249ZnVuY3Rpb24ocG9zaXRpb24pe3ZhciBsZW5ndGg9dGhpcy5nZXRMZW5ndGgoKTtyZXR1cm4gcG9zaXRpb24ucm93Pj1sZW5ndGg/KHBvc2l0aW9uLnJvdz1NYXRoLm1heCgwLGxlbmd0aC0xKSxwb3NpdGlvbi5jb2x1bW49dGhpcy5nZXRMaW5lKGxlbmd0aC0xKS5sZW5ndGgpOjA+cG9zaXRpb24ucm93JiYocG9zaXRpb24ucm93PTApLHBvc2l0aW9ufSx0aGlzLmluc2VydD1mdW5jdGlvbihwb3NpdGlvbix0ZXh0KXtpZighdGV4dHx8MD09PXRleHQubGVuZ3RoKXJldHVybiBwb3NpdGlvbjtwb3NpdGlvbj10aGlzLiRjbGlwUG9zaXRpb24ocG9zaXRpb24pLDE+PXRoaXMuZ2V0TGVuZ3RoKCkmJnRoaXMuJGRldGVjdE5ld0xpbmUodGV4dCk7dmFyIGxpbmVzPXRoaXMuJHNwbGl0KHRleHQpLGZpcnN0TGluZT1saW5lcy5zcGxpY2UoMCwxKVswXSxsYXN0TGluZT0wPT1saW5lcy5sZW5ndGg/bnVsbDpsaW5lcy5zcGxpY2UobGluZXMubGVuZ3RoLTEsMSlbMF07cmV0dXJuIHBvc2l0aW9uPXRoaXMuaW5zZXJ0SW5MaW5lKHBvc2l0aW9uLGZpcnN0TGluZSksbnVsbCE9PWxhc3RMaW5lJiYocG9zaXRpb249dGhpcy5pbnNlcnROZXdMaW5lKHBvc2l0aW9uKSxwb3NpdGlvbj10aGlzLl9pbnNlcnRMaW5lcyhwb3NpdGlvbi5yb3csbGluZXMpLHBvc2l0aW9uPXRoaXMuaW5zZXJ0SW5MaW5lKHBvc2l0aW9uLGxhc3RMaW5lfHxcXFwiXFxcIikpLHBvc2l0aW9ufSx0aGlzLmluc2VydExpbmVzPWZ1bmN0aW9uKHJvdyxsaW5lcyl7cmV0dXJuIHJvdz49dGhpcy5nZXRMZW5ndGgoKT90aGlzLmluc2VydCh7cm93OnJvdyxjb2x1bW46MH0sXFxcIlxcXFxuXFxcIitsaW5lcy5qb2luKFxcXCJcXFxcblxcXCIpKTp0aGlzLl9pbnNlcnRMaW5lcyhNYXRoLm1heChyb3csMCksbGluZXMpfSx0aGlzLl9pbnNlcnRMaW5lcz1mdW5jdGlvbihyb3csbGluZXMpe2lmKDA9PWxpbmVzLmxlbmd0aClyZXR1cm57cm93OnJvdyxjb2x1bW46MH07aWYobGluZXMubGVuZ3RoPjY1NTM1KXt2YXIgZW5kPXRoaXMuX2luc2VydExpbmVzKHJvdyxsaW5lcy5zbGljZSg2NTUzNSkpO2xpbmVzPWxpbmVzLnNsaWNlKDAsNjU1MzUpfXZhciBhcmdzPVtyb3csMF07YXJncy5wdXNoLmFwcGx5KGFyZ3MsbGluZXMpLHRoaXMuJGxpbmVzLnNwbGljZS5hcHBseSh0aGlzLiRsaW5lcyxhcmdzKTt2YXIgcmFuZ2U9bmV3IFJhbmdlKHJvdywwLHJvdytsaW5lcy5sZW5ndGgsMCksZGVsdGE9e2FjdGlvbjpcXFwiaW5zZXJ0TGluZXNcXFwiLHJhbmdlOnJhbmdlLGxpbmVzOmxpbmVzfTtyZXR1cm4gdGhpcy5fZW1pdChcXFwiY2hhbmdlXFxcIix7ZGF0YTpkZWx0YX0pLGVuZHx8cmFuZ2UuZW5kfSx0aGlzLmluc2VydE5ld0xpbmU9ZnVuY3Rpb24ocG9zaXRpb24pe3Bvc2l0aW9uPXRoaXMuJGNsaXBQb3NpdGlvbihwb3NpdGlvbik7dmFyIGxpbmU9dGhpcy4kbGluZXNbcG9zaXRpb24ucm93XXx8XFxcIlxcXCI7dGhpcy4kbGluZXNbcG9zaXRpb24ucm93XT1saW5lLnN1YnN0cmluZygwLHBvc2l0aW9uLmNvbHVtbiksdGhpcy4kbGluZXMuc3BsaWNlKHBvc2l0aW9uLnJvdysxLDAsbGluZS5zdWJzdHJpbmcocG9zaXRpb24uY29sdW1uLGxpbmUubGVuZ3RoKSk7dmFyIGVuZD17cm93OnBvc2l0aW9uLnJvdysxLGNvbHVtbjowfSxkZWx0YT17YWN0aW9uOlxcXCJpbnNlcnRUZXh0XFxcIixyYW5nZTpSYW5nZS5mcm9tUG9pbnRzKHBvc2l0aW9uLGVuZCksdGV4dDp0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKX07cmV0dXJuIHRoaXMuX2VtaXQoXFxcImNoYW5nZVxcXCIse2RhdGE6ZGVsdGF9KSxlbmR9LHRoaXMuaW5zZXJ0SW5MaW5lPWZ1bmN0aW9uKHBvc2l0aW9uLHRleHQpe2lmKDA9PXRleHQubGVuZ3RoKXJldHVybiBwb3NpdGlvbjt2YXIgbGluZT10aGlzLiRsaW5lc1twb3NpdGlvbi5yb3ddfHxcXFwiXFxcIjt0aGlzLiRsaW5lc1twb3NpdGlvbi5yb3ddPWxpbmUuc3Vic3RyaW5nKDAscG9zaXRpb24uY29sdW1uKSt0ZXh0K2xpbmUuc3Vic3RyaW5nKHBvc2l0aW9uLmNvbHVtbik7dmFyIGVuZD17cm93OnBvc2l0aW9uLnJvdyxjb2x1bW46cG9zaXRpb24uY29sdW1uK3RleHQubGVuZ3RofSxkZWx0YT17YWN0aW9uOlxcXCJpbnNlcnRUZXh0XFxcIixyYW5nZTpSYW5nZS5mcm9tUG9pbnRzKHBvc2l0aW9uLGVuZCksdGV4dDp0ZXh0fTtyZXR1cm4gdGhpcy5fZW1pdChcXFwiY2hhbmdlXFxcIix7ZGF0YTpkZWx0YX0pLGVuZH0sdGhpcy5yZW1vdmU9ZnVuY3Rpb24ocmFuZ2Upe2lmKHJhbmdlLnN0YXJ0PXRoaXMuJGNsaXBQb3NpdGlvbihyYW5nZS5zdGFydCkscmFuZ2UuZW5kPXRoaXMuJGNsaXBQb3NpdGlvbihyYW5nZS5lbmQpLHJhbmdlLmlzRW1wdHkoKSlyZXR1cm4gcmFuZ2Uuc3RhcnQ7dmFyIGZpcnN0Um93PXJhbmdlLnN0YXJ0LnJvdyxsYXN0Um93PXJhbmdlLmVuZC5yb3c7aWYocmFuZ2UuaXNNdWx0aUxpbmUoKSl7dmFyIGZpcnN0RnVsbFJvdz0wPT1yYW5nZS5zdGFydC5jb2x1bW4/Zmlyc3RSb3c6Zmlyc3RSb3crMSxsYXN0RnVsbFJvdz1sYXN0Um93LTE7cmFuZ2UuZW5kLmNvbHVtbj4wJiZ0aGlzLnJlbW92ZUluTGluZShsYXN0Um93LDAscmFuZ2UuZW5kLmNvbHVtbiksbGFzdEZ1bGxSb3c+PWZpcnN0RnVsbFJvdyYmdGhpcy5fcmVtb3ZlTGluZXMoZmlyc3RGdWxsUm93LGxhc3RGdWxsUm93KSxmaXJzdEZ1bGxSb3chPWZpcnN0Um93JiYodGhpcy5yZW1vdmVJbkxpbmUoZmlyc3RSb3cscmFuZ2Uuc3RhcnQuY29sdW1uLHRoaXMuZ2V0TGluZShmaXJzdFJvdykubGVuZ3RoKSx0aGlzLnJlbW92ZU5ld0xpbmUocmFuZ2Uuc3RhcnQucm93KSl9ZWxzZSB0aGlzLnJlbW92ZUluTGluZShmaXJzdFJvdyxyYW5nZS5zdGFydC5jb2x1bW4scmFuZ2UuZW5kLmNvbHVtbik7cmV0dXJuIHJhbmdlLnN0YXJ0fSx0aGlzLnJlbW92ZUluTGluZT1mdW5jdGlvbihyb3csc3RhcnRDb2x1bW4sZW5kQ29sdW1uKXtpZihzdGFydENvbHVtbiE9ZW5kQ29sdW1uKXt2YXIgcmFuZ2U9bmV3IFJhbmdlKHJvdyxzdGFydENvbHVtbixyb3csZW5kQ29sdW1uKSxsaW5lPXRoaXMuZ2V0TGluZShyb3cpLHJlbW92ZWQ9bGluZS5zdWJzdHJpbmcoc3RhcnRDb2x1bW4sZW5kQ29sdW1uKSxuZXdMaW5lPWxpbmUuc3Vic3RyaW5nKDAsc3RhcnRDb2x1bW4pK2xpbmUuc3Vic3RyaW5nKGVuZENvbHVtbixsaW5lLmxlbmd0aCk7dGhpcy4kbGluZXMuc3BsaWNlKHJvdywxLG5ld0xpbmUpO3ZhciBkZWx0YT17YWN0aW9uOlxcXCJyZW1vdmVUZXh0XFxcIixyYW5nZTpyYW5nZSx0ZXh0OnJlbW92ZWR9O3JldHVybiB0aGlzLl9lbWl0KFxcXCJjaGFuZ2VcXFwiLHtkYXRhOmRlbHRhfSkscmFuZ2Uuc3RhcnR9fSx0aGlzLnJlbW92ZUxpbmVzPWZ1bmN0aW9uKGZpcnN0Um93LGxhc3RSb3cpe3JldHVybiAwPmZpcnN0Um93fHxsYXN0Um93Pj10aGlzLmdldExlbmd0aCgpP3RoaXMucmVtb3ZlKG5ldyBSYW5nZShmaXJzdFJvdywwLGxhc3RSb3crMSwwKSk6dGhpcy5fcmVtb3ZlTGluZXMoZmlyc3RSb3csbGFzdFJvdyl9LHRoaXMuX3JlbW92ZUxpbmVzPWZ1bmN0aW9uKGZpcnN0Um93LGxhc3RSb3cpe3ZhciByYW5nZT1uZXcgUmFuZ2UoZmlyc3RSb3csMCxsYXN0Um93KzEsMCkscmVtb3ZlZD10aGlzLiRsaW5lcy5zcGxpY2UoZmlyc3RSb3csbGFzdFJvdy1maXJzdFJvdysxKSxkZWx0YT17YWN0aW9uOlxcXCJyZW1vdmVMaW5lc1xcXCIscmFuZ2U6cmFuZ2Usbmw6dGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCksbGluZXM6cmVtb3ZlZH07cmV0dXJuIHRoaXMuX2VtaXQoXFxcImNoYW5nZVxcXCIse2RhdGE6ZGVsdGF9KSxyZW1vdmVkfSx0aGlzLnJlbW92ZU5ld0xpbmU9ZnVuY3Rpb24ocm93KXt2YXIgZmlyc3RMaW5lPXRoaXMuZ2V0TGluZShyb3cpLHNlY29uZExpbmU9dGhpcy5nZXRMaW5lKHJvdysxKSxyYW5nZT1uZXcgUmFuZ2Uocm93LGZpcnN0TGluZS5sZW5ndGgscm93KzEsMCksbGluZT1maXJzdExpbmUrc2Vjb25kTGluZTt0aGlzLiRsaW5lcy5zcGxpY2Uocm93LDIsbGluZSk7dmFyIGRlbHRhPXthY3Rpb246XFxcInJlbW92ZVRleHRcXFwiLHJhbmdlOnJhbmdlLHRleHQ6dGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCl9O3RoaXMuX2VtaXQoXFxcImNoYW5nZVxcXCIse2RhdGE6ZGVsdGF9KX0sdGhpcy5yZXBsYWNlPWZ1bmN0aW9uKHJhbmdlLHRleHQpe2lmKDA9PXRleHQubGVuZ3RoJiZyYW5nZS5pc0VtcHR5KCkpcmV0dXJuIHJhbmdlLnN0YXJ0O2lmKHRleHQ9PXRoaXMuZ2V0VGV4dFJhbmdlKHJhbmdlKSlyZXR1cm4gcmFuZ2UuZW5kO2lmKHRoaXMucmVtb3ZlKHJhbmdlKSx0ZXh0KXZhciBlbmQ9dGhpcy5pbnNlcnQocmFuZ2Uuc3RhcnQsdGV4dCk7ZWxzZSBlbmQ9cmFuZ2Uuc3RhcnQ7cmV0dXJuIGVuZH0sdGhpcy5hcHBseURlbHRhcz1mdW5jdGlvbihkZWx0YXMpe2Zvcih2YXIgaT0wO2RlbHRhcy5sZW5ndGg+aTtpKyspe3ZhciBkZWx0YT1kZWx0YXNbaV0scmFuZ2U9UmFuZ2UuZnJvbVBvaW50cyhkZWx0YS5yYW5nZS5zdGFydCxkZWx0YS5yYW5nZS5lbmQpO1xcXCJpbnNlcnRMaW5lc1xcXCI9PWRlbHRhLmFjdGlvbj90aGlzLmluc2VydExpbmVzKHJhbmdlLnN0YXJ0LnJvdyxkZWx0YS5saW5lcyk6XFxcImluc2VydFRleHRcXFwiPT1kZWx0YS5hY3Rpb24/dGhpcy5pbnNlcnQocmFuZ2Uuc3RhcnQsZGVsdGEudGV4dCk6XFxcInJlbW92ZUxpbmVzXFxcIj09ZGVsdGEuYWN0aW9uP3RoaXMuX3JlbW92ZUxpbmVzKHJhbmdlLnN0YXJ0LnJvdyxyYW5nZS5lbmQucm93LTEpOlxcXCJyZW1vdmVUZXh0XFxcIj09ZGVsdGEuYWN0aW9uJiZ0aGlzLnJlbW92ZShyYW5nZSl9fSx0aGlzLnJldmVydERlbHRhcz1mdW5jdGlvbihkZWx0YXMpe2Zvcih2YXIgaT1kZWx0YXMubGVuZ3RoLTE7aT49MDtpLS0pe3ZhciBkZWx0YT1kZWx0YXNbaV0scmFuZ2U9UmFuZ2UuZnJvbVBvaW50cyhkZWx0YS5yYW5nZS5zdGFydCxkZWx0YS5yYW5nZS5lbmQpO1xcXCJpbnNlcnRMaW5lc1xcXCI9PWRlbHRhLmFjdGlvbj90aGlzLl9yZW1vdmVMaW5lcyhyYW5nZS5zdGFydC5yb3cscmFuZ2UuZW5kLnJvdy0xKTpcXFwiaW5zZXJ0VGV4dFxcXCI9PWRlbHRhLmFjdGlvbj90aGlzLnJlbW92ZShyYW5nZSk6XFxcInJlbW92ZUxpbmVzXFxcIj09ZGVsdGEuYWN0aW9uP3RoaXMuX2luc2VydExpbmVzKHJhbmdlLnN0YXJ0LnJvdyxkZWx0YS5saW5lcyk6XFxcInJlbW92ZVRleHRcXFwiPT1kZWx0YS5hY3Rpb24mJnRoaXMuaW5zZXJ0KHJhbmdlLnN0YXJ0LGRlbHRhLnRleHQpfX0sdGhpcy5pbmRleFRvUG9zaXRpb249ZnVuY3Rpb24oaW5kZXgsc3RhcnRSb3cpe2Zvcih2YXIgbGluZXM9dGhpcy4kbGluZXN8fHRoaXMuZ2V0QWxsTGluZXMoKSxuZXdsaW5lTGVuZ3RoPXRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aCxpPXN0YXJ0Um93fHwwLGw9bGluZXMubGVuZ3RoO2w+aTtpKyspaWYoaW5kZXgtPWxpbmVzW2ldLmxlbmd0aCtuZXdsaW5lTGVuZ3RoLDA+aW5kZXgpcmV0dXJue3JvdzppLGNvbHVtbjppbmRleCtsaW5lc1tpXS5sZW5ndGgrbmV3bGluZUxlbmd0aH07cmV0dXJue3JvdzpsLTEsY29sdW1uOmxpbmVzW2wtMV0ubGVuZ3RofX0sdGhpcy5wb3NpdGlvblRvSW5kZXg9ZnVuY3Rpb24ocG9zLHN0YXJ0Um93KXtmb3IodmFyIGxpbmVzPXRoaXMuJGxpbmVzfHx0aGlzLmdldEFsbExpbmVzKCksbmV3bGluZUxlbmd0aD10aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKS5sZW5ndGgsaW5kZXg9MCxyb3c9TWF0aC5taW4ocG9zLnJvdyxsaW5lcy5sZW5ndGgpLGk9c3RhcnRSb3d8fDA7cm93Pmk7KytpKWluZGV4Kz1saW5lc1tpXS5sZW5ndGgrbmV3bGluZUxlbmd0aDtyZXR1cm4gaW5kZXgrcG9zLmNvbHVtbn19KS5jYWxsKERvY3VtZW50LnByb3RvdHlwZSksZXhwb3J0cy5Eb2N1bWVudD1Eb2N1bWVudH0pLGFjZS5kZWZpbmUoXFxcImFjZS9yYW5nZVxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe3ZhciBjb21wYXJlUG9pbnRzPWZ1bmN0aW9uKHAxLHAyKXtyZXR1cm4gcDEucm93LXAyLnJvd3x8cDEuY29sdW1uLXAyLmNvbHVtbn0sUmFuZ2U9ZnVuY3Rpb24oc3RhcnRSb3csc3RhcnRDb2x1bW4sZW5kUm93LGVuZENvbHVtbil7dGhpcy5zdGFydD17cm93OnN0YXJ0Um93LGNvbHVtbjpzdGFydENvbHVtbn0sdGhpcy5lbmQ9e3JvdzplbmRSb3csY29sdW1uOmVuZENvbHVtbn19OyhmdW5jdGlvbigpe3RoaXMuaXNFcXVhbD1mdW5jdGlvbihyYW5nZSl7cmV0dXJuIHRoaXMuc3RhcnQucm93PT09cmFuZ2Uuc3RhcnQucm93JiZ0aGlzLmVuZC5yb3c9PT1yYW5nZS5lbmQucm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09PXJhbmdlLnN0YXJ0LmNvbHVtbiYmdGhpcy5lbmQuY29sdW1uPT09cmFuZ2UuZW5kLmNvbHVtbn0sdGhpcy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblxcXCJSYW5nZTogW1xcXCIrdGhpcy5zdGFydC5yb3crXFxcIi9cXFwiK3RoaXMuc3RhcnQuY29sdW1uK1xcXCJdIC0+IFtcXFwiK3RoaXMuZW5kLnJvdytcXFwiL1xcXCIrdGhpcy5lbmQuY29sdW1uK1xcXCJdXFxcIn0sdGhpcy5jb250YWlucz1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pfSx0aGlzLmNvbXBhcmVSYW5nZT1mdW5jdGlvbihyYW5nZSl7dmFyIGNtcCxlbmQ9cmFuZ2UuZW5kLHN0YXJ0PXJhbmdlLnN0YXJ0O3JldHVybiBjbXA9dGhpcy5jb21wYXJlKGVuZC5yb3csZW5kLmNvbHVtbiksMT09Y21wPyhjbXA9dGhpcy5jb21wYXJlKHN0YXJ0LnJvdyxzdGFydC5jb2x1bW4pLDE9PWNtcD8yOjA9PWNtcD8xOjApOi0xPT1jbXA/LTI6KGNtcD10aGlzLmNvbXBhcmUoc3RhcnQucm93LHN0YXJ0LmNvbHVtbiksLTE9PWNtcD8tMToxPT1jbXA/NDI6MCl9LHRoaXMuY29tcGFyZVBvaW50PWZ1bmN0aW9uKHApe3JldHVybiB0aGlzLmNvbXBhcmUocC5yb3cscC5jb2x1bW4pfSx0aGlzLmNvbnRhaW5zUmFuZ2U9ZnVuY3Rpb24ocmFuZ2Upe3JldHVybiAwPT10aGlzLmNvbXBhcmVQb2ludChyYW5nZS5zdGFydCkmJjA9PXRoaXMuY29tcGFyZVBvaW50KHJhbmdlLmVuZCl9LHRoaXMuaW50ZXJzZWN0cz1mdW5jdGlvbihyYW5nZSl7dmFyIGNtcD10aGlzLmNvbXBhcmVSYW5nZShyYW5nZSk7cmV0dXJuLTE9PWNtcHx8MD09Y21wfHwxPT1jbXB9LHRoaXMuaXNFbmQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuZW5kLnJvdz09cm93JiZ0aGlzLmVuZC5jb2x1bW49PWNvbHVtbn0sdGhpcy5pc1N0YXJ0PWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiB0aGlzLnN0YXJ0LnJvdz09cm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09Y29sdW1ufSx0aGlzLnNldFN0YXJ0PWZ1bmN0aW9uKHJvdyxjb2x1bW4pe1xcXCJvYmplY3RcXFwiPT10eXBlb2Ygcm93Pyh0aGlzLnN0YXJ0LmNvbHVtbj1yb3cuY29sdW1uLHRoaXMuc3RhcnQucm93PXJvdy5yb3cpOih0aGlzLnN0YXJ0LnJvdz1yb3csdGhpcy5zdGFydC5jb2x1bW49Y29sdW1uKX0sdGhpcy5zZXRFbmQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7XFxcIm9iamVjdFxcXCI9PXR5cGVvZiByb3c/KHRoaXMuZW5kLmNvbHVtbj1yb3cuY29sdW1uLHRoaXMuZW5kLnJvdz1yb3cucm93KToodGhpcy5lbmQucm93PXJvdyx0aGlzLmVuZC5jb2x1bW49Y29sdW1uKX0sdGhpcy5pbnNpZGU9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIDA9PXRoaXMuY29tcGFyZShyb3csY29sdW1uKT90aGlzLmlzRW5kKHJvdyxjb2x1bW4pfHx0aGlzLmlzU3RhcnQocm93LGNvbHVtbik/ITE6ITA6ITF9LHRoaXMuaW5zaWRlU3RhcnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIDA9PXRoaXMuY29tcGFyZShyb3csY29sdW1uKT90aGlzLmlzRW5kKHJvdyxjb2x1bW4pPyExOiEwOiExfSx0aGlzLmluc2lkZUVuZD1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pP3RoaXMuaXNTdGFydChyb3csY29sdW1uKT8hMTohMDohMX0sdGhpcy5jb21wYXJlPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiB0aGlzLmlzTXVsdGlMaW5lKCl8fHJvdyE9PXRoaXMuc3RhcnQucm93P3RoaXMuc3RhcnQucm93PnJvdz8tMTpyb3c+dGhpcy5lbmQucm93PzE6dGhpcy5zdGFydC5yb3c9PT1yb3c/Y29sdW1uPj10aGlzLnN0YXJ0LmNvbHVtbj8wOi0xOnRoaXMuZW5kLnJvdz09PXJvdz90aGlzLmVuZC5jb2x1bW4+PWNvbHVtbj8wOjE6MDp0aGlzLnN0YXJ0LmNvbHVtbj5jb2x1bW4/LTE6Y29sdW1uPnRoaXMuZW5kLmNvbHVtbj8xOjB9LHRoaXMuY29tcGFyZVN0YXJ0PWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiB0aGlzLnN0YXJ0LnJvdz09cm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09Y29sdW1uPy0xOnRoaXMuY29tcGFyZShyb3csY29sdW1uKX0sdGhpcy5jb21wYXJlRW5kPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiB0aGlzLmVuZC5yb3c9PXJvdyYmdGhpcy5lbmQuY29sdW1uPT1jb2x1bW4/MTp0aGlzLmNvbXBhcmUocm93LGNvbHVtbil9LHRoaXMuY29tcGFyZUluc2lkZT1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gdGhpcy5lbmQucm93PT1yb3cmJnRoaXMuZW5kLmNvbHVtbj09Y29sdW1uPzE6dGhpcy5zdGFydC5yb3c9PXJvdyYmdGhpcy5zdGFydC5jb2x1bW49PWNvbHVtbj8tMTp0aGlzLmNvbXBhcmUocm93LGNvbHVtbil9LHRoaXMuY2xpcFJvd3M9ZnVuY3Rpb24oZmlyc3RSb3csbGFzdFJvdyl7aWYodGhpcy5lbmQucm93Pmxhc3RSb3cpdmFyIGVuZD17cm93Omxhc3RSb3crMSxjb2x1bW46MH07ZWxzZSBpZihmaXJzdFJvdz50aGlzLmVuZC5yb3cpdmFyIGVuZD17cm93OmZpcnN0Um93LGNvbHVtbjowfTtpZih0aGlzLnN0YXJ0LnJvdz5sYXN0Um93KXZhciBzdGFydD17cm93Omxhc3RSb3crMSxjb2x1bW46MH07ZWxzZSBpZihmaXJzdFJvdz50aGlzLnN0YXJ0LnJvdyl2YXIgc3RhcnQ9e3JvdzpmaXJzdFJvdyxjb2x1bW46MH07cmV0dXJuIFJhbmdlLmZyb21Qb2ludHMoc3RhcnR8fHRoaXMuc3RhcnQsZW5kfHx0aGlzLmVuZCl9LHRoaXMuZXh0ZW5kPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3ZhciBjbXA9dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pO2lmKDA9PWNtcClyZXR1cm4gdGhpcztpZigtMT09Y21wKXZhciBzdGFydD17cm93OnJvdyxjb2x1bW46Y29sdW1ufTtlbHNlIHZhciBlbmQ9e3Jvdzpyb3csY29sdW1uOmNvbHVtbn07cmV0dXJuIFJhbmdlLmZyb21Qb2ludHMoc3RhcnR8fHRoaXMuc3RhcnQsZW5kfHx0aGlzLmVuZCl9LHRoaXMuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0LnJvdz09PXRoaXMuZW5kLnJvdyYmdGhpcy5zdGFydC5jb2x1bW49PT10aGlzLmVuZC5jb2x1bW59LHRoaXMuaXNNdWx0aUxpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFydC5yb3chPT10aGlzLmVuZC5yb3d9LHRoaXMuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyh0aGlzLnN0YXJ0LHRoaXMuZW5kKX0sdGhpcy5jb2xsYXBzZVJvd3M9ZnVuY3Rpb24oKXtyZXR1cm4gMD09dGhpcy5lbmQuY29sdW1uP25ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywwLE1hdGgubWF4KHRoaXMuc3RhcnQucm93LHRoaXMuZW5kLnJvdy0xKSwwKTpuZXcgUmFuZ2UodGhpcy5zdGFydC5yb3csMCx0aGlzLmVuZC5yb3csMCl9LHRoaXMudG9TY3JlZW5SYW5nZT1mdW5jdGlvbihzZXNzaW9uKXt2YXIgc2NyZWVuUG9zU3RhcnQ9c2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24odGhpcy5zdGFydCksc2NyZWVuUG9zRW5kPXNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuZW5kKTtyZXR1cm4gbmV3IFJhbmdlKHNjcmVlblBvc1N0YXJ0LnJvdyxzY3JlZW5Qb3NTdGFydC5jb2x1bW4sc2NyZWVuUG9zRW5kLnJvdyxzY3JlZW5Qb3NFbmQuY29sdW1uKX0sdGhpcy5tb3ZlQnk9ZnVuY3Rpb24ocm93LGNvbHVtbil7dGhpcy5zdGFydC5yb3crPXJvdyx0aGlzLnN0YXJ0LmNvbHVtbis9Y29sdW1uLHRoaXMuZW5kLnJvdys9cm93LHRoaXMuZW5kLmNvbHVtbis9Y29sdW1ufX0pLmNhbGwoUmFuZ2UucHJvdG90eXBlKSxSYW5nZS5mcm9tUG9pbnRzPWZ1bmN0aW9uKHN0YXJ0LGVuZCl7cmV0dXJuIG5ldyBSYW5nZShzdGFydC5yb3csc3RhcnQuY29sdW1uLGVuZC5yb3csZW5kLmNvbHVtbil9LFJhbmdlLmNvbXBhcmVQb2ludHM9Y29tcGFyZVBvaW50cyxSYW5nZS5jb21wYXJlUG9pbnRzPWZ1bmN0aW9uKHAxLHAyKXtyZXR1cm4gcDEucm93LXAyLnJvd3x8cDEuY29sdW1uLXAyLmNvbHVtblxcbn0sZXhwb3J0cy5SYW5nZT1SYW5nZX0pLGFjZS5kZWZpbmUoXFxcImFjZS9hbmNob3JcXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiLFxcXCJhY2UvbGliL29vcFxcXCIsXFxcImFjZS9saWIvZXZlbnRfZW1pdHRlclxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe3ZhciBvb3A9YWNlcXVpcmUoXFxcIi4vbGliL29vcFxcXCIpLEV2ZW50RW1pdHRlcj1hY2VxdWlyZShcXFwiLi9saWIvZXZlbnRfZW1pdHRlclxcXCIpLkV2ZW50RW1pdHRlcixBbmNob3I9ZXhwb3J0cy5BbmNob3I9ZnVuY3Rpb24oZG9jLHJvdyxjb2x1bW4pe3RoaXMuZG9jdW1lbnQ9ZG9jLGNvbHVtbj09PXZvaWQgMD90aGlzLnNldFBvc2l0aW9uKHJvdy5yb3cscm93LmNvbHVtbik6dGhpcy5zZXRQb3NpdGlvbihyb3csY29sdW1uKSx0aGlzLiRvbkNoYW5nZT10aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyksZG9jLm9uKFxcXCJjaGFuZ2VcXFwiLHRoaXMuJG9uQ2hhbmdlKX07KGZ1bmN0aW9uKCl7b29wLmltcGxlbWVudCh0aGlzLEV2ZW50RW1pdHRlciksdGhpcy5nZXRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50KHRoaXMucm93LHRoaXMuY29sdW1uKX0sdGhpcy5nZXREb2N1bWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRvY3VtZW50fSx0aGlzLm9uQ2hhbmdlPWZ1bmN0aW9uKGUpe3ZhciBkZWx0YT1lLmRhdGEscmFuZ2U9ZGVsdGEucmFuZ2U7aWYoIShyYW5nZS5zdGFydC5yb3c9PXJhbmdlLmVuZC5yb3cmJnJhbmdlLnN0YXJ0LnJvdyE9dGhpcy5yb3d8fHJhbmdlLnN0YXJ0LnJvdz50aGlzLnJvd3x8cmFuZ2Uuc3RhcnQucm93PT10aGlzLnJvdyYmcmFuZ2Uuc3RhcnQuY29sdW1uPnRoaXMuY29sdW1uKSl7dmFyIHJvdz10aGlzLnJvdyxjb2x1bW49dGhpcy5jb2x1bW4sc3RhcnQ9cmFuZ2Uuc3RhcnQsZW5kPXJhbmdlLmVuZDtcXFwiaW5zZXJ0VGV4dFxcXCI9PT1kZWx0YS5hY3Rpb24/c3RhcnQucm93PT09cm93JiZjb2x1bW4+PXN0YXJ0LmNvbHVtbj9zdGFydC5yb3c9PT1lbmQucm93P2NvbHVtbis9ZW5kLmNvbHVtbi1zdGFydC5jb2x1bW46KGNvbHVtbi09c3RhcnQuY29sdW1uLHJvdys9ZW5kLnJvdy1zdGFydC5yb3cpOnN0YXJ0LnJvdyE9PWVuZC5yb3cmJnJvdz5zdGFydC5yb3cmJihyb3crPWVuZC5yb3ctc3RhcnQucm93KTpcXFwiaW5zZXJ0TGluZXNcXFwiPT09ZGVsdGEuYWN0aW9uP3Jvdz49c3RhcnQucm93JiYocm93Kz1lbmQucm93LXN0YXJ0LnJvdyk6XFxcInJlbW92ZVRleHRcXFwiPT09ZGVsdGEuYWN0aW9uP3N0YXJ0LnJvdz09PXJvdyYmY29sdW1uPnN0YXJ0LmNvbHVtbj9jb2x1bW49ZW5kLmNvbHVtbj49Y29sdW1uP3N0YXJ0LmNvbHVtbjpNYXRoLm1heCgwLGNvbHVtbi0oZW5kLmNvbHVtbi1zdGFydC5jb2x1bW4pKTpzdGFydC5yb3chPT1lbmQucm93JiZyb3c+c3RhcnQucm93PyhlbmQucm93PT09cm93JiYoY29sdW1uPU1hdGgubWF4KDAsY29sdW1uLWVuZC5jb2x1bW4pK3N0YXJ0LmNvbHVtbikscm93LT1lbmQucm93LXN0YXJ0LnJvdyk6ZW5kLnJvdz09PXJvdyYmKHJvdy09ZW5kLnJvdy1zdGFydC5yb3csY29sdW1uPU1hdGgubWF4KDAsY29sdW1uLWVuZC5jb2x1bW4pK3N0YXJ0LmNvbHVtbik6XFxcInJlbW92ZUxpbmVzXFxcIj09ZGVsdGEuYWN0aW9uJiZyb3c+PXN0YXJ0LnJvdyYmKHJvdz49ZW5kLnJvdz9yb3ctPWVuZC5yb3ctc3RhcnQucm93Oihyb3c9c3RhcnQucm93LGNvbHVtbj0wKSksdGhpcy5zZXRQb3NpdGlvbihyb3csY29sdW1uLCEwKX19LHRoaXMuc2V0UG9zaXRpb249ZnVuY3Rpb24ocm93LGNvbHVtbixub0NsaXApe3ZhciBwb3M7aWYocG9zPW5vQ2xpcD97cm93OnJvdyxjb2x1bW46Y29sdW1ufTp0aGlzLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50KHJvdyxjb2x1bW4pLHRoaXMucm93IT1wb3Mucm93fHx0aGlzLmNvbHVtbiE9cG9zLmNvbHVtbil7dmFyIG9sZD17cm93OnRoaXMucm93LGNvbHVtbjp0aGlzLmNvbHVtbn07dGhpcy5yb3c9cG9zLnJvdyx0aGlzLmNvbHVtbj1wb3MuY29sdW1uLHRoaXMuX2VtaXQoXFxcImNoYW5nZVxcXCIse29sZDpvbGQsdmFsdWU6cG9zfSl9fSx0aGlzLmRldGFjaD1mdW5jdGlvbigpe3RoaXMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcXFwiY2hhbmdlXFxcIix0aGlzLiRvbkNoYW5nZSl9LHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7dmFyIHBvcz17fTtyZXR1cm4gcm93Pj10aGlzLmRvY3VtZW50LmdldExlbmd0aCgpPyhwb3Mucm93PU1hdGgubWF4KDAsdGhpcy5kb2N1bWVudC5nZXRMZW5ndGgoKS0xKSxwb3MuY29sdW1uPXRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgpOjA+cm93Pyhwb3Mucm93PTAscG9zLmNvbHVtbj0wKToocG9zLnJvdz1yb3cscG9zLmNvbHVtbj1NYXRoLm1pbih0aGlzLmRvY3VtZW50LmdldExpbmUocG9zLnJvdykubGVuZ3RoLE1hdGgubWF4KDAsY29sdW1uKSkpLDA+Y29sdW1uJiYocG9zLmNvbHVtbj0wKSxwb3N9fSkuY2FsbChBbmNob3IucHJvdG90eXBlKX0pLGFjZS5kZWZpbmUoXFxcImFjZS9saWIvbGFuZ1xcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe2V4cG9ydHMuc3RyaW5nUmV2ZXJzZT1mdW5jdGlvbihzdHJpbmcpe3JldHVybiBzdHJpbmcuc3BsaXQoXFxcIlxcXCIpLnJldmVyc2UoKS5qb2luKFxcXCJcXFwiKX0sZXhwb3J0cy5zdHJpbmdSZXBlYXQ9ZnVuY3Rpb24oc3RyaW5nLGNvdW50KXtmb3IodmFyIHJlc3VsdD1cXFwiXFxcIjtjb3VudD4wOykxJmNvdW50JiYocmVzdWx0Kz1zdHJpbmcpLChjb3VudD4+PTEpJiYoc3RyaW5nKz1zdHJpbmcpO3JldHVybiByZXN1bHR9O3ZhciB0cmltQmVnaW5SZWdleHA9L15cXFxcc1xcXFxzKi8sdHJpbUVuZFJlZ2V4cD0vXFxcXHNcXFxccyokLztleHBvcnRzLnN0cmluZ1RyaW1MZWZ0PWZ1bmN0aW9uKHN0cmluZyl7cmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1CZWdpblJlZ2V4cCxcXFwiXFxcIil9LGV4cG9ydHMuc3RyaW5nVHJpbVJpZ2h0PWZ1bmN0aW9uKHN0cmluZyl7cmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1FbmRSZWdleHAsXFxcIlxcXCIpfSxleHBvcnRzLmNvcHlPYmplY3Q9ZnVuY3Rpb24ob2JqKXt2YXIgY29weT17fTtmb3IodmFyIGtleSBpbiBvYmopY29weVtrZXldPW9ialtrZXldO3JldHVybiBjb3B5fSxleHBvcnRzLmNvcHlBcnJheT1mdW5jdGlvbihhcnJheSl7Zm9yKHZhciBjb3B5PVtdLGk9MCxsPWFycmF5Lmxlbmd0aDtsPmk7aSsrKWNvcHlbaV09YXJyYXlbaV0mJlxcXCJvYmplY3RcXFwiPT10eXBlb2YgYXJyYXlbaV0/dGhpcy5jb3B5T2JqZWN0KGFycmF5W2ldKTphcnJheVtpXTtyZXR1cm4gY29weX0sZXhwb3J0cy5kZWVwQ29weT1mdW5jdGlvbihvYmope2lmKFxcXCJvYmplY3RcXFwiIT10eXBlb2Ygb2JqKXJldHVybiBvYmo7dmFyIGNvcHk9b2JqLmNvbnN0cnVjdG9yKCk7Zm9yKHZhciBrZXkgaW4gb2JqKWNvcHlba2V5XT1cXFwib2JqZWN0XFxcIj09dHlwZW9mIG9ialtrZXldP3RoaXMuZGVlcENvcHkob2JqW2tleV0pOm9ialtrZXldO3JldHVybiBjb3B5fSxleHBvcnRzLmFycmF5VG9NYXA9ZnVuY3Rpb24oYXJyKXtmb3IodmFyIG1hcD17fSxpPTA7YXJyLmxlbmd0aD5pO2krKyltYXBbYXJyW2ldXT0xO3JldHVybiBtYXB9LGV4cG9ydHMuY3JlYXRlTWFwPWZ1bmN0aW9uKHByb3BzKXt2YXIgbWFwPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKHZhciBpIGluIHByb3BzKW1hcFtpXT1wcm9wc1tpXTtyZXR1cm4gbWFwfSxleHBvcnRzLmFycmF5UmVtb3ZlPWZ1bmN0aW9uKGFycmF5LHZhbHVlKXtmb3IodmFyIGk9MDthcnJheS5sZW5ndGg+PWk7aSsrKXZhbHVlPT09YXJyYXlbaV0mJmFycmF5LnNwbGljZShpLDEpfSxleHBvcnRzLmVzY2FwZVJlZ0V4cD1mdW5jdGlvbihzdHIpe3JldHVybiBzdHIucmVwbGFjZSgvKFsuKis/XiR7fSgpfFtcXFxcXVxcXFwvXFxcXFxcXFxdKS9nLFxcXCJcXFxcXFxcXCQxXFxcIil9LGV4cG9ydHMuZXNjYXBlSFRNTD1mdW5jdGlvbihzdHIpe3JldHVybiBzdHIucmVwbGFjZSgvJi9nLFxcXCImIzM4O1xcXCIpLnJlcGxhY2UoL1xcXCIvZyxcXFwiJiMzNDtcXFwiKS5yZXBsYWNlKC8nL2csXFxcIiYjMzk7XFxcIikucmVwbGFjZSgvPC9nLFxcXCImIzYwO1xcXCIpfSxleHBvcnRzLmdldE1hdGNoT2Zmc2V0cz1mdW5jdGlvbihzdHJpbmcscmVnRXhwKXt2YXIgbWF0Y2hlcz1bXTtyZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVnRXhwLGZ1bmN0aW9uKHN0cil7bWF0Y2hlcy5wdXNoKHtvZmZzZXQ6YXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGgtMl0sbGVuZ3RoOnN0ci5sZW5ndGh9KX0pLG1hdGNoZXN9LGV4cG9ydHMuZGVmZXJyZWRDYWxsPWZ1bmN0aW9uKGZjbil7dmFyIHRpbWVyPW51bGwsY2FsbGJhY2s9ZnVuY3Rpb24oKXt0aW1lcj1udWxsLGZjbigpfSxkZWZlcnJlZD1mdW5jdGlvbih0aW1lb3V0KXtyZXR1cm4gZGVmZXJyZWQuY2FuY2VsKCksdGltZXI9c2V0VGltZW91dChjYWxsYmFjayx0aW1lb3V0fHwwKSxkZWZlcnJlZH07cmV0dXJuIGRlZmVycmVkLnNjaGVkdWxlPWRlZmVycmVkLGRlZmVycmVkLmNhbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW5jZWwoKSxmY24oKSxkZWZlcnJlZH0sZGVmZXJyZWQuY2FuY2VsPWZ1bmN0aW9uKCl7cmV0dXJuIGNsZWFyVGltZW91dCh0aW1lciksdGltZXI9bnVsbCxkZWZlcnJlZH0sZGVmZXJyZWR9LGV4cG9ydHMuZGVsYXllZENhbGw9ZnVuY3Rpb24oZmNuLGRlZmF1bHRUaW1lb3V0KXt2YXIgdGltZXI9bnVsbCxjYWxsYmFjaz1mdW5jdGlvbigpe3RpbWVyPW51bGwsZmNuKCl9LF9zZWxmPWZ1bmN0aW9uKHRpbWVvdXQpe3RpbWVyJiZjbGVhclRpbWVvdXQodGltZXIpLHRpbWVyPXNldFRpbWVvdXQoY2FsbGJhY2ssdGltZW91dHx8ZGVmYXVsdFRpbWVvdXQpfTtyZXR1cm4gX3NlbGYuZGVsYXk9X3NlbGYsX3NlbGYuc2NoZWR1bGU9ZnVuY3Rpb24odGltZW91dCl7bnVsbD09dGltZXImJih0aW1lcj1zZXRUaW1lb3V0KGNhbGxiYWNrLHRpbWVvdXR8fDApKX0sX3NlbGYuY2FsbD1mdW5jdGlvbigpe3RoaXMuY2FuY2VsKCksZmNuKCl9LF9zZWxmLmNhbmNlbD1mdW5jdGlvbigpe3RpbWVyJiZjbGVhclRpbWVvdXQodGltZXIpLHRpbWVyPW51bGx9LF9zZWxmLmlzUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiB0aW1lcn0sX3NlbGZ9fSksYWNlLmRlZmluZShcXFwiYWNlL21vZGUvbHVhL2x1YXBhcnNlXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIixcXFwiZXhwb3J0c1xcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpeyhmdW5jdGlvbihyb290LG5hbWUsZmFjdG9yeSl7ZXhwb3J0cyE9PXZvaWQgMD9mYWN0b3J5KGV4cG9ydHMpOlxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/YWNlLmRlZmluZShbXFxcImV4cG9ydHNcXFwiXSxmYWN0b3J5KTpmYWN0b3J5KHJvb3RbbmFtZV09e30pfSkodGhpcyxcXFwibHVhcGFyc2VcXFwiLGZ1bmN0aW9uKGV4cG9ydHMpe2Z1bmN0aW9uIHNwcmludGYoZm9ybWF0KXt2YXIgYXJncz1zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZm9ybWF0PWZvcm1hdC5yZXBsYWNlKC8lKFxcXFxkKS9nLGZ1bmN0aW9uKG1hdGNoLGluZGV4KXtyZXR1cm5cXFwiXFxcIithcmdzW2luZGV4LTFdfHxcXFwiXFxcIn0pfWZ1bmN0aW9uIGV4dGVuZCgpe2Zvcih2YXIgc3JjLHByb3AsYXJncz1zbGljZS5jYWxsKGFyZ3VtZW50cyksZGVzdD17fSxpPTAsbD1hcmdzLmxlbmd0aDtsPmk7aSsrKXtzcmM9YXJnc1tpXTtmb3IocHJvcCBpbiBzcmMpc3JjLmhhc093blByb3BlcnR5KHByb3ApJiYoZGVzdFtwcm9wXT1zcmNbcHJvcF0pfXJldHVybiBkZXN0fWZ1bmN0aW9uIHJhaXNlKHRva2VuKXt2YXIgZXJyb3IsY29sLG1lc3NhZ2U9c3ByaW50Zi5hcHBseShudWxsLHNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKTt0aHJvdyB0b2tlbi5saW5lIT09dm9pZCAwPyhjb2w9dG9rZW4ucmFuZ2VbMF0tdG9rZW4ubGluZVN0YXJ0LGVycm9yPW5ldyBTeW50YXhFcnJvcihzcHJpbnRmKFxcXCJbJTE6JTJdICUzXFxcIix0b2tlbi5saW5lLGNvbCxtZXNzYWdlKSksZXJyb3IubGluZT10b2tlbi5saW5lLGVycm9yLmluZGV4PXRva2VuLnJhbmdlWzBdLGVycm9yLmNvbHVtbj1jb2wpOihjb2w9aW5kZXgtbGluZVN0YXJ0KzEsZXJyb3I9bmV3IFN5bnRheEVycm9yKHNwcmludGYoXFxcIlslMTolMl0gJTNcXFwiLGxpbmUsY29sLG1lc3NhZ2UpKSxlcnJvci5pbmRleD1pbmRleCxlcnJvci5saW5lPWxpbmUsZXJyb3IuY29sdW1uPWNvbCksZXJyb3J9ZnVuY3Rpb24gcmFpc2VVbmV4cGVjdGVkVG9rZW4odHlwZSx0b2tlbil7cmFpc2UodG9rZW4sZXJyb3JzLmV4cGVjdGVkVG9rZW4sdHlwZSx0b2tlbi52YWx1ZSl9ZnVuY3Rpb24gdW5leHBlY3RlZChmb3VuZCxuZWFyKXtpZihuZWFyPT09dm9pZCAwJiYobmVhcj1sb29rYWhlYWQudmFsdWUpLGZvdW5kLnR5cGUhPT12b2lkIDApe3ZhciB0eXBlO3N3aXRjaChmb3VuZC50eXBlKXtjYXNlIFN0cmluZ0xpdGVyYWw6dHlwZT1cXFwic3RyaW5nXFxcIjticmVhaztjYXNlIEtleXdvcmQ6dHlwZT1cXFwia2V5d29yZFxcXCI7YnJlYWs7Y2FzZSBJZGVudGlmaWVyOnR5cGU9XFxcImlkZW50aWZpZXJcXFwiO2JyZWFrO2Nhc2UgTnVtZXJpY0xpdGVyYWw6dHlwZT1cXFwibnVtYmVyXFxcIjticmVhaztjYXNlIFB1bmN0dWF0b3I6dHlwZT1cXFwic3ltYm9sXFxcIjticmVhaztjYXNlIEJvb2xlYW5MaXRlcmFsOnR5cGU9XFxcImJvb2xlYW5cXFwiO2JyZWFrO2Nhc2UgTmlsTGl0ZXJhbDpyZXR1cm4gcmFpc2UoZm91bmQsZXJyb3JzLnVuZXhwZWN0ZWQsXFxcInN5bWJvbFxcXCIsXFxcIm5pbFxcXCIsbmVhcil9cmV0dXJuIHJhaXNlKGZvdW5kLGVycm9ycy51bmV4cGVjdGVkLHR5cGUsZm91bmQudmFsdWUsbmVhcil9cmV0dXJuIHJhaXNlKGZvdW5kLGVycm9ycy51bmV4cGVjdGVkLFxcXCJzeW1ib2xcXFwiLGZvdW5kLG5lYXIpfWZ1bmN0aW9uIHJlYWRUb2tlbigpe2Zvcihza2lwV2hpdGVTcGFjZSgpOzQ1PT09aW5wdXQuY2hhckNvZGVBdChpbmRleCkmJjQ1PT09aW5wdXQuY2hhckNvZGVBdChpbmRleCsxKTspc2NhbkNvbW1lbnQoKSxza2lwV2hpdGVTcGFjZSgpO2lmKGluZGV4Pj1sZW5ndGgpcmV0dXJue3R5cGU6RU9GLHZhbHVlOlxcXCI8ZW9mPlxcXCIsbGluZTpsaW5lLGxpbmVTdGFydDpsaW5lU3RhcnQscmFuZ2U6W2luZGV4LGluZGV4XX07dmFyIGNoYXJhY3Rlcj1pbnB1dC5jaGFyQ29kZUF0KGluZGV4KSxuZXh0PWlucHV0LmNoYXJDb2RlQXQoaW5kZXgrMSk7aWYodG9rZW5TdGFydD1pbmRleCxpc0lkZW50aWZpZXJTdGFydChjaGFyYWN0ZXIpKXJldHVybiBzY2FuSWRlbnRpZmllck9yS2V5d29yZCgpO3N3aXRjaChjaGFyYWN0ZXIpe2Nhc2UgMzk6Y2FzZSAzNDpyZXR1cm4gc2NhblN0cmluZ0xpdGVyYWwoKTtjYXNlIDQ4OmNhc2UgNDk6Y2FzZSA1MDpjYXNlIDUxOmNhc2UgNTI6Y2FzZSA1MzpjYXNlIDU0OmNhc2UgNTU6Y2FzZSA1NjpjYXNlIDU3OnJldHVybiBzY2FuTnVtZXJpY0xpdGVyYWwoKTtjYXNlIDQ2OnJldHVybiBpc0RlY0RpZ2l0KG5leHQpP3NjYW5OdW1lcmljTGl0ZXJhbCgpOjQ2PT09bmV4dD80Nj09PWlucHV0LmNoYXJDb2RlQXQoaW5kZXgrMik/c2NhblZhcmFyZ0xpdGVyYWwoKTpzY2FuUHVuY3R1YXRvcihcXFwiLi5cXFwiKTpzY2FuUHVuY3R1YXRvcihcXFwiLlxcXCIpO2Nhc2UgNjE6cmV0dXJuIDYxPT09bmV4dD9zY2FuUHVuY3R1YXRvcihcXFwiPT1cXFwiKTpzY2FuUHVuY3R1YXRvcihcXFwiPVxcXCIpO2Nhc2UgNjI6cmV0dXJuIDYxPT09bmV4dD9zY2FuUHVuY3R1YXRvcihcXFwiPj1cXFwiKTpzY2FuUHVuY3R1YXRvcihcXFwiPlxcXCIpO2Nhc2UgNjA6cmV0dXJuIDYxPT09bmV4dD9zY2FuUHVuY3R1YXRvcihcXFwiPD1cXFwiKTpzY2FuUHVuY3R1YXRvcihcXFwiPFxcXCIpO2Nhc2UgMTI2OnJldHVybiA2MT09PW5leHQ/c2NhblB1bmN0dWF0b3IoXFxcIn49XFxcIik6cmFpc2Uoe30sZXJyb3JzLmV4cGVjdGVkLFxcXCI9XFxcIixcXFwiflxcXCIpO2Nhc2UgNTg6cmV0dXJuIDU4PT09bmV4dD9zY2FuUHVuY3R1YXRvcihcXFwiOjpcXFwiKTpzY2FuUHVuY3R1YXRvcihcXFwiOlxcXCIpO2Nhc2UgOTE6cmV0dXJuIDkxPT09bmV4dHx8NjE9PT1uZXh0P3NjYW5Mb25nU3RyaW5nTGl0ZXJhbCgpOnNjYW5QdW5jdHVhdG9yKFxcXCJbXFxcIik7Y2FzZSA0MjpjYXNlIDQ3OmNhc2UgOTQ6Y2FzZSAzNzpjYXNlIDQ0OmNhc2UgMTIzOmNhc2UgMTI1OmNhc2UgOTM6Y2FzZSA0MDpjYXNlIDQxOmNhc2UgNTk6Y2FzZSAzNTpjYXNlIDQ1OmNhc2UgNDM6cmV0dXJuIHNjYW5QdW5jdHVhdG9yKGlucHV0LmNoYXJBdChpbmRleCkpfXJldHVybiB1bmV4cGVjdGVkKGlucHV0LmNoYXJBdChpbmRleCkpfWZ1bmN0aW9uIHNraXBXaGl0ZVNwYWNlKCl7Zm9yKDtsZW5ndGg+aW5kZXg7KXt2YXIgY2hhcmFjdGVyPWlucHV0LmNoYXJDb2RlQXQoaW5kZXgpO2lmKGlzV2hpdGVTcGFjZShjaGFyYWN0ZXIpKWluZGV4Kys7ZWxzZXtpZighaXNMaW5lVGVybWluYXRvcihjaGFyYWN0ZXIpKWJyZWFrO2xpbmUrKyxsaW5lU3RhcnQ9KytpbmRleH19fWZ1bmN0aW9uIHNjYW5JZGVudGlmaWVyT3JLZXl3b3JkKCl7Zm9yKHZhciB2YWx1ZSx0eXBlO2lzSWRlbnRpZmllclBhcnQoaW5wdXQuY2hhckNvZGVBdCgrK2luZGV4KSk7KTtyZXR1cm4gdmFsdWU9aW5wdXQuc2xpY2UodG9rZW5TdGFydCxpbmRleCksaXNLZXl3b3JkKHZhbHVlKT90eXBlPUtleXdvcmQ6XFxcInRydWVcXFwiPT09dmFsdWV8fFxcXCJmYWxzZVxcXCI9PT12YWx1ZT8odHlwZT1Cb29sZWFuTGl0ZXJhbCx2YWx1ZT1cXFwidHJ1ZVxcXCI9PT12YWx1ZSk6XFxcIm5pbFxcXCI9PT12YWx1ZT8odHlwZT1OaWxMaXRlcmFsLHZhbHVlPW51bGwpOnR5cGU9SWRlbnRpZmllcix7dHlwZTp0eXBlLHZhbHVlOnZhbHVlLGxpbmU6bGluZSxsaW5lU3RhcnQ6bGluZVN0YXJ0LHJhbmdlOlt0b2tlblN0YXJ0LGluZGV4XX19ZnVuY3Rpb24gc2NhblB1bmN0dWF0b3IodmFsdWUpe3JldHVybiBpbmRleCs9dmFsdWUubGVuZ3RoLHt0eXBlOlB1bmN0dWF0b3IsdmFsdWU6dmFsdWUsbGluZTpsaW5lLGxpbmVTdGFydDpsaW5lU3RhcnQscmFuZ2U6W3Rva2VuU3RhcnQsaW5kZXhdfX1mdW5jdGlvbiBzY2FuVmFyYXJnTGl0ZXJhbCgpe3JldHVybiBpbmRleCs9Myx7dHlwZTpWYXJhcmdMaXRlcmFsLHZhbHVlOlxcXCIuLi5cXFwiLGxpbmU6bGluZSxsaW5lU3RhcnQ6bGluZVN0YXJ0LHJhbmdlOlt0b2tlblN0YXJ0LGluZGV4XX19ZnVuY3Rpb24gc2NhblN0cmluZ0xpdGVyYWwoKXtmb3IodmFyIGNoYXJhY3RlcixkZWxpbWl0ZXI9aW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSxzdHJpbmdTdGFydD1pbmRleCxzdHJpbmc9XFxcIlxcXCI7bGVuZ3RoPmluZGV4JiYoY2hhcmFjdGVyPWlucHV0LmNoYXJDb2RlQXQoaW5kZXgrKyksZGVsaW1pdGVyIT09Y2hhcmFjdGVyKTspOTI9PT1jaGFyYWN0ZXI/KHN0cmluZys9aW5wdXQuc2xpY2Uoc3RyaW5nU3RhcnQsaW5kZXgtMSkrcmVhZEVzY2FwZVNlcXVlbmNlKCksc3RyaW5nU3RhcnQ9aW5kZXgpOihpbmRleD49bGVuZ3RofHxpc0xpbmVUZXJtaW5hdG9yKGNoYXJhY3RlcikpJiYoc3RyaW5nKz1pbnB1dC5zbGljZShzdHJpbmdTdGFydCxpbmRleC0xKSxyYWlzZSh7fSxlcnJvcnMudW5maW5pc2hlZFN0cmluZyxzdHJpbmcrU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyYWN0ZXIpKSk7cmV0dXJuIHN0cmluZys9aW5wdXQuc2xpY2Uoc3RyaW5nU3RhcnQsaW5kZXgtMSkse3R5cGU6U3RyaW5nTGl0ZXJhbCx2YWx1ZTpzdHJpbmcsbGluZTpsaW5lLGxpbmVTdGFydDpsaW5lU3RhcnQscmFuZ2U6W3Rva2VuU3RhcnQsaW5kZXhdfX1mdW5jdGlvbiBzY2FuTG9uZ1N0cmluZ0xpdGVyYWwoKXt2YXIgc3RyaW5nPXJlYWRMb25nU3RyaW5nKCk7cmV0dXJuITE9PT1zdHJpbmcmJnJhaXNlKHRva2VuLGVycm9ycy5leHBlY3RlZCxcXFwiW1xcXCIsdG9rZW4udmFsdWUpLHt0eXBlOlN0cmluZ0xpdGVyYWwsdmFsdWU6c3RyaW5nLGxpbmU6bGluZSxsaW5lU3RhcnQ6bGluZVN0YXJ0LHJhbmdlOlt0b2tlblN0YXJ0LGluZGV4XX19ZnVuY3Rpb24gc2Nhbk51bWVyaWNMaXRlcmFsKCl7dmFyIGNoYXJhY3Rlcj1pbnB1dC5jaGFyQXQoaW5kZXgpLG5leHQ9aW5wdXQuY2hhckF0KGluZGV4KzEpLHZhbHVlPVxcXCIwXFxcIj09PWNoYXJhY3RlciYmXFxcInhYXFxcIi5pbmRleE9mKG5leHR8fG51bGwpPj0wP3JlYWRIZXhMaXRlcmFsKCk6cmVhZERlY0xpdGVyYWwoKTtyZXR1cm57dHlwZTpOdW1lcmljTGl0ZXJhbCx2YWx1ZTp2YWx1ZSxsaW5lOmxpbmUsbGluZVN0YXJ0OmxpbmVTdGFydCxyYW5nZTpbdG9rZW5TdGFydCxpbmRleF19fWZ1bmN0aW9uIHJlYWRIZXhMaXRlcmFsKCl7dmFyIGRpZ2l0LGZyYWN0aW9uU3RhcnQsZXhwb25lbnRTdGFydCxkaWdpdFN0YXJ0LGZyYWN0aW9uPTAsYmluYXJ5RXhwb25lbnQ9MSxiaW5hcnlTaWduPTE7Zm9yKGRpZ2l0U3RhcnQ9aW5kZXgrPTIsaXNIZXhEaWdpdChpbnB1dC5jaGFyQ29kZUF0KGluZGV4KSl8fHJhaXNlKHt9LGVycm9ycy5tYWxmb3JtZWROdW1iZXIsaW5wdXQuc2xpY2UodG9rZW5TdGFydCxpbmRleCkpO2lzSGV4RGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCkpOylpbmRleCsrO2lmKGRpZ2l0PXBhcnNlSW50KGlucHV0LnNsaWNlKGRpZ2l0U3RhcnQsaW5kZXgpLDE2KSxcXFwiLlxcXCI9PT1pbnB1dC5jaGFyQXQoaW5kZXgpKXtmb3IoZnJhY3Rpb25TdGFydD0rK2luZGV4O2lzSGV4RGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCkpOylpbmRleCsrO2ZyYWN0aW9uPWlucHV0LnNsaWNlKGZyYWN0aW9uU3RhcnQsaW5kZXgpLGZyYWN0aW9uPWZyYWN0aW9uU3RhcnQ9PT1pbmRleD8wOnBhcnNlSW50KGZyYWN0aW9uLDE2KS9NYXRoLnBvdygxNixpbmRleC1mcmFjdGlvblN0YXJ0KX1pZihcXFwicFBcXFwiLmluZGV4T2YoaW5wdXQuY2hhckF0KGluZGV4KXx8bnVsbCk+PTApe2ZvcihpbmRleCsrLFxcXCIrLVxcXCIuaW5kZXhPZihpbnB1dC5jaGFyQXQoaW5kZXgpfHxudWxsKT49MCYmKGJpbmFyeVNpZ249XFxcIitcXFwiPT09aW5wdXQuY2hhckF0KGluZGV4KyspPzE6LTEpLGV4cG9uZW50U3RhcnQ9aW5kZXgsaXNEZWNEaWdpdChpbnB1dC5jaGFyQ29kZUF0KGluZGV4KSl8fHJhaXNlKHt9LGVycm9ycy5tYWxmb3JtZWROdW1iZXIsaW5wdXQuc2xpY2UodG9rZW5TdGFydCxpbmRleCkpO2lzRGVjRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCkpOylpbmRleCsrO2JpbmFyeUV4cG9uZW50PWlucHV0LnNsaWNlKGV4cG9uZW50U3RhcnQsaW5kZXgpLGJpbmFyeUV4cG9uZW50PU1hdGgucG93KDIsYmluYXJ5RXhwb25lbnQqYmluYXJ5U2lnbil9cmV0dXJuKGRpZ2l0K2ZyYWN0aW9uKSpiaW5hcnlFeHBvbmVudH1mdW5jdGlvbiByZWFkRGVjTGl0ZXJhbCgpe2Zvcig7aXNEZWNEaWdpdChpbnB1dC5jaGFyQ29kZUF0KGluZGV4KSk7KWluZGV4Kys7aWYoXFxcIi5cXFwiPT09aW5wdXQuY2hhckF0KGluZGV4KSlmb3IoaW5kZXgrKztpc0RlY0RpZ2l0KGlucHV0LmNoYXJDb2RlQXQoaW5kZXgpKTspaW5kZXgrKztpZihcXFwiZUVcXFwiLmluZGV4T2YoaW5wdXQuY2hhckF0KGluZGV4KXx8bnVsbCk+PTApZm9yKGluZGV4KyssXFxcIistXFxcIi5pbmRleE9mKGlucHV0LmNoYXJBdChpbmRleCl8fG51bGwpPj0wJiZpbmRleCsrLGlzRGVjRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCkpfHxyYWlzZSh7fSxlcnJvcnMubWFsZm9ybWVkTnVtYmVyLGlucHV0LnNsaWNlKHRva2VuU3RhcnQsaW5kZXgpKTtpc0RlY0RpZ2l0KGlucHV0LmNoYXJDb2RlQXQoaW5kZXgpKTspaW5kZXgrKztyZXR1cm4gcGFyc2VGbG9hdChpbnB1dC5zbGljZSh0b2tlblN0YXJ0LGluZGV4KSl9ZnVuY3Rpb24gcmVhZEVzY2FwZVNlcXVlbmNlKCl7dmFyIHNlcXVlbmNlU3RhcnQ9aW5kZXg7c3dpdGNoKGlucHV0LmNoYXJBdChpbmRleCkpe2Nhc2VcXFwiblxcXCI6cmV0dXJuIGluZGV4KyssXFxcIlxcXFxuXFxcIjtjYXNlXFxcInJcXFwiOnJldHVybiBpbmRleCsrLFxcXCJcXFxcclxcXCI7Y2FzZVxcXCJ0XFxcIjpyZXR1cm4gaW5kZXgrKyxcXFwiXFx0XFxcIjtjYXNlXFxcInZcXFwiOnJldHVybiBpbmRleCsrLFxcXCJcXHUwMDBiXFxcIjtjYXNlXFxcImJcXFwiOnJldHVybiBpbmRleCsrLFxcXCJcXFxcYlxcXCI7Y2FzZVxcXCJmXFxcIjpyZXR1cm4gaW5kZXgrKyxcXFwiXFxcXGZcXFwiO2Nhc2VcXFwielxcXCI6cmV0dXJuIGluZGV4Kyssc2tpcFdoaXRlU3BhY2UoKSxcXFwiXFxcIjtjYXNlXFxcInhcXFwiOnJldHVybiBpc0hleERpZ2l0KGlucHV0LmNoYXJDb2RlQXQoaW5kZXgrMSkpJiZpc0hleERpZ2l0KGlucHV0LmNoYXJDb2RlQXQoaW5kZXgrMikpPyhpbmRleCs9MyxcXFwiXFxcXFxcXFxcXFwiK2lucHV0LnNsaWNlKHNlcXVlbmNlU3RhcnQsaW5kZXgpKTpcXFwiXFxcXFxcXFxcXFwiK2lucHV0LmNoYXJBdChpbmRleCsrKTtkZWZhdWx0OmlmKGlzRGVjRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCkpKXtmb3IoO2lzRGVjRGlnaXQoaW5wdXQuY2hhckNvZGVBdCgrK2luZGV4KSk7KTtyZXR1cm5cXFwiXFxcXFxcXFxcXFwiK2lucHV0LnNsaWNlKHNlcXVlbmNlU3RhcnQsaW5kZXgpfXJldHVybiBpbnB1dC5jaGFyQXQoaW5kZXgrKyl9fWZ1bmN0aW9uIHNjYW5Db21tZW50KCl7dG9rZW5TdGFydD1pbmRleCxpbmRleCs9Mjt2YXIgY2hhcmFjdGVyPWlucHV0LmNoYXJBdChpbmRleCksY29udGVudD1cXFwiXFxcIixpc0xvbmc9ITEsY29tbWVudFN0YXJ0PWluZGV4O2lmKFxcXCJbXFxcIj09PWNoYXJhY3RlciYmKGNvbnRlbnQ9cmVhZExvbmdTdHJpbmcoKSwhMT09PWNvbnRlbnQ/Y29udGVudD1jaGFyYWN0ZXI6aXNMb25nPSEwKSwhaXNMb25nKXtmb3IoO2xlbmd0aD5pbmRleCYmIWlzTGluZVRlcm1pbmF0b3IoaW5wdXQuY2hhckNvZGVBdChpbmRleCkpOylpbmRleCsrO2NvbnRlbnQ9aW5wdXQuc2xpY2UoY29tbWVudFN0YXJ0LGluZGV4KX1vcHRpb25zLmNvbW1lbnRzJiZjb21tZW50cy5wdXNoKHt0eXBlOlxcXCJDb21tZW50XFxcIix2YWx1ZTpjb250ZW50LHJhdzppbnB1dC5zbGljZSh0b2tlblN0YXJ0LGluZGV4KX0pfWZ1bmN0aW9uIHJlYWRMb25nU3RyaW5nKCl7dmFyIGNoYXJhY3RlcixzdHJpbmdTdGFydCxsZXZlbD0wLGNvbnRlbnQ9XFxcIlxcXCIsdGVybWluYXRvcj0hMTtmb3IoaW5kZXgrKztcXFwiPVxcXCI9PT1pbnB1dC5jaGFyQXQoaW5kZXgrbGV2ZWwpOylsZXZlbCsrO2lmKFxcXCJbXFxcIiE9PWlucHV0LmNoYXJBdChpbmRleCtsZXZlbCkpcmV0dXJuITE7Zm9yKGluZGV4Kz1sZXZlbCsxLGlzTGluZVRlcm1pbmF0b3IoaW5wdXQuY2hhckNvZGVBdChpbmRleCkpJiYobGluZSsrLGxpbmVTdGFydD1pbmRleCsrKSxzdHJpbmdTdGFydD1pbmRleDtsZW5ndGg+aW5kZXg7KXtpZihjaGFyYWN0ZXI9aW5wdXQuY2hhckF0KGluZGV4KyspLGlzTGluZVRlcm1pbmF0b3IoY2hhcmFjdGVyLmNoYXJDb2RlQXQoMCkpJiYobGluZSsrLGxpbmVTdGFydD1pbmRleCksXFxcIl1cXFwiPT09Y2hhcmFjdGVyKXt0ZXJtaW5hdG9yPSEwO2Zvcih2YXIgaT0wO2xldmVsPmk7aSsrKVxcXCI9XFxcIiE9PWlucHV0LmNoYXJBdChpbmRleCtpKSYmKHRlcm1pbmF0b3I9ITEpO1xcXCJdXFxcIiE9PWlucHV0LmNoYXJBdChpbmRleCtsZXZlbCkmJih0ZXJtaW5hdG9yPSExKX1pZih0ZXJtaW5hdG9yKWJyZWFrfXJldHVybiBjb250ZW50Kz1pbnB1dC5zbGljZShzdHJpbmdTdGFydCxpbmRleC0xKSxpbmRleCs9bGV2ZWwrMSxjb250ZW50fWZ1bmN0aW9uIG5leHQoKXt0b2tlbj1sb29rYWhlYWQsbG9va2FoZWFkPXJlYWRUb2tlbigpfWZ1bmN0aW9uIGNvbnN1bWUodmFsdWUpe3JldHVybiB2YWx1ZT09PXRva2VuLnZhbHVlPyhuZXh0KCksITApOiExfWZ1bmN0aW9uIGV4cGVjdCh2YWx1ZSl7dmFsdWU9PT10b2tlbi52YWx1ZT9uZXh0KCk6cmFpc2UodG9rZW4sZXJyb3JzLmV4cGVjdGVkLHZhbHVlLHRva2VuLnZhbHVlKX1mdW5jdGlvbiBpc1doaXRlU3BhY2UoY2hhcmFjdGVyKXtyZXR1cm4gOT09PWNoYXJhY3Rlcnx8MzI9PT1jaGFyYWN0ZXJ8fDExPT09Y2hhcmFjdGVyfHwxMj09PWNoYXJhY3Rlcn1mdW5jdGlvbiBpc0xpbmVUZXJtaW5hdG9yKGNoYXJhY3Rlcil7cmV0dXJuIDEwPT09Y2hhcmFjdGVyfHwxMz09PWNoYXJhY3Rlcn1mdW5jdGlvbiBpc0RlY0RpZ2l0KGNoYXJhY3Rlcil7cmV0dXJuIGNoYXJhY3Rlcj49NDgmJjU3Pj1jaGFyYWN0ZXJ9ZnVuY3Rpb24gaXNIZXhEaWdpdChjaGFyYWN0ZXIpe3JldHVybiBjaGFyYWN0ZXI+PTQ4JiY1Nz49Y2hhcmFjdGVyfHxjaGFyYWN0ZXI+PTk3JiYxMDI+PWNoYXJhY3Rlcnx8Y2hhcmFjdGVyPj02NSYmNzA+PWNoYXJhY3Rlcn1mdW5jdGlvbiBpc0lkZW50aWZpZXJTdGFydChjaGFyYWN0ZXIpe3JldHVybiBjaGFyYWN0ZXI+PTY1JiY5MD49Y2hhcmFjdGVyfHxjaGFyYWN0ZXI+PTk3JiYxMjI+PWNoYXJhY3Rlcnx8OTU9PT1jaGFyYWN0ZXJ9ZnVuY3Rpb24gaXNJZGVudGlmaWVyUGFydChjaGFyYWN0ZXIpe3JldHVybiBjaGFyYWN0ZXI+PTY1JiY5MD49Y2hhcmFjdGVyfHxjaGFyYWN0ZXI+PTk3JiYxMjI+PWNoYXJhY3Rlcnx8OTU9PT1jaGFyYWN0ZXJ8fGNoYXJhY3Rlcj49NDgmJjU3Pj1jaGFyYWN0ZXJ9ZnVuY3Rpb24gaXNLZXl3b3JkKGlkKXtzd2l0Y2goaWQubGVuZ3RoKXtjYXNlIDI6cmV0dXJuXFxcImRvXFxcIj09PWlkfHxcXFwiaWZcXFwiPT09aWR8fFxcXCJpblxcXCI9PT1pZHx8XFxcIm9yXFxcIj09PWlkO2Nhc2UgMzpyZXR1cm5cXFwiYW5kXFxcIj09PWlkfHxcXFwiZW5kXFxcIj09PWlkfHxcXFwiZm9yXFxcIj09PWlkfHxcXFwibm90XFxcIj09PWlkO2Nhc2UgNDpyZXR1cm5cXFwiZWxzZVxcXCI9PT1pZHx8XFxcImdvdG9cXFwiPT09aWR8fFxcXCJ0aGVuXFxcIj09PWlkO2Nhc2UgNTpyZXR1cm5cXFwiYnJlYWtcXFwiPT09aWR8fFxcXCJsb2NhbFxcXCI9PT1pZHx8XFxcInVudGlsXFxcIj09PWlkfHxcXFwid2hpbGVcXFwiPT09aWQ7Y2FzZSA2OnJldHVyblxcXCJlbHNlaWZcXFwiPT09aWR8fFxcXCJyZXBlYXRcXFwiPT09aWR8fFxcXCJyZXR1cm5cXFwiPT09aWQ7Y2FzZSA4OnJldHVyblxcXCJmdW5jdGlvblxcXCI9PT1pZH1yZXR1cm4hMX1mdW5jdGlvbiBpc1VuYXJ5KHRva2VuKXtyZXR1cm4gUHVuY3R1YXRvcj09PXRva2VuLnR5cGU/XFxcIiMtXFxcIi5pbmRleE9mKHRva2VuLnZhbHVlKT49MDpLZXl3b3JkPT09dG9rZW4udHlwZT9cXFwibm90XFxcIj09PXRva2VuLnZhbHVlOiExfWZ1bmN0aW9uIGlzQ2FsbEV4cHJlc3Npb24oZXhwcmVzc2lvbil7c3dpdGNoKGV4cHJlc3Npb24udHlwZSl7Y2FzZVxcXCJDYWxsRXhwcmVzc2lvblxcXCI6Y2FzZVxcXCJUYWJsZUNhbGxFeHByZXNzaW9uXFxcIjpjYXNlXFxcIlN0cmluZ0NhbGxFeHByZXNzaW9uXFxcIjpyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBpc0Jsb2NrRm9sbG93KHRva2VuKXtpZihFT0Y9PT10b2tlbi50eXBlKXJldHVybiEwO2lmKEtleXdvcmQhPT10b2tlbi50eXBlKXJldHVybiExO3N3aXRjaCh0b2tlbi52YWx1ZSl7Y2FzZVxcXCJlbHNlXFxcIjpjYXNlXFxcImVsc2VpZlxcXCI6Y2FzZVxcXCJlbmRcXFwiOmNhc2VcXFwidW50aWxcXFwiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fWZ1bmN0aW9uIGNyZWF0ZVNjb3BlKCl7c2NvcGVzLnB1c2goQXJyYXkuYXBwbHkobnVsbCxzY29wZXNbc2NvcGVEZXB0aCsrXSkpfWZ1bmN0aW9uIGV4aXRTY29wZSgpe3Njb3Blcy5wb3AoKSxzY29wZURlcHRoLS19ZnVuY3Rpb24gc2NvcGVJZGVudGlmaWVyTmFtZShuYW1lKXstMT09PWluZGV4T2YuY2FsbChzY29wZXNbc2NvcGVEZXB0aF0sbmFtZSkmJnNjb3Blc1tzY29wZURlcHRoXS5wdXNoKG5hbWUpfWZ1bmN0aW9uIHNjb3BlSWRlbnRpZmllcihub2RlKXtzY29wZUlkZW50aWZpZXJOYW1lKG5vZGUubmFtZSksYXR0YWNoU2NvcGUobm9kZSwhMCl9ZnVuY3Rpb24gYXR0YWNoU2NvcGUobm9kZSxpc0xvY2FsKXtpc0xvY2FsfHwtMSE9PWluZGV4T2YuY2FsbChnbG9iYWxOYW1lcyxub2RlLm5hbWUpfHwoZ2xvYmFsTmFtZXMucHVzaChub2RlLm5hbWUpLGdsb2JhbHMucHVzaChub2RlKSksbm9kZS5pc0xvY2FsPWlzTG9jYWx9ZnVuY3Rpb24gc2NvcGVIYXNOYW1lKG5hbWUpe3JldHVybi0xIT09aW5kZXhPZi5jYWxsKHNjb3Blc1tzY29wZURlcHRoXSxuYW1lKX1mdW5jdGlvbiBwYXJzZUNodW5rKCl7bmV4dCgpO3ZhciBib2R5PXBhcnNlQmxvY2soKTtyZXR1cm4gRU9GIT09dG9rZW4udHlwZSYmdW5leHBlY3RlZCh0b2tlbiksYXN0LmNodW5rKGJvZHkpfWZ1bmN0aW9uIHBhcnNlQmxvY2soKXt2YXIgc3RhdGVtZW50LGJsb2NrPVtdO2ZvcihvcHRpb25zLnNjb3BlJiZjcmVhdGVTY29wZSgpOyFpc0Jsb2NrRm9sbG93KHRva2VuKTspe2lmKFxcXCJyZXR1cm5cXFwiPT09dG9rZW4udmFsdWUpe2Jsb2NrLnB1c2gocGFyc2VTdGF0ZW1lbnQoKSk7YnJlYWt9c3RhdGVtZW50PXBhcnNlU3RhdGVtZW50KCksc3RhdGVtZW50JiZibG9jay5wdXNoKHN0YXRlbWVudCl9cmV0dXJuIG9wdGlvbnMuc2NvcGUmJmV4aXRTY29wZSgpLGJsb2NrfWZ1bmN0aW9uIHBhcnNlU3RhdGVtZW50KCl7aWYoS2V5d29yZD09PXRva2VuLnR5cGUpc3dpdGNoKHRva2VuLnZhbHVlKXtjYXNlXFxcImxvY2FsXFxcIjpyZXR1cm4gbmV4dCgpLHBhcnNlTG9jYWxTdGF0ZW1lbnQoKTtjYXNlXFxcImlmXFxcIjpyZXR1cm4gbmV4dCgpLHBhcnNlSWZTdGF0ZW1lbnQoKTtjYXNlXFxcInJldHVyblxcXCI6cmV0dXJuIG5leHQoKSxwYXJzZVJldHVyblN0YXRlbWVudCgpO2Nhc2VcXFwiZnVuY3Rpb25cXFwiOm5leHQoKTt2YXIgbmFtZT1wYXJzZUZ1bmN0aW9uTmFtZSgpO3JldHVybiBwYXJzZUZ1bmN0aW9uRGVjbGFyYXRpb24obmFtZSk7Y2FzZVxcXCJ3aGlsZVxcXCI6cmV0dXJuIG5leHQoKSxwYXJzZVdoaWxlU3RhdGVtZW50KCk7Y2FzZVxcXCJmb3JcXFwiOnJldHVybiBuZXh0KCkscGFyc2VGb3JTdGF0ZW1lbnQoKTtjYXNlXFxcInJlcGVhdFxcXCI6cmV0dXJuIG5leHQoKSxwYXJzZVJlcGVhdFN0YXRlbWVudCgpO2Nhc2VcXFwiYnJlYWtcXFwiOnJldHVybiBuZXh0KCkscGFyc2VCcmVha1N0YXRlbWVudCgpO2Nhc2VcXFwiZG9cXFwiOnJldHVybiBuZXh0KCkscGFyc2VEb1N0YXRlbWVudCgpO2Nhc2VcXFwiZ290b1xcXCI6cmV0dXJuIG5leHQoKSxwYXJzZUdvdG9TdGF0ZW1lbnQoKX1pZihQdW5jdHVhdG9yPT09dG9rZW4udHlwZSYmY29uc3VtZShcXFwiOjpcXFwiKSlyZXR1cm4gcGFyc2VMYWJlbFN0YXRlbWVudCgpO2lmKCFjb25zdW1lKFxcXCI7XFxcIikpcmV0dXJuIHBhcnNlQXNzaWdubWVudE9yQ2FsbFN0YXRlbWVudCgpfWZ1bmN0aW9uIHBhcnNlTGFiZWxTdGF0ZW1lbnQoKXt2YXIgbmFtZT10b2tlbi52YWx1ZSxsYWJlbD1wYXJzZUlkZW50aWZpZXIoKTtyZXR1cm4gb3B0aW9ucy5zY29wZSYmKHNjb3BlSWRlbnRpZmllck5hbWUoXFxcIjo6XFxcIituYW1lK1xcXCI6OlxcXCIpLGF0dGFjaFNjb3BlKGxhYmVsLCEwKSksZXhwZWN0KFxcXCI6OlxcXCIpLGFzdC5sYWJlbFN0YXRlbWVudChsYWJlbCl9ZnVuY3Rpb24gcGFyc2VCcmVha1N0YXRlbWVudCgpe3JldHVybiBhc3QuYnJlYWtTdGF0ZW1lbnQoKX1mdW5jdGlvbiBwYXJzZUdvdG9TdGF0ZW1lbnQoKXt2YXIgbmFtZT10b2tlbi52YWx1ZSxsYWJlbD1wYXJzZUlkZW50aWZpZXIoKTtyZXR1cm4gb3B0aW9ucy5zY29wZSYmKGxhYmVsLmlzTGFiZWw9c2NvcGVIYXNOYW1lKFxcXCI6OlxcXCIrbmFtZStcXFwiOjpcXFwiKSksYXN0LmdvdG9TdGF0ZW1lbnQobGFiZWwpfWZ1bmN0aW9uIHBhcnNlRG9TdGF0ZW1lbnQoKXt2YXIgYm9keT1wYXJzZUJsb2NrKCk7cmV0dXJuIGV4cGVjdChcXFwiZW5kXFxcIiksYXN0LmRvU3RhdGVtZW50KGJvZHkpfWZ1bmN0aW9uIHBhcnNlV2hpbGVTdGF0ZW1lbnQoKXt2YXIgY29uZGl0aW9uPXBhcnNlRXhwZWN0ZWRFeHByZXNzaW9uKCk7ZXhwZWN0KFxcXCJkb1xcXCIpO3ZhciBib2R5PXBhcnNlQmxvY2soKTtyZXR1cm4gZXhwZWN0KFxcXCJlbmRcXFwiKSxhc3Qud2hpbGVTdGF0ZW1lbnQoY29uZGl0aW9uLGJvZHkpfWZ1bmN0aW9uIHBhcnNlUmVwZWF0U3RhdGVtZW50KCl7dmFyIGJvZHk9cGFyc2VCbG9jaygpO2V4cGVjdChcXFwidW50aWxcXFwiKTt2YXIgY29uZGl0aW9uPXBhcnNlRXhwZWN0ZWRFeHByZXNzaW9uKCk7cmV0dXJuIGFzdC5yZXBlYXRTdGF0ZW1lbnQoY29uZGl0aW9uLGJvZHkpfWZ1bmN0aW9uIHBhcnNlUmV0dXJuU3RhdGVtZW50KCl7dmFyIGV4cHJlc3Npb25zPVtdO2lmKFxcXCJlbmRcXFwiIT09dG9rZW4udmFsdWUpe3ZhciBleHByZXNzaW9uPXBhcnNlRXhwcmVzc2lvbigpO2ZvcihudWxsIT1leHByZXNzaW9uJiZleHByZXNzaW9ucy5wdXNoKGV4cHJlc3Npb24pO2NvbnN1bWUoXFxcIixcXFwiKTspZXhwcmVzc2lvbj1wYXJzZUV4cGVjdGVkRXhwcmVzc2lvbigpLGV4cHJlc3Npb25zLnB1c2goZXhwcmVzc2lvbik7Y29uc3VtZShcXFwiO1xcXCIpfXJldHVybiBhc3QucmV0dXJuU3RhdGVtZW50KGV4cHJlc3Npb25zKX1mdW5jdGlvbiBwYXJzZUlmU3RhdGVtZW50KCl7dmFyIGNvbmRpdGlvbixib2R5LGNsYXVzZXM9W107Zm9yKGNvbmRpdGlvbj1wYXJzZUV4cGVjdGVkRXhwcmVzc2lvbigpLGV4cGVjdChcXFwidGhlblxcXCIpLGJvZHk9cGFyc2VCbG9jaygpLGNsYXVzZXMucHVzaChhc3QuaWZDbGF1c2UoY29uZGl0aW9uLGJvZHkpKTtjb25zdW1lKFxcXCJlbHNlaWZcXFwiKTspY29uZGl0aW9uPXBhcnNlRXhwZWN0ZWRFeHByZXNzaW9uKCksZXhwZWN0KFxcXCJ0aGVuXFxcIiksYm9keT1wYXJzZUJsb2NrKCksY2xhdXNlcy5wdXNoKGFzdC5lbHNlaWZDbGF1c2UoY29uZGl0aW9uLGJvZHkpKTtyZXR1cm4gY29uc3VtZShcXFwiZWxzZVxcXCIpJiYoYm9keT1wYXJzZUJsb2NrKCksY2xhdXNlcy5wdXNoKGFzdC5lbHNlQ2xhdXNlKGJvZHkpKSksZXhwZWN0KFxcXCJlbmRcXFwiKSxhc3QuaWZTdGF0ZW1lbnQoY2xhdXNlcyl9ZnVuY3Rpb24gcGFyc2VGb3JTdGF0ZW1lbnQoKXt2YXIgYm9keSx2YXJpYWJsZT1wYXJzZUlkZW50aWZpZXIoKTtpZihvcHRpb25zLnNjb3BlJiZzY29wZUlkZW50aWZpZXIodmFyaWFibGUpLGNvbnN1bWUoXFxcIj1cXFwiKSl7dmFyIHN0YXJ0PXBhcnNlRXhwZWN0ZWRFeHByZXNzaW9uKCk7ZXhwZWN0KFxcXCIsXFxcIik7dmFyIGVuZD1wYXJzZUV4cGVjdGVkRXhwcmVzc2lvbigpLHN0ZXA9Y29uc3VtZShcXFwiLFxcXCIpP3BhcnNlRXhwZWN0ZWRFeHByZXNzaW9uKCk6bnVsbDtyZXR1cm4gZXhwZWN0KFxcXCJkb1xcXCIpLGJvZHk9cGFyc2VCbG9jaygpLGV4cGVjdChcXFwiZW5kXFxcIiksYXN0LmZvck51bWVyaWNTdGF0ZW1lbnQodmFyaWFibGUsc3RhcnQsZW5kLHN0ZXAsYm9keSl9Zm9yKHZhciB2YXJpYWJsZXM9W3ZhcmlhYmxlXTtjb25zdW1lKFxcXCIsXFxcIik7KXZhcmlhYmxlPXBhcnNlSWRlbnRpZmllcigpLG9wdGlvbnMuc2NvcGUmJnNjb3BlSWRlbnRpZmllcih2YXJpYWJsZSksdmFyaWFibGVzLnB1c2godmFyaWFibGUpO2V4cGVjdChcXFwiaW5cXFwiKTt2YXIgaXRlcmF0b3JzPVtdO2Rve3ZhciBleHByZXNzaW9uPXBhcnNlRXhwZWN0ZWRFeHByZXNzaW9uKCk7aXRlcmF0b3JzLnB1c2goZXhwcmVzc2lvbil9d2hpbGUoY29uc3VtZShcXFwiLFxcXCIpKTtyZXR1cm4gZXhwZWN0KFxcXCJkb1xcXCIpLGJvZHk9cGFyc2VCbG9jaygpLGV4cGVjdChcXFwiZW5kXFxcIiksYXN0LmZvckdlbmVyaWNTdGF0ZW1lbnQodmFyaWFibGVzLGl0ZXJhdG9ycyxib2R5KX1mdW5jdGlvbiBwYXJzZUxvY2FsU3RhdGVtZW50KCl7dmFyIG5hbWU7aWYoSWRlbnRpZmllcj09PXRva2VuLnR5cGUpe3ZhciB2YXJpYWJsZXM9W10saW5pdD1bXTtkbyBuYW1lPXBhcnNlSWRlbnRpZmllcigpLHZhcmlhYmxlcy5wdXNoKG5hbWUpO3doaWxlKGNvbnN1bWUoXFxcIixcXFwiKSk7aWYoY29uc3VtZShcXFwiPVxcXCIpKWRve3ZhciBleHByZXNzaW9uPXBhcnNlRXhwZWN0ZWRFeHByZXNzaW9uKCk7aW5pdC5wdXNoKGV4cHJlc3Npb24pfXdoaWxlKGNvbnN1bWUoXFxcIixcXFwiKSk7aWYob3B0aW9ucy5zY29wZSlmb3IodmFyIGk9MCxsPXZhcmlhYmxlcy5sZW5ndGg7bD5pO2krKylzY29wZUlkZW50aWZpZXIodmFyaWFibGVzW2ldKTtyZXR1cm4gYXN0LmxvY2FsU3RhdGVtZW50KHZhcmlhYmxlcyxpbml0KX1yZXR1cm4gY29uc3VtZShcXFwiZnVuY3Rpb25cXFwiKT8obmFtZT1wYXJzZUlkZW50aWZpZXIoKSxvcHRpb25zLnNjb3BlJiZzY29wZUlkZW50aWZpZXIobmFtZSkscGFyc2VGdW5jdGlvbkRlY2xhcmF0aW9uKG5hbWUsITApKToocmFpc2VVbmV4cGVjdGVkVG9rZW4oXFxcIjxuYW1lPlxcXCIsdG9rZW4pLHZvaWQgMCl9ZnVuY3Rpb24gcGFyc2VBc3NpZ25tZW50T3JDYWxsU3RhdGVtZW50KCl7dmFyIHByZXZpb3VzPXRva2VuLGV4cHJlc3Npb249cGFyc2VQcmVmaXhFeHByZXNzaW9uKCk7aWYobnVsbD09ZXhwcmVzc2lvbilyZXR1cm4gdW5leHBlY3RlZCh0b2tlbik7aWYoXFxcIiw9XFxcIi5pbmRleE9mKHRva2VuLnZhbHVlKT49MCl7Zm9yKHZhciBleHAsdmFyaWFibGVzPVtleHByZXNzaW9uXSxpbml0PVtdO2NvbnN1bWUoXFxcIixcXFwiKTspZXhwPXBhcnNlUHJlZml4RXhwcmVzc2lvbigpLG51bGw9PWV4cCYmcmFpc2VVbmV4cGVjdGVkVG9rZW4oXFxcIjxleHByZXNzaW9uPlxcXCIsdG9rZW4pLHZhcmlhYmxlcy5wdXNoKGV4cCk7ZXhwZWN0KFxcXCI9XFxcIik7ZG8gZXhwPXBhcnNlRXhwZWN0ZWRFeHByZXNzaW9uKCksaW5pdC5wdXNoKGV4cCk7d2hpbGUoY29uc3VtZShcXFwiLFxcXCIpKTtyZXR1cm4gYXN0LmFzc2lnbm1lbnRTdGF0ZW1lbnQodmFyaWFibGVzLGluaXQpfXJldHVybiBpc0NhbGxFeHByZXNzaW9uKGV4cHJlc3Npb24pP2FzdC5jYWxsU3RhdGVtZW50KGV4cHJlc3Npb24pOnVuZXhwZWN0ZWQocHJldmlvdXMpfWZ1bmN0aW9uIHBhcnNlSWRlbnRpZmllcigpe3ZhciBpZGVudGlmaWVyPXRva2VuLnZhbHVlO3JldHVybiBJZGVudGlmaWVyIT09dG9rZW4udHlwZSYmcmFpc2VVbmV4cGVjdGVkVG9rZW4oXFxcIjxuYW1lPlxcXCIsdG9rZW4pLG5leHQoKSxhc3QuaWRlbnRpZmllcihpZGVudGlmaWVyKX1mdW5jdGlvbiBwYXJzZUZ1bmN0aW9uRGVjbGFyYXRpb24obmFtZSxpc0xvY2FsKXt2YXIgcGFyYW1ldGVycz1bXTtpZihleHBlY3QoXFxcIihcXFwiKSwhY29uc3VtZShcXFwiKVxcXCIpKWZvcig7OylpZihJZGVudGlmaWVyPT09dG9rZW4udHlwZSl7dmFyIHBhcmFtZXRlcj1wYXJzZUlkZW50aWZpZXIoKTtpZihvcHRpb25zLnNjb3BlJiZzY29wZUlkZW50aWZpZXIocGFyYW1ldGVyKSxwYXJhbWV0ZXJzLnB1c2gocGFyYW1ldGVyKSxjb25zdW1lKFxcXCIsXFxcIikpY29udGludWU7aWYoY29uc3VtZShcXFwiKVxcXCIpKWJyZWFrfWVsc2V7aWYoVmFyYXJnTGl0ZXJhbD09PXRva2VuLnR5cGUpe3BhcmFtZXRlcnMucHVzaChwYXJzZVByaW1hcnlFeHByZXNzaW9uKCkpLGV4cGVjdChcXFwiKVxcXCIpO2JyZWFrfXJhaXNlVW5leHBlY3RlZFRva2VuKFxcXCI8bmFtZT4gb3IgJy4uLidcXFwiLHRva2VuKX12YXIgYm9keT1wYXJzZUJsb2NrKCk7cmV0dXJuIGV4cGVjdChcXFwiZW5kXFxcIiksaXNMb2NhbD1pc0xvY2FsfHwhMSxhc3QuZnVuY3Rpb25TdGF0ZW1lbnQobmFtZSxwYXJhbWV0ZXJzLGlzTG9jYWwsYm9keSl9ZnVuY3Rpb24gcGFyc2VGdW5jdGlvbk5hbWUoKXt2YXIgbmFtZSxiYXNlPXBhcnNlSWRlbnRpZmllcigpO2ZvcihvcHRpb25zLnNjb3BlJiZhdHRhY2hTY29wZShiYXNlLCExKTtjb25zdW1lKFxcXCIuXFxcIik7KW5hbWU9cGFyc2VJZGVudGlmaWVyKCksb3B0aW9ucy5zY29wZSYmYXR0YWNoU2NvcGUobmFtZSwhMSksYmFzZT1hc3QubWVtYmVyRXhwcmVzc2lvbihiYXNlLFxcXCIuXFxcIixuYW1lKTtyZXR1cm4gY29uc3VtZShcXFwiOlxcXCIpJiYobmFtZT1wYXJzZUlkZW50aWZpZXIoKSxvcHRpb25zLnNjb3BlJiZhdHRhY2hTY29wZShuYW1lLCExKSxiYXNlPWFzdC5tZW1iZXJFeHByZXNzaW9uKGJhc2UsXFxcIjpcXFwiLG5hbWUpKSxiYXNlfWZ1bmN0aW9uIHBhcnNlVGFibGVDb25zdHJ1Y3Rvcigpe2Zvcih2YXIga2V5LHZhbHVlLGZpZWxkcz1bXTs7KXtpZihQdW5jdHVhdG9yPT09dG9rZW4udHlwZSYmY29uc3VtZShcXFwiW1xcXCIpKWtleT1wYXJzZUV4cGVjdGVkRXhwcmVzc2lvbigpLGV4cGVjdChcXFwiXVxcXCIpLGV4cGVjdChcXFwiPVxcXCIpLHZhbHVlPXBhcnNlRXhwZWN0ZWRFeHByZXNzaW9uKCksZmllbGRzLnB1c2goYXN0LnRhYmxlS2V5KGtleSx2YWx1ZSkpO2Vsc2UgaWYoSWRlbnRpZmllcj09PXRva2VuLnR5cGUpa2V5PXBhcnNlRXhwZWN0ZWRFeHByZXNzaW9uKCksY29uc3VtZShcXFwiPVxcXCIpPyh2YWx1ZT1wYXJzZUV4cGVjdGVkRXhwcmVzc2lvbigpLGZpZWxkcy5wdXNoKGFzdC50YWJsZUtleVN0cmluZyhrZXksdmFsdWUpKSk6ZmllbGRzLnB1c2goYXN0LnRhYmxlVmFsdWUoa2V5KSk7ZWxzZXtpZihudWxsPT0odmFsdWU9cGFyc2VFeHByZXNzaW9uKCkpKWJyZWFrO2ZpZWxkcy5wdXNoKGFzdC50YWJsZVZhbHVlKHZhbHVlKSl9aWYoXFxcIiw7XFxcIi5pbmRleE9mKHRva2VuLnZhbHVlKT49MCluZXh0KCk7ZWxzZSBpZihcXFwifVxcXCI9PT10b2tlbi52YWx1ZSlicmVha31yZXR1cm4gZXhwZWN0KFxcXCJ9XFxcIiksYXN0LnRhYmxlQ29uc3RydWN0b3JFeHByZXNzaW9uKGZpZWxkcyl9ZnVuY3Rpb24gcGFyc2VFeHByZXNzaW9uKCl7dmFyIGV4cHJlc3Npb249cGFyc2VTdWJFeHByZXNzaW9uKDApO3JldHVybiBleHByZXNzaW9ufWZ1bmN0aW9uIHBhcnNlRXhwZWN0ZWRFeHByZXNzaW9uKCl7dmFyIGV4cHJlc3Npb249cGFyc2VFeHByZXNzaW9uKCk7cmV0dXJuIG51bGwhPWV4cHJlc3Npb24/ZXhwcmVzc2lvbjoocmFpc2VVbmV4cGVjdGVkVG9rZW4oXFxcIjxleHByZXNzaW9uPlxcXCIsdG9rZW4pLHZvaWQgMCl9ZnVuY3Rpb24gYmluYXJ5UHJlY2VkZW5jZShvcGVyYXRvcil7dmFyIGNoYXJhY3Rlcj1vcGVyYXRvci5jaGFyQ29kZUF0KDApLGxlbmd0aD1vcGVyYXRvci5sZW5ndGg7aWYoMT09PWxlbmd0aClzd2l0Y2goY2hhcmFjdGVyKXtjYXNlIDk0OnJldHVybiAxMDtjYXNlIDQyOmNhc2UgNDc6Y2FzZSAzNzpyZXR1cm4gNztjYXNlIDQzOmNhc2UgNDU6cmV0dXJuIDY7Y2FzZSA2MDpjYXNlIDYyOnJldHVybiAzfWVsc2UgaWYoMj09PWxlbmd0aClzd2l0Y2goY2hhcmFjdGVyKXtjYXNlIDQ2OnJldHVybiA1O2Nhc2UgNjA6Y2FzZSA2MjpjYXNlIDYxOmNhc2UgMTI2OnJldHVybiAzO2Nhc2UgMTExOnJldHVybiAxfWVsc2UgaWYoOTc9PT1jaGFyYWN0ZXImJlxcXCJhbmRcXFwiPT09b3BlcmF0b3IpcmV0dXJuIDI7cmV0dXJuIDB9ZnVuY3Rpb24gcGFyc2VTdWJFeHByZXNzaW9uKG1pblByZWNlZGVuY2Upe3ZhciBleHByZXNzaW9uLG9wZXJhdG9yPXRva2VuLnZhbHVlO2lmKGlzVW5hcnkodG9rZW4pKXtuZXh0KCk7dmFyIGFyZ3VtZW50PXBhcnNlU3ViRXhwcmVzc2lvbig4KTtudWxsPT1hcmd1bWVudCYmcmFpc2VVbmV4cGVjdGVkVG9rZW4oXFxcIjxleHByZXNzaW9uPlxcXCIsdG9rZW4pLGV4cHJlc3Npb249YXN0LnVuYXJ5RXhwcmVzc2lvbihvcGVyYXRvcixhcmd1bWVudCl9aWYobnVsbD09ZXhwcmVzc2lvbiYmKGV4cHJlc3Npb249cGFyc2VQcmltYXJ5RXhwcmVzc2lvbigpLG51bGw9PWV4cHJlc3Npb24mJihleHByZXNzaW9uPXBhcnNlUHJlZml4RXhwcmVzc2lvbigpKSksbnVsbD09ZXhwcmVzc2lvbilyZXR1cm4gbnVsbDtmb3IodmFyIHByZWNlZGVuY2U7Oyl7aWYob3BlcmF0b3I9dG9rZW4udmFsdWUscHJlY2VkZW5jZT1QdW5jdHVhdG9yPT09dG9rZW4udHlwZXx8S2V5d29yZD09PXRva2VuLnR5cGU/YmluYXJ5UHJlY2VkZW5jZShvcGVyYXRvcik6MCwwPT09cHJlY2VkZW5jZXx8bWluUHJlY2VkZW5jZT49cHJlY2VkZW5jZSlicmVhazsoXFxcIl5cXFwiPT09b3BlcmF0b3J8fFxcXCIuLlxcXCI9PT1vcGVyYXRvcikmJnByZWNlZGVuY2UtLSxuZXh0KCk7dmFyIHJpZ2h0PXBhcnNlU3ViRXhwcmVzc2lvbihwcmVjZWRlbmNlKTtudWxsPT1yaWdodCYmcmFpc2VVbmV4cGVjdGVkVG9rZW4oXFxcIjxleHByZXNzaW9uPlxcXCIsdG9rZW4pLGV4cHJlc3Npb249YXN0LmJpbmFyeUV4cHJlc3Npb24ob3BlcmF0b3IsZXhwcmVzc2lvbixyaWdodCl9cmV0dXJuIGV4cHJlc3Npb259ZnVuY3Rpb24gcGFyc2VQcmVmaXhFeHByZXNzaW9uKCl7dmFyIGJhc2UsbmFtZSxpc0xvY2FsO2lmKElkZW50aWZpZXI9PT10b2tlbi50eXBlKW5hbWU9dG9rZW4udmFsdWUsYmFzZT1wYXJzZUlkZW50aWZpZXIoKSxvcHRpb25zLnNjb3BlJiZhdHRhY2hTY29wZShiYXNlLGlzTG9jYWw9c2NvcGVIYXNOYW1lKG5hbWUpKTtlbHNle2lmKCFjb25zdW1lKFxcXCIoXFxcIikpcmV0dXJuIG51bGw7YmFzZT1wYXJzZUV4cGVjdGVkRXhwcmVzc2lvbigpLGV4cGVjdChcXFwiKVxcXCIpLG9wdGlvbnMuc2NvcGUmJihpc0xvY2FsPWJhc2UuaXNMb2NhbCl9Zm9yKHZhciBleHByZXNzaW9uLGlkZW50aWZpZXI7OylpZihQdW5jdHVhdG9yPT09dG9rZW4udHlwZSlzd2l0Y2godG9rZW4udmFsdWUpe2Nhc2VcXFwiW1xcXCI6bmV4dCgpLGV4cHJlc3Npb249cGFyc2VFeHBlY3RlZEV4cHJlc3Npb24oKSxiYXNlPWFzdC5pbmRleEV4cHJlc3Npb24oYmFzZSxleHByZXNzaW9uKSxleHBlY3QoXFxcIl1cXFwiKTticmVhaztjYXNlXFxcIi5cXFwiOm5leHQoKSxpZGVudGlmaWVyPXBhcnNlSWRlbnRpZmllcigpLG9wdGlvbnMuc2NvcGUmJmF0dGFjaFNjb3BlKGlkZW50aWZpZXIsaXNMb2NhbCksYmFzZT1hc3QubWVtYmVyRXhwcmVzc2lvbihiYXNlLFxcXCIuXFxcIixpZGVudGlmaWVyKTticmVhaztjYXNlXFxcIjpcXFwiOm5leHQoKSxpZGVudGlmaWVyPXBhcnNlSWRlbnRpZmllcigpLG9wdGlvbnMuc2NvcGUmJmF0dGFjaFNjb3BlKGlkZW50aWZpZXIsaXNMb2NhbCksYmFzZT1hc3QubWVtYmVyRXhwcmVzc2lvbihiYXNlLFxcXCI6XFxcIixpZGVudGlmaWVyKSxiYXNlPXBhcnNlQ2FsbEV4cHJlc3Npb24oYmFzZSk7YnJlYWs7Y2FzZVxcXCIoXFxcIjpjYXNlXFxcIntcXFwiOmJhc2U9cGFyc2VDYWxsRXhwcmVzc2lvbihiYXNlKTticmVhaztkZWZhdWx0OnJldHVybiBiYXNlfWVsc2V7aWYoU3RyaW5nTGl0ZXJhbCE9PXRva2VuLnR5cGUpYnJlYWs7YmFzZT1wYXJzZUNhbGxFeHByZXNzaW9uKGJhc2UpfXJldHVybiBiYXNlfWZ1bmN0aW9uIHBhcnNlQ2FsbEV4cHJlc3Npb24oYmFzZSl7aWYoUHVuY3R1YXRvcj09PXRva2VuLnR5cGUpc3dpdGNoKHRva2VuLnZhbHVlKXtjYXNlXFxcIihcXFwiOm5leHQoKTt2YXIgZXhwcmVzc2lvbnM9W10sZXhwcmVzc2lvbj1wYXJzZUV4cHJlc3Npb24oKTtmb3IobnVsbCE9ZXhwcmVzc2lvbiYmZXhwcmVzc2lvbnMucHVzaChleHByZXNzaW9uKTtjb25zdW1lKFxcXCIsXFxcIik7KWV4cHJlc3Npb249cGFyc2VFeHBlY3RlZEV4cHJlc3Npb24oKSxleHByZXNzaW9ucy5wdXNoKGV4cHJlc3Npb24pO3JldHVybiBleHBlY3QoXFxcIilcXFwiKSxhc3QuY2FsbEV4cHJlc3Npb24oYmFzZSxleHByZXNzaW9ucyk7Y2FzZVxcXCJ7XFxcIjpuZXh0KCk7dmFyIHRhYmxlPXBhcnNlVGFibGVDb25zdHJ1Y3RvcigpO3JldHVybiBhc3QudGFibGVDYWxsRXhwcmVzc2lvbihiYXNlLHRhYmxlKX1lbHNlIGlmKFN0cmluZ0xpdGVyYWw9PT10b2tlbi50eXBlKXJldHVybiBhc3Quc3RyaW5nQ2FsbEV4cHJlc3Npb24oYmFzZSxwYXJzZVByaW1hcnlFeHByZXNzaW9uKCkpO3JhaXNlVW5leHBlY3RlZFRva2VuKFxcXCJmdW5jdGlvbiBhcmd1bWVudHNcXFwiLHRva2VuKX1mdW5jdGlvbiBwYXJzZVByaW1hcnlFeHByZXNzaW9uKCl7dmFyIGxpdGVyYWxzPVN0cmluZ0xpdGVyYWx8TnVtZXJpY0xpdGVyYWx8Qm9vbGVhbkxpdGVyYWx8TmlsTGl0ZXJhbHxWYXJhcmdMaXRlcmFsLHZhbHVlPXRva2VuLnZhbHVlLHR5cGU9dG9rZW4udHlwZTtpZih0eXBlJmxpdGVyYWxzKXt2YXIgcmF3PWlucHV0LnNsaWNlKHRva2VuLnJhbmdlWzBdLHRva2VuLnJhbmdlWzFdKTtyZXR1cm4gbmV4dCgpLGFzdC5saXRlcmFsKHR5cGUsdmFsdWUscmF3KX1yZXR1cm4gS2V5d29yZD09PXR5cGUmJlxcXCJmdW5jdGlvblxcXCI9PT12YWx1ZT8obmV4dCgpLHBhcnNlRnVuY3Rpb25EZWNsYXJhdGlvbihudWxsKSk6Y29uc3VtZShcXFwie1xcXCIpP3BhcnNlVGFibGVDb25zdHJ1Y3RvcigpOnZvaWQgMH1mdW5jdGlvbiBwYXJzZShfaW5wdXQsX29wdGlvbnMpe3JldHVybiBfb3B0aW9ucz09PXZvaWQgMCYmXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBfaW5wdXQmJihfb3B0aW9ucz1faW5wdXQsX2lucHV0PXZvaWQgMCksX29wdGlvbnN8fChfb3B0aW9ucz17fSksaW5wdXQ9X2lucHV0fHxcXFwiXFxcIixvcHRpb25zPWV4dGVuZChkZWZhdWx0T3B0aW9ucyxfb3B0aW9ucyksaW5kZXg9MCxsaW5lPTEsbGluZVN0YXJ0PTAsbGVuZ3RoPWlucHV0Lmxlbmd0aCxzY29wZXM9W1tdXSxzY29wZURlcHRoPTAsZ2xvYmFscz1bXSxnbG9iYWxOYW1lcz1bXSxvcHRpb25zLmNvbW1lbnRzJiYoY29tbWVudHM9W10pLG9wdGlvbnMud2FpdD9leHBvcnRzOmVuZCgpfWZ1bmN0aW9uIHdyaXRlKF9pbnB1dCl7cmV0dXJuIGlucHV0Kz1faW5wdXQrXFxcIlxcXCIsbGVuZ3RoPWlucHV0Lmxlbmd0aCxleHBvcnRzfWZ1bmN0aW9uIGVuZChfaW5wdXQpe19pbnB1dCE9PXZvaWQgMCYmd3JpdGUoX2lucHV0KSxsZW5ndGg9aW5wdXQubGVuZ3RoLGxvb2thaGVhZD1yZWFkVG9rZW4oKTt2YXIgY2h1bms9cGFyc2VDaHVuaygpO3JldHVybiBvcHRpb25zLmNvbW1lbnRzJiYoY2h1bmsuY29tbWVudHM9Y29tbWVudHMpLG9wdGlvbnMuc2NvcGUmJihjaHVuay5nbG9iYWxzPWdsb2JhbHMpLGNodW5rfWV4cG9ydHMudmVyc2lvbj1cXFwiMC4wLjExXFxcIjt2YXIgaW5wdXQsb3B0aW9ucyxsZW5ndGgsaW5kZXgsdG9rZW4sbG9va2FoZWFkLGNvbW1lbnRzLHRva2VuU3RhcnQsbGluZSxsaW5lU3RhcnQsc2NvcGVzLHNjb3BlRGVwdGgsZ2xvYmFscyxnbG9iYWxOYW1lcyxkZWZhdWx0T3B0aW9ucz1leHBvcnRzLmRlZmF1bHRPcHRpb25zPXt3YWl0OiExLGNvbW1lbnRzOiEwLHNjb3BlOiExfSxFT0Y9MSxTdHJpbmdMaXRlcmFsPTIsS2V5d29yZD00LElkZW50aWZpZXI9OCxOdW1lcmljTGl0ZXJhbD0xNixQdW5jdHVhdG9yPTMyLEJvb2xlYW5MaXRlcmFsPTY0LE5pbExpdGVyYWw9MTI4LFZhcmFyZ0xpdGVyYWw9MjU2LGVycm9ycz1leHBvcnRzLmVycm9ycz17dW5leHBlY3RlZDpcXFwiVW5leHBlY3RlZCAlMSAnJTInIG5lYXIgJyUzJ1xcXCIsZXhwZWN0ZWQ6XFxcIiclMScgZXhwZWN0ZWQgbmVhciAnJTInXFxcIixleHBlY3RlZFRva2VuOlxcXCIlMSBleHBlY3RlZCBuZWFyICclMidcXFwiLHVuZmluaXNoZWRTdHJpbmc6XFxcInVuZmluaXNoZWQgc3RyaW5nIG5lYXIgJyUxJ1xcXCIsbWFsZm9ybWVkTnVtYmVyOlxcXCJtYWxmb3JtZWQgbnVtYmVyIG5lYXIgJyUxJ1xcXCJ9LGFzdD1leHBvcnRzLmFzdD17bGFiZWxTdGF0ZW1lbnQ6ZnVuY3Rpb24obGFiZWwpe3JldHVybnt0eXBlOlxcXCJMYWJlbFN0YXRlbWVudFxcXCIsbGFiZWw6bGFiZWx9fSxicmVha1N0YXRlbWVudDpmdW5jdGlvbigpe3JldHVybnt0eXBlOlxcXCJCcmVha1N0YXRlbWVudFxcXCJ9fSxnb3RvU3RhdGVtZW50OmZ1bmN0aW9uKGxhYmVsKXtyZXR1cm57dHlwZTpcXFwiR290b1N0YXRlbWVudFxcXCIsbGFiZWw6bGFiZWx9fSxyZXR1cm5TdGF0ZW1lbnQ6ZnVuY3Rpb24oYXJncyl7cmV0dXJue3R5cGU6XFxcIlJldHVyblN0YXRlbWVudFxcXCIsYXJndW1lbnRzOmFyZ3N9fSxpZlN0YXRlbWVudDpmdW5jdGlvbihjbGF1c2VzKXtyZXR1cm57dHlwZTpcXFwiSWZTdGF0ZW1lbnRcXFwiLGNsYXVzZXM6Y2xhdXNlc319LGlmQ2xhdXNlOmZ1bmN0aW9uKGNvbmRpdGlvbixib2R5KXtyZXR1cm57dHlwZTpcXFwiSWZDbGF1c2VcXFwiLGNvbmRpdGlvbjpjb25kaXRpb24sYm9keTpib2R5fX0sZWxzZWlmQ2xhdXNlOmZ1bmN0aW9uKGNvbmRpdGlvbixib2R5KXtyZXR1cm57dHlwZTpcXFwiRWxzZWlmQ2xhdXNlXFxcIixjb25kaXRpb246Y29uZGl0aW9uLGJvZHk6Ym9keX19LGVsc2VDbGF1c2U6ZnVuY3Rpb24oYm9keSl7cmV0dXJue3R5cGU6XFxcIkVsc2VDbGF1c2VcXFwiLGJvZHk6Ym9keX19LHdoaWxlU3RhdGVtZW50OmZ1bmN0aW9uKGNvbmRpdGlvbixib2R5KXtyZXR1cm57dHlwZTpcXFwiV2hpbGVTdGF0ZW1lbnRcXFwiLGNvbmRpdGlvbjpjb25kaXRpb24sYm9keTpib2R5fX0sZG9TdGF0ZW1lbnQ6ZnVuY3Rpb24oYm9keSl7cmV0dXJue3R5cGU6XFxcIkRvU3RhdGVtZW50XFxcIixib2R5OmJvZHl9fSxyZXBlYXRTdGF0ZW1lbnQ6ZnVuY3Rpb24oY29uZGl0aW9uLGJvZHkpe3JldHVybnt0eXBlOlxcXCJSZXBlYXRTdGF0ZW1lbnRcXFwiLGNvbmRpdGlvbjpjb25kaXRpb24sYm9keTpib2R5fX0sbG9jYWxTdGF0ZW1lbnQ6ZnVuY3Rpb24odmFyaWFibGVzLGluaXQpe3JldHVybnt0eXBlOlxcXCJMb2NhbFN0YXRlbWVudFxcXCIsdmFyaWFibGVzOnZhcmlhYmxlcyxpbml0OmluaXR9fSxhc3NpZ25tZW50U3RhdGVtZW50OmZ1bmN0aW9uKHZhcmlhYmxlcyxpbml0KXtyZXR1cm57dHlwZTpcXFwiQXNzaWdubWVudFN0YXRlbWVudFxcXCIsdmFyaWFibGVzOnZhcmlhYmxlcyxpbml0OmluaXR9fSxjYWxsU3RhdGVtZW50OmZ1bmN0aW9uKGV4cHJlc3Npb24pe3JldHVybnt0eXBlOlxcXCJDYWxsU3RhdGVtZW50XFxcIixleHByZXNzaW9uOmV4cHJlc3Npb259fSxmdW5jdGlvblN0YXRlbWVudDpmdW5jdGlvbihpZGVudGlmaWVyLHBhcmFtZXRlcnMsaXNMb2NhbCxib2R5KXtyZXR1cm57dHlwZTpcXFwiRnVuY3Rpb25EZWNsYXJhdGlvblxcXCIsaWRlbnRpZmllcjppZGVudGlmaWVyLGlzTG9jYWw6aXNMb2NhbCxwYXJhbWV0ZXJzOnBhcmFtZXRlcnMsYm9keTpib2R5fX0sZm9yTnVtZXJpY1N0YXRlbWVudDpmdW5jdGlvbih2YXJpYWJsZSxzdGFydCxlbmQsc3RlcCxib2R5KXtyZXR1cm57dHlwZTpcXFwiRm9yTnVtZXJpY1N0YXRlbWVudFxcXCIsdmFyaWFibGU6dmFyaWFibGUsc3RhcnQ6c3RhcnQsZW5kOmVuZCxzdGVwOnN0ZXAsYm9keTpib2R5fX0sZm9yR2VuZXJpY1N0YXRlbWVudDpmdW5jdGlvbih2YXJpYWJsZXMsaXRlcmF0b3JzLGJvZHkpe3JldHVybnt0eXBlOlxcXCJGb3JHZW5lcmljU3RhdGVtZW50XFxcIix2YXJpYWJsZXM6dmFyaWFibGVzLGl0ZXJhdG9yczppdGVyYXRvcnMsYm9keTpib2R5fX0sY2h1bms6ZnVuY3Rpb24oYm9keSl7cmV0dXJue3R5cGU6XFxcIkNodW5rXFxcIixib2R5OmJvZHl9fSxpZGVudGlmaWVyOmZ1bmN0aW9uKG5hbWUpe3JldHVybnt0eXBlOlxcXCJJZGVudGlmaWVyXFxcIixuYW1lOm5hbWV9fSxsaXRlcmFsOmZ1bmN0aW9uKHR5cGUsdmFsdWUscmF3KXtyZXR1cm4gdHlwZT10eXBlPT09U3RyaW5nTGl0ZXJhbD9cXFwiU3RyaW5nTGl0ZXJhbFxcXCI6dHlwZT09PU51bWVyaWNMaXRlcmFsP1xcXCJOdW1lcmljTGl0ZXJhbFxcXCI6dHlwZT09PUJvb2xlYW5MaXRlcmFsP1xcXCJCb29sZWFuTGl0ZXJhbFxcXCI6dHlwZT09PU5pbExpdGVyYWw/XFxcIk5pbExpdGVyYWxcXFwiOlxcXCJWYXJhcmdMaXRlcmFsXFxcIix7dHlwZTp0eXBlLHZhbHVlOnZhbHVlLHJhdzpyYXd9fSx0YWJsZUtleTpmdW5jdGlvbihrZXksdmFsdWUpe3JldHVybnt0eXBlOlxcXCJUYWJsZUtleVxcXCIsa2V5OmtleSx2YWx1ZTp2YWx1ZX19LHRhYmxlS2V5U3RyaW5nOmZ1bmN0aW9uKGtleSx2YWx1ZSl7cmV0dXJue3R5cGU6XFxcIlRhYmxlS2V5U3RyaW5nXFxcIixrZXk6a2V5LHZhbHVlOnZhbHVlfX0sdGFibGVWYWx1ZTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJue3R5cGU6XFxcIlRhYmxlVmFsdWVcXFwiLHZhbHVlOnZhbHVlfX0sdGFibGVDb25zdHJ1Y3RvckV4cHJlc3Npb246ZnVuY3Rpb24oZmllbGRzKXtyZXR1cm57dHlwZTpcXFwiVGFibGVDb25zdHJ1Y3RvckV4cHJlc3Npb25cXFwiLGZpZWxkczpmaWVsZHN9fSxiaW5hcnlFeHByZXNzaW9uOmZ1bmN0aW9uKG9wZXJhdG9yLGxlZnQscmlnaHQpe3ZhciB0eXBlPVxcXCJhbmRcXFwiPT09b3BlcmF0b3J8fFxcXCJvclxcXCI9PT1vcGVyYXRvcj9cXFwiTG9naWNhbEV4cHJlc3Npb25cXFwiOlxcXCJCaW5hcnlFeHByZXNzaW9uXFxcIjtyZXR1cm57dHlwZTp0eXBlLG9wZXJhdG9yOm9wZXJhdG9yLGxlZnQ6bGVmdCxyaWdodDpyaWdodH19LHVuYXJ5RXhwcmVzc2lvbjpmdW5jdGlvbihvcGVyYXRvcixhcmd1bWVudCl7cmV0dXJue3R5cGU6XFxcIlVuYXJ5RXhwcmVzc2lvblxcXCIsb3BlcmF0b3I6b3BlcmF0b3IsYXJndW1lbnQ6YXJndW1lbnR9fSxtZW1iZXJFeHByZXNzaW9uOmZ1bmN0aW9uKGJhc2UsaW5kZXhlcixpZGVudGlmaWVyKXtyZXR1cm57dHlwZTpcXFwiTWVtYmVyRXhwcmVzc2lvblxcXCIsaW5kZXhlcjppbmRleGVyLGlkZW50aWZpZXI6aWRlbnRpZmllcixiYXNlOmJhc2V9fSxpbmRleEV4cHJlc3Npb246ZnVuY3Rpb24oYmFzZSxpbmRleCl7cmV0dXJue3R5cGU6XFxcIkluZGV4RXhwcmVzc2lvblxcXCIsYmFzZTpiYXNlLGluZGV4OmluZGV4fX0sY2FsbEV4cHJlc3Npb246ZnVuY3Rpb24oYmFzZSxhcmdzKXtyZXR1cm57dHlwZTpcXFwiQ2FsbEV4cHJlc3Npb25cXFwiLGJhc2U6YmFzZSxhcmd1bWVudHM6YXJnc319LHRhYmxlQ2FsbEV4cHJlc3Npb246ZnVuY3Rpb24oYmFzZSxhcmdzKXtyZXR1cm57dHlwZTpcXFwiVGFibGVDYWxsRXhwcmVzc2lvblxcXCIsYmFzZTpiYXNlLGFyZ3VtZW50czphcmdzfX0sc3RyaW5nQ2FsbEV4cHJlc3Npb246ZnVuY3Rpb24oYmFzZSxhcmd1bWVudCl7cmV0dXJue3R5cGU6XFxcIlN0cmluZ0NhbGxFeHByZXNzaW9uXFxcIixiYXNlOmJhc2UsYXJndW1lbnQ6YXJndW1lbnR9fX0sc2xpY2U9QXJyYXkucHJvdG90eXBlLnNsaWNlLGluZGV4T2Y9KE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsQXJyYXkucHJvdG90eXBlLmluZGV4T2Z8fGZ1bmN0aW9uIGluZGV4T2YoZWxlbWVudCl7Zm9yKHZhciBpPTAsbGVuZ3RoPXRoaXMubGVuZ3RoO2xlbmd0aD5pO2krKylpZih0aGlzW2ldPT09ZWxlbWVudClyZXR1cm4gaTtyZXR1cm4tMX0pO2V4cG9ydHMucGFyc2U9cGFyc2UsZXhwb3J0cy53cml0ZT13cml0ZSxleHBvcnRzLmVuZD1lbmQsZXhwb3J0cy5sZXg9cmVhZFRva2VufSl9KTtcIjsiXX0=
